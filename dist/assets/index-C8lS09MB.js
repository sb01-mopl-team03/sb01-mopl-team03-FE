var eb=Object.defineProperty;var tb=(e,t,r)=>t in e?eb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var zn=(e,t,r)=>tb(e,typeof t!="symbol"?t+"":t,r);function rb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Td(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Up={exports:{}},yl={},Hp={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=Symbol.for("react.element"),sb=Symbol.for("react.portal"),ob=Symbol.for("react.fragment"),ib=Symbol.for("react.strict_mode"),ab=Symbol.for("react.profiler"),lb=Symbol.for("react.provider"),cb=Symbol.for("react.context"),ub=Symbol.for("react.forward_ref"),db=Symbol.for("react.suspense"),fb=Symbol.for("react.memo"),hb=Symbol.for("react.lazy"),bh=Symbol.iterator;function mb(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var Vp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kp=Object.assign,Gp={};function eo(e,t,r){this.props=e,this.context=t,this.refs=Gp,this.updater=r||Vp}eo.prototype.isReactComponent={};eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xp(){}Xp.prototype=eo.prototype;function _d(e,t,r){this.props=e,this.context=t,this.refs=Gp,this.updater=r||Vp}var Rd=_d.prototype=new Xp;Rd.constructor=_d;Kp(Rd,eo.prototype);Rd.isPureReactComponent=!0;var jh=Array.isArray,qp=Object.prototype.hasOwnProperty,Pd={current:null},Qp={key:!0,ref:!0,__self:!0,__source:!0};function Yp(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)qp.call(t,n)&&!Qp.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:xi,type:e,key:i,ref:a,props:s,_owner:Pd.current}}function pb(e,t){return{$$typeof:xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ad(e){return typeof e=="object"&&e!==null&&e.$$typeof===xi}function vb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Nh=/\/+/g;function ac(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vb(""+e.key):t.toString(36)}function ya(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xi:case sb:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+ac(a,0):n,jh(s)?(r="",e!=null&&(r=e.replace(Nh,"$&/")+"/"),ya(s,t,r,"",function(u){return u})):s!=null&&(Ad(s)&&(s=pb(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Nh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",jh(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ac(i,l);a+=ya(i,t,r,c,s)}else if(c=mb(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ac(i,l++),a+=ya(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $i(e,t,r){if(e==null)return e;var n=[],s=0;return ya(e,n,"","",function(i){return t.call(r,i,s++)}),n}function gb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},wa={transition:null},xb={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:wa,ReactCurrentOwner:Pd};function Jp(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:$i,forEach:function(e,t,r){$i(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $i(e,function(){t++}),t},toArray:function(e){return $i(e,function(t){return t})||[]},only:function(e){if(!Ad(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=eo;pe.Fragment=ob;pe.Profiler=ab;pe.PureComponent=_d;pe.StrictMode=ib;pe.Suspense=db;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xb;pe.act=Jp;pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Kp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Pd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)qp.call(t,c)&&!Qp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xi,type:e.type,key:s,ref:i,props:n,_owner:a}};pe.createContext=function(e){return e={$$typeof:cb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lb,_context:e},e.Consumer=e};pe.createElement=Yp;pe.createFactory=function(e){var t=Yp.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:ub,render:e}};pe.isValidElement=Ad;pe.lazy=function(e){return{$$typeof:hb,_payload:{_status:-1,_result:e},_init:gb}};pe.memo=function(e,t){return{$$typeof:fb,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=wa.transition;wa.transition={};try{e()}finally{wa.transition=t}};pe.unstable_act=Jp;pe.useCallback=function(e,t){return St.current.useCallback(e,t)};pe.useContext=function(e){return St.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return St.current.useDeferredValue(e)};pe.useEffect=function(e,t){return St.current.useEffect(e,t)};pe.useId=function(){return St.current.useId()};pe.useImperativeHandle=function(e,t,r){return St.current.useImperativeHandle(e,t,r)};pe.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return St.current.useMemo(e,t)};pe.useReducer=function(e,t,r){return St.current.useReducer(e,t,r)};pe.useRef=function(e){return St.current.useRef(e)};pe.useState=function(e){return St.current.useState(e)};pe.useSyncExternalStore=function(e,t,r){return St.current.useSyncExternalStore(e,t,r)};pe.useTransition=function(){return St.current.useTransition()};pe.version="18.3.1";Hp.exports=pe;var d=Hp.exports;const Wr=Td(d),Zp=rb({__proto__:null,default:Wr},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=d,wb=Symbol.for("react.element"),bb=Symbol.for("react.fragment"),jb=Object.prototype.hasOwnProperty,Nb=yb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sb={key:!0,ref:!0,__self:!0,__source:!0};function ev(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)jb.call(t,n)&&!Sb.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:wb,type:e,key:i,ref:a,props:s,_owner:Nb.current}}yl.Fragment=bb;yl.jsx=ev;yl.jsxs=ev;Up.exports=yl;var o=Up.exports,su={},tv={exports:{}},Bt={},rv={exports:{}},nv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,U){var q=P.length;P.push(U);e:for(;0<q;){var O=q-1>>>1,K=P[O];if(0<s(K,U))P[O]=U,P[q]=K,q=O;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var U=P[0],q=P.pop();if(q!==U){P[0]=q;e:for(var O=0,K=P.length,Z=K>>>1;O<Z;){var fe=2*(O+1)-1,de=P[fe],ye=fe+1,re=P[ye];if(0>s(de,q))ye<K&&0>s(re,de)?(P[O]=re,P[ye]=q,O=ye):(P[O]=de,P[fe]=q,O=fe);else if(ye<K&&0>s(re,q))P[O]=re,P[ye]=q,O=ye;else break e}}return U}function s(P,U){var q=P.sortIndex-U.sortIndex;return q!==0?q:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,p=3,y=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=P)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function b(P){if(x=!1,v(P),!w)if(r(c)!==null)w=!0,A(C);else{var U=r(u);U!==null&&B(b,U.startTime-P)}}function C(P,U){w=!1,x&&(x=!1,g(k),k=-1),y=!0;var q=p;try{for(v(U),f=r(c);f!==null&&(!(f.expirationTime>U)||P&&!z());){var O=f.callback;if(typeof O=="function"){f.callback=null,p=f.priorityLevel;var K=O(f.expirationTime<=U);U=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(c)&&n(c),v(U)}else n(c);f=r(c)}if(f!==null)var Z=!0;else{var fe=r(u);fe!==null&&B(b,fe.startTime-U),Z=!1}return Z}finally{f=null,p=q,y=!1}}var T=!1,S=null,k=-1,_=5,R=-1;function z(){return!(e.unstable_now()-R<_)}function N(){if(S!==null){var P=e.unstable_now();R=P;var U=!0;try{U=S(!0,P)}finally{U?E():(T=!1,S=null)}}else T=!1}var E;if(typeof m=="function")E=function(){m(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=N,E=function(){V.postMessage(null)}}else E=function(){j(N,0)};function A(P){S=P,T||(T=!0,E())}function B(P,U){k=j(function(){P(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,A(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var q=p;p=U;try{return P()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var q=p;p=P;try{return U()}finally{p=q}},e.unstable_scheduleCallback=function(P,U,q){var O=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?O+q:O):q=O,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,P={id:h++,callback:U,priorityLevel:P,startTime:q,expirationTime:K,sortIndex:-1},q>O?(P.sortIndex=q,t(u,P),r(c)===null&&P===r(u)&&(x?(g(k),k=-1):x=!0,B(b,q-O))):(P.sortIndex=K,t(c,P),w||y||(w=!0,A(C))),P},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(P){var U=p;return function(){var q=p;p=U;try{return P.apply(this,arguments)}finally{p=q}}}})(nv);rv.exports=nv;var Cb=rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb=d,Ft=Cb;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sv=new Set,Go={};function as(e,t){Us(e,t),Us(e+"Capture",t)}function Us(e,t){for(Go[e]=t,e=0;e<t.length;e++)sv.add(t[e])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=Object.prototype.hasOwnProperty,Eb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sh={},Ch={};function Tb(e){return ou.call(Ch,e)?!0:ou.call(Sh,e)?!1:Eb.test(e)?Ch[e]=!0:(Sh[e]=!0,!1)}function _b(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rb(e,t,r,n){if(t===null||typeof t>"u"||_b(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ut[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ut[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ut[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ut[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ut[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ut[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ut[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ut[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ut[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Id=/[\-:]([a-z])/g;function Od(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Id,Od);ut[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Id,Od);ut[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Id,Od);ut[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ut[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ut[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Md(e,t,r,n){var s=ut.hasOwnProperty(t)?ut[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rb(t,r,s,n)&&(r=null),n||s===null?Tb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var tn=kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),Ld=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),iv=Symbol.for("react.context"),Dd=Symbol.for("react.forward_ref"),au=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),$d=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),av=Symbol.for("react.offscreen"),kh=Symbol.iterator;function vo(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,lc;function To(e){if(lc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);lc=t&&t[1]||""}return`
`+lc+e}var cc=!1;function uc(e,t){if(!e||cc)return"";cc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{cc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?To(e):""}function Pb(e){switch(e.tag){case 5:return To(e.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 2:case 15:return e=uc(e.type,!1),e;case 11:return e=uc(e.type.render,!1),e;case 1:return e=uc(e.type,!0),e;default:return""}}function cu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ns:return"Fragment";case js:return"Portal";case iu:return"Profiler";case Ld:return"StrictMode";case au:return"Suspense";case lu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iv:return(e.displayName||"Context")+".Consumer";case ov:return(e._context.displayName||"Context")+".Provider";case Dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $d:return t=e.displayName||null,t!==null?t:cu(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return cu(e(t))}catch{}}return null}function Ab(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cu(t);case 8:return t===Ld?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ib(e){var t=lv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fi(e){e._valueTracker||(e._valueTracker=Ib(e))}function cv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uu(e,t){var r=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Eh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Cn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uv(e,t){t=t.checked,t!=null&&Md(e,"checked",t,!1)}function du(e,t){uv(e,t);var r=Cn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fu(e,t.type,r):t.hasOwnProperty("defaultValue")&&fu(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Th(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fu(e,t,r){(t!=="number"||Ma(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _o=Array.isArray;function Os(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Cn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _h(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(_o(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Cn(r)}}function dv(e,t){var r=Cn(t.value),n=Cn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Rh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bi,hv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ob=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(e){Ob.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mo[t]=Mo[e]})});function mv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mo.hasOwnProperty(e)&&Mo[e]?(""+t).trim():t+"px"}function pv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=mv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Mb=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(e,t){if(t){if(Mb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function vu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function zd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xu=null,Ms=null,Ls=null;function Ph(e){if(e=bi(e)){if(typeof xu!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Sl(t),xu(e.stateNode,e.type,t))}}function vv(e){Ms?Ls?Ls.push(e):Ls=[e]:Ms=e}function gv(){if(Ms){var e=Ms,t=Ls;if(Ls=Ms=null,Ph(e),t)for(e=0;e<t.length;e++)Ph(t[e])}}function xv(e,t){return e(t)}function yv(){}var dc=!1;function wv(e,t,r){if(dc)return e(t,r);dc=!0;try{return xv(e,t,r)}finally{dc=!1,(Ms!==null||Ls!==null)&&(yv(),gv())}}function qo(e,t){var r=e.stateNode;if(r===null)return null;var n=Sl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var yu=!1;if(qr)try{var go={};Object.defineProperty(go,"passive",{get:function(){yu=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{yu=!1}function Lb(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Lo=!1,La=null,Da=!1,wu=null,Db={onError:function(e){Lo=!0,La=e}};function $b(e,t,r,n,s,i,a,l,c){Lo=!1,La=null,Lb.apply(Db,arguments)}function zb(e,t,r,n,s,i,a,l,c){if($b.apply(this,arguments),Lo){if(Lo){var u=La;Lo=!1,La=null}else throw Error(H(198));Da||(Da=!0,wu=u)}}function ls(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ah(e){if(ls(e)!==e)throw Error(H(188))}function Fb(e){var t=e.alternate;if(!t){if(t=ls(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ah(s),e;if(i===n)return Ah(s),t;i=i.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function jv(e){return e=Fb(e),e!==null?Nv(e):null}function Nv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nv(e);if(t!==null)return t;e=e.sibling}return null}var Sv=Ft.unstable_scheduleCallback,Ih=Ft.unstable_cancelCallback,Bb=Ft.unstable_shouldYield,Wb=Ft.unstable_requestPaint,Ge=Ft.unstable_now,Ub=Ft.unstable_getCurrentPriorityLevel,Fd=Ft.unstable_ImmediatePriority,Cv=Ft.unstable_UserBlockingPriority,$a=Ft.unstable_NormalPriority,Hb=Ft.unstable_LowPriority,kv=Ft.unstable_IdlePriority,wl=null,Er=null;function Vb(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Xb,Kb=Math.log,Gb=Math.LN2;function Xb(e){return e>>>=0,e===0?32:31-(Kb(e)/Gb|0)|0}var Wi=64,Ui=4194304;function Ro(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function za(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ro(l):(i&=a,i!==0&&(n=Ro(i)))}else a=r&~s,a!==0?n=Ro(a):i!==0&&(n=Ro(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fr(t),s=1<<r,n|=e[r],t&=~s;return n}function qb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-fr(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=qb(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function bu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ev(){var e=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),e}function fc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fr(t),e[t]=r}function Yb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Bd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ee=0;function Tv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _v,Wd,Rv,Pv,Av,ju=!1,Hi=[],vn=null,gn=null,xn=null,Qo=new Map,Yo=new Map,un=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function xo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=bi(t),t!==null&&Wd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zb(e,t,r,n,s){switch(t){case"focusin":return vn=xo(vn,e,t,r,n,s),!0;case"dragenter":return gn=xo(gn,e,t,r,n,s),!0;case"mouseover":return xn=xo(xn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Qo.set(i,xo(Qo.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Yo.set(i,xo(Yo.get(i)||null,e,t,r,n,s)),!0}return!1}function Iv(e){var t=Un(e.target);if(t!==null){var r=ls(t);if(r!==null){if(t=r.tag,t===13){if(t=bv(r),t!==null){e.blockedOn=t,Av(e.priority,function(){Rv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gu=n,r.target.dispatchEvent(n),gu=null}else return t=bi(r),t!==null&&Wd(t),e.blockedOn=r,!1;t.shift()}return!0}function Mh(e,t,r){ba(e)&&r.delete(t)}function e1(){ju=!1,vn!==null&&ba(vn)&&(vn=null),gn!==null&&ba(gn)&&(gn=null),xn!==null&&ba(xn)&&(xn=null),Qo.forEach(Mh),Yo.forEach(Mh)}function yo(e,t){e.blockedOn===t&&(e.blockedOn=null,ju||(ju=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,e1)))}function Jo(e){function t(s){return yo(s,e)}if(0<Hi.length){yo(Hi[0],e);for(var r=1;r<Hi.length;r++){var n=Hi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vn!==null&&yo(vn,e),gn!==null&&yo(gn,e),xn!==null&&yo(xn,e),Qo.forEach(t),Yo.forEach(t),r=0;r<un.length;r++)n=un[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<un.length&&(r=un[0],r.blockedOn===null);)Iv(r),r.blockedOn===null&&un.shift()}var Ds=tn.ReactCurrentBatchConfig,Fa=!0;function t1(e,t,r,n){var s=Ee,i=Ds.transition;Ds.transition=null;try{Ee=1,Ud(e,t,r,n)}finally{Ee=s,Ds.transition=i}}function r1(e,t,r,n){var s=Ee,i=Ds.transition;Ds.transition=null;try{Ee=4,Ud(e,t,r,n)}finally{Ee=s,Ds.transition=i}}function Ud(e,t,r,n){if(Fa){var s=Nu(e,t,r,n);if(s===null)jc(e,t,n,Ba,r),Oh(e,n);else if(Zb(s,e,t,r,n))n.stopPropagation();else if(Oh(e,n),t&4&&-1<Jb.indexOf(e)){for(;s!==null;){var i=bi(s);if(i!==null&&_v(i),i=Nu(e,t,r,n),i===null&&jc(e,t,n,Ba,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else jc(e,t,n,null,r)}}var Ba=null;function Nu(e,t,r,n){if(Ba=null,e=zd(n),e=Un(e),e!==null)if(t=ls(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ba=e,null}function Ov(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ub()){case Fd:return 1;case Cv:return 4;case $a:case Hb:return 16;case kv:return 536870912;default:return 16}default:return 16}}var mn=null,Hd=null,ja=null;function Mv(){if(ja)return ja;var e,t=Hd,r=t.length,n,s="value"in mn?mn.value:mn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ja=s.slice(e,1<n?1-n:void 0)}function Na(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Lh(){return!1}function Wt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vi:Lh,this.isPropagationStopped=Lh,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),t}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=Wt(to),wi=Ue({},to,{view:0,detail:0}),n1=Wt(wi),hc,mc,wo,bl=Ue({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wo&&(wo&&e.type==="mousemove"?(hc=e.screenX-wo.screenX,mc=e.screenY-wo.screenY):mc=hc=0,wo=e),hc)},movementY:function(e){return"movementY"in e?e.movementY:mc}}),Dh=Wt(bl),s1=Ue({},bl,{dataTransfer:0}),o1=Wt(s1),i1=Ue({},wi,{relatedTarget:0}),pc=Wt(i1),a1=Ue({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=Wt(a1),c1=Ue({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u1=Wt(c1),d1=Ue({},to,{data:0}),$h=Wt(d1),f1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m1[e])?!!t[e]:!1}function Kd(){return p1}var v1=Ue({},wi,{key:function(e){if(e.key){var t=f1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(e){return e.type==="keypress"?Na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g1=Wt(v1),x1=Ue({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=Wt(x1),y1=Ue({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),w1=Wt(y1),b1=Ue({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),j1=Wt(b1),N1=Ue({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=Wt(N1),C1=[9,13,27,32],Gd=qr&&"CompositionEvent"in window,Do=null;qr&&"documentMode"in document&&(Do=document.documentMode);var k1=qr&&"TextEvent"in window&&!Do,Lv=qr&&(!Gd||Do&&8<Do&&11>=Do),Fh=" ",Bh=!1;function Dv(e,t){switch(e){case"keyup":return C1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $v(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function E1(e,t){switch(e){case"compositionend":return $v(t);case"keypress":return t.which!==32?null:(Bh=!0,Fh);case"textInput":return e=t.data,e===Fh&&Bh?null:e;default:return null}}function T1(e,t){if(Ss)return e==="compositionend"||!Gd&&Dv(e,t)?(e=Mv(),ja=Hd=mn=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lv&&t.locale!=="ko"?null:t.data;default:return null}}var _1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_1[e.type]:t==="textarea"}function zv(e,t,r,n){vv(n),t=Wa(t,"onChange"),0<t.length&&(r=new Vd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $o=null,Zo=null;function R1(e){Qv(e,0)}function jl(e){var t=Es(e);if(cv(t))return e}function P1(e,t){if(e==="change")return t}var Fv=!1;if(qr){var vc;if(qr){var gc="oninput"in document;if(!gc){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),gc=typeof Uh.oninput=="function"}vc=gc}else vc=!1;Fv=vc&&(!document.documentMode||9<document.documentMode)}function Hh(){$o&&($o.detachEvent("onpropertychange",Bv),Zo=$o=null)}function Bv(e){if(e.propertyName==="value"&&jl(Zo)){var t=[];zv(t,Zo,e,zd(e)),wv(R1,t)}}function A1(e,t,r){e==="focusin"?(Hh(),$o=t,Zo=r,$o.attachEvent("onpropertychange",Bv)):e==="focusout"&&Hh()}function I1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(Zo)}function O1(e,t){if(e==="click")return jl(t)}function M1(e,t){if(e==="input"||e==="change")return jl(t)}function L1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:L1;function ei(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ou.call(t,s)||!mr(e[s],t[s]))return!1}return!0}function Vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kh(e,t){var r=Vh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vh(r)}}function Wv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uv(){for(var e=window,t=Ma();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ma(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function D1(e){var t=Uv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Wv(r.ownerDocument.documentElement,r)){if(n!==null&&Xd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Kh(r,i);var a=Kh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $1=qr&&"documentMode"in document&&11>=document.documentMode,Cs=null,Su=null,zo=null,Cu=!1;function Gh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cu||Cs==null||Cs!==Ma(n)||(n=Cs,"selectionStart"in n&&Xd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zo&&ei(zo,n)||(zo=n,n=Wa(Su,"onSelect"),0<n.length&&(t=new Vd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Cs)))}function Ki(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ks={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionend:Ki("Transition","TransitionEnd")},xc={},Hv={};qr&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Nl(e){if(xc[e])return xc[e];if(!ks[e])return e;var t=ks[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hv)return xc[e]=t[r];return e}var Vv=Nl("animationend"),Kv=Nl("animationiteration"),Gv=Nl("animationstart"),Xv=Nl("transitionend"),qv=new Map,Xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){qv.set(e,t),as(t,[e])}for(var yc=0;yc<Xh.length;yc++){var wc=Xh[yc],z1=wc.toLowerCase(),F1=wc[0].toUpperCase()+wc.slice(1);An(z1,"on"+F1)}An(Vv,"onAnimationEnd");An(Kv,"onAnimationIteration");An(Gv,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Xv,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function qh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zb(n,t,void 0,e),e.currentTarget=null}function Qv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qh(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qh(s,l,u),i=c}}}if(Da)throw e=wu,Da=!1,wu=null,e}function Ie(e,t){var r=t[Ru];r===void 0&&(r=t[Ru]=new Set);var n=e+"__bubble";r.has(n)||(Yv(t,e,2,!1),r.add(n))}function bc(e,t,r){var n=0;t&&(n|=4),Yv(r,e,n,t)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Gi]){e[Gi]=!0,sv.forEach(function(r){r!=="selectionchange"&&(B1.has(r)||bc(r,!1,e),bc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gi]||(t[Gi]=!0,bc("selectionchange",!1,t))}}function Yv(e,t,r,n){switch(Ov(t)){case 1:var s=t1;break;case 4:s=r1;break;default:s=Ud}r=s.bind(null,t,r,e),s=void 0,!yu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function jc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Un(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}wv(function(){var u=i,h=zd(r),f=[];e:{var p=qv.get(e);if(p!==void 0){var y=Vd,w=e;switch(e){case"keypress":if(Na(r)===0)break e;case"keydown":case"keyup":y=g1;break;case"focusin":w="focus",y=pc;break;case"focusout":w="blur",y=pc;break;case"beforeblur":case"afterblur":y=pc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=w1;break;case Vv:case Kv:case Gv:y=l1;break;case Xv:y=j1;break;case"scroll":y=n1;break;case"wheel":y=S1;break;case"copy":case"cut":case"paste":y=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=zh}var x=(t&4)!==0,j=!x&&e==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var m=u,v;m!==null;){v=m;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=qo(m,g),b!=null&&x.push(ri(m,b,v)))),j)break;m=m.return}0<x.length&&(p=new y(p,w,null,r,h),f.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&r!==gu&&(w=r.relatedTarget||r.fromElement)&&(Un(w)||w[Qr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?Un(w):null,w!==null&&(j=ls(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=Dh,b="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=zh,b="onPointerLeave",g="onPointerEnter",m="pointer"),j=y==null?p:Es(y),v=w==null?p:Es(w),p=new x(b,m+"leave",y,r,h),p.target=j,p.relatedTarget=v,b=null,Un(h)===u&&(x=new x(g,m+"enter",w,r,h),x.target=v,x.relatedTarget=j,b=x),j=b,y&&w)t:{for(x=y,g=w,m=0,v=x;v;v=xs(v))m++;for(v=0,b=g;b;b=xs(b))v++;for(;0<m-v;)x=xs(x),m--;for(;0<v-m;)g=xs(g),v--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=xs(x),g=xs(g)}x=null}else x=null;y!==null&&Qh(f,p,y,x,!1),w!==null&&j!==null&&Qh(f,j,w,x,!0)}}e:{if(p=u?Es(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var C=P1;else if(Wh(p))if(Fv)C=M1;else{C=I1;var T=A1}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=O1);if(C&&(C=C(e,u))){zv(f,C,r,h);break e}T&&T(e,p,u),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&fu(p,"number",p.value)}switch(T=u?Es(u):window,e){case"focusin":(Wh(T)||T.contentEditable==="true")&&(Cs=T,Su=u,zo=null);break;case"focusout":zo=Su=Cs=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,Gh(f,r,h);break;case"selectionchange":if($1)break;case"keydown":case"keyup":Gh(f,r,h)}var S;if(Gd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ss?Dv(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Lv&&r.locale!=="ko"&&(Ss||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ss&&(S=Mv()):(mn=h,Hd="value"in mn?mn.value:mn.textContent,Ss=!0)),T=Wa(u,k),0<T.length&&(k=new $h(k,e,null,r,h),f.push({event:k,listeners:T}),S?k.data=S:(S=$v(r),S!==null&&(k.data=S)))),(S=k1?E1(e,r):T1(e,r))&&(u=Wa(u,"onBeforeInput"),0<u.length&&(h=new $h("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=S))}Qv(f,t)})}function ri(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qo(e,r),i!=null&&n.unshift(ri(e,i,s)),i=qo(e,t),i!=null&&n.push(ri(e,i,s))),e=e.return}return n}function xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qh(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=qo(r,i),c!=null&&a.unshift(ri(r,c,l))):s||(c=qo(r,i),c!=null&&a.push(ri(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var W1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Yh(e){return(typeof e=="string"?e:""+e).replace(W1,`
`).replace(U1,"")}function Xi(e,t,r){if(t=Yh(t),Yh(e)!==t&&r)throw Error(H(425))}function Ua(){}var ku=null,Eu=null;function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _u=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,Jh=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jh<"u"?function(e){return Jh.resolve(null).then(e).catch(K1)}:_u;function K1(e){setTimeout(function(){throw e})}function Nc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Jo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Jo(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Nr="__reactFiber$"+ro,ni="__reactProps$"+ro,Qr="__reactContainer$"+ro,Ru="__reactEvents$"+ro,G1="__reactListeners$"+ro,X1="__reactHandles$"+ro;function Un(e){var t=e[Nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qr]||r[Nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zh(e);e!==null;){if(r=e[Nr])return r;e=Zh(e)}return t}e=r,r=e.parentNode}return null}function bi(e){return e=e[Nr]||e[Qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Sl(e){return e[ni]||null}var Pu=[],Ts=-1;function In(e){return{current:e}}function Oe(e){0>Ts||(e.current=Pu[Ts],Pu[Ts]=null,Ts--)}function Re(e,t){Ts++,Pu[Ts]=e.current,e.current=t}var kn={},gt=In(kn),Rt=In(!1),Yn=kn;function Hs(e,t){var r=e.type.contextTypes;if(!r)return kn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(e){return e=e.childContextTypes,e!=null}function Ha(){Oe(Rt),Oe(gt)}function em(e,t,r){if(gt.current!==kn)throw Error(H(168));Re(gt,t),Re(Rt,r)}function Jv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(H(108,Ab(e)||"Unknown",s));return Ue({},r,n)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Yn=gt.current,Re(gt,e),Re(Rt,Rt.current),!0}function tm(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=Jv(e,t,Yn),n.__reactInternalMemoizedMergedChildContext=e,Oe(Rt),Oe(gt),Re(gt,e)):Oe(Rt),Re(Rt,r)}var Hr=null,Cl=!1,Sc=!1;function Zv(e){Hr===null?Hr=[e]:Hr.push(e)}function q1(e){Cl=!0,Zv(e)}function On(){if(!Sc&&Hr!==null){Sc=!0;var e=0,t=Ee;try{var r=Hr;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hr=null,Cl=!1}catch(s){throw Hr!==null&&(Hr=Hr.slice(e+1)),Sv(Fd,On),s}finally{Ee=t,Sc=!1}}return null}var _s=[],Rs=0,Ka=null,Ga=0,Kt=[],Gt=0,Jn=null,Vr=1,Kr="";function Fn(e,t){_s[Rs++]=Ga,_s[Rs++]=Ka,Ka=e,Ga=t}function eg(e,t,r){Kt[Gt++]=Vr,Kt[Gt++]=Kr,Kt[Gt++]=Jn,Jn=e;var n=Vr;e=Kr;var s=32-fr(n)-1;n&=~(1<<s),r+=1;var i=32-fr(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Vr=1<<32-fr(t)+s|r<<s|n,Kr=i+e}else Vr=1<<i|r<<s|n,Kr=e}function qd(e){e.return!==null&&(Fn(e,1),eg(e,1,0))}function Qd(e){for(;e===Ka;)Ka=_s[--Rs],_s[Rs]=null,Ga=_s[--Rs],_s[Rs]=null;for(;e===Jn;)Jn=Kt[--Gt],Kt[Gt]=null,Kr=Kt[--Gt],Kt[Gt]=null,Vr=Kt[--Gt],Kt[Gt]=null}var $t=null,Dt=null,Le=!1,ur=null;function tg(e,t){var r=Xt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Dt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jn!==null?{id:Vr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$t=e,Dt=null,!0):!1;default:return!1}}function Au(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iu(e){if(Le){var t=Dt;if(t){var r=t;if(!rm(e,t)){if(Au(e))throw Error(H(418));t=yn(r.nextSibling);var n=$t;t&&rm(e,t)?tg(n,r):(e.flags=e.flags&-4097|2,Le=!1,$t=e)}}else{if(Au(e))throw Error(H(418));e.flags=e.flags&-4097|2,Le=!1,$t=e}}}function nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function qi(e){if(e!==$t)return!1;if(!Le)return nm(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tu(e.type,e.memoizedProps)),t&&(t=Dt)){if(Au(e))throw rg(),Error(H(418));for(;t;)tg(e,t),t=yn(t.nextSibling)}if(nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dt=yn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=$t?yn(e.stateNode.nextSibling):null;return!0}function rg(){for(var e=Dt;e;)e=yn(e.nextSibling)}function Vs(){Dt=$t=null,Le=!1}function Yd(e){ur===null?ur=[e]:ur.push(e)}var Q1=tn.ReactCurrentBatchConfig;function bo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sm(e){var t=e._init;return t(e._payload)}function ng(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Nn(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,v,b){return m===null||m.tag!==6?(m=Pc(v,g.mode,b),m.return=g,m):(m=s(m,v),m.return=g,m)}function c(g,m,v,b){var C=v.type;return C===Ns?h(g,m,v.props.children,b,v.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ln&&sm(C)===m.type)?(b=s(m,v.props),b.ref=bo(g,m,v),b.return=g,b):(b=Ra(v.type,v.key,v.props,null,g.mode,b),b.ref=bo(g,m,v),b.return=g,b)}function u(g,m,v,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Ac(v,g.mode,b),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function h(g,m,v,b,C){return m===null||m.tag!==7?(m=qn(v,g.mode,b,C),m.return=g,m):(m=s(m,v),m.return=g,m)}function f(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Pc(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zi:return v=Ra(m.type,m.key,m.props,null,g.mode,v),v.ref=bo(g,null,m),v.return=g,v;case js:return m=Ac(m,g.mode,v),m.return=g,m;case ln:var b=m._init;return f(g,b(m._payload),v)}if(_o(m)||vo(m))return m=qn(m,g.mode,v,null),m.return=g,m;Qi(g,m)}return null}function p(g,m,v,b){var C=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(g,m,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zi:return v.key===C?c(g,m,v,b):null;case js:return v.key===C?u(g,m,v,b):null;case ln:return C=v._init,p(g,m,C(v._payload),b)}if(_o(v)||vo(v))return C!==null?null:h(g,m,v,b,null);Qi(g,v)}return null}function y(g,m,v,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,l(m,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zi:return g=g.get(b.key===null?v:b.key)||null,c(m,g,b,C);case js:return g=g.get(b.key===null?v:b.key)||null,u(m,g,b,C);case ln:var T=b._init;return y(g,m,v,T(b._payload),C)}if(_o(b)||vo(b))return g=g.get(v)||null,h(m,g,b,C,null);Qi(m,b)}return null}function w(g,m,v,b){for(var C=null,T=null,S=m,k=m=0,_=null;S!==null&&k<v.length;k++){S.index>k?(_=S,S=null):_=S.sibling;var R=p(g,S,v[k],b);if(R===null){S===null&&(S=_);break}e&&S&&R.alternate===null&&t(g,S),m=i(R,m,k),T===null?C=R:T.sibling=R,T=R,S=_}if(k===v.length)return r(g,S),Le&&Fn(g,k),C;if(S===null){for(;k<v.length;k++)S=f(g,v[k],b),S!==null&&(m=i(S,m,k),T===null?C=S:T.sibling=S,T=S);return Le&&Fn(g,k),C}for(S=n(g,S);k<v.length;k++)_=y(S,g,k,v[k],b),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?k:_.key),m=i(_,m,k),T===null?C=_:T.sibling=_,T=_);return e&&S.forEach(function(z){return t(g,z)}),Le&&Fn(g,k),C}function x(g,m,v,b){var C=vo(v);if(typeof C!="function")throw Error(H(150));if(v=C.call(v),v==null)throw Error(H(151));for(var T=C=null,S=m,k=m=0,_=null,R=v.next();S!==null&&!R.done;k++,R=v.next()){S.index>k?(_=S,S=null):_=S.sibling;var z=p(g,S,R.value,b);if(z===null){S===null&&(S=_);break}e&&S&&z.alternate===null&&t(g,S),m=i(z,m,k),T===null?C=z:T.sibling=z,T=z,S=_}if(R.done)return r(g,S),Le&&Fn(g,k),C;if(S===null){for(;!R.done;k++,R=v.next())R=f(g,R.value,b),R!==null&&(m=i(R,m,k),T===null?C=R:T.sibling=R,T=R);return Le&&Fn(g,k),C}for(S=n(g,S);!R.done;k++,R=v.next())R=y(S,g,k,R.value,b),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?k:R.key),m=i(R,m,k),T===null?C=R:T.sibling=R,T=R);return e&&S.forEach(function(N){return t(g,N)}),Le&&Fn(g,k),C}function j(g,m,v,b){if(typeof v=="object"&&v!==null&&v.type===Ns&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case zi:e:{for(var C=v.key,T=m;T!==null;){if(T.key===C){if(C=v.type,C===Ns){if(T.tag===7){r(g,T.sibling),m=s(T,v.props.children),m.return=g,g=m;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ln&&sm(C)===T.type){r(g,T.sibling),m=s(T,v.props),m.ref=bo(g,T,v),m.return=g,g=m;break e}r(g,T);break}else t(g,T);T=T.sibling}v.type===Ns?(m=qn(v.props.children,g.mode,b,v.key),m.return=g,g=m):(b=Ra(v.type,v.key,v.props,null,g.mode,b),b.ref=bo(g,m,v),b.return=g,g=b)}return a(g);case js:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=Ac(v,g.mode,b),m.return=g,g=m}return a(g);case ln:return T=v._init,j(g,m,T(v._payload),b)}if(_o(v))return w(g,m,v,b);if(vo(v))return x(g,m,v,b);Qi(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,v),m.return=g,g=m):(r(g,m),m=Pc(v,g.mode,b),m.return=g,g=m),a(g)):r(g,m)}return j}var Ks=ng(!0),sg=ng(!1),Xa=In(null),qa=null,Ps=null,Jd=null;function Zd(){Jd=Ps=qa=null}function ef(e){var t=Xa.current;Oe(Xa),e._currentValue=t}function Ou(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $s(e,t){qa=e,Jd=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(Jd!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(qa===null)throw Error(H(308));Ps=e,qa.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Hn=null;function tf(e){Hn===null?Hn=[e]:Hn.push(e)}function og(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,tf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Yr(e,n)}function Yr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cn=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ig(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Yr(e,r)}return s=n.interleaved,s===null?(t.next=t,tf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Yr(e,r)}function Sa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bd(e,r)}}function om(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qa(e,t,r,n){var s=e.updateQueue;cn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var p=l.lane,y=l.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(p=t,y=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(y,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,p=typeof w=="function"?w.call(y,f,p):w,p==null)break e;f=Ue({},f,p);break e;case 2:cn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);es|=a,e.lanes=a,e.memoizedState=f}}function im(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var ji={},Tr=In(ji),si=In(ji),oi=In(ji);function Vn(e){if(e===ji)throw Error(H(174));return e}function nf(e,t){switch(Re(oi,t),Re(si,e),Re(Tr,ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mu(t,e)}Oe(Tr),Re(Tr,t)}function Gs(){Oe(Tr),Oe(si),Oe(oi)}function ag(e){Vn(oi.current);var t=Vn(Tr.current),r=mu(t,e.type);t!==r&&(Re(si,e),Re(Tr,r))}function sf(e){si.current===e&&(Oe(Tr),Oe(si))}var Fe=In(0);function Ya(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cc=[];function of(){for(var e=0;e<Cc.length;e++)Cc[e]._workInProgressVersionPrimary=null;Cc.length=0}var Ca=tn.ReactCurrentDispatcher,kc=tn.ReactCurrentBatchConfig,Zn=0,We=null,Ze=null,tt=null,Ja=!1,Fo=!1,ii=0,Y1=0;function ht(){throw Error(H(321))}function af(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mr(e[r],t[r]))return!1;return!0}function lf(e,t,r,n,s,i){if(Zn=i,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ca.current=e===null||e.memoizedState===null?tj:rj,e=r(n,s),Fo){i=0;do{if(Fo=!1,ii=0,25<=i)throw Error(H(301));i+=1,tt=Ze=null,t.updateQueue=null,Ca.current=nj,e=r(n,s)}while(Fo)}if(Ca.current=Za,t=Ze!==null&&Ze.next!==null,Zn=0,tt=Ze=We=null,Ja=!1,t)throw Error(H(300));return e}function cf(){var e=ii!==0;return ii=0,e}function jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?We.memoizedState=tt=e:tt=tt.next=e,tt}function Jt(){if(Ze===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=tt===null?We.memoizedState:tt.next;if(t!==null)tt=t,Ze=e;else{if(e===null)throw Error(H(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},tt===null?We.memoizedState=tt=e:tt=tt.next=e}return tt}function ai(e,t){return typeof t=="function"?t(e):t}function Ec(e){var t=Jt(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=Ze,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((Zn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,We.lanes|=h,es|=h}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,mr(n,t.memoizedState)||(_t=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,We.lanes|=i,es|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tc(e){var t=Jt(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);mr(i,t.memoizedState)||(_t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function lg(){}function cg(e,t){var r=We,n=Jt(),s=t(),i=!mr(n.memoizedState,s);if(i&&(n.memoizedState=s,_t=!0),n=n.queue,uf(fg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,li(9,dg.bind(null,r,n,s,t),void 0,null),rt===null)throw Error(H(349));Zn&30||ug(r,t,s)}return s}function ug(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dg(e,t,r,n){t.value=r,t.getSnapshot=n,hg(t)&&mg(e)}function fg(e,t,r){return r(function(){hg(t)&&mg(e)})}function hg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mr(e,r)}catch{return!0}}function mg(e){var t=Yr(e,1);t!==null&&hr(t,e,1,-1)}function am(e){var t=jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=ej.bind(null,We,e),[t.memoizedState,e]}function li(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pg(){return Jt().memoizedState}function ka(e,t,r,n){var s=jr();We.flags|=e,s.memoizedState=li(1|t,r,void 0,n===void 0?null:n)}function kl(e,t,r,n){var s=Jt();n=n===void 0?null:n;var i=void 0;if(Ze!==null){var a=Ze.memoizedState;if(i=a.destroy,n!==null&&af(n,a.deps)){s.memoizedState=li(t,r,i,n);return}}We.flags|=e,s.memoizedState=li(1|t,r,i,n)}function lm(e,t){return ka(8390656,8,e,t)}function uf(e,t){return kl(2048,8,e,t)}function vg(e,t){return kl(4,2,e,t)}function gg(e,t){return kl(4,4,e,t)}function xg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yg(e,t,r){return r=r!=null?r.concat([e]):null,kl(4,4,xg.bind(null,t,e),r)}function df(){}function wg(e,t){var r=Jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&af(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bg(e,t){var r=Jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&af(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jg(e,t,r){return Zn&21?(mr(r,t)||(r=Ev(),We.lanes|=r,es|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=r)}function J1(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=kc.transition;kc.transition={};try{e(!1),t()}finally{Ee=r,kc.transition=n}}function Ng(){return Jt().memoizedState}function Z1(e,t,r){var n=jn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sg(e))Cg(t,r);else if(r=og(e,t,r,n),r!==null){var s=jt();hr(r,e,n,s),kg(r,t,n)}}function ej(e,t,r){var n=jn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sg(e))Cg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,mr(l,a)){var c=t.interleaved;c===null?(s.next=s,tf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=og(e,t,s,n),r!==null&&(s=jt(),hr(r,e,n,s),kg(r,t,n))}}function Sg(e){var t=e.alternate;return e===We||t!==null&&t===We}function Cg(e,t){Fo=Ja=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bd(e,r)}}var Za={readContext:Yt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},tj={readContext:Yt,useCallback:function(e,t){return jr().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:lm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ka(4194308,4,xg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var r=jr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Z1.bind(null,We,e),[n.memoizedState,e]},useRef:function(e){var t=jr();return e={current:e},t.memoizedState=e},useState:am,useDebugValue:df,useDeferredValue:function(e){return jr().memoizedState=e},useTransition:function(){var e=am(!1),t=e[0];return e=J1.bind(null,e[1]),jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=We,s=jr();if(Le){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),rt===null)throw Error(H(349));Zn&30||ug(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,lm(fg.bind(null,n,i,e),[e]),n.flags|=2048,li(9,dg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=jr(),t=rt.identifierPrefix;if(Le){var r=Kr,n=Vr;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ii++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Y1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rj={readContext:Yt,useCallback:wg,useContext:Yt,useEffect:uf,useImperativeHandle:yg,useInsertionEffect:vg,useLayoutEffect:gg,useMemo:bg,useReducer:Ec,useRef:pg,useState:function(){return Ec(ai)},useDebugValue:df,useDeferredValue:function(e){var t=Jt();return jg(t,Ze.memoizedState,e)},useTransition:function(){var e=Ec(ai)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:lg,useSyncExternalStore:cg,useId:Ng,unstable_isNewReconciler:!1},nj={readContext:Yt,useCallback:wg,useContext:Yt,useEffect:uf,useImperativeHandle:yg,useInsertionEffect:vg,useLayoutEffect:gg,useMemo:bg,useReducer:Tc,useRef:pg,useState:function(){return Tc(ai)},useDebugValue:df,useDeferredValue:function(e){var t=Jt();return Ze===null?t.memoizedState=e:jg(t,Ze.memoizedState,e)},useTransition:function(){var e=Tc(ai)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:lg,useSyncExternalStore:cg,useId:Ng,unstable_isNewReconciler:!1};function lr(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var El={isMounted:function(e){return(e=e._reactInternals)?ls(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jt(),s=jn(e),i=Gr(n,s);i.payload=t,r!=null&&(i.callback=r),t=wn(e,i,s),t!==null&&(hr(t,e,s,n),Sa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jt(),s=jn(e),i=Gr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=wn(e,i,s),t!==null&&(hr(t,e,s,n),Sa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jt(),n=jn(e),s=Gr(r,n);s.tag=2,t!=null&&(s.callback=t),t=wn(e,s,n),t!==null&&(hr(t,e,n,r),Sa(t,e,n))}};function cm(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ei(r,n)||!ei(s,i):!0}function Eg(e,t,r){var n=!1,s=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=Yt(i):(s=Pt(t)?Yn:gt.current,n=t.contextTypes,i=(n=n!=null)?Hs(e,s):kn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=El,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function um(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&El.enqueueReplaceState(t,t.state,null)}function Lu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},rf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Yt(i):(i=Pt(t)?Yn:gt.current,s.context=Hs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&El.enqueueReplaceState(s,s.state,null),Qa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xs(e,t){try{var r="",n=t;do r+=Pb(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function _c(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Du(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sj=typeof WeakMap=="function"?WeakMap:Map;function Tg(e,t,r){r=Gr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){tl||(tl=!0,Gu=n),Du(e,t)},r}function _g(e,t,r){r=Gr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Du(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Du(e,t),typeof n!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function dm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=xj.bind(null,e,t,r),t.then(e,e))}function fm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gr(-1,1),t.tag=2,wn(r,t,1))),r.lanes|=1),e)}var oj=tn.ReactCurrentOwner,_t=!1;function wt(e,t,r,n){t.child=e===null?sg(t,null,r,n):Ks(t,e.child,r,n)}function mm(e,t,r,n,s){r=r.render;var i=t.ref;return $s(t,s),n=lf(e,t,r,n,i,s),r=cf(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jr(e,t,s)):(Le&&r&&qd(t),t.flags|=1,wt(e,t,n,s),t.child)}function pm(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!yf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Rg(e,t,i,n,s)):(e=Ra(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ei,r(a,n)&&e.ref===t.ref)return Jr(e,t,s)}return t.flags|=1,e=Nn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Rg(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ei(i,n)&&e.ref===t.ref)if(_t=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Jr(e,t,s)}return $u(e,t,r,n,s)}function Pg(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Is,Ot),Ot|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Is,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Re(Is,Ot),Ot|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Re(Is,Ot),Ot|=n;return wt(e,t,s,r),t.child}function Ag(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $u(e,t,r,n,s){var i=Pt(r)?Yn:gt.current;return i=Hs(t,i),$s(t,s),r=lf(e,t,r,n,i,s),n=cf(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jr(e,t,s)):(Le&&n&&qd(t),t.flags|=1,wt(e,t,r,s),t.child)}function vm(e,t,r,n,s){if(Pt(r)){var i=!0;Va(t)}else i=!1;if($s(t,s),t.stateNode===null)Ea(e,t),Eg(t,r,n),Lu(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Yt(u):(u=Pt(r)?Yn:gt.current,u=Hs(t,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&um(t,a,n,u),cn=!1;var p=t.memoizedState;a.state=p,Qa(t,n,a,s),c=t.memoizedState,l!==n||p!==c||Rt.current||cn?(typeof h=="function"&&(Mu(t,r,h,n),c=t.memoizedState),(l=cn||cm(t,r,l,n,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ig(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:lr(t.type,l),a.props=u,f=t.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Yt(c):(c=Pt(r)?Yn:gt.current,c=Hs(t,c));var y=r.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&um(t,a,n,c),cn=!1,p=t.memoizedState,a.state=p,Qa(t,n,a,s);var w=t.memoizedState;l!==f||p!==w||Rt.current||cn?(typeof y=="function"&&(Mu(t,r,y,n),w=t.memoizedState),(u=cn||cm(t,r,u,n,p,w,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return zu(e,t,r,n,i,s)}function zu(e,t,r,n,s,i){Ag(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&tm(t,r,!1),Jr(e,t,i);n=t.stateNode,oj.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ks(t,e.child,null,i),t.child=Ks(t,null,l,i)):wt(e,t,l,i),t.memoizedState=n.state,s&&tm(t,r,!0),t.child}function Ig(e){var t=e.stateNode;t.pendingContext?em(e,t.pendingContext,t.pendingContext!==t.context):t.context&&em(e,t.context,!1),nf(e,t.containerInfo)}function gm(e,t,r,n,s){return Vs(),Yd(s),t.flags|=256,wt(e,t,r,n),t.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function Bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Og(e,t,r){var n=t.pendingProps,s=Fe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(Fe,s&1),e===null)return Iu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Rl(a,n,0,null),e=qn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bu(r),t.memoizedState=Fu,e):ff(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ij(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Nn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Nn(l,i):(i=qn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Bu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Fu,n}return i=e.child,e=i.sibling,n=Nn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ff(e,t){return t=Rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yi(e,t,r,n){return n!==null&&Yd(n),Ks(t,e.child,null,r),e=ff(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ij(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=_c(Error(H(422))),Yi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Rl({mode:"visible",children:n.children},s,0,null),i=qn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ks(t,e.child,null,a),t.child.memoizedState=Bu(a),t.memoizedState=Fu,i);if(!(t.mode&1))return Yi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(H(419)),n=_c(i,n,void 0),Yi(e,t,a,n)}if(l=(a&e.childLanes)!==0,_t||l){if(n=rt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yr(e,s),hr(n,e,s,-1))}return xf(),n=_c(Error(H(421))),Yi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Dt=yn(s.nextSibling),$t=t,Le=!0,ur=null,e!==null&&(Kt[Gt++]=Vr,Kt[Gt++]=Kr,Kt[Gt++]=Jn,Vr=e.id,Kr=e.overflow,Jn=t),t=ff(t,n.children),t.flags|=4096,t)}function xm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ou(e.return,t,r)}function Rc(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Mg(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(wt(e,t,n.children,r),n=Fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,r,t);else if(e.tag===19)xm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(Fe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ya(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Rc(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ya(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Rc(t,!0,r,null,i);break;case"together":Rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),es|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=Nn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aj(e,t,r){switch(t.tag){case 3:Ig(t),Vs();break;case 5:ag(t);break;case 1:Pt(t.type)&&Va(t);break;case 4:nf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Re(Xa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(Fe,Fe.current&1),t.flags|=128,null):r&t.child.childLanes?Og(e,t,r):(Re(Fe,Fe.current&1),e=Jr(e,t,r),e!==null?e.sibling:null);Re(Fe,Fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Mg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,Pg(e,t,r)}return Jr(e,t,r)}var Lg,Wu,Dg,$g;Lg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wu=function(){};Dg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Vn(Tr.current);var i=null;switch(r){case"input":s=uu(e,s),n=uu(e,n),i=[];break;case"select":s=Ue({},s,{value:void 0}),n=Ue({},n,{value:void 0}),i=[];break;case"textarea":s=hu(e,s),n=hu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ua)}pu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Go.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Go.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};$g=function(e,t,r,n){r!==n&&(t.flags|=4)};function jo(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lj(e,t,r){var n=t.pendingProps;switch(Qd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return Pt(t.type)&&Ha(),mt(t),null;case 3:return n=t.stateNode,Gs(),Oe(Rt),Oe(gt),of(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ur!==null&&(Qu(ur),ur=null))),Wu(e,t),mt(t),null;case 5:sf(t);var s=Vn(oi.current);if(r=t.type,e!==null&&t.stateNode!=null)Dg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return mt(t),null}if(e=Vn(Tr.current),qi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Nr]=t,n[ni]=i,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(s=0;s<Po.length;s++)Ie(Po[s],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Eh(n,i),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",n);break;case"textarea":_h(n,i),Ie("invalid",n)}pu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xi(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xi(n.textContent,l,e),s=["children",""+l]):Go.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ie("scroll",n)}switch(r){case"input":Fi(n),Th(n,i,!0);break;case"textarea":Fi(n),Rh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ua)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Nr]=t,e[ni]=n,Lg(e,t,!1,!1),t.stateNode=e;e:{switch(a=vu(r,n),r){case"dialog":Ie("cancel",e),Ie("close",e),s=n;break;case"iframe":case"object":case"embed":Ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<Po.length;s++)Ie(Po[s],e);s=n;break;case"source":Ie("error",e),s=n;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=n;break;case"details":Ie("toggle",e),s=n;break;case"input":Eh(e,n),s=uu(e,n),Ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ue({},n,{value:void 0}),Ie("invalid",e);break;case"textarea":_h(e,n),s=hu(e,n),Ie("invalid",e);break;default:s=n}pu(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?pv(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hv(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xo(e,c):typeof c=="number"&&Xo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Go.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",e):c!=null&&Md(e,i,c,a))}switch(r){case"input":Fi(e),Th(e,n,!1);break;case"textarea":Fi(e),Rh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Cn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Os(e,!!n.multiple,i,!1):n.defaultValue!=null&&Os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ua)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)$g(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=Vn(oi.current),Vn(Tr.current),qi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nr]=t,(i=n.nodeValue!==r)&&(e=$t,e!==null))switch(e.tag){case 3:Xi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nr]=t,t.stateNode=n}return mt(t),null;case 13:if(Oe(Fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Dt!==null&&t.mode&1&&!(t.flags&128))rg(),Vs(),t.flags|=98560,i=!1;else if(i=qi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Nr]=t}else Vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),i=!1}else ur!==null&&(Qu(ur),ur=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?et===0&&(et=3):xf())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return Gs(),Wu(e,t),e===null&&ti(t.stateNode.containerInfo),mt(t),null;case 10:return ef(t.type._context),mt(t),null;case 17:return Pt(t.type)&&Ha(),mt(t),null;case 19:if(Oe(Fe),i=t.memoizedState,i===null)return mt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)jo(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ya(e),a!==null){for(t.flags|=128,jo(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>qs&&(t.flags|=128,n=!0,jo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ya(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Le)return mt(t),null}else 2*Ge()-i.renderingStartTime>qs&&r!==1073741824&&(t.flags|=128,n=!0,jo(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,r=Fe.current,Re(Fe,n?r&1|2:r&1),t):(mt(t),null);case 22:case 23:return gf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ot&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function cj(e,t){switch(Qd(t),t.tag){case 1:return Pt(t.type)&&Ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),Oe(Rt),Oe(gt),of(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sf(t),null;case 13:if(Oe(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Fe),null;case 4:return Gs(),null;case 10:return ef(t.type._context),null;case 22:case 23:return gf(),null;case 24:return null;default:return null}}var Ji=!1,pt=!1,uj=typeof WeakSet=="function"?WeakSet:Set,ne=null;function As(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Uu(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var ym=!1;function dj(e,t){if(ku=Fa,e=Uv(),Xd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=e,p=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===e)break t;if(p===r&&++u===s&&(l=a),p===i&&++h===n&&(c=a),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eu={focusedElem:e,selectionRange:r},Fa=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:lr(t.type,x),j);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(b){Ve(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return w=ym,ym=!1,w}function Bo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uu(t,r,i)}s=s.next}while(s!==n)}}function Tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function zg(e){var t=e.alternate;t!==null&&(e.alternate=null,zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[ni],delete t[Ru],delete t[G1],delete t[X1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fg(e){return e.tag===5||e.tag===3||e.tag===4}function wm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ua));else if(n!==4&&(e=e.child,e!==null))for(Vu(e,t,r),e=e.sibling;e!==null;)Vu(e,t,r),e=e.sibling}function Ku(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ku(e,t,r),e=e.sibling;e!==null;)Ku(e,t,r),e=e.sibling}var it=null,cr=!1;function sn(e,t,r){for(r=r.child;r!==null;)Bg(e,t,r),r=r.sibling}function Bg(e,t,r){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(wl,r)}catch{}switch(r.tag){case 5:pt||As(r,t);case 6:var n=it,s=cr;it=null,sn(e,t,r),it=n,cr=s,it!==null&&(cr?(e=it,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):it.removeChild(r.stateNode));break;case 18:it!==null&&(cr?(e=it,r=r.stateNode,e.nodeType===8?Nc(e.parentNode,r):e.nodeType===1&&Nc(e,r),Jo(e)):Nc(it,r.stateNode));break;case 4:n=it,s=cr,it=r.stateNode.containerInfo,cr=!0,sn(e,t,r),it=n,cr=s;break;case 0:case 11:case 14:case 15:if(!pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Uu(r,t,a),s=s.next}while(s!==n)}sn(e,t,r);break;case 1:if(!pt&&(As(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ve(r,t,l)}sn(e,t,r);break;case 21:sn(e,t,r);break;case 22:r.mode&1?(pt=(n=pt)||r.memoizedState!==null,sn(e,t,r),pt=n):sn(e,t,r);break;default:sn(e,t,r)}}function bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uj),t.forEach(function(n){var s=wj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function sr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:it=l.stateNode,cr=!1;break e;case 3:it=l.stateNode.containerInfo,cr=!0;break e;case 4:it=l.stateNode.containerInfo,cr=!0;break e}l=l.return}if(it===null)throw Error(H(160));Bg(i,a,s),it=null,cr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wg(t,e),t=t.sibling}function Wg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sr(t,e),br(e),n&4){try{Bo(3,e,e.return),Tl(3,e)}catch(x){Ve(e,e.return,x)}try{Bo(5,e,e.return)}catch(x){Ve(e,e.return,x)}}break;case 1:sr(t,e),br(e),n&512&&r!==null&&As(r,r.return);break;case 5:if(sr(t,e),br(e),n&512&&r!==null&&As(r,r.return),e.flags&32){var s=e.stateNode;try{Xo(s,"")}catch(x){Ve(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&uv(s,i),vu(l,a);var u=vu(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?pv(s,f):h==="dangerouslySetInnerHTML"?hv(s,f):h==="children"?Xo(s,f):Md(s,h,f,u)}switch(l){case"input":du(s,i);break;case"textarea":dv(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Os(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Os(s,!!i.multiple,i.defaultValue,!0):Os(s,!!i.multiple,i.multiple?[]:"",!1))}s[ni]=i}catch(x){Ve(e,e.return,x)}}break;case 6:if(sr(t,e),br(e),n&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ve(e,e.return,x)}}break;case 3:if(sr(t,e),br(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jo(t.containerInfo)}catch(x){Ve(e,e.return,x)}break;case 4:sr(t,e),br(e);break;case 13:sr(t,e),br(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pf=Ge())),n&4&&bm(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(pt=(u=pt)||h,sr(t,e),pt=u):sr(t,e),br(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(ne=e,h=e.child;h!==null;){for(f=ne=h;ne!==null;){switch(p=ne,y=p.child,p.tag){case 0:case 11:case 14:case 15:Bo(4,p,p.return);break;case 1:As(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ve(n,r,x)}}break;case 5:As(p,p.return);break;case 22:if(p.memoizedState!==null){Nm(f);continue}}y!==null?(y.return=p,ne=y):Nm(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mv("display",a))}catch(x){Ve(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ve(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sr(t,e),br(e),n&4&&bm(e);break;case 21:break;default:sr(t,e),br(e)}}function br(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fg(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xo(s,""),n.flags&=-33);var i=wm(e);Ku(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=wm(e);Vu(e,l,a);break;default:throw Error(H(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fj(e,t,r){ne=e,Ug(e)}function Ug(e,t,r){for(var n=(e.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ji;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pt;l=Ji;var u=pt;if(Ji=a,(pt=c)&&!u)for(ne=s;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?Sm(s):c!==null?(c.return=a,ne=c):Sm(s);for(;i!==null;)ne=i,Ug(i),i=i.sibling;ne=s,Ji=l,pt=u}jm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):jm(e)}}function jm(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||Tl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:lr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&im(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}im(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Jo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}pt||t.flags&512&&Hu(t)}catch(p){Ve(t,t.return,p)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Nm(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Sm(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tl(4,t)}catch(c){Ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ve(t,s,c)}}var i=t.return;try{Hu(t)}catch(c){Ve(t,i,c)}break;case 5:var a=t.return;try{Hu(t)}catch(c){Ve(t,a,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ne=l;break}ne=t.return}}var hj=Math.ceil,el=tn.ReactCurrentDispatcher,hf=tn.ReactCurrentOwner,qt=tn.ReactCurrentBatchConfig,je=0,rt=null,Qe=null,ct=0,Ot=0,Is=In(0),et=0,ci=null,es=0,_l=0,mf=0,Wo=null,Et=null,pf=0,qs=1/0,Ur=null,tl=!1,Gu=null,bn=null,Zi=!1,pn=null,rl=0,Uo=0,Xu=null,Ta=-1,_a=0;function jt(){return je&6?Ge():Ta!==-1?Ta:Ta=Ge()}function jn(e){return e.mode&1?je&2&&ct!==0?ct&-ct:Q1.transition!==null?(_a===0&&(_a=Ev()),_a):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Ov(e.type)),e):1}function hr(e,t,r,n){if(50<Uo)throw Uo=0,Xu=null,Error(H(185));yi(e,r,n),(!(je&2)||e!==rt)&&(e===rt&&(!(je&2)&&(_l|=r),et===4&&dn(e,ct)),At(e,n),r===1&&je===0&&!(t.mode&1)&&(qs=Ge()+500,Cl&&On()))}function At(e,t){var r=e.callbackNode;Qb(e,t);var n=za(e,e===rt?ct:0);if(n===0)r!==null&&Ih(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ih(r),t===1)e.tag===0?q1(Cm.bind(null,e)):Zv(Cm.bind(null,e)),V1(function(){!(je&6)&&On()}),r=null;else{switch(Tv(n)){case 1:r=Fd;break;case 4:r=Cv;break;case 16:r=$a;break;case 536870912:r=kv;break;default:r=$a}r=Yg(r,Hg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Hg(e,t){if(Ta=-1,_a=0,je&6)throw Error(H(327));var r=e.callbackNode;if(zs()&&e.callbackNode!==r)return null;var n=za(e,e===rt?ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=nl(e,n);else{t=n;var s=je;je|=2;var i=Kg();(rt!==e||ct!==t)&&(Ur=null,qs=Ge()+500,Xn(e,t));do try{vj();break}catch(l){Vg(e,l)}while(!0);Zd(),el.current=i,je=s,Qe!==null?t=0:(rt=null,ct=0,t=et)}if(t!==0){if(t===2&&(s=bu(e),s!==0&&(n=s,t=qu(e,s))),t===1)throw r=ci,Xn(e,0),dn(e,n),At(e,Ge()),r;if(t===6)dn(e,n);else{if(s=e.current.alternate,!(n&30)&&!mj(s)&&(t=nl(e,n),t===2&&(i=bu(e),i!==0&&(n=i,t=qu(e,i))),t===1))throw r=ci,Xn(e,0),dn(e,n),At(e,Ge()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:Bn(e,Et,Ur);break;case 3:if(dn(e,n),(n&130023424)===n&&(t=pf+500-Ge(),10<t)){if(za(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){jt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_u(Bn.bind(null,e,Et,Ur),t);break}Bn(e,Et,Ur);break;case 4:if(dn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-fr(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hj(n/1960))-n,10<n){e.timeoutHandle=_u(Bn.bind(null,e,Et,Ur),n);break}Bn(e,Et,Ur);break;case 5:Bn(e,Et,Ur);break;default:throw Error(H(329))}}}return At(e,Ge()),e.callbackNode===r?Hg.bind(null,e):null}function qu(e,t){var r=Wo;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=nl(e,t),e!==2&&(t=Et,Et=r,t!==null&&Qu(t)),e}function Qu(e){Et===null?Et=e:Et.push.apply(Et,e)}function mj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!mr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~mf,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fr(t),n=1<<r;e[r]=-1,t&=~n}}function Cm(e){if(je&6)throw Error(H(327));zs();var t=za(e,0);if(!(t&1))return At(e,Ge()),null;var r=nl(e,t);if(e.tag!==0&&r===2){var n=bu(e);n!==0&&(t=n,r=qu(e,n))}if(r===1)throw r=ci,Xn(e,0),dn(e,t),At(e,Ge()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,Et,Ur),At(e,Ge()),null}function vf(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(qs=Ge()+500,Cl&&On())}}function ts(e){pn!==null&&pn.tag===0&&!(je&6)&&zs();var t=je;je|=1;var r=qt.transition,n=Ee;try{if(qt.transition=null,Ee=1,e)return e()}finally{Ee=n,qt.transition=r,je=t,!(je&6)&&On()}}function gf(){Ot=Is.current,Oe(Is)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,H1(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(Qd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ha();break;case 3:Gs(),Oe(Rt),Oe(gt),of();break;case 5:sf(n);break;case 4:Gs();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:ef(n.type._context);break;case 22:case 23:gf()}r=r.return}if(rt=e,Qe=e=Nn(e.current,null),ct=Ot=t,et=0,ci=null,mf=_l=es=0,Et=Wo=null,Hn!==null){for(t=0;t<Hn.length;t++)if(r=Hn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Hn=null}return e}function Vg(e,t){do{var r=Qe;try{if(Zd(),Ca.current=Za,Ja){for(var n=We.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ja=!1}if(Zn=0,tt=Ze=We=null,Fo=!1,ii=0,hf.current=null,r===null||r.return===null){et=1,ci=t,Qe=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=fm(a);if(y!==null){y.flags&=-257,hm(y,a,l,i,t),y.mode&1&&dm(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){dm(i,u,t),xf();break e}c=Error(H(426))}}else if(Le&&l.mode&1){var j=fm(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),hm(j,a,l,i,t),Yd(Xs(c,l));break e}}i=c=Xs(c,l),et!==4&&(et=2),Wo===null?Wo=[i]:Wo.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Tg(i,c,t);om(i,g);break e;case 1:l=c;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bn===null||!bn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=_g(i,l,t);om(i,b);break e}}i=i.return}while(i!==null)}Xg(r)}catch(C){t=C,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function Kg(){var e=el.current;return el.current=Za,e===null?Za:e}function xf(){(et===0||et===3||et===2)&&(et=4),rt===null||!(es&268435455)&&!(_l&268435455)||dn(rt,ct)}function nl(e,t){var r=je;je|=2;var n=Kg();(rt!==e||ct!==t)&&(Ur=null,Xn(e,t));do try{pj();break}catch(s){Vg(e,s)}while(!0);if(Zd(),je=r,el.current=n,Qe!==null)throw Error(H(261));return rt=null,ct=0,et}function pj(){for(;Qe!==null;)Gg(Qe)}function vj(){for(;Qe!==null&&!Bb();)Gg(Qe)}function Gg(e){var t=Qg(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?Xg(e):Qe=t,hf.current=null}function Xg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cj(r,t),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Qe=null;return}}else if(r=lj(r,t,Ot),r!==null){Qe=r;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);et===0&&(et=5)}function Bn(e,t,r){var n=Ee,s=qt.transition;try{qt.transition=null,Ee=1,gj(e,t,r,n)}finally{qt.transition=s,Ee=n}return null}function gj(e,t,r,n){do zs();while(pn!==null);if(je&6)throw Error(H(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Yb(e,i),e===rt&&(Qe=rt=null,ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zi||(Zi=!0,Yg($a,function(){return zs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qt.transition,qt.transition=null;var a=Ee;Ee=1;var l=je;je|=4,hf.current=null,dj(e,r),Wg(r,e),D1(Eu),Fa=!!ku,Eu=ku=null,e.current=r,fj(r),Wb(),je=l,Ee=a,qt.transition=i}else e.current=r;if(Zi&&(Zi=!1,pn=e,rl=s),i=e.pendingLanes,i===0&&(bn=null),Vb(r.stateNode),At(e,Ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(tl)throw tl=!1,e=Gu,Gu=null,e;return rl&1&&e.tag!==0&&zs(),i=e.pendingLanes,i&1?e===Xu?Uo++:(Uo=0,Xu=e):Uo=0,On(),null}function zs(){if(pn!==null){var e=Tv(rl),t=qt.transition,r=Ee;try{if(qt.transition=null,Ee=16>e?16:e,pn===null)var n=!1;else{if(e=pn,pn=null,rl=0,je&6)throw Error(H(331));var s=je;for(je|=4,ne=e.current;ne!==null;){var i=ne,a=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Bo(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var p=h.sibling,y=h.return;if(zg(h),h===u){ne=null;break}if(p!==null){p.return=y,ne=p;break}ne=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}ne=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ne=a;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ne=g;break e}ne=i.return}}var m=e.current;for(ne=m;ne!==null;){a=ne;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,ne=v;else e:for(a=m;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tl(9,l)}}catch(C){Ve(l,l.return,C)}if(l===a){ne=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ne=b;break e}ne=l.return}}if(je=s,On(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(wl,e)}catch{}n=!0}return n}finally{Ee=r,qt.transition=t}}return!1}function km(e,t,r){t=Xs(r,t),t=Tg(e,t,1),e=wn(e,t,1),t=jt(),e!==null&&(yi(e,1,t),At(e,t))}function Ve(e,t,r){if(e.tag===3)km(e,e,r);else for(;t!==null;){if(t.tag===3){km(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bn===null||!bn.has(n))){e=Xs(r,e),e=_g(t,e,1),t=wn(t,e,1),e=jt(),t!==null&&(yi(t,1,e),At(t,e));break}}t=t.return}}function xj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(ct&r)===r&&(et===4||et===3&&(ct&130023424)===ct&&500>Ge()-pf?Xn(e,0):mf|=r),At(e,t)}function qg(e,t){t===0&&(e.mode&1?(t=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):t=1);var r=jt();e=Yr(e,t),e!==null&&(yi(e,t,r),At(e,r))}function yj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qg(e,r)}function wj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),qg(e,r)}var Qg;Qg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)_t=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _t=!1,aj(e,t,r);_t=!!(e.flags&131072)}else _t=!1,Le&&t.flags&1048576&&eg(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ea(e,t),e=t.pendingProps;var s=Hs(t,gt.current);$s(t,r),s=lf(null,t,n,e,s,r);var i=cf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(n)?(i=!0,Va(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rf(t),s.updater=El,t.stateNode=s,s._reactInternals=t,Lu(t,n,e,r),t=zu(null,t,n,!0,i,r)):(t.tag=0,Le&&i&&qd(t),wt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ea(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=jj(n),e=lr(n,e),s){case 0:t=$u(null,t,n,e,r);break e;case 1:t=vm(null,t,n,e,r);break e;case 11:t=mm(null,t,n,e,r);break e;case 14:t=pm(null,t,n,lr(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),$u(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),vm(e,t,n,s,r);case 3:e:{if(Ig(t),e===null)throw Error(H(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ig(e,t),Qa(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xs(Error(H(423)),t),t=gm(e,t,n,r,s);break e}else if(n!==s){s=Xs(Error(H(424)),t),t=gm(e,t,n,r,s);break e}else for(Dt=yn(t.stateNode.containerInfo.firstChild),$t=t,Le=!0,ur=null,r=sg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vs(),n===s){t=Jr(e,t,r);break e}wt(e,t,n,r)}t=t.child}return t;case 5:return ag(t),e===null&&Iu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Tu(n,s)?a=null:i!==null&&Tu(n,i)&&(t.flags|=32),Ag(e,t),wt(e,t,a,r),t.child;case 6:return e===null&&Iu(t),null;case 13:return Og(e,t,r);case 4:return nf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ks(t,null,n,r):wt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),mm(e,t,n,s,r);case 7:return wt(e,t,t.pendingProps,r),t.child;case 8:return wt(e,t,t.pendingProps.children,r),t.child;case 12:return wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Re(Xa,n._currentValue),n._currentValue=a,i!==null)if(mr(i.value,a)){if(i.children===s.children&&!Rt.current){t=Jr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Gr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ou(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(H(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ou(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}wt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$s(t,r),s=Yt(s),n=n(s),t.flags|=1,wt(e,t,n,r),t.child;case 14:return n=t.type,s=lr(n,t.pendingProps),s=lr(n.type,s),pm(e,t,n,s,r);case 15:return Rg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),Ea(e,t),t.tag=1,Pt(n)?(e=!0,Va(t)):e=!1,$s(t,r),Eg(t,n,s),Lu(t,n,s,r),zu(null,t,n,!0,e,r);case 19:return Mg(e,t,r);case 22:return Pg(e,t,r)}throw Error(H(156,t.tag))};function Yg(e,t){return Sv(e,t)}function bj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,r,n){return new bj(e,t,r,n)}function yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jj(e){if(typeof e=="function")return yf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dd)return 11;if(e===$d)return 14}return 2}function Nn(e,t){var r=e.alternate;return r===null?(r=Xt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ra(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")yf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ns:return qn(r.children,s,i,t);case Ld:a=8,s|=8;break;case iu:return e=Xt(12,r,t,s|2),e.elementType=iu,e.lanes=i,e;case au:return e=Xt(13,r,t,s),e.elementType=au,e.lanes=i,e;case lu:return e=Xt(19,r,t,s),e.elementType=lu,e.lanes=i,e;case av:return Rl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ov:a=10;break e;case iv:a=9;break e;case Dd:a=11;break e;case $d:a=14;break e;case ln:a=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Xt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function qn(e,t,r,n){return e=Xt(7,e,n,t),e.lanes=r,e}function Rl(e,t,r,n){return e=Xt(22,e,n,t),e.elementType=av,e.lanes=r,e.stateNode={isHidden:!1},e}function Pc(e,t,r){return e=Xt(6,e,null,t),e.lanes=r,e}function Ac(e,t,r){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wf(e,t,r,n,s,i,a,l,c){return e=new Nj(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(i),e}function Sj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Jg(e){if(!e)return kn;e=e._reactInternals;e:{if(ls(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Pt(r))return Jv(e,r,t)}return t}function Zg(e,t,r,n,s,i,a,l,c){return e=wf(r,n,!0,e,s,i,a,l,c),e.context=Jg(null),r=e.current,n=jt(),s=jn(r),i=Gr(n,s),i.callback=t??null,wn(r,i,s),e.current.lanes=s,yi(e,s,n),At(e,n),e}function Pl(e,t,r,n){var s=t.current,i=jt(),a=jn(s);return r=Jg(r),t.context===null?t.context=r:t.pendingContext=r,t=Gr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=wn(s,t,a),e!==null&&(hr(e,s,a,i),Sa(e,s,a)),a}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bf(e,t){Em(e,t),(e=e.alternate)&&Em(e,t)}function Cj(){return null}var ex=typeof reportError=="function"?reportError:function(e){console.error(e)};function jf(e){this._internalRoot=e}Al.prototype.render=jf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Pl(e,t,null,null)};Al.prototype.unmount=jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ts(function(){Pl(null,e,null,null)}),t[Qr]=null}};function Al(e){this._internalRoot=e}Al.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<un.length&&t!==0&&t<un[r].priority;r++);un.splice(r,0,e),r===0&&Iv(e)}};function Nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tm(){}function kj(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=sl(a);i.call(u)}}var a=Zg(t,n,e,0,null,!1,!1,"",Tm);return e._reactRootContainer=a,e[Qr]=a.current,ti(e.nodeType===8?e.parentNode:e),ts(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=sl(c);l.call(u)}}var c=wf(e,0,!1,null,null,!1,!1,"",Tm);return e._reactRootContainer=c,e[Qr]=c.current,ti(e.nodeType===8?e.parentNode:e),ts(function(){Pl(t,c,r,n)}),c}function Ol(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=sl(a);l.call(c)}}Pl(t,a,e,s)}else a=kj(r,t,e,s,n);return sl(a)}_v=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ro(t.pendingLanes);r!==0&&(Bd(t,r|1),At(t,Ge()),!(je&6)&&(qs=Ge()+500,On()))}break;case 13:ts(function(){var n=Yr(e,1);if(n!==null){var s=jt();hr(n,e,1,s)}}),bf(e,1)}};Wd=function(e){if(e.tag===13){var t=Yr(e,134217728);if(t!==null){var r=jt();hr(t,e,134217728,r)}bf(e,134217728)}};Rv=function(e){if(e.tag===13){var t=jn(e),r=Yr(e,t);if(r!==null){var n=jt();hr(r,e,t,n)}bf(e,t)}};Pv=function(){return Ee};Av=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};xu=function(e,t,r){switch(t){case"input":if(du(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Sl(n);if(!s)throw Error(H(90));cv(n),du(n,s)}}}break;case"textarea":dv(e,r);break;case"select":t=r.value,t!=null&&Os(e,!!r.multiple,t,!1)}};xv=vf;yv=ts;var Ej={usingClientEntryPoint:!1,Events:[bi,Es,Sl,vv,gv,vf]},No={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tj={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jv(e),e===null?null:e.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||Cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ea.isDisabled&&ea.supportsFiber)try{wl=ea.inject(Tj),Er=ea}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ej;Bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nf(t))throw Error(H(200));return Sj(e,t,null,r)};Bt.createRoot=function(e,t){if(!Nf(e))throw Error(H(299));var r=!1,n="",s=ex;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wf(e,1,!1,null,null,r,!1,n,s),e[Qr]=t.current,ti(e.nodeType===8?e.parentNode:e),new jf(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=jv(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return ts(e)};Bt.hydrate=function(e,t,r){if(!Il(t))throw Error(H(200));return Ol(null,e,t,!0,r)};Bt.hydrateRoot=function(e,t,r){if(!Nf(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ex;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Zg(t,null,e,1,r??null,s,!1,i,a),e[Qr]=t.current,ti(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Al(t)};Bt.render=function(e,t,r){if(!Il(t))throw Error(H(200));return Ol(null,e,t,!1,r)};Bt.unmountComponentAtNode=function(e){if(!Il(e))throw Error(H(40));return e._reactRootContainer?(ts(function(){Ol(null,null,e,!1,function(){e._reactRootContainer=null,e[Qr]=null})}),!0):!1};Bt.unstable_batchedUpdates=vf;Bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Il(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Ol(e,t,r,!1,n)};Bt.version="18.3.1-next-f1338f8080-20240426";function tx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tx)}catch(e){console.error(e)}}tx(),tv.exports=Bt;var no=tv.exports;const _j=Td(no);var _m=no;su.createRoot=_m.createRoot,su.hydrateRoot=_m.hydrateRoot;var Rj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Aj=(e,t)=>{const r=d.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>d.createElement("svg",{ref:u,...Rj,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Pj(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var oe=Aj;const so=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Rm=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Sf=oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),rx=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Fs=oe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),nx=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sx=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ho=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ij=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Pm=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Qn=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ta=oe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Oj=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ui=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Mj=oe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),ol=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),En=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Cf=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Lj=oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Ic=oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),dr=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),il=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Dj=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),$j=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zj=oe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Pa=oe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),kf=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Fj=oe("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ox=oe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),al=oe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Am=oe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Bj=oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Im=oe("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Nt=oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Qt=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cs=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ef=oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Wj=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Uj=oe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Hj=oe("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Vj=oe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Tn=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Om=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Yu=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Tf=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Kj=oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Gj=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ix=oe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),_f=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Mm=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),lt=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Xj=oe("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),qj=oe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Qj=oe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Yj=oe("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Jj=oe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),pr=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Lm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ax(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Lm(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Lm(e[s],null)}}}}function xe(...e){return d.useCallback(ax(...e),e)}function Qs(e){const t=Zj(e),r=d.forwardRef((n,s)=>{const{children:i,...a}=n,l=d.Children.toArray(i),c=l.find(tN);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var lx=Qs("Slot");function Zj(e){const t=d.forwardRef((r,n)=>{const{children:s,...i}=r;if(d.isValidElement(s)){const a=nN(s),l=rN(i,s.props);return s.type!==d.Fragment&&(l.ref=n?ax(n,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eN=Symbol("radix.slottable");function tN(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eN}function rN(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function nN(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function cx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=cx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ux(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=cx(e))&&(n&&(n+=" "),n+=t);return n}const Dm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$m=ux,dx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return $m(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],f=i==null?void 0:i[u];if(h===null)return null;const p=Dm(h)||Dm(f);return s[u][p]}),l=r&&Object.entries(r).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(w=>{let[x,j]=w;return Array.isArray(j)?j.includes({...i,...l}[x]):{...i,...l}[x]===j})?[...u,f,p]:u},[]);return $m(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};function sN(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=fx(t))&&(n&&(n+=" "),n+=r);return n}function fx(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=fx(e[n]))&&(r&&(r+=" "),r+=t);return r}var Rf="-";function oN(e){var t=aN(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,s=n===void 0?{}:n;function i(l){var c=l.split(Rf);return c[0]===""&&c.length!==1&&c.shift(),hx(c,t)||iN(l)}function a(l,c){var u=r[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function hx(e,t){var a;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),s=n?hx(e.slice(1),n):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Rf);return(a=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:a.classGroupId}}var zm=/^\[(.+)\]$/;function iN(e){if(zm.test(e)){var t=zm.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function aN(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},s=cN(Object.entries(e.classGroups),r);return s.forEach(function(i){var a=i[0],l=i[1];Ju(l,n,a,t)}),n}function Ju(e,t,r,n){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:Fm(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(lN(s)){Ju(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(a){var l=a[0],c=a[1];Ju(c,Fm(t,l),r,n)})})}function Fm(e,t){var r=e;return t.split(Rf).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function lN(e){return e.isThemeGetter}function cN(e,t){return t?e.map(function(r){var n=r[0],s=r[1],i=s.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):a});return[n,i]}):e}function uN(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function s(i,a){r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(a){var l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return s(a,l),l},set:function(a,l){r.has(a)?r.set(a,l):s(a,l)}}}var mx="!";function dN(e){var t=e.separator||":",r=t.length===1,n=t[0],s=t.length;return function(a){for(var l=[],c=0,u=0,h,f=0;f<a.length;f++){var p=a[f];if(c===0){if(p===n&&(r||a.slice(f,f+s)===t)){l.push(a.slice(u,f)),u=f+s;continue}if(p==="/"){h=f;continue}}p==="["?c++:p==="]"&&c--}var y=l.length===0?a:a.substring(u),w=y.startsWith(mx),x=w?y.substring(1):y,j=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:j}}}function fN(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var s=n[0]==="[";s?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function hN(e){return{cache:uN(e.cacheSize),splitModifiers:dN(e),...oN(e)}}var mN=/\s+/;function pN(e,t){var r=t.splitModifiers,n=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(mN).map(function(a){var l=r(a),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,p=n(f?h.substring(0,f):h),y=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:a};if(p=n(h),!p)return{isTailwindClass:!1,originalClassName:a};y=!1}var w=fN(c).join(":"),x=u?w+mx:w;return{isTailwindClass:!0,modifierId:x,classGroupId:p,originalClassName:a,hasPostfixModifier:y}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,h=l+c;return i.has(h)?!1:(i.add(h),s(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function vN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,s,i,a=l;function l(u){var h=t[0],f=t.slice(1),p=f.reduce(function(y,w){return w(y)},h());return n=hN(p),s=n.cache.get,i=n.cache.set,a=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=pN(u,n);return i(u,f),f}return function(){return a(sN.apply(null,arguments))}}function Ae(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var px=/^\[(?:([a-z-]+):)?(.+)\]$/i,gN=/^\d+\/\d+$/,xN=new Set(["px","full","screen"]),yN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function or(e){return Kn(e)||xN.has(e)||gN.test(e)||Zu(e)}function Zu(e){return us(e,"length",EN)}function jN(e){return us(e,"size",vx)}function NN(e){return us(e,"position",vx)}function SN(e){return us(e,"url",TN)}function ra(e){return us(e,"number",Kn)}function Kn(e){return!Number.isNaN(Number(e))}function CN(e){return e.endsWith("%")&&Kn(e.slice(0,-1))}function So(e){return Bm(e)||us(e,"number",Bm)}function ge(e){return px.test(e)}function Co(){return!0}function on(e){return yN.test(e)}function kN(e){return us(e,"",_N)}function us(e,t,r){var n=px.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function EN(e){return wN.test(e)}function vx(){return!1}function TN(e){return e.startsWith("url(")}function Bm(e){return Number.isInteger(Number(e))}function _N(e){return bN.test(e)}function RN(){var e=Ae("colors"),t=Ae("spacing"),r=Ae("blur"),n=Ae("brightness"),s=Ae("borderColor"),i=Ae("borderRadius"),a=Ae("borderSpacing"),l=Ae("borderWidth"),c=Ae("contrast"),u=Ae("grayscale"),h=Ae("hueRotate"),f=Ae("invert"),p=Ae("gap"),y=Ae("gradientColorStops"),w=Ae("gradientColorStopPositions"),x=Ae("inset"),j=Ae("margin"),g=Ae("opacity"),m=Ae("padding"),v=Ae("saturate"),b=Ae("scale"),C=Ae("sepia"),T=Ae("skew"),S=Ae("space"),k=Ae("translate"),_=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},z=function(){return["auto",ge,t]},N=function(){return[ge,t]},E=function(){return["",or]},L=function(){return["auto",Kn,ge]},V=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},A=function(){return["solid","dashed","dotted","double","none"]},B=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},U=function(){return["","0",ge]},q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},O=function(){return[Kn,ra]},K=function(){return[Kn,ge]};return{cacheSize:500,theme:{colors:[Co],spacing:[or],blur:["none","",on,ge],brightness:O(),borderColor:[e],borderRadius:["none","","full",on,ge],borderSpacing:N(),borderWidth:E(),contrast:O(),grayscale:U(),hueRotate:K(),invert:U(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[CN,Zu],inset:z(),margin:z(),opacity:O(),padding:N(),saturate:O(),scale:O(),sepia:U(),skew:K(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[on]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(V(),[ge])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",So]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",So]}],"grid-cols":[{"grid-cols":[Co]}],"col-start-end":[{col:["auto",{span:["full",So]},ge]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Co]}],"row-start-end":[{row:["auto",{span:[So]},ge]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ge,t]}],"min-w":[{"min-w":["min","max","fit",ge,or]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[on]},on,ge]}],h:[{h:[ge,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ge,or]}],"max-h":[{"max-h":[ge,t,"min","max","fit"]}],"font-size":[{text:["base",on,Zu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ra]}],"font-family":[{font:[Co]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Kn,ra]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ge,or]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(A(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",or]}],"underline-offset":[{"underline-offset":["auto",ge,or]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(V(),[NN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(A(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(A())}],"outline-offset":[{"outline-offset":[ge,or]}],"outline-w":[{outline:[or]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[or]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",on,kN]}],"shadow-color":[{shadow:[Co]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",on,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[So,ge]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[or,ra]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var PN=vN(RN);function ke(...e){return PN(ux(e))}const AN=dx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function $({className:e,variant:t,size:r,asChild:n=!1,...s}){const i=n?lx:"button";return o.jsx(i,{"data-slot":"button",className:ke(AN({variant:t,size:r,className:e})),...s})}function IN(e,t){const r=d.createContext(t),n=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=d.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Mr(e,t=[]){let r=[];function n(i,a){const l=d.createContext(a),c=r.length;r=[...r,a];const u=f=>{var g;const{scope:p,children:y,...w}=f,x=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,j=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:j,children:y})};u.displayName=i+"Provider";function h(f,p){var x;const y=((x=p==null?void 0:p[e])==null?void 0:x[c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=r.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,ON(s,...t)]}function ON(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function vt(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Ye=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},MN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=MN.reduce((e,t)=>{const r=Qs(`Primitive.${t}`),n=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function LN(e,t){e&&no.flushSync(()=>e.dispatchEvent(t))}var gx={exports:{}},xx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ys=d;function DN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $N=typeof Object.is=="function"?Object.is:DN,zN=Ys.useState,FN=Ys.useEffect,BN=Ys.useLayoutEffect,WN=Ys.useDebugValue;function UN(e,t){var r=t(),n=zN({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return BN(function(){s.value=r,s.getSnapshot=t,Oc(s)&&i({inst:s})},[e,r,t]),FN(function(){return Oc(s)&&i({inst:s}),e(function(){Oc(s)&&i({inst:s})})},[e]),WN(r),r}function Oc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$N(e,r)}catch{return!0}}function HN(e,t){return t()}var VN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HN:UN;xx.useSyncExternalStore=Ys.useSyncExternalStore!==void 0?Ys.useSyncExternalStore:VN;gx.exports=xx;var KN=gx.exports;function GN(){return KN.useSyncExternalStore(XN,()=>!0,()=>!1)}function XN(){return()=>{}}var Pf="Avatar",[qN,sR]=Mr(Pf),[QN,yx]=qN(Pf),wx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=d.useState("idle");return o.jsx(QN,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(ae.span,{...n,ref:t})})});wx.displayName=Pf;var bx="AvatarImage",jx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=yx(bx,r),l=YN(n,i),c=vt(u=>{s(u),a.onImageLoadingStatusChange(u)});return Ye(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ae.img,{...i,ref:t,src:n}):null});jx.displayName=bx;var Nx="AvatarFallback",Sx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=yx(Nx,r),[a,l]=d.useState(n===void 0);return d.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ae.span,{...s,ref:t}):null});Sx.displayName=Nx;function Wm(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function YN(e,{referrerPolicy:t,crossOrigin:r}){const n=GN(),s=d.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=d.useState(()=>Wm(i,e));return Ye(()=>{l(Wm(i,e))},[i,e]),Ye(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),h=c("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,r,t]),a}var JN=wx,ZN=jx,eS=Sx;function De({className:e,...t}){return o.jsx(JN,{"data-slot":"avatar",className:ke("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function $e({className:e,...t}){return o.jsx(ZN,{"data-slot":"avatar-image",className:ke("aspect-square size-full",e),...t})}function ze({className:e,...t}){return o.jsx(eS,{"data-slot":"avatar-fallback",className:ke("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}var ed={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(r){var n=r.setTimeout,s=r.clearTimeout,i=r.XMLHttpRequest,a=r.XDomainRequest,l=r.ActiveXObject,c=r.EventSource,u=r.document,h=r.Promise,f=r.fetch,p=r.Response,y=r.TextDecoder,w=r.TextEncoder,x=r.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(D){u.readyState="complete"},!1)),i==null&&l!=null&&(i=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(D){function X(){}return X.prototype=D,new X}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var j=f;f=function(D,X){var te=X.signal;return j(D,{headers:X.headers,credentials:X.credentials,cache:X.cache}).then(function(I){var Y=I.body.getReader();return te._reader=Y,te._aborted&&te._reader.cancel(),{status:I.status,statusText:I.statusText,headers:I.headers,body:{getReader:function(){return Y}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(D){function X(Se,we,ce){if(ce===1)return Se>=128>>we&&Se<<we<=2047;if(ce===2)return Se>=2048>>we&&Se<<we<=55295||Se>=57344>>we&&Se<<we<=65535;if(ce===3)return Se>=65536>>we&&Se<<we<=1114111;throw new Error}function te(Se,we){if(Se===6*1)return we>>6>15?3:we>31?2:1;if(Se===6*2)return we>15?3:2;if(Se===6*3)return 3;throw new Error}for(var I=65533,Y="",J=this.bitsNeeded,ee=this.codePoint,he=0;he<D.length;he+=1){var ve=D[he];J!==0&&(ve<128||ve>191||!X(ee<<6|ve&63,J-6,te(J,ee)))&&(J=0,ee=I,Y+=String.fromCharCode(ee)),J===0?(ve>=0&&ve<=127?(J=0,ee=ve):ve>=192&&ve<=223?(J=6*1,ee=ve&31):ve>=224&&ve<=239?(J=6*2,ee=ve&15):ve>=240&&ve<=247?(J=6*3,ee=ve&7):(J=0,ee=I),J!==0&&!X(ee,J,te(J,ee))&&(J=0,ee=I)):(J-=6,ee=ee<<6|ve&63),J===0&&(ee<=65535?Y+=String.fromCharCode(ee):(Y+=String.fromCharCode(55296+(ee-65535-1>>10)),Y+=String.fromCharCode(56320+(ee-65535-1&1023))))}return this.bitsNeeded=J,this.codePoint=ee,Y};var m=function(){try{return new y().decode(new w().encode("test"),{stream:!0})==="test"}catch(D){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+D)}return!1};(y==null||w==null||!m())&&(y=g);var v=function(){};function b(D){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=D,this._sendTimeout=0,this._abort=v}b.prototype.open=function(D,X){this._abort(!0);var te=this,I=this._xhr,Y=1,J=0;this._abort=function(ce){te._sendTimeout!==0&&(s(te._sendTimeout),te._sendTimeout=0),(Y===1||Y===2||Y===3)&&(Y=4,I.onload=v,I.onerror=v,I.onabort=v,I.onprogress=v,I.onreadystatechange=v,I.abort(),J!==0&&(s(J),J=0),ce||(te.readyState=4,te.onabort(null),te.onreadystatechange())),Y=0};var ee=function(){if(Y===1){var ce=0,Te="",rr=void 0;if("contentType"in I)ce=200,Te="OK",rr=I.contentType;else try{ce=I.status,Te=I.statusText,rr=I.getResponseHeader("Content-Type")}catch{ce=0,Te="",rr=void 0}ce!==0&&(Y=2,te.readyState=2,te.status=ce,te.statusText=Te,te._contentType=rr,te.onreadystatechange())}},he=function(){if(ee(),Y===2||Y===3){Y=3;var ce="";try{ce=I.responseText}catch{}te.readyState=3,te.responseText=ce,te.onprogress()}},ve=function(ce,Te){if((Te==null||Te.preventDefault==null)&&(Te={preventDefault:v}),he(),Y===1||Y===2||Y===3){if(Y=4,J!==0&&(s(J),J=0),te.readyState=4,ce==="load")te.onload(Te);else if(ce==="error")te.onerror(Te);else if(ce==="abort")te.onabort(Te);else throw new TypeError;te.onreadystatechange()}},Se=function(ce){I!=null&&(I.readyState===4?(!("onload"in I)||!("onerror"in I)||!("onabort"in I))&&ve(I.responseText===""?"error":"load",ce):I.readyState===3?"onprogress"in I||he():I.readyState===2&&ee())},we=function(){J=n(function(){we()},500),I.readyState===3&&he()};"onload"in I&&(I.onload=function(ce){ve("load",ce)}),"onerror"in I&&(I.onerror=function(ce){ve("error",ce)}),"onabort"in I&&(I.onabort=function(ce){ve("abort",ce)}),"onprogress"in I&&(I.onprogress=he),"onreadystatechange"in I&&(I.onreadystatechange=function(ce){Se(ce)}),("contentType"in I||!("ontimeout"in i.prototype))&&(X+=(X.indexOf("?")===-1?"?":"&")+"padding=true"),I.open(D,X,!0),"readyState"in I&&(J=n(function(){we()},0))},b.prototype.abort=function(){this._abort(!1)},b.prototype.getResponseHeader=function(D){return this._contentType},b.prototype.setRequestHeader=function(D,X){var te=this._xhr;"setRequestHeader"in te&&te.setRequestHeader(D,X)},b.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},b.prototype.send=function(){if((!("ontimeout"in i.prototype)||!("sendAsBinary"in i.prototype)&&!("mozAnon"in i.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var D=this;D._sendTimeout=n(function(){D._sendTimeout=0,D.send()},4);return}var X=this._xhr;"withCredentials"in X&&(X.withCredentials=this.withCredentials);try{X.send(void 0)}catch(te){throw te}};function C(D){return D.replace(/[A-Z]/g,function(X){return String.fromCharCode(X.charCodeAt(0)+32)})}function T(D){for(var X=Object.create(null),te=D.split(`\r
`),I=0;I<te.length;I+=1){var Y=te[I],J=Y.split(": "),ee=J.shift(),he=J.join(": ");X[C(ee)]=he}this._map=X}T.prototype.get=function(D){return this._map[C(D)]},i!=null&&i.HEADERS_RECEIVED==null&&(i.HEADERS_RECEIVED=2);function S(){}S.prototype.open=function(D,X,te,I,Y,J,ee){D.open("GET",Y);var he=0;D.onprogress=function(){var Se=D.responseText,we=Se.slice(he);he+=we.length,te(we)},D.onerror=function(Se){Se.preventDefault(),I(new Error("NetworkError"))},D.onload=function(){I(null)},D.onabort=function(){I(null)},D.onreadystatechange=function(){if(D.readyState===i.HEADERS_RECEIVED){var Se=D.status,we=D.statusText,ce=D.getResponseHeader("Content-Type"),Te=D.getAllResponseHeaders();X(Se,we,ce,new T(Te))}},D.withCredentials=J;for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&D.setRequestHeader(ve,ee[ve]);return D.send(),D};function k(D){this._headers=D}k.prototype.get=function(D){return this._headers.get(D)};function _(){}_.prototype.open=function(D,X,te,I,Y,J,ee){var he=null,ve=new x,Se=ve.signal,we=new y;return f(Y,{headers:ee,credentials:J?"include":"same-origin",signal:Se,cache:"no-store"}).then(function(ce){return he=ce.body.getReader(),X(ce.status,ce.statusText,ce.headers.get("Content-Type"),new k(ce.headers)),new h(function(Te,rr){var wr=function(){he.read().then(function(dt){if(dt.done)Te(void 0);else{var _e=we.decode(dt.value,{stream:!0});te(_e),wr()}}).catch(function(dt){rr(dt)})};wr()})}).catch(function(ce){if(ce.name!=="AbortError")return ce}).then(function(ce){I(ce)}),{abort:function(){he!=null&&he.cancel(),ve.abort()}}};function R(){this._listeners=Object.create(null)}function z(D){n(function(){throw D},0)}R.prototype.dispatchEvent=function(D){D.target=this;var X=this._listeners[D.type];if(X!=null)for(var te=X.length,I=0;I<te;I+=1){var Y=X[I];try{typeof Y.handleEvent=="function"?Y.handleEvent(D):Y.call(this,D)}catch(J){z(J)}}},R.prototype.addEventListener=function(D,X){D=String(D);var te=this._listeners,I=te[D];I==null&&(I=[],te[D]=I);for(var Y=!1,J=0;J<I.length;J+=1)I[J]===X&&(Y=!0);Y||I.push(X)},R.prototype.removeEventListener=function(D,X){D=String(D);var te=this._listeners,I=te[D];if(I!=null){for(var Y=[],J=0;J<I.length;J+=1)I[J]!==X&&Y.push(I[J]);Y.length===0?delete te[D]:te[D]=Y}};function N(D){this.type=D,this.target=void 0}function E(D,X){N.call(this,D),this.data=X.data,this.lastEventId=X.lastEventId}E.prototype=Object.create(N.prototype);function L(D,X){N.call(this,D),this.status=X.status,this.statusText=X.statusText,this.headers=X.headers}L.prototype=Object.create(N.prototype);function V(D,X){N.call(this,D),this.error=X.error}V.prototype=Object.create(N.prototype);var A=-1,B=0,P=1,U=2,q=-1,O=0,K=1,Z=2,fe=3,de=/^text\/event\-stream(;.*)?$/i,ye=1e3,re=18e6,ie=function(D,X){var te=D==null?X:parseInt(D,10);return te!==te&&(te=X),me(te)},me=function(D){return Math.min(Math.max(D,ye),re)},F=function(D,X,te){try{typeof X=="function"&&X.call(D,te)}catch(I){z(I)}};function M(D,X){R.call(this),X=X||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,He(this,D,X)}function se(){return i!=null&&"withCredentials"in i.prototype||a==null?new i:new a}var Me=f!=null&&p!=null&&"body"in p.prototype;function He(D,X,te){X=String(X);var I=!!te.withCredentials,Y=te.lastEventIdQueryParameterName||"lastEventId",J=me(1e3),ee=ie(te.heartbeatTimeout,45e3),he="",ve=J,Se=!1,we=0,ce=te.headers||{},Te=te.Transport,rr=Me&&Te==null?void 0:new b(Te!=null?new Te:se()),wr=Te!=null&&typeof Te!="string"?new Te:rr==null?new _:new S,dt=void 0,_e=0,kt=A,zr="",ps="",Ut="",vs="",nt=O,gs=0,Fr=0,ic=function(qe,Ke,ft,yt){if(kt===B)if(qe===200&&ft!=null&&de.test(ft)){kt=P,Se=Date.now(),ve=J,D.readyState=P;var st=new L("open",{status:qe,statusText:Ke,headers:yt});D.dispatchEvent(st),F(D,D.onopen,st)}else{var Je="";qe!==200?(Ke&&(Ke=Ke.replace(/\s+/g," ")),Je="EventSource's response has a status "+qe+" "+Ke+" that is not 200. Aborting the connection."):Je="EventSource's response has a Content-Type specifying an unsupported type: "+(ft==null?"-":ft.replace(/\s+/g," "))+". Aborting the connection.",mo();var st=new L("error",{status:qe,statusText:Ke,headers:yt});D.dispatchEvent(st),F(D,D.onerror,st),console.error(Je)}},Di=function(qe){if(kt===P){for(var Ke=-1,ft=0;ft<qe.length;ft+=1){var yt=qe.charCodeAt(ft);(yt===10||yt===13)&&(Ke=ft)}var st=(Ke!==-1?vs:"")+qe.slice(0,Ke+1);vs=(Ke===-1?vs:"")+qe.slice(Ke+1),qe!==""&&(Se=Date.now(),we+=qe.length);for(var Je=0;Je<st.length;Je+=1){var yt=st.charCodeAt(Je);if(nt===q&&yt===10)nt=O;else if(nt===q&&(nt=O),yt===13||yt===10){if(nt!==O){nt===K&&(Fr=Je+1);var nr=st.slice(gs,Fr-1),Ht=st.slice(Fr+(Fr<Je&&st.charCodeAt(Fr)===32?1:0),Je);nr==="data"?(zr+=`
`,zr+=Ht):nr==="id"?ps=Ht:nr==="event"?Ut=Ht:nr==="retry"?(J=ie(Ht,J),ve=J):nr==="heartbeatTimeout"&&(ee=ie(Ht,ee),_e!==0&&(s(_e),_e=n(function(){$n()},ee)))}if(nt===O){if(zr!==""){he=ps,Ut===""&&(Ut="message");var W=new E(Ut,{data:zr.slice(1),lastEventId:ps});if(D.dispatchEvent(W),Ut==="open"?F(D,D.onopen,W):Ut==="message"?F(D,D.onmessage,W):Ut==="error"&&F(D,D.onerror,W),kt===U)return}zr="",Ut=""}nt=yt===13?q:O}else nt===O&&(gs=Je,nt=K),nt===K?yt===58&&(Fr=Je+1,nt=Z):nt===Z&&(nt=fe)}}},Br=function(qe){if(kt===P||kt===B){kt=A,_e!==0&&(s(_e),_e=0),_e=n(function(){$n()},ve),ve=me(Math.min(J*16,ve*2)),D.readyState=B;var Ke=new V("error",{error:qe});D.dispatchEvent(Ke),F(D,D.onerror,Ke),qe!=null&&console.error(qe)}},mo=function(){kt=U,dt!=null&&(dt.abort(),dt=void 0),_e!==0&&(s(_e),_e=0),D.readyState=U},$n=function(){if(_e=0,kt!==A){if(!Se&&dt!=null)Br(new Error("No activity within "+ee+" milliseconds. "+(kt===B?"No response received.":we+" chars received.")+" Reconnecting.")),dt!=null&&(dt.abort(),dt=void 0);else{var qe=Math.max((Se||Date.now())+ee-Date.now(),1);Se=!1,_e=n(function(){$n()},qe)}return}Se=!1,we=0,_e=n(function(){$n()},ee),kt=B,zr="",Ut="",ps=he,vs="",gs=0,Fr=0,nt=O;var Ke=X;if(X.slice(0,5)!=="data:"&&X.slice(0,5)!=="blob:"&&he!==""){var ft=X.indexOf("?");Ke=ft===-1?X:X.slice(0,ft+1)+X.slice(ft+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Ht,W){return W===Y?"":Ht}),Ke+=(X.indexOf("?")===-1?"?":"&")+Y+"="+encodeURIComponent(he)}var yt=D.withCredentials,st={};st.Accept="text/event-stream";var Je=D.headers;if(Je!=null)for(var nr in Je)Object.prototype.hasOwnProperty.call(Je,nr)&&(st[nr]=Je[nr]);try{dt=wr.open(rr,ic,Di,Br,Ke,yt,st)}catch(Ht){throw mo(),Ht}};D.url=X,D.readyState=B,D.withCredentials=I,D.headers=ce,D._close=mo,$n()}M.prototype=Object.create(R.prototype),M.prototype.CONNECTING=B,M.prototype.OPEN=P,M.prototype.CLOSED=U,M.prototype.close=function(){this._close()},M.CONNECTING=B,M.OPEN=P,M.CLOSED=U,M.prototype.withCredentials=void 0;var Xe=c;i!=null&&(c==null||!("withCredentials"in c.prototype))&&(Xe=M),function(D){{var X=D(t);X!==void 0&&(e.exports=X)}}(function(D){D.EventSourcePolyfill=M,D.NativeEventSource=c,D.EventSource=Xe})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:nb:globalThis)})(ed,ed.exports);var tS=ed.exports;class rS{constructor(){zn(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return i}async getUser(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`유저 정보 조회에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("유저 정보 조회 오류:",r),r}}}const nS=new rS;function sS({currentPage:e,onPageChange:t,onProfileClick:r,onMyProfileClick:n,onCloseDM:s,onLogout:i,authenticatedFetch:a,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h}){const[f,p]=d.useState([]),[y,w]=d.useState(!1),[x,j]=d.useState(!1),[,g]=d.useState([]),[m,v]=d.useState(null),b=O=>{const K=de=>{switch(de){case"DM_RECEIVED":case"NEW_DM_ROOM":return"message";case"FOLLOWED":return"follow";case"PLAYLIST_SUBSCRIBED":case"FOLLOWING_POSTED_PLAYLIST":return"like";default:return"notification"}},Z=de=>{switch(de){case"DM_RECEIVED":return"새로운 메시지가 도착했습니다";case"NEW_DM_ROOM":return"새로운 채팅방이 생성되었습니다";case"FOLLOWED":return"새로운 팔로워가 생겼습니다";case"PLAYLIST_SUBSCRIBED":return"플레이리스트를 구독했습니다";case"FOLLOWING_POSTED_PLAYLIST":return"팔로우한 사용자가 플레이리스트를 게시했습니다";case"ROLE_CHANGED":return"권한이 변경되었습니다";default:return"새로운 알림"}},fe=de=>{const ye=new Date(de),ie=new Date().getTime()-ye.getTime(),me=Math.floor(ie/(1e3*60)),F=Math.floor(ie/(1e3*60*60)),M=Math.floor(ie/(1e3*60*60*24));return me<1?"방금 전":me<60?`${me}분 전`:F<24?`${F}시간 전`:M===1?"어제":`${M}일 전`};return{id:O.id,type:K(O.notificationType),title:Z(O.notificationType),content:O.content,avatar:"",timestamp:fe(O.createdAt),isRead:!1}},C=async()=>{if(l)try{const O=await nS.getUser(l);v(O)}catch(O){console.error("유저 정보 조회 오류:",O),O instanceof Error&&(O.message.includes("not found")||O.message.includes("401")||O.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i())}},T=async()=>{if(l)try{const O=await a("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/notifications");if(!O.ok){if(O.status===401||O.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i();return}throw new Error(`알림 목록을 가져오는데 실패했습니다. (상태: ${O.status})`)}const Z=(await O.json()).map(fe=>({...b(fe),isRead:!0}));p(Z)}catch(O){console.error("알림 목록 조회 오류:",O),O instanceof Error&&(O.message.includes("401")||O.message.includes("403"))&&p([])}},[S,k]=d.useState(0),_=5,R=2e3,z=()=>{if(!l)return;const O=localStorage.getItem("accessToken");if(!O){console.warn("accessToken이 없습니다. SSE 연결 생략");return}if(S>=_){console.warn("SSE 연결 최대 재시도 횟수 초과, 연결 중단");return}g(K=>{if(K.length>=1)return console.log("이미 SSE 연결이 존재합니다."),K;console.log(`SSE 연결 시도 중... (${S+1}/${_})`);const Z=new tS.EventSourcePolyfill("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/notifications/subscribe",{headers:{Authorization:`Bearer ${O}`},withCredentials:!0,heartbeatTimeout:45e3});return Z.onopen=()=>{console.log("SSE 연결이 설정되었습니다."),k(0)},Z.onmessage=fe=>{if(fe.data!=="ping"&&fe.type!=="heartbeat")try{const de=JSON.parse(fe.data);if(de.notificationType==="CONNECTED")return;const ye=b(de);p(re=>[ye,...re])}catch(de){console.error("SSE 메시지 파싱 오류:",de)}},Z.onerror=fe=>{if(console.error("SSE 연결 오류:",fe),g(de=>de.filter(ye=>ye!==Z)),Z.close(),S<_){const de=R*Math.pow(2,S);console.log(`${de}ms 후 SSE 재연결 시도... (${S+1}/${_})`),k(ye=>ye+1),setTimeout(()=>{l&&localStorage.getItem("accessToken")&&z()},de)}else console.error("SSE 연결 최대 재시도 횟수 초과")},[...K,Z]})};d.useEffect(()=>{if(l){k(0),C(),T();const O=setTimeout(()=>{z()},2e3);return()=>{clearTimeout(O),g(K=>(K.forEach(Z=>{Z.readyState!==EventSource.CLOSED&&Z.close()}),[]))}}else k(0)},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=C),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const N=[{id:"home",label:"홈"},{id:"movies",label:"영화"},{id:"tv",label:"TV/드라마"},{id:"sports",label:"스포츠"},{id:"curation",label:"큐레이션"},{id:"live",label:"라이브"},{id:"playlist",label:"플레이리스트"}],E=f.filter(O=>!O.isRead).length;d.useEffect(()=>{const O=K=>{const Z=K.target;!Z.closest(".notification-container")&&!Z.closest(".profile-container")&&(w(!1),j(!1))};return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]);const L=O=>{switch(O){case"message":return o.jsx(kf,{className:"w-4 h-4"});case"follow":return o.jsx(_f,{className:"w-4 h-4"});case"like":return o.jsx(En,{className:"w-4 h-4"});case"watch":return o.jsx(Nt,{className:"w-4 h-4"});default:return o.jsx(Rm,{className:"w-4 h-4"})}},V=async O=>{try{await u(O),p(K=>K.filter(Z=>Z.id!==O))}catch(K){console.error("알림 삭제 실패:",K)}},A=O=>{p(K=>K.map(Z=>Z.id===O?{...Z,isRead:!0}:Z))},B=async()=>{try{await T(),p(O=>O.map(K=>({...K,isRead:!0})))}catch(O){console.error("알림 읽음 처리 오류:",O)}},P=O=>{s&&s(),t(O)},U=O=>{O.stopPropagation(),s&&s(),w(!y),j(!1)},q=async()=>{try{if(!(await a("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/logout",{method:"POST"})).ok)throw new Error("로그아웃에 실패했습니다.");j(!1),i()}catch(O){console.error("로그아웃 오류:",O),j(!1),i()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>P("home"),children:"모플"}),o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:N.map(O=>o.jsx("li",{children:o.jsx("button",{onClick:()=>P(O.id),className:`transition-colors hover:text-[#4ecdc4] ${e===O.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:O.label})},O.id))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative notification-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:U,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Rm,{className:"w-5 h-5"}),E>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:E>9?"9+":E})]}),y&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:"알림"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[E>0&&o.jsx($,{variant:"ghost",size:"sm",onClick:B,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:"모두 읽음"}),o.jsx($,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),p([])}catch(O){console.error("모든 알림 삭제 실패:",O)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(Yu,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${f.length>4?"max-h-96":""}`,children:f.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:"알림이 없습니다"}):o.jsx("div",{className:"p-2",children:f.map(O=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>A(O.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(De,{className:"h-12 w-12",children:[o.jsx($e,{src:O.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:O.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:L(O.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${O.isRead?"text-white/60":"font-medium"}`,children:O.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:O.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:O.content})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:async K=>{K.stopPropagation(),await V(O.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Yu,{className:"w-3 h-3"})}),!O.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},O.id))})})]})]}),o.jsxs("div",{className:"relative profile-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:O=>{O.stopPropagation(),j(!x),w(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(De,{className:"h-8 w-8",children:[o.jsx($e,{src:(m==null?void 0:m.profileImage)||""}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:(m==null?void 0:m.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(m==null?void 0:m.name)||"사용자"})]}),x&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{j(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Mm,{className:"w-4 h-4"}),o.jsx("span",{children:"내 프로필 보기"})]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{j(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Mm,{className:"w-4 h-4"}),o.jsx("span",{children:"회원정보 수정"})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs($,{variant:"ghost",size:"sm",onClick:q,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(Dj,{className:"w-4 h-4"}),o.jsx("span",{children:"로그아웃"})]})]})]})]})]})})}function oS(){const e=new Date().getFullYear(),t={서비스:[{name:"홈",href:"#home"},{name:"영화",href:"#movies"},{name:"TV/드라마",href:"#tv"},{name:"스포츠",href:"#sports"},{name:"큐레이션",href:"#curation"},{name:"라이브",href:"#live"}],고객지원:[{name:"공지사항",href:"#notices"},{name:"자주 묻는 질문",href:"#faq"},{name:"고객센터",href:"#support"},{name:"버그 신고",href:"#bug-report"}],정책:[{name:"이용약관",href:"#terms"},{name:"개인정보처리방침",href:"#privacy"},{name:"저작권 정책",href:"#copyright"},{name:"커뮤니티 가이드라인",href:"#guidelines"}],회사:[{name:"회사소개",href:"#about"},{name:"채용정보",href:"#careers"},{name:"파트너십",href:"#partnership"},{name:"광고문의",href:"#advertising"}]},r=[{name:"Github",icon:Mj,href:"#github"},{name:"Twitter",icon:Kj,href:"#twitter"},{name:"Instagram",icon:Lj,href:"#instagram"},{name:"Email",icon:$j,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:"모플"}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"친구들과 실시간으로 영화, 드라마, 스포츠를 함께 시청하고 공유하는 소셜 스트리밍 플랫폼입니다."}),o.jsx("div",{className:"flex space-x-4",children:r.map(n=>{const s=n.icon;return o.jsx("a",{href:n.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":n.name,children:o.jsx(s,{className:"w-5 h-5"})},n.name)})})]}),Object.entries(t).map(([n,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:n}),o.jsx("ul",{className:"space-y-3",children:s.map(i=>o.jsx("li",{children:o.jsx("a",{href:i.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:i.name})},i.name))})]},n))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:["© ",e," 모플(MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(En,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const Be=d.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,"data-slot":"input",className:ke("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:n,...r}));Be.displayName="Input";var iS="Label",Cx=d.forwardRef((e,t)=>o.jsx(ae.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Cx.displayName=iS;var aS=Cx;function Tt({className:e,...t}){return o.jsx(aS,{"data-slot":"label",className:ke("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var lS="Separator",Um="horizontal",cS=["horizontal","vertical"],kx=d.forwardRef((e,t)=>{const{decorative:r,orientation:n=Um,...s}=e,i=uS(n)?n:Um,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ae.div,{"data-orientation":i,...l,...s,ref:t})});kx.displayName=lS;function uS(e){return cS.includes(e)}var dS=kx;function fS({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return o.jsx(dS,{"data-slot":"separator-root",decorative:r,orientation:t,className:ke("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function Ex({selectedImage:e,onImageSelect:t,onClose:r,userName:n}){const[s,i]=d.useState(null),a=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){i("이미지 파일만 선택할 수 있습니다.");return}if(u.size>5*1024*1024){i("파일 크기는 5MB 이하여야 합니다.");return}i(null),t(u)}},l=()=>{t(null),i(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"프로필 사진 업로드"}),r&&o.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:r,className:"p-1 hover:bg-white/10",children:o.jsx(pr,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(De,{className:"h-20 w-20",children:[o.jsx($e,{src:URL.createObjectURL(e)}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:(n==null?void 0:n.charAt(0))||"U"})]}),o.jsx($,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(pr,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Be,{type:"file",accept:"image/*",onChange:a,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(Gj,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"다른 이미지를 선택하려면 클릭하세요":"이미지 파일을 선택하세요"}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF (최대 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:["선택된 파일: ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:["크기: ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function hS({onLogin:e,onToggleAuth:t,onForgotPassword:r,isRegister:n}){const[s,i]=d.useState(!1),[a,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[p,y]=d.useState(null),[w,x]=d.useState(!1),j=()=>{window.location.href="http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/oauth2/login/kakao"},g=()=>{window.location.href="http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/oauth2/login/google"},m=async v=>{v.preventDefault(),u(null),f(!0);try{if(n){if(!a.name.trim()){u("이름을 입력해주세요.");return}if(a.name.length<3||a.name.length>50){u("이름은 3자 이상 50자 이하로 입력해주세요.");return}if(!a.email.trim()){u("이메일을 입력해주세요.");return}if(!a.password.trim()){u("비밀번호를 입력해주세요.");return}if(a.password!==a.confirmPassword){u("비밀번호가 일치하지 않습니다.");return}const b=new FormData;b.append("email",a.email),b.append("name",a.name),b.append("password",a.password),p&&b.append("profile",p);const C=await fetch("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users",{method:"POST",body:b});if(!C.ok){let T="회원가입에 실패했습니다.";const S=C.headers.get("content-type");if(S&&S.includes("application/json"))try{const k=await C.text();k&&(T=JSON.parse(k).message||T)}catch(k){console.error("Error parsing error response:",k)}throw new Error(T)}alert("회원가입이 완료되었습니다. 로그인해주세요."),t()}else{const b={email:a.email,password:a.password},C=await fetch("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!C.ok){let S="로그인에 실패했습니다.";const k=C.headers.get("content-type");if(k&&k.includes("application/json"))try{const _=await C.text();_&&(S=JSON.parse(_).message||S)}catch(_){console.error("Error parsing error response:",_)}throw new Error(S)}const T=await C.text();if(!T||T.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const S=JSON.parse(T);e(S.accessToken,S.isTempPassword)}catch(S){throw console.error("Error parsing success response:",S),new Error("서버 응답을 처리할 수 없습니다.")}}}catch(b){u(b instanceof Error?b.message:"처리 중 오류가 발생했습니다.")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"모플"}),o.jsx("p",{className:"text-white/60",children:"친구들과 실시간으로 영화, 드라마, 스포츠를 함께 시청하고 공유하세요"})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:n?"회원가입":"로그인"}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n&&o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"name",className:"text-base",children:"이름"}),o.jsx(Be,{id:"name",type:"text",value:a.name,onChange:v=>l({...a,name:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"이름을 입력하세요 (3-50자)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"email",className:"text-base",children:"이메일"}),o.jsx(Be,{id:"email",type:"email",value:a.email,onChange:v=>l({...a,email:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"이메일을 입력하세요",required:!0})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"password",className:"text-base",children:"비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(Be,{id:"password",type:s?"text":"password",value:a.password,onChange:v=>l({...a,password:v.target.value}),className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"비밀번호를 입력하세요",required:!0}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(Oj,{className:"w-5 h-5"}):o.jsx(ui,{className:"w-5 h-5"})})]})]}),n&&o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"confirmPassword",className:"text-base",children:"비밀번호 확인"}),o.jsx(Be,{id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:v=>l({...a,confirmPassword:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"비밀번호를 다시 입력하세요",required:!0})]}),n&&o.jsxs("div",{children:[o.jsx(Tt,{className:"text-base",children:"프로필 사진"}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(De,{className:"h-16 w-16",children:[o.jsx($e,{src:p?URL.createObjectURL(p):void 0}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:a.name.charAt(0)||"U"})]}),o.jsxs($,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(rx,{className:"w-4 h-4"}),o.jsx("span",{children:"사진 선택"})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(Ex,{selectedImage:p,onImageSelect:y,onClose:()=>x(!1),userName:a.name})})]}),o.jsx($,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?"처리 중...":n?"회원가입":"로그인"})]}),o.jsx(fS,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:j,disabled:h,children:["카카오로 ",n?"가입하기":"로그인"]}),o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:g,disabled:h,children:["Google로 ",n?"가입하기":"로그인"]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[n?"이미 계정이 있나요?":"계정이 없나요?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:n?"로그인":"회원가입"})]}),!n&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:["비밀번호를 잊어버리셨나요?"," "]}),o.jsx("button",{onClick:r,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:"임시비밀번호 발급"})]})]})]})]})}class mS{constructor(){zn(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/contents")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return i}async getContents(t){try{const r=new URLSearchParams;if(t!=null&&t.query&&r.append("title",t.query),t!=null&&t.type){const a=t.type.toUpperCase();r.append("contentType",a)}t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.direction&&r.append("direction",t.direction),t!=null&&t.cursor&&r.append("cursor",t.cursor),t!=null&&t.size&&r.append("size",t.size.toString());const n=`${this.baseUrl}?${r.toString()}`,s=await this.authenticatedFetch(n);if(!s.ok)throw new Error(`콘텐츠 목록 조회에 실패했습니다. Status: ${s.status}`);return await s.json()}catch(r){throw console.error("콘텐츠 목록 조회 오류:",r),r}}async getContent(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`콘텐츠 조회에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("콘텐츠 조회 오류:",r),r}}async getContentsByType(t,r){return this.getContents({...r,type:t})}async searchContents(t,r){return this.getContents({...r,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"영화";case"tv":return"TV/드라마";case"sports":return"스포츠";default:return"콘텐츠"}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const Gn=new mS;class pS{constructor(){zn(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/rooms")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return i}async getWatchRooms(t){try{const r=new URLSearchParams;t!=null&&t.query&&r.append("query",t.query),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.offset&&r.append("offset",t.offset.toString());const n=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,s=await this.authenticatedFetch(n);if(!s.ok)throw new Error(`시청방 목록 조회에 실패했습니다. Status: ${s.status}`);const i=await s.json();return t!=null&&t.sortBy?this.sortWatchRooms(i,t.sortBy):i}catch(r){throw console.error("시청방 목록 조회 오류:",r),r}}async createWatchRoom(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`시청방 생성에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("시청방 생성 오류:",r),r}}async getWatchRoom(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`시청방 조회에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("시청방 조회 오류:",r),r}}async joinWatchRoom(t){try{return{room:await this.getWatchRoom(t),participants:[],videoStatus:{videoControlAction:"PAUSE",currentTime:0,isPlaying:!1,timestamp:Date.now()},chatMessages:[]}}catch(r){throw console.error("시청방 입장 오류:",r),r}}async searchWatchRooms(t,r="participants"){return this.getWatchRooms({query:t,sortBy:r})}sortWatchRooms(t,r){return[...t].sort((n,s)=>{switch(r){case"participants":return s.headCount-n.headCount;case"latest":return s.headCount-n.headCount;case"oldest":return n.headCount-s.headCount;default:return s.headCount-n.headCount}})}filterWatchRooms(t,r){if(!r.trim())return t;const n=r.toLowerCase();return t.filter(s=>s.contentTitle.toLowerCase().includes(n)||s.ownerName.toLowerCase().includes(n))}}const Ml=new pS;function na({onPageChange:e,onPlaylistOpen:t,onContentPlay:r,getPlaylists:n,currentUserId:s}){const[i,a]=d.useState([]),[l,c]=d.useState([]),[u,h]=d.useState([]),[f,p]=d.useState(!0),y=async()=>{try{const m=await Ml.getWatchRooms({limit:9});a(m)}catch(m){console.error("Failed to fetch live rooms:",m)}},w=async()=>{try{const m=await Gn.getContents({size:20});c(m.data)}catch(m){console.error("Failed to fetch featured content:",m)}},x=async()=>{try{if(n&&s){const v=(await n()).filter(b=>b.userId===s);h(v.slice(0,8))}}catch(m){console.error("Failed to fetch my playlists:",m)}};d.useEffect(()=>{(async()=>{p(!0),await Promise.all([y(),w(),x()]),p(!1)})()},[]);const j=()=>{e&&e("playlist")},g=m=>{t&&t(m)};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:"친구들과 함께"}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:"실시간으로 즐기세요"})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:"영화, TV/드라마, 스포츠를 친구들과 실시간으로 시청하며 채팅으로 소통하세요"}),o.jsxs($,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Qt,{className:"w-5 h-5 mr-2"}),"실시간 시청방 만들기"]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tf,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"실시간 같이 보기"})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:["모두 보기",o.jsx(Ho,{className:"w-4 h-4 ml-1"})]})]}),o.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(3).fill(0).map((m,v)=>o.jsxs("div",{className:"flex-shrink-0 w-80 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},v)):i.slice(0,9).map(m=>o.jsxs("div",{className:"flex-shrink-0 w-80 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:"시청방"})]}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:"🔴 LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:["👥 ",m.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs($,{size:"sm",onClick:v=>{v.stopPropagation(),console.log("Joining room:",m.id)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),"참여하기"]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:m.contentTitle}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[m.ownerName,"의 방"]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Qn,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:"실시간"})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[m.headCount,"명 시청중"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:["호스트: ",m.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},m.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tn,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"추천 콘텐츠"})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:["모두 보기",o.jsx(Ho,{className:"w-4 h-4 ml-1"})]})]}),o.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(6).fill(0).map((m,v)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},v)):l.slice(0,20).map(m=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>r&&r({id:m.id,title:m.title,thumbnail:m.url,type:m.contentType==="MOVIE"?"movie":m.contentType==="TV"?"tv":"sports",duration:"120분",description:m.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:m.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:v=>{v.stopPropagation(),r&&r({id:m.id,title:m.title,thumbnail:m.url,type:m.contentType==="MOVIE"?"movie":m.contentType==="TV"?"tv":"sports",duration:"120분",description:m.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),"재생"]}),o.jsx($,{size:"sm",variant:"outline",onClick:v=>{v.stopPropagation(),console.log("Add to playlist:",m.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Qt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:m.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:m.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Tn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:m.releaseDate?new Date(m.releaseDate).getFullYear():"2024"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:"120분"}),o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${m.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":m.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:m.contentType==="MOVIE"?"영화":m.contentType==="TV"?"TV/드라마":"스포츠"})]})]})]},m.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Qn,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"내 플레이리스트"})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:j,children:["관리하기",o.jsx(Ho,{className:"w-4 h-4 ml-1"})]})]}),o.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(4).fill(0).map((m,v)=>o.jsxs("div",{className:"flex-shrink-0 w-80 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},v)):u.map((m,v)=>{const b=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],C=b[v%b.length];return o.jsxs("div",{className:"flex-shrink-0 w-80 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>g(m.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${C} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(al,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:m.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:T=>{T.stopPropagation(),g(m.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Nt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:m.isPublic?"공개":"비공개"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:m.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:"설명이 없습니다."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[m.playlistContents.length,"개 콘텐츠"]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Qn,{className:"w-3 h-3"}),o.jsx("span",{children:"0분"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Sf,{className:"w-3 h-3"}),o.jsx("span",{children:m.createdAt?new Date(m.createdAt).toLocaleDateString("ko-KR"):"날짜 없음"})]})]})]})]},m.id)})})]})]})]})}const vS=dx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function at({className:e,variant:t,asChild:r=!1,...n}){const s=r?lx:"span";return o.jsx(s,{"data-slot":"badge",className:ke(vS({variant:t}),e),...n})}class gS{constructor(){zn(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/keywords")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return i}async createKeyword(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`키워드 생성에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("키워드 생성 오류:",r),r}}async deleteKeyword(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!r.ok)throw new Error(`키워드 삭제에 실패했습니다. Status: ${r.status}`)}catch(r){throw console.error("키워드 삭제 오류:",r),r}}async getKeywordContents(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!r.ok)throw new Error(`키워드 콘텐츠 조회에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("키워드 콘텐츠 조회 오류:",r),r}}async getUserKeywords(t){try{const r=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${t}/keywords`);if(!r.ok)throw new Error(`사용자 키워드 조회에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("사용자 키워드 조회 오류:",r),r}}}const sa=new gS,xS=e=>({id:e.id,title:e.title,thumbnail:`/api/placeholder/300/400?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2시간 30분",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["액션","드라마"],displayGenres:["액션","드라마"],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function yS({onContentPlay:e,onContentDetail:t,onAddToPlaylist:r,userId:n}){const[s,i]=d.useState(""),[a,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[p,y]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{j()},[]),d.useEffect(()=>{if(c.length>0&&!s){const _=c[0];i(_.id),g(_.id)}},[c,s]);const j=async()=>{try{if(!n){console.error("사용자 ID가 없습니다.");return}const R=(await sa.getUserKeywords(n)).map(z=>({id:z.keywordId,label:z.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(R)}catch(_){console.error("사용자 키워드 로딩 실패:",_),u([])}},g=async _=>{try{x(!0);const z=(await sa.getKeywordContents(_)).map(xS),N=c.find(B=>B.id===_),E=z.filter(B=>B.type==="movie"),L=z.filter(B=>B.type==="tv"),V=z.filter(B=>B.type==="sports"),A=[];E.length>0&&A.push({id:`${_}-movie`,title:`${(N==null?void 0:N.label)||"키워드"} 영화`,items:E,category:"영화"}),L.length>0&&A.push({id:`${_}-tv`,title:`${(N==null?void 0:N.label)||"키워드"} TV 프로그램`,items:L,category:"TV"}),V.length>0&&A.push({id:`${_}-sports`,title:`${(N==null?void 0:N.label)||"키워드"} 스포츠`,items:V,category:"스포츠"}),l(A)}catch(R){console.error("콘텐츠 로딩 실패:",R),l([])}finally{x(!1)}},m=_=>{i(_),g(_)},v=async()=>{if(p.trim()){if(c.length>=10){alert("키워드는 최대 10개까지만 추가할 수 있습니다.");return}try{const _=await sa.createKeyword({userId:n||"temp-user-id",keyword:p.trim()}),R={id:_.keywordId,label:_.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(z=>[...z,R]),y(""),f(!1),alert("키워드가 추가되었습니다!")}catch(_){console.error("키워드 추가 실패:",_),alert("키워드 추가에 실패했습니다.")}}},b=async _=>{if(window.confirm("이 키워드를 삭제하시겠습니까?"))try{if(await sa.deleteKeyword(_),u(R=>R.filter(z=>z.id!==_)),s===_){const R=c.filter(z=>z.id!==_);R.length>0?(i(R[0].id),g(R[0].id)):(i(""),l([]))}alert("키워드가 삭제되었습니다.")}catch(R){console.error("키워드 삭제 실패:",R),alert("키워드 삭제에 실패했습니다.")}},C=_=>{const R=document.getElementById(_);R&&R.scrollBy({left:-400,behavior:"smooth"})},T=_=>{const R=document.getElementById(_);R&&R.scrollBy({left:400,behavior:"smooth"})},S=_=>_>=1e4?`${Math.floor(_/1e3)}K`:_.toLocaleString(),k=_=>{r==null||r(_),console.log(`Opening playlist modal for: ${_.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Om,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"취향 맞춤 큐레이션"})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"시청자 수가 많은 인기 콘텐츠를 키워드별로 만나보세요"}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(_=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx($,{variant:s===_.id?"default":"outline",size:"sm",onClick:()=>m(_.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===_.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===_.id?_.color:void 0,backgroundColor:s===_.id?_.color:void 0},children:_.label}),o.jsx($,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),b(_.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(pr,{className:"w-3 h-3"})})]},_.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Be,{value:p,onChange:_=>y(_.target.value),placeholder:"키워드 입력",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:_=>_.key==="Enter"&&v(),autoFocus:!0}),o.jsx($,{size:"sm",onClick:v,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(Fs,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>{f(!1),y("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(pr,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"키워드 추가"]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10 키워드 • 키워드별로 시청자 수가 많은 인기 콘텐츠를 확인하세요"]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"콘텐츠를 불러오는 중..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:a.map(_=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[_.title,o.jsxs(at,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(lt,{className:"w-3 h-3 mr-1"}),"인기순"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx($,{size:"sm",variant:"outline",onClick:()=>C(`section-${_.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(sx,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>T(`section-${_.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Ho,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${_.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:_.items.map((R,z)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[_.id==="trending"&&z<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(at,{className:`
                              ${z===0?"bg-yellow-500 text-black":""}
                              ${z===1?"bg-gray-300 text-black":""}
                              ${z===2?"bg-amber-600 text-white":""}
                            `,children:["#",z+1]})}),o.jsx("img",{src:R.thumbnail,alt:R.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:N=>{const E=N.target;E.style.display="none";const L=E.parentElement;if(L&&!L.querySelector(".image-fallback")){const V=document.createElement("div");V.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",V.textContent=R.title.charAt(0).toUpperCase(),L.appendChild(V)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs($,{size:"sm",onClick:()=>e(R),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),"재생"]}),t&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>t(R),className:"border-white/20 hover:bg-white/10",children:[o.jsx(ui,{className:"w-4 h-4 mr-1"}),"상세"]}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>k(R),className:"border-white/20 hover:bg-white/10",title:"플레이리스트에 추가",children:o.jsx(Qt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(Tf,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:S(R.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:R.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:R.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Tn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:R.rating})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(kf,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:R.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:R.displayGenres.slice(0,2).map(N=>o.jsx(at,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:N},N))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:R.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs($,{size:"sm",onClick:()=>e(R),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-2"}),"재생"]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx($,{size:"sm",variant:"outline",onClick:()=>t(R),className:"border-white/20 hover:bg-white/10",children:o.jsx(ui,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>k(R),className:"border-white/20 hover:bg-white/10",title:"플레이리스트에 추가",children:o.jsx(Qt,{className:"w-4 h-4"})})]})]})]})]},R.id))})]},_.id))}),!w&&a.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Om,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"등록된 키워드가 없습니다."}),o.jsx("p",{className:"text-white/40 text-sm",children:"새로운 키워드를 추가해보세요!"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"선택한 키워드에 해당하는 콘텐츠가 없습니다."})]})]})})}function ll(e){const[t,r]=d.useState(!1),n=()=>{r(!0)},{src:s,alt:i,style:a,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:a,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(Cf,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:"이미지 없음"})]})})}):o.jsx("img",{src:s,alt:i,className:l,style:a,...c,onError:n})}function wS({items:e=[],maxVisible:t=4,size:r="md"}){const n=e.slice(0,t),s=Math.max(0,e.length-t),i={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},a={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[n.map((l,c)=>o.jsx("div",{className:`${i[r]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(ll,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${i[r]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${a[r]} font-medium text-white/80`,children:["+",s]})})]})})}function td({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:ke("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const ko=[null];function bS({isOpen:e,onClose:t,onCreatePlaylist:r}){const[n,s]=d.useState(""),[i,a]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,p]=d.useState(!1),[y,w]=d.useState(!1),x=async v=>{v.preventDefault(),n.trim()&&(w(!0),console.log("Creating playlist:",{title:n.trim(),description:i.trim(),isPublic:l,coverImage:ko[u]}),await new Promise(b=>setTimeout(b,1e3)),r({title:n.trim(),description:i.trim(),isPublic:l,coverImage:ko[u]}),s(""),a(""),c(!0),h(0),p(!1),w(!1),t())},j=()=>{y||(s(""),a(""),c(!0),h(0),p(!1),t())},g=()=>{const v=ko[u];return v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(al,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:"테마 색상"})]})}):o.jsx("img",{src:v,alt:"플레이리스트 커버",className:"w-full h-full object-cover"})},m=(v,b)=>v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(al,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:v,alt:`커버 옵션 ${b+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:j}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"새 플레이리스트 만들기"}),o.jsx($,{variant:"ghost",size:"sm",onClick:j,className:"p-2 hover:bg-white/10",disabled:y,children:o.jsx(pr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Tt,{className:"text-sm mb-3 block",children:"커버 이미지"}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[g(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs($,{type:"button",variant:"ghost",onClick:()=>p(!f),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(Cf,{className:"w-4 h-4 mr-2"}),ko[u]===null?"이미지 선택":"이미지 변경"]})})]}),f&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:ko.map((v,b)=>o.jsxs("button",{type:"button",onClick:()=>{h(b),p(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===b?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[m(v,b),u===b&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Fs,{className:"w-3 h-3 text-[#4ecdc4]"})})]},b))})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"title",className:"text-sm",children:"플레이리스트 제목 *"}),o.jsx(Be,{id:"title",value:n,onChange:v=>s(v.target.value),placeholder:"예: 최고의 액션 영화",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[n.length,"/50자"]})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"description",className:"text-sm",children:"설명"}),o.jsx(td,{id:"description",value:i,onChange:v=>a(v.target.value),placeholder:"플레이리스트에 대한 설명을 입력해주세요...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[i.length,"/200자"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Tt,{className:"text-sm",children:"공개 설정"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(ol,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"공개"}),o.jsx("p",{className:"text-xs text-white/60",children:"모든 사용자가 볼 수 있습니다"})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(Fs,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(il,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"비공개"}),o.jsx("p",{className:"text-xs text-white/60",children:"나만 볼 수 있습니다"})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(Fs,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx($,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:j,disabled:y,children:"취소"}),o.jsx($,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!n.trim()||y,children:y?"생성 중...":"플레이리스트 만들기"})]})]})]})]}):null}function Hm({onPlaylistOpen:e,getPlaylists:t,createPlaylist:r,subscribePlaylist:n,unsubscribePlaylist:s,currentUserId:i,onUserProfileOpen:a}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,p]=d.useState(!1),[y,w]=d.useState(!0),[x,j]=d.useState(null),g=N=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(N);d.useEffect(()=>{m()},[]),d.useEffect(()=>{const N=setTimeout(()=>{m(l.trim()||void 0)},300);return()=>clearTimeout(N)},[l]);const m=async N=>{try{w(!0),j(null),console.log("🔄 플레이리스트 로딩 시작:",{searchKeyword:N});const E=await t(N);console.log("📋 플레이리스트 데이터 받음:",E),h(E)}catch(E){console.error("Error loading playlists:",E),j("플레이리스트를 불러올 수 없습니다.")}finally{w(!1)}},v=u,b=N=>{console.log(`Starting playlist with ID: ${N}`)},C=()=>{p(!0)},T=N=>{e&&e(N)},S=async N=>{try{await r({name:N.title,description:N.description,isPublic:N.isPublic}),console.log("🔄 플레이리스트 생성 후 목록 새로고침"),await m(l.trim()||void 0)}catch(E){console.error("Error creating playlist:",E),j("플레이리스트를 생성할 수 없습니다.")}},k=N=>!N.subscriptions||!i?!1:N.subscriptions.some(E=>E.userId===i),_=N=>!N.subscriptions||!i?null:N.subscriptions.find(E=>E.userId===i),R=async N=>{if(console.log("🎯 구독 토글 버튼 클릭됨:",{playlistId:N,currentUserId:i}),!n||!s||!i){console.error("구독 함수 또는 사용자 ID가 없습니다:",{subscribePlaylist:!!n,unsubscribePlaylist:!!s,currentUserId:i});return}const E=u.find(V=>V.id===N);if(!E){console.error("플레이리스트를 찾을 수 없습니다:",N);return}const L=k(E);console.log("현재 구독 상태:",{isSubscribed:L,subscriptions:E.subscriptions});try{if(L){const V=_(E);if(!V){console.error("구독 정보를 찾을 수 없습니다");return}console.log("구독 취소 실행:",V.id),await s(V.id)}else console.log("구독 실행:",N),await n(N);await m()}catch(V){console.error("구독 상태 변경 실패:",V)}},z=N=>N.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(al,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:N.name.charAt(0)})]})}):o.jsx(ll,{src:N.thumbnail,alt:N.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"플레이리스트"}),o.jsx("p",{className:"text-white/60",children:"다양한 플레이리스트를 탐색하고 관리하세요"})]}),o.jsxs($,{onClick:C,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Qt,{className:"w-5 h-5 mr-2"}),"새 플레이리스트"]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Be,{placeholder:"플레이리스트 검색...",value:l,onChange:N=>c(N.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.length}),o.jsx("p",{className:"text-white/60 text-sm",children:"총 플레이리스트"})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.reduce((N,E)=>{var L;return N+(E.contentCount||((L=E.playlistContents)==null?void 0:L.length)||0)},0)}),o.jsx("p",{className:"text-white/60 text-sm",children:"총 콘텐츠"})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.filter(N=>N.isPublic).length}),o.jsx("p",{className:"text-white/60 text-sm",children:"공개 플레이리스트"})]})]}),(console.log("🎯 Playlist 렌더링 상태:",{loading:y,error:x,playlistsLength:u.length,filteredLength:v.length}),y?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"플레이리스트를 불러오는 중..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx($,{onClick:()=>m(l.trim()||void 0),variant:"outline",className:"border-white/20 hover:bg-white/5",children:"다시 시도"})]}):v.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"검색 결과가 없습니다":"플레이리스트가 없습니다"}),!l&&o.jsx($,{onClick:C,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"첫 플레이리스트 만들기"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(N=>{var E;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>T(N.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[z(N),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:L=>{L.stopPropagation(),b(N.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Nt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:N.isPublic?"공개":"비공개"})}),N.userId&&N.userId!==i&&g(N.userId)&&n&&s&&o.jsx($,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${k(N)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:L=>{L.stopPropagation(),R(N.id)},children:o.jsx(En,{className:`w-4 h-4 ${k(N)?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:L=>L.stopPropagation(),children:o.jsx(ox,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:N.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:N.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(wS,{items:N.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[N.contentCount||((E=N.playlistContents)==null?void 0:E.length)||0,"개 콘텐츠"]})]}),N.userId&&N.userId!==i&&g(N.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:L=>{L.stopPropagation(),a==null||a(N.userId)},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:N.username?N.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:N.username||"플레이리스트 작성자"})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Qn,{className:"w-3 h-3"}),o.jsx("span",{children:N.totalDuration||"0분"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Sf,{className:"w-3 h-3"}),o.jsx("span",{children:N.createdAt?new Date(N.createdAt).toLocaleDateString("ko-KR"):"날짜 없음"})]})]})]})]},N.id)})}))]}),o.jsx(bS,{isOpen:f,onClose:()=>p(!1),onCreatePlaylist:S})]})}function le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var jS=Zp[" useId ".trim().toString()]||(()=>{}),NS=0;function Sn(e){const[t,r]=d.useState(jS());return Ye(()=>{r(n=>n??String(NS++))},[e]),e||(t?`radix-${t}`:"")}var SS=Zp[" useInsertionEffect ".trim().toString()]||Ye;function rs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=CS({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=d.useCallback(h=>{var f;if(l){const p=kS(h)?h(e):h;p!==e&&((f=a.current)==null||f.call(a,p))}else i(h)},[l,e,i,a]);return[c,u]}function CS({defaultProp:e,onChange:t}){const[r,n]=d.useState(e),s=d.useRef(r),i=d.useRef(t);return SS(()=>{i.current=t},[t]),d.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function kS(e){return typeof e=="function"}function ES(e,t=globalThis==null?void 0:globalThis.document){const r=vt(e);d.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var TS="DismissableLayer",rd="dismissableLayer.update",_S="dismissableLayer.pointerDownOutside",RS="dismissableLayer.focusOutside",Vm,Tx=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Af=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=d.useContext(Tx),[h,f]=d.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=d.useState({}),w=xe(t,S=>f(S)),x=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(j),m=h?x.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,b=m>=g,C=IS(S=>{const k=S.target,_=[...u.branches].some(R=>R.contains(k));!b||_||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},p),T=OS(S=>{const k=S.target;[...u.branches].some(R=>R.contains(k))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},p);return ES(S=>{m===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),d.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Vm=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Km(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Vm)}},[h,p,r,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Km())},[h,u]),d.useEffect(()=>{const S=()=>y({});return document.addEventListener(rd,S),()=>document.removeEventListener(rd,S)},[]),o.jsx(ae.div,{...c,ref:w,style:{pointerEvents:v?b?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,T.onFocusCapture),onBlurCapture:le(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,C.onPointerDownCapture)})});Af.displayName=TS;var PS="DismissableLayerBranch",AS=d.forwardRef((e,t)=>{const r=d.useContext(Tx),n=d.useRef(null),s=xe(t,n);return d.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(ae.div,{...e,ref:s})});AS.displayName=PS;function IS(e,t=globalThis==null?void 0:globalThis.document){const r=vt(e),n=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){_x(_S,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function OS(e,t=globalThis==null?void 0:globalThis.document){const r=vt(e),n=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!n.current&&_x(RS,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Km(){const e=new CustomEvent(rd);document.dispatchEvent(e)}function _x(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?LN(s,i):s.dispatchEvent(i)}var Mc="focusScope.autoFocusOnMount",Lc="focusScope.autoFocusOnUnmount",Gm={bubbles:!1,cancelable:!0},MS="FocusScope",If=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=d.useState(null),u=vt(s),h=vt(i),f=d.useRef(null),p=xe(t,x=>c(x)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let x=function(v){if(y.paused||!l)return;const b=v.target;l.contains(b)?f.current=b:an(f.current,{select:!0})},j=function(v){if(y.paused||!l)return;const b=v.relatedTarget;b!==null&&(l.contains(b)||an(f.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const C of v)C.removedNodes.length>0&&an(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",j);const m=new MutationObserver(g);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),m.disconnect()}}},[n,l,y.paused]),d.useEffect(()=>{if(l){qm.add(y);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(Mc,Gm);l.addEventListener(Mc,u),l.dispatchEvent(g),g.defaultPrevented||(LS(BS(Rx(l)),{select:!0}),document.activeElement===x&&an(l))}return()=>{l.removeEventListener(Mc,u),setTimeout(()=>{const g=new CustomEvent(Lc,Gm);l.addEventListener(Lc,h),l.dispatchEvent(g),g.defaultPrevented||an(x??document.body,{select:!0}),l.removeEventListener(Lc,h),qm.remove(y)},0)}}},[l,u,h,y]);const w=d.useCallback(x=>{if(!r&&!n||y.paused)return;const j=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(j&&g){const m=x.currentTarget,[v,b]=DS(m);v&&b?!x.shiftKey&&g===b?(x.preventDefault(),r&&an(v,{select:!0})):x.shiftKey&&g===v&&(x.preventDefault(),r&&an(b,{select:!0})):g===m&&x.preventDefault()}},[r,n,y.paused]);return o.jsx(ae.div,{tabIndex:-1,...a,ref:p,onKeyDown:w})});If.displayName=MS;function LS(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(an(n,{select:t}),document.activeElement!==r)return}function DS(e){const t=Rx(e),r=Xm(t,e),n=Xm(t.reverse(),e);return[r,n]}function Rx(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xm(e,t){for(const r of e)if(!$S(r,{upTo:t}))return r}function $S(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zS(e){return e instanceof HTMLInputElement&&"select"in e}function an(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zS(e)&&t&&e.select()}}var qm=FS();function FS(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Qm(e,t),e.unshift(t)},remove(t){var r;e=Qm(e,t),(r=e[0])==null||r.resume()}}}function Qm(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function BS(e){return e.filter(t=>t.tagName!=="A")}var WS="Portal",Of=d.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=d.useState(!1);Ye(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?_j.createPortal(o.jsx(ae.div,{...n,ref:t}),a):null});Of.displayName=WS;function US(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=HS(t),s=typeof r=="function"?r({present:n.isPresent}):d.Children.only(r),i=xe(n.ref,VS(s));return typeof r=="function"||n.isPresent?d.cloneElement(s,{ref:i}):null};rn.displayName="Presence";function HS(e){const[t,r]=d.useState(),n=d.useRef(null),s=d.useRef(e),i=d.useRef("none"),a=e?"mounted":"unmounted",[l,c]=US(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=oa(n.current);i.current=l==="mounted"?u:"none"},[l]),Ye(()=>{const u=n.current,h=s.current;if(h!==e){const p=i.current,y=oa(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ye(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=y=>{const x=oa(n.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},p=y=>{y.target===t&&(i.current=oa(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function oa(e){return(e==null?void 0:e.animationName)||"none"}function VS(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Dc=0;function Px(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ym()),document.body.insertAdjacentElement("beforeend",e[1]??Ym()),Dc++,()=>{Dc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dc--}},[])}function Ym(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sr=function(){return Sr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Sr.apply(this,arguments)};function Ax(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function KS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Aa="right-scroll-bar-position",Ia="width-before-scroll-bar",GS="with-scroll-bars-hidden",XS="--removed-body-scroll-bar-size";function $c(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qS(e,t){var r=d.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var QS=typeof window<"u"?d.useLayoutEffect:d.useEffect,Jm=new WeakMap;function YS(e,t){var r=qS(null,function(n){return e.forEach(function(s){return $c(s,n)})});return QS(function(){var n=Jm.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||$c(l,null)}),i.forEach(function(l){s.has(l)||$c(l,a)})}Jm.set(r,e)},[e]),r}function JS(e){return e}function ZS(e,t){t===void 0&&(t=JS);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),r}}}};return s}function e2(e){e===void 0&&(e={});var t=ZS(null);return t.options=Sr({async:!0,ssr:!1},e),t}var Ix=function(e){var t=e.sideCar,r=Ax(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return d.createElement(n,Sr({},r))};Ix.isSideCarExport=!0;function t2(e,t){return e.useMedium(t),Ix}var Ox=e2(),zc=function(){},Ll=d.forwardRef(function(e,t){var r=d.useRef(null),n=d.useState({onScrollCapture:zc,onWheelCapture:zc,onTouchMoveCapture:zc}),s=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,p=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,j=e.allowPinchZoom,g=e.as,m=g===void 0?"div":g,v=e.gapMode,b=Ax(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,T=YS([r,t]),S=Sr(Sr({},b),s);return d.createElement(d.Fragment,null,h&&d.createElement(C,{sideCar:Ox,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:x,setCallbacks:i,allowPinchZoom:!!j,lockRef:r,gapMode:v}),a?d.cloneElement(d.Children.only(l),Sr(Sr({},S),{ref:T})):d.createElement(m,Sr({},S,{className:c,ref:T}),l))});Ll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ll.classNames={fullWidth:Ia,zeroRight:Aa};var r2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function n2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=r2();return t&&e.setAttribute("nonce",t),e}function s2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function o2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var i2=function(){var e=0,t=null;return{add:function(r){e==0&&(t=n2())&&(s2(t,r),o2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},a2=function(){var e=i2();return function(t,r){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Mx=function(){var e=a2(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},l2={left:0,top:0,right:0,gap:0},Fc=function(e){return parseInt(e||"",10)||0},c2=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Fc(r),Fc(n),Fc(s)]},u2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return l2;var t=c2(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},d2=Mx(),Bs="data-scroll-locked",f2=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(GS,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Aa,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ia,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Aa," .").concat(Aa,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ia," .").concat(Ia,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bs,`] {
    `).concat(XS,": ").concat(l,`px;
  }
`)},Zm=function(){var e=parseInt(document.body.getAttribute(Bs)||"0",10);return isFinite(e)?e:0},h2=function(){d.useEffect(function(){return document.body.setAttribute(Bs,(Zm()+1).toString()),function(){var e=Zm()-1;e<=0?document.body.removeAttribute(Bs):document.body.setAttribute(Bs,e.toString())}},[])},m2=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;h2();var i=d.useMemo(function(){return u2(s)},[s]);return d.createElement(d2,{styles:f2(i,!t,s,r?"":"!important")})},nd=!1;if(typeof window<"u")try{var ia=Object.defineProperty({},"passive",{get:function(){return nd=!0,!0}});window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{nd=!1}var ys=nd?{passive:!1}:!1,p2=function(e){return e.tagName==="TEXTAREA"},Lx=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!p2(e)&&r[t]==="visible")},v2=function(e){return Lx(e,"overflowY")},g2=function(e){return Lx(e,"overflowX")},ep=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Dx(e,n);if(s){var i=$x(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},x2=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},y2=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Dx=function(e,t){return e==="v"?v2(t):g2(t)},$x=function(e,t){return e==="v"?x2(t):y2(t)},w2=function(e,t){return e==="h"&&t==="rtl"?-1:1},b2=function(e,t,r,n,s){var i=w2(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),u=!1,h=a>0,f=0,p=0;do{if(!l)break;var y=$x(e,l),w=y[0],x=y[1],j=y[2],g=x-j-i*w;(w||g)&&Dx(e,l)&&(f+=g,p+=w);var m=l.parentNode;l=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(u=!0),u},aa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tp=function(e){return[e.deltaX,e.deltaY]},rp=function(e){return e&&"current"in e?e.current:e},j2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},S2=0,ws=[];function C2(e){var t=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),s=d.useState(S2++)[0],i=d.useState(Mx)[0],a=d.useRef(e);d.useEffect(function(){a.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=KS([e.lockRef.current],(e.shards||[]).map(rp),!0).filter(Boolean);return x.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,j){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var g=aa(x),m=r.current,v="deltaX"in x?x.deltaX:m[0]-g[0],b="deltaY"in x?x.deltaY:m[1]-g[1],C,T=x.target,S=Math.abs(v)>Math.abs(b)?"h":"v";if("touches"in x&&S==="h"&&T.type==="range")return!1;var k=ep(S,T);if(!k)return!0;if(k?C=S:(C=S==="v"?"h":"v",k=ep(S,T)),!k)return!1;if(!n.current&&"changedTouches"in x&&(v||b)&&(n.current=C),!C)return!0;var _=n.current||C;return b2(_,j,x,_==="h"?v:b)},[]),c=d.useCallback(function(x){var j=x;if(!(!ws.length||ws[ws.length-1]!==i)){var g="deltaY"in j?tp(j):aa(j),m=t.current.filter(function(C){return C.name===j.type&&(C.target===j.target||j.target===C.shadowParent)&&j2(C.delta,g)})[0];if(m&&m.should){j.cancelable&&j.preventDefault();return}if(!m){var v=(a.current.shards||[]).map(rp).filter(Boolean).filter(function(C){return C.contains(j.target)}),b=v.length>0?l(j,v[0]):!a.current.noIsolation;b&&j.cancelable&&j.preventDefault()}}},[]),u=d.useCallback(function(x,j,g,m){var v={name:x,delta:j,target:g,should:m,shadowParent:k2(g)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(b){return b!==v})},1)},[]),h=d.useCallback(function(x){r.current=aa(x),n.current=void 0},[]),f=d.useCallback(function(x){u(x.type,tp(x),x.target,l(x,e.lockRef.current))},[]),p=d.useCallback(function(x){u(x.type,aa(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return ws.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ys),document.addEventListener("touchmove",c,ys),document.addEventListener("touchstart",h,ys),function(){ws=ws.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,ys),document.removeEventListener("touchmove",c,ys),document.removeEventListener("touchstart",h,ys)}},[]);var y=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(i,{styles:N2(s)}):null,y?d.createElement(m2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function k2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const E2=t2(Ox,C2);var Mf=d.forwardRef(function(e,t){return d.createElement(Ll,Sr({},e,{ref:t,sideCar:E2}))});Mf.classNames=Ll.classNames;var T2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bs=new WeakMap,la=new WeakMap,ca={},Bc=0,zx=function(e){return e&&(e.host||zx(e.parentNode))},_2=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=zx(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},R2=function(e,t,r,n){var s=_2(t,Array.isArray(e)?e:[e]);ca[r]||(ca[r]=new WeakMap);var i=ca[r],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(n),w=y!==null&&y!=="false",x=(bs.get(p)||0)+1,j=(i.get(p)||0)+1;bs.set(p,x),i.set(p,j),a.push(p),x===1&&w&&la.set(p,!0),j===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return h(t),l.clear(),Bc++,function(){a.forEach(function(f){var p=bs.get(f)-1,y=i.get(f)-1;bs.set(f,p),i.set(f,y),p||(la.has(f)||f.removeAttribute(n),la.delete(f)),y||f.removeAttribute(r)}),Bc--,Bc||(bs=new WeakMap,bs=new WeakMap,la=new WeakMap,ca={})}},Fx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=T2(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),R2(n,s,r,"aria-hidden")):function(){return null}},Dl="Dialog",[Bx,oR]=Mr(Dl),[P2,yr]=Bx(Dl),Wx=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=rs({prop:n,defaultProp:s??!1,onChange:i,caller:Dl});return o.jsx(P2,{scope:t,triggerRef:l,contentRef:c,contentId:Sn(),titleId:Sn(),descriptionId:Sn(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:a,children:r})};Wx.displayName=Dl;var Ux="DialogTrigger",A2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(Ux,r),i=xe(t,s.triggerRef);return o.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$f(s.open),...n,ref:i,onClick:le(e.onClick,s.onOpenToggle)})});A2.displayName=Ux;var Lf="DialogPortal",[I2,Hx]=Bx(Lf,{forceMount:void 0}),Vx=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=yr(Lf,t);return o.jsx(I2,{scope:t,forceMount:r,children:d.Children.map(n,a=>o.jsx(rn,{present:r||i.open,children:o.jsx(Of,{asChild:!0,container:s,children:a})}))})};Vx.displayName=Lf;var cl="DialogOverlay",Kx=d.forwardRef((e,t)=>{const r=Hx(cl,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=yr(cl,e.__scopeDialog);return i.modal?o.jsx(rn,{present:n||i.open,children:o.jsx(M2,{...s,ref:t})}):null});Kx.displayName=cl;var O2=Qs("DialogOverlay.RemoveScroll"),M2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(cl,r);return o.jsx(Mf,{as:O2,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ae.div,{"data-state":$f(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ns="DialogContent",Gx=d.forwardRef((e,t)=>{const r=Hx(ns,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=yr(ns,e.__scopeDialog);return o.jsx(rn,{present:n||i.open,children:i.modal?o.jsx(L2,{...s,ref:t}):o.jsx(D2,{...s,ref:t})})});Gx.displayName=ns;var L2=d.forwardRef((e,t)=>{const r=yr(ns,e.__scopeDialog),n=d.useRef(null),s=xe(t,r.contentRef,n);return d.useEffect(()=>{const i=n.current;if(i)return Fx(i)},[]),o.jsx(Xx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault())})}),D2=d.forwardRef((e,t)=>{const r=yr(ns,e.__scopeDialog),n=d.useRef(!1),s=d.useRef(!1);return o.jsx(Xx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Xx=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=yr(ns,r),c=d.useRef(null),u=xe(t,c);return Px(),o.jsxs(o.Fragment,{children:[o.jsx(If,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Af,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$f(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(z2,{titleId:l.titleId}),o.jsx(B2,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Df="DialogTitle",qx=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(Df,r);return o.jsx(ae.h2,{id:s.titleId,...n,ref:t})});qx.displayName=Df;var Qx="DialogDescription",$2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(Qx,r);return o.jsx(ae.p,{id:s.descriptionId,...n,ref:t})});$2.displayName=Qx;var Yx="DialogClose",Jx=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(Yx,r);return o.jsx(ae.button,{type:"button",...n,ref:t,onClick:le(e.onClick,()=>s.onOpenChange(!1))})});Jx.displayName=Yx;function $f(e){return e?"open":"closed"}var Zx="DialogTitleWarning",[iR,e0]=IN(Zx,{contentName:ns,titleName:Df,docsSlug:"dialog"}),z2=({titleId:e})=>{const t=e0(Zx),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},F2="DialogDescriptionWarning",B2=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e0(F2).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},W2=Wx,U2=Vx,H2=Kx,V2=Gx,K2=qx,G2=Jx;function $l({...e}){return o.jsx(W2,{"data-slot":"dialog",...e})}function X2({...e}){return o.jsx(U2,{"data-slot":"dialog-portal",...e})}function q2({className:e,...t}){return o.jsx(H2,{"data-slot":"dialog-overlay",className:ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function zl({className:e,children:t,...r}){return o.jsxs(X2,{"data-slot":"dialog-portal",children:[o.jsx(q2,{}),o.jsxs(V2,{"data-slot":"dialog-content",className:ke("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,o.jsxs(G2,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(pr,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Fl({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:ke("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Bl({className:e,...t}){return o.jsx(K2,{"data-slot":"dialog-title",className:ke("text-lg leading-none font-semibold",e),...t})}function Q2({playlistId:e,onBack:t,onContentPlay:r,getPlaylistById:n,addPlaylistContents:s,deletePlaylistContents:i}){var ie,me;const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState(!1),[p,y]=d.useState(!0),[w,x]=d.useState(null),[j,g]=d.useState(!1),[m,v]=d.useState([]),[b,C]=d.useState([]),[T,S]=d.useState(""),[k,_]=d.useState(!1),[R,z]=d.useState(!1),[N,E]=d.useState([]),L=d.useCallback(async()=>{try{y(!0),x(null),console.log("🔄 플레이리스트 상세 로딩 시작:",e);const F=await n(e);if(console.log("📋 플레이리스트 데이터 받음:",F),!F){console.error("❌ 플레이리스트 데이터가 없음"),x("플레이리스트를 찾을 수 없습니다.");return}l(F),u(F.playlistContents||[]),console.log("✅ 플레이리스트 상태 업데이트 완료:",{playlist:F,contents:F.playlistContents||[]})}catch(F){console.error("❌ 플레이리스트 상세 로딩 실패:",F),x("플레이리스트를 불러올 수 없습니다.")}finally{y(!1)}},[e,n]),V=d.useCallback(async()=>{try{console.log("🔄 콘텐츠 로딩 시작:",{searchQuery:T}),_(!0);const F=await Gn.getContents({size:20,query:T||void 0});console.log("📋 콘텐츠 응답 받음:",F),v(F.data||[]),console.log("✅ 콘텐츠 상태 업데이트:",F.data||[])}catch(F){console.error("❌ 콘텐츠 로딩 실패:",F)}finally{_(!1)}},[T]);if(d.useEffect(()=>{L()},[L]),d.useEffect(()=>{let F;return j&&(F=setTimeout(()=>{V()},300)),()=>{F&&clearTimeout(F)}},[T,j,V]),p)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"플레이리스트를 불러오는 중..."})})});if(w||!a)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:w||"플레이리스트를 찾을 수 없습니다"}),o.jsx($,{onClick:t,variant:"outline",children:"돌아가기"})]})});const A=F=>{console.log(`Removing content ${F} from playlist ${e}`),u(M=>M.filter(se=>se.id!==F))},B=F=>{r?r({id:F.id,title:F.title,thumbnail:F.thumbnail,type:F.type,duration:F.duration,description:F.description}):alert(`"${F.title}" 재생을 시작합니다.`)},P=()=>{console.log(`Playing playlist: ${a.name}`),alert(`"${a.name}" 전체 재생을 시작합니다.`)},U=()=>{console.log(`Shuffling playlist: ${a.name}`),alert(`"${a.name}" 셔플 재생을 시작합니다.`)},q=()=>{g(!0),V()},O=F=>{C(M=>M.includes(F)?M.filter(se=>se!==F):[...M,F])},K=async()=>{if(b.length===0){alert("추가할 콘텐츠를 선택해주세요.");return}try{console.log(`Adding content to playlist: ${e}`,b),await s(e,b),await L(),g(!1),C([]),S(""),alert(`${b.length}개의 콘텐츠가 플레이리스트에 추가되었습니다.`)}catch(F){console.error("콘텐츠 추가 실패:",F),alert("콘텐츠 추가에 실패했습니다.")}},Z=()=>{console.log("🔄 멀티 선택 모드 토글:",!R),z(!R),E([])},fe=F=>{E(M=>M.includes(F)?M.filter(se=>se!==F):[...M,F])},de=()=>{N.length===c.length?E([]):E(c.map(F=>F.id))},ye=async()=>{if(N.length===0){alert("삭제할 콘텐츠를 선택해주세요.");return}if(confirm(`선택한 ${N.length}개의 콘텐츠를 플레이리스트에서 제거하시겠습니까?`))try{await i(e,N),await L(),E([]),z(!1),alert(`${N.length}개의 콘텐츠가 제거되었습니다.`)}catch(M){console.error("콘텐츠 삭제 실패:",M),alert("콘텐츠 삭제에 실패했습니다.")}},re=()=>a.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:a.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:"플레이리스트"})]})}):o.jsx(ll,{src:a.coverImage,alt:a.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs($,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(so,{className:"w-5 h-5 mr-2"}),"플레이리스트로 돌아가기"]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:re()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(at,{variant:"secondary",className:"bg-white/10 text-white",children:"플레이리스트"}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:a.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:a.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(De,{className:"h-6 w-6",children:[o.jsx($e,{src:(ie=a.user)==null?void 0:ie.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:((me=a.username)==null?void 0:me.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:a.username||"Unknown"})]}),o.jsx("span",{children:"•"}),o.jsxs("span",{children:[c.length,"개 콘텐츠"]}),o.jsx("span",{children:"•"}),o.jsx("span",{children:a.totalDuration||"0분"}),o.jsx("span",{children:"•"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Sf,{className:"w-4 h-4"}),o.jsx("span",{children:a.createdAt?new Date(a.createdAt).toLocaleDateString("ko-KR"):"날짜 없음"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs($,{size:"lg",onClick:P,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(Nt,{className:"w-6 h-6 mr-2 fill-current"}),"재생"]}),o.jsxs($,{size:"lg",variant:"outline",onClick:U,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Hj,{className:"w-5 h-5 mr-2"}),"셔플"]}),o.jsxs($,{size:"lg",variant:"outline",onClick:Z,className:`border-white/20 hover:bg-white/10 ${R?"bg-white/10":""}`,children:[o.jsx(pr,{className:"w-5 h-5 mr-2"}),R?"선택 취소":"다중 선택"]}),R&&o.jsxs(o.Fragment,{children:[o.jsx($,{size:"lg",variant:"outline",onClick:de,className:"border-white/20 hover:bg-white/10",children:N.length===c.length?"전체 해제":"전체 선택"}),N.length>0&&o.jsxs($,{size:"lg",variant:"destructive",onClick:ye,className:"bg-red-600 hover:bg-red-700",children:["선택 삭제 (",N.length,")"]})]}),o.jsx($,{variant:"ghost",size:"lg",onClick:()=>f(!h),className:`p-3 hover:bg-white/10 ${h?"text-[#4ecdc4]":"text-white/60"}`,children:o.jsx(En,{className:`w-6 h-6 ${h?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(Uj,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(ox,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:"제목"}),o.jsx("div",{className:"col-span-2",children:"장르"}),o.jsx("div",{className:"col-span-2",children:"추가한 날짜"}),o.jsx("div",{className:"col-span-1",children:o.jsx(Qn,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:c.map((F,M)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("🎯 렌더링 시점 상태:",{isMultiSelectMode:R,contentId:F.id}),R)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>fe(F.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${N.includes(F.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:N.includes(F.id)&&o.jsx(Qt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:M+1}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>B(F),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(Nt,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(ll,{src:F.thumbnail,alt:F.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:F.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[F.year," • ",F.type==="movie"?"영화":F.type==="tv"?"드라마":"스포츠"]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:F.genre&&Array.isArray(F.genre)?F.genre.slice(0,2).join(", "):F.genre||"장르 없음"})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(F.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:F.duration})}),o.jsx("div",{className:"col-span-1",children:o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx($,{variant:"ghost",size:"sm",onClick:()=>A(F.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(pr,{className:"w-4 h-4"})})})})]})},F.id))}),c.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"이 플레이리스트에는 콘텐츠가 없습니다"}),o.jsx($,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:q,children:"콘텐츠 추가하기"})]})]})}),o.jsx($l,{open:j,onOpenChange:g,children:o.jsxs(zl,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(Fl,{children:o.jsx(Bl,{className:"text-white",children:"플레이리스트에 콘텐츠 추가"})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Be,{placeholder:"콘텐츠 검색...",value:T,onChange:F=>S(F.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),b.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[b.length,"개 콘텐츠 선택됨"]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:k?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"콘텐츠를 불러오는 중..."})}):!m||m.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"콘텐츠가 없습니다"})}):(m||[]).map(F=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${b.includes(F.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>O(F.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:F.thumbnail||"/placeholder-content.jpg",alt:F.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:F.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:F.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(at,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:F.contentType}),F.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:F.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:b.includes(F.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Qt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},F.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{g(!1),C([]),S("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"취소"}),o.jsx($,{onClick:K,disabled:b.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:b.length>0?`${b.length}개 추가`:"추가하기"})]})]})})]})}function di(e,[t,r]){return Math.min(r,Math.max(t,e))}function zf(e){const t=e+"CollectionProvider",[r,n]=Mr(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:j,children:g}=x,m=Wr.useRef(null),v=Wr.useRef(new Map).current;return o.jsx(s,{scope:j,itemMap:v,collectionRef:m,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=Qs(l),u=Wr.forwardRef((x,j)=>{const{scope:g,children:m}=x,v=i(l,g),b=xe(j,v.collectionRef);return o.jsx(c,{ref:b,children:m})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=Qs(h),y=Wr.forwardRef((x,j)=>{const{scope:g,children:m,...v}=x,b=Wr.useRef(null),C=xe(j,b),T=i(h,g);return Wr.useEffect(()=>(T.itemMap.set(b,{ref:b,...v}),()=>void T.itemMap.delete(b))),o.jsx(p,{[f]:"",ref:C,children:m})});y.displayName=h;function w(x){const j=i(e+"CollectionConsumer",x);return Wr.useCallback(()=>{const m=j.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((T,S)=>v.indexOf(T.ref.current)-v.indexOf(S.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:a,Slot:u,ItemSlot:y},w,n]}var Y2=d.createContext(void 0);function Ni(e){const t=d.useContext(Y2);return e||t||"ltr"}const J2=["top","right","bottom","left"],_n=Math.min,Lt=Math.max,ul=Math.round,ua=Math.floor,_r=e=>({x:e,y:e}),Z2={left:"right",right:"left",bottom:"top",top:"bottom"},eC={start:"end",end:"start"};function sd(e,t,r){return Lt(e,_n(t,r))}function Zr(e,t){return typeof e=="function"?e(t):e}function en(e){return e.split("-")[0]}function oo(e){return e.split("-")[1]}function Ff(e){return e==="x"?"y":"x"}function Bf(e){return e==="y"?"height":"width"}const tC=new Set(["top","bottom"]);function Cr(e){return tC.has(en(e))?"y":"x"}function Wf(e){return Ff(Cr(e))}function rC(e,t,r){r===void 0&&(r=!1);const n=oo(e),s=Wf(e),i=Bf(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=dl(a)),[a,dl(a)]}function nC(e){const t=dl(e);return[od(e),t,od(t)]}function od(e){return e.replace(/start|end/g,t=>eC[t])}const np=["left","right"],sp=["right","left"],sC=["top","bottom"],oC=["bottom","top"];function iC(e,t,r){switch(e){case"top":case"bottom":return r?t?sp:np:t?np:sp;case"left":case"right":return t?sC:oC;default:return[]}}function aC(e,t,r,n){const s=oo(e);let i=iC(en(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(od)))),i}function dl(e){return e.replace(/left|right|bottom|top/g,t=>Z2[t])}function lC(e){return{top:0,right:0,bottom:0,left:0,...e}}function t0(e){return typeof e!="number"?lC(e):{top:e,right:e,bottom:e,left:e}}function fl(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function op(e,t,r){let{reference:n,floating:s}=e;const i=Cr(t),a=Wf(t),l=Bf(a),c=en(t),u=i==="y",h=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-s.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-s.width,y:f};break;default:y={x:n.x,y:n.y}}switch(oo(t)){case"start":y[a]-=p*(r&&u?-1:1);break;case"end":y[a]+=p*(r&&u?-1:1);break}return y}const cC=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=op(u,n,c),p=n,y={},w=0;for(let x=0;x<l.length;x++){const{name:j,fn:g}=l[x],{x:m,y:v,data:b,reset:C}=await g({x:h,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:y,rects:u,platform:a,elements:{reference:e,floating:t}});h=m??h,f=v??f,y={...y,[j]:{...y[j],...b}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:h,y:f}=op(u,p,c)),x=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:y}};async function fi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=Zr(t,e),w=t0(y),j=l[p?f==="floating"?"reference":"floating":f],g=fl(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),m=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},C=fl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:v,strategy:c}):m);return{top:(g.top-C.top+w.top)/b.y,bottom:(C.bottom-g.bottom+w.bottom)/b.y,left:(g.left-C.left+w.left)/b.x,right:(C.right-g.right+w.right)/b.x}}const uC=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=Zr(e,t)||{};if(u==null)return{};const f=t0(h),p={x:r,y:n},y=Wf(s),w=Bf(y),x=await a.getDimensions(u),j=y==="y",g=j?"top":"left",m=j?"bottom":"right",v=j?"clientHeight":"clientWidth",b=i.reference[w]+i.reference[y]-p[y]-i.floating[w],C=p[y]-i.reference[y],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=T?T[v]:0;(!S||!await(a.isElement==null?void 0:a.isElement(T)))&&(S=l.floating[v]||i.floating[w]);const k=b/2-C/2,_=S/2-x[w]/2-1,R=_n(f[g],_),z=_n(f[m],_),N=R,E=S-x[w]-z,L=S/2-x[w]/2+k,V=sd(N,L,E),A=!c.arrow&&oo(s)!=null&&L!==V&&i.reference[w]/2-(L<N?R:z)-x[w]/2<0,B=A?L<N?L-N:L-E:0;return{[y]:p[y]+B,data:{[y]:V,centerOffset:L-V-B,...A&&{alignmentOffset:B}},reset:A}}}),dC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...j}=Zr(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=en(s),m=Cr(l),v=en(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(v||!x?[dl(l)]:nC(l)),T=w!=="none";!p&&T&&C.push(...aC(l,x,w,b));const S=[l,...C],k=await fi(t,j),_=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&_.push(k[g]),f){const L=rC(s,a,b);_.push(k[L[0]],k[L[1]])}if(R=[...R,{placement:s,overflows:_}],!_.every(L=>L<=0)){var z,N;const L=(((z=i.flip)==null?void 0:z.index)||0)+1,V=S[L];if(V&&(!(f==="alignment"?m!==Cr(V):!1)||R.every(P=>P.overflows[0]>0&&Cr(P.placement)===m)))return{data:{index:L,overflows:R},reset:{placement:V}};let A=(N=R.filter(B=>B.overflows[0]<=0).sort((B,P)=>B.overflows[1]-P.overflows[1])[0])==null?void 0:N.placement;if(!A)switch(y){case"bestFit":{var E;const B=(E=R.filter(P=>{if(T){const U=Cr(P.placement);return U===m||U==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((P,U)=>P[1]-U[1])[0])==null?void 0:E[0];B&&(A=B);break}case"initialPlacement":A=l;break}if(s!==A)return{reset:{placement:A}}}return{}}}};function ip(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ap(e){return J2.some(t=>e[t]>=0)}const fC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Zr(e,t);switch(n){case"referenceHidden":{const i=await fi(t,{...s,elementContext:"reference"}),a=ip(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ap(a)}}}case"escaped":{const i=await fi(t,{...s,altBoundary:!0}),a=ip(i,r.floating);return{data:{escapedOffsets:a,escaped:ap(a)}}}default:return{}}}}},r0=new Set(["left","top"]);async function hC(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=en(r),l=oo(r),c=Cr(r)==="y",u=r0.has(a)?-1:1,h=i&&c?-1:1,f=Zr(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:p*u}:{x:p*u,y:y*h}}const mC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await hC(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},pC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:j=>{let{x:g,y:m}=j;return{x:g,y:m}}},...c}=Zr(e,t),u={x:r,y:n},h=await fi(t,c),f=Cr(en(s)),p=Ff(f);let y=u[p],w=u[f];if(i){const j=p==="y"?"top":"left",g=p==="y"?"bottom":"right",m=y+h[j],v=y-h[g];y=sd(m,y,v)}if(a){const j=f==="y"?"top":"left",g=f==="y"?"bottom":"right",m=w+h[j],v=w-h[g];w=sd(m,w,v)}const x=l.fn({...t,[p]:y,[f]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[p]:i,[f]:a}}}}}},vC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zr(e,t),h={x:r,y:n},f=Cr(s),p=Ff(f);let y=h[p],w=h[f];const x=Zr(l,t),j=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=p==="y"?"height":"width",b=i.reference[p]-i.floating[v]+j.mainAxis,C=i.reference[p]+i.reference[v]-j.mainAxis;y<b?y=b:y>C&&(y=C)}if(u){var g,m;const v=p==="y"?"width":"height",b=r0.has(en(s)),C=i.reference[f]-i.floating[v]+(b&&((g=a.offset)==null?void 0:g[f])||0)+(b?0:j.crossAxis),T=i.reference[f]+i.reference[v]+(b?0:((m=a.offset)==null?void 0:m[f])||0)-(b?j.crossAxis:0);w<C?w=C:w>T&&(w=T)}return{[p]:y,[f]:w}}}},gC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Zr(e,t),h=await fi(t,u),f=en(s),p=oo(s),y=Cr(s)==="y",{width:w,height:x}=i.floating;let j,g;f==="top"||f==="bottom"?(j=f,g=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,j=p==="end"?"top":"bottom");const m=x-h.top-h.bottom,v=w-h.left-h.right,b=_n(x-h[j],m),C=_n(w-h[g],v),T=!t.middlewareData.shift;let S=b,k=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=m),T&&!p){const R=Lt(h.left,0),z=Lt(h.right,0),N=Lt(h.top,0),E=Lt(h.bottom,0);y?k=w-2*(R!==0||z!==0?R+z:Lt(h.left,h.right)):S=x-2*(N!==0||E!==0?N+E:Lt(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:S});const _=await a.getDimensions(l.floating);return w!==_.width||x!==_.height?{reset:{rects:!0}}:{}}}};function Wl(){return typeof window<"u"}function io(e){return n0(e)?(e.nodeName||"").toLowerCase():"#document"}function zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lr(e){var t;return(t=(n0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function n0(e){return Wl()?e instanceof Node||e instanceof zt(e).Node:!1}function vr(e){return Wl()?e instanceof Element||e instanceof zt(e).Element:!1}function Ar(e){return Wl()?e instanceof HTMLElement||e instanceof zt(e).HTMLElement:!1}function lp(e){return!Wl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zt(e).ShadowRoot}const xC=new Set(["inline","contents"]);function Si(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!xC.has(s)}const yC=new Set(["table","td","th"]);function wC(e){return yC.has(io(e))}const bC=[":popover-open",":modal"];function Ul(e){return bC.some(t=>{try{return e.matches(t)}catch{return!1}})}const jC=["transform","translate","scale","rotate","perspective"],NC=["transform","translate","scale","rotate","perspective","filter"],SC=["paint","layout","strict","content"];function Uf(e){const t=Hf(),r=vr(e)?gr(e):e;return jC.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||NC.some(n=>(r.willChange||"").includes(n))||SC.some(n=>(r.contain||"").includes(n))}function CC(e){let t=Rn(e);for(;Ar(t)&&!Js(t);){if(Uf(t))return t;if(Ul(t))return null;t=Rn(t)}return null}function Hf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kC=new Set(["html","body","#document"]);function Js(e){return kC.has(io(e))}function gr(e){return zt(e).getComputedStyle(e)}function Hl(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rn(e){if(io(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lp(e)&&e.host||Lr(e);return lp(t)?t.host:t}function s0(e){const t=Rn(e);return Js(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ar(t)&&Si(t)?t:s0(t)}function hi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=s0(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=zt(s);if(i){const l=id(a);return t.concat(a,a.visualViewport||[],Si(s)?s:[],l&&r?hi(l):[])}return t.concat(s,hi(s,[],r))}function id(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function o0(e){const t=gr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ar(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=ul(r)!==i||ul(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function Vf(e){return vr(e)?e:e.contextElement}function Ws(e){const t=Vf(e);if(!Ar(t))return _r(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=o0(t);let a=(i?ul(r.width):r.width)/n,l=(i?ul(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const EC=_r(0);function i0(e){const t=zt(e);return!Hf()||!t.visualViewport?EC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TC(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zt(e)?!1:t}function ss(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Vf(e);let a=_r(1);t&&(n?vr(n)&&(a=Ws(n)):a=Ws(e));const l=TC(i,r,n)?i0(i):_r(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const p=zt(i),y=n&&vr(n)?zt(n):n;let w=p,x=id(w);for(;x&&n&&y!==w;){const j=Ws(x),g=x.getBoundingClientRect(),m=gr(x),v=g.left+(x.clientLeft+parseFloat(m.paddingLeft))*j.x,b=g.top+(x.clientTop+parseFloat(m.paddingTop))*j.y;c*=j.x,u*=j.y,h*=j.x,f*=j.y,c+=v,u+=b,w=zt(x),x=id(w)}}return fl({width:h,height:f,x:c,y:u})}function Kf(e,t){const r=Hl(e).scrollLeft;return t?t.left+r:ss(Lr(e)).left+r}function a0(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Kf(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function _C(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=Lr(n),l=t?Ul(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=_r(1);const h=_r(0),f=Ar(n);if((f||!f&&!i)&&((io(n)!=="body"||Si(a))&&(c=Hl(n)),Ar(n))){const y=ss(n);u=Ws(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const p=a&&!f&&!i?a0(a,c,!0):_r(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:r.y*u.y-c.scrollTop*u.y+h.y+p.y}}function RC(e){return Array.from(e.getClientRects())}function PC(e){const t=Lr(e),r=Hl(e),n=e.ownerDocument.body,s=Lt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Lt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Kf(e);const l=-r.scrollTop;return gr(n).direction==="rtl"&&(a+=Lt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function AC(e,t){const r=zt(e),n=Lr(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Hf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const IC=new Set(["absolute","fixed"]);function OC(e,t){const r=ss(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ar(e)?Ws(e):_r(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function cp(e,t,r){let n;if(t==="viewport")n=AC(e,r);else if(t==="document")n=PC(Lr(e));else if(vr(t))n=OC(t,r);else{const s=i0(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fl(n)}function l0(e,t){const r=Rn(e);return r===t||!vr(r)||Js(r)?!1:gr(r).position==="fixed"||l0(r,t)}function MC(e,t){const r=t.get(e);if(r)return r;let n=hi(e,[],!1).filter(l=>vr(l)&&io(l)!=="body"),s=null;const i=gr(e).position==="fixed";let a=i?Rn(e):e;for(;vr(a)&&!Js(a);){const l=gr(a),c=Uf(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&IC.has(s.position)||Si(a)&&!c&&l0(e,a))?n=n.filter(h=>h!==a):s=l,a=Rn(a)}return t.set(e,n),n}function LC(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?Ul(t)?[]:MC(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,h)=>{const f=cp(t,h,s);return u.top=Lt(f.top,u.top),u.right=_n(f.right,u.right),u.bottom=_n(f.bottom,u.bottom),u.left=Lt(f.left,u.left),u},cp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function DC(e){const{width:t,height:r}=o0(e);return{width:t,height:r}}function $C(e,t,r){const n=Ar(t),s=Lr(t),i=r==="fixed",a=ss(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=_r(0);function u(){c.x=Kf(s)}if(n||!n&&!i)if((io(t)!=="body"||Si(s))&&(l=Hl(t)),n){const y=ss(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();i&&!n&&s&&u();const h=s&&!n&&!i?a0(s,l):_r(0),f=a.left+l.scrollLeft-c.x-h.x,p=a.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:a.width,height:a.height}}function Wc(e){return gr(e).position==="static"}function up(e,t){if(!Ar(e)||gr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Lr(e)===r&&(r=r.ownerDocument.body),r}function c0(e,t){const r=zt(e);if(Ul(e))return r;if(!Ar(e)){let s=Rn(e);for(;s&&!Js(s);){if(vr(s)&&!Wc(s))return s;s=Rn(s)}return r}let n=up(e,t);for(;n&&wC(n)&&Wc(n);)n=up(n,t);return n&&Js(n)&&Wc(n)&&!Uf(n)?r:n||CC(e)||r}const zC=async function(e){const t=this.getOffsetParent||c0,r=this.getDimensions,n=await r(e.floating);return{reference:$C(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function FC(e){return gr(e).direction==="rtl"}const BC={convertOffsetParentRelativeRectToViewportRelativeRect:_C,getDocumentElement:Lr,getClippingRect:LC,getOffsetParent:c0,getElementRects:zC,getClientRects:RC,getDimensions:DC,getScale:Ws,isElement:vr,isRTL:FC};function u0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WC(e,t){let r=null,n;const s=Lr(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=u;if(l||t(),!p||!y)return;const w=ua(f),x=ua(s.clientWidth-(h+p)),j=ua(s.clientHeight-(f+y)),g=ua(h),v={rootMargin:-w+"px "+-x+"px "+-j+"px "+-g+"px",threshold:Lt(0,_n(1,c))||1};let b=!0;function C(T){const S=T[0].intersectionRatio;if(S!==c){if(!b)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!u0(u,e.getBoundingClientRect())&&a(),b=!1}try{r=new IntersectionObserver(C,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,v)}r.observe(e)}return a(!0),i}function UC(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Vf(e),h=s||i?[...u?hi(u):[],...hi(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?WC(u,r):null;let p=-1,y=null;a&&(y=new ResizeObserver(g=>{let[m]=g;m&&m.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let w,x=c?ss(e):null;c&&j();function j(){const g=ss(e);x&&!u0(x,g)&&r(),x=g,w=requestAnimationFrame(j)}return r(),()=>{var g;h.forEach(m=>{s&&m.removeEventListener("scroll",r),i&&m.removeEventListener("resize",r)}),f==null||f(),(g=y)==null||g.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const HC=mC,VC=pC,KC=dC,GC=gC,XC=fC,dp=uC,qC=vC,QC=(e,t,r)=>{const n=new Map,s={platform:BC,...r},i={...s.platform,_c:n};return cC(e,t,{...s,platform:i})};var YC=typeof document<"u",JC=function(){},Oa=YC?d.useLayoutEffect:JC;function hl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hl(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!hl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function d0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fp(e,t){const r=d0(e);return Math.round(t*r)/r}function Uc(e){const t=d.useRef(e);return Oa(()=>{t.current=e}),t}function ZC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=d.useState(n);hl(p,n)||y(n);const[w,x]=d.useState(null),[j,g]=d.useState(null),m=d.useCallback(P=>{P!==T.current&&(T.current=P,x(P))},[]),v=d.useCallback(P=>{P!==S.current&&(S.current=P,g(P))},[]),b=i||w,C=a||j,T=d.useRef(null),S=d.useRef(null),k=d.useRef(h),_=c!=null,R=Uc(c),z=Uc(s),N=Uc(u),E=d.useCallback(()=>{if(!T.current||!S.current)return;const P={placement:t,strategy:r,middleware:p};z.current&&(P.platform=z.current),QC(T.current,S.current,P).then(U=>{const q={...U,isPositioned:N.current!==!1};L.current&&!hl(k.current,q)&&(k.current=q,no.flushSync(()=>{f(q)}))})},[p,t,r,z,N]);Oa(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const L=d.useRef(!1);Oa(()=>(L.current=!0,()=>{L.current=!1}),[]),Oa(()=>{if(b&&(T.current=b),C&&(S.current=C),b&&C){if(R.current)return R.current(b,C,E);E()}},[b,C,E,R,_]);const V=d.useMemo(()=>({reference:T,floating:S,setReference:m,setFloating:v}),[m,v]),A=d.useMemo(()=>({reference:b,floating:C}),[b,C]),B=d.useMemo(()=>{const P={position:r,left:0,top:0};if(!A.floating)return P;const U=fp(A.floating,h.x),q=fp(A.floating,h.y);return l?{...P,transform:"translate("+U+"px, "+q+"px)",...d0(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:q}},[r,l,A.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:E,refs:V,elements:A,floatingStyles:B}),[h,E,V,A,B])}const ek=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dp({element:n.current,padding:s}).fn(r):{}:n?dp({element:n,padding:s}).fn(r):{}}}},tk=(e,t)=>({...HC(e),options:[e,t]}),rk=(e,t)=>({...VC(e),options:[e,t]}),nk=(e,t)=>({...qC(e),options:[e,t]}),sk=(e,t)=>({...KC(e),options:[e,t]}),ok=(e,t)=>({...GC(e),options:[e,t]}),ik=(e,t)=>({...XC(e),options:[e,t]}),ak=(e,t)=>({...ek(e),options:[e,t]});var lk="Arrow",f0=d.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(ae.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});f0.displayName=lk;var ck=f0;function Gf(e){const[t,r]=d.useState(void 0);return Ye(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Xf="Popper",[h0,m0]=Mr(Xf),[uk,p0]=h0(Xf),v0=e=>{const{__scopePopper:t,children:r}=e,[n,s]=d.useState(null);return o.jsx(uk,{scope:t,anchor:n,onAnchorChange:s,children:r})};v0.displayName=Xf;var g0="PopperAnchor",x0=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=p0(g0,r),a=d.useRef(null),l=xe(t,a);return d.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(ae.div,{...s,ref:l})});x0.displayName=g0;var qf="PopperContent",[dk,fk]=h0(qf),y0=d.forwardRef((e,t)=>{var re,ie,me,F,M,se;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,j=p0(qf,r),[g,m]=d.useState(null),v=xe(t,Me=>m(Me)),[b,C]=d.useState(null),T=Gf(b),S=(T==null?void 0:T.width)??0,k=(T==null?void 0:T.height)??0,_=n+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},z=Array.isArray(u)?u:[u],N=z.length>0,E={padding:R,boundary:z.filter(mk),altBoundary:N},{refs:L,floatingStyles:V,placement:A,isPositioned:B,middlewareData:P}=ZC({strategy:"fixed",placement:_,whileElementsMounted:(...Me)=>UC(...Me,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[tk({mainAxis:s+k,alignmentAxis:a}),c&&rk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nk():void 0,...E}),c&&sk({...E}),ok({...E,apply:({elements:Me,rects:He,availableWidth:Xe,availableHeight:D})=>{const{width:X,height:te}=He.reference,I=Me.floating.style;I.setProperty("--radix-popper-available-width",`${Xe}px`),I.setProperty("--radix-popper-available-height",`${D}px`),I.setProperty("--radix-popper-anchor-width",`${X}px`),I.setProperty("--radix-popper-anchor-height",`${te}px`)}}),b&&ak({element:b,padding:l}),pk({arrowWidth:S,arrowHeight:k}),p&&ik({strategy:"referenceHidden",...E})]}),[U,q]=j0(A),O=vt(w);Ye(()=>{B&&(O==null||O())},[B,O]);const K=(re=P.arrow)==null?void 0:re.x,Z=(ie=P.arrow)==null?void 0:ie.y,fe=((me=P.arrow)==null?void 0:me.centerOffset)!==0,[de,ye]=d.useState();return Ye(()=>{g&&ye(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:B?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(F=P.transformOrigin)==null?void 0:F.x,(M=P.transformOrigin)==null?void 0:M.y].join(" "),...((se=P.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(dk,{scope:r,placedSide:U,onArrowChange:C,arrowX:K,arrowY:Z,shouldHideArrow:fe,children:o.jsx(ae.div,{"data-side":U,"data-align":q,...x,ref:v,style:{...x.style,animation:B?void 0:"none"}})})})});y0.displayName=qf;var w0="PopperArrow",hk={top:"bottom",right:"left",bottom:"top",left:"right"},b0=d.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=fk(w0,n),a=hk[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(ck,{...s,ref:r,style:{...s.style,display:"block"}})})});b0.displayName=w0;function mk(e){return e!==null}var pk=e=>({name:"transformOrigin",options:e,fn(t){var j,g,m;const{placement:r,rects:n,middlewareData:s}=t,a=((j=s.arrow)==null?void 0:j.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,h]=j0(r),f={start:"0%",center:"50%",end:"100%"}[h],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,y=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=a?f:`${p}px`,x=`${-c}px`):u==="top"?(w=a?f:`${p}px`,x=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=a?f:`${y}px`):u==="left"&&(w=`${n.floating.width+c}px`,x=a?f:`${y}px`),{data:{x:w,y:x}}}});function j0(e){const[t,r="center"]=e.split("-");return[t,r]}var vk=v0,gk=x0,xk=y0,yk=b0;function Qf(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var N0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wk="VisuallyHidden",bk=d.forwardRef((e,t)=>o.jsx(ae.span,{...e,ref:t,style:{...N0,...e.style}}));bk.displayName=wk;var jk=[" ","Enter","ArrowUp","ArrowDown"],Nk=[" ","Enter"],os="Select",[Vl,Kl,Sk]=zf(os),[ao,aR]=Mr(os,[Sk,m0]),Gl=m0(),[Ck,Mn]=ao(os),[kk,Ek]=ao(os),S0=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:p,required:y,form:w}=e,x=Gl(t),[j,g]=d.useState(null),[m,v]=d.useState(null),[b,C]=d.useState(!1),T=Ni(u),[S,k]=rs({prop:n,defaultProp:s??!1,onChange:i,caller:os}),[_,R]=rs({prop:a,defaultProp:l,onChange:c,caller:os}),z=d.useRef(null),N=j?w||!!j.closest("form"):!0,[E,L]=d.useState(new Set),V=Array.from(E).map(A=>A.props.value).join(";");return o.jsx(vk,{...x,children:o.jsxs(Ck,{required:y,scope:t,trigger:j,onTriggerChange:g,valueNode:m,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:Sn(),value:_,onValueChange:R,open:S,onOpenChange:k,dir:T,triggerPointerDownPosRef:z,disabled:p,children:[o.jsx(Vl.Provider,{scope:t,children:o.jsx(kk,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(A=>{L(B=>new Set(B).add(A))},[]),onNativeOptionRemove:d.useCallback(A=>{L(B=>{const P=new Set(B);return P.delete(A),P})},[]),children:r})}),N?o.jsxs(K0,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:_,onChange:A=>R(A.target.value),disabled:p,form:w,children:[_===void 0?o.jsx("option",{value:""}):null,Array.from(E)]},V):null]})})};S0.displayName=os;var C0="SelectTrigger",k0=d.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Gl(r),a=Mn(C0,r),l=a.disabled||n,c=xe(t,a.onTriggerChange),u=Kl(r),h=d.useRef("touch"),[f,p,y]=X0(x=>{const j=u().filter(v=>!v.disabled),g=j.find(v=>v.value===a.value),m=q0(j,x,g);m!==void 0&&a.onValueChange(m.value)}),w=x=>{l||(a.onOpenChange(!0),y()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(gk,{asChild:!0,...i,children:o.jsx(ae.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":G0(a.value)?"":void 0,...s,ref:c,onClick:le(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:le(s.onPointerDown,x=>{h.current=x.pointerType;const j=x.target;j.hasPointerCapture(x.pointerId)&&j.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:le(s.onKeyDown,x=>{const j=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(j&&x.key===" ")&&jk.includes(x.key)&&(w(),x.preventDefault())})})})});k0.displayName=C0;var E0="SelectValue",T0=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=e,c=Mn(E0,r),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=xe(t,c.onValueNodeChange);return Ye(()=>{u(h)},[u,h]),o.jsx(ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:G0(c.value)?o.jsx(o.Fragment,{children:a}):i})});T0.displayName=E0;var Tk="SelectIcon",_0=d.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});_0.displayName=Tk;var _k="SelectPortal",R0=e=>o.jsx(Of,{asChild:!0,...e});R0.displayName=_k;var is="SelectContent",P0=d.forwardRef((e,t)=>{const r=Mn(is,e.__scopeSelect),[n,s]=d.useState();if(Ye(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?no.createPortal(o.jsx(A0,{scope:e.__scopeSelect,children:o.jsx(Vl.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(I0,{...e,ref:t})});P0.displayName=is;var ir=10,[A0,Ln]=ao(is),Rk="SelectContentImpl",Pk=Qs("SelectContent.RemoveScroll"),I0=d.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:j,...g}=e,m=Mn(is,r),[v,b]=d.useState(null),[C,T]=d.useState(null),S=xe(t,re=>b(re)),[k,_]=d.useState(null),[R,z]=d.useState(null),N=Kl(r),[E,L]=d.useState(!1),V=d.useRef(!1);d.useEffect(()=>{if(v)return Fx(v)},[v]),Px();const A=d.useCallback(re=>{const[ie,...me]=N().map(se=>se.ref.current),[F]=me.slice(-1),M=document.activeElement;for(const se of re)if(se===M||(se==null||se.scrollIntoView({block:"nearest"}),se===ie&&C&&(C.scrollTop=0),se===F&&C&&(C.scrollTop=C.scrollHeight),se==null||se.focus(),document.activeElement!==M))return},[N,C]),B=d.useCallback(()=>A([k,v]),[A,k,v]);d.useEffect(()=>{E&&B()},[E,B]);const{onOpenChange:P,triggerPointerDownPosRef:U}=m;d.useEffect(()=>{if(v){let re={x:0,y:0};const ie=F=>{var M,se;re={x:Math.abs(Math.round(F.pageX)-(((M=U.current)==null?void 0:M.x)??0)),y:Math.abs(Math.round(F.pageY)-(((se=U.current)==null?void 0:se.y)??0))}},me=F=>{re.x<=10&&re.y<=10?F.preventDefault():v.contains(F.target)||P(!1),document.removeEventListener("pointermove",ie),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",me,{capture:!0})}}},[v,P,U]),d.useEffect(()=>{const re=()=>P(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[P]);const[q,O]=X0(re=>{const ie=N().filter(M=>!M.disabled),me=ie.find(M=>M.ref.current===document.activeElement),F=q0(ie,re,me);F&&setTimeout(()=>F.ref.current.focus())}),K=d.useCallback((re,ie,me)=>{const F=!V.current&&!me;(m.value!==void 0&&m.value===ie||F)&&(_(re),F&&(V.current=!0))},[m.value]),Z=d.useCallback(()=>v==null?void 0:v.focus(),[v]),fe=d.useCallback((re,ie,me)=>{const F=!V.current&&!me;(m.value!==void 0&&m.value===ie||F)&&z(re)},[m.value]),de=n==="popper"?ad:O0,ye=de===ad?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:j}:{};return o.jsx(A0,{scope:r,content:v,viewport:C,onViewportChange:T,itemRefCallback:K,selectedItem:k,onItemLeave:Z,itemTextRefCallback:fe,focusSelectedItem:B,selectedItemText:R,position:n,isPositioned:E,searchRef:q,children:o.jsx(Mf,{as:Pk,allowPinchZoom:!0,children:o.jsx(If,{asChild:!0,trapped:m.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:le(s,re=>{var ie;(ie=m.trigger)==null||ie.focus({preventScroll:!0}),re.preventDefault()}),children:o.jsx(Af,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:o.jsx(de,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:re=>re.preventDefault(),...g,...ye,onPlaced:()=>L(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:le(g.onKeyDown,re=>{const ie=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ie&&re.key.length===1&&O(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let F=N().filter(M=>!M.disabled).map(M=>M.ref.current);if(["ArrowUp","End"].includes(re.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const M=re.target,se=F.indexOf(M);F=F.slice(se+1)}setTimeout(()=>A(F)),re.preventDefault()}})})})})})})});I0.displayName=Rk;var Ak="SelectItemAlignedPosition",O0=d.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Mn(is,r),a=Ln(is,r),[l,c]=d.useState(null),[u,h]=d.useState(null),f=xe(t,S=>h(S)),p=Kl(r),y=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:j,selectedItemText:g,focusSelectedItem:m}=a,v=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&j&&g){const S=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),R=g.getBoundingClientRect();if(i.dir!=="rtl"){const M=R.left-k.left,se=_.left-M,Me=S.left-se,He=S.width+Me,Xe=Math.max(He,k.width),D=window.innerWidth-ir,X=di(se,[ir,Math.max(ir,D-Xe)]);l.style.minWidth=He+"px",l.style.left=X+"px"}else{const M=k.right-R.right,se=window.innerWidth-_.right-M,Me=window.innerWidth-S.right-se,He=S.width+Me,Xe=Math.max(He,k.width),D=window.innerWidth-ir,X=di(se,[ir,Math.max(ir,D-Xe)]);l.style.minWidth=He+"px",l.style.right=X+"px"}const z=p(),N=window.innerHeight-ir*2,E=x.scrollHeight,L=window.getComputedStyle(u),V=parseInt(L.borderTopWidth,10),A=parseInt(L.paddingTop,10),B=parseInt(L.borderBottomWidth,10),P=parseInt(L.paddingBottom,10),U=V+A+E+P+B,q=Math.min(j.offsetHeight*5,U),O=window.getComputedStyle(x),K=parseInt(O.paddingTop,10),Z=parseInt(O.paddingBottom,10),fe=S.top+S.height/2-ir,de=N-fe,ye=j.offsetHeight/2,re=j.offsetTop+ye,ie=V+A+re,me=U-ie;if(ie<=fe){const M=z.length>0&&j===z[z.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-x.offsetTop-x.offsetHeight,Me=Math.max(de,ye+(M?Z:0)+se+B),He=ie+Me;l.style.height=He+"px"}else{const M=z.length>0&&j===z[0].ref.current;l.style.top="0px";const Me=Math.max(fe,V+x.offsetTop+(M?K:0)+ye)+me;l.style.height=Me+"px",x.scrollTop=ie-fe+x.offsetTop}l.style.margin=`${ir}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[p,i.trigger,i.valueNode,l,u,x,j,g,i.dir,n]);Ye(()=>v(),[v]);const[b,C]=d.useState();Ye(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const T=d.useCallback(S=>{S&&w.current===!0&&(v(),m==null||m(),w.current=!1)},[v,m]);return o.jsx(Ok,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:o.jsx(ae.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});O0.displayName=Ak;var Ik="SelectPopperPosition",ad=d.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ir,...i}=e,a=Gl(r);return o.jsx(xk,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ad.displayName=Ik;var[Ok,Yf]=ao(is,{}),ld="SelectViewport",M0=d.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Ln(ld,r),a=Yf(ld,r),l=xe(t,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Vl.Slot,{scope:r,children:o.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:le(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const w=window.innerHeight-ir*2,x=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),g=Math.max(x,j);if(g<w){const m=g+y,v=Math.min(w,m),b=m-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});M0.displayName=ld;var L0="SelectGroup",[Mk,Lk]=ao(L0),Dk=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Sn();return o.jsx(Mk,{scope:r,id:s,children:o.jsx(ae.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Dk.displayName=L0;var D0="SelectLabel",$k=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Lk(D0,r);return o.jsx(ae.div,{id:s.id,...n,ref:t})});$k.displayName=D0;var ml="SelectItem",[zk,$0]=ao(ml),z0=d.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,l=Mn(ml,r),c=Ln(ml,r),u=l.value===n,[h,f]=d.useState(i??""),[p,y]=d.useState(!1),w=xe(t,m=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,m,n,s)}),x=Sn(),j=d.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(zk,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(m=>{f(v=>v||((m==null?void 0:m.textContent)??"").trim())},[]),children:o.jsx(Vl.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:o.jsx(ae.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:le(a.onFocus,()=>y(!0)),onBlur:le(a.onBlur,()=>y(!1)),onClick:le(a.onClick,()=>{j.current!=="mouse"&&g()}),onPointerUp:le(a.onPointerUp,()=>{j.current==="mouse"&&g()}),onPointerDown:le(a.onPointerDown,m=>{j.current=m.pointerType}),onPointerMove:le(a.onPointerMove,m=>{var v;j.current=m.pointerType,s?(v=c.onItemLeave)==null||v.call(c):j.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(a.onPointerLeave,m=>{var v;m.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:le(a.onKeyDown,m=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&m.key===" "||(Nk.includes(m.key)&&g(),m.key===" "&&m.preventDefault())})})})})});z0.displayName=ml;var Ao="SelectItemText",F0=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=Mn(Ao,r),l=Ln(Ao,r),c=$0(Ao,r),u=Ek(Ao,r),[h,f]=d.useState(null),p=xe(t,g=>f(g),c.onItemTextChange,g=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,g,c.value,c.disabled)}),y=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:j}=u;return Ye(()=>(x(w),()=>j(w)),[x,j,w]),o.jsxs(o.Fragment,{children:[o.jsx(ae.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?no.createPortal(i.children,a.valueNode):null]})});F0.displayName=Ao;var B0="SelectItemIndicator",W0=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return $0(B0,r).isSelected?o.jsx(ae.span,{"aria-hidden":!0,...n,ref:t}):null});W0.displayName=B0;var cd="SelectScrollUpButton",U0=d.forwardRef((e,t)=>{const r=Ln(cd,e.__scopeSelect),n=Yf(cd,e.__scopeSelect),[s,i]=d.useState(!1),a=xe(t,n.onScrollButtonChange);return Ye(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(V0,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});U0.displayName=cd;var ud="SelectScrollDownButton",H0=d.forwardRef((e,t)=>{const r=Ln(ud,e.__scopeSelect),n=Yf(ud,e.__scopeSelect),[s,i]=d.useState(!1),a=xe(t,n.onScrollButtonChange);return Ye(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(V0,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});H0.displayName=ud;var V0=d.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Ln("SelectScrollButton",r),a=d.useRef(null),l=Kl(r),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Ye(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:le(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:le(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:le(s.onPointerLeave,()=>{c()})})}),Fk="SelectSeparator",Bk=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ae.div,{"aria-hidden":!0,...n,ref:t})});Bk.displayName=Fk;var dd="SelectArrow",Wk=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Gl(r),i=Mn(dd,r),a=Ln(dd,r);return i.open&&a.position==="popper"?o.jsx(yk,{...s,...n,ref:t}):null});Wk.displayName=dd;var Uk="SelectBubbleInput",K0=d.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=d.useRef(null),i=xe(n,s),a=Qf(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ae.select,{...r,style:{...N0,...r.style},ref:i,defaultValue:t})});K0.displayName=Uk;function G0(e){return e===""||e===void 0}function X0(e){const t=vt(e),r=d.useRef(""),n=d.useRef(0),s=d.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function q0(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=Hk(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Hk(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Vk=S0,Kk=k0,Gk=T0,Xk=_0,qk=R0,Qk=P0,Yk=M0,Jk=z0,Zk=F0,eE=W0,tE=U0,rE=H0;function Jf({...e}){return o.jsx(Vk,{"data-slot":"select",...e})}function Zf({...e}){return o.jsx(Gk,{"data-slot":"select-value",...e})}function eh({className:e,size:t="default",children:r,...n}){return o.jsxs(Kk,{"data-slot":"select-trigger","data-size":t,className:ke("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,o.jsx(Xk,{asChild:!0,children:o.jsx(nx,{className:"size-4 opacity-50"})})]})}function th({className:e,children:t,position:r="popper",...n}){return o.jsx(qk,{children:o.jsxs(Qk,{"data-slot":"select-content",className:ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(nE,{}),o.jsx(Yk,{className:ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(sE,{})]})})}function kr({className:e,children:t,...r}){return o.jsxs(Jk,{"data-slot":"select-item",className:ke("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(eE,{children:o.jsx(Fs,{className:"size-4"})})}),o.jsx(Zk,{children:t})]})}function nE({className:e,...t}){return o.jsx(tE,{"data-slot":"select-scroll-up-button",className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Ij,{className:"size-4"})})}function sE({className:e,...t}){return o.jsx(rE,{"data-slot":"select-scroll-down-button",className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(nx,{className:"size-4"})})}const oE=e=>{switch(e){case"movies":return"영화";case"tv":return"TV/드라마";case"sports":return"스포츠";default:return"콘텐츠"}};function Hc({category:e,onContentPlay:t,onContentDetail:r,onAddToPlaylist:n}){const[s,i]=d.useState(""),[a,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[p,y]=d.useState(null),[w,x]=d.useState(!1),[j,g]=d.useState(),[m,v]=d.useState(!1),b=oE(e),C=N=>{switch(N){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},T=async(N=!1)=>{try{N?v(!0):f(!0),y(null);const E=await Gn.getContents({type:C(e),query:s||void 0,sortBy:a==="latest"||a==="rating"?"RELEASE_AT":a==="title"?"TITLE":"RELEASE_AT",direction:a==="title"?"ASC":"DESC",cursor:N?j:void 0,size:20});u(N?L=>[...L,...E.data]:E.data),x(E.hasNext),g(E.nextCursor)}catch(E){console.error("콘텐츠 로드 오류:",E),y(E instanceof Error?E.message:"콘텐츠를 불러오는 중 오류가 발생했습니다.")}finally{f(!1),v(!1)}};d.useEffect(()=>{T(!1)},[e]),d.useEffect(()=>{const N=setTimeout(()=>{T(!1)},300);return()=>clearTimeout(N)},[s,a]);const S=()=>{w&&!h&&!m&&T(!0)},k=N=>({id:N.id,title:N.title,thumbnail:N.thumbnail||"",type:N.contentType.toLowerCase(),duration:N.duration||"120분",description:N.description||"",rating:N.rating,reviewCount:N.reviewCount,year:N.year||new Date(N.releaseDate).getFullYear()}),_=N=>{n==null||n(k(N))},R=N=>{t(k(N))},z=N=>{r==null||r(k(N))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:b}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(cs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Be,{placeholder:`${b} 검색...`,value:s,onChange:N=>i(N.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Jf,{value:a,onValueChange:l,children:[o.jsx(eh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Zf,{placeholder:"정렬"})}),o.jsxs(th,{children:[o.jsx(kr,{value:"latest",children:"최신순"}),o.jsx(kr,{value:"rating",children:"평점 높은 순"}),o.jsx(kr,{value:"title",children:"제목순"})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?"로딩 중...":`${c.length}개 콘텐츠`}),o.jsx(at,{variant:"outline",className:Gn.getTypeColor(C(e)),children:b})]})]}),p&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:p}),o.jsx($,{onClick:()=>T(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:"다시 시도"})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(dr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"콘텐츠를 불러오는 중..."})]}),!h&&!p&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(N=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>z(N),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:N.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:E=>{E.stopPropagation(),R(N)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),"재생"]}),o.jsx($,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),_(N)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Qt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:N.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:N.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[N.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Tn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:N.rating}),N.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",N.reviewCount,")"]})]}),N.year&&o.jsx("span",{className:"text-xs text-white/60",children:N.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:N.duration}),o.jsx(at,{variant:"outline",className:Gn.getTypeColor(N.contentType),children:Gn.getTypeLabel(N.contentType)})]})]})]},N.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx($,{onClick:S,disabled:m,variant:"outline",className:"border-white/20 hover:bg-white/5",children:m?o.jsxs(o.Fragment,{children:[o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}),"로딩 중..."]}):"더 보기"})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(kf,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"검색 결과가 없습니다.":`${b} 콘텐츠가 없습니다.`}),s&&o.jsxs($,{variant:"outline",onClick:()=>i(""),className:"border-white/20 hover:bg-white/5",children:["전체 ",b," 보기"]})]})]})]})})}class iE{constructor(){zn(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/reviews")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return i}async getReviewsByContentId(t){try{const r=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/contents/${t}/reviews`);if(!r.ok)throw new Error(`리뷰 목록 조회에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("리뷰 목록 조회 오류:",r),r}}async getReviewById(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`리뷰 조회에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("리뷰 조회 오류:",r),r}}async createReview(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`리뷰 생성에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("리뷰 생성 오류:",r),r}}async updateReview(t,r){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(r)});if(!n.ok)throw new Error(`리뷰 수정에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("리뷰 수정 오류:",n),n}}async deleteReview(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!r.ok)throw new Error(`리뷰 삭제에 실패했습니다. Status: ${r.status}`)}catch(r){throw console.error("리뷰 삭제 오류:",r),r}}async getReviewsByUserId(t){try{const r=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${t}/reviews`);if(!r.ok)throw new Error(`사용자 리뷰 목록 조회에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("사용자 리뷰 목록 조회 오류:",r),r}}}const da=new iE,fa=({rating:e,editable:t=!1,size:r="md",onChange:n})=>{const[s,i]=d.useState(0),a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return o.jsx("div",{className:"star-rating",children:[1,2,3,4,5].map(l=>o.jsx(Tn,{className:`${a[r]} ${l<=(s||e)?"star filled":"star"} ${t?"cursor-pointer":"cursor-default"}`,onClick:t?()=>n==null?void 0:n(l):void 0,onMouseEnter:t?()=>i(l):void 0,onMouseLeave:t?()=>i(0):void 0},l))})};function aE({content:e,onBack:t,onPlay:r,currentUser:n}){const[s,i]=d.useState(""),[a,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[p,y]=d.useState(!1),[w,x]=d.useState(null),[j,g]=d.useState(""),[m,v]=d.useState(0),[b,C]=d.useState(!1),[T,S]=d.useState(null),k=async()=>{f(!0);try{const B=(await da.getReviewsByContentId(e.id)).map(P=>({...P,contentId:e.id,createdAt:new Date().toISOString(),user:{id:P.authorId,name:P.authorName,avatar:P.authorId===(n==null?void 0:n.id)?n.avatar:void 0}}));u(B)}catch(A){console.error("리뷰 불러오기 실패:",A)}finally{f(!1)}},_=c.length>0?c.reduce((A,B)=>A+B.rating,0)/c.length:0,R=async()=>{if(!(!s.trim()||a===0||!n)){y(!0);try{const A={userId:n.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:a},P={...await da.createReview(A),contentId:e.id,createdAt:new Date().toISOString(),user:{id:n.id,name:n.name,avatar:n.avatar}};u([P,...c]),i(""),l(0)}catch(A){console.error("리뷰 작성 실패:",A)}finally{y(!1)}}},z=A=>{x(A),g(A.comment),v(A.rating)},N=()=>{x(null),g(""),v(0)},E=async()=>{if(!(!w||!j.trim()||m===0)){C(!0);try{const A={title:j.trim().substring(0,100),comment:j.trim(),rating:m},B=await da.updateReview(w.id,A);u(c.map(P=>P.id===w.id?{...P,...B}:P)),N()}catch(A){console.error("리뷰 수정 실패:",A)}finally{C(!1)}}},L=async A=>{S(A);try{await da.deleteReview(A),u(c.filter(B=>B.id!==A))}catch(B){console.error("리뷰 삭제 실패:",B)}finally{S(null)}};d.useEffect(()=>{e.id&&k()},[e.id]);const V=A=>{switch(A){case"movie":return"영화";case"tv":return"드라마";case"sports":return"스포츠";default:return"콘텐츠"}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs($,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(so,{className:"w-4 h-4 mr-2"}),"뒤로가기"]}),o.jsx("h1",{className:"text-xl",children:"콘텐츠 상세정보"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:V(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(at,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:V(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||"정보 없음"})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fa,{rating:_,size:"lg"}),o.jsx("span",{className:"text-xl",children:_.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length,"개 리뷰)"]})]})}),o.jsxs($,{size:"lg",onClick:()=>r(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(Nt,{className:"w-5 h-5 mr-3"}),"재생하기"]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:"줄거리"}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:["리뷰 (",c.length,")"]}),n&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:"리뷰 작성"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"평점"}),o.jsx(fa,{rating:a,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"리뷰 내용"}),o.jsx(td,{value:s,onChange:A=>i(A.target.value),placeholder:"이 작품에 대한 솔직한 리뷰를 남겨주세요...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs($,{onClick:R,disabled:!s.trim()||a===0||p||!n,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Ef,{className:"w-4 h-4 mr-2"}),p?"등록 중...":"리뷰 등록"]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"리뷰를 불러오는 중..."})}):c.map(A=>{var B,P,U,q;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(w==null?void 0:w.id)===A.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(De,{children:[o.jsx($e,{src:(B=A.user)==null?void 0:B.avatar}),o.jsx(ze,{children:((P=A.authorName)==null?void 0:P[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:A.authorName||"익명 사용자"}),o.jsx("span",{className:"text-white/60 text-sm",children:"리뷰 수정 중"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"평점"}),o.jsx(fa,{rating:m,editable:!0,size:"lg",onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"리뷰 내용"}),o.jsx(td,{value:j,onChange:O=>g(O.target.value),placeholder:"리뷰를 수정해주세요...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($,{onClick:E,disabled:!j.trim()||m===0||b,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:b?"수정 중...":"수정 완료"}),o.jsx($,{onClick:N,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:"취소"})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(De,{children:[o.jsx($e,{src:(U=A.user)==null?void 0:U.avatar}),o.jsx(ze,{children:((q=A.authorName)==null?void 0:q[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:A.authorName||"익명 사용자"}),o.jsx(fa,{rating:A.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:A.createdAt?new Date(A.createdAt).toLocaleDateString():"방금 전"})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:A.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:n&&A.authorId===n.id&&o.jsxs(o.Fragment,{children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>z(A),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(Bj,{className:"w-4 h-4 mr-1"}),"수정"]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>L(A.id),disabled:T===A.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Yu,{className:"w-4 h-4 mr-1"}),T===A.id?"삭제 중...":"삭제"]})]})})]})]})},A.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"아직 리뷰가 없습니다. 첫 번째 리뷰를 작성해보세요!"})})]})]})]})}function lE({isOpen:e,onClose:t,userId:r,targetUserId:n,authenticatedFetch:s,onUserProfileOpen:i,refreshUserProfile:a,getPlaylists:l,onPlaylistOpen:c}){const[u,h]=d.useState("김모플"),[f,p]=d.useState("user@moplay.kr"),[y,w]=d.useState(!1),[x,j]=d.useState(null),[g,m]=d.useState(""),[v,b]=d.useState(!1),[C,T]=d.useState(null),[S,k]=d.useState(null),[_,R]=d.useState([]),[z,N]=d.useState([]),[E,L]=d.useState(!1),[V,A]=d.useState(!1),[B,P]=d.useState("profile"),[U,q]=d.useState([]),O=n||r,K=!!(n&&n!==r);d.useEffect(()=>{e&&(T(null),O?(Z(),fe(),de(),ie(),K&&ye()):T("사용자 정보가 없습니다. 다시 로그인해주세요."))},[e,O,K]);const Z=async()=>{try{const M=await fetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${O}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!M.ok)throw new Error("사용자 정보를 가져오는데 실패했습니다.");const se=await M.json();k(se),h(se.name),p(se.email)}catch(M){console.error("사용자 정보 로딩 오류:",M),T("사용자 정보를 가져오는데 실패했습니다.")}},fe=async()=>{try{const M=await s(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${O}/followers`);if(!M.ok)throw new Error("팔로워 목록을 가져오는데 실패했습니다.");const se=await M.json();R(se)}catch(M){console.error("팔로워 목록 조회 오류:",M)}},de=async()=>{try{const M=await s(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${O}/following`);if(!M.ok)throw new Error("팔로잉 목록을 가져오는데 실패했습니다.");const se=await M.json();N(se)}catch(M){console.error("팔로잉 목록 조회 오류:",M)}},ye=async()=>{if(!(!r||!O))try{const M=await s(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${r}/is-following/${O}`);if(!M.ok)throw new Error("팔로우 상태를 확인하는데 실패했습니다.");const se=await M.json();L(se)}catch(M){console.error("팔로우 상태 확인 오류:",M)}},re=async()=>{if(!(!r||!O)){A(!0);try{if(E){if(!(await s("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/unfollow",{method:"DELETE",body:JSON.stringify({followerId:r,followingId:O})})).ok)throw new Error("언팔로우에 실패했습니다.");L(!1),R(se=>se.filter(Me=>Me.id!==r))}else{if(!(await s("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/follow",{method:"POST",body:JSON.stringify({followerId:r,followingId:O})})).ok)throw new Error("팔로우에 실패했습니다.");L(!0),S&&R(se=>[...se,{id:r,name:"나",email:"",profileImage:""}])}}catch(M){console.error("팔로우 처리 오류:",M),alert(M instanceof Error?M.message:"팔로우 처리 중 오류가 발생했습니다.")}finally{A(!1)}}},ie=async()=>{if(l)try{const M=await l();q(M)}catch(M){console.error("플레이리스트 목록 조회 오류:",M)}},me=M=>{i&&(t(),i(M))},F=async()=>{b(!0),T(null);try{if(!r){T("사용자 정보가 없습니다. 다시 로그인해주세요."),b(!1);return}if(!g.trim()){T("프로필 수정을 위해 현재 비밀번호를 입력해주세요."),b(!1);return}const M=new FormData,se={newName:u,newPassword:g};console.log("Request data:",se);const Me=new Blob([JSON.stringify(se)],{type:"application/json"});M.append("request",Me),x&&(M.append("profile",x),console.log("Profile image added:",x.name)),console.log("FormData entries:");for(let[D,X]of M.entries())console.log(D,X);const He=await fetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${r}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:M});if(!He.ok){const D=await He.json();throw new Error(D.message||"프로필 업데이트에 실패했습니다.")}const Xe=await He.json();k(Xe),h(Xe.name),p(Xe.email),j(null),await Z(),alert("프로필이 성공적으로 업데이트되었습니다."),a&&a(),m(""),t()}catch(M){console.error("프로필 업데이트 오류:",M),T(M instanceof Error?M.message:"프로필 업데이트 중 오류가 발생했습니다.")}finally{b(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:K?`${(S==null?void 0:S.name)||"사용자"}의 프로필`:"프로필 관리"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[K&&o.jsx($,{onClick:re,disabled:V,className:`${E?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:V?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):E?o.jsxs(o.Fragment,{children:[o.jsx(ix,{className:"w-4 h-4"}),o.jsx("span",{children:"언팔로우"})]}):o.jsxs(o.Fragment,{children:[o.jsx(_f,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로우"})]})}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(pr,{className:"w-5 h-5"})})]})]}),C&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:C}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(De,{className:"h-20 w-20 mb-4",children:[o.jsx($e,{src:x?URL.createObjectURL(x):S==null?void 0:S.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xl",children:u.charAt(0)})]}),!K&&o.jsx($,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>w(!y),children:o.jsx(rx,{className:"w-4 h-4"})})]}),y&&!K&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(Ex,{selectedImage:x,onImageSelect:j,onClose:()=>w(!1),userName:u})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:_.length}),o.jsx("div",{className:"text-sm text-white/60",children:"팔로워"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:z.length}),o.jsx("div",{className:"text-sm text-white/60",children:"팔로잉"})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx($,{variant:B==="profile"?"default":"ghost",size:"sm",onClick:()=>P("profile"),className:B==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:"프로필"}),o.jsxs($,{variant:B==="followers"?"default":"ghost",size:"sm",onClick:()=>P("followers"),className:`${B==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로워"})]}),o.jsxs($,{variant:B==="following"?"default":"ghost",size:"sm",onClick:()=>P("following"),className:`${B==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(En,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로잉"})]}),o.jsxs($,{variant:B==="playlists"?"default":"ghost",size:"sm",onClick:()=>P("playlists"),className:`${B==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Ic,{className:"w-4 h-4"}),o.jsx("span",{children:"플레이리스트"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[B==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"name",className:"text-sm",children:"이름"}),o.jsx(Be,{id:"name",value:u,onChange:M=>h(M.target.value),disabled:K,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${K?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"email",className:"text-sm",children:"이메일"}),o.jsx(Be,{id:"email",value:f,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!K&&o.jsxs("div",{children:[o.jsxs(Tt,{htmlFor:"password",className:"text-sm",children:["현재 비밀번호",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Be,{id:"password",type:"password",value:g,onChange:M=>m(M.target.value),placeholder:"프로필 수정을 위해 현재 비밀번호를 입력하세요",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"보안을 위해 현재 비밀번호 확인이 필요합니다."})]})]}),B==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[_.map(M=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>M.id&&me(M.id),children:[o.jsxs(De,{className:"h-10 w-10",children:[o.jsx($e,{src:M.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.name}),o.jsx("p",{className:"text-white/60 text-sm",children:M.email})]})]},M.id)),_.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(lt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"팔로워가 없습니다."})]})]}),B==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[z.map(M=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>M.id&&me(M.id),children:[o.jsxs(De,{className:"h-10 w-10",children:[o.jsx($e,{src:M.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.name}),o.jsx("p",{className:"text-white/60 text-sm",children:M.email})]})]},M.id)),z.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(En,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"팔로잉이 없습니다."})]})]}),B==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[U.map(M=>{var se;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{c&&(t(),c(M.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:M.thumbnail?o.jsx("img",{src:M.thumbnail,alt:M.title||M.name,className:"w-full h-full object-cover"}):o.jsx(Ic,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.title||M.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[M.contentCount||((se=M.playlistContents)==null?void 0:se.length)||0,"개 콘텐츠",M.isPublic?" • 공개":" • 비공개"]})]})]},M.id)}),U.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ic,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:K?"플레이리스트가 없습니다.":"아직 만든 플레이리스트가 없습니다."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx($,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:v,children:K?"닫기":"취소"}),!K&&o.jsx($,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:F,disabled:v||!r,children:v?"저장 중...":"저장"})]})]})]}):null}class cE{constructor(t){zn(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t=await this.authenticatedFetch("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/");if(!t.ok)throw new Error("Failed to fetch DM rooms");return t.json()}async getRoom(t){const r=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/${t}`);if(!r.ok)throw new Error("Failed to fetch DM room");return r.json()}async getOrCreateRoom(t){const r=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/userRoom?userB=${t}`);if(!r.ok)throw new Error("Failed to get or create DM room");return r.json()}async getDmMessages(t){const r=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dm/${t}`);if(!r.ok)throw new Error("Failed to fetch DM messages");return r.json()}async getFollowing(t){const r=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${t}/following`);if(!r.ok)throw new Error("Failed to fetch following list");return r.json()}}function uE({isOpen:e,onClose:t,onOpenChat:r,authenticatedFetch:n,currentUserId:s,getDmRooms:i,getOrCreateDmRoom:a}){const[l,c]=d.useState(""),[u,h]=d.useState(!1),[f,p]=d.useState([]),[y,w]=d.useState([]),[x,j]=d.useState(!1),[g,m]=d.useState(null),v=new cE(n),b=f.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())),C=y.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())),T=N=>{console.log(`Opening conversation with ${N.name}`),r({id:N.userId,name:N.name,avatar:N.avatar,isOnline:N.isOnline,roomId:N.id})},S=()=>{h(!0),c("")},k=()=>{h(!1),c("")},_=async N=>{try{j(!0);const E=await a(N.id);console.log(`Starting new conversation with ${N.name}, room: ${E}`),r({id:N.id,name:N.name,avatar:N.avatar,isOnline:N.isOnline,roomId:E}),h(!1),c("")}catch(E){console.error("Error starting conversation:",E),m("대화를 시작할 수 없습니다.")}finally{j(!1)}};d.useEffect(()=>{e&&s&&(R(),z())},[e,s]);const R=async()=>{try{j(!0),m(null);const E=(await i()).map(L=>{const V=L.senderId===s?{id:L.receiverId,name:L.receiverName,avatar:"",isOnline:!1}:{id:L.senderId,name:L.senderName,avatar:"",isOnline:!1},A=B=>{const P=new Date(B),q=new Date().getTime()-P.getTime(),O=Math.floor(q/(1e3*60)),K=Math.floor(q/(1e3*60*60)),Z=Math.floor(q/(1e3*60*60*24));return O<1?"방금 전":O<60?`${O}분 전`:K<24?`${K}시간 전`:Z===1?"어제":`${Z}일 전`};return{id:L.id,userId:(V==null?void 0:V.id)||"",name:(V==null?void 0:V.name)||"알 수 없는 사용자",avatar:(V==null?void 0:V.avatar)||"",lastMessage:L.lastMessage||"아직 메시지가 없습니다",timestamp:(L.lastMessage,A(L.createdAt)),unreadCount:L.newMessageCount||0,isOnline:(V==null?void 0:V.isOnline)||!1}});p(E)}catch(N){console.error("Error loading DM rooms:",N),m("대화 목록을 불러올 수 없습니다.")}finally{j(!1)}},z=async()=>{if(s)try{const E=(await v.getFollowing(s)).map(L=>({id:L.id,name:L.name||"알 수 없는 사용자",avatar:L.profileImage||"",isOnline:!1,mutualFriends:0}));w(E)}catch(N){console.error("Error loading chat partners:",N)}};return e?o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[u&&o.jsx($,{variant:"ghost",size:"sm",onClick:k,className:"p-1 hover:bg-white/10",children:o.jsx(so,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:u?"대화상대 선택":"메시지"})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(pr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Be,{placeholder:"대화상대 검색...",value:l,onChange:N=>c(N.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u?o.jsx(o.Fragment,{children:C.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"검색 결과가 없습니다":"대화상대가 없습니다"}):o.jsx("div",{className:"space-y-1 p-2",children:C.map(N=>o.jsxs("div",{onClick:()=>_(N),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(De,{className:"h-14 w-14",children:[o.jsx($e,{src:N.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:N.name.charAt(0)})]}),N.isOnline&&o.jsx(Pm,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:N.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["공통 팔로우 ",N.mutualFriends,"명"]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:N.isOnline?"온라인":"오프라인"})]},N.id))})}):o.jsxs(o.Fragment,{children:[x&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"대화 목록을 불러오는 중..."}),g&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:g}),!x&&!g&&b.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"검색 결과가 없습니다":"대화가 없습니다"}),!x&&!g&&b.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:b.map(N=>o.jsxs("div",{onClick:()=>T(N),className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(De,{className:"h-14 w-14",children:[o.jsx($e,{src:N.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:N.name.charAt(0)})]}),N.isOnline&&o.jsx(Pm,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:N.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:N.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:N.lastMessage}),N.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:N.unreadCount>9?"9+":N.unreadCount})]})]})]},N.id))})]})}),!u&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs($,{onClick:S,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(lt,{className:"w-5 h-5 mr-2"}),"새 메시지"]})})]})}):null}function dE(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var rh="ScrollArea",[Q0,lR]=Mr(rh),[fE,er]=Q0(rh),Y0=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,p]=d.useState(null),[y,w]=d.useState(null),[x,j]=d.useState(null),[g,m]=d.useState(0),[v,b]=d.useState(0),[C,T]=d.useState(!1),[S,k]=d.useState(!1),_=xe(t,z=>c(z)),R=Ni(s);return o.jsx(fE,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:p,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:T,scrollbarY:x,onScrollbarYChange:j,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:m,onCornerHeightChange:b,children:o.jsx(ae.div,{dir:R,...a,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});Y0.displayName=rh;var J0="ScrollAreaViewport",Z0=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=er(J0,r),l=d.useRef(null),c=xe(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Z0.displayName=J0;var Dr="ScrollAreaScrollbar",ey=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=er(Dr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(hE,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(mE,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(ty,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(nh,{...n,ref:t}):null});ey.displayName=Dr;var hE=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=er(Dr,e.__scopeScrollArea),[i,a]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(rn,{present:r||i,children:o.jsx(ty,{"data-state":i?"visible":"hidden",...n,ref:t})})}),mE=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=er(Dr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=ql(()=>c("SCROLL_END"),100),[l,c]=dE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const p=()=>{const y=u[h];f!==y&&(c("SCROLL"),a()),f=y};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,a]),o.jsx(rn,{present:r||l!=="hidden",children:o.jsx(nh,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ty=d.forwardRef((e,t)=>{const r=er(Dr,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=d.useState(!1),l=e.orientation==="horizontal",c=ql(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:h)}},10);return Zs(r.viewport,c),Zs(r.content,c),o.jsx(rn,{present:n||i,children:o.jsx(nh,{"data-state":i?"visible":"hidden",...s,ref:t})})}),nh=d.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=er(Dr,e.__scopeScrollArea),i=d.useRef(null),a=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=iy(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function f(p,y){return wE(p,a.current,l,y)}return r==="horizontal"?o.jsx(pE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,y=hp(p,l,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):r==="vertical"?o.jsx(vE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,y=hp(p,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),pE=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=er(Dr,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=xe(t,c,i.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(ny,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xl(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(p),ly(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vl(a.paddingLeft),paddingEnd:vl(a.paddingRight)}})}})}),vE=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=er(Dr,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=xe(t,c,i.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(ny,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xl(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(p),ly(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vl(a.paddingTop),paddingEnd:vl(a.paddingBottom)}})}})}),[gE,ry]=Q0(Dr),ny=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...p}=e,y=er(Dr,r),[w,x]=d.useState(null),j=xe(t,_=>x(_)),g=d.useRef(null),m=d.useRef(""),v=y.viewport,b=n.content-n.viewport,C=vt(h),T=vt(c),S=ql(f,10);function k(_){if(g.current){const R=_.clientX-g.current.left,z=_.clientY-g.current.top;u({x:R,y:z})}}return d.useEffect(()=>{const _=R=>{const z=R.target;(w==null?void 0:w.contains(z))&&C(R,b)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[v,w,b,C]),d.useEffect(T,[n,T]),Zs(w,S),Zs(y.content,S),o.jsx(gE,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:vt(i),onThumbPointerUp:vt(a),onThumbPositionChange:T,onThumbPointerDown:vt(l),children:o.jsx(ae.div,{...p,ref:j,style:{position:"absolute",...p.style},onPointerDown:le(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),g.current=w.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(_))}),onPointerMove:le(e.onPointerMove,k),onPointerUp:le(e.onPointerUp,_=>{const R=_.target;R.hasPointerCapture(_.pointerId)&&R.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=m.current,y.viewport&&(y.viewport.style.scrollBehavior=""),g.current=null})})})}),pl="ScrollAreaThumb",sy=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=ry(pl,e.__scopeScrollArea);return o.jsx(rn,{present:r||s.hasThumb,children:o.jsx(xE,{ref:t,...n})})}),xE=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=er(pl,r),a=ry(pl,r),{onThumbPositionChange:l}=a,c=xe(t,f=>a.onThumbChange(f)),u=d.useRef(void 0),h=ql(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(h(),!u.current){const y=bE(f,l);u.current=y,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,h,l]),o.jsx(ae.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:le(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,x=f.clientY-y.top;a.onThumbPointerDown({x:w,y:x})}),onPointerUp:le(e.onPointerUp,a.onThumbPointerUp)})});sy.displayName=pl;var sh="ScrollAreaCorner",oy=d.forwardRef((e,t)=>{const r=er(sh,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(yE,{...e,ref:t}):null});oy.displayName=sh;var yE=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=er(sh,r),[i,a]=d.useState(0),[l,c]=d.useState(0),u=!!(i&&l);return Zs(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Zs(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),u?o.jsx(ae.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vl(e){return e?parseInt(e,10):0}function iy(e,t){const r=e/t;return isNaN(r)?0:r}function Xl(e){const t=iy(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function wE(e,t,r,n="ltr"){const s=Xl(r),i=s/2,a=t||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=n==="ltr"?[0,h]:[h*-1,0];return ay([c,u],f)(e)}function hp(e,t,r="ltr"){const n=Xl(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,a]:[a*-1,0],u=di(e,c);return ay([0,a],[0,l])(u)}function ay(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ly(e,t){return e>0&&e<t}var bE=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ql(e,t){const r=vt(e),n=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),d.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Zs(e,t){const r=vt(t);Ye(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var jE=Y0,NE=Z0,SE=oy;function CE({className:e,children:t,...r}){return o.jsxs(jE,{"data-slot":"scroll-area",className:ke("relative",e),...r,children:[o.jsx(NE,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(kE,{}),o.jsx(SE,{})]})}function kE({className:e,orientation:t="vertical",...r}){return o.jsx(ey,{"data-slot":"scroll-area-scrollbar",orientation:t,className:ke("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:o.jsx(sy,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function EE(e,t){e.terminate=function(){const r=()=>{};this.onerror=r,this.onmessage=r,this.onopen=r;const n=new Date,s=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const l=new Date().getTime()-n.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Io={LF:`
`,NULL:"\0"};class fn{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:r,headers:n,body:s,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:l}=t;this.command=r,this.headers=Object.assign({},n||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,r){const n={},s=i=>i.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const a=s(i[0]);let l=s(i[1]);r&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=fn.hdrValueUnEscape(l)),n[a]=l}return new fn({command:t.command,headers:n,binaryBody:t.binaryBody,escapeHeaderValues:r})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?fn.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Io.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const r of Object.keys(this.headers||{})){const n=this.headers[r];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${r}:${fn.hdrValueEscape(`${n}`)}`):t.push(`${r}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Io.LF)+Io.LF+Io.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,r){const n=new TextEncoder().encode(t),s=new Uint8Array([0]),i=new Uint8Array(n.length+r.length+s.length);return i.set(n),i.set(r,n.length),i.set(s,n.length+r.length),i}static marshall(t){return new fn(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const mp=0,ha=10,ma=13,TE=58;class _E{constructor(t,r){this.onFrame=t,this.onIncomingPing=r,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,r=!1){let n;if(typeof t=="string"?n=this._encoder.encode(t):n=new Uint8Array(t),r&&n[n.length-1]!==0){const s=new Uint8Array(n.length+1);s.set(n,0),s[n.length]=0,n=s}for(let s=0;s<n.length;s++){const i=n[s];this._onByte(i)}}_collectFrame(t){if(t!==mp&&t!==ma){if(t===ha){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==ma){if(t===ha){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==ma){if(t===ha){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===TE){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==ma){if(t===ha){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(r=>r[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===mp){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var hn;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(hn||(hn={}));var ar;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(ar||(ar={}));var gl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(gl||(gl={}));var mi;(function(e){e.Interval="interval",e.Worker="worker"})(mi||(mi={}));class RE{constructor(t,r=mi.Interval,n){this._interval=t,this._strategy=r,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===mi.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=r=>t(r.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const r=Date.now();this._timer=setInterval(()=>{t(Date.now()-r)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class bt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}bt.V1_0="1.0";bt.V1_1="1.1";bt.V1_2="1.2";bt.default=new bt([bt.V1_2,bt.V1_1,bt.V1_0]);class PE{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,r,n){this._client=t,this._webSocket=r,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===bt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const i=s.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===bt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,i,h),l.nack=(h={})=>c.nack(u,i,h),a(l)},RECEIPT:s=>{const i=this._receiptWatchers[s.headers["receipt-id"]];i?(i(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}start(){const t=new _E(r=>{const n=fn.fromRawFrame(r,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=r=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data;this.debug(`<<< ${n}`)}t.parseChunk(r.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=r=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(r)},this._webSocket.onerror=r=>{this.onWebSocketError(r)},this._webSocket.onopen=()=>{const r=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),r["accept-version"]=this.stompVersions.supportedVersions(),r["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:r})}}_setupHeartbeat(t){if(t.version!==bt.V1_1&&t.version!==bt.V1_2||!t["heart-beat"])return;const[r,n]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&n!==0){const s=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${s}ms`),this._pinger=new RE(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===hn.OPEN&&(this._webSocket.send(Io.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&r!==0){const s=Math.max(this.heartbeatIncoming,r);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>s*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===hn.CONNECTING||this._webSocket.readyState===hn.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&EE(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:r,headers:n,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=new fn({command:r,headers:n,body:s,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,r=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(r)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===hn.CONNECTING||this._webSocket.readyState===hn.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:r,headers:n,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=Object.assign({destination:r},n);this._transmit({command:"SEND",headers:l,body:s,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(t,r){this._receiptWatchers[t]=r}subscribe(t,r,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=t,this._subscriptions[n.id]=r,this._transmit({command:"SUBSCRIBE",headers:n});const s=this;return{id:n.id,unsubscribe(i){return s.unsubscribe(n.id,i)}}}unsubscribe(t,r={}){r=Object.assign({},r),delete this._subscriptions[t],r.id=t,this._transmit({command:"UNSUBSCRIBE",headers:r})}begin(t){const r=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:r}});const n=this;return{id:r,commit(){n.commit(r)},abort(){n.abort(r)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,r,n={}){n=Object.assign({},n),this._connectedVersion===bt.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"ACK",headers:n})}nack(t,r,n={}){return n=Object.assign({},n),this._connectedVersion===bt.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"NACK",headers:n})}}class cy{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===ar.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=bt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=gl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=mi.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=ar.INACTIVE;const r=()=>{};this.debug=r,this.beforeConnect=r,this.onConnect=r,this.onDisconnect=r,this.onUnhandledMessage=r,this.onUnhandledReceipt=r,this.onUnhandledFrame=r,this.onStompError=r,this.onWebSocketClose=r,this.onWebSocketError=r,this.logRawCommunication=!1,this.onChangeState=r,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(ar.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===ar.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new PE(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:r=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(r)},onDisconnect:r=>{this.onDisconnect(r)},onStompError:r=>{this.onStompError(r)},onWebSocketClose:r=>{this._stompHandler=void 0,this.state===ar.DEACTIVATING&&this._changeState(ar.INACTIVE),this.onWebSocketClose(r),this.active&&this._schedule_reconnect()},onWebSocketError:r=>{this.onWebSocketError(r)},onUnhandledMessage:r=>{this.onUnhandledMessage(r)},onUnhandledReceipt:r=>{this.onUnhandledReceipt(r)},onUnhandledFrame:r=>{this.onUnhandledFrame(r)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===gl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var i;const r=t.force||!1,n=this.active;let s;if(this.state===ar.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(ar.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==hn.CLOSED){const a=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{a(u),l()}})}else return this._changeState(ar.INACTIVE),Promise.resolve();return r?(i=this._stompHandler)==null||i.discardWebsocket():n&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,r){this._checkConnection(),this._stompHandler.watchForReceipt(t,r)}subscribe(t,r,n={}){return this._checkConnection(),this._stompHandler.subscribe(t,r,n)}unsubscribe(t,r={}){this._checkConnection(),this._stompHandler.unsubscribe(t,r)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,r,n={}){this._checkConnection(),this._stompHandler.ack(t,r,n)}nack(t,r,n={}){this._checkConnection(),this._stompHandler.nack(t,r,n)}}const AE=({roomId:e,userId:t,onMessageReceived:r})=>{const[n,s]=d.useState(!1),[i,a]=d.useState(!1),l=d.useRef(null),c=d.useRef(null),u=d.useRef(0),h=5,f=d.useCallback(()=>{if(u.current>=h){console.error("Max reconnection attempts reached");return}const x=Math.min(1e3*Math.pow(2,u.current),3e4);console.log(`Scheduling reconnect attempt ${u.current+1} in ${x}ms`),c.current=setTimeout(()=>{u.current++,p()},x)},[]),p=d.useCallback(()=>{if(!e||!t||i||n)return;const x=localStorage.getItem("accessToken");if(!x){console.error("No access token found for WebSocket connection");return}console.log("Connecting to DM WebSocket for room:",e,"Attempt:",u.current+1),a(!0);const j=new cy({brokerURL:"wss://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws",connectHeaders:{Authorization:`Bearer ${x}`},debug:g=>{console.log("STOMP Debug:",g)},onConnect:()=>{console.log("DM WebSocket connected for room:",e),s(!0),a(!1),u.current=0,j.subscribe(`/topic/dm.room.${e}`,g=>{try{const m=JSON.parse(g.body);console.log("Received DM message:",m),r(m)}catch(m){console.error("Error parsing DM message:",m)}})},onDisconnect:()=>{console.log("DM WebSocket disconnected"),s(!1),a(!1),l.current&&u.current<h&&f()},onStompError:g=>{console.error("STOMP Error:",g),s(!1),a(!1),u.current<h&&f()}});l.current=j,j.activate()},[e,t,i,n,r,f]),y=d.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),u.current=0,l.current&&(console.log("Disconnecting DM WebSocket"),l.current.deactivate(),l.current=null,s(!1),a(!1))},[]),w=d.useCallback(x=>{if(!l.current||!n||!e||!t){console.error("Cannot send message: WebSocket not connected or missing required data");return}const j={senderId:t,roomId:e,content:x,isRead:!1,createdAt:new Date().toISOString()};console.log("Sending DM message:",j),l.current.publish({destination:"/app/dm.send",body:JSON.stringify(j)})},[e,t,n]);return d.useEffect(()=>(e&&t?p():y(),()=>{c.current&&(clearTimeout(c.current),c.current=null),y()}),[e,t,p,y]),{isConnected:n,isConnecting:i,sendMessage:w,connect:p,disconnect:y}};function IE({isOpen:e,onClose:t,onBack:r,user:n,currentUserId:s,getDmMessages:i}){const[a,l]=d.useState([]),[c,u]=d.useState(""),[h]=d.useState(!1),[f,p]=d.useState(!1),[y,w]=d.useState(null),x=d.useRef(null),j=d.useRef(null),{isConnected:g,sendMessage:m}=AE({roomId:(n==null?void 0:n.roomId)||null,userId:s,onMessageReceived:k=>{const _={id:k.id,senderId:k.senderId,senderName:k.senderId===s?"나":(n==null?void 0:n.name)||"Unknown",content:k.content,timestamp:v(k.createdAt),type:"text",isOwnMessage:k.senderId===s};l(R=>[...R,_])}});d.useEffect(()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})},[a]),d.useEffect(()=>{e&&j.current&&j.current.focus()},[e]),d.useEffect(()=>{n!=null&&n.roomId&&b()},[n==null?void 0:n.roomId]);const v=k=>new Date(k).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),b=async()=>{if(n!=null&&n.roomId)try{p(!0),w(null);const _=(await i(n.roomId)).data.map(R=>({id:R.id,senderId:R.senderId,senderName:R.senderId===s?"나":(n==null?void 0:n.name)||"Unknown",content:R.content,timestamp:v(R.createdAt),type:"text",isOwnMessage:R.senderId===s}));l(_)}catch(k){console.error("Error loading messages:",k),w("메시지를 불러올 수 없습니다.")}finally{p(!1)}},C=()=>{!c.trim()||!n||!g||(console.log("Sending message via WebSocket:",c.trim()),m(c.trim()),u(""))},T=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),C())},S=k=>k;return!e||!n?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:r,className:"p-1 hover:bg-white/10",children:o.jsx(so,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(De,{className:"h-8 w-8",children:[o.jsx($e,{src:n.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-sm",children:n.name.charAt(0)})]}),n.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:n.name}),o.jsx("p",{className:"text-xs text-white/60",children:n.isOnline?"온라인":"오프라인"})]})]})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(pr,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(CE,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[f&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"메시지를 불러오는 중..."}),y&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:y}),!f&&!y&&a.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"아직 메시지가 없습니다."}),a.map((k,_)=>{const R=_===0||a[_-1].timestamp!==k.timestamp||a[_-1].isOwnMessage!==k.isOwnMessage;return o.jsx("div",{className:`flex ${k.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${k.isOwnMessage?"order-2":"order-1"}`,children:[!k.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(De,{className:"h-6 w-6",children:[o.jsx($e,{src:n.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:n.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:k.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${k.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:k.content})}),R&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${k.isOwnMessage?"text-right":"text-left"}`,children:S(k.timestamp)})]})},k.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(De,{className:"h-6 w-6",children:[o.jsx($e,{src:n.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:n.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:x})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(Cf,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Be,{ref:j,value:c,onChange:k=>u(k.target.value),onKeyPress:T,placeholder:"메시지를 입력하세요...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(Vj,{className:"w-4 h-4"})})]}),o.jsx($,{onClick:C,disabled:!c.trim(),size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]})})}var uy=["PageUp","PageDown"],dy=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fy={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},lo="Slider",[fd,OE,ME]=zf(lo),[hy,cR]=Mr(lo,[ME]),[LE,Ql]=hy(lo),my=d.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:h,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:y=!1,form:w,...x}=e,j=d.useRef(new Set),g=d.useRef(0),v=a==="horizontal"?DE:$E,[b=[],C]=rs({prop:h,defaultProp:u,onChange:z=>{var E;(E=[...j.current][g.current])==null||E.focus(),f(z)}}),T=d.useRef(b);function S(z){const N=UE(b,z);R(z,N)}function k(z){R(z,g.current)}function _(){const z=T.current[g.current];b[g.current]!==z&&p(b)}function R(z,N,{commit:E}={commit:!1}){const L=GE(i),V=XE(Math.round((z-n)/i)*i+n,L),A=di(V,[n,s]);C((B=[])=>{const P=BE(B,A,N);if(KE(P,c*i)){g.current=P.indexOf(A);const U=String(P)!==String(B);return U&&E&&p(P),U?P:B}else return B})}return o.jsx(LE,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:g,thumbs:j.current,values:b,orientation:a,form:w,children:o.jsx(fd.Provider,{scope:e.__scopeSlider,children:o.jsx(fd.Slot,{scope:e.__scopeSlider,children:o.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:le(x.onPointerDown,()=>{l||(T.current=b)}),min:n,max:s,inverted:y,onSlideStart:l?void 0:S,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:_,onHomeKeyDown:()=>!l&&R(n,0,{commit:!0}),onEndKeyDown:()=>!l&&R(s,b.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:N})=>{if(!l){const V=uy.includes(z.key)||z.shiftKey&&dy.includes(z.key)?10:1,A=g.current,B=b[A],P=i*V*N;R(B+P,A,{commit:!0})}}})})})})});my.displayName=lo;var[py,vy]=hy(lo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),DE=d.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,p]=d.useState(null),y=xe(t,v=>p(v)),w=d.useRef(void 0),x=Ni(s),j=x==="ltr",g=j&&!i||!j&&i;function m(v){const b=w.current||f.getBoundingClientRect(),C=[0,b.width],S=oh(C,g?[r,n]:[n,r]);return w.current=b,S(v-b.left)}return o.jsx(py,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(gy,{dir:x,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const b=m(v.clientX);a==null||a(b)},onSlideMove:v=>{const b=m(v.clientX);l==null||l(b)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:v=>{const C=fy[g?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:C?-1:1})}})})}),$E=d.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=xe(t,h),p=d.useRef(void 0),y=!s;function w(x){const j=p.current||h.current.getBoundingClientRect(),g=[0,j.height],v=oh(g,y?[n,r]:[r,n]);return p.current=j,v(x-j.top)}return o.jsx(py,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(gy,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const j=w(x.clientY);i==null||i(j)},onSlideMove:x=>{const j=w(x.clientY);a==null||a(j)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=fy[y?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),gy=d.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=Ql(lo,r);return o.jsx(ae.span,{...u,ref:t,onKeyDown:le(e.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):uy.concat(dy).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:le(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(p)?p.focus():n(f)}),onPointerMove:le(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:le(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),i(f))})})}),xy="SliderTrack",yy=d.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Ql(xy,r);return o.jsx(ae.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});yy.displayName=xy;var hd="SliderRange",wy=d.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Ql(hd,r),i=vy(hd,r),a=d.useRef(null),l=xe(t,a),c=s.values.length,u=s.values.map(p=>Ny(p,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(ae.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});wy.displayName=hd;var md="SliderThumb",by=d.forwardRef((e,t)=>{const r=OE(e.__scopeSlider),[n,s]=d.useState(null),i=xe(t,l=>s(l)),a=d.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(zE,{...e,ref:i,index:a})}),zE=d.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...i}=e,a=Ql(md,r),l=vy(md,r),[c,u]=d.useState(null),h=xe(t,m=>u(m)),f=c?a.form||!!c.closest("form"):!0,p=Gf(c),y=a.values[n],w=y===void 0?0:Ny(y,a.min,a.max),x=WE(n,a.values.length),j=p==null?void 0:p[l.size],g=j?HE(j,w,l.direction):0;return d.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(fd.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(ae.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:le(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),f&&o.jsx(jy,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:y},n)]})});by.displayName=md;var FE="RadioBubbleInput",jy=d.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=d.useRef(null),i=xe(s,n),a=Qf(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ae.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});jy.displayName=FE;function BE(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,i)=>s-i)}function Ny(e,t,r){const i=100/(r-t)*(e-t);return di(i,[0,100])}function WE(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function UE(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function HE(e,t,r){const n=e/2,i=oh([0,50],[0,n]);return(n-i(t)*r)*r}function VE(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function KE(e,t){if(t>0){const r=VE(e);return Math.min(...r)>=t}return!0}function oh(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function GE(e){return(String(e).split(".")[1]||"").length}function XE(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var qE=my,QE=yy,YE=wy,JE=by;function ZE({className:e,defaultValue:t,value:r,min:n=0,max:s=100,...i}){const a=d.useMemo(()=>Array.isArray(r)?r:Array.isArray(t)?t:[n,s],[r,t,n,s]);return o.jsxs(qE,{"data-slot":"slider",defaultValue:t,value:r,min:n,max:s,className:ke("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[o.jsx(QE,{"data-slot":"slider-track",className:ke("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(YE,{"data-slot":"slider-range",className:ke("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(l,c)=>o.jsx(JE,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}var Sy={exports:{}},pd={};globalThis.crypto&&globalThis.crypto.getRandomValues?pd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:pd.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t};var e4=pd,pp="abcdefghijklmnopqrstuvwxyz012345",co={string:function(e){for(var t=pp.length,r=e4.randomBytes(e),n=[],s=0;s<e;s++)n.push(pp.substr(r[s]%t,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,r=new Array(t+1).join("0");return(r+this.number(e)).slice(-t)}};(function(e){var t=co,r={},n=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(a,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+a,l),globalThis.attachEvent("on"+a,l))},detachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(a,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+a,l),globalThis.detachEvent("on"+a,l))},unloadAdd:function(a){if(s)return null;var l=t.string(8);return r[l]=a,n&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(a){a in r&&delete r[a]},triggerUnloadCallbacks:function(){for(var a in r)r[a](),delete r[a]}};var i=function(){n||(n=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",i)})(Sy);var Dn=Sy.exports,t4=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},ih={},r4=Object.prototype.hasOwnProperty,n4;function vp(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function gp(e){try{return encodeURIComponent(e)}catch{return null}}function s4(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var s=vp(n[1]),i=vp(n[2]);s===null||i===null||s in r||(r[s]=i)}return r}function o4(e,t){t=t||"";var r=[],n,s;typeof t!="string"&&(t="?");for(s in e)if(r4.call(e,s)){if(n=e[s],!n&&(n===null||n===n4||isNaN(n))&&(n=""),s=gp(s),n=gp(n),s===null||n===null)continue;r.push(s+"="+n)}return r.length?t+r.join("&"):""}ih.stringify=o4;ih.parse=s4;var Cy=t4,Yl=ih,i4=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ky=/[\n\r\t]/g,a4=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Ey=/:\d+$/,l4=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c4=/^[a-zA-Z]:/;function ah(e){return(e||"").toString().replace(i4,"")}var vd=[["#","hash"],["?","query"],function(t,r){return Rr(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],xp={hash:1,query:1};function Ty(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},s=typeof e,i;if(e.protocol==="blob:")n=new Ir(unescape(e.pathname),{});else if(s==="string"){n=new Ir(e,{});for(i in xp)delete n[i]}else if(s==="object"){for(i in e)i in xp||(n[i]=e[i]);n.slashes===void 0&&(n.slashes=a4.test(e.href))}return n}function Rr(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function _y(e,t){e=ah(e),e=e.replace(ky,""),t=t||{};var r=l4.exec(e),n=r[1]?r[1].toLowerCase():"",s=!!r[2],i=!!r[3],a=0,l;return s?i?(l=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(l=r[2]+r[4],a=r[2].length):i?(l=r[3]+r[4],a=r[3].length):l=r[4],n==="file:"?a>=2&&(l=l.slice(2)):Rr(n)?l=r[4]:n?s&&(l=l.slice(2)):a>=2&&Rr(t.protocol)&&(l=r[4]),{protocol:n,slashes:s||Rr(n),slashesCount:a,rest:l}}function u4(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,s=r[n-1],i=!1,a=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),a++):a&&(n===0&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),(s==="."||s==="..")&&r.push(""),r.join("/")}function Ir(e,t,r){if(e=ah(e),e=e.replace(ky,""),!(this instanceof Ir))return new Ir(e,t,r);var n,s,i,a,l,c,u=vd.slice(),h=typeof t,f=this,p=0;for(h!=="object"&&h!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=Yl.parse),t=Ty(t),s=_y(e||"",t),n=!s.protocol&&!s.slashes,f.slashes=s.slashes||n&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||c4.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Rr(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);p<u.length;p++){if(a=u[p],typeof a=="function"){e=a(e,f);continue}i=a[0],c=a[1],i!==i?f[c]=e:typeof i=="string"?(l=i==="@"?e.lastIndexOf(i):e.indexOf(i),~l&&(typeof a[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+a[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=i.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||n&&a[3]&&t[c]||"",a[4]&&(f[c]=f[c].toLowerCase())}r&&(f.query=r(f.query)),n&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=u4(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&Rr(f.protocol)&&(f.pathname="/"+f.pathname),Cy(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&Rr(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function d4(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||Yl.parse)(t)),n[e]=t;break;case"port":n[e]=t,Cy(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,Ey.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==s?s+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(n.username=t.slice(0,i),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(i+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<vd.length;a++){var l=vd[a];l[4]&&(n[l[1]]=n[l[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&Rr(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function f4(e){(!e||typeof e!="function")&&(e=Yl.stringify);var t,r=this,n=r.host,s=r.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var i=s+(r.protocol&&r.slashes||Rr(r.protocol)?"//":"");return r.username?(i+=r.username,r.password&&(i+=":"+r.password),i+="@"):r.password?(i+=":"+r.password,i+="@"):r.protocol!=="file:"&&Rr(r.protocol)&&!n&&r.pathname!=="/"&&(i+="@"),(n[n.length-1]===":"||Ey.test(r.hostname)&&!r.port)&&(n+=":"),i+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(i+=r.hash),i}Ir.prototype={set:d4,toString:f4};Ir.extractProtocol=_y;Ir.location=Ty;Ir.trimLeft=ah;Ir.qs=Yl;var Ry=Ir,h4=Ry,tr={getOrigin:function(e){if(!e)return null;var t=new h4(e);if(t.protocol==="file:")return null;var r=t.port;return r||(r=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},gd={exports:{}};typeof Object.create=="function"?gd.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:gd.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Ce=gd.exports,xt={};function Jl(){this._listeners={}}Jl.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];r.indexOf(t)===-1&&(r=r.concat([t])),this._listeners[e]=r};Jl.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var n=r.indexOf(t);if(n!==-1){r.length>1?this._listeners[e]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[e];return}}};Jl.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var n=this._listeners[t],s=0;s<n.length;s++)n[s].apply(this,r)};var Py=Jl,m4=Ce,Zl=Py;function Pn(){Zl.call(this)}m4(Pn,Zl);Pn.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Pn.prototype.once=function(e,t){var r=this,n=!1;function s(){r.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}this.on(e,s)};Pn.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var r=arguments.length,n=new Array(r-1),s=1;s<r;s++)n[s-1]=arguments[s];for(var i=0;i<t.length;i++)t[i].apply(this,n)}};Pn.prototype.on=Pn.prototype.addListener=Zl.prototype.addEventListener;Pn.prototype.removeListener=Zl.prototype.removeEventListener;xt.EventEmitter=Pn;var xd={exports:{}},yp=globalThis.WebSocket||globalThis.MozWebSocket;yp?xd.exports=function(t){return new yp(t)}:xd.exports=void 0;var p4=xd.exports,Ay=Dn,v4=tr,g4=Ce,Iy=xt.EventEmitter,Oy=p4,wp=function(){};function nn(e,t,r){if(!nn.enabled())throw new Error("Transport created when disabled");Iy.call(this);var n=this,s=v4.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new Oy(this.url,[],r),this.ws.onmessage=function(i){wp("message event",i.data),n.emit("message",i.data)},this.unloadRef=Ay.unloadAdd(function(){n.ws.close()}),this.ws.onclose=function(i){wp("close event",i.code,i.reason),n.emit("close",i.code,i.reason),n._cleanup()},this.ws.onerror=function(i){n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}g4(nn,Iy);nn.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};nn.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};nn.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),Ay.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};nn.enabled=function(){return!!Oy};nn.transportName="websocket";nn.roundTrips=2;var x4=nn,y4=Ce,My=xt.EventEmitter,w4=function(){};function ds(e,t){My.call(this),this.sendBuffer=[],this.sender=t,this.url=e}y4(ds,My);ds.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};ds.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};ds.prototype.sendSchedule=function(){w4("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(r){e.sendStop=null,r?(e.emit("close",r.code||1006,"Sending error: "+r),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};ds.prototype._cleanup=function(){this.removeAllListeners()};ds.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var b4=ds,j4=Ce,Ly=xt.EventEmitter,N4=function(){};function ec(e,t,r){Ly.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=r,this._scheduleReceiver()}j4(ec,Ly);ec.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(r){e.emit("message",r)}),t.once("close",function(r,n){N4("close",r,n,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(n==="network"?e._scheduleReceiver():(e.emit("close",r||1006,n),e.removeAllListeners()))})};ec.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var S4=ec,C4=Ce,k4=tr,lh=b4,E4=S4;function ch(e,t,r,n,s){var i=k4.addPath(e,t),a=this;lh.call(this,e,r),this.poll=new E4(n,i,s),this.poll.on("message",function(l){a.emit("message",l)}),this.poll.once("close",function(l,c){a.poll=null,a.emit("close",l,c),a.close()})}C4(ch,lh);ch.prototype.close=function(){lh.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var Dy=ch,T4=Ce,_4=tr,$y=Dy;function R4(e){return function(t,r,n){var s={};typeof r=="string"&&(s.headers={"Content-type":"text/plain"});var i=_4.addPath(t,"/xhr_send"),a=new e("POST",i,r,s);return a.once("finish",function(l){if(a=null,l!==200&&l!==204)return n(new Error("http status "+l));n()}),function(){a.close(),a=null;var l=new Error("Aborted");l.code=1e3,n(l)}}}function zy(e,t,r,n){$y.call(this,e,t,R4(n),r,n)}T4(zy,$y);var uo=zy,P4=Ce,Fy=xt.EventEmitter;function Ci(e,t){Fy.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,s){r._chunkHandler(n,s),r.xo=null;var i=n===200?"network":"permanent";r.emit("close",null,i),r._cleanup()})}P4(Ci,Fy);Ci.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var r=-1;;this.bufferPosition+=r+1){var n=t.slice(this.bufferPosition);if(r=n.indexOf(`
`),r===-1)break;var s=n.slice(0,r);s&&this.emit("message",s)}};Ci.prototype._cleanup=function(){this.removeAllListeners()};Ci.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var tc=Ci,By=xt.EventEmitter,A4=Ce,Wy=Dn,I4=tr,pi=globalThis.XMLHttpRequest,Vc=function(){};function Or(e,t,r,n){var s=this;By.call(this),setTimeout(function(){s._start(e,t,r,n)},0)}A4(Or,By);Or.prototype._start=function(e,t,r,n){var s=this;try{this.xhr=new pi}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=I4.addQuery(t,"t="+ +new Date),this.unloadRef=Wy.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Vc("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&Or.supportsCORS&&(this.xhr.withCredentials=!0),n&&n.headers)for(var i in n.headers)this.xhr.setRequestHeader(i,n.headers[i]);this.xhr.onreadystatechange=function(){if(s.xhr){var a=s.xhr,l,c;switch(Vc("readyState",a.readyState),a.readyState){case 3:try{c=a.status,l=a.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=a.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Vc("finish",c,a.responseText),s.emit("finish",c,a.responseText),s._cleanup(!1);break}}};try{s.xhr.send(r)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Or.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Wy.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Or.prototype.close=function(){this._cleanup(!0)};Or.enabled=!!pi;var bp=["Active"].concat("Object").join("X");!Or.enabled&&bp in globalThis&&(pi=function(){try{return new globalThis[bp]("Microsoft.XMLHTTP")}catch{return null}},Or.enabled=!!new pi);var Uy=!1;try{Uy="withCredentials"in new pi}catch{}Or.supportsCORS=Uy;var Hy=Or,O4=Ce,xl=Hy;function uh(e,t,r,n){xl.call(this,e,t,r,n)}O4(uh,xl);uh.enabled=xl.enabled&&xl.supportsCORS;var rc=uh,M4=Ce,dh=Hy;function fh(e,t,r){dh.call(this,e,t,r,{noCredentials:!0})}M4(fh,dh);fh.enabled=dh.enabled;var ki=fh,Ei={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},L4=Ce,Vy=uo,D4=tc,yd=rc,$4=ki,z4=Ei;function fo(e){if(!$4.enabled&&!yd.enabled)throw new Error("Transport created when disabled");Vy.call(this,e,"/xhr_streaming",D4,yd)}L4(fo,Vy);fo.enabled=function(e){return e.nullOrigin||z4.isOpera()?!1:yd.enabled};fo.transportName="xhr-streaming";fo.roundTrips=2;fo.needBody=!!globalThis.document;var F4=fo,Ky=xt.EventEmitter,B4=Ce,Gy=Dn,W4=Ei,U4=tr,H4=function(){};function fs(e,t,r){var n=this;Ky.call(this),setTimeout(function(){n._start(e,t,r)},0)}B4(fs,Ky);fs.prototype._start=function(e,t,r){var n=this,s=new globalThis.XDomainRequest;t=U4.addQuery(t,"t="+ +new Date),s.onerror=function(){n._error()},s.ontimeout=function(){n._error()},s.onprogress=function(){H4("progress",s.responseText),n.emit("chunk",200,s.responseText)},s.onload=function(){n.emit("finish",200,s.responseText),n._cleanup(!1)},this.xdr=s,this.unloadRef=Gy.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};fs.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};fs.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Gy.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};fs.prototype.close=function(){this._cleanup(!0)};fs.enabled=!!(globalThis.XDomainRequest&&W4.hasDomain());var hh=fs,V4=Ce,Xy=uo,K4=tc,wd=hh;function Ti(e){if(!wd.enabled)throw new Error("Transport created when disabled");Xy.call(this,e,"/xhr_streaming",K4,wd)}V4(Ti,Xy);Ti.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:wd.enabled&&e.sameScheme};Ti.transportName="xdr-streaming";Ti.roundTrips=2;var qy=Ti,Qy=globalThis.EventSource,G4=Ce,Yy=xt.EventEmitter,X4=Qy,jp=function(){};function _i(e){Yy.call(this);var t=this,r=this.es=new X4(e);r.onmessage=function(n){jp("message",n.data),t.emit("message",decodeURI(n.data))},r.onerror=function(n){jp("error",r.readyState);var s=r.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}G4(_i,Yy);_i.prototype.abort=function(){this._cleanup(),this._close("user")};_i.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};_i.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var q4=_i,Q4=Ce,Jy=uo,Y4=q4,J4=rc,Z4=Qy;function ho(e){if(!ho.enabled())throw new Error("Transport created when disabled");Jy.call(this,e,"/eventsource",Y4,J4)}Q4(ho,Jy);ho.enabled=function(){return!!Z4};ho.transportName="eventsource";ho.roundTrips=2;var Np=ho,Kc,Sp;function Zy(){return Sp||(Sp=1,Kc="1.6.1"),Kc}var ew={exports:{}};(function(e){var t=Dn,r=Ei;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(n,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:n,data:s||""}),"*")},createIframe:function(n,s){var i=globalThis.document.createElement("iframe"),a,l,c=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},u=function(){i&&(c(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),t.unloadDel(l))},h=function(p){i&&(u(),s(p))},f=function(p,y){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(p,y)}catch{}},0)};return i.src=n,i.style.display="none",i.style.position="absolute",i.onerror=function(){h("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(i),a=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(n,s){var i=["Active"].concat("Object").join("X"),a=new globalThis[i]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){a&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=a=null,CollectGarbage())},p=function(x){a&&(f(),s(x))},y=function(x,j){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,j)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=a.createElement("div");return a.body.appendChild(w),u=a.createElement("iframe"),w.appendChild(u),u.src=n,u.onerror=function(){p("onerror")},l=setTimeout(function(){p("timeout")},15e3),c=t.unloadAdd(f),{post:y,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!r.isKonqueror())})(ew);var Ri=ew.exports,eT=Ce,tw=xt.EventEmitter,tT=Zy(),bd=tr,rw=Ri,nw=Dn,rT=co,Eo=function(){};function $r(e,t,r){if(!$r.enabled())throw new Error("Transport created when disabled");tw.call(this);var n=this;this.origin=bd.getOrigin(r),this.baseUrl=r,this.transUrl=t,this.transport=e,this.windowId=rT.string(8);var s=bd.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=rw.createIframe(s,function(i){n.emit("close",1006,"Unable to load an iframe ("+i+")"),n.close()}),this.onmessageCallback=this._message.bind(this),nw.attachEvent("message",this.onmessageCallback)}eT($r,tw);$r.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){nw.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};$r.prototype._message=function(e){if(Eo("message",e.data),!bd.isOriginEqual(e.origin,this.origin)){Eo("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Eo("bad json",e.data);return}if(t.windowId!==this.windowId){Eo("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([tT,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=JSON.parse(t.data)}catch{Eo("bad json",t.data);return}this.emit("close",r[0],r[1]),this.close();break}};$r.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};$r.prototype.send=function(e){this.postMessage("m",e)};$r.enabled=function(){return rw.iframeEnabled};$r.transportName="iframe";$r.roundTrips=2;var sw=$r,mh={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}},nT=Ce,pa=sw,sT=mh,Gc=function(e){function t(r,n){pa.call(this,e.transportName,r,n)}return nT(t,pa),t.enabled=function(r,n){if(!globalThis.document)return!1;var s=sT.extend({},n);return s.sameOrigin=!0,e.enabled(s)&&pa.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=pa.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},oT=Ce,Wn=Ri,iT=tr,ow=xt.EventEmitter,aT=co,lT=function(){};function xr(e){ow.call(this);var t=this;Wn.polluteGlobalNamespace(),this.id="a"+aT.string(6),e=iT.addQuery(e,"c="+decodeURIComponent(Wn.WPrefix+"."+this.id)),lT("using htmlfile",xr.htmlfileEnabled);var r=xr.htmlfileEnabled?Wn.createHtmlfile:Wn.createIframe;globalThis[Wn.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(n){t.emit("message",n)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=r(e,function(){t._cleanup(),t._close("permanent")})}oT(xr,ow);xr.prototype.abort=function(){this._cleanup(),this._close("user")};xr.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Wn.WPrefix][this.id]};xr.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};xr.htmlfileEnabled=!1;var Cp=["Active"].concat("Object").join("X");if(Cp in globalThis)try{xr.htmlfileEnabled=!!new globalThis[Cp]("htmlfile")}catch{}xr.enabled=xr.htmlfileEnabled||Wn.iframeEnabled;var cT=xr,uT=Ce,jd=cT,dT=ki,iw=uo;function Pi(e){if(!jd.enabled)throw new Error("Transport created when disabled");iw.call(this,e,"/htmlfile",jd,dT)}uT(Pi,iw);Pi.enabled=function(e){return jd.enabled&&e.sameOrigin};Pi.transportName="htmlfile";Pi.roundTrips=2;var kp=Pi,fT=Ce,aw=uo,hT=tc,Nd=rc,lw=ki;function Ai(e){if(!lw.enabled&&!Nd.enabled)throw new Error("Transport created when disabled");aw.call(this,e,"/xhr",hT,Nd)}fT(Ai,aw);Ai.enabled=function(e){return e.nullOrigin?!1:lw.enabled&&e.sameOrigin?!0:Nd.enabled};Ai.transportName="xhr-polling";Ai.roundTrips=2;var Ep=Ai,mT=Ce,cw=uo,pT=qy,vT=tc,Tp=hh;function Ii(e){if(!Tp.enabled)throw new Error("Transport created when disabled");cw.call(this,e,"/xhr",vT,Tp)}mT(Ii,cw);Ii.enabled=pT.enabled;Ii.transportName="xdr-polling";Ii.roundTrips=2;var gT=Ii,Vo=Ri,uw=co,xT=Ei,yT=tr,wT=Ce,dw=xt.EventEmitter,bT=function(){};function Zt(e){var t=this;dw.call(this),Vo.polluteGlobalNamespace(),this.id="a"+uw.string(6);var r=yT.addQuery(e,"c="+encodeURIComponent(Vo.WPrefix+"."+this.id));globalThis[Vo.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Zt.timeout)}wT(Zt,dw);Zt.prototype.abort=function(){if(globalThis[Vo.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};Zt.timeout=35e3;Zt.scriptErrorTimeout=1e3;Zt.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};Zt.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};Zt.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[Vo.WPrefix][this.id]};Zt.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},Zt.scriptErrorTimeout))};Zt.prototype._createScript=function(e){var t=this,r=this.script=globalThis.document.createElement("script"),n;if(r.id="a"+uw.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(bT("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){t.loadedOkay=!0;try{r.onclick()}catch{}}r&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&globalThis.document.attachEvent)if(xT.isOpera())n=this.script2=globalThis.document.createElement("script"),n.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=n.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild),n&&s.insertBefore(n,s.firstChild)};var jT=Zt,NT=co,_p=tr,ST=function(){},Mt,Ko;function CT(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function kT(){Mt=globalThis.document.createElement("form"),Mt.style.display="none",Mt.style.position="absolute",Mt.method="POST",Mt.enctype="application/x-www-form-urlencoded",Mt.acceptCharset="UTF-8",Ko=globalThis.document.createElement("textarea"),Ko.name="d",Mt.appendChild(Ko),globalThis.document.body.appendChild(Mt)}var ET=function(e,t,r){Mt||kT();var n="a"+NT.string(8);Mt.target=n,Mt.action=_p.addQuery(_p.addPath(e,"/jsonp_send"),"i="+n);var s=CT(n);s.id=n,s.style.display="none",Mt.appendChild(s);try{Ko.value=t}catch{}Mt.submit();var i=function(a){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),Ko.value="",r(a))};return s.onerror=function(){i()},s.onload=function(){i()},s.onreadystatechange=function(a){ST("onreadystatechange",n,s.readyState),s.readyState==="complete"&&i()},function(){i(new Error("Aborted"))}},TT=Ce,fw=Dy,_T=jT,RT=ET;function hs(e){if(!hs.enabled())throw new Error("Transport created when disabled");fw.call(this,e,"/jsonp",RT,_T)}TT(hs,fw);hs.enabled=function(){return!!globalThis.document};hs.transportName="jsonp-polling";hs.roundTrips=1;hs.needBody=!0;var PT=hs,AT=[x4,F4,qy,Np,Gc(Np),kp,Gc(kp),Ep,gT,Gc(Ep),PT],vi=Array.prototype,ph=Object.prototype,IT=Function.prototype,gi=String.prototype,Xc=vi.slice,vh=ph.toString,hw=function(e){return ph.toString.call(e)==="[object Function]"},OT=function(t){return vh.call(t)==="[object Array]"},mw=function(t){return vh.call(t)==="[object String]"},MT=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Sd;MT?Sd=function(e,t,r,n){!n&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:Sd=function(e,t,r,n){!n&&t in e||(e[t]=r)};var Oi=function(e,t,r){for(var n in t)ph.hasOwnProperty.call(t,n)&&Sd(e,n,t[n],r)},pw=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function LT(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function DT(e){return e>>>0}function qc(){}Oi(IT,{bind:function(t){var r=this;if(!hw(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=Xc.call(arguments,1),s=function(){if(this instanceof c){var u=r.apply(this,n.concat(Xc.call(arguments)));return Object(u)===u?u:this}else return r.apply(t,n.concat(Xc.call(arguments)))},i=Math.max(0,r.length-n.length),a=[],l=0;l<i;l++)a.push("$"+l);var c=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(s);return r.prototype&&(qc.prototype=r.prototype,c.prototype=new qc,qc.prototype=null),c}});Oi(Array,{isArray:OT});var Rp=Object("a"),vw=Rp[0]!=="a"||!(0 in Rp),$T=function(t){var r=!0,n=!0;return t&&(t.call("foo",function(s,i,a){typeof a!="object"&&(r=!1)}),t.call([1],function(){n=typeof this=="string"},"x")),!!t&&r&&n};Oi(vi,{forEach:function(t){var r=pw(this),n=vw&&mw(this)?this.split(""):r,s=arguments[1],i=-1,a=n.length>>>0;if(!hw(t))throw new TypeError;for(;++i<a;)i in n&&t.call(s,n[i],i,r)}},!$T(vi.forEach));var zT=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Oi(vi,{indexOf:function(t){var r=vw&&mw(this)?this.split(""):pw(this),n=r.length>>>0;if(!n)return-1;var s=0;for(arguments.length>1&&(s=LT(arguments[1])),s=s>=0?s:Math.max(0,n+s);s<n;s++)if(s in r&&r[s]===t)return s;return-1}},zT);var Pp=gi.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;gi.split=function(t,r){var n=this;if(t===void 0&&r===0)return[];if(vh.call(t)!=="[object RegExp]")return Pp.call(this,t,r);var s=[],i=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,l,c,u,h;for(t=new RegExp(t.source,i+"g"),n+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",i)),r=r===void 0?-1>>>0:DT(r);(c=t.exec(n))&&(u=c.index+c[0].length,!(u>a&&(s.push(n.slice(a,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<n.length&&vi.push.apply(s,c.slice(1)),h=c[0].length,a=u,s.length>=r)));)t.lastIndex===c.index&&t.lastIndex++;return a===n.length?(h||!t.test(""))&&s.push(""):s.push(n.slice(a)),s.length>r?s.slice(0,r):s}}():"0".split(void 0,0).length&&(gi.split=function(t,r){return t===void 0&&r===0?[]:Pp.call(this,t,r)});var FT=gi.substr,BT="".substr&&"0b".substr(-1)!=="b";Oi(gi,{substr:function(t,r){return FT.call(this,t<0&&(t=this.length+t)<0?0:t,r)}},BT);var va=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Qc,WT=function(e){var t,r={},n=[];for(t=0;t<65536;t++)n.push(String.fromCharCode(t));return e.lastIndex=0,n.join("").replace(e,function(s){return r[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,r},UT={quote:function(e){var t=JSON.stringify(e);return va.lastIndex=0,va.test(t)?(Qc||(Qc=WT(va)),t.replace(va,function(r){return Qc[r]})):t}},Yc=function(){},HT=function(e){return{filterToEnabled:function(t,r){var n={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&r.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Yc("not in whitelist",s.transportName);return}s.enabled(r)?(Yc("enabled",s.transportName),n.main.push(s),s.facadeTransport&&n.facade.push(s.facadeTransport)):Yc("disabled",s.transportName)}}),n}}},Cd={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}Cd[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:Cd.log});var VT=Cd;function ms(e){this.type=e}ms.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this};ms.prototype.stopPropagation=function(){};ms.prototype.preventDefault=function(){};ms.CAPTURING_PHASE=1;ms.AT_TARGET=2;ms.BUBBLING_PHASE=3;var gh=ms,gw=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},KT=Ce,xw=gh;function yw(){xw.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}KT(yw,xw);var GT=yw,XT=Ce,ww=gh;function bw(e){ww.call(this),this.initEvent("message",!1,!1),this.data=e}XT(bw,ww);var qT=bw,jw=xt.EventEmitter,QT=Ce;function Mi(){var e=this;jw.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Mi.timeout)}QT(Mi,jw);Mi.prototype.close=function(){clearTimeout(this.to)};Mi.timeout=2e3;var YT=Mi,Nw=xt.EventEmitter,JT=Ce,ZT=mh;function xh(e,t){Nw.call(this);var r=this,n=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,i){var a,l;if(s===200){if(l=+new Date-n,i)try{a=JSON.parse(i)}catch{}ZT.isObject(a)||(a={})}r.emit("finish",a,l),r.removeAllListeners()})}JT(xh,Nw);xh.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var Sw=xh,Jc,Ap;function Cw(){if(Ap)return Jc;Ap=1;var e=Ce,t=xt.EventEmitter,r=ki,n=Sw;function s(i){var a=this;t.call(this),this.ir=new n(i,r),this.ir.once("finish",function(l,c){a.ir=null,a.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Jc=s,Jc}var kw=xt.EventEmitter,e_=Ce,t_=Dn,Ew=sw,r_=Cw();function nc(e,t){var r=this;kw.call(this);var n=function(){var s=r.ifr=new Ew(r_.transportName,t,e);s.once("message",function(i){if(i){var a;try{a=JSON.parse(i)}catch{r.emit("finish"),r.close();return}var l=a[0],c=a[1];r.emit("finish",l,c)}r.close()}),s.once("close",function(){r.emit("finish"),r.close()})};globalThis.document.body?n():t_.attachEvent("load",n)}e_(nc,kw);nc.enabled=function(){return Ew.enabled()};nc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var n_=nc,Tw=xt.EventEmitter,s_=Ce,o_=tr,Ip=hh,Op=rc,i_=ki,a_=YT,Mp=n_,ga=Sw;function Xr(e,t){var r=this;Tw.call(this),setTimeout(function(){r.doXhr(e,t)},0)}s_(Xr,Tw);Xr._getReceiver=function(e,t,r){return r.sameOrigin?new ga(t,i_):Op.enabled?new ga(t,Op):Ip.enabled&&r.sameScheme?new ga(t,Ip):Mp.enabled()?new Mp(e,t):new ga(t,a_)};Xr.prototype.doXhr=function(e,t){var r=this,n=o_.addPath(e,"/info");this.xo=Xr._getReceiver(e,n,t),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},Xr.timeout),this.xo.once("finish",function(s,i){r._cleanup(!0),r.emit("finish",s,i)})};Xr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};Xr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};Xr.timeout=8e3;var l_=Xr,Zc,Lp;function c_(){if(Lp)return Zc;Lp=1;var e=Ri;function t(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(r,n){e.postMessage("c",JSON.stringify([r,n]))},t.prototype._transportMessage=function(r){e.postMessage("t",r)},t.prototype._send=function(r){this._transport.send(r)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Zc=t,Zc}var eu,Dp;function u_(){if(Dp)return eu;Dp=1;var e=tr,t=Dn,r=c_(),n=Cw(),s=Ri,i=gw,a=function(){};return eu=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[n.transportName]=n;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=i.hash.slice(1);var p=function(y){if(y.source===parent&&(typeof h>"u"&&(h=y.origin),y.origin===h)){var w;try{w=JSON.parse(y.data)}catch{a("bad json",y.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{a("bad json",w.data);break}var j=x[0],g=x[1],m=x[2],v=x[3];if(j!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+j+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(m,i.href)||!e.isOriginEqual(v,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+m+", "+v+")");f=new r(new u[g](m,v));break;case"m":f._send(w.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",p),s.postMessage("s")}},eu}var d_=Ry,f_=Ce,$p=co,h_=UT,Oo=tr,m_=Dn,p_=HT,v_=mh,g_=Ei,x_=VT,yh=gh,_w=Py,xa=gw,y_=GT,zp=qT,w_=l_,Pr=function(){},Rw;function Ne(e,t,r){if(!(this instanceof Ne))return new Ne(e,t,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");_w.call(this),this.readyState=Ne.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&x_.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return $p.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||$p.numberString(1e3);var s=new d_(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var i=s.protocol==="https:";if(xa.protocol==="https:"&&!i&&!Oo.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<a.length-1&&c===a[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Oo.getOrigin(xa.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Pr("using url",this.url),this._urlInfo={nullOrigin:!g_.hasDomain(),sameOrigin:Oo.isOriginEqual(this.url,xa.href),sameScheme:Oo.isSchemeEqual(this.url,xa.href)},this._ir=new w_(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}f_(Ne,_w);function Pw(e){return e===1e3||e>=3e3&&e<=4999}Ne.prototype.close=function(e,t){if(e&&!Pw(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Ne.CLOSING||this.readyState===Ne.CLOSED)){var r=!0;this._close(e||1e3,t||"Normal closure",r)}};Ne.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===Ne.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Ne.OPEN&&this._transport.send(h_.quote(e))};Ne.version=Zy();Ne.CONNECTING=0;Ne.OPEN=1;Ne.CLOSING=2;Ne.CLOSED=3;Ne.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=v_.extend(e,this._urlInfo);var r=Rw.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main,Pr(this._transports.length+" enabled transports"),this._connect()};Ne.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Pr("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),m_.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var r=Oo.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[e.transportName],s=new e(r,this._transUrl,n);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};Ne.prototype._transportTimeout=function(){this.readyState===Ne.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Ne.prototype._transportMessage=function(e){var t=this,r=e.slice(0,1),n=e.slice(1),s;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new yh("heartbeat")),Pr("heartbeat",this.transport);return}if(n)try{s=JSON.parse(n)}catch{}if(!(typeof s>"u"))switch(r){case"a":Array.isArray(s)&&s.forEach(function(i){Pr("message",t.transport),t.dispatchEvent(new zp(i))});break;case"m":Pr("message",this.transport),this.dispatchEvent(new zp(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};Ne.prototype._transportClose=function(e,t){if(Pr("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Pw(e)&&e!==2e3&&this.readyState===Ne.CONNECTING){this._connect();return}this._close(e,t)};Ne.prototype._open=function(){Pr("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Ne.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Ne.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new yh("open")),Pr("connected",this.transport)):this._close(1006,"Server lost session")};Ne.prototype._close=function(e,t,r){Pr("_close",this.transport,e,t,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Ne.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Ne.CLOSING,setTimeout((function(){this.readyState=Ne.CLOSED,n&&this.dispatchEvent(new yh("error"));var s=new y_;s.wasClean=r||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Ne.prototype.countRTO=function(e){return e>100?4*e:300+e};var b_=function(e){return Rw=p_(e),u_()(Ne,e),Ne},j_=AT,N_=b_(j_);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const S_=Td(N_);function C_({roomId:e,userId:t,onChatMessage:r,onParticipantsUpdate:n,onVideoSync:s,onRoomSync:i,onError:a}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),p=d.useRef(),[y,w]=d.useState(0),x=3,j=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const C=j();console.log("WebSocket 연결 시도 - 토큰:",C?"존재함":"없음"),C||console.warn("⚠️  토큰이 없지만 연결을 시도합니다 (디버깅용)"),h("connecting"),console.log("WebSocket 연결 시작:",{url:"http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws",token:C?`${C.substring(0,10)}...`:"null"});const T=new cy({webSocketFactory:()=>new S_("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws"),connectHeaders:C?{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log("🔄 WebSocket 연결 시도 중... 헤더:",C?{Authorization:`Bearer ${C.substring(0,10)}...`}:{token:"none"})},debug:S=>{console.log("STOMP Debug:",S)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log("✅ WebSocket 연결 성공!"),c(!0),h("connected"),w(0),T.subscribe(`/topic/rooms/${e}/chat`,S=>{try{const k=JSON.parse(S.body);r==null||r(k)}catch(k){console.error("채팅 메시지 파싱 오류:",k)}}),T.subscribe(`/topic/rooms/${e}/participants`,S=>{try{const k=JSON.parse(S.body);n==null||n(k),h("connected"),c(!0)}catch(k){console.error("참여자 정보 파싱 오류:",k)}}),T.subscribe(`/topic/rooms/${e}/video`,S=>{try{const k=JSON.parse(S.body);s==null||s(k)}catch(k){console.error("비디오 동기화 데이터 파싱 오류:",k)}}),T.subscribe("/user/queue/sync",S=>{try{const k=JSON.parse(S.body);(!("participantsInfoDto"in k)||!k.participantsInfoDto)&&(k.participantsInfoDto={participantDtoList:[],participantsCount:0}),i==null||i(k),h("connected"),c(!0)}catch(k){console.error("룸 동기화 데이터 파싱 오류:",k)}}),T.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log("❌ WebSocket 연결 해제"),c(!1),h("disconnected")},onStompError:S=>{var k;console.error("❌ STOMP 에러:",{message:S.headers.message,body:S.body,headers:S.headers}),(k=S.headers.message)!=null&&k.includes("ExecutorSubscribableChannel")?(console.error("🔧 백엔드 인터셉터 문제 - WebSocketAuthInterceptor 확인 필요"),a==null||a("백엔드 인증 처리 오류가 발생했습니다. 관리자에게 문의하세요.")):a==null||a(`연결 오류: ${S.headers.message}`),h("error"),y<x&&(w(_=>_+1),p.current=setTimeout(()=>{g()},5e3*y))},onWebSocketError:S=>{console.error("❌ WebSocket 에러:",S),h("error"),a==null||a("WebSocket 연결 오류가 발생했습니다."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=T,T.activate()},[e,t,r,n,s,i,a]),m=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),p.current&&clearTimeout(p.current),c(!1),h("disconnected"),w(0)},[e,t]),v=d.useCallback(C=>{var S;if(!((S=f.current)!=null&&S.connected)){a==null||a("WebSocket에 연결되지 않았습니다.");return}const T={chatRoomId:e,content:C};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(T)})},[e,a]),b=d.useCallback(C=>{var T;if(!((T=f.current)!=null&&T.connected)){a==null||a("WebSocket에 연결되지 않았습니다.");return}f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(C)})},[e,a]);return d.useEffect(()=>{const C=S=>{if(l)return S.preventDefault(),S.returnValue="시청방에서 나가시겠습니까?","시청방에서 나가시겠습니까?"},T=()=>{m()};return window.addEventListener("beforeunload",C),window.addEventListener("unload",T),()=>{window.removeEventListener("beforeunload",C),window.removeEventListener("unload",T)}},[l,m]),d.useEffect(()=>()=>{m()},[m]),{isConnected:l,connectionStatus:u,connect:g,disconnect:m,sendChatMessage:v,sendVideoControl:b,reconnectAttempts:y}}var kd=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(kd||{});function k_({roomId:e,onBack:t,userId:r,shouldConnect:n=!1,onUserProfileOpen:s}){var te;const[i,a]=d.useState(!1),[l,c]=d.useState([80]),[u,h]=d.useState(!1),[f,p]=d.useState(!1),[y,w]=d.useState(!0),[x,j]=d.useState(!1),[g,m]=d.useState(""),[v,b]=d.useState(null),[C,T]=d.useState([]),[S,k]=d.useState([]),[_,R]=d.useState(!1),[z,N]=d.useState(!0),[E,L]=d.useState(null),V=d.useRef(null),A=d.useRef(),B=7200,[P,U]=d.useState(!1),[q,O]=d.useState(0),{isConnected:K,connectionStatus:Z,connect:fe,disconnect:de,sendChatMessage:ye,sendVideoControl:re,reconnectAttempts:ie}=C_({roomId:e,userId:r,onChatMessage:I=>{k(Y=>[...Y,I])},onParticipantsUpdate:I=>{const Y=(I.participantDtoList??[]).map(ee=>({userId:ee.userId??ee.username??"",userName:ee.userName??ee.username??"",userAvatar:ee.userAvatar??ee.profile??"",isHost:ee.isHost??ee.isOwner??!1,isOnline:ee.isOnline??!0,joinedAt:ee.joinedAt??""}));T(Y);const J=Y.find(ee=>ee.userId===r);R((J==null?void 0:J.isHost)||!1),!K&&typeof fe=="function"&&fe()},onVideoSync:I=>{Date.now()-I.timestamp<5e3&&!_&&(U(I.isPlaying),O(I.currentTime))},onRoomSync:I=>{I.room&&b(I.room);let Y=[];"participants"in I&&Array.isArray(I.participants)?Y=I.participants:"participantDtoList"in I&&Array.isArray(I.participantDtoList)&&(Y=I.participantDtoList);const J=Y.map(he=>({userId:he.userId??he.username??"",userName:he.userName??he.username??"",userAvatar:he.userAvatar??he.profile??"",isHost:he.isHost??he.isOwner??!1,isOnline:he.isOnline??!0,joinedAt:he.joinedAt??""}));T(J),I.videoStatus&&(U(I.videoStatus.isPlaying),O(I.videoStatus.currentTime)),k(I.chatMessages??[]);const ee=J.find(he=>he.userId===r);R((ee==null?void 0:ee.isHost)||!1),N(!1)},onError:I=>{L(I)}});d.useEffect(()=>{(async()=>{N(!0),L(null);try{const Y=await Ml.joinWatchRoom(e);b(Y.room);const J=Y.participants.find(ee=>ee.userId===r);R((J==null?void 0:J.isHost)||!1),U(Y.videoStatus.isPlaying),O(Y.videoStatus.currentTime),k(Y.chatMessages),n&&fe()}catch(Y){console.error("Failed to load room data:",Y),L(Y instanceof Error?Y.message:"시청방 데이터를 불러오는 중 오류가 발생했습니다.")}finally{N(!1)}})()},[e,r]),d.useEffect(()=>()=>{de()},[de]),d.useEffect(()=>{var I;(I=V.current)==null||I.scrollIntoView({behavior:"smooth"})},[S]),d.useEffect(()=>{if(!P)return;const I=setInterval(()=>{O(Y=>Y+1)},1e3);return()=>clearInterval(I)},[P]),d.useEffect(()=>(u&&(A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{h(!1)},3e3)),()=>{A.current&&clearTimeout(A.current)}),[u,l]);const me=()=>{if(!_)return;const I=!P;U(I),re({videoControlAction:I?kd.PLAY:kd.PAUSE,currentTime:q,isPlaying:I})},F=()=>{u?a(!i):h(!0)},M=I=>{c(I),a(I[0]===0),console.log(`Volume changed to: ${I[0]}%`)},se=()=>i||l[0]===0?o.jsx(Qj,{className:"w-5 h-5"}):l[0]<50?o.jsx(Xj,{className:"w-5 h-5"}):o.jsx(qj,{className:"w-5 h-5"}),Me=()=>{p(!f),w(!!f)},He=()=>{!g.trim()||!K||(ye(g),console.log("Sending message:",g),m(""))},Xe=I=>{const Y=Math.floor(I/3600),J=Math.floor(I%3600/60),ee=I%60;return Y>0?`${Y}:${J.toString().padStart(2,"0")}:${ee.toString().padStart(2,"0")}`:`${J}:${ee.toString().padStart(2,"0")}`},D=I=>new Date(I).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),X=q/B*100;return z?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(dr,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"시청방에 입장하는 중..."})]})}):!n&&!K?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:(v==null?void 0:v.contentTitle)||"시청방"}),o.jsx("p",{className:"text-white/60 mb-4",children:"시청방에 참여하시겠습니까?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsxs("span",{children:[(v==null?void 0:v.headCount)||0,"명 시청 중"]})]}),o.jsx("span",{children:"•"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pa,{className:"w-4 h-4"}),o.jsx("span",{children:"실시간 채팅"})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"뒤로가기"}),o.jsxs($,{onClick:fe,className:"teal-gradient hover:opacity-80 text-black",children:[Z==="connecting"?o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(lt,{className:"w-4 h-4 mr-2"}),"시청방 참여"]})]})]})}):E?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:"⚠️"}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"시청방 입장 실패"}),o.jsx("p",{className:"text-white/60 mb-4",children:E}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"뒤로가기"}),o.jsx($,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:"새로고침"})]})]})}):v?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!f&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs($,{variant:"ghost",onClick:t,className:"hover:bg-white/10",children:[o.jsx(so,{className:"w-5 h-5 mr-2"}),"나가기"]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:v.contentTitle}),_&&o.jsxs(at,{variant:"secondary",className:"text-xs",children:[o.jsx(ta,{className:"w-3 h-3 mr-1"}),"호스트"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsxs("span",{children:["콘텐츠: ",v.contentTitle]}),o.jsx("span",{children:"•"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsxs("span",{children:[C.filter(I=>I.isOnline).length,"명 시청 중"]})]}),o.jsx("span",{children:"•"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[K?o.jsx(Jj,{className:"w-4 h-4 text-green-400"}):o.jsx(Yj,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:K?"text-green-400":"text-yellow-400",children:K?"연결됨":Z==="connecting"?"연결 중":"연결 끊김"}),ie>0&&o.jsxs("span",{className:"text-yellow-400",children:["(재연결 시도 ",ie,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs($,{variant:"ghost",onClick:()=>w(!y),className:"hover:bg-white/10",children:[o.jsx(Pa,{className:"w-5 h-5"}),y?o.jsx(Ho,{className:"w-4 h-4 ml-1"}):o.jsx(sx,{className:"w-4 h-4 ml-1"})]})})]}),!K&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:Z==="connecting"?"🔄 서버에 연결하는 중...":Z==="error"?"⚠️ 연결 오류 - 재연결 시도 중":"🔧 서버 연결이 끊어졌습니다"})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((te=v==null?void 0:v.contentTitle)==null?void 0:te.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center group",children:[o.jsx($,{size:"lg",onClick:me,disabled:!_,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${_?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,children:P?o.jsx(Am,{className:"w-10 h-10 fill-current"}):o.jsx(Nt,{className:"w-10 h-10 fill-current ml-1"})}),!_&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(ta,{className:"w-4 h-4 inline mr-1"}),"호스트만 비디오를 제어할 수 있습니다"]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"w-full bg-white/20 rounded-full h-1 mb-2",children:o.jsx("div",{className:"bg-[#4ecdc4] h-1 rounded-full transition-all duration-300",style:{width:`${X}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:Xe(q)}),o.jsx("span",{children:Xe(B)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:me,className:"hover:bg-white/10",children:P?o.jsx(Am,{className:"w-5 h-5"}):o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:F,className:"hover:bg-white/10",children:se()}),u&&o.jsxs("div",{className:"absolute left-12 bottom-0 flex items-center rounded-lg px-3 py-2",children:[o.jsx(ZE,{value:l,onValueChange:M,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[l[0],"%"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"hover:bg-white/10",children:o.jsx(Wj,{className:"w-5 h-5"})}),f&&o.jsx($,{variant:"ghost",size:"sm",onClick:()=>w(!y),className:"hover:bg-white/10",children:o.jsx(Pa,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:Me,className:"hover:bg-white/10",children:f?o.jsx(Fj,{className:"w-5 h-5"}):o.jsx(zj,{className:"w-5 h-5"})})]})]})]}),f&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC 또는 축소 버튼으로 전체화면 종료"})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${y?"w-80":"w-0 overflow-hidden"}`,children:y&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:"채팅"}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>j(!x),className:"p-1 hover:bg-white/10",children:o.jsx(lt,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[C.filter(I=>I.isOnline).length,"명이 시청 중입니다"]})]}),x&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"참여자"}),o.jsx("div",{className:`space-y-2 ${C.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:C.length===0?o.jsx("div",{className:"text-xs text-white/50",children:"참여자가 없습니다."}):C.map(I=>{var Y;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(De,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{I.userId!==r&&s&&s(I.userId)},children:[o.jsx($e,{src:I.userAvatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:((Y=I.userName)==null?void 0:Y.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${I.userId!==r?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{I.userId!==r&&s&&s(I.userId)},children:I.userName}),I.isHost&&o.jsxs(at,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(ta,{className:"w-3 h-3 mr-1"}),"호스트"]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${I.isOnline?"bg-green-400":"bg-gray-400"}`})]},I.userId+I.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[z&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"이전 메시지를 불러오는 중..."})}),S.map(I=>{var Y,J;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(De,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx($e,{src:(Y=C.find(ee=>ee.userId===I.senderId))==null?void 0:Y.userAvatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:I.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:I.senderName}),((J=C.find(ee=>ee.userId===I.senderId))==null?void 0:J.isHost)&&o.jsx(ta,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:D(I.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:I.content})]})]})},I.id)}),o.jsx("div",{ref:V})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Be,{placeholder:K?"메시지를 입력하세요...":"서버에 연결 중...",value:g,onChange:I=>m(I.target.value),onKeyPress:I=>I.key==="Enter"&&He(),disabled:!K,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx($,{onClick:He,disabled:!g.trim()||!K,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]})})]})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"시청방 데이터를 불러오는 중..."})})})}function E_({onJoinRoom:e,onCreateRoom:t,onUserProfileOpen:r}){const[n,s]=d.useState(""),[i,a]=d.useState("participants"),[l,c]=d.useState([]),[u,h]=d.useState(!0),[f,p]=d.useState(null),[y,w]=d.useState(!1),[x,j]=d.useState(null),g=async(S=!0)=>{try{S?h(!0):w(!0),p(null);const k=await Ml.getWatchRooms({query:n,sortBy:i});c(k)}catch(k){console.error("시청방 목록 로드 오류:",k),p(k instanceof Error?k.message:"시청방 목록을 불러오는 중 오류가 발생했습니다.")}finally{h(!1),w(!1)}};d.useEffect(()=>{const S=setTimeout(()=>{g(!1)},300);return()=>clearTimeout(S)},[n,i]),d.useEffect(()=>{g(!0)},[]);const m=S=>{switch(S){case"movie":return"영화";case"tv":return"TV/드라마";case"sports":return"스포츠";default:return"콘텐츠"}},v=S=>{switch(S){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}},b=l.filter(S=>S.headCount>=10),C=l,T=async S=>{if(!x){j(S.id);try{await(e==null?void 0:e(S))}finally{j(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:"라이브 시청방"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs($,{onClick:()=>g(!1),disabled:y,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[y?o.jsx(dr,{className:"w-4 h-4 animate-spin"}):o.jsx(Qn,{className:"w-4 h-4"}),"새로고침"]}),o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"시청방 생성"]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(cs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Be,{placeholder:"방 이름, 개설자, 콘텐츠 검색...",value:n,onChange:S=>s(S.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Jf,{value:i,onValueChange:S=>a(S),children:[o.jsx(eh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Zf,{placeholder:"정렬"})}),o.jsxs(th,{children:[o.jsx(kr,{value:"participants",children:"시청자 많은 순"}),o.jsx(kr,{value:"latest",children:"최신순"}),o.jsx(kr,{value:"oldest",children:"오래된 순"})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:["현재 ",C.length,"개 시청방 활성화"]}),o.jsxs(at,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(lt,{className:"w-3 h-3 mr-1"}),"실시간"]})]})]}),f&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:f}),o.jsx($,{onClick:()=>g(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:"다시 시도"})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(dr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"시청방 목록을 불러오는 중..."})]}),!u&&!f&&o.jsxs(o.Fragment,{children:[!n&&b.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(Tf,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:"인기 시청방"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(S=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-[#4ecdc4]/30 hover:border-[#4ecdc4]/50 transition-all duration-300 group relative",children:[o.jsx("div",{className:"absolute top-3 left-3 z-10",children:o.jsxs(at,{className:"bg-[#4ecdc4] text-black",children:[o.jsx(Tn,{className:"w-3 h-3 mr-1"}),"인기"]})}),o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:S.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{onClick:()=>T(S),className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===S.id?o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(lt,{className:"w-4 h-4 mr-2"}),"참여하기"]})}),o.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/70 backdrop-blur-sm rounded-lg px-2 py-1 flex items-center gap-1",children:[o.jsx(ui,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:S.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(at,{variant:"outline",className:v("movie"),children:m("movie")}),o.jsx("span",{className:"text-xs text-white/60",children:"방금 전"})]}),o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:S.contentTitle}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:S.contentTitle}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(De,{className:"w-6 h-6 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>r==null?void 0:r(S.ownerId),children:[o.jsx($e,{src:""}),o.jsx(ze,{children:S.ownerName[0]})]}),o.jsx("span",{className:"text-sm text-white/80 cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:()=>r==null?void 0:r(S.ownerId),children:S.ownerName})]})]})]},S.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:"모든 시청방"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map(S=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:S.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{size:"sm",onClick:()=>T(S),className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===S.id?o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(lt,{className:"w-4 h-4 mr-2"}),"참여"]})}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(ui,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:S.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(at,{variant:"outline",className:v("movie"),children:m("movie")}),S.headCount>=10&&o.jsx(at,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:"인기"})]}),o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:S.contentTitle}),o.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-1",children:S.contentTitle}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(De,{className:"w-5 h-5 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>r==null?void 0:r(S.ownerId),children:[o.jsx($e,{src:""}),o.jsx(ze,{children:S.ownerName[0]})]}),o.jsx("span",{className:"text-xs text-white/80 truncate cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:()=>r==null?void 0:r(S.ownerId),children:S.ownerName})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60",children:[o.jsx(Qn,{className:"w-3 h-3"}),"방금 전"]})]})]})]},S.id))})]}),C.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(lt,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:n?"검색 결과가 없습니다.":"현재 활성화된 시청방이 없습니다."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[n&&o.jsx($,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"모든 시청방 보기"}),o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"새 시청방 만들기"]})]})]})]})]})})}var sc="Switch",[T_,uR]=Mr(sc),[__,R_]=T_(sc),Aw=d.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[p,y]=d.useState(null),w=xe(t,v=>y(v)),x=d.useRef(!1),j=p?h||!!p.closest("form"):!0,[g,m]=rs({prop:s,defaultProp:i??!1,onChange:u,caller:sc});return o.jsxs(__,{scope:r,checked:g,disabled:l,children:[o.jsx(ae.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":Lw(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:le(e.onClick,v=>{m(b=>!b),j&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),j&&o.jsx(Mw,{control:p,bubbles:!x.current,name:n,value:c,checked:g,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Aw.displayName=sc;var Iw="SwitchThumb",Ow=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=R_(Iw,r);return o.jsx(ae.span,{"data-state":Lw(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Ow.displayName=Iw;var P_="SwitchBubbleInput",Mw=d.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=d.useRef(null),l=xe(a,i),c=Qf(r),u=Gf(t);return d.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&y){const w=new Event("click",{bubbles:n});y.call(h,r),h.dispatchEvent(w)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Mw.displayName=P_;function Lw(e){return e?"checked":"unchecked"}var A_=Aw,I_=Ow;function O_({className:e,...t}){return o.jsx(A_,{"data-slot":"switch",className:ke("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(I_,{"data-slot":"switch-thumb",className:ke("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Fp({isOpen:e,onClose:t,onCreateWatchParty:r,onWatchAlone:n,content:s}){const[i,a]=d.useState(!1),[l,c]=d.useState("");d.useEffect(()=>{s&&e&&c(`${s.title} 시청방`)},[s,e]);const u=()=>{const h={isPublic:i,roomName:l||`${s==null?void 0:s.title} 시청방`};r(h)};return s?o.jsx($l,{open:e,onOpenChange:t,children:o.jsxs(zl,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(Fl,{children:o.jsxs(Bl,{className:"flex items-center space-x-2",children:[o.jsx(lt,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:"시청 방식을 선택해주세요"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover",onError:h=>{const f=h.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:s.title}),o.jsx("p",{className:"text-sm text-white/60",children:s.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:s.description})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx($,{onClick:n,variant:"outline",className:"w-full justify-start border-white/20 hover:bg-white/5 h-auto p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:"혼자 시청하기"}),o.jsx("div",{className:"text-xs text-white/60",children:"바로 재생을 시작합니다"})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(lt,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:"같이 시청하기"}),o.jsx("div",{className:"text-xs text-white/60",children:"친구들과 실시간으로 시청하며 채팅하세요"})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"roomName",className:"text-sm",children:"방 이름"}),o.jsx(Be,{id:"roomName",value:l,onChange:h=>c(h.target.value),placeholder:"시청방 이름을 입력하세요",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[i?o.jsx(ol,{className:"w-4 h-4 text-green-400"}):o.jsx(il,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"isPublic",className:"text-sm",children:i?"공개방":"비공개방"}),o.jsx("p",{className:"text-xs text-white/60",children:i?"누구나 참여 가능":"초대받은 사람만 참여"})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(O_,{id:"isPublic",checked:i,onCheckedChange:a})})]})}),o.jsxs($,{onClick:u,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!l.trim(),children:[o.jsx(lt,{className:"w-4 h-4 mr-2"}),"시청방 만들기"]})]})]})]})]})]})}):null}function Bp({isOpen:e,onClose:t,content:r,getPlaylists:n,createPlaylist:s,addPlaylistContents:i}){const[a,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[p,y]=d.useState(""),[w,x]=d.useState(""),[j,g]=d.useState(!0),[m,v]=d.useState([]),[b,C]=d.useState(!1);d.useEffect(()=>{e&&T()},[e]);const T=async()=>{try{C(!0);const E=await n();v(E)}catch(E){console.error("Error loading playlists:",E)}finally{C(!1)}},S=m.filter(E=>E.title.toLowerCase().includes(a.toLowerCase())||E.description.toLowerCase().includes(a.toLowerCase())),k=E=>{u(L=>L.includes(E)?L.filter(V=>V!==E):[...L,E])},_=async()=>{if(r)try{const E=c.map(L=>i(L,[r.id]));await Promise.all(E),alert(`"${r.title}"을(를) ${c.length}개의 플레이리스트에 추가했습니다.`),u([]),l(""),t()}catch(E){console.error("플레이리스트에 콘텐츠 추가 실패:",E),alert("플레이리스트에 콘텐츠 추가 중 오류가 발생했습니다.")}},R=async()=>{if(!(!p.trim()||!r))try{const E=await s({name:p,description:w,isPublic:j});await i(E.id,[r.id]),alert(`새 플레이리스트 "${p}"을(를) 만들고 "${r.title}"을(를) 추가했습니다.`),y(""),x(""),g(!0),f(!1),t()}catch(E){console.error("Error creating playlist:",E),alert("플레이리스트 생성 중 오류가 발생했습니다.")}},z=()=>{u([]),l(""),f(!1),y(""),x(""),g(!0)},N=()=>{z(),t()};return r?o.jsx($l,{open:e,onOpenChange:N,children:o.jsxs(zl,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(Fl,{children:o.jsx(Bl,{className:"gradient-text",children:"플레이리스트에 추가"})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(De,{className:"h-12 w-12 rounded-lg",children:[o.jsx($e,{src:r.thumbnail,className:"object-cover"}),o.jsx(ze,{children:r.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:r.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[r.type==="movie"?"영화":r.type==="tv"?"TV":"스포츠"," • ",r.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Be,{placeholder:"플레이리스트 제목",value:p,onChange:E=>y(E.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Be,{placeholder:"설명 (선택사항)",value:w,onChange:E=>x(E.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[j?o.jsx(ol,{className:"w-4 h-4 text-green-400"}):o.jsx(il,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:j?"공개":"비공개"})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>g(!j),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:"변경"})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:"뒤로"}),o.jsx($,{onClick:R,disabled:!p.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:"만들기"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Be,{placeholder:"플레이리스트 검색...",value:a,onChange:E=>l(E.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs($,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"새 플레이리스트 만들기"]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:b?o.jsx("div",{className:"text-center py-8 text-white/60",children:"플레이리스트를 불러오는 중..."}):S.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:a?"검색 결과가 없습니다":"플레이리스트가 없습니다"}):S.map(E=>o.jsxs("div",{onClick:()=>k(E.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(E.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(De,{className:"h-10 w-10 rounded-lg",children:[o.jsx($e,{src:E.thumbnail,className:"object-cover"}),o.jsx(ze,{children:E.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:E.title}),E.isPublic?o.jsx(ol,{className:"w-3 h-3 text-green-400"}):o.jsx(il,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[E.contentCount,"개 콘텐츠"]})]}),c.includes(E.id)&&o.jsx(Fs,{className:"w-5 h-5 text-[#4ecdc4]"})]},E.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:N,className:"flex-1 border-white/20 hover:bg-white/5",children:"취소"}),o.jsxs($,{onClick:_,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:["추가 (",c.length,")"]})]})]})]})]})}):null}function Wp({isOpen:e,onClose:t,onCreateRoom:r,userId:n}){const[s,i]=d.useState(""),[a,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState("select"),[p,y]=d.useState(!1),[w,x]=d.useState(null),[j,g]=d.useState([]),[m,v]=d.useState(!1),[b,C]=d.useState(!1),[T,S]=d.useState(),[k,_]=d.useState(!1),R=async(A=!1)=>{try{A?_(!0):v(!0),x(null);const B=await Gn.getContents({type:a==="all"?void 0:a.toUpperCase(),query:s||void 0,cursor:A?T:void 0,size:20});g(A?P=>[...P,...B.data]:B.data),C(B.hasNext),S(B.nextCursor)}catch(B){console.error("콘텐츠 로드 오류:",B),x(B instanceof Error?B.message:"콘텐츠를 불러오는 중 오류가 발생했습니다.")}finally{v(!1),_(!1)}};d.useEffect(()=>{e&&R(!1)},[e]),d.useEffect(()=>{if(!e)return;const A=setTimeout(()=>{R(!1)},300);return()=>clearTimeout(A)},[s,a,e]);const z=()=>{b&&!m&&!k&&R(!0)},N=A=>{u(A),f("create"),x(null)},E=async()=>{if(c){y(!0),x(null);try{const A={contentId:c.id,ownerId:n},B=await Ml.createWatchRoom(A);r(B),L()}catch(A){console.error("시청방 생성 오류:",A),x(A instanceof Error?A.message:"시청방 생성 중 오류가 발생했습니다.")}finally{y(!1)}}},L=()=>{i(""),l("all"),u(null),f("select"),y(!1),x(null),g([]),v(!1),C(!1),S(void 0),_(!1),t()},V=A=>{switch(A){case"MOVIE":return"영화";case"TV":return"TV/드라마";case"SPORTS":return"스포츠";default:return"콘텐츠"}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:h,selectedContent:c,loading:m}),o.jsx($l,{open:e,onOpenChange:L,children:o.jsxs(zl,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(Fl,{children:o.jsx(Bl,{className:"text-xl",children:h==="select"?"실시간 시청방 만들기":"시청방 생성 확인"})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"원하는 콘텐츠를 선택해 실시간 시청방을 생성할 수 있습니다."}),h==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(cs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Be,{placeholder:"콘텐츠 검색...",value:s,onChange:A=>i(A.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(Jf,{value:a,onValueChange:l,children:[o.jsx(eh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Zf,{placeholder:"카테고리"})}),o.jsxs(th,{children:[o.jsx(kr,{value:"all",children:"전체"}),o.jsx(kr,{value:"movie",children:"영화"}),o.jsx(kr,{value:"tv",children:"TV/드라마"}),o.jsx(kr,{value:"sports",children:"스포츠"})]})]})]}),m&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(dr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"콘텐츠를 불러오는 중..."})]}),w&&!m&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:w}),o.jsx($,{onClick:()=>R(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:"다시 시도"})]}),!m&&!w&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[j.map(A=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>N(A),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:B=>{const P=B.target;P.style.display="none";const U=P.parentElement;if(U&&!U.querySelector(".image-fallback")){const q=document.createElement("div");q.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",q.textContent=A.title.charAt(0).toUpperCase(),U.appendChild(q)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:p,children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),"선택"]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:A.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:A.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[A.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Tn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs",children:A.rating})]}),o.jsx(at,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:V(A.contentType)})]})]})]},A.id)),b&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx($,{onClick:z,disabled:k||p,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:k?o.jsxs(o.Fragment,{children:[o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}),"로딩 중..."]}):"더 보기"})})]}),!m&&!w&&j.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"검색 결과가 없습니다."}),o.jsx($,{variant:"outline",onClick:()=>{i(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"전체 콘텐츠 보기"})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-full object-cover",onError:A=>{const B=A.target;B.style.display="none";const P=B.parentElement;if(P&&!P.querySelector(".image-fallback")){const U=document.createElement("div");U.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",U.textContent=c.title.charAt(0).toUpperCase(),P.appendChild(U)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[c.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Tn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:c.rating})]}),o.jsx(at,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:V(c.contentType)})]})]})]}),w&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{f("select"),u(null),x(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:p,children:"뒤로가기"}),o.jsx($,{onClick:E,disabled:!c||p,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:p?o.jsxs(o.Fragment,{children:[o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}),"생성 중..."]}):"시청방 생성"})]})]})})]})})}var tu="rovingFocusGroup.onEntryFocus",M_={bubbles:!1,cancelable:!0},Li="RovingFocusGroup",[Ed,Dw,L_]=zf(Li),[D_,$w]=Mr(Li,[L_]),[$_,z_]=D_(Li),zw=d.forwardRef((e,t)=>o.jsx(Ed.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ed.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(F_,{...e,ref:t})})}));zw.displayName=Li;var F_=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,p=d.useRef(null),y=xe(t,p),w=Ni(i),[x,j]=rs({prop:a,defaultProp:l??null,onChange:c,caller:Li}),[g,m]=d.useState(!1),v=vt(u),b=Dw(r),C=d.useRef(!1),[T,S]=d.useState(0);return d.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(tu,v),()=>k.removeEventListener(tu,v)},[v]),o.jsx($_,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(k=>j(k),[j]),onItemShiftTab:d.useCallback(()=>m(!0),[]),onFocusableItemAdd:d.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>S(k=>k-1),[]),children:o.jsx(ae.div,{tabIndex:g||T===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{C.current=!0}),onFocus:le(e.onFocus,k=>{const _=!C.current;if(k.target===k.currentTarget&&_&&!g){const R=new CustomEvent(tu,M_);if(k.currentTarget.dispatchEvent(R),!R.defaultPrevented){const z=b().filter(A=>A.focusable),N=z.find(A=>A.active),E=z.find(A=>A.id===x),V=[N,E,...z].filter(Boolean).map(A=>A.ref.current);Ww(V,h)}}C.current=!1}),onBlur:le(e.onBlur,()=>m(!1))})})}),Fw="RovingFocusGroupItem",Bw=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=Sn(),u=i||c,h=z_(Fw,r),f=h.currentTabStopId===u,p=Dw(r),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=h;return d.useEffect(()=>{if(n)return y(),()=>w()},[n,y,w]),o.jsx(Ed.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(ae.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:le(e.onMouseDown,j=>{n?h.onItemFocus(u):j.preventDefault()}),onFocus:le(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:le(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){h.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const g=U_(j,h.orientation,h.dir);if(g!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let v=p().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const b=v.indexOf(j.currentTarget);v=h.loop?H_(v,b+1):v.slice(b+1)}setTimeout(()=>Ww(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});Bw.displayName=Fw;var B_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function W_(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function U_(e,t,r){const n=W_(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return B_[n]}function Ww(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function H_(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var V_=zw,K_=Bw,oc="Tabs",[G_,dR]=Mr(oc,[$w]),Uw=$w(),[X_,wh]=G_(oc),Hw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Ni(l),[f,p]=rs({prop:n,onChange:s,defaultProp:i??"",caller:oc});return o.jsx(X_,{scope:r,baseId:Sn(),value:f,onValueChange:p,orientation:a,dir:h,activationMode:c,children:o.jsx(ae.div,{dir:h,"data-orientation":a,...u,ref:t})})});Hw.displayName=oc;var Vw="TabsList",Kw=d.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=wh(Vw,r),a=Uw(r);return o.jsx(V_,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Kw.displayName=Vw;var Gw="TabsTrigger",Xw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=wh(Gw,r),l=Uw(r),c=Yw(a.baseId,n),u=Jw(a.baseId,n),h=n===a.value;return o.jsx(K_,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(ae.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:le(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:le(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:le(e.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(n)})})})});Xw.displayName=Gw;var qw="TabsContent",Qw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=wh(qw,r),c=Yw(l.baseId,n),u=Jw(l.baseId,n),h=n===l.value,f=d.useRef(h);return d.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(rn,{present:s||h,children:({present:p})=>o.jsx(ae.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});Qw.displayName=qw;function Yw(e,t){return`${e}-trigger-${t}`}function Jw(e,t){return`${e}-content-${t}`}var q_=Hw,Q_=Kw,Y_=Xw,J_=Qw;function Z_({className:e,...t}){return o.jsx(q_,{"data-slot":"tabs",className:ke("flex flex-col gap-2",e),...t})}function eR({className:e,...t}){return o.jsx(Q_,{"data-slot":"tabs-list",className:ke("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function ru({className:e,...t}){return o.jsx(Y_,{"data-slot":"tabs-trigger",className:ke("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function nu({className:e,...t}){return o.jsx(J_,{"data-slot":"tabs-content",className:ke("flex-1 outline-none",e),...t})}function tR({userId:e,currentUserId:t,onBack:r,authenticatedFetch:n,onUserProfileOpen:s,getPlaylists:i}){const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState([]),[p,y]=d.useState([]),[w,x]=d.useState(!1),[j,g]=d.useState(!0),[m,v]=d.useState(null),[b,C]=d.useState(!1),T=e===t,S=async()=>{try{const E=await n(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${e}`);if(!E.ok)throw new Error("사용자 정보를 가져오는데 실패했습니다.");const L=await E.json();l(L)}catch(E){console.error("사용자 정보 조회 오류:",E),v("사용자 정보를 불러올 수 없습니다.")}},k=async()=>{try{const E=await n(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${e}/followers`);if(!E.ok)throw new Error("팔로워 목록을 가져오는데 실패했습니다.");const L=await E.json();u(L)}catch(E){console.error("팔로워 목록 조회 오류:",E)}},_=async()=>{try{const E=await n(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${e}/following`);if(!E.ok)throw new Error("팔로잉 목록을 가져오는데 실패했습니다.");const L=await E.json();f(L)}catch(E){console.error("팔로잉 목록 조회 오류:",E)}},R=async()=>{try{if(i){const E=await n(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${e}/playlists`);if(!E.ok)throw new Error("플레이리스트를 가져오는데 실패했습니다.");const L=await E.json();y(L)}else y([])}catch(E){console.error("플레이리스트 조회 오류:",E),y([])}},z=async()=>{if(!(!t||T))try{const E=await n(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${t}/is-following/${e}`);if(!E.ok)throw new Error("팔로우 상태를 확인하는데 실패했습니다.");const L=await E.json();x(L)}catch(E){console.error("팔로우 상태 확인 오류:",E)}},N=async()=>{if(!(!t||T)){C(!0);try{if(w){if(!(await n("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/unfollow",{method:"DELETE",body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error("언팔로우에 실패했습니다.");x(!1),u(L=>L.filter(V=>V.id!==t))}else{if(!(await n("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/follow",{method:"POST",body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error("팔로우에 실패했습니다.");x(!0),a&&u(L=>[...L,{id:t,name:"나",email:"",profileImage:""}])}}catch(E){console.error("팔로우 처리 오류:",E),alert(E instanceof Error?E.message:"팔로우 처리 중 오류가 발생했습니다.")}finally{C(!1)}}};return d.useEffect(()=>{e&&(async()=>{g(!0),v(null),await Promise.all([S(),k(),_(),z(),R()]),g(!1)})()},[e,t]),j?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"프로필을 불러오는 중..."})]})}):m?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:m}),o.jsx($,{onClick:r,variant:"outline",children:"돌아가기"})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:r,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(so,{className:"w-4 h-4"}),o.jsx("span",{children:"돌아가기"})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:"프로필"}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(De,{className:"h-32 w-32",children:[o.jsx($e,{src:a.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:c.length}),o.jsx("div",{className:"text-sm text-white/60",children:"팔로워"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:h.length}),o.jsx("div",{className:"text-sm text-white/60",children:"팔로잉"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:p.length}),o.jsx("div",{className:"text-sm text-white/60",children:"플레이리스트"})]})]}),!T&&o.jsx($,{onClick:N,disabled:b,className:`${w?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:b?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):w?o.jsxs(o.Fragment,{children:[o.jsx(ix,{className:"w-4 h-4"}),o.jsx("span",{children:"언팔로우"})]}):o.jsxs(o.Fragment,{children:[o.jsx(_f,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로우"})]})})]})]})}),o.jsxs(Z_,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(eR,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(ru,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Im,{className:"w-4 h-4"}),o.jsx("span",{children:"플레이리스트"})]}),o.jsxs(ru,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로워"})]}),o.jsxs(ru,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(En,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로잉"})]})]}),o.jsxs(nu,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(E=>{var L;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:"플레이리스트"})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:E.name||E.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:E.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((L=E.contents)==null?void 0:L.length)||E.itemCount||0,"개 항목"]})]})]},E.id)})}),p.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Im,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"플레이리스트가 없습니다."})]})]}),o.jsxs(nu,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(De,{className:"h-12 w-12",children:[o.jsx($e,{src:E.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),c.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(lt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"팔로워가 없습니다."})]})]}),o.jsxs(nu,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(De,{className:"h-12 w-12",children:[o.jsx($e,{src:E.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),h.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(En,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"팔로잉이 없습니다."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"사용자를 찾을 수 없습니다."}),o.jsx($,{onClick:r,variant:"outline",children:"돌아가기"})]})})}function rR(){const[e,t]=d.useState(()=>{const W=localStorage.getItem("currentPage")||"home";return console.log("🔍 초기 페이지 로드:",W),W}),[r,n]=d.useState(!1),[s,i]=d.useState(null),a=W=>{try{if(!W||typeof W!="string")return console.error("유효하지 않은 토큰:",W),null;const G=W.split(".");if(G.length!==3)return console.error("잘못된 JWT 형식:",W),null;const Q=JSON.parse(atob(G[1])),ue=Q.userId||Q.sub||Q.id||null;return ue||console.error("토큰에서 사용자 ID를 찾을 수 없음:",Q),ue}catch(G){return console.error("JWT 토큰 파싱 오류:",G,"Token:",W),null}},l=W=>{try{const G=JSON.parse(atob(W.split(".")[1])),Q=Date.now()/1e3;return G.exp<Q}catch(G){return console.error("토큰 만료 체크 오류:",G),!0}},c=()=>{console.log("토큰이 만료되어 자동 로그아웃됩니다."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),n(!1),t("home")},u=d.useRef(null),h=async()=>u.current?(console.log("토큰 재발급이 이미 진행 중입니다. 기존 요청을 대기합니다."),u.current):(u.current=(async()=>{try{console.log("토큰 재발급 시작");const W=await fetch("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/refresh",{method:"POST",credentials:"include"});if(!W.ok)return console.log(`토큰 재발급 실패: ${W.status} ${W.statusText}`),W.status===401?console.log("Refresh token이 만료되었습니다."):W.status===500&&console.log("서버 오류로 토큰 재발급 실패"),null;const G=await W.text();if(!G||G.trim()==="")return console.log("빈 응답으로 토큰 재발급 실패"),null;const Q=G.replace(/"/g,"");return console.log("토큰 재발급 완료"),Q}catch(W){return console.error("Token refresh 오류:",W),null}finally{u.current=null}})(),u.current),f=async(W,G={})=>{let Q=localStorage.getItem("accessToken");const ue=Q?a(Q):null;if(console.log("authenticatedFetch 호출:",{url:W,accessToken:Q?"토큰 존재":"토큰 없음",userIdFromToken:ue,currentUserId:s}),!Q)throw console.error("인증 토큰이 없습니다. 로그인이 필요합니다."),c(),new Error("인증 토큰이 없습니다.");if(l(Q)){const Vt=await h();if(Vt){localStorage.setItem("accessToken",Vt),Q=Vt;const po=a(Vt);po&&i(po)}else throw c(),new Error("세션이 만료되었습니다. 다시 로그인해주세요.")}const It={"Content-Type":"application/json",...["http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/login","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/refresh","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/change-password","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/temp-password","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users"].some(Vt=>W.startsWith(Vt))?{}:{Authorization:`Bearer ${Q}`},...G.headers||{}},ot=await fetch(W,{...G,headers:It});if(ot.status===401){console.log("401 에러 발생, 토큰 재발급 시도");const Vt=await h();if(Vt){localStorage.setItem("accessToken",Vt),Q=Vt;const po=a(Vt);po&&i(po),console.log("토큰 재발급 성공, 요청 재시도");const Zw={...It,Authorization:`Bearer ${Vt}`};return fetch(W,{...G,headers:Zw})}else throw console.log("토큰 재발급 실패, 로그아웃 처리"),c(),new Error("세션이 만료되었습니다. 다시 로그인해주세요.")}if(ot.status===403)throw console.log("권한이 없습니다."),new Error("해당 작업을 수행할 권한이 없습니다.");if(ot.status===404)throw new Error("요청한 리소스를 찾을 수 없습니다.");return ot},p=async W=>{try{await f(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/notifications/${W}`,{method:"DELETE"})}catch(G){throw console.error("알림 삭제 실패:",G),G}},y=async()=>{try{await f("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/notifications",{method:"DELETE"})}catch(W){throw console.error("모든 알림 삭제 실패:",W),W}},w=async()=>{try{const W=await f("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/");if(!W.ok)throw new Error("DM 룸 목록 조회 실패");return await W.json()}catch(W){throw console.error("DM 룸 목록 조회 실패:",W),W}},x=async W=>{try{const G=await f(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/userRoom?userB=${W}`);if(!G.ok)throw new Error("DM 룸 생성/조회 실패");return await G.text()}catch(G){throw console.error("DM 룸 생성/조회 실패:",G),G}},j=async(W,G)=>{try{const Q=new URLSearchParams;G!=null&&G.cursor&&Q.append("cursor",G.cursor),G!=null&&G.size&&Q.append("size",G.size.toString());const ue=await f(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dm/${W}?${Q}`);if(!ue.ok)throw new Error("DM 메시지 목록 조회 실패");return await ue.json()}catch(Q){throw console.error("DM 메시지 목록 조회 실패:",Q),Q}},g=async W=>{try{const G=W&&W.trim()!==""?W.trim():"",Q=new URLSearchParams;Q.append("keyword",G);const ue=`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists/search?${Q}`;console.log("🚀 API 호출:",ue);const be=await f(ue);if(console.log("📡 응답 상태:",be.status,be.statusText),!be.ok){let It="플레이리스트 목록 조회 실패";try{const ot=await be.text();console.error("❌ 에러 응답:",ot),It=`${be.status} ${be.statusText}: ${ot}`}catch(ot){console.error("❌ 에러 파싱 실패:",ot)}throw new Error(It)}const Pe=await be.json();return console.log("✅ 성공 응답:",{url:ue,status:be.status,dataType:Array.isArray(Pe)?`배열 (길이: ${Pe.length})`:typeof Pe,data:Array.isArray(Pe)&&Pe.length>0?Pe.slice(0,2):Pe,headers:Object.fromEntries(be.headers.entries())}),Pe}catch(G){throw console.error("❌ 플레이리스트 목록 조회 실패:",G),G}},m=async W=>{try{const G=`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists/${W}`;console.log("🚀 플레이리스트 조회 API 호출:",G);const Q=await f(G);if(console.log("📡 응답 상태:",Q.status,Q.statusText),!Q.ok){let be="플레이리스트 조회 실패";try{const Pe=await Q.text();console.error("❌ 에러 응답:",Pe),be=`${Q.status} ${Q.statusText}: ${Pe}`}catch(Pe){console.error("❌ 에러 파싱 실패:",Pe)}throw new Error(be)}const ue=await Q.json();return console.log("✅ 플레이리스트 조회 성공:",{url:G,status:Q.status,data:ue}),ue}catch(G){throw console.error("❌ 플레이리스트 조회 실패:",G),G}},v=async W=>{var G,Q;try{if(!W.name||W.name.trim()==="")throw new Error("플레이리스트 이름은 필수입니다.");if(!s)throw new Error("로그인이 필요합니다.");const ue={name:W.name.trim(),description:W.description||"",isPublic:W.isPublic??!0};console.log("🚀 플레이리스트 생성 요청:",ue);const be=await f("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists",{method:"POST",body:JSON.stringify(ue)});if(console.log("📡 플레이리스트 생성 응답 상태:",be.status,be.statusText),!be.ok){let It="플레이리스트 생성 실패";try{const ot=await be.json();console.error("❌ 플레이리스트 생성 에러:",ot),It=ot.message||It}catch(ot){console.error("Error parsing error response:",ot)}throw new Error(It)}const Pe=await be.json();return console.log("✅ 플레이리스트 생성 성공:",{createdPlaylist:Pe,createdBy:(G=Pe.user)==null?void 0:G.id,createdByName:(Q=Pe.user)==null?void 0:Q.name,currentUserId:s}),Pe}catch(ue){throw console.error("플레이리스트 생성 실패:",ue),ue}},b=async(W,G)=>{try{if(!G||G.length===0)throw new Error("추가할 콘텐츠를 선택해주세요.");const Q={contentIds:G},ue=await f(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists/${W}/contents`,{method:"POST",body:JSON.stringify(Q)});if(!ue.ok){let It="플레이리스트에 콘텐츠 추가 실패";try{It=(await ue.json()).message||It}catch(ot){console.error("Error parsing error response:",ot)}throw new Error(It)}let be=null;const Pe=await ue.text();return Pe&&(be=JSON.parse(Pe)),console.log("플레이리스트 콘텐츠 추가 성공:",be),be}catch(Q){throw console.error("플레이리스트 콘텐츠 추가 실패:",Q),Q}},C=async(W,G)=>{try{if(!G||G.length===0)throw new Error("삭제할 콘텐츠를 선택해주세요.");const Q={contentIds:G},ue=await f(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists/${W}/contents`,{method:"DELETE",body:JSON.stringify(Q)});if(!ue.ok){let be="플레이리스트에서 콘텐츠 삭제 실패";try{be=(await ue.json()).message||be}catch(Pe){console.error("Error parsing error response:",Pe)}throw new Error(be)}console.log("플레이리스트 콘텐츠 삭제 성공")}catch(Q){throw console.error("플레이리스트 콘텐츠 삭제 실패:",Q),Q}},T=async W=>{try{if(!s)throw new Error("로그인이 필요합니다");console.log("🔔 구독 요청 시작:",{userId:s,playlistId:W});const G={userId:s,playlistId:W};console.log("📤 구독 요청 데이터:",G);const Q=await f("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("📡 구독 응답 상태:",Q.status,Q.statusText),!Q.ok){let ue="플레이리스트 구독 실패";try{ue=(await Q.json()).message||ue}catch(be){console.error("Error parsing error response:",be)}throw new Error(ue)}console.log("플레이리스트 구독 성공")}catch(G){throw console.error("플레이리스트 구독 실패:",G),G}},S=async W=>{try{console.log("🔕 구독 취소 요청 시작:",{subscriptionId:W});const G=await f(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/subscriptions/${W}`,{method:"DELETE"});if(console.log("📡 구독 취소 응답 상태:",G.status,G.statusText),!G.ok){let Q="플레이리스트 구독 취소 실패";try{Q=(await G.json()).message||Q}catch(ue){console.error("Error parsing error response:",ue)}throw new Error(Q)}console.log("플레이리스트 구독 취소 성공")}catch(G){throw console.error("플레이리스트 구독 취소 실패:",G),G}},[k,_]=d.useState(null),[R,z]=d.useState(null),[N,E]=d.useState(null),[L,V]=d.useState(!1),[A,B]=d.useState(!1),[P,U]=d.useState(null),[q,O]=d.useState(!1),[K,Z]=d.useState(!1),[fe,de]=d.useState(null),[ye,re]=d.useState(!1),[ie,me]=d.useState(null),[F,M]=d.useState(!1),[se,Me]=d.useState(null),[He,Xe]=d.useState(!1),[D,X]=d.useState(null),[te,I]=d.useState(!1),Y=()=>{const W=new URL(window.location.href),G=W.pathname;if(G==="/oauth/success"){const Q=W.searchParams.get("access_token");Q?(J(Q),window.history.replaceState({},document.title,"/"),console.log("OAuth 로그인 성공! 메인 페이지로 이동합니다.")):(alert("로그인 중 오류가 발생했습니다. 액세스 토큰을 받지 못했습니다."),window.history.replaceState({},document.title,"/"))}if(G==="/oauth/error"){const Q=W.searchParams.get("message");if(Q){const ue=decodeURIComponent(Q);ue.includes("jwt_sessions_user_id_key")?alert(`이미 가입된 이메일입니다.

해당 이메일로 직접 로그인해주세요.`):ue.includes("users_name_key")?alert(`동일한 이름을 가진 사용자가 이미 존재합니다.

다른 이름으로 가입하거나 기존 이메일로 로그인해주세요.`):ue.includes("duplicate key value violates unique constraint")?alert(`이미 사용 중인 정보입니다.

다시 확인해주세요.`):alert(ue)}else alert("OAuth 로그인 중 알 수 없는 오류가 발생했습니다.");window.history.replaceState({},document.title,"/")}};d.useEffect(()=>{(async()=>{Y();const G=localStorage.getItem("accessToken");if(G){if(l(G)){console.log("저장된 토큰이 만료됨, 백엔드 연결 실패로 인해 로그아웃 처리"),c();return}const Q=a(G);Q?(i(Q),n(!0)):(console.log("토큰에서 사용자 ID 추출 실패"),localStorage.removeItem("accessToken"),c())}})()},[]),d.useEffect(()=>{if(!r)return;const G=setInterval(async()=>{const Q=localStorage.getItem("accessToken");Q&&l(Q)&&(console.log("토큰 만료됨, 백엔드 연결 실패로 인해 로그아웃 처리"),c())},3e4);return()=>clearInterval(G)},[r]);const J=W=>{localStorage.setItem("accessToken",W);const G=a(W);G?i(G):(localStorage.removeItem("accessToken"),n(!1)),n(!0)},ee=W=>{if(console.log("🔄 페이지 변경:",W),W==="create-room"){Xe(!0);return}t(W),localStorage.setItem("currentPage",W),W!=="playlist-detail"&&_(null),W!=="watch-party"&&X(null),W!=="content-detail"&&z(null),W!=="user-profile"&&E(null)};d.useEffect(()=>{localStorage.setItem("currentPage",e)},[e]);const he=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),n(!1),t("home")},ve=()=>{V(!L)},Se=async()=>{const W=prompt("임시 비밀번호를 발급받을 이메일을 입력하세요:");if(!(W!=null&&W.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(W.trim())){alert("유효한 이메일 주소를 입력해주세요.");return}try{const Q=await fetch("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:W.trim()})});if(!Q.ok){let ue="임시 비밀번호 발급에 실패했습니다.";try{ue=(await Q.json()).message||ue}catch(be){console.error("Error parsing error response:",be)}throw new Error(ue)}alert(`${W}로 임시 비밀번호를 발송했습니다.
이메일을 확인하고 임시 비밀번호로 로그인 후 비밀번호를 변경해주세요.`)}catch(Q){console.error("임시 비밀번호 발급 오류:",Q),alert(Q instanceof Error?Q.message:"임시 비밀번호 발급 중 오류가 발생했습니다.")}},we=W=>{_(W),t("playlist-detail")},ce=()=>{_(null),t("playlist")},Te=W=>{z(W),t("content-detail")},rr=()=>{z(null),t(R&&{movie:"movies",tv:"tv",sports:"sports"}[R.type]||"home")},wr=W=>{const G={...W,year:W.year||2024,rating:W.rating||4};Me(G),M(!0)},dt=()=>{M(!1),Me(null)},_e=W=>{me(W),re(!0)},kt=()=>{re(!1),console.log(`Starting solo viewing for: ${ie==null?void 0:ie.title}`),alert(`"${ie==null?void 0:ie.title}" 재생을 시작합니다.`),me(null)},zr=W=>{if(!ie)return;const G=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",W),console.log("Room code:",G),alert("Watch party creation not implemented yet"),re(!1),me(null)},ps=W=>{X(W.id),I(!1),t("watch-party")},Ut=W=>{X(W.id),I(!0),Xe(!1),t("watch-party")},vs=()=>{X(null),I(!1),t("live")},nt=()=>{Xe(!0)},gs=()=>{Xe(!1)},Fr=()=>{U(null),B(!0)},ic=()=>{B(!1),U(null)},Di=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Br=W=>{E(W),t("user-profile")},mo=()=>{s&&Br(s)},$n=()=>{E(null),t("home")},qe=()=>{K?(Z(!1),de(null),O(!0)):O(!q)},Ke=()=>{O(!1)},ft=()=>{O(!1),Z(!1),de(null)},yt=W=>{de(W),O(!1),Z(!0)},st=()=>{Z(!1),de(null)},Je=()=>{Z(!1),de(null),O(!0)},nr=()=>{(q||K)&&ft()};if(!r)return console.log("🔍 로그인 상태 디버깅:",{isLoggedIn:r,accessToken:localStorage.getItem("accessToken"),userId:s}),o.jsx("div",{children:o.jsx(hS,{onLogin:J,onToggleAuth:ve,onForgotPassword:Se,isRegister:L})});const Ht=()=>{switch(console.log("🔍 현재 페이지:",e),e){case"curation":return o.jsx(yS,{onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:wr,userId:s||void 0});case"movies":return o.jsx(Hc,{category:"movies",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:wr});case"tv":return o.jsx(Hc,{category:"tv",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:wr});case"sports":return o.jsx(Hc,{category:"sports",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:wr});case"playlist":return o.jsx(Hm,{onPlaylistOpen:we,getPlaylists:g,createPlaylist:v,subscribePlaylist:T,unsubscribePlaylist:S,currentUserId:s||void 0,onUserProfileOpen:Br});case"playlist-detail":return k?o.jsx(Q2,{playlistId:k,onBack:ce,onContentPlay:_e,getPlaylistById:m,addPlaylistContents:b,deletePlaylistContents:C}):o.jsx(Hm,{onPlaylistOpen:we,getPlaylists:g,createPlaylist:v});case"content-detail":return R?o.jsx(aE,{content:R,onBack:rr,onPlay:_e,currentUser:s?{id:s,name:"",avatar:void 0}:void 0}):o.jsx(na,{onPageChange:ee,onPlaylistOpen:we,onContentPlay:_e,getPlaylists:g,currentUserId:s||void 0});case"watch-party":return D&&s?o.jsx(k_,{roomId:D,userId:s,onBack:vs,shouldConnect:te,onUserProfileOpen:Br}):o.jsx(na,{onPageChange:ee,onPlaylistOpen:we,onContentPlay:_e,getPlaylists:g,currentUserId:s||void 0});case"user-profile":return N?o.jsx(tR,{userId:N,currentUserId:s,onBack:$n,authenticatedFetch:f,onUserProfileOpen:Br,getPlaylists:g},N):o.jsx(na,{onPageChange:ee,onPlaylistOpen:we,onContentPlay:_e,getPlaylists:g,currentUserId:s||void 0});case"live":return o.jsx(E_,{onJoinRoom:ps,onCreateRoom:nt,onUserProfileOpen:Br});default:return o.jsx(na,{onPageChange:ee,onPlaylistOpen:we,onContentPlay:_e,getPlaylists:g})}};return e==="watch-party"||e==="content-detail"||e==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[Ht(),o.jsx(Fp,{isOpen:ye,onClose:()=>re(!1),onCreateWatchParty:zr,onWatchAlone:kt,content:ie}),o.jsx(Bp,{isOpen:F,onClose:dt,content:se,getPlaylists:g,createPlaylist:v,addPlaylistContents:b}),o.jsx(Wp,{isOpen:He,onClose:gs,onCreateRoom:Ut,userId:s||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(sS,{currentPage:e,onPageChange:ee,onProfileClick:Fr,onMyProfileClick:mo,onCloseDM:ft,onLogout:he,authenticatedFetch:f,userId:s,refreshUserProfile:Di,deleteNotification:p,deleteAllNotifications:y}),o.jsx("main",{className:"flex-1",onClick:nr,children:Ht()}),o.jsx(oS,{}),o.jsx(lE,{isOpen:A,onClose:ic,userId:s,targetUserId:P,authenticatedFetch:f,onUserProfileOpen:Br,refreshUserProfile:Di,getPlaylists:g,onPlaylistOpen:we}),o.jsx(uE,{isOpen:q,onClose:Ke,onOpenChat:yt,authenticatedFetch:f,currentUserId:s,getDmRooms:w,getOrCreateDmRoom:x}),o.jsx(IE,{isOpen:K,onClose:st,onBack:Je,user:fe,currentUserId:s,getDmMessages:j}),o.jsx(Fp,{isOpen:ye,onClose:()=>re(!1),onCreateWatchParty:zr,onWatchAlone:kt,content:ie}),o.jsx(Bp,{isOpen:F,onClose:dt,content:se,getPlaylists:g,createPlaylist:v,addPlaylistContents:b}),o.jsx(Wp,{isOpen:He,onClose:gs,onCreateRoom:Ut,userId:s||""}),o.jsx($,{size:"lg",onClick:qe,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${q||K?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(Pa,{className:"w-6 h-6"})})]})}su.createRoot(document.getElementById("root")).render(o.jsx(Wr.StrictMode,{children:o.jsx(rR,{})}));
