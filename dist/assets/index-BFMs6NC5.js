var ib=Object.defineProperty;var ab=(e,t,n)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Te=(e,t,n)=>ab(e,typeof t!="symbol"?t+"":t,n);function lb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gp={exports:{}},jl={},Xp={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=Symbol.for("react.element"),ub=Symbol.for("react.portal"),db=Symbol.for("react.fragment"),fb=Symbol.for("react.strict_mode"),hb=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),pb=Symbol.for("react.context"),gb=Symbol.for("react.forward_ref"),vb=Symbol.for("react.suspense"),xb=Symbol.for("react.memo"),yb=Symbol.for("react.lazy"),kh=Symbol.iterator;function wb(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var Yp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qp=Object.assign,Qp={};function ro(e,t,n){this.props=e,this.context=t,this.refs=Qp,this.updater=n||Yp}ro.prototype.isReactComponent={};ro.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jp(){}Jp.prototype=ro.prototype;function Id(e,t,n){this.props=e,this.context=t,this.refs=Qp,this.updater=n||Yp}var Od=Id.prototype=new Jp;Od.constructor=Id;qp(Od,ro.prototype);Od.isPureReactComponent=!0;var Ch=Array.isArray,Zp=Object.prototype.hasOwnProperty,Ld={current:null},eg={key:!0,ref:!0,__self:!0,__source:!0};function tg(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Zp.call(t,r)&&!eg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ni,type:e,key:i,ref:a,props:s,_owner:Ld.current}}function bb(e,t){return{$$typeof:Ni,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ni}function jb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Eh=/\/+/g;function dc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jb(""+e.key):t.toString(36)}function Na(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ni:case ub:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+dc(a,0):r,Ch(s)?(n="",e!=null&&(n=e.replace(Eh,"$&/")+"/"),Na(s,t,n,"",function(u){return u})):s!=null&&(Dd(s)&&(s=bb(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Eh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ch(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+dc(i,l);a+=Na(i,t,n,c,s)}else if(c=wb(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+dc(i,l++),a+=Na(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Wi(e,t,n){if(e==null)return e;var r=[],s=0;return Na(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Nb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ct={current:null},Sa={transition:null},Sb={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:Ld};function ng(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Wi,forEach:function(e,t,n){Wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wi(e,function(){t++}),t},toArray:function(e){return Wi(e,function(t){return t})||[]},only:function(e){if(!Dd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=ro;pe.Fragment=db;pe.Profiler=hb;pe.PureComponent=Id;pe.StrictMode=fb;pe.Suspense=vb;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sb;pe.act=ng;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ld.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Zp.call(t,c)&&!eg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ni,type:e.type,key:s,ref:i,props:r,_owner:a}};pe.createContext=function(e){return e={$$typeof:pb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mb,_context:e},e.Consumer=e};pe.createElement=tg;pe.createFactory=function(e){var t=tg.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:gb,render:e}};pe.isValidElement=Dd;pe.lazy=function(e){return{$$typeof:yb,_payload:{_status:-1,_result:e},_init:Nb}};pe.memo=function(e,t){return{$$typeof:xb,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=Sa.transition;Sa.transition={};try{e()}finally{Sa.transition=t}};pe.unstable_act=ng;pe.useCallback=function(e,t){return Ct.current.useCallback(e,t)};pe.useContext=function(e){return Ct.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return Ct.current.useDeferredValue(e)};pe.useEffect=function(e,t){return Ct.current.useEffect(e,t)};pe.useId=function(){return Ct.current.useId()};pe.useImperativeHandle=function(e,t,n){return Ct.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return Ct.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return Ct.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return Ct.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return Ct.current.useReducer(e,t,n)};pe.useRef=function(e){return Ct.current.useRef(e)};pe.useState=function(e){return Ct.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return Ct.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return Ct.current.useTransition()};pe.version="18.3.1";Xp.exports=pe;var d=Xp.exports;const Vn=Ad(d),rg=lb({__proto__:null,default:Vn},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb=d,Cb=Symbol.for("react.element"),Eb=Symbol.for("react.fragment"),Tb=Object.prototype.hasOwnProperty,_b=kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rb={key:!0,ref:!0,__self:!0,__source:!0};function sg(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Tb.call(t,r)&&!Rb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Cb,type:e,key:i,ref:a,props:s,_owner:_b.current}}jl.Fragment=Eb;jl.jsx=sg;jl.jsxs=sg;Gp.exports=jl;var o=Gp.exports,lu={},og={exports:{}},Ut={},ig={exports:{}},ag={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,F){var V=P.length;P.push(F);e:for(;0<V;){var Y=V-1>>>1,ee=P[Y];if(0<s(ee,F))P[Y]=F,P[V]=ee,V=Y;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var F=P[0],V=P.pop();if(V!==F){P[0]=V;e:for(var Y=0,ee=P.length,re=ee>>>1;Y<re;){var me=2*(Y+1)-1,_e=P[me],xe=me+1,te=P[xe];if(0>s(_e,V))xe<ee&&0>s(te,_e)?(P[Y]=te,P[xe]=V,Y=xe):(P[Y]=_e,P[me]=V,Y=me);else if(xe<ee&&0>s(te,V))P[Y]=te,P[xe]=V,Y=xe;else break e}}return F}function s(P,F){var V=P.sortIndex-F.sortIndex;return V!==0?V:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,y=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=P)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function j(P){if(x=!1,v(P),!w)if(n(c)!==null)w=!0,R(N);else{var F=n(u);F!==null&&B(j,F.startTime-P)}}function N(P,F){w=!1,x&&(x=!1,g(k),k=-1),y=!0;var V=m;try{for(v(F),f=n(c);f!==null&&(!(f.expirationTime>F)||P&&!L());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var ee=Y(f.expirationTime<=F);F=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),v(F)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var me=n(u);me!==null&&B(j,me.startTime-F),re=!1}return re}finally{f=null,m=V,y=!1}}var C=!1,E=null,k=-1,T=5,A=-1;function L(){return!(e.unstable_now()-A<T)}function S(){if(E!==null){var P=e.unstable_now();A=P;var F=!0;try{F=E(!0,P)}finally{F?_():(C=!1,E=null)}}else C=!1}var _;if(typeof p=="function")_=function(){p(S)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=S,_=function(){W.postMessage(null)}}else _=function(){b(S,0)};function R(P){E=P,C||(C=!0,_())}function B(P,F){k=b(function(){P(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,R(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var V=m;m=F;try{return P()}finally{m=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=m;m=P;try{return F()}finally{m=V}},e.unstable_scheduleCallback=function(P,F,V){var Y=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,P){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,P={id:h++,callback:F,priorityLevel:P,startTime:V,expirationTime:ee,sortIndex:-1},V>Y?(P.sortIndex=V,t(u,P),n(c)===null&&P===n(u)&&(x?(g(k),k=-1):x=!0,B(j,V-Y))):(P.sortIndex=ee,t(c,P),w||y||(w=!0,R(N))),P},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(P){var F=m;return function(){var V=m;m=F;try{return P.apply(this,arguments)}finally{m=V}}}})(ag);ig.exports=ag;var Pb=ig.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=d,Bt=Pb;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lg=new Set,Jo={};function ds(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(Jo[e]=t,e=0;e<t.length;e++)lg.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=Object.prototype.hasOwnProperty,Ib=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Th={},_h={};function Ob(e){return cu.call(_h,e)?!0:cu.call(Th,e)?!1:Ib.test(e)?_h[e]=!0:(Th[e]=!0,!1)}function Lb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Db(e,t,n,r){if(t===null||typeof t>"u"||Lb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Md=/[\-:]([a-z])/g;function $d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Md,$d);ft[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Md,$d);ft[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Md,$d);ft[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function zd(e,t,n,r){var s=ft.hasOwnProperty(t)?ft[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Db(t,n,s,r)&&(n=null),r||s===null?Ob(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sr=Ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),uu=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),ug=Symbol.for("react.context"),Bd=Symbol.for("react.forward_ref"),du=Symbol.for("react.suspense"),fu=Symbol.for("react.suspense_list"),Ud=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),dg=Symbol.for("react.offscreen"),Rh=Symbol.iterator;function wo(e){return e===null||typeof e!="object"?null:(e=Rh&&e[Rh]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,fc;function Ao(e){if(fc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fc=t&&t[1]||""}return`
`+fc+e}var hc=!1;function mc(e,t){if(!e||hc)return"";hc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{hc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ao(e):""}function Mb(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=mc(e.type,!1),e;case 11:return e=mc(e.type.render,!1),e;case 1:return e=mc(e.type,!0),e;default:return""}}function hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cs:return"Fragment";case ks:return"Portal";case uu:return"Profiler";case Fd:return"StrictMode";case du:return"Suspense";case fu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ug:return(e.displayName||"Context")+".Consumer";case cg:return(e._context.displayName||"Context")+".Provider";case Bd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ud:return t=e.displayName||null,t!==null?t:hu(e.type)||"Memo";case ur:t=e._payload,e=e._init;try{return hu(e(t))}catch{}}return null}function $b(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hu(t);case 8:return t===Fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zb(e){var t=fg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){e._valueTracker||(e._valueTracker=zb(e))}function hg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mu(e,t){var n=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ph(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mg(e,t){t=t.checked,t!=null&&zd(e,"checked",t,!1)}function pu(e,t){mg(e,t);var n=Tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gu(e,t.type,n):t.hasOwnProperty("defaultValue")&&gu(e,t.type,Tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ah(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gu(e,t,n){(t!=="number"||$a(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Io=Array.isArray;function Ms(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ih(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(Io(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tr(n)}}function pg(e,t){var n=Tr(t.value),r=Tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Oh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ki,vg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fb=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(e){Fb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fo[t]=Fo[e]})});function xg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fo.hasOwnProperty(e)&&Fo[e]?(""+t).trim():t+"px"}function yg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Bb=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yu(e,t){if(t){if(Bb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function wu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=null;function Wd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ju=null,$s=null,zs=null;function Lh(e){if(e=Ci(e)){if(typeof ju!="function")throw Error(X(280));var t=e.stateNode;t&&(t=El(t),ju(e.stateNode,e.type,t))}}function wg(e){$s?zs?zs.push(e):zs=[e]:$s=e}function bg(){if($s){var e=$s,t=zs;if(zs=$s=null,Lh(e),t)for(e=0;e<t.length;e++)Lh(t[e])}}function jg(e,t){return e(t)}function Ng(){}var pc=!1;function Sg(e,t,n){if(pc)return e(t,n);pc=!0;try{return jg(e,t,n)}finally{pc=!1,($s!==null||zs!==null)&&(Ng(),bg())}}function ei(e,t){var n=e.stateNode;if(n===null)return null;var r=El(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Nu=!1;if(Qn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Nu=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Nu=!1}function Ub(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Bo=!1,za=null,Fa=!1,Su=null,Wb={onError:function(e){Bo=!0,za=e}};function Vb(e,t,n,r,s,i,a,l,c){Bo=!1,za=null,Ub.apply(Wb,arguments)}function Hb(e,t,n,r,s,i,a,l,c){if(Vb.apply(this,arguments),Bo){if(Bo){var u=za;Bo=!1,za=null}else throw Error(X(198));Fa||(Fa=!0,Su=u)}}function fs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dh(e){if(fs(e)!==e)throw Error(X(188))}function Kb(e){var t=e.alternate;if(!t){if(t=fs(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Dh(s),e;if(i===r)return Dh(s),t;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function Cg(e){return e=Kb(e),e!==null?Eg(e):null}function Eg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eg(e);if(t!==null)return t;e=e.sibling}return null}var Tg=Bt.unstable_scheduleCallback,Mh=Bt.unstable_cancelCallback,Gb=Bt.unstable_shouldYield,Xb=Bt.unstable_requestPaint,Xe=Bt.unstable_now,Yb=Bt.unstable_getCurrentPriorityLevel,Vd=Bt.unstable_ImmediatePriority,_g=Bt.unstable_UserBlockingPriority,Ba=Bt.unstable_NormalPriority,qb=Bt.unstable_LowPriority,Rg=Bt.unstable_IdlePriority,Nl=null,Rn=null;function Qb(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Nl,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:e1,Jb=Math.log,Zb=Math.LN2;function e1(e){return e>>>=0,e===0?32:31-(Jb(e)/Zb|0)|0}var Gi=64,Xi=4194304;function Oo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ua(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Oo(l):(i&=a,i!==0&&(r=Oo(i)))}else a=n&~s,a!==0?r=Oo(a):i!==0&&(r=Oo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mn(t),s=1<<n,r|=e[n],t&=~s;return r}function t1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-mn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=t1(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ku(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pg(){var e=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),e}function gc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=n}function r1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-mn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Hd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ke=0;function Ag(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ig,Kd,Og,Lg,Dg,Cu=!1,Yi=[],yr=null,wr=null,br=null,ti=new Map,ni=new Map,hr=[],s1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $h(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(t.pointerId)}}function jo(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ci(t),t!==null&&Kd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function o1(e,t,n,r,s){switch(t){case"focusin":return yr=jo(yr,e,t,n,r,s),!0;case"dragenter":return wr=jo(wr,e,t,n,r,s),!0;case"mouseover":return br=jo(br,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ti.set(i,jo(ti.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ni.set(i,jo(ni.get(i)||null,e,t,n,r,s)),!0}return!1}function Mg(e){var t=Gr(e.target);if(t!==null){var n=fs(t);if(n!==null){if(t=n.tag,t===13){if(t=kg(n),t!==null){e.blockedOn=t,Dg(e.priority,function(){Og(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bu=r,n.target.dispatchEvent(r),bu=null}else return t=Ci(n),t!==null&&Kd(t),e.blockedOn=n,!1;t.shift()}return!0}function zh(e,t,n){ka(e)&&n.delete(t)}function i1(){Cu=!1,yr!==null&&ka(yr)&&(yr=null),wr!==null&&ka(wr)&&(wr=null),br!==null&&ka(br)&&(br=null),ti.forEach(zh),ni.forEach(zh)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,i1)))}function ri(e){function t(s){return No(s,e)}if(0<Yi.length){No(Yi[0],e);for(var n=1;n<Yi.length;n++){var r=Yi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yr!==null&&No(yr,e),wr!==null&&No(wr,e),br!==null&&No(br,e),ti.forEach(t),ni.forEach(t),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)Mg(n),n.blockedOn===null&&hr.shift()}var Fs=sr.ReactCurrentBatchConfig,Wa=!0;function a1(e,t,n,r){var s=ke,i=Fs.transition;Fs.transition=null;try{ke=1,Gd(e,t,n,r)}finally{ke=s,Fs.transition=i}}function l1(e,t,n,r){var s=ke,i=Fs.transition;Fs.transition=null;try{ke=4,Gd(e,t,n,r)}finally{ke=s,Fs.transition=i}}function Gd(e,t,n,r){if(Wa){var s=Eu(e,t,n,r);if(s===null)Cc(e,t,r,Va,n),$h(e,r);else if(o1(s,e,t,n,r))r.stopPropagation();else if($h(e,r),t&4&&-1<s1.indexOf(e)){for(;s!==null;){var i=Ci(s);if(i!==null&&Ig(i),i=Eu(e,t,n,r),i===null&&Cc(e,t,r,Va,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cc(e,t,r,null,n)}}var Va=null;function Eu(e,t,n,r){if(Va=null,e=Wd(r),e=Gr(e),e!==null)if(t=fs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Va=e,null}function $g(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yb()){case Vd:return 1;case _g:return 4;case Ba:case qb:return 16;case Rg:return 536870912;default:return 16}default:return 16}}var vr=null,Xd=null,Ca=null;function zg(){if(Ca)return Ca;var e,t=Xd,n=t.length,r,s="value"in vr?vr.value:vr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Ca=s.slice(e,1<r?1-r:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function Fh(){return!1}function Wt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qi:Fh,this.isPropagationStopped=Fh,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),t}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=Wt(so),ki=We({},so,{view:0,detail:0}),c1=Wt(ki),vc,xc,So,Sl=We({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?(vc=e.screenX-So.screenX,xc=e.screenY-So.screenY):xc=vc=0,So=e),vc)},movementY:function(e){return"movementY"in e?e.movementY:xc}}),Bh=Wt(Sl),u1=We({},Sl,{dataTransfer:0}),d1=Wt(u1),f1=We({},ki,{relatedTarget:0}),yc=Wt(f1),h1=We({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),m1=Wt(h1),p1=We({},so,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g1=Wt(p1),v1=We({},so,{data:0}),Uh=Wt(v1),x1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w1[e])?!!t[e]:!1}function qd(){return b1}var j1=We({},ki,{key:function(e){if(e.key){var t=x1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qd,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N1=Wt(j1),S1=We({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wh=Wt(S1),k1=We({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qd}),C1=Wt(k1),E1=We({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),T1=Wt(E1),_1=We({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),R1=Wt(_1),P1=[9,13,27,32],Qd=Qn&&"CompositionEvent"in window,Uo=null;Qn&&"documentMode"in document&&(Uo=document.documentMode);var A1=Qn&&"TextEvent"in window&&!Uo,Fg=Qn&&(!Qd||Uo&&8<Uo&&11>=Uo),Vh=" ",Hh=!1;function Bg(e,t){switch(e){case"keyup":return P1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ug(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function I1(e,t){switch(e){case"compositionend":return Ug(t);case"keypress":return t.which!==32?null:(Hh=!0,Vh);case"textInput":return e=t.data,e===Vh&&Hh?null:e;default:return null}}function O1(e,t){if(Es)return e==="compositionend"||!Qd&&Bg(e,t)?(e=zg(),Ca=Xd=vr=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fg&&t.locale!=="ko"?null:t.data;default:return null}}var L1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!L1[e.type]:t==="textarea"}function Wg(e,t,n,r){wg(r),t=Ha(t,"onChange"),0<t.length&&(n=new Yd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wo=null,si=null;function D1(e){ev(e,0)}function kl(e){var t=Rs(e);if(hg(t))return e}function M1(e,t){if(e==="change")return t}var Vg=!1;if(Qn){var wc;if(Qn){var bc="oninput"in document;if(!bc){var Gh=document.createElement("div");Gh.setAttribute("oninput","return;"),bc=typeof Gh.oninput=="function"}wc=bc}else wc=!1;Vg=wc&&(!document.documentMode||9<document.documentMode)}function Xh(){Wo&&(Wo.detachEvent("onpropertychange",Hg),si=Wo=null)}function Hg(e){if(e.propertyName==="value"&&kl(si)){var t=[];Wg(t,si,e,Wd(e)),Sg(D1,t)}}function $1(e,t,n){e==="focusin"?(Xh(),Wo=t,si=n,Wo.attachEvent("onpropertychange",Hg)):e==="focusout"&&Xh()}function z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(si)}function F1(e,t){if(e==="click")return kl(t)}function B1(e,t){if(e==="input"||e==="change")return kl(t)}function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:U1;function oi(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cu.call(t,s)||!gn(e[s],t[s]))return!1}return!0}function Yh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qh(e,t){var n=Yh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yh(n)}}function Kg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gg(){for(var e=window,t=$a();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$a(e.document)}return t}function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W1(e){var t=Gg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kg(n.ownerDocument.documentElement,n)){if(r!==null&&Jd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=qh(n,i);var a=qh(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V1=Qn&&"documentMode"in document&&11>=document.documentMode,Ts=null,Tu=null,Vo=null,_u=!1;function Qh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_u||Ts==null||Ts!==$a(r)||(r=Ts,"selectionStart"in r&&Jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vo&&oi(Vo,r)||(Vo=r,r=Ha(Tu,"onSelect"),0<r.length&&(t=new Yd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ts)))}function Qi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _s={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},jc={},Xg={};Qn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Cl(e){if(jc[e])return jc[e];if(!_s[e])return e;var t=_s[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xg)return jc[e]=t[n];return e}var Yg=Cl("animationend"),qg=Cl("animationiteration"),Qg=Cl("animationstart"),Jg=Cl("transitionend"),Zg=new Map,Jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Zg.set(e,t),ds(t,[e])}for(var Nc=0;Nc<Jh.length;Nc++){var Sc=Jh[Nc],H1=Sc.toLowerCase(),K1=Sc[0].toUpperCase()+Sc.slice(1);Or(H1,"on"+K1)}Or(Yg,"onAnimationEnd");Or(qg,"onAnimationIteration");Or(Qg,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(Jg,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Zh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hb(r,t,void 0,e),e.currentTarget=null}function ev(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Zh(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Zh(s,l,u),i=c}}}if(Fa)throw e=Su,Fa=!1,Su=null,e}function Ie(e,t){var n=t[Ou];n===void 0&&(n=t[Ou]=new Set);var r=e+"__bubble";n.has(r)||(tv(t,e,2,!1),n.add(r))}function kc(e,t,n){var r=0;t&&(r|=4),tv(n,e,r,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function ii(e){if(!e[Ji]){e[Ji]=!0,lg.forEach(function(n){n!=="selectionchange"&&(G1.has(n)||kc(n,!1,e),kc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,kc("selectionchange",!1,t))}}function tv(e,t,n,r){switch($g(t)){case 1:var s=a1;break;case 4:s=l1;break;default:s=Gd}n=s.bind(null,t,n,e),s=void 0,!Nu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Cc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Gr(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Sg(function(){var u=i,h=Wd(n),f=[];e:{var m=Zg.get(e);if(m!==void 0){var y=Yd,w=e;switch(e){case"keypress":if(Ea(n)===0)break e;case"keydown":case"keyup":y=N1;break;case"focusin":w="focus",y=yc;break;case"focusout":w="blur",y=yc;break;case"beforeblur":case"afterblur":y=yc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=d1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=C1;break;case Yg:case qg:case Qg:y=m1;break;case Jg:y=T1;break;case"scroll":y=c1;break;case"wheel":y=R1;break;case"copy":case"cut":case"paste":y=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Wh}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,v;p!==null;){v=p;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,g!==null&&(j=ei(p,g),j!=null&&x.push(ai(p,j,v)))),b)break;p=p.return}0<x.length&&(m=new y(m,w,null,n,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==bu&&(w=n.relatedTarget||n.fromElement)&&(Gr(w)||w[Jn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?Gr(w):null,w!==null&&(b=fs(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=Bh,j="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Wh,j="onPointerLeave",g="onPointerEnter",p="pointer"),b=y==null?m:Rs(y),v=w==null?m:Rs(w),m=new x(j,p+"leave",y,n,h),m.target=b,m.relatedTarget=v,j=null,Gr(h)===u&&(x=new x(g,p+"enter",w,n,h),x.target=v,x.relatedTarget=b,j=x),b=j,y&&w)t:{for(x=y,g=w,p=0,v=x;v;v=ys(v))p++;for(v=0,j=g;j;j=ys(j))v++;for(;0<p-v;)x=ys(x),p--;for(;0<v-p;)g=ys(g),v--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=ys(x),g=ys(g)}x=null}else x=null;y!==null&&em(f,m,y,x,!1),w!==null&&b!==null&&em(f,b,w,x,!0)}}e:{if(m=u?Rs(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var N=M1;else if(Kh(m))if(Vg)N=B1;else{N=z1;var C=$1}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=F1);if(N&&(N=N(e,u))){Wg(f,N,n,h);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&gu(m,"number",m.value)}switch(C=u?Rs(u):window,e){case"focusin":(Kh(C)||C.contentEditable==="true")&&(Ts=C,Tu=u,Vo=null);break;case"focusout":Vo=Tu=Ts=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,Qh(f,n,h);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":Qh(f,n,h)}var E;if(Qd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Es?Bg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Fg&&n.locale!=="ko"&&(Es||k!=="onCompositionStart"?k==="onCompositionEnd"&&Es&&(E=zg()):(vr=h,Xd="value"in vr?vr.value:vr.textContent,Es=!0)),C=Ha(u,k),0<C.length&&(k=new Uh(k,e,null,n,h),f.push({event:k,listeners:C}),E?k.data=E:(E=Ug(n),E!==null&&(k.data=E)))),(E=A1?I1(e,n):O1(e,n))&&(u=Ha(u,"onBeforeInput"),0<u.length&&(h=new Uh("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=E))}ev(f,t)})}function ai(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ha(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ei(e,n),i!=null&&r.unshift(ai(e,i,s)),i=ei(e,t),i!=null&&r.push(ai(e,i,s))),e=e.return}return r}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function em(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ei(n,i),c!=null&&a.unshift(ai(n,c,l))):s||(c=ei(n,i),c!=null&&a.push(ai(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var X1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function tm(e){return(typeof e=="string"?e:""+e).replace(X1,`
`).replace(Y1,"")}function Zi(e,t,n){if(t=tm(t),tm(e)!==t&&n)throw Error(X(425))}function Ka(){}var Ru=null,Pu=null;function Au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(e){return nm.resolve(null).then(e).catch(J1)}:Iu;function J1(e){setTimeout(function(){throw e})}function Ec(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ri(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ri(t)}function jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Cn="__reactFiber$"+oo,li="__reactProps$"+oo,Jn="__reactContainer$"+oo,Ou="__reactEvents$"+oo,Z1="__reactListeners$"+oo,ej="__reactHandles$"+oo;function Gr(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[Cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rm(e);e!==null;){if(n=e[Cn])return n;e=rm(e)}return t}e=n,n=e.parentNode}return null}function Ci(e){return e=e[Cn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function El(e){return e[li]||null}var Lu=[],Ps=-1;function Lr(e){return{current:e}}function Oe(e){0>Ps||(e.current=Lu[Ps],Lu[Ps]=null,Ps--)}function Re(e,t){Ps++,Lu[Ps]=e.current,e.current=t}var _r={},yt=Lr(_r),At=Lr(!1),ts=_r;function Gs(e,t){var n=e.type.contextTypes;if(!n)return _r;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function It(e){return e=e.childContextTypes,e!=null}function Ga(){Oe(At),Oe(yt)}function sm(e,t,n){if(yt.current!==_r)throw Error(X(168));Re(yt,t),Re(At,n)}function nv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(X(108,$b(e)||"Unknown",s));return We({},n,r)}function Xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,ts=yt.current,Re(yt,e),Re(At,At.current),!0}function om(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=nv(e,t,ts),r.__reactInternalMemoizedMergedChildContext=e,Oe(At),Oe(yt),Re(yt,e)):Oe(At),Re(At,n)}var Kn=null,Tl=!1,Tc=!1;function rv(e){Kn===null?Kn=[e]:Kn.push(e)}function tj(e){Tl=!0,rv(e)}function Dr(){if(!Tc&&Kn!==null){Tc=!0;var e=0,t=ke;try{var n=Kn;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kn=null,Tl=!1}catch(s){throw Kn!==null&&(Kn=Kn.slice(e+1)),Tg(Vd,Dr),s}finally{ke=t,Tc=!1}}return null}var As=[],Is=0,Ya=null,qa=0,Ht=[],Kt=0,ns=null,Gn=1,Xn="";function Vr(e,t){As[Is++]=qa,As[Is++]=Ya,Ya=e,qa=t}function sv(e,t,n){Ht[Kt++]=Gn,Ht[Kt++]=Xn,Ht[Kt++]=ns,ns=e;var r=Gn;e=Xn;var s=32-mn(r)-1;r&=~(1<<s),n+=1;var i=32-mn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Gn=1<<32-mn(t)+s|n<<s|r,Xn=i+e}else Gn=1<<i|n<<s|r,Xn=e}function Zd(e){e.return!==null&&(Vr(e,1),sv(e,1,0))}function ef(e){for(;e===Ya;)Ya=As[--Is],As[Is]=null,qa=As[--Is],As[Is]=null;for(;e===ns;)ns=Ht[--Kt],Ht[Kt]=null,Xn=Ht[--Kt],Ht[Kt]=null,Gn=Ht[--Kt],Ht[Kt]=null}var zt=null,$t=null,De=!1,hn=null;function ov(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function im(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,$t=jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ns!==null?{id:Gn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zt=e,$t=null,!0):!1;default:return!1}}function Du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mu(e){if(De){var t=$t;if(t){var n=t;if(!im(e,t)){if(Du(e))throw Error(X(418));t=jr(n.nextSibling);var r=zt;t&&im(e,t)?ov(r,n):(e.flags=e.flags&-4097|2,De=!1,zt=e)}}else{if(Du(e))throw Error(X(418));e.flags=e.flags&-4097|2,De=!1,zt=e}}}function am(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function ea(e){if(e!==zt)return!1;if(!De)return am(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Au(e.type,e.memoizedProps)),t&&(t=$t)){if(Du(e))throw iv(),Error(X(418));for(;t;)ov(e,t),t=jr(t.nextSibling)}if(am(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=jr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=zt?jr(e.stateNode.nextSibling):null;return!0}function iv(){for(var e=$t;e;)e=jr(e.nextSibling)}function Xs(){$t=zt=null,De=!1}function tf(e){hn===null?hn=[e]:hn.push(e)}var nj=sr.ReactCurrentBatchConfig;function ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function ta(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lm(e){var t=e._init;return t(e._payload)}function av(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Cr(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,v,j){return p===null||p.tag!==6?(p=Lc(v,g.mode,j),p.return=g,p):(p=s(p,v),p.return=g,p)}function c(g,p,v,j){var N=v.type;return N===Cs?h(g,p,v.props.children,j,v.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ur&&lm(N)===p.type)?(j=s(p,v.props),j.ref=ko(g,p,v),j.return=g,j):(j=Oa(v.type,v.key,v.props,null,g.mode,j),j.ref=ko(g,p,v),j.return=g,j)}function u(g,p,v,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Dc(v,g.mode,j),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function h(g,p,v,j,N){return p===null||p.tag!==7?(p=Zr(v,g.mode,j,N),p.return=g,p):(p=s(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lc(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vi:return v=Oa(p.type,p.key,p.props,null,g.mode,v),v.ref=ko(g,null,p),v.return=g,v;case ks:return p=Dc(p,g.mode,v),p.return=g,p;case ur:var j=p._init;return f(g,j(p._payload),v)}if(Io(p)||wo(p))return p=Zr(p,g.mode,v,null),p.return=g,p;ta(g,p)}return null}function m(g,p,v,j){var N=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(g,p,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vi:return v.key===N?c(g,p,v,j):null;case ks:return v.key===N?u(g,p,v,j):null;case ur:return N=v._init,m(g,p,N(v._payload),j)}if(Io(v)||wo(v))return N!==null?null:h(g,p,v,j,null);ta(g,v)}return null}function y(g,p,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(v)||null,l(p,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vi:return g=g.get(j.key===null?v:j.key)||null,c(p,g,j,N);case ks:return g=g.get(j.key===null?v:j.key)||null,u(p,g,j,N);case ur:var C=j._init;return y(g,p,v,C(j._payload),N)}if(Io(j)||wo(j))return g=g.get(v)||null,h(p,g,j,N,null);ta(p,j)}return null}function w(g,p,v,j){for(var N=null,C=null,E=p,k=p=0,T=null;E!==null&&k<v.length;k++){E.index>k?(T=E,E=null):T=E.sibling;var A=m(g,E,v[k],j);if(A===null){E===null&&(E=T);break}e&&E&&A.alternate===null&&t(g,E),p=i(A,p,k),C===null?N=A:C.sibling=A,C=A,E=T}if(k===v.length)return n(g,E),De&&Vr(g,k),N;if(E===null){for(;k<v.length;k++)E=f(g,v[k],j),E!==null&&(p=i(E,p,k),C===null?N=E:C.sibling=E,C=E);return De&&Vr(g,k),N}for(E=r(g,E);k<v.length;k++)T=y(E,g,k,v[k],j),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?k:T.key),p=i(T,p,k),C===null?N=T:C.sibling=T,C=T);return e&&E.forEach(function(L){return t(g,L)}),De&&Vr(g,k),N}function x(g,p,v,j){var N=wo(v);if(typeof N!="function")throw Error(X(150));if(v=N.call(v),v==null)throw Error(X(151));for(var C=N=null,E=p,k=p=0,T=null,A=v.next();E!==null&&!A.done;k++,A=v.next()){E.index>k?(T=E,E=null):T=E.sibling;var L=m(g,E,A.value,j);if(L===null){E===null&&(E=T);break}e&&E&&L.alternate===null&&t(g,E),p=i(L,p,k),C===null?N=L:C.sibling=L,C=L,E=T}if(A.done)return n(g,E),De&&Vr(g,k),N;if(E===null){for(;!A.done;k++,A=v.next())A=f(g,A.value,j),A!==null&&(p=i(A,p,k),C===null?N=A:C.sibling=A,C=A);return De&&Vr(g,k),N}for(E=r(g,E);!A.done;k++,A=v.next())A=y(E,g,k,A.value,j),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?k:A.key),p=i(A,p,k),C===null?N=A:C.sibling=A,C=A);return e&&E.forEach(function(S){return t(g,S)}),De&&Vr(g,k),N}function b(g,p,v,j){if(typeof v=="object"&&v!==null&&v.type===Cs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Vi:e:{for(var N=v.key,C=p;C!==null;){if(C.key===N){if(N=v.type,N===Cs){if(C.tag===7){n(g,C.sibling),p=s(C,v.props.children),p.return=g,g=p;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ur&&lm(N)===C.type){n(g,C.sibling),p=s(C,v.props),p.ref=ko(g,C,v),p.return=g,g=p;break e}n(g,C);break}else t(g,C);C=C.sibling}v.type===Cs?(p=Zr(v.props.children,g.mode,j,v.key),p.return=g,g=p):(j=Oa(v.type,v.key,v.props,null,g.mode,j),j.ref=ko(g,p,v),j.return=g,g=j)}return a(g);case ks:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Dc(v,g.mode,j),p.return=g,g=p}return a(g);case ur:return C=v._init,b(g,p,C(v._payload),j)}if(Io(v))return w(g,p,v,j);if(wo(v))return x(g,p,v,j);ta(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,v),p.return=g,g=p):(n(g,p),p=Lc(v,g.mode,j),p.return=g,g=p),a(g)):n(g,p)}return b}var Ys=av(!0),lv=av(!1),Qa=Lr(null),Ja=null,Os=null,nf=null;function rf(){nf=Os=Ja=null}function sf(e){var t=Qa.current;Oe(Qa),e._currentValue=t}function $u(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bs(e,t){Ja=e,nf=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function Qt(e){var t=e._currentValue;if(nf!==e)if(e={context:e,memoizedValue:t,next:null},Os===null){if(Ja===null)throw Error(X(308));Os=e,Ja.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Xr=null;function of(e){Xr===null?Xr=[e]:Xr.push(e)}function cv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,of(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dr=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Zn(e,n)}return s=r.interleaved,s===null?(t.next=t,of(r)):(t.next=s.next,s.next=t),r.interleaved=t,Zn(e,n)}function Ta(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hd(e,n)}}function cm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Za(e,t,n,r){var s=e.updateQueue;dr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(y,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(y,f,m):w,m==null)break e;f=We({},f,m);break e;case 2:dr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ss|=a,e.lanes=a,e.memoizedState=f}}function um(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Ei={},Pn=Lr(Ei),ci=Lr(Ei),ui=Lr(Ei);function Yr(e){if(e===Ei)throw Error(X(174));return e}function lf(e,t){switch(Re(ui,t),Re(ci,e),Re(Pn,Ei),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xu(t,e)}Oe(Pn),Re(Pn,t)}function qs(){Oe(Pn),Oe(ci),Oe(ui)}function dv(e){Yr(ui.current);var t=Yr(Pn.current),n=xu(t,e.type);t!==n&&(Re(ci,e),Re(Pn,n))}function cf(e){ci.current===e&&(Oe(Pn),Oe(ci))}var Be=Lr(0);function el(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _c=[];function uf(){for(var e=0;e<_c.length;e++)_c[e]._workInProgressVersionPrimary=null;_c.length=0}var _a=sr.ReactCurrentDispatcher,Rc=sr.ReactCurrentBatchConfig,rs=0,Ue=null,Ze=null,rt=null,tl=!1,Ho=!1,di=0,rj=0;function mt(){throw Error(X(321))}function df(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function ff(e,t,n,r,s,i){if(rs=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_a.current=e===null||e.memoizedState===null?aj:lj,e=n(r,s),Ho){i=0;do{if(Ho=!1,di=0,25<=i)throw Error(X(301));i+=1,rt=Ze=null,t.updateQueue=null,_a.current=cj,e=n(r,s)}while(Ho)}if(_a.current=nl,t=Ze!==null&&Ze.next!==null,rs=0,rt=Ze=Ue=null,tl=!1,t)throw Error(X(300));return e}function hf(){var e=di!==0;return di=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ue.memoizedState=rt=e:rt=rt.next=e,rt}function Jt(){if(Ze===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=rt===null?Ue.memoizedState:rt.next;if(t!==null)rt=t,Ze=e;else{if(e===null)throw Error(X(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?Ue.memoizedState=rt=e:rt=rt.next=e}return rt}function fi(e,t){return typeof t=="function"?t(e):t}function Pc(e){var t=Jt(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=Ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((rs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ue.lanes|=h,ss|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,gn(r,t.memoizedState)||(Pt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ue.lanes|=i,ss|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ac(e){var t=Jt(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);gn(i,t.memoizedState)||(Pt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function fv(){}function hv(e,t){var n=Ue,r=Jt(),s=t(),i=!gn(r.memoizedState,s);if(i&&(r.memoizedState=s,Pt=!0),r=r.queue,mf(gv.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,hi(9,pv.bind(null,n,r,s,t),void 0,null),st===null)throw Error(X(349));rs&30||mv(n,t,s)}return s}function mv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pv(e,t,n,r){t.value=n,t.getSnapshot=r,vv(t)&&xv(e)}function gv(e,t,n){return n(function(){vv(t)&&xv(e)})}function vv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function xv(e){var t=Zn(e,1);t!==null&&pn(t,e,1,-1)}function dm(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t.queue=e,e=e.dispatch=ij.bind(null,Ue,e),[t.memoizedState,e]}function hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yv(){return Jt().memoizedState}function Ra(e,t,n,r){var s=kn();Ue.flags|=e,s.memoizedState=hi(1|t,n,void 0,r===void 0?null:r)}function _l(e,t,n,r){var s=Jt();r=r===void 0?null:r;var i=void 0;if(Ze!==null){var a=Ze.memoizedState;if(i=a.destroy,r!==null&&df(r,a.deps)){s.memoizedState=hi(t,n,i,r);return}}Ue.flags|=e,s.memoizedState=hi(1|t,n,i,r)}function fm(e,t){return Ra(8390656,8,e,t)}function mf(e,t){return _l(2048,8,e,t)}function wv(e,t){return _l(4,2,e,t)}function bv(e,t){return _l(4,4,e,t)}function jv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nv(e,t,n){return n=n!=null?n.concat([e]):null,_l(4,4,jv.bind(null,t,e),n)}function pf(){}function Sv(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&df(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kv(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&df(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cv(e,t,n){return rs&21?(gn(n,t)||(n=Pg(),Ue.lanes|=n,ss|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=n)}function sj(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=Rc.transition;Rc.transition={};try{e(!1),t()}finally{ke=n,Rc.transition=r}}function Ev(){return Jt().memoizedState}function oj(e,t,n){var r=kr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tv(e))_v(t,n);else if(n=cv(e,t,n,r),n!==null){var s=kt();pn(n,e,r,s),Rv(n,t,r)}}function ij(e,t,n){var r=kr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tv(e))_v(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,gn(l,a)){var c=t.interleaved;c===null?(s.next=s,of(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=cv(e,t,s,r),n!==null&&(s=kt(),pn(n,e,r,s),Rv(n,t,r))}}function Tv(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function _v(e,t){Ho=tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hd(e,n)}}var nl={readContext:Qt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},aj={readContext:Qt,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:fm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ra(4194308,4,jv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oj.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:dm,useDebugValue:pf,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=dm(!1),t=e[0];return e=sj.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,s=kn();if(De){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),st===null)throw Error(X(349));rs&30||mv(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,fm(gv.bind(null,r,i,e),[e]),r.flags|=2048,hi(9,pv.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kn(),t=st.identifierPrefix;if(De){var n=Xn,r=Gn;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=di++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lj={readContext:Qt,useCallback:Sv,useContext:Qt,useEffect:mf,useImperativeHandle:Nv,useInsertionEffect:wv,useLayoutEffect:bv,useMemo:kv,useReducer:Pc,useRef:yv,useState:function(){return Pc(fi)},useDebugValue:pf,useDeferredValue:function(e){var t=Jt();return Cv(t,Ze.memoizedState,e)},useTransition:function(){var e=Pc(fi)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:fv,useSyncExternalStore:hv,useId:Ev,unstable_isNewReconciler:!1},cj={readContext:Qt,useCallback:Sv,useContext:Qt,useEffect:mf,useImperativeHandle:Nv,useInsertionEffect:wv,useLayoutEffect:bv,useMemo:kv,useReducer:Ac,useRef:yv,useState:function(){return Ac(fi)},useDebugValue:pf,useDeferredValue:function(e){var t=Jt();return Ze===null?t.memoizedState=e:Cv(t,Ze.memoizedState,e)},useTransition:function(){var e=Ac(fi)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:fv,useSyncExternalStore:hv,useId:Ev,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:We({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rl={isMounted:function(e){return(e=e._reactInternals)?fs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kt(),s=kr(e),i=Yn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Nr(e,i,s),t!==null&&(pn(t,e,s,r),Ta(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kt(),s=kr(e),i=Yn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Nr(e,i,s),t!==null&&(pn(t,e,s,r),Ta(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),r=kr(e),s=Yn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Nr(e,s,r),t!==null&&(pn(t,e,r,n),Ta(t,e,r))}};function hm(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!oi(n,r)||!oi(s,i):!0}function Pv(e,t,n){var r=!1,s=_r,i=t.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=It(t)?ts:yt.current,r=t.contextTypes,i=(r=r!=null)?Gs(e,s):_r),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function mm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function Fu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},af(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=It(t)?ts:yt.current,s.context=Gs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Rl.enqueueReplaceState(s,s.state,null),Za(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qs(e,t){try{var n="",r=t;do n+=Mb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ic(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uj=typeof WeakMap=="function"?WeakMap:Map;function Av(e,t,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sl||(sl=!0,Qu=r),Bu(e,t)},n}function Iv(e,t,n){n=Yn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Bu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bu(e,t),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function pm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sj.bind(null,e,t,n),t.then(e,e))}function gm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yn(-1,1),t.tag=2,Nr(n,t,1))),n.lanes|=1),e)}var dj=sr.ReactCurrentOwner,Pt=!1;function Nt(e,t,n,r){t.child=e===null?lv(t,null,n,r):Ys(t,e.child,n,r)}function xm(e,t,n,r,s){n=n.render;var i=t.ref;return Bs(t,s),r=ff(e,t,n,r,i,s),n=hf(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(De&&n&&Zd(t),t.flags|=1,Nt(e,t,r,s),t.child)}function ym(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Nf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ov(e,t,i,r,s)):(e=Oa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:oi,n(a,r)&&e.ref===t.ref)return er(e,t,s)}return t.flags|=1,e=Cr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ov(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(oi(i,r)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,er(e,t,s)}return Uu(e,t,n,r,s)}function Lv(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ds,Lt),Lt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Ds,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Re(Ds,Lt),Lt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Re(Ds,Lt),Lt|=r;return Nt(e,t,s,n),t.child}function Dv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uu(e,t,n,r,s){var i=It(n)?ts:yt.current;return i=Gs(t,i),Bs(t,s),n=ff(e,t,n,r,i,s),r=hf(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(De&&r&&Zd(t),t.flags|=1,Nt(e,t,n,s),t.child)}function wm(e,t,n,r,s){if(It(n)){var i=!0;Xa(t)}else i=!1;if(Bs(t,s),t.stateNode===null)Pa(e,t),Pv(t,n,r),Fu(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qt(u):(u=It(n)?ts:yt.current,u=Gs(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&mm(t,a,r,u),dr=!1;var m=t.memoizedState;a.state=m,Za(t,r,a,s),c=t.memoizedState,l!==r||m!==c||At.current||dr?(typeof h=="function"&&(zu(t,n,h,r),c=t.memoizedState),(l=dr||hm(t,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,uv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dn(t.type,l),a.props=u,f=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qt(c):(c=It(n)?ts:yt.current,c=Gs(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&mm(t,a,r,c),dr=!1,m=t.memoizedState,a.state=m,Za(t,r,a,s);var w=t.memoizedState;l!==f||m!==w||At.current||dr?(typeof y=="function"&&(zu(t,n,y,r),w=t.memoizedState),(u=dr||hm(t,n,u,r,m,w,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Wu(e,t,n,r,i,s)}function Wu(e,t,n,r,s,i){Dv(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&om(t,n,!1),er(e,t,i);r=t.stateNode,dj.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ys(t,e.child,null,i),t.child=Ys(t,null,l,i)):Nt(e,t,l,i),t.memoizedState=r.state,s&&om(t,n,!0),t.child}function Mv(e){var t=e.stateNode;t.pendingContext?sm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sm(e,t.context,!1),lf(e,t.containerInfo)}function bm(e,t,n,r,s){return Xs(),tf(s),t.flags|=256,Nt(e,t,n,r),t.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function Hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function $v(e,t,n){var r=t.pendingProps,s=Be.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(Be,s&1),e===null)return Mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Il(a,r,0,null),e=Zr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hu(n),t.memoizedState=Vu,e):gf(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return fj(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Cr(l,i):(i=Zr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Hu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Vu,r}return i=e.child,e=i.sibling,r=Cr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gf(e,t){return t=Il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function na(e,t,n,r){return r!==null&&tf(r),Ys(t,e.child,null,n),e=gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fj(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Ic(Error(X(422))),na(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Il({mode:"visible",children:r.children},s,0,null),i=Zr(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ys(t,e.child,null,a),t.child.memoizedState=Hu(a),t.memoizedState=Vu,i);if(!(t.mode&1))return na(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(X(419)),r=Ic(i,r,void 0),na(e,t,a,r)}if(l=(a&e.childLanes)!==0,Pt||l){if(r=st,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zn(e,s),pn(r,e,s,-1))}return jf(),r=Ic(Error(X(421))),na(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$t=jr(s.nextSibling),zt=t,De=!0,hn=null,e!==null&&(Ht[Kt++]=Gn,Ht[Kt++]=Xn,Ht[Kt++]=ns,Gn=e.id,Xn=e.overflow,ns=t),t=gf(t,r.children),t.flags|=4096,t)}function jm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$u(e.return,t,n)}function Oc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zv(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(e,t,r.children,n),r=Be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jm(e,n,t);else if(e.tag===19)jm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re(Be,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&el(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Oc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&el(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Oc(t,!0,n,null,i);break;case"together":Oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ss|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Cr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hj(e,t,n){switch(t.tag){case 3:Mv(t),Xs();break;case 5:dv(t);break;case 1:It(t.type)&&Xa(t);break;case 4:lf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Re(Qa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Re(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?$v(e,t,n):(Re(Be,Be.current&1),e=er(e,t,n),e!==null?e.sibling:null);Re(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,Lv(e,t,n)}return er(e,t,n)}var Fv,Ku,Bv,Uv;Fv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ku=function(){};Bv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yr(Pn.current);var i=null;switch(n){case"input":s=mu(e,s),r=mu(e,r),i=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),i=[];break;case"textarea":s=vu(e,s),r=vu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ka)}yu(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Uv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Co(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mj(e,t,n){var r=t.pendingProps;switch(ef(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return It(t.type)&&Ga(),pt(t),null;case 3:return r=t.stateNode,qs(),Oe(At),Oe(yt),uf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(ed(hn),hn=null))),Ku(e,t),pt(t),null;case 5:cf(t);var s=Yr(ui.current);if(n=t.type,e!==null&&t.stateNode!=null)Bv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return pt(t),null}if(e=Yr(Pn.current),ea(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Cn]=t,r[li]=i,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Lo.length;s++)Ie(Lo[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ph(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":Ih(r,i),Ie("invalid",r)}yu(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zi(r.textContent,l,e),s=["children",""+l]):Jo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Hi(r),Ah(r,i,!0);break;case"textarea":Hi(r),Oh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ka)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Cn]=t,e[li]=r,Fv(e,t,!1,!1),t.stateNode=e;e:{switch(a=wu(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),s=r;break;case"iframe":case"object":case"embed":Ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lo.length;s++)Ie(Lo[s],e);s=r;break;case"source":Ie("error",e),s=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=r;break;case"details":Ie("toggle",e),s=r;break;case"input":Ph(e,r),s=mu(e,r),Ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":Ih(e,r),s=vu(e,r),Ie("invalid",e);break;default:s=r}yu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?yg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vg(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zo(e,c):typeof c=="number"&&Zo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",e):c!=null&&zd(e,i,c,a))}switch(n){case"input":Hi(e),Ah(e,r,!1);break;case"textarea":Hi(e),Oh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ms(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ms(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)Uv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=Yr(ui.current),Yr(Pn.current),ea(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cn]=t,(i=r.nodeValue!==n)&&(e=zt,e!==null))switch(e.tag){case 3:Zi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=t,t.stateNode=r}return pt(t),null;case 13:if(Oe(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&$t!==null&&t.mode&1&&!(t.flags&128))iv(),Xs(),t.flags|=98560,i=!1;else if(i=ea(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Cn]=t}else Xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),i=!1}else hn!==null&&(ed(hn),hn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?et===0&&(et=3):jf())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return qs(),Ku(e,t),e===null&&ii(t.stateNode.containerInfo),pt(t),null;case 10:return sf(t.type._context),pt(t),null;case 17:return It(t.type)&&Ga(),pt(t),null;case 19:if(Oe(Be),i=t.memoizedState,i===null)return pt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Co(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=el(e),a!==null){for(t.flags|=128,Co(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re(Be,Be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xe()>Js&&(t.flags|=128,r=!0,Co(i,!1),t.lanes=4194304)}else{if(!r)if(e=el(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!De)return pt(t),null}else 2*Xe()-i.renderingStartTime>Js&&n!==1073741824&&(t.flags|=128,r=!0,Co(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=Be.current,Re(Be,r?n&1|2:n&1),t):(pt(t),null);case 22:case 23:return bf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function pj(e,t){switch(ef(t),t.tag){case 1:return It(t.type)&&Ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qs(),Oe(At),Oe(yt),uf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cf(t),null;case 13:if(Oe(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Be),null;case 4:return qs(),null;case 10:return sf(t.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var ra=!1,gt=!1,gj=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ls(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){Ke(e,t,r)}}var Nm=!1;function vj(e,t){if(Ru=Wa,e=Gg(),Jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pu={focusedElem:e,selectionRange:n},Wa=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:dn(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(j){Ke(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return w=Nm,Nm=!1,w}function Ko(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Gu(t,n,i)}s=s.next}while(s!==r)}}function Pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wv(e){var t=e.alternate;t!==null&&(e.alternate=null,Wv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[li],delete t[Ou],delete t[Z1],delete t[ej])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vv(e){return e.tag===5||e.tag===3||e.tag===4}function Sm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ka));else if(r!==4&&(e=e.child,e!==null))for(Yu(e,t,n),e=e.sibling;e!==null;)Yu(e,t,n),e=e.sibling}function qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}var lt=null,fn=!1;function ar(e,t,n){for(n=n.child;n!==null;)Hv(e,t,n),n=n.sibling}function Hv(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Nl,n)}catch{}switch(n.tag){case 5:gt||Ls(n,t);case 6:var r=lt,s=fn;lt=null,ar(e,t,n),lt=r,fn=s,lt!==null&&(fn?(e=lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(fn?(e=lt,n=n.stateNode,e.nodeType===8?Ec(e.parentNode,n):e.nodeType===1&&Ec(e,n),ri(e)):Ec(lt,n.stateNode));break;case 4:r=lt,s=fn,lt=n.stateNode.containerInfo,fn=!0,ar(e,t,n),lt=r,fn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Gu(n,t,a),s=s.next}while(s!==r)}ar(e,t,n);break;case 1:if(!gt&&(Ls(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ke(n,t,l)}ar(e,t,n);break;case 21:ar(e,t,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,ar(e,t,n),gt=r):ar(e,t,n);break;default:ar(e,t,n)}}function km(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gj),t.forEach(function(r){var s=Cj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function an(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:lt=l.stateNode,fn=!1;break e;case 3:lt=l.stateNode.containerInfo,fn=!0;break e;case 4:lt=l.stateNode.containerInfo,fn=!0;break e}l=l.return}if(lt===null)throw Error(X(160));Hv(i,a,s),lt=null,fn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ke(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kv(t,e),t=t.sibling}function Kv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),Sn(e),r&4){try{Ko(3,e,e.return),Pl(3,e)}catch(x){Ke(e,e.return,x)}try{Ko(5,e,e.return)}catch(x){Ke(e,e.return,x)}}break;case 1:an(t,e),Sn(e),r&512&&n!==null&&Ls(n,n.return);break;case 5:if(an(t,e),Sn(e),r&512&&n!==null&&Ls(n,n.return),e.flags&32){var s=e.stateNode;try{Zo(s,"")}catch(x){Ke(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mg(s,i),wu(l,a);var u=wu(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?yg(s,f):h==="dangerouslySetInnerHTML"?vg(s,f):h==="children"?Zo(s,f):zd(s,h,f,u)}switch(l){case"input":pu(s,i);break;case"textarea":pg(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ms(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ms(s,!!i.multiple,i.defaultValue,!0):Ms(s,!!i.multiple,i.multiple?[]:"",!1))}s[li]=i}catch(x){Ke(e,e.return,x)}}break;case 6:if(an(t,e),Sn(e),r&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ke(e,e.return,x)}}break;case 3:if(an(t,e),Sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ri(t.containerInfo)}catch(x){Ke(e,e.return,x)}break;case 4:an(t,e),Sn(e);break;case 13:an(t,e),Sn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yf=Xe())),r&4&&km(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(gt=(u=gt)||h,an(t,e),gt=u):an(t,e),Sn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Z=e,h=e.child;h!==null;){for(f=Z=h;Z!==null;){switch(m=Z,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ko(4,m,m.return);break;case 1:Ls(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ke(r,n,x)}}break;case 5:Ls(m,m.return);break;case 22:if(m.memoizedState!==null){Em(f);continue}}y!==null?(y.return=m,Z=y):Em(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xg("display",a))}catch(x){Ke(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ke(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:an(t,e),Sn(e),r&4&&km(e);break;case 21:break;default:an(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vv(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zo(s,""),r.flags&=-33);var i=Sm(e);qu(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Sm(e);Yu(e,l,a);break;default:throw Error(X(161))}}catch(c){Ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xj(e,t,n){Z=e,Gv(e)}function Gv(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ra;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||gt;l=ra;var u=gt;if(ra=a,(gt=c)&&!u)for(Z=s;Z!==null;)a=Z,c=a.child,a.tag===22&&a.memoizedState!==null?Tm(s):c!==null?(c.return=a,Z=c):Tm(s);for(;i!==null;)Z=i,Gv(i),i=i.sibling;Z=s,ra=l,gt=u}Cm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):Cm(e)}}function Cm(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||Pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&um(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}um(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ri(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}gt||t.flags&512&&Xu(t)}catch(m){Ke(t,t.return,m)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Em(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Tm(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pl(4,t)}catch(c){Ke(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ke(t,s,c)}}var i=t.return;try{Xu(t)}catch(c){Ke(t,i,c)}break;case 5:var a=t.return;try{Xu(t)}catch(c){Ke(t,a,c)}}}catch(c){Ke(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var yj=Math.ceil,rl=sr.ReactCurrentDispatcher,vf=sr.ReactCurrentOwner,Yt=sr.ReactCurrentBatchConfig,ye=0,st=null,qe=null,dt=0,Lt=0,Ds=Lr(0),et=0,mi=null,ss=0,Al=0,xf=0,Go=null,_t=null,yf=0,Js=1/0,Hn=null,sl=!1,Qu=null,Sr=null,sa=!1,xr=null,ol=0,Xo=0,Ju=null,Aa=-1,Ia=0;function kt(){return ye&6?Xe():Aa!==-1?Aa:Aa=Xe()}function kr(e){return e.mode&1?ye&2&&dt!==0?dt&-dt:nj.transition!==null?(Ia===0&&(Ia=Pg()),Ia):(e=ke,e!==0||(e=window.event,e=e===void 0?16:$g(e.type)),e):1}function pn(e,t,n,r){if(50<Xo)throw Xo=0,Ju=null,Error(X(185));Si(e,n,r),(!(ye&2)||e!==st)&&(e===st&&(!(ye&2)&&(Al|=n),et===4&&mr(e,dt)),Ot(e,r),n===1&&ye===0&&!(t.mode&1)&&(Js=Xe()+500,Tl&&Dr()))}function Ot(e,t){var n=e.callbackNode;n1(e,t);var r=Ua(e,e===st?dt:0);if(r===0)n!==null&&Mh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Mh(n),t===1)e.tag===0?tj(_m.bind(null,e)):rv(_m.bind(null,e)),Q1(function(){!(ye&6)&&Dr()}),n=null;else{switch(Ag(r)){case 1:n=Vd;break;case 4:n=_g;break;case 16:n=Ba;break;case 536870912:n=Rg;break;default:n=Ba}n=tx(n,Xv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xv(e,t){if(Aa=-1,Ia=0,ye&6)throw Error(X(327));var n=e.callbackNode;if(Us()&&e.callbackNode!==n)return null;var r=Ua(e,e===st?dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=il(e,r);else{t=r;var s=ye;ye|=2;var i=qv();(st!==e||dt!==t)&&(Hn=null,Js=Xe()+500,Jr(e,t));do try{jj();break}catch(l){Yv(e,l)}while(!0);rf(),rl.current=i,ye=s,qe!==null?t=0:(st=null,dt=0,t=et)}if(t!==0){if(t===2&&(s=ku(e),s!==0&&(r=s,t=Zu(e,s))),t===1)throw n=mi,Jr(e,0),mr(e,r),Ot(e,Xe()),n;if(t===6)mr(e,r);else{if(s=e.current.alternate,!(r&30)&&!wj(s)&&(t=il(e,r),t===2&&(i=ku(e),i!==0&&(r=i,t=Zu(e,i))),t===1))throw n=mi,Jr(e,0),mr(e,r),Ot(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:Hr(e,_t,Hn);break;case 3:if(mr(e,r),(r&130023424)===r&&(t=yf+500-Xe(),10<t)){if(Ua(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Iu(Hr.bind(null,e,_t,Hn),t);break}Hr(e,_t,Hn);break;case 4:if(mr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-mn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yj(r/1960))-r,10<r){e.timeoutHandle=Iu(Hr.bind(null,e,_t,Hn),r);break}Hr(e,_t,Hn);break;case 5:Hr(e,_t,Hn);break;default:throw Error(X(329))}}}return Ot(e,Xe()),e.callbackNode===n?Xv.bind(null,e):null}function Zu(e,t){var n=Go;return e.current.memoizedState.isDehydrated&&(Jr(e,t).flags|=256),e=il(e,t),e!==2&&(t=_t,_t=n,t!==null&&ed(t)),e}function ed(e){_t===null?_t=e:_t.push.apply(_t,e)}function wj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~xf,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mn(t),r=1<<n;e[n]=-1,t&=~r}}function _m(e){if(ye&6)throw Error(X(327));Us();var t=Ua(e,0);if(!(t&1))return Ot(e,Xe()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=ku(e);r!==0&&(t=r,n=Zu(e,r))}if(n===1)throw n=mi,Jr(e,0),mr(e,t),Ot(e,Xe()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,_t,Hn),Ot(e,Xe()),null}function wf(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(Js=Xe()+500,Tl&&Dr())}}function os(e){xr!==null&&xr.tag===0&&!(ye&6)&&Us();var t=ye;ye|=1;var n=Yt.transition,r=ke;try{if(Yt.transition=null,ke=1,e)return e()}finally{ke=r,Yt.transition=n,ye=t,!(ye&6)&&Dr()}}function bf(){Lt=Ds.current,Oe(Ds)}function Jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,q1(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(ef(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ga();break;case 3:qs(),Oe(At),Oe(yt),uf();break;case 5:cf(r);break;case 4:qs();break;case 13:Oe(Be);break;case 19:Oe(Be);break;case 10:sf(r.type._context);break;case 22:case 23:bf()}n=n.return}if(st=e,qe=e=Cr(e.current,null),dt=Lt=t,et=0,mi=null,xf=Al=ss=0,_t=Go=null,Xr!==null){for(t=0;t<Xr.length;t++)if(n=Xr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Xr=null}return e}function Yv(e,t){do{var n=qe;try{if(rf(),_a.current=nl,tl){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tl=!1}if(rs=0,rt=Ze=Ue=null,Ho=!1,di=0,vf.current=null,n===null||n.return===null){et=1,mi=t,qe=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=gm(a);if(y!==null){y.flags&=-257,vm(y,a,l,i,t),y.mode&1&&pm(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){pm(i,u,t),jf();break e}c=Error(X(426))}}else if(De&&l.mode&1){var b=gm(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vm(b,a,l,i,t),tf(Qs(c,l));break e}}i=c=Qs(c,l),et!==4&&(et=2),Go===null?Go=[i]:Go.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Av(i,c,t);cm(i,g);break e;case 1:l=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Sr===null||!Sr.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Iv(i,l,t);cm(i,j);break e}}i=i.return}while(i!==null)}Jv(n)}catch(N){t=N,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function qv(){var e=rl.current;return rl.current=nl,e===null?nl:e}function jf(){(et===0||et===3||et===2)&&(et=4),st===null||!(ss&268435455)&&!(Al&268435455)||mr(st,dt)}function il(e,t){var n=ye;ye|=2;var r=qv();(st!==e||dt!==t)&&(Hn=null,Jr(e,t));do try{bj();break}catch(s){Yv(e,s)}while(!0);if(rf(),ye=n,rl.current=r,qe!==null)throw Error(X(261));return st=null,dt=0,et}function bj(){for(;qe!==null;)Qv(qe)}function jj(){for(;qe!==null&&!Gb();)Qv(qe)}function Qv(e){var t=ex(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?Jv(e):qe=t,vf.current=null}function Jv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pj(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,qe=null;return}}else if(n=mj(n,t,Lt),n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);et===0&&(et=5)}function Hr(e,t,n){var r=ke,s=Yt.transition;try{Yt.transition=null,ke=1,Nj(e,t,n,r)}finally{Yt.transition=s,ke=r}return null}function Nj(e,t,n,r){do Us();while(xr!==null);if(ye&6)throw Error(X(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(r1(e,i),e===st&&(qe=st=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sa||(sa=!0,tx(Ba,function(){return Us(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yt.transition,Yt.transition=null;var a=ke;ke=1;var l=ye;ye|=4,vf.current=null,vj(e,n),Kv(n,e),W1(Pu),Wa=!!Ru,Pu=Ru=null,e.current=n,xj(n),Xb(),ye=l,ke=a,Yt.transition=i}else e.current=n;if(sa&&(sa=!1,xr=e,ol=s),i=e.pendingLanes,i===0&&(Sr=null),Qb(n.stateNode),Ot(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sl)throw sl=!1,e=Qu,Qu=null,e;return ol&1&&e.tag!==0&&Us(),i=e.pendingLanes,i&1?e===Ju?Xo++:(Xo=0,Ju=e):Xo=0,Dr(),null}function Us(){if(xr!==null){var e=Ag(ol),t=Yt.transition,n=ke;try{if(Yt.transition=null,ke=16>e?16:e,xr===null)var r=!1;else{if(e=xr,xr=null,ol=0,ye&6)throw Error(X(331));var s=ye;for(ye|=4,Z=e.current;Z!==null;){var i=Z,a=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:Ko(8,h,i)}var f=h.child;if(f!==null)f.return=h,Z=f;else for(;Z!==null;){h=Z;var m=h.sibling,y=h.return;if(Wv(h),h===u){Z=null;break}if(m!==null){m.return=y,Z=m;break}Z=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Z=a;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ko(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Z=g;break e}Z=i.return}}var p=e.current;for(Z=p;Z!==null;){a=Z;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,Z=v;else e:for(a=p;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pl(9,l)}}catch(N){Ke(l,l.return,N)}if(l===a){Z=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Z=j;break e}Z=l.return}}if(ye=s,Dr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Nl,e)}catch{}r=!0}return r}finally{ke=n,Yt.transition=t}}return!1}function Rm(e,t,n){t=Qs(n,t),t=Av(e,t,1),e=Nr(e,t,1),t=kt(),e!==null&&(Si(e,1,t),Ot(e,t))}function Ke(e,t,n){if(e.tag===3)Rm(e,e,n);else for(;t!==null;){if(t.tag===3){Rm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sr===null||!Sr.has(r))){e=Qs(n,e),e=Iv(t,e,1),t=Nr(t,e,1),e=kt(),t!==null&&(Si(t,1,e),Ot(t,e));break}}t=t.return}}function Sj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(dt&n)===n&&(et===4||et===3&&(dt&130023424)===dt&&500>Xe()-yf?Jr(e,0):xf|=n),Ot(e,t)}function Zv(e,t){t===0&&(e.mode&1?(t=Xi,Xi<<=1,!(Xi&130023424)&&(Xi=4194304)):t=1);var n=kt();e=Zn(e,t),e!==null&&(Si(e,t,n),Ot(e,n))}function kj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zv(e,n)}function Cj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),Zv(e,n)}var ex;ex=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pt=!1,hj(e,t,n);Pt=!!(e.flags&131072)}else Pt=!1,De&&t.flags&1048576&&sv(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pa(e,t),e=t.pendingProps;var s=Gs(t,yt.current);Bs(t,n),s=ff(null,t,r,e,s,n);var i=hf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(r)?(i=!0,Xa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,af(t),s.updater=Rl,t.stateNode=s,s._reactInternals=t,Fu(t,r,e,n),t=Wu(null,t,r,!0,i,n)):(t.tag=0,De&&i&&Zd(t),Nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Tj(r),e=dn(r,e),s){case 0:t=Uu(null,t,r,e,n);break e;case 1:t=wm(null,t,r,e,n);break e;case 11:t=xm(null,t,r,e,n);break e;case 14:t=ym(null,t,r,dn(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),Uu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),wm(e,t,r,s,n);case 3:e:{if(Mv(t),e===null)throw Error(X(387));r=t.pendingProps,i=t.memoizedState,s=i.element,uv(e,t),Za(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qs(Error(X(423)),t),t=bm(e,t,r,n,s);break e}else if(r!==s){s=Qs(Error(X(424)),t),t=bm(e,t,r,n,s);break e}else for($t=jr(t.stateNode.containerInfo.firstChild),zt=t,De=!0,hn=null,n=lv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),r===s){t=er(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return dv(t),e===null&&Mu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Au(r,s)?a=null:i!==null&&Au(r,i)&&(t.flags|=32),Dv(e,t),Nt(e,t,a,n),t.child;case 6:return e===null&&Mu(t),null;case 13:return $v(e,t,n);case 4:return lf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ys(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),xm(e,t,r,s,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Re(Qa,r._currentValue),r._currentValue=a,i!==null)if(gn(i.value,a)){if(i.children===s.children&&!At.current){t=er(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Yn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),$u(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(X(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$u(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Bs(t,n),s=Qt(s),r=r(s),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,s=dn(r,t.pendingProps),s=dn(r.type,s),ym(e,t,r,s,n);case 15:return Ov(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),Pa(e,t),t.tag=1,It(r)?(e=!0,Xa(t)):e=!1,Bs(t,n),Pv(t,r,s),Fu(t,r,s,n),Wu(null,t,r,!0,e,n);case 19:return zv(e,t,n);case 22:return Lv(e,t,n)}throw Error(X(156,t.tag))};function tx(e,t){return Tg(e,t)}function Ej(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,r){return new Ej(e,t,n,r)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tj(e){if(typeof e=="function")return Nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bd)return 11;if(e===Ud)return 14}return 2}function Cr(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oa(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Nf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Cs:return Zr(n.children,s,i,t);case Fd:a=8,s|=8;break;case uu:return e=Gt(12,n,t,s|2),e.elementType=uu,e.lanes=i,e;case du:return e=Gt(13,n,t,s),e.elementType=du,e.lanes=i,e;case fu:return e=Gt(19,n,t,s),e.elementType=fu,e.lanes=i,e;case dg:return Il(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cg:a=10;break e;case ug:a=9;break e;case Bd:a=11;break e;case Ud:a=14;break e;case ur:a=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Gt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Zr(e,t,n,r){return e=Gt(7,e,r,t),e.lanes=n,e}function Il(e,t,n,r){return e=Gt(22,e,r,t),e.elementType=dg,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function Dc(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _j(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gc(0),this.expirationTimes=gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sf(e,t,n,r,s,i,a,l,c){return e=new _j(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},af(i),e}function Rj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nx(e){if(!e)return _r;e=e._reactInternals;e:{if(fs(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(It(n))return nv(e,n,t)}return t}function rx(e,t,n,r,s,i,a,l,c){return e=Sf(n,r,!0,e,s,i,a,l,c),e.context=nx(null),n=e.current,r=kt(),s=kr(n),i=Yn(r,s),i.callback=t??null,Nr(n,i,s),e.current.lanes=s,Si(e,s,r),Ot(e,r),e}function Ol(e,t,n,r){var s=t.current,i=kt(),a=kr(s);return n=nx(n),t.context===null?t.context=n:t.pendingContext=n,t=Yn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nr(s,t,a),e!==null&&(pn(e,s,a,i),Ta(e,s,a)),a}function al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kf(e,t){Pm(e,t),(e=e.alternate)&&Pm(e,t)}function Pj(){return null}var sx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cf(e){this._internalRoot=e}Ll.prototype.render=Cf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Ol(e,t,null,null)};Ll.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;os(function(){Ol(null,e,null,null)}),t[Jn]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hr.length&&t!==0&&t<hr[n].priority;n++);hr.splice(n,0,e),n===0&&Mg(e)}};function Ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Am(){}function Aj(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=al(a);i.call(u)}}var a=rx(t,r,e,0,null,!1,!1,"",Am);return e._reactRootContainer=a,e[Jn]=a.current,ii(e.nodeType===8?e.parentNode:e),os(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=al(c);l.call(u)}}var c=Sf(e,0,!1,null,null,!1,!1,"",Am);return e._reactRootContainer=c,e[Jn]=c.current,ii(e.nodeType===8?e.parentNode:e),os(function(){Ol(t,c,n,r)}),c}function Ml(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=al(a);l.call(c)}}Ol(t,a,e,s)}else a=Aj(n,t,e,s,r);return al(a)}Ig=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oo(t.pendingLanes);n!==0&&(Hd(t,n|1),Ot(t,Xe()),!(ye&6)&&(Js=Xe()+500,Dr()))}break;case 13:os(function(){var r=Zn(e,1);if(r!==null){var s=kt();pn(r,e,1,s)}}),kf(e,1)}};Kd=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var n=kt();pn(t,e,134217728,n)}kf(e,134217728)}};Og=function(e){if(e.tag===13){var t=kr(e),n=Zn(e,t);if(n!==null){var r=kt();pn(n,e,t,r)}kf(e,t)}};Lg=function(){return ke};Dg=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};ju=function(e,t,n){switch(t){case"input":if(pu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=El(r);if(!s)throw Error(X(90));hg(r),pu(r,s)}}}break;case"textarea":pg(e,n);break;case"select":t=n.value,t!=null&&Ms(e,!!n.multiple,t,!1)}};jg=wf;Ng=os;var Ij={usingClientEntryPoint:!1,Events:[Ci,Rs,El,wg,bg,wf]},Eo={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oj={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cg(e),e===null?null:e.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||Pj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{Nl=oa.inject(Oj),Rn=oa}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ij;Ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(t))throw Error(X(200));return Rj(e,t,null,n)};Ut.createRoot=function(e,t){if(!Ef(e))throw Error(X(299));var n=!1,r="",s=sx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sf(e,1,!1,null,null,n,!1,r,s),e[Jn]=t.current,ii(e.nodeType===8?e.parentNode:e),new Cf(t)};Ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Cg(t),e=e===null?null:e.stateNode,e};Ut.flushSync=function(e){return os(e)};Ut.hydrate=function(e,t,n){if(!Dl(t))throw Error(X(200));return Ml(null,e,t,!0,n)};Ut.hydrateRoot=function(e,t,n){if(!Ef(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=sx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=rx(t,null,e,1,n??null,s,!1,i,a),e[Jn]=t.current,ii(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ll(t)};Ut.render=function(e,t,n){if(!Dl(t))throw Error(X(200));return Ml(null,e,t,!1,n)};Ut.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(X(40));return e._reactRootContainer?(os(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};Ut.unstable_batchedUpdates=wf;Ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dl(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Ml(e,t,n,!1,r)};Ut.version="18.3.1-next-f1338f8080-20240426";function ox(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ox)}catch(e){console.error(e)}}ox(),og.exports=Ut;var io=og.exports;const Lj=Ad(io);var Im=io;lu.createRoot=Im.createRoot,lu.hydrateRoot=Im.hydrateRoot;var Dj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$j=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>d.createElement("svg",{ref:u,...Dj,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Mj(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var se=$j;const ao=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Om=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Tf=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ix=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ws=se("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ax=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Yo=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),fr=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),zj=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Lm=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),es=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Do=se("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Fj=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),pi=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bj=se("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),ll=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Rr=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_f=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Uj=se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Mc=se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Xt=se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),cl=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Wj=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Vj=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Hj=se("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),td=se("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Rf=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Kj=se("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),lx=se("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),ul=se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),cx=se("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Gj=se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Dm=se("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),xt=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),qt=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),hs=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Pf=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Xj=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Yj=se("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),qj=se("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Qj=se("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),Jj=se("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Zj=se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),tr=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Mm=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),nd=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Af=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),eN=se("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),tN=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ux=se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),If=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),$m=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ut=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),nN=se("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),rN=se("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),sN=se("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),oN=se("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),iN=se("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),vn=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dx(...e){return t=>{let n=!1;const r=e.map(s=>{const i=zm(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():zm(e[s],null)}}}}function ve(...e){return d.useCallback(dx(...e),e)}function Zs(e){const t=aN(e),n=d.forwardRef((r,s)=>{const{children:i,...a}=r,l=d.Children.toArray(i),c=l.find(cN);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var fx=Zs("Slot");function aN(e){const t=d.forwardRef((n,r)=>{const{children:s,...i}=n;if(d.isValidElement(s)){const a=dN(s),l=uN(i,s.props);return s.type!==d.Fragment&&(l.ref=r?dx(r,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lN=Symbol("radix.slottable");function cN(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lN}function uN(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function dN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=hx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=hx(e))&&(r&&(r+=" "),r+=t);return r}const Fm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Bm=mx,px=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Bm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=Fm(h)||Fm(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...i,...l}[x]):{...i,...l}[x]===b})?[...u,f,m]:u},[]);return Bm(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};function fN(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=gx(t))&&(r&&(r+=" "),r+=n);return r}function gx(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=gx(e[r]))&&(n&&(n+=" "),n+=t);return n}var Of="-";function hN(e){var t=pN(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(l){var c=l.split(Of);return c[0]===""&&c.length!==1&&c.shift(),vx(c,t)||mN(l)}function a(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function vx(e,t){var a;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?vx(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Of);return(a=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:a.classGroupId}}var Um=/^\[(.+)\]$/;function mN(e){if(Um.test(e)){var t=Um.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function pN(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=vN(Object.entries(e.classGroups),n);return s.forEach(function(i){var a=i[0],l=i[1];rd(l,r,a,t)}),r}function rd(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:Wm(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(gN(s)){rd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(a){var l=a[0],c=a[1];rd(c,Wm(t,l),n,r)})})}function Wm(e,t){var n=e;return t.split(Of).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function gN(e){return e.isThemeGetter}function vN(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):a});return[r,i]}):e}function xN(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,a){n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(a){var l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set:function(a,l){n.has(a)?n.set(a,l):s(a,l)}}}var xx="!";function yN(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(a){for(var l=[],c=0,u=0,h,f=0;f<a.length;f++){var m=a[f];if(c===0){if(m===r&&(n||a.slice(f,f+s)===t)){l.push(a.slice(u,f)),u=f+s;continue}if(m==="/"){h=f;continue}}m==="["?c++:m==="]"&&c--}var y=l.length===0?a:a.substring(u),w=y.startsWith(xx),x=w?y.substring(1):y,b=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:b}}}function wN(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function bN(e){return{cache:xN(e.cacheSize),splitModifiers:yN(e),...hN(e)}}var jN=/\s+/;function NN(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(jN).map(function(a){var l=n(a),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?h.substring(0,f):h),y=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:a};if(m=r(h),!m)return{isTailwindClass:!1,originalClassName:a};y=!1}var w=wN(c).join(":"),x=u?w+xx:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:a,hasPostfixModifier:y}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,h=l+c;return i.has(h)?!1:(i.add(h),s(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function SN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,a=l;function l(u){var h=t[0],f=t.slice(1),m=f.reduce(function(y,w){return w(y)},h());return r=bN(m),s=r.cache.get,i=r.cache.set,a=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=NN(u,r);return i(u,f),f}return function(){return a(fN.apply(null,arguments))}}function Ae(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var yx=/^\[(?:([a-z-]+):)?(.+)\]$/i,kN=/^\d+\/\d+$/,CN=new Set(["px","full","screen"]),EN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_N=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ln(e){return qr(e)||CN.has(e)||kN.test(e)||sd(e)}function sd(e){return ms(e,"length",LN)}function RN(e){return ms(e,"size",wx)}function PN(e){return ms(e,"position",wx)}function AN(e){return ms(e,"url",DN)}function ia(e){return ms(e,"number",qr)}function qr(e){return!Number.isNaN(Number(e))}function IN(e){return e.endsWith("%")&&qr(e.slice(0,-1))}function To(e){return Vm(e)||ms(e,"number",Vm)}function ge(e){return yx.test(e)}function _o(){return!0}function lr(e){return EN.test(e)}function ON(e){return ms(e,"",MN)}function ms(e,t,n){var r=yx.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function LN(e){return TN.test(e)}function wx(){return!1}function DN(e){return e.startsWith("url(")}function Vm(e){return Number.isInteger(Number(e))}function MN(e){return _N.test(e)}function $N(){var e=Ae("colors"),t=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),s=Ae("borderColor"),i=Ae("borderRadius"),a=Ae("borderSpacing"),l=Ae("borderWidth"),c=Ae("contrast"),u=Ae("grayscale"),h=Ae("hueRotate"),f=Ae("invert"),m=Ae("gap"),y=Ae("gradientColorStops"),w=Ae("gradientColorStopPositions"),x=Ae("inset"),b=Ae("margin"),g=Ae("opacity"),p=Ae("padding"),v=Ae("saturate"),j=Ae("scale"),N=Ae("sepia"),C=Ae("skew"),E=Ae("space"),k=Ae("translate"),T=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},L=function(){return["auto",ge,t]},S=function(){return[ge,t]},_=function(){return["",ln]},z=function(){return["auto",qr,ge]},W=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},R=function(){return["solid","dashed","dotted","double","none"]},B=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",ge]},V=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Y=function(){return[qr,ia]},ee=function(){return[qr,ge]};return{cacheSize:500,theme:{colors:[_o],spacing:[ln],blur:["none","",lr,ge],brightness:Y(),borderColor:[e],borderRadius:["none","","full",lr,ge],borderSpacing:S(),borderWidth:_(),contrast:Y(),grayscale:F(),hueRotate:ee(),invert:F(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[IN,sd],inset:L(),margin:L(),opacity:Y(),padding:S(),saturate:Y(),scale:Y(),sepia:F(),skew:ee(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[lr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(W(),[ge])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",To]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",To]}],"grid-cols":[{"grid-cols":[_o]}],"col-start-end":[{col:["auto",{span:["full",To]},ge]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[_o]}],"row-start-end":[{row:["auto",{span:[To]},ge]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ge,t]}],"min-w":[{"min-w":["min","max","fit",ge,ln]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[lr]},lr,ge]}],h:[{h:[ge,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ge,ln]}],"max-h":[{"max-h":[ge,t,"min","max","fit"]}],"font-size":[{text:["base",lr,sd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ia]}],"font-family":[{font:[_o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",qr,ia]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ge,ln]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(R(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ln]}],"underline-offset":[{"underline-offset":["auto",ge,ln]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(W(),[PN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(R(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(R())}],"outline-offset":[{"outline-offset":[ge,ln]}],"outline-w":[{outline:[ln]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ln]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lr,ON]}],"shadow-color":[{shadow:[_o]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",lr,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[To,ge]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ln,ia]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var zN=SN($N);function Se(...e){return zN(mx(e))}const FN=px("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function D({className:e,variant:t,size:n,asChild:r=!1,...s}){const i=r?fx:"button";return o.jsx(i,{"data-slot":"button",className:Se(FN({variant:t,size:n,className:e})),...s})}function BN(e,t){const n=d.createContext(t),r=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=d.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function $n(e,t=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];const u=f=>{var g;const{scope:m,children:y,...w}=f,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:b,children:y})};u.displayName=i+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,UN(s,...t)]}function UN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function vt(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var Qe=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},WN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=WN.reduce((e,t)=>{const n=Zs(`Primitive.${t}`),r=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function VN(e,t){e&&io.flushSync(()=>e.dispatchEvent(t))}var bx={exports:{}},jx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=d;function HN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KN=typeof Object.is=="function"?Object.is:HN,GN=eo.useState,XN=eo.useEffect,YN=eo.useLayoutEffect,qN=eo.useDebugValue;function QN(e,t){var n=t(),r=GN({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return YN(function(){s.value=n,s.getSnapshot=t,$c(s)&&i({inst:s})},[e,n,t]),XN(function(){return $c(s)&&i({inst:s}),e(function(){$c(s)&&i({inst:s})})},[e]),qN(n),n}function $c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!KN(e,n)}catch{return!0}}function JN(e,t){return t()}var ZN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JN:QN;jx.useSyncExternalStore=eo.useSyncExternalStore!==void 0?eo.useSyncExternalStore:ZN;bx.exports=jx;var eS=bx.exports;function tS(){return eS.useSyncExternalStore(nS,()=>!0,()=>!1)}function nS(){return()=>{}}var Lf="Avatar",[rS,yR]=$n(Lf),[sS,Nx]=rS(Lf),Sx=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=d.useState("idle");return o.jsx(sS,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(ae.span,{...r,ref:t})})});Sx.displayName=Lf;var kx="AvatarImage",Cx=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,a=Nx(kx,n),l=oS(r,i),c=vt(u=>{s(u),a.onImageLoadingStatusChange(u)});return Qe(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ae.img,{...i,ref:t,src:r}):null});Cx.displayName=kx;var Ex="AvatarFallback",Tx=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=Nx(Ex,n),[a,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ae.span,{...s,ref:t}):null});Tx.displayName=Ex;function Hm(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oS(e,{referrerPolicy:t,crossOrigin:n}){const r=tS(),s=d.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=d.useState(()=>Hm(i,e));return Qe(()=>{l(Hm(i,e))},[i,e]),Qe(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),h=c("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,n,t]),a}var iS=Sx,aS=Cx,lS=Tx;function $e({className:e,...t}){return o.jsx(iS,{"data-slot":"avatar",className:Se("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function ze({className:e,...t}){return o.jsx(aS,{"data-slot":"avatar-image",className:Se("aspect-square size-full",e),...t})}function Fe({className:e,...t}){return o.jsx(lS,{"data-slot":"avatar-fallback",className:Se("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class cS{constructor(){Te(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const uS=new cS;var od={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,i=n.XMLHttpRequest,a=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,h=n.Promise,f=n.fetch,m=n.Response,y=n.TextDecoder,w=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(M){u.readyState="complete"},!1)),i==null&&l!=null&&(i=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(M){function O(){}return O.prototype=M,new O}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var b=f;f=function(M,O){var G=O.signal;return b(M,{headers:O.headers,credentials:O.credentials,cache:O.cache}).then(function(H){var ne=H.body.getReader();return G._reader=ne,G._aborted&&G._reader.cancel(),{status:H.status,statusText:H.statusText,headers:H.headers,body:{getReader:function(){return ne}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(M){function O(je,Ce,oe){if(oe===1)return je>=128>>Ce&&je<<Ce<=2047;if(oe===2)return je>=2048>>Ce&&je<<Ce<=55295||je>=57344>>Ce&&je<<Ce<=65535;if(oe===3)return je>=65536>>Ce&&je<<Ce<=1114111;throw new Error}function G(je,Ce){if(je===6*1)return Ce>>6>15?3:Ce>31?2:1;if(je===6*2)return Ce>15?3:2;if(je===6*3)return 3;throw new Error}for(var H=65533,ne="",J=this.bitsNeeded,fe=this.codePoint,we=0;we<M.length;we+=1){var ie=M[we];J!==0&&(ie<128||ie>191||!O(fe<<6|ie&63,J-6,G(J,fe)))&&(J=0,fe=H,ne+=String.fromCharCode(fe)),J===0?(ie>=0&&ie<=127?(J=0,fe=ie):ie>=192&&ie<=223?(J=6*1,fe=ie&31):ie>=224&&ie<=239?(J=6*2,fe=ie&15):ie>=240&&ie<=247?(J=6*3,fe=ie&7):(J=0,fe=H),J!==0&&!O(fe,J,G(J,fe))&&(J=0,fe=H)):(J-=6,fe=fe<<6|ie&63),J===0&&(fe<=65535?ne+=String.fromCharCode(fe):(ne+=String.fromCharCode(55296+(fe-65535-1>>10)),ne+=String.fromCharCode(56320+(fe-65535-1&1023))))}return this.bitsNeeded=J,this.codePoint=fe,ne};var p=function(){try{return new y().decode(new w().encode("test"),{stream:!0})==="test"}catch(M){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+M)}return!1};(y==null||w==null||!p())&&(y=g);var v=function(){};function j(M){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=M,this._sendTimeout=0,this._abort=v}j.prototype.open=function(M,O){this._abort(!0);var G=this,H=this._xhr,ne=1,J=0;this._abort=function(oe){G._sendTimeout!==0&&(s(G._sendTimeout),G._sendTimeout=0),(ne===1||ne===2||ne===3)&&(ne=4,H.onload=v,H.onerror=v,H.onabort=v,H.onprogress=v,H.onreadystatechange=v,H.abort(),J!==0&&(s(J),J=0),oe||(G.readyState=4,G.onabort(null),G.onreadystatechange())),ne=0};var fe=function(){if(ne===1){var oe=0,Pe="",Tt=void 0;if("contentType"in H)oe=200,Pe="OK",Tt=H.contentType;else try{oe=H.status,Pe=H.statusText,Tt=H.getResponseHeader("Content-Type")}catch{oe=0,Pe="",Tt=void 0}oe!==0&&(ne=2,G.readyState=2,G.status=oe,G.statusText=Pe,G._contentType=Tt,G.onreadystatechange())}},we=function(){if(fe(),ne===2||ne===3){ne=3;var oe="";try{oe=H.responseText}catch{}G.readyState=3,G.responseText=oe,G.onprogress()}},ie=function(oe,Pe){if((Pe==null||Pe.preventDefault==null)&&(Pe={preventDefault:v}),we(),ne===1||ne===2||ne===3){if(ne=4,J!==0&&(s(J),J=0),G.readyState=4,oe==="load")G.onload(Pe);else if(oe==="error")G.onerror(Pe);else if(oe==="abort")G.onabort(Pe);else throw new TypeError;G.onreadystatechange()}},je=function(oe){H!=null&&(H.readyState===4?(!("onload"in H)||!("onerror"in H)||!("onabort"in H))&&ie(H.responseText===""?"error":"load",oe):H.readyState===3?"onprogress"in H||we():H.readyState===2&&fe())},Ce=function(){J=r(function(){Ce()},500),H.readyState===3&&we()};"onload"in H&&(H.onload=function(oe){ie("load",oe)}),"onerror"in H&&(H.onerror=function(oe){ie("error",oe)}),"onabort"in H&&(H.onabort=function(oe){ie("abort",oe)}),"onprogress"in H&&(H.onprogress=we),"onreadystatechange"in H&&(H.onreadystatechange=function(oe){je(oe)}),("contentType"in H||!("ontimeout"in i.prototype))&&(O+=(O.indexOf("?")===-1?"?":"&")+"padding=true"),H.open(M,O,!0),"readyState"in H&&(J=r(function(){Ce()},0))},j.prototype.abort=function(){this._abort(!1)},j.prototype.getResponseHeader=function(M){return this._contentType},j.prototype.setRequestHeader=function(M,O){var G=this._xhr;"setRequestHeader"in G&&G.setRequestHeader(M,O)},j.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},j.prototype.send=function(){if((!("ontimeout"in i.prototype)||!("sendAsBinary"in i.prototype)&&!("mozAnon"in i.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var M=this;M._sendTimeout=r(function(){M._sendTimeout=0,M.send()},4);return}var O=this._xhr;"withCredentials"in O&&(O.withCredentials=this.withCredentials);try{O.send(void 0)}catch(G){throw G}};function N(M){return M.replace(/[A-Z]/g,function(O){return String.fromCharCode(O.charCodeAt(0)+32)})}function C(M){for(var O=Object.create(null),G=M.split(`\r
`),H=0;H<G.length;H+=1){var ne=G[H],J=ne.split(": "),fe=J.shift(),we=J.join(": ");O[N(fe)]=we}this._map=O}C.prototype.get=function(M){return this._map[N(M)]},i!=null&&i.HEADERS_RECEIVED==null&&(i.HEADERS_RECEIVED=2);function E(){}E.prototype.open=function(M,O,G,H,ne,J,fe){M.open("GET",ne);var we=0;M.onprogress=function(){var je=M.responseText,Ce=je.slice(we);we+=Ce.length,G(Ce)},M.onerror=function(je){je.preventDefault(),H(new Error("NetworkError"))},M.onload=function(){H(null)},M.onabort=function(){H(null)},M.onreadystatechange=function(){if(M.readyState===i.HEADERS_RECEIVED){var je=M.status,Ce=M.statusText,oe=M.getResponseHeader("Content-Type"),Pe=M.getAllResponseHeaders();O(je,Ce,oe,new C(Pe))}},M.withCredentials=J;for(var ie in fe)Object.prototype.hasOwnProperty.call(fe,ie)&&M.setRequestHeader(ie,fe[ie]);return M.send(),M};function k(M){this._headers=M}k.prototype.get=function(M){return this._headers.get(M)};function T(){}T.prototype.open=function(M,O,G,H,ne,J,fe){var we=null,ie=new x,je=ie.signal,Ce=new y;return f(ne,{headers:fe,credentials:J?"include":"same-origin",signal:je,cache:"no-store"}).then(function(oe){return we=oe.body.getReader(),O(oe.status,oe.statusText,oe.headers.get("Content-Type"),new k(oe.headers)),new h(function(Pe,Tt){var Fr=function(){we.read().then(function(tt){if(tt.done)Pe(void 0);else{var nt=Ce.decode(tt.value,{stream:!0});G(nt),Fr()}}).catch(function(tt){Tt(tt)})};Fr()})}).catch(function(oe){if(oe.name!=="AbortError")return oe}).then(function(oe){H(oe)}),{abort:function(){we!=null&&we.cancel(),ie.abort()}}};function A(){this._listeners=Object.create(null)}function L(M){r(function(){throw M},0)}A.prototype.dispatchEvent=function(M){M.target=this;var O=this._listeners[M.type];if(O!=null)for(var G=O.length,H=0;H<G;H+=1){var ne=O[H];try{typeof ne.handleEvent=="function"?ne.handleEvent(M):ne.call(this,M)}catch(J){L(J)}}},A.prototype.addEventListener=function(M,O){M=String(M);var G=this._listeners,H=G[M];H==null&&(H=[],G[M]=H);for(var ne=!1,J=0;J<H.length;J+=1)H[J]===O&&(ne=!0);ne||H.push(O)},A.prototype.removeEventListener=function(M,O){M=String(M);var G=this._listeners,H=G[M];if(H!=null){for(var ne=[],J=0;J<H.length;J+=1)H[J]!==O&&ne.push(H[J]);ne.length===0?delete G[M]:G[M]=ne}};function S(M){this.type=M,this.target=void 0}function _(M,O){S.call(this,M),this.data=O.data,this.lastEventId=O.lastEventId}_.prototype=Object.create(S.prototype);function z(M,O){S.call(this,M),this.status=O.status,this.statusText=O.statusText,this.headers=O.headers}z.prototype=Object.create(S.prototype);function W(M,O){S.call(this,M),this.error=O.error}W.prototype=Object.create(S.prototype);var R=-1,B=0,P=1,F=2,V=-1,Y=0,ee=1,re=2,me=3,_e=/^text\/event\-stream(;.*)?$/i,xe=1e3,te=18e6,de=function(M,O){var G=M==null?O:parseInt(M,10);return G!==G&&(G=O),he(G)},he=function(M){return Math.min(Math.max(M,xe),te)},I=function(M,O,G){try{typeof O=="function"&&O.call(M,G)}catch(H){L(H)}};function q(M,O){A.call(this),O=O||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Ve(this,M,O)}function ue(){return i!=null&&"withCredentials"in i.prototype||a==null?new i:new a}var Le=f!=null&&m!=null&&"body"in m.prototype;function Ve(M,O,G){O=String(O);var H=!!G.withCredentials,ne=G.lastEventIdQueryParameterName||"lastEventId",J=he(1e3),fe=de(G.heartbeatTimeout,45e3),we="",ie=J,je=!1,Ce=0,oe=G.headers||{},Pe=G.Transport,Tt=Le&&Pe==null?void 0:new j(Pe!=null?new Pe:ue()),Fr=Pe!=null&&typeof Pe!="string"?new Pe:Tt==null?new T:new E,tt=void 0,nt=0,He=R,Un="",Br="",nn="",Ur="",it=Y,vo=0,jn=0,cc=function(Ye,Ge,bt,ht){if(He===B)if(Ye===200&&bt!=null&&_e.test(bt)){He=P,je=Date.now(),ie=J,M.readyState=P;var at=new z("open",{status:Ye,statusText:Ge,headers:ht});M.dispatchEvent(at),I(M,M.onopen,at)}else{var Je="";Ye!==200?(Ge&&(Ge=Ge.replace(/\s+/g," ")),Je="EventSource's response has a status "+Ye+" "+Ge+" that is not 200. Aborting the connection."):Je="EventSource's response has a Content-Type specifying an unsupported type: "+(bt==null?"-":bt.replace(/\s+/g," "))+". Aborting the connection.",Nn();var at=new z("error",{status:Ye,statusText:Ge,headers:ht});M.dispatchEvent(at),I(M,M.onerror,at),console.error(Je)}},uc=function(Ye){if(He===P){for(var Ge=-1,bt=0;bt<Ye.length;bt+=1){var ht=Ye.charCodeAt(bt);(ht===10||ht===13)&&(Ge=bt)}var at=(Ge!==-1?Ur:"")+Ye.slice(0,Ge+1);Ur=(Ge===-1?Ur:"")+Ye.slice(Ge+1),Ye!==""&&(je=Date.now(),Ce+=Ye.length);for(var Je=0;Je<at.length;Je+=1){var ht=at.charCodeAt(Je);if(it===V&&ht===10)it=Y;else if(it===V&&(it=Y),ht===13||ht===10){if(it!==Y){it===ee&&(jn=Je+1);var rn=at.slice(vo,jn-1),sn=at.slice(jn+(jn<Je&&at.charCodeAt(jn)===32?1:0),Je);rn==="data"?(Un+=`
`,Un+=sn):rn==="id"?Br=sn:rn==="event"?nn=sn:rn==="retry"?(J=de(sn,J),ie=J):rn==="heartbeatTimeout"&&(fe=de(sn,fe),nt!==0&&(s(nt),nt=r(function(){Wr()},fe)))}if(it===Y){if(Un!==""){we=Br,nn===""&&(nn="message");var Wn=new _(nn,{data:Un.slice(1),lastEventId:Br});if(M.dispatchEvent(Wn),nn==="open"?I(M,M.onopen,Wn):nn==="message"?I(M,M.onmessage,Wn):nn==="error"&&I(M,M.onerror,Wn),He===F)return}Un="",nn=""}it=ht===13?V:Y}else it===Y&&(vo=Je,it=ee),it===ee?ht===58&&(jn=Je+1,it=re):it===re&&(it=me)}}},xo=function(Ye){if(He===P||He===B){He=R,nt!==0&&(s(nt),nt=0),nt=r(function(){Wr()},ie),ie=he(Math.min(J*16,ie*2)),M.readyState=B;var Ge=new W("error",{error:Ye});M.dispatchEvent(Ge),I(M,M.onerror,Ge),Ye!=null&&console.error(Ye)}},Nn=function(){He=F,tt!=null&&(tt.abort(),tt=void 0),nt!==0&&(s(nt),nt=0),M.readyState=F},Wr=function(){if(nt=0,He!==R){if(!je&&tt!=null)xo(new Error("No activity within "+fe+" milliseconds. "+(He===B?"No response received.":Ce+" chars received.")+" Reconnecting.")),tt!=null&&(tt.abort(),tt=void 0);else{var Ye=Math.max((je||Date.now())+fe-Date.now(),1);je=!1,nt=r(function(){Wr()},Ye)}return}je=!1,Ce=0,nt=r(function(){Wr()},fe),He=B,Un="",nn="",Br=we,Ur="",vo=0,jn=0,it=Y;var Ge=O;if(O.slice(0,5)!=="data:"&&O.slice(0,5)!=="blob:"&&we!==""){var bt=O.indexOf("?");Ge=bt===-1?O:O.slice(0,bt+1)+O.slice(bt+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(sn,Wn){return Wn===ne?"":sn}),Ge+=(O.indexOf("?")===-1?"?":"&")+ne+"="+encodeURIComponent(we)}var ht=M.withCredentials,at={};at.Accept="text/event-stream";var Je=M.headers;if(Je!=null)for(var rn in Je)Object.prototype.hasOwnProperty.call(Je,rn)&&(at[rn]=Je[rn]);try{tt=Fr.open(Tt,cc,uc,xo,Ge,ht,at)}catch(sn){throw Nn(),sn}};M.url=O,M.readyState=B,M.withCredentials=H,M.headers=oe,M._close=Nn,Wr()}q.prototype=Object.create(A.prototype),q.prototype.CONNECTING=B,q.prototype.OPEN=P,q.prototype.CLOSED=F,q.prototype.close=function(){this._close()},q.CONNECTING=B,q.OPEN=P,q.CLOSED=F,q.prototype.withCredentials=void 0;var ot=c;i!=null&&(c==null||!("withCredentials"in c.prototype))&&(ot=q),function(M){{var O=M(t);O!==void 0&&(e.exports=O)}}(function(M){M.EventSourcePolyfill=q,M.NativeEventSource=c,M.EventSource=ot})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:cb:globalThis)})(od,od.exports);var ws=od.exports;class dS{constructor(t){Te(this,"_userId");Te(this,"apiBaseUrl");Te(this,"maxReconnectAttempts");Te(this,"eventSource",null);Te(this,"reconnectAttempts",0);Te(this,"reconnectTimeout",null);Te(this,"tokenRefreshTimeout",null);Te(this,"isManualDisconnect",!1);Te(this,"lastHeartbeat",Date.now());Te(this,"heartbeatCheckInterval",null);Te(this,"onNotification");Te(this,"onAuthRequired");Te(this,"onConnectionOpen");Te(this,"onConnectionError");Te(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===ws.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}const n=this.getTokenExpiry(t),r=Date.now();if(n&&n<=r){console.log(" .  ..."),this.refreshTokenAndConnect();return}if(this.startSSEConnection(t),n){const s=n-r-3e5;s>0&&this.scheduleTokenRefresh(s)}}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;this.eventSource=new ws.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE  "),this.reconnectAttempts=0,this.lastHeartbeat=Date.now(),this.startHeartbeatCheck(),(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.addEventListener("auth-error",r=>{var s;console.warn(" :",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("   "),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()}),this.eventSource.onerror=r=>{var s,i,a;console.error("SSE  :",r),(s=this.onConnectionError)==null||s.call(this,r),((i=this.eventSource)==null?void 0:i.readyState)===ws.EventSourcePolyfill.CLOSED?(console.log("SSE  .  ."),this.eventSource=null,this.handleReconnect()):((a=this.eventSource)==null?void 0:a.readyState)===ws.EventSourcePolyfill.CONNECTING&&console.log("SSE  ...")}}handleMessage(t){var n;if(this.lastHeartbeat=Date.now(),t.data!=="ping"&&t.type!=="heartbeat")try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE   :",r)}}startHeartbeatCheck(){this.clearHeartbeatCheck(),this.heartbeatCheckInterval=setInterval(()=>{var n;Date.now()-this.lastHeartbeat>6e4&&(console.warn("Heartbeat  -   ."),((n=this.eventSource)==null?void 0:n.readyState)!==ws.EventSourcePolyfill.OPEN&&(console.error("SSE  .  ."),this.handleReconnect()))},3e4)}clearHeartbeatCheck(){this.heartbeatCheckInterval&&(clearInterval(this.heartbeatCheckInterval),this.heartbeatCheckInterval=null)}async refreshTokenAndConnect(){try{console.log("     ..."),await this.refreshToken()?(console.log("  , SSE  ..."),this.connect()):(console.error("   -  "),this.handleAuthRequired())}catch(t){console.error("    :",t),this.handleAuthRequired()}}scheduleTokenRefresh(t){this.clearTokenRefreshTimeout(),this.tokenRefreshTimeout=setTimeout(()=>{console.log("    "),this.refreshTokenAndReconnect()},t)}async refreshTokenAndReconnect(){console.log("    "),this.disconnect(),await this.refreshTokenAndConnect()}handleReconnect(){if(this.isManualDisconnect){console.log("     .");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;let t;this.reconnectAttempts===1?t=1e3:t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4),console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("  ...");const n=this.getValidToken();!n||this.getTokenExpiry(n)<=Date.now()?(console.log("  .    ."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("    .  ."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}getTokenExpiry(t){try{return JSON.parse(atob(t.split(".")[1])).exp*1e3}catch{return null}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("   :",t),null}try{console.log("   ...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const n=await t.text(),r=n.replace(/"/g,"");return r&&r!=="null"?(localStorage.setItem("accessToken",r),console.log("  "),r):(console.error("   :",n),null)}else return console.error(`  : ${t.status} ${t.statusText}`),t.status===401&&(console.log("Refresh token ."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")),null}catch(t){return console.error("   :",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}clearTokenRefreshTimeout(){this.tokenRefreshTimeout&&(clearTimeout(this.tokenRefreshTimeout),this.tokenRefreshTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.clearTokenRefreshTimeout(),this.clearHeartbeatCheck(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("   ..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.clearTokenRefreshTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.getTokenExpiry(t)<=Date.now()?(console.log(" :    "),await this.refreshTokenAndConnect()):(console.log(" :   "),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===ws.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}}const fS=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0}=e,h=d.useRef(null),[f,m]=d.useState(!1),[y,w]=d.useState(0),x=d.useRef({onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{x.current={onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c}});const b=d.useCallback(()=>{var k,T;m(!0),w(0),(T=(k=x.current).onConnectionOpen)==null||T.call(k)},[]),g=d.useCallback(k=>{var T,A;m(!1),(A=(T=x.current).onConnectionError)==null||A.call(T,k)},[]),p=d.useCallback(k=>{var T,A;(A=(T=x.current).onNotification)==null||A.call(T,k)},[]),v=d.useCallback(()=>{var k,T;m(!1),(T=(k=x.current).onAuthRequired)==null||T.call(k)},[]),j=d.useCallback(()=>{h.current&&t&&h.current.connect()},[t]),N=d.useCallback(()=>{h.current&&(h.current.disconnect(),m(!1),w(0))},[]),C=d.useCallback(()=>{h.current&&h.current.reconnect()},[]),E=d.useCallback(()=>{h.current&&h.current.forceReconnect()},[]);return d.useEffect(()=>{if(t){const k={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:p,onAuthRequired:v,onConnectionOpen:b,onConnectionError:g,onTokenRefresh:x.current.onTokenRefresh};h.current=new dS(k),u&&setTimeout(()=>{var L;(L=h.current)==null||L.connect()},2e3);const A=setInterval(()=>{h.current&&(m(h.current.isConnected()),w(h.current.getReconnectAttempts()))},1e3);return()=>{var L;clearInterval(A),(L=h.current)==null||L.disconnect(),h.current=null}}else h.current&&(h.current.disconnect(),h.current=null),m(!1),w(0)},[t,n,r,u]),d.useEffect(()=>{h.current&&t&&h.current.updateUserId(t)},[t]),{isConnected:f,reconnectAttempts:y,connect:j,disconnect:N,reconnect:C,forceReconnect:E}};class hS{constructor(t={}){Te(this,"apiBaseUrl");Te(this,"refreshPromise",null);Te(this,"onTokenExpired");Te(this,"onTokenRefreshed");this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.onTokenExpired=t.onTokenExpired,this.onTokenRefreshed=t.onTokenRefreshed}extractUserIdFromToken(t){try{if(!t||typeof t!="string")return console.error("  :",t),null;const n=t.split(".");if(n.length!==3)return console.error(" JWT :",t),null;const r=JSON.parse(atob(n[1])),s=r.userId||r.sub||r.id||null;return s||console.error("  ID   :",r),s}catch(n){return console.error("JWT   :",n),null}}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch(n){return console.error("   :",n),!0}}getTokenExpiry(t){try{return JSON.parse(atob(t.split(".")[1])).exp*1e3}catch(n){return console.error("    :",n),null}}getTokenInfo(t){try{const n=this.extractUserIdFromToken(t),r=this.getTokenExpiry(t);return!n||!r?null:{token:t,userId:n,exp:r}}catch(n){return console.error("   :",n),null}}async refreshAccessToken(){if(this.refreshPromise)return console.log("    .   ."),this.refreshPromise;this.refreshPromise=this.performTokenRefresh();const t=await this.refreshPromise;return this.refreshPromise=null,t}async performTokenRefresh(){var t,n;try{console.log("  ");const r=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include"});if(!r.ok)return console.log(`  : ${r.status} ${r.statusText}`),r.status===401&&(console.log("Refresh token ."),(t=this.onTokenExpired)==null||t.call(this)),null;const s=await r.text();if(!s||s.trim()==="")return console.log("    "),null;const i=s.replace(/"/g,"");return localStorage.setItem("accessToken",i),console.log("  "),(n=this.onTokenRefreshed)==null||n.call(this,i),i}catch(r){return console.error("Token refresh :",r),null}}async ensureValidToken(){var n,r;const t=localStorage.getItem("accessToken");if(!t)return console.error("  ."),(n=this.onTokenExpired)==null||n.call(this),null;if(this.isTokenExpired(t)){console.log(" .   ...");const s=await this.refreshAccessToken();return s||((r=this.onTokenExpired)==null||r.call(this),null)}return t}scheduleTokenRefresh(t,n){const r=this.getTokenExpiry(t);if(!r)return null;const s=Date.now(),i=r-s-5*60*1e3;return i>0?(console.log(`  ${i}ms  `),setTimeout(n,i)):null}clearToken(){localStorage.removeItem("accessToken")}getStoredToken(){return localStorage.getItem("accessToken")}isLoggedIn(){const t=this.getStoredToken();return t!==null&&!this.isTokenExpired(t)}logout(){var t;this.clearToken(),(t=this.onTokenExpired)==null||t.call(this)}}function mS({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:i,authenticatedFetch:a,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h}){const[f,m]=d.useState([]),[y,w]=d.useState(!1),[x,b]=d.useState(!1),[g,p]=d.useState(null),v=new hS({onTokenExpired:()=>{console.log("   ."),i()},onTokenRefreshed:()=>{console.log(" .")}});fS({userId:l,onNotification:R=>{if(R.notificationType==="CONNECTED")return;const B=j(R);m(P=>[B,...P])},onAuthRequired:()=>{console.log("SSE    "),i()},onTokenRefresh:async()=>await v.refreshAccessToken()});const j=R=>{const B=V=>{switch(V){case"DM_RECEIVED":case"NEW_DM_ROOM":return"message";case"FOLLOWED":return"follow";case"PLAYLIST_SUBSCRIBED":case"FOLLOWING_POSTED_PLAYLIST":return"like";default:return"notification"}},P=V=>{switch(V){case"DM_RECEIVED":return"  ";case"NEW_DM_ROOM":return"  ";case"FOLLOWED":return"  ";case"PLAYLIST_SUBSCRIBED":return" ";case"FOLLOWING_POSTED_PLAYLIST":return"   ";case"ROLE_CHANGED":return" ";default:return" "}},F=V=>{const Y=new Date(V),re=new Date().getTime()-Y.getTime(),me=Math.floor(re/(1e3*60)),_e=Math.floor(re/(1e3*60*60)),xe=Math.floor(re/(1e3*60*60*24));return me<1?" ":me<60?`${me} `:_e<24?`${_e} `:xe===1?"":`${xe} `};return{id:R.id,type:B(R.notificationType),title:P(R.notificationType),content:R.content,avatar:"",timestamp:F(R.createdAt),isRead:!1}},N=async()=>{if(l)try{const R=await uS.getUser(l);p(R)}catch(R){console.error("   :",R),R instanceof Error&&(R.message.includes("not found")||R.message.includes("401")||R.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i())}},C=async()=>{if(l)try{const R=await a("http://localhost:8080/api/notifications");if(!R.ok){if(R.status===401||R.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i();return}throw new Error(`   . (: ${R.status})`)}const B=await R.json(),P=B.content||B;if(!Array.isArray(P)){console.error("   :",B),m([]);return}const F=P.map(V=>({...j(V),isRead:!0}));m(F)}catch(R){console.error("   :",R),R instanceof Error&&(R.message.includes("401")||R.message.includes("403"))&&m([])}};d.useEffect(()=>{l&&(N(),C())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=N),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const E=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],k=f.filter(R=>!R.isRead).length;d.useEffect(()=>{const R=B=>{const P=B.target;!P.closest(".notification-container")&&!P.closest(".profile-container")&&(w(!1),b(!1))};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[]);const T=R=>{switch(R){case"message":return o.jsx(Rf,{className:"w-4 h-4"});case"follow":return o.jsx(If,{className:"w-4 h-4"});case"like":return o.jsx(Rr,{className:"w-4 h-4"});case"watch":return o.jsx(xt,{className:"w-4 h-4"});default:return o.jsx(Om,{className:"w-4 h-4"})}},A=async R=>{try{await u(R),m(B=>B.filter(P=>P.id!==R))}catch(B){console.error("  :",B)}},L=R=>{m(B=>B.map(P=>P.id===R?{...P,isRead:!0}:P))},S=async()=>{try{await C(),m(R=>R.map(B=>({...B,isRead:!0})))}catch(R){console.error("   :",R)}},_=R=>{s&&s(),t(R)},z=R=>{R.stopPropagation(),s&&s(),w(!y),b(!1)},W=async()=>{try{if(!(await a("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");b(!1),i()}catch(R){console.error(" :",R),b(!1),i()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>_("home"),children:""}),o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:E.map(R=>o.jsx("li",{children:o.jsx("button",{onClick:()=>_(R.id),className:`transition-colors hover:text-[#4ecdc4] ${e===R.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:R.label})},R.id))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative notification-container",children:[o.jsxs(D,{variant:"ghost",size:"sm",onClick:z,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Om,{className:"w-5 h-5"}),k>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:k>9?"9+":k})]}),y&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[k>0&&o.jsx(D,{variant:"ghost",size:"sm",onClick:S,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx(D,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),m([])}catch(R){console.error("   :",R)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(nd,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${f.length>4?"max-h-96":""}`,children:f.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:f.map(R=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>L(R.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs($e,{className:"h-12 w-12",children:[o.jsx(ze,{src:R.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:R.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:T(R.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${R.isRead?"text-white/60":"font-medium"}`,children:R.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:R.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:R.content})]}),o.jsx(D,{variant:"ghost",size:"sm",onClick:async B=>{B.stopPropagation(),await A(R.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(nd,{className:"w-3 h-3"})}),!R.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},R.id))})})]})]}),o.jsxs("div",{className:"relative profile-container",children:[o.jsxs(D,{variant:"ghost",size:"sm",onClick:R=>{R.stopPropagation(),b(!x),w(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs($e,{className:"h-8 w-8",children:[o.jsx(ze,{src:(g==null?void 0:g.profileImage)||""}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:(g==null?void 0:g.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(g==null?void 0:g.name)||""})]}),x&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{b(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx($m,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{b(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx($m,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs(D,{variant:"ghost",size:"sm",onClick:W,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(Wj,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function pS(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},n=[{name:"Github",icon:Bj,href:"#github"},{name:"Twitter",icon:eN,href:"#twitter"},{name:"Instagram",icon:Uj,href:"#instagram"},{name:"Email",icon:Vj,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(i=>o.jsx("li",{children:o.jsx("a",{href:i.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:i.name})},i.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(Rr,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const Me=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:Se("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));Me.displayName="Input";var gS="Label",_x=d.forwardRef((e,t)=>o.jsx(ae.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_x.displayName=gS;var vS=_x;function Rt({className:e,...t}){return o.jsx(vS,{"data-slot":"label",className:Se("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var xS="Separator",Km="horizontal",yS=["horizontal","vertical"],Rx=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Km,...s}=e,i=wS(r)?r:Km,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ae.div,{"data-orientation":i,...l,...s,ref:t})});Rx.displayName=xS;function wS(e){return yS.includes(e)}var bS=Rx;function jS({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(bS,{"data-slot":"separator-root",decorative:n,orientation:t,className:Se("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Px({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,i]=d.useState(null),a=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){i("    .");return}if(u.size>5*1024*1024){i("  5MB  .");return}i(null),t(u)}},l=()=>{t(null),i(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),n&&o.jsx(D,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(vn,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs($e,{className:"h-20 w-20",children:[o.jsx(ze,{src:URL.createObjectURL(e)}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx(D,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(vn,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Me,{type:"file",accept:"image/*",onChange:a,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(tN,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function NS({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,i]=d.useState(!1),[a,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,y]=d.useState(null),[w,x]=d.useState(!1),b=()=>{window.location.href="http://localhost:8080/api/oauth2/login/kakao"},g=()=>{window.location.href="http://localhost:8080/api/oauth2/login/google"},p=async v=>{v.preventDefault(),u(null),f(!0);try{if(r){if(!a.name.trim()){u(" .");return}if(a.name.length<3||a.name.length>50){u(" 3  50  .");return}if(!a.email.trim()){u(" .");return}if(!a.password.trim()){u(" .");return}if(a.password!==a.confirmPassword){u("  .");return}const j=new FormData;j.append("email",a.email),j.append("name",a.name),j.append("password",a.password),m&&j.append("profile",m);const N=await fetch("http://localhost:8080/api/users",{method:"POST",credentials:"include",body:j});if(!N.ok){let C=" .";const E=N.headers.get("content-type");if(E&&E.includes("application/json"))try{const k=await N.text();k&&(C=JSON.parse(k).message||C)}catch(k){console.error("Error parsing error response:",k)}throw new Error(C)}alert(" . ."),t()}else{const j={email:a.email,password:a.password},N=await fetch("http://localhost:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)});if(!N.ok){let E=" .";const k=N.headers.get("content-type");if(k&&k.includes("application/json"))try{const T=await N.text();T&&(E=JSON.parse(T).message||E)}catch(T){console.error("Error parsing error response:",T)}throw new Error(E)}const C=await N.text();if(!C||C.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const E=JSON.parse(C);e(E.accessToken,E.isTempPassword)}catch(E){throw console.error("Error parsing success response:",E),new Error("    .")}}}catch(j){u(j instanceof Error?j.message:"   .")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"name",className:"text-base",children:""}),o.jsx(Me,{id:"name",type:"text",value:a.name,onChange:v=>l({...a,name:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"email",className:"text-base",children:""}),o.jsx(Me,{id:"email",type:"email",value:a.email,onChange:v=>l({...a,email:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(Me,{id:"password",type:s?"text":"password",value:a.password,onChange:v=>l({...a,password:v.target.value}),className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(Fj,{className:"w-5 h-5"}):o.jsx(pi,{className:"w-5 h-5"})})]})]}),r&&o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(Me,{id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:v=>l({...a,confirmPassword:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(Rt,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs($e,{className:"h-16 w-16",children:[o.jsx(ze,{src:m?URL.createObjectURL(m):void 0}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:a.name.charAt(0)||"U"})]}),o.jsxs(D,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(ix,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(Px,{selectedImage:m,onImageSelect:y,onClose:()=>x(!1),userName:a.name})})]}),o.jsx(D,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?" ...":r?"":""})]}),o.jsx(jS,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(D,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:b,disabled:h,children:[" ",r?"":""]}),o.jsxs(D,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:g,disabled:h,children:["Google ",r?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:r?"":""})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:" "})]})]})]})]})}class SS{constructor(){Te(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const a=t.type.toUpperCase();n.append("contentType",a)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(n){throw console.error("   :",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const Qr=new SS;class kS{constructor(){Te(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getWatchRooms(t){var n;try{const r=new URLSearchParams;t!=null&&t.query&&r.append("searchKeyword",t.query),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.limit&&r.append("size",t.limit.toString()),t!=null&&t.offset&&r.append("cursor",((n=t.offset)==null?void 0:n.toString())||"");const s=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,i=await this.authenticatedFetch(s);if(!i.ok)throw new Error(`   . Status: ${i.status}`);const a=await i.json(),l=a.data||a;return Array.isArray(l)?t!=null&&t.sortBy?this.sortWatchRooms(l,t.sortBy):l:(console.error("   :",a),[])}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async joinWatchRoom(t){try{const n=await this.getWatchRoom(t);return{id:n.id,title:n.title,newUserId:"",content:{id:n.contentId||"",title:n.contentTitle,titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:0}}}catch(n){throw console.error("  :",n),n}}async searchWatchRooms(t,n="participantCount"){return this.getWatchRooms({query:t,sortBy:n})}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>s.title.toLowerCase().includes(r)||s.contentTitle.toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r))}}const $l=new kS;class CS{constructor(){Te(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getPlaylistByUser(){try{const t=await this.authenticatedFetch(this.baseUrl);if(!t.ok)throw new Error(`   . Status: ${t.status}`);return await t.json()}catch(t){throw console.error("   :",t),t}}}const ES=new CS;function aa({onPageChange:e,onPlaylistOpen:t,onContentPlay:n}){const[r,s]=d.useState([]),[i,a]=d.useState([]),[l,c]=d.useState([]),[u,h]=d.useState(!0),f=d.useRef(null),m=d.useRef(null),y=d.useRef(null),w=async()=>{try{const N=await $l.getWatchRooms({limit:9});Array.isArray(N)?s(N):(console.error("Live rooms data is not an array:",N),s([]))}catch(N){console.error("Failed to fetch live rooms:",N),s([])}},x=async()=>{try{const N=await Qr.getContents({size:20});a(N.data)}catch(N){console.error("Failed to fetch featured content:",N)}},b=async()=>{try{const N=await ES.getPlaylistByUser();c(N.slice(0,4))}catch(N){console.error("Failed to fetch my playlists:",N),c([])}};d.useEffect(()=>{(async()=>{h(!0),await Promise.all([w(),x(),b()]),h(!1)})()},[]);const g=()=>{e&&e("playlist")},p=N=>{t&&t(N)},v=N=>{N.current&&N.current.scrollBy({left:-288,behavior:"smooth"})},j=N=>{N.current&&N.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs(D,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(qt,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Af,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs(D,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(fr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(D,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(f),children:o.jsx(Yo,{className:"w-6 h-6"})}),o.jsx(D,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>j(f),children:o.jsx(fr,{className:"w-6 h-6"})}),o.jsx("div",{ref:f,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(3).fill(0).map((N,C)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},C)):(Array.isArray(r)?r:[]).slice(0,9).map(N=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",N.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(D,{size:"sm",onClick:C=>{C.stopPropagation(),console.log("Joining room:",N.id)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(xt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:N.contentTitle}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[N.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(es,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[N.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",N.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},N.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(D,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(fr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(D,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(m),children:o.jsx(Yo,{className:"w-6 h-6"})}),o.jsx(D,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>j(m),children:o.jsx(fr,{className:"w-6 h-6"})}),o.jsx("div",{ref:m,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(6).fill(0).map((N,C)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},C)):i.slice(0,20).map(N=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:N.id,title:N.title,thumbnail:N.thumbnailUrl||N.url||"",type:N.contentType==="MOVIE"?"movie":N.contentType==="TV"?"tv":"sports",duration:"120",description:N.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:N.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(D,{size:"sm",onClick:C=>{C.stopPropagation(),n&&n({id:N.id,title:N.title,thumbnail:N.thumbnailUrl||N.url||"",type:N.contentType==="MOVIE"?"movie":N.contentType==="TV"?"tv":"sports",duration:"120",description:N.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(xt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(D,{size:"sm",variant:"outline",onClick:C=>{C.stopPropagation(),console.log("Add to playlist:",N.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(qt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:N.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:N.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:N.releaseDate?new Date(N.releaseDate).getFullYear():"2024"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:"120"}),o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${N.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":N.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:N.contentType==="MOVIE"?"":N.contentType==="TV"?"TV/":""})]})]})]},N.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(es,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(D,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:g,children:["",o.jsx(fr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(D,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(y),children:o.jsx(Yo,{className:"w-6 h-6"})}),o.jsx(D,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>j(y),children:o.jsx(fr,{className:"w-6 h-6"})}),o.jsx("div",{ref:y,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(4).fill(0).map((N,C)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},C)):l.map((N,C)=>{const E=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],k=E[C%E.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>p(N.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${k} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(ul,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:N.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(D,{size:"lg",onClick:T=>{T.stopPropagation(),p(N.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(xt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:N.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:N.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[N.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(es,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Tf,{className:"w-3 h-3"}),o.jsx("span",{children:N.createdAt?new Date(N.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},N.id)})})]})]})]})}const TS=px("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ct({className:e,variant:t,asChild:n=!1,...r}){const s=n?fx:"span";return o.jsx(s,{"data-slot":"badge",className:Se(TS({variant:t}),e),...r})}class _S{constructor(){Te(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const la=new _S,RS=e=>({id:e.id,title:e.title,thumbnail:`/api/placeholder/300/400?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function PS({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,i]=d.useState(""),[a,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{b()},[]),d.useEffect(()=>{if(c.length>0&&!s){const T=c[0];i(T.id),g(T.id)}},[c,s]);const b=async()=>{try{if(!r){console.error(" ID .");return}const A=(await la.getUserKeywords(r)).map(L=>({id:L.keywordId,label:L.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(A)}catch(T){console.error("   :",T),u([])}},g=async T=>{try{x(!0);const L=(await la.getKeywordContents(T)).map(RS),S=c.find(B=>B.id===T),_=L.filter(B=>B.type==="movie"),z=L.filter(B=>B.type==="tv"),W=L.filter(B=>B.type==="sports"),R=[];_.length>0&&R.push({id:`${T}-movie`,title:`${(S==null?void 0:S.label)||""} `,items:_,category:""}),z.length>0&&R.push({id:`${T}-tv`,title:`${(S==null?void 0:S.label)||""} TV `,items:z,category:"TV"}),W.length>0&&R.push({id:`${T}-sports`,title:`${(S==null?void 0:S.label)||""} `,items:W,category:""}),l(R)}catch(A){console.error("  :",A),l([])}finally{x(!1)}},p=T=>{i(T),g(T)},v=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const T=await la.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),A={id:T.keywordId,label:T.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(L=>[...L,A]),y(""),f(!1),alert(" !")}catch(T){console.error("  :",T),alert("  .")}}},j=async T=>{if(window.confirm("  ?"))try{if(await la.deleteKeyword(T),u(A=>A.filter(L=>L.id!==T)),s===T){const A=c.filter(L=>L.id!==T);A.length>0?(i(A[0].id),g(A[0].id)):(i(""),l([]))}alert(" .")}catch(A){console.error("  :",A),alert("  .")}},N=T=>{const A=document.getElementById(T);A&&A.scrollBy({left:-400,behavior:"smooth"})},C=T=>{const A=document.getElementById(T);A&&A.scrollBy({left:400,behavior:"smooth"})},E=T=>T>=1e4?`${Math.floor(T/1e3)}K`:T.toLocaleString(),k=T=>{n==null||n(T),console.log(`Opening playlist modal for: ${T.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Mm,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(T=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx(D,{variant:s===T.id?"default":"outline",size:"sm",onClick:()=>p(T.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===T.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===T.id?T.color:void 0,backgroundColor:s===T.id?T.color:void 0},children:T.label}),o.jsx(D,{size:"sm",variant:"ghost",onClick:A=>{A.stopPropagation(),j(T.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(vn,{className:"w-3 h-3"})})]},T.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Me,{value:m,onChange:T=>y(T.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:T=>T.key==="Enter"&&v(),autoFocus:!0}),o.jsx(D,{size:"sm",onClick:v,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(Ws,{className:"w-4 h-4"})}),o.jsx(D,{size:"sm",variant:"outline",onClick:()=>{f(!1),y("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(vn,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs(D,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(qt,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:a.map(T=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[T.title,o.jsxs(ct,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(ut,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(D,{size:"sm",variant:"outline",onClick:()=>N(`section-${T.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Yo,{className:"w-4 h-4"})}),o.jsx(D,{size:"sm",variant:"outline",onClick:()=>C(`section-${T.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(fr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${T.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:T.items.map((A,L)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[T.id==="trending"&&L<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(ct,{className:`
                              ${L===0?"bg-yellow-500 text-black":""}
                              ${L===1?"bg-gray-300 text-black":""}
                              ${L===2?"bg-amber-600 text-white":""}
                            `,children:["#",L+1]})}),o.jsx("img",{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:S=>{const _=S.target;_.style.display="none";const z=_.parentElement;if(z&&!z.querySelector(".image-fallback")){const W=document.createElement("div");W.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",W.textContent=A.title.charAt(0).toUpperCase(),z.appendChild(W)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs(D,{size:"sm",onClick:()=>e(A),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(xt,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs(D,{size:"sm",variant:"outline",onClick:()=>t(A),className:"border-white/20 hover:bg-white/10",children:[o.jsx(pi,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(D,{size:"sm",variant:"outline",onClick:()=>k(A),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(qt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(Af,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:E(A.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:A.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:A.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:A.rating})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(Rf,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:A.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:A.displayGenres.slice(0,2).map(S=>o.jsx(ct,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:S},S))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:A.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs(D,{size:"sm",onClick:()=>e(A),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(xt,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx(D,{size:"sm",variant:"outline",onClick:()=>t(A),className:"border-white/20 hover:bg-white/10",children:o.jsx(pi,{className:"w-4 h-4"})}),o.jsx(D,{size:"sm",variant:"outline",onClick:()=>k(A),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(qt,{className:"w-4 h-4"})})]})]})]})]},A.id))})]},T.id))}),!w&&a.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Mm,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function dl(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:i,style:a,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:a,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(_f,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:i,className:l,style:a,...c,onError:r})}function AS({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),i={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},a={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${i[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(dl,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${i[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${a[n]} font-medium text-white/80`,children:["+",s]})})]})})}function id({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Se("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Ro=[null];function IS({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[i,a]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,m]=d.useState(!1),[y,w]=d.useState(!1),x=async v=>{v.preventDefault(),r.trim()&&(w(!0),console.log("Creating playlist:",{title:r.trim(),description:i.trim(),isPublic:l,coverImage:Ro[u]}),await new Promise(j=>setTimeout(j,1e3)),n({title:r.trim(),description:i.trim(),isPublic:l,coverImage:Ro[u]}),s(""),a(""),c(!0),h(0),m(!1),w(!1),t())},b=()=>{y||(s(""),a(""),c(!0),h(0),m(!1),t())},g=()=>{const v=Ro[u];return v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(ul,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})}):o.jsx("img",{src:v,alt:" ",className:"w-full h-full object-cover"})},p=(v,j)=>v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(ul,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:v,alt:`  ${j+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:b}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx(D,{variant:"ghost",size:"sm",onClick:b,className:"p-2 hover:bg-white/10",disabled:y,children:o.jsx(vn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Rt,{className:"text-sm mb-3 block",children:" "}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[g(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs(D,{type:"button",variant:"ghost",onClick:()=>m(!f),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(_f,{className:"w-4 h-4 mr-2"}),Ro[u]===null?" ":" "]})})]}),f&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:Ro.map((v,j)=>o.jsxs("button",{type:"button",onClick:()=>{h(j),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===j?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[p(v,j),u===j&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Ws,{className:"w-3 h-3 text-[#4ecdc4]"})})]},j))})]}),o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(Me,{id:"title",value:r,onChange:v=>s(v.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50"]})]}),o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"description",className:"text-sm",children:""}),o.jsx(id,{id:"description",value:i,onChange:v=>a(v.target.value),placeholder:"   ...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[i.length,"/200"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Rt,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(ll,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(Ws,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(cl,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(Ws,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(D,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:b,disabled:y,children:""}),o.jsx(D,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||y,children:y?" ...":" "})]})]})]})]}):null}function Gm({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:i,onUserProfileOpen:a}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,m]=d.useState(!1),[y,w]=d.useState(!0),[x,b]=d.useState(null),g=S=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(S);d.useEffect(()=>{p()},[]),d.useEffect(()=>{const S=setTimeout(()=>{p(l.trim()||void 0)},300);return()=>clearTimeout(S)},[l]);const p=async S=>{try{w(!0),b(null),console.log("   :",{searchKeyword:S});const _=await t(S);console.log("   :",_),h(_)}catch(_){console.error("Error loading playlists:",_),b("   .")}finally{w(!1)}},v=u,j=S=>{console.log(`Starting playlist with ID: ${S}`)},N=()=>{m(!0)},C=S=>{e&&e(S)},E=async S=>{try{await n({name:S.title,description:S.description,isPublic:S.isPublic}),console.log("     "),await p(l.trim()||void 0)}catch(_){console.error("Error creating playlist:",_),b("   .")}},k=S=>!S.subscriptions||!i?!1:S.subscriptions.some(_=>_.userId===i),T=S=>!S.subscriptions||!i?null:S.subscriptions.find(_=>_.userId===i),A=async S=>{if(console.log("    :",{playlistId:S,currentUserId:i}),!r||!s||!i){console.error("    ID :",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:i});return}const _=u.find(W=>W.id===S);if(!_){console.error("   :",S);return}const z=k(_);console.log("  :",{isSubscribed:z,subscriptions:_.subscriptions});try{if(z){const W=T(_);if(!W){console.error("    ");return}console.log("  :",W.id),await s(W.id)}else console.log(" :",S),await r(S);await p()}catch(W){console.error("   :",W)}},L=S=>S.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(ul,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:S.name.charAt(0)})]})}):o.jsx(dl,{src:S.thumbnail,alt:S.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs(D,{onClick:N,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(qt,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Me,{placeholder:" ...",value:l,onChange:S=>c(S.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.filter(S=>S.isPublic).length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]})]}),(console.log(" Playlist  :",{loading:y,error:x,playlistsLength:u.length,filteredLength:v.length}),y?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx(D,{onClick:()=>p(l.trim()||void 0),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):v.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":" "}),!l&&o.jsx(D,{onClick:N,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(S=>{var _;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>C(S.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[L(S),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(D,{size:"lg",onClick:z=>{z.stopPropagation(),j(S.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(xt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:S.isPublic?"":""})}),S.userId&&S.userId!==i&&g(S.userId)&&r&&s&&o.jsx(D,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${k(S)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:z=>{z.stopPropagation(),A(S.id)},children:o.jsx(Rr,{className:`w-4 h-4 ${k(S)?"fill-current":""}`})}),o.jsx(D,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:z=>z.stopPropagation(),children:o.jsx(lx,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:S.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(AS,{items:S.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[S.contentCount||((_=S.playlistContents)==null?void 0:_.length)||0," "]})]}),S.userId&&S.userId!==i&&g(S.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${i?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:z=>{z.stopPropagation(),i?a==null||a(S.userId):alert("  .   .")},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:S.username?S.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:S.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(es,{className:"w-3 h-3"}),o.jsx("span",{children:S.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Tf,{className:"w-3 h-3"}),o.jsx("span",{children:S.createdAt?new Date(S.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},S.id)})}))]}),o.jsx(IS,{isOpen:f,onClose:()=>m(!1),onCreatePlaylist:E})]})}function le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var OS=rg[" useId ".trim().toString()]||(()=>{}),LS=0;function Er(e){const[t,n]=d.useState(OS());return Qe(()=>{n(r=>r??String(LS++))},[e]),e||(t?`radix-${t}`:"")}var DS=rg[" useInsertionEffect ".trim().toString()]||Qe;function is({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=MS({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const m=$S(h)?h(e):h;m!==e&&((f=a.current)==null||f.call(a,m))}else i(h)},[l,e,i,a]);return[c,u]}function MS({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),i=d.useRef(t);return DS(()=>{i.current=t},[t]),d.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function $S(e){return typeof e=="function"}function zS(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FS="DismissableLayer",ad="dismissableLayer.update",BS="dismissableLayer.pointerDownOutside",US="dismissableLayer.focusOutside",Xm,Ax=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Df=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=d.useContext(Ax),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=d.useState({}),w=ve(t,E=>f(E)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(b),p=h?x.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,j=p>=g,N=HS(E=>{const k=E.target,T=[...u.branches].some(A=>A.contains(k));!j||T||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},m),C=KS(E=>{const k=E.target;[...u.branches].some(A=>A.contains(k))||(i==null||i(E),a==null||a(E),E.defaultPrevented||l==null||l())},m);return zS(E=>{p===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Xm=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Ym(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Xm)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Ym())},[h,u]),d.useEffect(()=>{const E=()=>y({});return document.addEventListener(ad,E),()=>document.removeEventListener(ad,E)},[]),o.jsx(ae.div,{...c,ref:w,style:{pointerEvents:v?j?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,C.onFocusCapture),onBlurCapture:le(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,N.onPointerDownCapture)})});Df.displayName=FS;var WS="DismissableLayerBranch",VS=d.forwardRef((e,t)=>{const n=d.useContext(Ax),r=d.useRef(null),s=ve(t,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(ae.div,{...e,ref:s})});VS.displayName=WS;function HS(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Ix(BS,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function KS(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&Ix(US,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ym(){const e=new CustomEvent(ad);document.dispatchEvent(e)}function Ix(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?VN(s,i):s.dispatchEvent(i)}var zc="focusScope.autoFocusOnMount",Fc="focusScope.autoFocusOnUnmount",qm={bubbles:!1,cancelable:!0},GS="FocusScope",Mf=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=d.useState(null),u=vt(s),h=vt(i),f=d.useRef(null),m=ve(t,x=>c(x)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(v){if(y.paused||!l)return;const j=v.target;l.contains(j)?f.current=j:cr(f.current,{select:!0})},b=function(v){if(y.paused||!l)return;const j=v.relatedTarget;j!==null&&(l.contains(j)||cr(f.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const N of v)N.removedNodes.length>0&&cr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const p=new MutationObserver(g);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),p.disconnect()}}},[r,l,y.paused]),d.useEffect(()=>{if(l){Jm.add(y);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(zc,qm);l.addEventListener(zc,u),l.dispatchEvent(g),g.defaultPrevented||(XS(ZS(Ox(l)),{select:!0}),document.activeElement===x&&cr(l))}return()=>{l.removeEventListener(zc,u),setTimeout(()=>{const g=new CustomEvent(Fc,qm);l.addEventListener(Fc,h),l.dispatchEvent(g),g.defaultPrevented||cr(x??document.body,{select:!0}),l.removeEventListener(Fc,h),Jm.remove(y)},0)}}},[l,u,h,y]);const w=d.useCallback(x=>{if(!n&&!r||y.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(b&&g){const p=x.currentTarget,[v,j]=YS(p);v&&j?!x.shiftKey&&g===j?(x.preventDefault(),n&&cr(v,{select:!0})):x.shiftKey&&g===v&&(x.preventDefault(),n&&cr(j,{select:!0})):g===p&&x.preventDefault()}},[n,r,y.paused]);return o.jsx(ae.div,{tabIndex:-1,...a,ref:m,onKeyDown:w})});Mf.displayName=GS;function XS(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(cr(r,{select:t}),document.activeElement!==n)return}function YS(e){const t=Ox(e),n=Qm(t,e),r=Qm(t.reverse(),e);return[n,r]}function Ox(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qm(e,t){for(const n of e)if(!qS(n,{upTo:t}))return n}function qS(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QS(e){return e instanceof HTMLInputElement&&"select"in e}function cr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&QS(e)&&t&&e.select()}}var Jm=JS();function JS(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Zm(e,t),e.unshift(t)},remove(t){var n;e=Zm(e,t),(n=e[0])==null||n.resume()}}}function Zm(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZS(e){return e.filter(t=>t.tagName!=="A")}var e2="Portal",$f=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=d.useState(!1);Qe(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Lj.createPortal(o.jsx(ae.div,{...r,ref:t}),a):null});$f.displayName=e2;function t2(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var or=e=>{const{present:t,children:n}=e,r=n2(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=ve(r.ref,r2(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};or.displayName="Presence";function n2(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),i=d.useRef("none"),a=e?"mounted":"unmounted",[l,c]=t2(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=ca(r.current);i.current=l==="mounted"?u:"none"},[l]),Qe(()=>{const u=r.current,h=s.current;if(h!==e){const m=i.current,y=ca(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Qe(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=y=>{const x=ca(r.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=y=>{y.target===t&&(i.current=ca(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ca(e){return(e==null?void 0:e.animationName)||"none"}function r2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Bc=0;function Lx(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ep()),document.body.insertAdjacentElement("beforeend",e[1]??ep()),Bc++,()=>{Bc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bc--}},[])}function ep(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var En=function(){return En=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},En.apply(this,arguments)};function Dx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function s2(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var La="right-scroll-bar-position",Da="width-before-scroll-bar",o2="with-scroll-bars-hidden",i2="--removed-body-scroll-bar-size";function Uc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function a2(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var l2=typeof window<"u"?d.useLayoutEffect:d.useEffect,tp=new WeakMap;function c2(e,t){var n=a2(null,function(r){return e.forEach(function(s){return Uc(s,r)})});return l2(function(){var r=tp.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||Uc(l,null)}),i.forEach(function(l){s.has(l)||Uc(l,a)})}tp.set(n,e)},[e]),n}function u2(e){return e}function d2(e,t){t===void 0&&(t=u2);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function f2(e){e===void 0&&(e={});var t=d2(null);return t.options=En({async:!0,ssr:!1},e),t}var Mx=function(e){var t=e.sideCar,n=Dx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,En({},n))};Mx.isSideCarExport=!0;function h2(e,t){return e.useMedium(t),Mx}var $x=f2(),Wc=function(){},zl=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:Wc,onWheelCapture:Wc,onTouchMoveCapture:Wc}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,b=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,v=e.gapMode,j=Dx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,C=c2([n,t]),E=En(En({},j),s);return d.createElement(d.Fragment,null,h&&d.createElement(N,{sideCar:$x,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:x,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:v}),a?d.cloneElement(d.Children.only(l),En(En({},E),{ref:C})):d.createElement(p,En({},E,{className:c,ref:C}),l))});zl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zl.classNames={fullWidth:Da,zeroRight:La};var m2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=m2();return t&&e.setAttribute("nonce",t),e}function g2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function v2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var x2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=p2())&&(g2(t,n),v2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},y2=function(){var e=x2();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},zx=function(){var e=y2(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},w2={left:0,top:0,right:0,gap:0},Vc=function(e){return parseInt(e||"",10)||0},b2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Vc(n),Vc(r),Vc(s)]},j2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return w2;var t=b2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},N2=zx(),Vs="data-scroll-locked",S2=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(o2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(La,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Da,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(La," .").concat(La,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Da," .").concat(Da,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vs,`] {
    `).concat(i2,": ").concat(l,`px;
  }
`)},np=function(){var e=parseInt(document.body.getAttribute(Vs)||"0",10);return isFinite(e)?e:0},k2=function(){d.useEffect(function(){return document.body.setAttribute(Vs,(np()+1).toString()),function(){var e=np()-1;e<=0?document.body.removeAttribute(Vs):document.body.setAttribute(Vs,e.toString())}},[])},C2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;k2();var i=d.useMemo(function(){return j2(s)},[s]);return d.createElement(N2,{styles:S2(i,!t,s,n?"":"!important")})},ld=!1;if(typeof window<"u")try{var ua=Object.defineProperty({},"passive",{get:function(){return ld=!0,!0}});window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{ld=!1}var bs=ld?{passive:!1}:!1,E2=function(e){return e.tagName==="TEXTAREA"},Fx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!E2(e)&&n[t]==="visible")},T2=function(e){return Fx(e,"overflowY")},_2=function(e){return Fx(e,"overflowX")},rp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Bx(e,r);if(s){var i=Ux(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},R2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},P2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Bx=function(e,t){return e==="v"?T2(t):_2(t)},Ux=function(e,t){return e==="v"?R2(t):P2(t)},A2=function(e,t){return e==="h"&&t==="rtl"?-1:1},I2=function(e,t,n,r,s){var i=A2(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),u=!1,h=a>0,f=0,m=0;do{if(!l)break;var y=Ux(e,l),w=y[0],x=y[1],b=y[2],g=x-b-i*w;(w||g)&&Bx(e,l)&&(f+=g,m+=w);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},da=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sp=function(e){return[e.deltaX,e.deltaY]},op=function(e){return e&&"current"in e?e.current:e},O2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},L2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},D2=0,js=[];function M2(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(D2++)[0],i=d.useState(zx)[0],a=d.useRef(e);d.useEffect(function(){a.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=s2([e.lockRef.current],(e.shards||[]).map(op),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var g=da(x),p=n.current,v="deltaX"in x?x.deltaX:p[0]-g[0],j="deltaY"in x?x.deltaY:p[1]-g[1],N,C=x.target,E=Math.abs(v)>Math.abs(j)?"h":"v";if("touches"in x&&E==="h"&&C.type==="range")return!1;var k=rp(E,C);if(!k)return!0;if(k?N=E:(N=E==="v"?"h":"v",k=rp(E,C)),!k)return!1;if(!r.current&&"changedTouches"in x&&(v||j)&&(r.current=N),!N)return!0;var T=r.current||N;return I2(T,b,x,T==="h"?v:j)},[]),c=d.useCallback(function(x){var b=x;if(!(!js.length||js[js.length-1]!==i)){var g="deltaY"in b?sp(b):da(b),p=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&O2(N.delta,g)})[0];if(p&&p.should){b.cancelable&&b.preventDefault();return}if(!p){var v=(a.current.shards||[]).map(op).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=v.length>0?l(b,v[0]):!a.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(x,b,g,p){var v={name:x,delta:b,target:g,should:p,shadowParent:$2(g)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(j){return j!==v})},1)},[]),h=d.useCallback(function(x){n.current=da(x),r.current=void 0},[]),f=d.useCallback(function(x){u(x.type,sp(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,da(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return js.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,bs),document.addEventListener("touchmove",c,bs),document.addEventListener("touchstart",h,bs),function(){js=js.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,bs),document.removeEventListener("touchmove",c,bs),document.removeEventListener("touchstart",h,bs)}},[]);var y=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(i,{styles:L2(s)}):null,y?d.createElement(C2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const z2=h2($x,M2);var zf=d.forwardRef(function(e,t){return d.createElement(zl,En({},e,{ref:t,sideCar:z2}))});zf.classNames=zl.classNames;var F2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ns=new WeakMap,fa=new WeakMap,ha={},Hc=0,Wx=function(e){return e&&(e.host||Wx(e.parentNode))},B2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Wx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},U2=function(e,t,n,r){var s=B2(t,Array.isArray(e)?e:[e]);ha[n]||(ha[n]=new WeakMap);var i=ha[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(r),w=y!==null&&y!=="false",x=(Ns.get(m)||0)+1,b=(i.get(m)||0)+1;Ns.set(m,x),i.set(m,b),a.push(m),x===1&&w&&fa.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return h(t),l.clear(),Hc++,function(){a.forEach(function(f){var m=Ns.get(f)-1,y=i.get(f)-1;Ns.set(f,m),i.set(f,y),m||(fa.has(f)||f.removeAttribute(r),fa.delete(f)),y||f.removeAttribute(n)}),Hc--,Hc||(Ns=new WeakMap,Ns=new WeakMap,fa=new WeakMap,ha={})}},Vx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=F2(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),U2(r,s,n,"aria-hidden")):function(){return null}},Fl="Dialog",[Hx,wR]=$n(Fl),[W2,bn]=Hx(Fl),Kx=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=is({prop:r,defaultProp:s??!1,onChange:i,caller:Fl});return o.jsx(W2,{scope:t,triggerRef:l,contentRef:c,contentId:Er(),titleId:Er(),descriptionId:Er(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:a,children:n})};Kx.displayName=Fl;var Gx="DialogTrigger",V2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(Gx,n),i=ve(t,s.triggerRef);return o.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Uf(s.open),...r,ref:i,onClick:le(e.onClick,s.onOpenToggle)})});V2.displayName=Gx;var Ff="DialogPortal",[H2,Xx]=Hx(Ff,{forceMount:void 0}),Yx=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=bn(Ff,t);return o.jsx(H2,{scope:t,forceMount:n,children:d.Children.map(r,a=>o.jsx(or,{present:n||i.open,children:o.jsx($f,{asChild:!0,container:s,children:a})}))})};Yx.displayName=Ff;var fl="DialogOverlay",qx=d.forwardRef((e,t)=>{const n=Xx(fl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=bn(fl,e.__scopeDialog);return i.modal?o.jsx(or,{present:r||i.open,children:o.jsx(G2,{...s,ref:t})}):null});qx.displayName=fl;var K2=Zs("DialogOverlay.RemoveScroll"),G2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(fl,n);return o.jsx(zf,{as:K2,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ae.div,{"data-state":Uf(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),as="DialogContent",Qx=d.forwardRef((e,t)=>{const n=Xx(as,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=bn(as,e.__scopeDialog);return o.jsx(or,{present:r||i.open,children:i.modal?o.jsx(X2,{...s,ref:t}):o.jsx(Y2,{...s,ref:t})})});Qx.displayName=as;var X2=d.forwardRef((e,t)=>{const n=bn(as,e.__scopeDialog),r=d.useRef(null),s=ve(t,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return Vx(i)},[]),o.jsx(Jx,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault())})}),Y2=d.forwardRef((e,t)=>{const n=bn(as,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(Jx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Jx=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=bn(as,n),c=d.useRef(null),u=ve(t,c);return Lx(),o.jsxs(o.Fragment,{children:[o.jsx(Mf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Df,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Uf(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Q2,{titleId:l.titleId}),o.jsx(Z2,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Bf="DialogTitle",Zx=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(Bf,n);return o.jsx(ae.h2,{id:s.titleId,...r,ref:t})});Zx.displayName=Bf;var e0="DialogDescription",q2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(e0,n);return o.jsx(ae.p,{id:s.descriptionId,...r,ref:t})});q2.displayName=e0;var t0="DialogClose",n0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(t0,n);return o.jsx(ae.button,{type:"button",...r,ref:t,onClick:le(e.onClick,()=>s.onOpenChange(!1))})});n0.displayName=t0;function Uf(e){return e?"open":"closed"}var r0="DialogTitleWarning",[bR,s0]=BN(r0,{contentName:as,titleName:Bf,docsSlug:"dialog"}),Q2=({titleId:e})=>{const t=s0(r0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},J2="DialogDescriptionWarning",Z2=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s0(J2).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ek=Kx,tk=Yx,nk=qx,rk=Qx,sk=Zx,ok=n0;function Bl({...e}){return o.jsx(ek,{"data-slot":"dialog",...e})}function ik({...e}){return o.jsx(tk,{"data-slot":"dialog-portal",...e})}function ak({className:e,...t}){return o.jsx(nk,{"data-slot":"dialog-overlay",className:Se("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function Ul({className:e,children:t,...n}){return o.jsxs(ik,{"data-slot":"dialog-portal",children:[o.jsx(ak,{}),o.jsxs(rk,{"data-slot":"dialog-content",className:Se("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(ok,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(vn,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Wl({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Se("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Vl({className:e,...t}){return o.jsx(sk,{"data-slot":"dialog-title",className:Se("text-lg leading-none font-semibold",e),...t})}function lk({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:i}){var de,he;const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!0),[w,x]=d.useState(null),[b,g]=d.useState(!1),[p,v]=d.useState([]),[j,N]=d.useState([]),[C,E]=d.useState(""),[k,T]=d.useState(!1),[A,L]=d.useState(!1),[S,_]=d.useState([]),z=d.useCallback(async()=>{try{y(!0),x(null),console.log("    :",e);const I=await r(e);if(console.log("   :",I),!I){console.error("   "),x("   .");return}l(I),u(I.playlistContents||[]),console.log("    :",{playlist:I,contents:I.playlistContents||[]})}catch(I){console.error("    :",I),x("   .")}finally{y(!1)}},[e,r]),W=d.useCallback(async()=>{try{console.log("   :",{searchQuery:C}),T(!0);const I=await Qr.getContents({size:20,query:C||void 0});console.log("   :",I),v(I.data||[]),console.log("   :",I.data||[])}catch(I){console.error("   :",I)}finally{T(!1)}},[C]);if(d.useEffect(()=>{z()},[z]),d.useEffect(()=>{let I;return b&&(I=setTimeout(()=>{W()},300)),()=>{I&&clearTimeout(I)}},[C,b,W]),m)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(w||!a)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:w||"   "}),o.jsx(D,{onClick:t,variant:"outline",children:""})]})});const R=I=>{console.log(`Removing content ${I} from playlist ${e}`),u(q=>q.filter(ue=>ue.id!==I))},B=I=>{n?n({id:I.id,title:I.title,thumbnail:I.thumbnail,type:I.type,duration:I.duration,description:I.description}):alert(`"${I.title}"  .`)},P=()=>{console.log(`Playing playlist: ${a.name}`),alert(`"${a.name}"   .`)},F=()=>{console.log(`Shuffling playlist: ${a.name}`),alert(`"${a.name}"   .`)},V=()=>{g(!0),W()},Y=I=>{N(q=>q.includes(I)?q.filter(ue=>ue!==I):[...q,I])},ee=async()=>{if(j.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,j),await s(e,j),await z(),g(!1),N([]),E(""),alert(`${j.length}   .`)}catch(I){console.error("  :",I),alert("  .")}},re=()=>{console.log("    :",!A),L(!A),_([])},me=I=>{_(q=>q.includes(I)?q.filter(ue=>ue!==I):[...q,I])},_e=()=>{S.length===c.length?_([]):_(c.map(I=>I.id))},xe=async()=>{if(S.length===0){alert("  .");return}if(confirm(` ${S.length}   ?`))try{await i(e,S),await z(),_([]),L(!1),alert(`${S.length}  .`)}catch(q){console.error("  :",q),alert("  .")}},te=()=>a.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:a.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:""})]})}):o.jsx(dl,{src:a.coverImage,alt:a.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs(D,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(ao,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:te()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(ct,{variant:"secondary",className:"bg-white/10 text-white",children:""}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:a.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:a.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs($e,{className:"h-6 w-6",children:[o.jsx(ze,{src:(de=a.user)==null?void 0:de.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:((he=a.username)==null?void 0:he.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:a.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[c.length," "]}),o.jsx("span",{children:""}),o.jsx("span",{children:a.totalDuration||"0"}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Tf,{className:"w-4 h-4"}),o.jsx("span",{children:a.createdAt?new Date(a.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs(D,{size:"lg",onClick:P,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(xt,{className:"w-6 h-6 mr-2 fill-current"}),""]}),o.jsxs(D,{size:"lg",variant:"outline",onClick:F,className:"border-white/20 hover:bg-white/10",children:[o.jsx(qj,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs(D,{size:"lg",variant:"outline",onClick:re,className:`border-white/20 hover:bg-white/10 ${A?"bg-white/10":""}`,children:[o.jsx(vn,{className:"w-5 h-5 mr-2"}),A?" ":" "]}),A&&o.jsxs(o.Fragment,{children:[o.jsx(D,{size:"lg",variant:"outline",onClick:_e,className:"border-white/20 hover:bg-white/10",children:S.length===c.length?" ":" "}),S.length>0&&o.jsxs(D,{size:"lg",variant:"destructive",onClick:xe,className:"bg-red-600 hover:bg-red-700",children:["  (",S.length,")"]})]}),o.jsx(D,{variant:"ghost",size:"lg",onClick:()=>f(!h),className:`p-3 hover:bg-white/10 ${h?"text-[#4ecdc4]":"text-white/60"}`,children:o.jsx(Rr,{className:`w-6 h-6 ${h?"fill-current":""}`})}),o.jsx(D,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(Yj,{className:"w-6 h-6"})}),o.jsx(D,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(lx,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:""}),o.jsx("div",{className:"col-span-2",children:""}),o.jsx("div",{className:"col-span-2",children:" "}),o.jsx("div",{className:"col-span-1",children:o.jsx(es,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:c.map((I,q)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:A,contentId:I.id}),A)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>me(I.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${S.includes(I.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:S.includes(I.id)&&o.jsx(qt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:q+1}),o.jsx(D,{variant:"ghost",size:"sm",onClick:()=>B(I),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(xt,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(dl,{src:I.thumbnail,alt:I.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:I.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[I.year,"  ",I.type==="movie"?"":I.type==="tv"?"":""]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:I.genre&&Array.isArray(I.genre)?I.genre.slice(0,2).join(", "):I.genre||" "})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(I.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:I.duration})}),o.jsx("div",{className:"col-span-1",children:o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(D,{variant:"ghost",size:"sm",onClick:()=>R(I.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(vn,{className:"w-4 h-4"})})})})]})},I.id))}),c.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),o.jsx(D,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:V,children:" "})]})]})}),o.jsx(Bl,{open:b,onOpenChange:g,children:o.jsxs(Ul,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(Wl,{children:o.jsx(Vl,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Me,{placeholder:" ...",value:C,onChange:I=>E(I.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),j.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[j.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:k?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!p||p.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(p||[]).map(I=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${j.includes(I.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>Y(I.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:I.thumbnail||"/placeholder-content.jpg",alt:I.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:I.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:I.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(ct,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:I.contentType}),I.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:I.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:j.includes(I.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(qt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},I.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx(D,{variant:"outline",onClick:()=>{g(!1),N([]),E("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx(D,{onClick:ee,disabled:j.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:j.length>0?`${j.length} `:""})]})]})})]})}function gi(e,[t,n]){return Math.min(n,Math.max(t,e))}function Wf(e){const t=e+"CollectionProvider",[n,r]=$n(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:b,children:g}=x,p=Vn.useRef(null),v=Vn.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:v,collectionRef:p,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=Zs(l),u=Vn.forwardRef((x,b)=>{const{scope:g,children:p}=x,v=i(l,g),j=ve(b,v.collectionRef);return o.jsx(c,{ref:j,children:p})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=Zs(h),y=Vn.forwardRef((x,b)=>{const{scope:g,children:p,...v}=x,j=Vn.useRef(null),N=ve(b,j),C=i(h,g);return Vn.useEffect(()=>(C.itemMap.set(j,{ref:j,...v}),()=>void C.itemMap.delete(j))),o.jsx(m,{[f]:"",ref:N,children:p})});y.displayName=h;function w(x){const b=i(e+"CollectionConsumer",x);return Vn.useCallback(()=>{const p=b.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((C,E)=>v.indexOf(C.ref.current)-v.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:y},w,r]}var ck=d.createContext(void 0);function Ti(e){const t=d.useContext(ck);return e||t||"ltr"}const uk=["top","right","bottom","left"],Pr=Math.min,Mt=Math.max,hl=Math.round,ma=Math.floor,An=e=>({x:e,y:e}),dk={left:"right",right:"left",bottom:"top",top:"bottom"},fk={start:"end",end:"start"};function cd(e,t,n){return Mt(e,Pr(t,n))}function nr(e,t){return typeof e=="function"?e(t):e}function rr(e){return e.split("-")[0]}function lo(e){return e.split("-")[1]}function Vf(e){return e==="x"?"y":"x"}function Hf(e){return e==="y"?"height":"width"}const hk=new Set(["top","bottom"]);function Tn(e){return hk.has(rr(e))?"y":"x"}function Kf(e){return Vf(Tn(e))}function mk(e,t,n){n===void 0&&(n=!1);const r=lo(e),s=Kf(e),i=Hf(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=ml(a)),[a,ml(a)]}function pk(e){const t=ml(e);return[ud(e),t,ud(t)]}function ud(e){return e.replace(/start|end/g,t=>fk[t])}const ip=["left","right"],ap=["right","left"],gk=["top","bottom"],vk=["bottom","top"];function xk(e,t,n){switch(e){case"top":case"bottom":return n?t?ap:ip:t?ip:ap;case"left":case"right":return t?gk:vk;default:return[]}}function yk(e,t,n,r){const s=lo(e);let i=xk(rr(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(ud)))),i}function ml(e){return e.replace(/left|right|bottom|top/g,t=>dk[t])}function wk(e){return{top:0,right:0,bottom:0,left:0,...e}}function o0(e){return typeof e!="number"?wk(e):{top:e,right:e,bottom:e,left:e}}function pl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function lp(e,t,n){let{reference:r,floating:s}=e;const i=Tn(t),a=Kf(t),l=Hf(a),c=rr(t),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(lo(t)){case"start":y[a]-=m*(n&&u?-1:1);break;case"end":y[a]+=m*(n&&u?-1:1);break}return y}const bk=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=lp(u,r,c),m=r,y={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:g}=l[x],{x:p,y:v,data:j,reset:N}=await g({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:u,platform:a,elements:{reference:e,floating:t}});h=p??h,f=v??f,y={...y,[b]:{...y[b],...j}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:h,y:f}=lp(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function vi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=nr(t,e),w=o0(y),b=l[m?f==="floating"?"reference":"floating":f],g=pl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),p=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},N=pl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(g.top-N.top+w.top)/j.y,bottom:(N.bottom-g.bottom+w.bottom)/j.y,left:(g.left-N.left+w.left)/j.x,right:(N.right-g.right+w.right)/j.x}}const jk=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=nr(e,t)||{};if(u==null)return{};const f=o0(h),m={x:n,y:r},y=Kf(s),w=Hf(y),x=await a.getDimensions(u),b=y==="y",g=b?"top":"left",p=b?"bottom":"right",v=b?"clientHeight":"clientWidth",j=i.reference[w]+i.reference[y]-m[y]-i.floating[w],N=m[y]-i.reference[y],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=C?C[v]:0;(!E||!await(a.isElement==null?void 0:a.isElement(C)))&&(E=l.floating[v]||i.floating[w]);const k=j/2-N/2,T=E/2-x[w]/2-1,A=Pr(f[g],T),L=Pr(f[p],T),S=A,_=E-x[w]-L,z=E/2-x[w]/2+k,W=cd(S,z,_),R=!c.arrow&&lo(s)!=null&&z!==W&&i.reference[w]/2-(z<S?A:L)-x[w]/2<0,B=R?z<S?z-S:z-_:0;return{[y]:m[y]+B,data:{[y]:W,centerOffset:z-W-B,...R&&{alignmentOffset:B}},reset:R}}}),Nk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=nr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=rr(s),p=Tn(l),v=rr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(v||!x?[ml(l)]:pk(l)),C=w!=="none";!m&&C&&N.push(...yk(l,x,w,j));const E=[l,...N],k=await vi(t,b),T=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&T.push(k[g]),f){const z=mk(s,a,j);T.push(k[z[0]],k[z[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(z=>z<=0)){var L,S;const z=(((L=i.flip)==null?void 0:L.index)||0)+1,W=E[z];if(W&&(!(f==="alignment"?p!==Tn(W):!1)||A.every(P=>P.overflows[0]>0&&Tn(P.placement)===p)))return{data:{index:z,overflows:A},reset:{placement:W}};let R=(S=A.filter(B=>B.overflows[0]<=0).sort((B,P)=>B.overflows[1]-P.overflows[1])[0])==null?void 0:S.placement;if(!R)switch(y){case"bestFit":{var _;const B=(_=A.filter(P=>{if(C){const F=Tn(P.placement);return F===p||F==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(F=>F>0).reduce((F,V)=>F+V,0)]).sort((P,F)=>P[1]-F[1])[0])==null?void 0:_[0];B&&(R=B);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function cp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function up(e){return uk.some(t=>e[t]>=0)}const Sk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=nr(e,t);switch(r){case"referenceHidden":{const i=await vi(t,{...s,elementContext:"reference"}),a=cp(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:up(a)}}}case"escaped":{const i=await vi(t,{...s,altBoundary:!0}),a=cp(i,n.floating);return{data:{escapedOffsets:a,escaped:up(a)}}}default:return{}}}}},i0=new Set(["left","top"]);async function kk(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=rr(n),l=lo(n),c=Tn(n)==="y",u=i0.has(a)?-1:1,h=i&&c?-1:1,f=nr(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:m*u}:{x:m*u,y:y*h}}const Ck=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await kk(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},Ek=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:g,y:p}=b;return{x:g,y:p}}},...c}=nr(e,t),u={x:n,y:r},h=await vi(t,c),f=Tn(rr(s)),m=Vf(f);let y=u[m],w=u[f];if(i){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",p=y+h[b],v=y-h[g];y=cd(p,y,v)}if(a){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",p=w+h[b],v=w-h[g];w=cd(p,w,v)}const x=l.fn({...t,[m]:y,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:a}}}}}},Tk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=nr(e,t),h={x:n,y:r},f=Tn(s),m=Vf(f);let y=h[m],w=h[f];const x=nr(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",j=i.reference[m]-i.floating[v]+b.mainAxis,N=i.reference[m]+i.reference[v]-b.mainAxis;y<j?y=j:y>N&&(y=N)}if(u){var g,p;const v=m==="y"?"width":"height",j=i0.has(rr(s)),N=i.reference[f]-i.floating[v]+(j&&((g=a.offset)==null?void 0:g[f])||0)+(j?0:b.crossAxis),C=i.reference[f]+i.reference[v]+(j?0:((p=a.offset)==null?void 0:p[f])||0)-(j?b.crossAxis:0);w<N?w=N:w>C&&(w=C)}return{[m]:y,[f]:w}}}},_k=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=nr(e,t),h=await vi(t,u),f=rr(s),m=lo(s),y=Tn(s)==="y",{width:w,height:x}=i.floating;let b,g;f==="top"||f==="bottom"?(b=f,g=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,b=m==="end"?"top":"bottom");const p=x-h.top-h.bottom,v=w-h.left-h.right,j=Pr(x-h[b],p),N=Pr(w-h[g],v),C=!t.middlewareData.shift;let E=j,k=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=p),C&&!m){const A=Mt(h.left,0),L=Mt(h.right,0),S=Mt(h.top,0),_=Mt(h.bottom,0);y?k=w-2*(A!==0||L!==0?A+L:Mt(h.left,h.right)):E=x-2*(S!==0||_!==0?S+_:Mt(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:E});const T=await a.getDimensions(l.floating);return w!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function Hl(){return typeof window<"u"}function co(e){return a0(e)?(e.nodeName||"").toLowerCase():"#document"}function Ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zn(e){var t;return(t=(a0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function a0(e){return Hl()?e instanceof Node||e instanceof Ft(e).Node:!1}function xn(e){return Hl()?e instanceof Element||e instanceof Ft(e).Element:!1}function Ln(e){return Hl()?e instanceof HTMLElement||e instanceof Ft(e).HTMLElement:!1}function dp(e){return!Hl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ft(e).ShadowRoot}const Rk=new Set(["inline","contents"]);function _i(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=yn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Rk.has(s)}const Pk=new Set(["table","td","th"]);function Ak(e){return Pk.has(co(e))}const Ik=[":popover-open",":modal"];function Kl(e){return Ik.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ok=["transform","translate","scale","rotate","perspective"],Lk=["transform","translate","scale","rotate","perspective","filter"],Dk=["paint","layout","strict","content"];function Gf(e){const t=Xf(),n=xn(e)?yn(e):e;return Ok.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Lk.some(r=>(n.willChange||"").includes(r))||Dk.some(r=>(n.contain||"").includes(r))}function Mk(e){let t=Ar(e);for(;Ln(t)&&!to(t);){if(Gf(t))return t;if(Kl(t))return null;t=Ar(t)}return null}function Xf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $k=new Set(["html","body","#document"]);function to(e){return $k.has(co(e))}function yn(e){return Ft(e).getComputedStyle(e)}function Gl(e){return xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ar(e){if(co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dp(e)&&e.host||zn(e);return dp(t)?t.host:t}function l0(e){const t=Ar(e);return to(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&_i(t)?t:l0(t)}function xi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=l0(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Ft(s);if(i){const l=dd(a);return t.concat(a,a.visualViewport||[],_i(s)?s:[],l&&n?xi(l):[])}return t.concat(s,xi(s,[],n))}function dd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function c0(e){const t=yn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ln(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=hl(n)!==i||hl(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Yf(e){return xn(e)?e:e.contextElement}function Hs(e){const t=Yf(e);if(!Ln(t))return An(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=c0(t);let a=(i?hl(n.width):n.width)/r,l=(i?hl(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const zk=An(0);function u0(e){const t=Ft(e);return!Xf()||!t.visualViewport?zk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ft(e)?!1:t}function ls(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Yf(e);let a=An(1);t&&(r?xn(r)&&(a=Hs(r)):a=Hs(e));const l=Fk(i,n,r)?u0(i):An(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=Ft(i),y=r&&xn(r)?Ft(r):r;let w=m,x=dd(w);for(;x&&r&&y!==w;){const b=Hs(x),g=x.getBoundingClientRect(),p=yn(x),v=g.left+(x.clientLeft+parseFloat(p.paddingLeft))*b.x,j=g.top+(x.clientTop+parseFloat(p.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,f*=b.y,c+=v,u+=j,w=Ft(x),x=dd(w)}}return pl({width:h,height:f,x:c,y:u})}function qf(e,t){const n=Gl(e).scrollLeft;return t?t.left+n:ls(zn(e)).left+n}function d0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:qf(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function Bk(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=zn(r),l=t?Kl(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=An(1);const h=An(0),f=Ln(r);if((f||!f&&!i)&&((co(r)!=="body"||_i(a))&&(c=Gl(r)),Ln(r))){const y=ls(r);u=Hs(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=a&&!f&&!i?d0(a,c,!0):An(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function Uk(e){return Array.from(e.getClientRects())}function Wk(e){const t=zn(e),n=Gl(e),r=e.ownerDocument.body,s=Mt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Mt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+qf(e);const l=-n.scrollTop;return yn(r).direction==="rtl"&&(a+=Mt(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function Vk(e,t){const n=Ft(e),r=zn(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Xf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const Hk=new Set(["absolute","fixed"]);function Kk(e,t){const n=ls(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ln(e)?Hs(e):An(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function fp(e,t,n){let r;if(t==="viewport")r=Vk(e,n);else if(t==="document")r=Wk(zn(e));else if(xn(t))r=Kk(t,n);else{const s=u0(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pl(r)}function f0(e,t){const n=Ar(e);return n===t||!xn(n)||to(n)?!1:yn(n).position==="fixed"||f0(n,t)}function Gk(e,t){const n=t.get(e);if(n)return n;let r=xi(e,[],!1).filter(l=>xn(l)&&co(l)!=="body"),s=null;const i=yn(e).position==="fixed";let a=i?Ar(e):e;for(;xn(a)&&!to(a);){const l=yn(a),c=Gf(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Hk.has(s.position)||_i(a)&&!c&&f0(e,a))?r=r.filter(h=>h!==a):s=l,a=Ar(a)}return t.set(e,r),r}function Xk(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Kl(t)?[]:Gk(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const f=fp(t,h,s);return u.top=Mt(f.top,u.top),u.right=Pr(f.right,u.right),u.bottom=Pr(f.bottom,u.bottom),u.left=Mt(f.left,u.left),u},fp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Yk(e){const{width:t,height:n}=c0(e);return{width:t,height:n}}function qk(e,t,n){const r=Ln(t),s=zn(t),i=n==="fixed",a=ls(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=An(0);function u(){c.x=qf(s)}if(r||!r&&!i)if((co(t)!=="body"||_i(s))&&(l=Gl(t)),r){const y=ls(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?d0(s,l):An(0),f=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Kc(e){return yn(e).position==="static"}function hp(e,t){if(!Ln(e)||yn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return zn(e)===n&&(n=n.ownerDocument.body),n}function h0(e,t){const n=Ft(e);if(Kl(e))return n;if(!Ln(e)){let s=Ar(e);for(;s&&!to(s);){if(xn(s)&&!Kc(s))return s;s=Ar(s)}return n}let r=hp(e,t);for(;r&&Ak(r)&&Kc(r);)r=hp(r,t);return r&&to(r)&&Kc(r)&&!Gf(r)?n:r||Mk(e)||n}const Qk=async function(e){const t=this.getOffsetParent||h0,n=this.getDimensions,r=await n(e.floating);return{reference:qk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jk(e){return yn(e).direction==="rtl"}const Zk={convertOffsetParentRelativeRectToViewportRelativeRect:Bk,getDocumentElement:zn,getClippingRect:Xk,getOffsetParent:h0,getElementRects:Qk,getClientRects:Uk,getDimensions:Yk,getScale:Hs,isElement:xn,isRTL:Jk};function m0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eC(e,t){let n=null,r;const s=zn(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=u;if(l||t(),!m||!y)return;const w=ma(f),x=ma(s.clientWidth-(h+m)),b=ma(s.clientHeight-(f+y)),g=ma(h),v={rootMargin:-w+"px "+-x+"px "+-b+"px "+-g+"px",threshold:Mt(0,Pr(1,c))||1};let j=!0;function N(C){const E=C[0].intersectionRatio;if(E!==c){if(!j)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!m0(u,e.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(N,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,v)}n.observe(e)}return a(!0),i}function tC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Yf(e),h=s||i?[...u?xi(u):[],...xi(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const f=u&&l?eC(u,n):null;let m=-1,y=null;a&&(y=new ResizeObserver(g=>{let[p]=g;p&&p.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let w,x=c?ls(e):null;c&&b();function b(){const g=ls(e);x&&!m0(x,g)&&n(),x=g,w=requestAnimationFrame(b)}return n(),()=>{var g;h.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(g=y)==null||g.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const nC=Ck,rC=Ek,sC=Nk,oC=_k,iC=Sk,mp=jk,aC=Tk,lC=(e,t,n)=>{const r=new Map,s={platform:Zk,...n},i={...s.platform,_c:r};return bk(e,t,{...s,platform:i})};var cC=typeof document<"u",uC=function(){},Ma=cC?d.useLayoutEffect:uC;function gl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!gl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function p0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pp(e,t){const n=p0(e);return Math.round(t*n)/n}function Gc(e){const t=d.useRef(e);return Ma(()=>{t.current=e}),t}function dC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=d.useState(r);gl(m,r)||y(r);const[w,x]=d.useState(null),[b,g]=d.useState(null),p=d.useCallback(P=>{P!==C.current&&(C.current=P,x(P))},[]),v=d.useCallback(P=>{P!==E.current&&(E.current=P,g(P))},[]),j=i||w,N=a||b,C=d.useRef(null),E=d.useRef(null),k=d.useRef(h),T=c!=null,A=Gc(c),L=Gc(s),S=Gc(u),_=d.useCallback(()=>{if(!C.current||!E.current)return;const P={placement:t,strategy:n,middleware:m};L.current&&(P.platform=L.current),lC(C.current,E.current,P).then(F=>{const V={...F,isPositioned:S.current!==!1};z.current&&!gl(k.current,V)&&(k.current=V,io.flushSync(()=>{f(V)}))})},[m,t,n,L,S]);Ma(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const z=d.useRef(!1);Ma(()=>(z.current=!0,()=>{z.current=!1}),[]),Ma(()=>{if(j&&(C.current=j),N&&(E.current=N),j&&N){if(A.current)return A.current(j,N,_);_()}},[j,N,_,A,T]);const W=d.useMemo(()=>({reference:C,floating:E,setReference:p,setFloating:v}),[p,v]),R=d.useMemo(()=>({reference:j,floating:N}),[j,N]),B=d.useMemo(()=>{const P={position:n,left:0,top:0};if(!R.floating)return P;const F=pp(R.floating,h.x),V=pp(R.floating,h.y);return l?{...P,transform:"translate("+F+"px, "+V+"px)",...p0(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:V}},[n,l,R.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:_,refs:W,elements:R,floatingStyles:B}),[h,_,W,R,B])}const fC=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mp({element:r.current,padding:s}).fn(n):{}:r?mp({element:r,padding:s}).fn(n):{}}}},hC=(e,t)=>({...nC(e),options:[e,t]}),mC=(e,t)=>({...rC(e),options:[e,t]}),pC=(e,t)=>({...aC(e),options:[e,t]}),gC=(e,t)=>({...sC(e),options:[e,t]}),vC=(e,t)=>({...oC(e),options:[e,t]}),xC=(e,t)=>({...iC(e),options:[e,t]}),yC=(e,t)=>({...fC(e),options:[e,t]});var wC="Arrow",g0=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(ae.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});g0.displayName=wC;var bC=g0;function Qf(e){const[t,n]=d.useState(void 0);return Qe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Jf="Popper",[v0,x0]=$n(Jf),[jC,y0]=v0(Jf),w0=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(jC,{scope:t,anchor:r,onAnchorChange:s,children:n})};w0.displayName=Jf;var b0="PopperAnchor",j0=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=y0(b0,n),a=d.useRef(null),l=ve(t,a);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(ae.div,{...s,ref:l})});j0.displayName=b0;var Zf="PopperContent",[NC,SC]=v0(Zf),N0=d.forwardRef((e,t)=>{var te,de,he,I,q,ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,b=y0(Zf,n),[g,p]=d.useState(null),v=ve(t,Le=>p(Le)),[j,N]=d.useState(null),C=Qf(j),E=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,T=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},L=Array.isArray(u)?u:[u],S=L.length>0,_={padding:A,boundary:L.filter(CC),altBoundary:S},{refs:z,floatingStyles:W,placement:R,isPositioned:B,middlewareData:P}=dC({strategy:"fixed",placement:T,whileElementsMounted:(...Le)=>tC(...Le,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[hC({mainAxis:s+k,alignmentAxis:a}),c&&mC({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?pC():void 0,..._}),c&&gC({..._}),vC({..._,apply:({elements:Le,rects:Ve,availableWidth:ot,availableHeight:M})=>{const{width:O,height:G}=Ve.reference,H=Le.floating.style;H.setProperty("--radix-popper-available-width",`${ot}px`),H.setProperty("--radix-popper-available-height",`${M}px`),H.setProperty("--radix-popper-anchor-width",`${O}px`),H.setProperty("--radix-popper-anchor-height",`${G}px`)}}),j&&yC({element:j,padding:l}),EC({arrowWidth:E,arrowHeight:k}),m&&xC({strategy:"referenceHidden",..._})]}),[F,V]=C0(R),Y=vt(w);Qe(()=>{B&&(Y==null||Y())},[B,Y]);const ee=(te=P.arrow)==null?void 0:te.x,re=(de=P.arrow)==null?void 0:de.y,me=((he=P.arrow)==null?void 0:he.centerOffset)!==0,[_e,xe]=d.useState();return Qe(()=>{g&&xe(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:B?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(I=P.transformOrigin)==null?void 0:I.x,(q=P.transformOrigin)==null?void 0:q.y].join(" "),...((ue=P.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(NC,{scope:n,placedSide:F,onArrowChange:N,arrowX:ee,arrowY:re,shouldHideArrow:me,children:o.jsx(ae.div,{"data-side":F,"data-align":V,...x,ref:v,style:{...x.style,animation:B?void 0:"none"}})})})});N0.displayName=Zf;var S0="PopperArrow",kC={top:"bottom",right:"left",bottom:"top",left:"right"},k0=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=SC(S0,r),a=kC[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(bC,{...s,ref:n,style:{...s.style,display:"block"}})})});k0.displayName=S0;function CC(e){return e!==null}var EC=e=>({name:"transformOrigin",options:e,fn(t){var b,g,p;const{placement:n,rects:r,middlewareData:s}=t,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,h]=C0(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,y=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=a?f:`${m}px`,x=`${-c}px`):u==="top"?(w=a?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=a?f:`${y}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=a?f:`${y}px`),{data:{x:w,y:x}}}});function C0(e){const[t,n="center"]=e.split("-");return[t,n]}var TC=w0,_C=j0,RC=N0,PC=k0;function eh(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var E0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AC="VisuallyHidden",IC=d.forwardRef((e,t)=>o.jsx(ae.span,{...e,ref:t,style:{...E0,...e.style}}));IC.displayName=AC;var OC=[" ","Enter","ArrowUp","ArrowDown"],LC=[" ","Enter"],cs="Select",[Xl,Yl,DC]=Wf(cs),[uo,jR]=$n(cs,[DC,x0]),ql=x0(),[MC,Mr]=uo(cs),[$C,zC]=uo(cs),T0=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:y,form:w}=e,x=ql(t),[b,g]=d.useState(null),[p,v]=d.useState(null),[j,N]=d.useState(!1),C=Ti(u),[E,k]=is({prop:r,defaultProp:s??!1,onChange:i,caller:cs}),[T,A]=is({prop:a,defaultProp:l,onChange:c,caller:cs}),L=d.useRef(null),S=b?w||!!b.closest("form"):!0,[_,z]=d.useState(new Set),W=Array.from(_).map(R=>R.props.value).join(";");return o.jsx(TC,{...x,children:o.jsxs(MC,{required:y,scope:t,trigger:b,onTriggerChange:g,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Er(),value:T,onValueChange:A,open:E,onOpenChange:k,dir:C,triggerPointerDownPosRef:L,disabled:m,children:[o.jsx(Xl.Provider,{scope:t,children:o.jsx($C,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(R=>{z(B=>new Set(B).add(R))},[]),onNativeOptionRemove:d.useCallback(R=>{z(B=>{const P=new Set(B);return P.delete(R),P})},[]),children:n})}),S?o.jsxs(q0,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:T,onChange:R=>A(R.target.value),disabled:m,form:w,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(_)]},W):null]})})};T0.displayName=cs;var _0="SelectTrigger",R0=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=ql(n),a=Mr(_0,n),l=a.disabled||r,c=ve(t,a.onTriggerChange),u=Yl(n),h=d.useRef("touch"),[f,m,y]=J0(x=>{const b=u().filter(v=>!v.disabled),g=b.find(v=>v.value===a.value),p=Z0(b,x,g);p!==void 0&&a.onValueChange(p.value)}),w=x=>{l||(a.onOpenChange(!0),y()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(_C,{asChild:!0,...i,children:o.jsx(ae.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Q0(a.value)?"":void 0,...s,ref:c,onClick:le(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:le(s.onPointerDown,x=>{h.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:le(s.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&OC.includes(x.key)&&(w(),x.preventDefault())})})})});R0.displayName=_0;var P0="SelectValue",A0=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=Mr(P0,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=ve(t,c.onValueNodeChange);return Qe(()=>{u(h)},[u,h]),o.jsx(ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:Q0(c.value)?o.jsx(o.Fragment,{children:a}):i})});A0.displayName=P0;var FC="SelectIcon",I0=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});I0.displayName=FC;var BC="SelectPortal",O0=e=>o.jsx($f,{asChild:!0,...e});O0.displayName=BC;var us="SelectContent",L0=d.forwardRef((e,t)=>{const n=Mr(us,e.__scopeSelect),[r,s]=d.useState();if(Qe(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?io.createPortal(o.jsx(D0,{scope:e.__scopeSelect,children:o.jsx(Xl.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(M0,{...e,ref:t})});L0.displayName=us;var cn=10,[D0,$r]=uo(us),UC="SelectContentImpl",WC=Zs("SelectContent.RemoveScroll"),M0=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:b,...g}=e,p=Mr(us,n),[v,j]=d.useState(null),[N,C]=d.useState(null),E=ve(t,te=>j(te)),[k,T]=d.useState(null),[A,L]=d.useState(null),S=Yl(n),[_,z]=d.useState(!1),W=d.useRef(!1);d.useEffect(()=>{if(v)return Vx(v)},[v]),Lx();const R=d.useCallback(te=>{const[de,...he]=S().map(ue=>ue.ref.current),[I]=he.slice(-1),q=document.activeElement;for(const ue of te)if(ue===q||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===de&&N&&(N.scrollTop=0),ue===I&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==q))return},[S,N]),B=d.useCallback(()=>R([k,v]),[R,k,v]);d.useEffect(()=>{_&&B()},[_,B]);const{onOpenChange:P,triggerPointerDownPosRef:F}=p;d.useEffect(()=>{if(v){let te={x:0,y:0};const de=I=>{var q,ue;te={x:Math.abs(Math.round(I.pageX)-(((q=F.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(I.pageY)-(((ue=F.current)==null?void 0:ue.y)??0))}},he=I=>{te.x<=10&&te.y<=10?I.preventDefault():v.contains(I.target)||P(!1),document.removeEventListener("pointermove",de),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",he,{capture:!0})}}},[v,P,F]),d.useEffect(()=>{const te=()=>P(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[P]);const[V,Y]=J0(te=>{const de=S().filter(q=>!q.disabled),he=de.find(q=>q.ref.current===document.activeElement),I=Z0(de,te,he);I&&setTimeout(()=>I.ref.current.focus())}),ee=d.useCallback((te,de,he)=>{const I=!W.current&&!he;(p.value!==void 0&&p.value===de||I)&&(T(te),I&&(W.current=!0))},[p.value]),re=d.useCallback(()=>v==null?void 0:v.focus(),[v]),me=d.useCallback((te,de,he)=>{const I=!W.current&&!he;(p.value!==void 0&&p.value===de||I)&&L(te)},[p.value]),_e=r==="popper"?fd:$0,xe=_e===fd?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return o.jsx(D0,{scope:n,content:v,viewport:N,onViewportChange:C,itemRefCallback:ee,selectedItem:k,onItemLeave:re,itemTextRefCallback:me,focusSelectedItem:B,selectedItemText:A,position:r,isPositioned:_,searchRef:V,children:o.jsx(zf,{as:WC,allowPinchZoom:!0,children:o.jsx(Mf,{asChild:!0,trapped:p.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:le(s,te=>{var de;(de=p.trigger)==null||de.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(Df,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:o.jsx(_e,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:te=>te.preventDefault(),...g,...xe,onPlaced:()=>z(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:le(g.onKeyDown,te=>{const de=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!de&&te.key.length===1&&Y(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let I=S().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(te.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const q=te.target,ue=I.indexOf(q);I=I.slice(ue+1)}setTimeout(()=>R(I)),te.preventDefault()}})})})})})})});M0.displayName=UC;var VC="SelectItemAlignedPosition",$0=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Mr(us,n),a=$r(us,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=ve(t,E=>h(E)),m=Yl(n),y=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:g,focusSelectedItem:p}=a,v=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&b&&g){const E=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(i.dir!=="rtl"){const q=A.left-k.left,ue=T.left-q,Le=E.left-ue,Ve=E.width+Le,ot=Math.max(Ve,k.width),M=window.innerWidth-cn,O=gi(ue,[cn,Math.max(cn,M-ot)]);l.style.minWidth=Ve+"px",l.style.left=O+"px"}else{const q=k.right-A.right,ue=window.innerWidth-T.right-q,Le=window.innerWidth-E.right-ue,Ve=E.width+Le,ot=Math.max(Ve,k.width),M=window.innerWidth-cn,O=gi(ue,[cn,Math.max(cn,M-ot)]);l.style.minWidth=Ve+"px",l.style.right=O+"px"}const L=m(),S=window.innerHeight-cn*2,_=x.scrollHeight,z=window.getComputedStyle(u),W=parseInt(z.borderTopWidth,10),R=parseInt(z.paddingTop,10),B=parseInt(z.borderBottomWidth,10),P=parseInt(z.paddingBottom,10),F=W+R+_+P+B,V=Math.min(b.offsetHeight*5,F),Y=window.getComputedStyle(x),ee=parseInt(Y.paddingTop,10),re=parseInt(Y.paddingBottom,10),me=E.top+E.height/2-cn,_e=S-me,xe=b.offsetHeight/2,te=b.offsetTop+xe,de=W+R+te,he=F-de;if(de<=me){const q=L.length>0&&b===L[L.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-x.offsetTop-x.offsetHeight,Le=Math.max(_e,xe+(q?re:0)+ue+B),Ve=de+Le;l.style.height=Ve+"px"}else{const q=L.length>0&&b===L[0].ref.current;l.style.top="0px";const Le=Math.max(me,W+x.offsetTop+(q?ee:0)+xe)+he;l.style.height=Le+"px",x.scrollTop=de-me+x.offsetTop}l.style.margin=`${cn}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=S+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,b,g,i.dir,r]);Qe(()=>v(),[v]);const[j,N]=d.useState();Qe(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=d.useCallback(E=>{E&&w.current===!0&&(v(),p==null||p(),w.current=!1)},[v,p]);return o.jsx(KC,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(ae.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$0.displayName=VC;var HC="SelectPopperPosition",fd=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=cn,...i}=e,a=ql(n);return o.jsx(RC,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fd.displayName=HC;var[KC,th]=uo(us,{}),hd="SelectViewport",z0=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=$r(hd,n),a=th(hd,n),l=ve(t,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Xl.Slot,{scope:n,children:o.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:le(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const w=window.innerHeight-cn*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),g=Math.max(x,b);if(g<w){const p=g+y,v=Math.min(w,p),j=p-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});z0.displayName=hd;var F0="SelectGroup",[GC,XC]=uo(F0),YC=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Er();return o.jsx(GC,{scope:n,id:s,children:o.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:t})})});YC.displayName=F0;var B0="SelectLabel",qC=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=XC(B0,n);return o.jsx(ae.div,{id:s.id,...r,ref:t})});qC.displayName=B0;var vl="SelectItem",[QC,U0]=uo(vl),W0=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=Mr(vl,n),c=$r(vl,n),u=l.value===r,[h,f]=d.useState(i??""),[m,y]=d.useState(!1),w=ve(t,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,r,s)}),x=Er(),b=d.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(QC,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(p=>{f(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:o.jsx(Xl.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(ae.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:le(a.onFocus,()=>y(!0)),onBlur:le(a.onBlur,()=>y(!1)),onClick:le(a.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:le(a.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:le(a.onPointerDown,p=>{b.current=p.pointerType}),onPointerMove:le(a.onPointerMove,p=>{var v;b.current=p.pointerType,s?(v=c.onItemLeave)==null||v.call(c):b.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(a.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:le(a.onKeyDown,p=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&p.key===" "||(LC.includes(p.key)&&g(),p.key===" "&&p.preventDefault())})})})})});W0.displayName=vl;var Mo="SelectItemText",V0=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=Mr(Mo,n),l=$r(Mo,n),c=U0(Mo,n),u=zC(Mo,n),[h,f]=d.useState(null),m=ve(t,g=>f(g),c.onItemTextChange,g=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,g,c.value,c.disabled)}),y=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return Qe(()=>(x(w),()=>b(w)),[x,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(ae.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?io.createPortal(i.children,a.valueNode):null]})});V0.displayName=Mo;var H0="SelectItemIndicator",K0=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return U0(H0,n).isSelected?o.jsx(ae.span,{"aria-hidden":!0,...r,ref:t}):null});K0.displayName=H0;var md="SelectScrollUpButton",G0=d.forwardRef((e,t)=>{const n=$r(md,e.__scopeSelect),r=th(md,e.__scopeSelect),[s,i]=d.useState(!1),a=ve(t,r.onScrollButtonChange);return Qe(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Y0,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});G0.displayName=md;var pd="SelectScrollDownButton",X0=d.forwardRef((e,t)=>{const n=$r(pd,e.__scopeSelect),r=th(pd,e.__scopeSelect),[s,i]=d.useState(!1),a=ve(t,r.onScrollButtonChange);return Qe(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Y0,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});X0.displayName=pd;var Y0=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=$r("SelectScrollButton",n),a=d.useRef(null),l=Yl(n),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Qe(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:le(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:le(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:le(s.onPointerLeave,()=>{c()})})}),JC="SelectSeparator",ZC=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ae.div,{"aria-hidden":!0,...r,ref:t})});ZC.displayName=JC;var gd="SelectArrow",eE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ql(n),i=Mr(gd,n),a=$r(gd,n);return i.open&&a.position==="popper"?o.jsx(PC,{...s,...r,ref:t}):null});eE.displayName=gd;var tE="SelectBubbleInput",q0=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),i=ve(r,s),a=eh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ae.select,{...n,style:{...E0,...n.style},ref:i,defaultValue:t})});q0.displayName=tE;function Q0(e){return e===""||e===void 0}function J0(e){const t=vt(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Z0(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=nE(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function nE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var rE=T0,sE=R0,oE=A0,iE=I0,aE=O0,lE=L0,cE=z0,uE=W0,dE=V0,fE=K0,hE=G0,mE=X0;function nh({...e}){return o.jsx(rE,{"data-slot":"select",...e})}function rh({...e}){return o.jsx(oE,{"data-slot":"select-value",...e})}function sh({className:e,size:t="default",children:n,...r}){return o.jsxs(sE,{"data-slot":"select-trigger","data-size":t,className:Se("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(iE,{asChild:!0,children:o.jsx(ax,{className:"size-4 opacity-50"})})]})}function oh({className:e,children:t,position:n="popper",...r}){return o.jsx(aE,{children:o.jsxs(lE,{"data-slot":"select-content",className:Se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(pE,{}),o.jsx(cE,{className:Se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(gE,{})]})})}function _n({className:e,children:t,...n}){return o.jsxs(uE,{"data-slot":"select-item",className:Se("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(fE,{children:o.jsx(Ws,{className:"size-4"})})}),o.jsx(dE,{children:t})]})}function pE({className:e,...t}){return o.jsx(hE,{"data-slot":"select-scroll-up-button",className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(zj,{className:"size-4"})})}function gE({className:e,...t}){return o.jsx(mE,{"data-slot":"select-scroll-down-button",className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ax,{className:"size-4"})})}const vE=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function Xc({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,i]=d.useState(""),[a,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,y]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(),[p,v]=d.useState(!1),j=vE(e),N=S=>{switch(S){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},C=async(S=!1)=>{try{S?v(!0):f(!0),y(null);const _=await Qr.getContents({type:N(e),query:s||void 0,sortBy:a==="latest"||a==="rating"?"RELEASE_AT":a==="title"?"TITLE":"RELEASE_AT",direction:a==="title"?"ASC":"DESC",cursor:S?b:void 0,size:20});u(S?z=>[...z,..._.data]:_.data),x(_.hasNext),g(_.nextCursor)}catch(_){console.error("  :",_),y(_ instanceof Error?_.message:"    .")}finally{f(!1),v(!1)}};d.useEffect(()=>{C(!1)},[e]),d.useEffect(()=>{const S=setTimeout(()=>{C(!1)},300);return()=>clearTimeout(S)},[s,a]);const E=()=>{w&&!h&&!p&&C(!0)},k=S=>({id:S.id,title:S.title,thumbnail:S.thumbnail||"",type:S.contentType.toLowerCase(),duration:S.duration||"120",description:S.description||"",rating:S.rating,reviewCount:S.reviewCount,year:S.year||new Date(S.releaseDate).getFullYear()}),T=S=>{r==null||r(k(S))},A=S=>{t(k(S))},L=S=>{n==null||n(k(S))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:j}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(hs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Me,{placeholder:`${j} ...`,value:s,onChange:S=>i(S.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(nh,{value:a,onValueChange:l,children:[o.jsx(sh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(rh,{placeholder:""})}),o.jsxs(oh,{children:[o.jsx(_n,{value:"latest",children:""}),o.jsx(_n,{value:"rating",children:"  "}),o.jsx(_n,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?" ...":`${c.length} `}),o.jsx(ct,{variant:"outline",className:Qr.getTypeColor(N(e)),children:j})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(D,{onClick:()=>C(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Xt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(S=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>L(S),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:S.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(D,{size:"sm",onClick:_=>{_.stopPropagation(),A(S)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(xt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(D,{size:"sm",variant:"outline",onClick:_=>{_.stopPropagation(),T(S)},className:"border-white/20 hover:bg-white/10",children:o.jsx(qt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:S.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:S.rating}),S.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",S.reviewCount,")"]})]}),S.year&&o.jsx("span",{className:"text-xs text-white/60",children:S.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:S.duration}),o.jsx(ct,{variant:"outline",className:Qr.getTypeColor(S.contentType),children:Qr.getTypeLabel(S.contentType)})]})]})]},S.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx(D,{onClick:E,disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:p?o.jsxs(o.Fragment,{children:[o.jsx(Xt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rf,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${j}  .`}),s&&o.jsxs(D,{variant:"outline",onClick:()=>i(""),className:"border-white/20 hover:bg-white/5",children:[" ",j," "]})]})]})]})})}class xE{constructor(){Te(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}}const pa=new xE,ga=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,i]=d.useState(0),a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,h)=>{if(!t||!r)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,y=f.width,x=m<y/2?u-.5:u;r(x)},c=(u,h)=>{if(!t)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,y=f.width,x=m<y/2?u-.5:u;i(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const h=s||e,f=u-.5<=h&&u>h,m=u<=h;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(tr,{className:`${a[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?y=>l(u,y):void 0,onMouseMove:t?y=>c(u,y):void 0,onMouseLeave:t?()=>i(0):void 0}),(m||f)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${f?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(tr,{className:`${a[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function yE({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,i]=d.useState(""),[a,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(""),[p,v]=d.useState(0),[j,N]=d.useState(!1),[C,E]=d.useState(null),k=async()=>{f(!0);try{const B=(await pa.getReviewsByContentId(e.id)).map(P=>({...P,contentId:e.id,createdAt:new Date().toISOString(),user:{id:P.authorId,name:P.authorName,avatar:P.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(B)}catch(R){console.error("  :",R)}finally{f(!1)}},T=c.length>0?c.reduce((R,B)=>R+B.rating,0)/c.length:0,A=async()=>{if(!(!s.trim()||a===0||!r)){y(!0);try{const R={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:a},P={...await pa.createReview(R),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([P,...c]),i(""),l(0)}catch(R){console.error("  :",R)}finally{y(!1)}}},L=R=>{x(R),g(R.comment),v(R.rating)},S=()=>{x(null),g(""),v(0)},_=async()=>{if(!(!w||!b.trim()||p===0)){N(!0);try{const R={title:b.trim().substring(0,100),comment:b.trim(),rating:p},B=await pa.updateReview(w.id,R);u(c.map(P=>P.id===w.id?{...P,...B}:P)),S()}catch(R){console.error("  :",R)}finally{N(!1)}}},z=async R=>{E(R);try{await pa.deleteReview(R),u(c.filter(B=>B.id!==R))}catch(B){console.error("  :",B)}finally{E(null)}};d.useEffect(()=>{e.id&&k()},[e.id]);const W=R=>{switch(R){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs(D,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(ao,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:W(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(ct,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:W(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ga,{rating:T,size:"lg"}),o.jsx("span",{className:"text-xl",children:T%1===0?T.toFixed(0):T.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs(D,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(xt,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(ga,{rating:a,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(id,{value:s,onChange:R=>i(R.target.value),placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs(D,{onClick:A,disabled:!s.trim()||a===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Pf,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(R=>{var B,P,F,V;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(w==null?void 0:w.id)===R.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs($e,{children:[o.jsx(ze,{src:(B=R.user)==null?void 0:B.avatar}),o.jsx(Fe,{children:((P=R.authorName)==null?void 0:P[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:R.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(ga,{rating:p,editable:!0,size:"lg",onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(id,{value:b,onChange:Y=>g(Y.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(D,{onClick:_,disabled:!b.trim()||p===0||j,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:j?" ...":" "}),o.jsx(D,{onClick:S,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs($e,{children:[o.jsx(ze,{src:(F=R.user)==null?void 0:F.avatar}),o.jsx(Fe,{children:((V=R.authorName)==null?void 0:V[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:R.authorName||" "}),o.jsx(ga,{rating:R.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:R.createdAt?new Date(R.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:R.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&R.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>L(R),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(Gj,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>z(R.id),disabled:C===R.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(nd,{className:"w-4 h-4 mr-1"}),C===R.id?" ...":""]})]})})]})]})},R.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function wE({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:i,refreshUserProfile:a,onPlaylistOpen:l}){const[c,u]=d.useState(""),[h,f]=d.useState("user@moplay.kr"),[m,y]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(""),[p,v]=d.useState(!1),[j,N]=d.useState(null),[C,E]=d.useState(null),[k,T]=d.useState([]),[A,L]=d.useState([]),[S,_]=d.useState(!1),[z,W]=d.useState(!1),[R,B]=d.useState("profile"),[P,F]=d.useState([]),V=r||n,Y=!!(r&&r!==n);d.useEffect(()=>{e&&(N(null),V?(ee(),re(),me(),te(),Y&&_e()):N("  .  ."))},[e,V,Y]);const ee=async()=>{try{const I=await s(`http://localhost:8080/api/users/${V}`);if(!I.ok)throw new Error("   .");const q=await I.json();E(q),u(q.name),f(q.email)}catch(I){console.error("   :",I),N("   .")}},re=async()=>{try{const I=await s(`http://localhost:8080/api/follows/${V}/followers`);if(!I.ok)throw new Error("   .");const q=await I.json();T(q)}catch(I){console.error("   :",I),T([])}},me=async()=>{try{const I=await s(`http://localhost:8080/api/follows/${V}/following`);if(!I.ok)throw new Error("   .");const q=await I.json();L(q)}catch(I){console.error("   :",I),L([])}},_e=async()=>{if(!(!n||!V))try{const I=await s(`http://localhost:8080/api/follows/${n}/is-following/${V}`);if(!I.ok)throw new Error("   .");const q=await I.json();_(q)}catch(I){console.error("   :",I),_(!1)}},xe=async()=>{if(!(!n||!V)){W(!0);try{if(S){if(!(await s("http://localhost:8080/api/follows/unfollow",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({followerId:n,followingId:V})})).ok)throw new Error(" .");_(!1),T(q=>q.filter(ue=>ue.id!==n))}else{if(!(await s("http://localhost:8080/api/follows/follow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({followerId:n,followingId:V})})).ok)throw new Error(" .");_(!0),C&&T(q=>[...q,{id:n,name:"",email:"",profileImage:""}])}}catch(I){console.error("  :",I),alert(I instanceof Error?I.message:"    .")}finally{W(!1)}}},te=async()=>{if(V)try{const I=await s(`http://localhost:8080/api/users/${V}/playlists`);if(!I.ok)throw new Error("   .");const q=await I.json();F(q)}catch(I){console.error("   :",I),F([])}},de=I=>{i&&(t(),i(I))},he=async()=>{v(!0),N(null);try{if(!n){N("  .  ."),v(!1);return}if(!b.trim()){N("     ."),v(!1);return}const I=new FormData,q={newName:c,newPassword:b};console.log("Request data:",q);const ue=new Blob([JSON.stringify(q)],{type:"application/json"});I.append("request",ue),w&&(I.append("profile",w),console.log("Profile image added:",w.name)),console.log("FormData entries:");for(let[ot,M]of I.entries())console.log(ot,M);const Le=await fetch(`http://localhost:8080/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:I});if(!Le.ok){const ot=await Le.json();throw new Error(ot.message||"  .")}const Ve=await Le.json();E(Ve),u(Ve.name),f(Ve.email),x(null),await ee(),alert("  ."),a&&a(),g(""),t()}catch(I){console.error("  :",I),N(I instanceof Error?I.message:"    .")}finally{v(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:Y?`${(C==null?void 0:C.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[Y&&o.jsx(D,{onClick:xe,disabled:z,className:`${S?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:z?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):S?o.jsxs(o.Fragment,{children:[o.jsx(ux,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(If,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx(D,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(vn,{className:"w-5 h-5"})})]})]}),j&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:j}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs($e,{className:"h-20 w-20 mb-4",children:[o.jsx(ze,{src:w?URL.createObjectURL(w):C==null?void 0:C.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!Y&&o.jsx(D,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>y(!m),children:o.jsx(ix,{className:"w-4 h-4"})})]}),m&&!Y&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(Px,{selectedImage:w,onImageSelect:x,onClose:()=>y(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:k.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:A.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx(D,{variant:R==="profile"?"default":"ghost",size:"sm",onClick:()=>B("profile"),className:R==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs(D,{variant:R==="followers"?"default":"ghost",size:"sm",onClick:()=>B("followers"),className:`${R==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(ut,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(D,{variant:R==="following"?"default":"ghost",size:"sm",onClick:()=>B("following"),className:`${R==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Rr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(D,{variant:R==="playlists"?"default":"ghost",size:"sm",onClick:()=>B("playlists"),className:`${R==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Mc,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[R==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(Me,{id:"name",value:c,onChange:I=>u(I.target.value),disabled:Y,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${Y?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(Me,{id:"email",value:h,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!Y&&o.jsxs("div",{children:[o.jsxs(Rt,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Me,{id:"password",type:"password",value:b,onChange:I=>g(I.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"     ."})]})]}),R==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[k.map(I=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>I.id&&de(I.id),children:[o.jsxs($e,{className:"h-10 w-10",children:[o.jsx(ze,{src:I.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:I.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:I.name}),o.jsx("p",{className:"text-white/60 text-sm",children:I.email})]})]},I.id)),k.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ut,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),R==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[A.map(I=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>I.id&&de(I.id),children:[o.jsxs($e,{className:"h-10 w-10",children:[o.jsx(ze,{src:I.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:I.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:I.name}),o.jsx("p",{className:"text-white/60 text-sm",children:I.email})]})]},I.id)),A.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),R==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[P.map(I=>{var q;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l(I.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:I.thumbnail?o.jsx("img",{src:I.thumbnail,alt:I.title||I.name,className:"w-full h-full object-cover"}):o.jsx(Mc,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:I.title||I.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[I.contentCount||((q=I.playlistContents)==null?void 0:q.length)||0," ",I.isPublic?"  ":"  "]})]})]},I.id)}),P.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Mc,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:Y?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(D,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:p,children:Y?"":""}),!Y&&o.jsx(D,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:he,disabled:p||!n,children:p?" ...":""})]})]})]}):null}class bE{constructor(t){Te(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t=await this.authenticatedFetch("http://localhost:8080/api/dmRooms/");if(!t.ok)throw new Error("Failed to fetch DM rooms");return t.json()}async getRoom(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/dmRooms/${t}`);if(!n.ok)throw new Error("Failed to fetch DM room");return n.json()}async getOrCreateRoom(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`);if(!n.ok)throw new Error("Failed to get or create DM room");return n.json()}async getDmMessages(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/dm/${t}`);if(!n.ok)throw new Error("Failed to fetch DM messages");return n.json()}async getFollowing(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}function jE({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:i,getOrCreateDmRoom:a}){const[l,c]=d.useState(""),[u,h]=d.useState(!1),[f,m]=d.useState([]),[y,w]=d.useState([]),[x,b]=d.useState(!1),[g,p]=d.useState(null),v=new bE(r),j=f.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())),N=y.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())),C=S=>{console.log(`Opening conversation with ${S.name}`),n({id:S.userId,name:S.name,avatar:S.avatar,isOnline:S.isOnline,roomId:S.id})},E=()=>{h(!0),c("")},k=()=>{h(!1),c("")},T=async S=>{try{b(!0);const _=await a(S.id);console.log(`Starting new conversation with ${S.name}, room: ${_}`),n({id:S.id,name:S.name,avatar:S.avatar,isOnline:S.isOnline,roomId:_}),h(!1),c("")}catch(_){console.error("Error starting conversation:",_),p("   .")}finally{b(!1)}};d.useEffect(()=>{e&&s&&(A(),L())},[e,s]);const A=async()=>{try{b(!0),p(null);const _=(await i()).map(z=>{const W=z.senderId===s?{id:z.receiverId,name:z.receiverName,avatar:"",isOnline:!1}:{id:z.senderId,name:z.senderName,avatar:"",isOnline:!1},R=B=>{const P=new Date(B),V=new Date().getTime()-P.getTime(),Y=Math.floor(V/(1e3*60)),ee=Math.floor(V/(1e3*60*60)),re=Math.floor(V/(1e3*60*60*24));return Y<1?" ":Y<60?`${Y} `:ee<24?`${ee} `:re===1?"":`${re} `};return{id:z.id,userId:(W==null?void 0:W.id)||"",name:(W==null?void 0:W.name)||"   ",avatar:(W==null?void 0:W.avatar)||"",lastMessage:z.lastMessage||"  ",timestamp:(z.lastMessage,R(z.createdAt)),unreadCount:z.newMessageCount||0,isOnline:(W==null?void 0:W.isOnline)||!1}});m(_)}catch(S){console.error("Error loading DM rooms:",S),p("    .")}finally{b(!1)}},L=async()=>{if(s)try{const _=(await v.getFollowing(s)).map(z=>({id:z.id,name:z.name||"   ",avatar:z.profileImage||"",isOnline:!1,mutualFriends:0}));w(_)}catch(S){console.error("Error loading chat partners:",S)}};return e?o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[u&&o.jsx(D,{variant:"ghost",size:"sm",onClick:k,className:"p-1 hover:bg-white/10",children:o.jsx(ao,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:u?" ":""})]}),o.jsx(D,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(vn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Me,{placeholder:" ...",value:l,onChange:S=>c(S.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u?o.jsx(o.Fragment,{children:N.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:N.map(S=>o.jsxs("div",{onClick:()=>T(S),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs($e,{className:"h-14 w-14",children:[o.jsx(ze,{src:S.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:S.name.charAt(0)})]}),S.isOnline&&o.jsx(Lm,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:S.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",S.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:S.isOnline?"":""})]},S.id))})}):o.jsxs(o.Fragment,{children:[x&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),g&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:g}),!x&&!g&&j.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}),!x&&!g&&j.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:j.map(S=>o.jsxs("div",{onClick:()=>C(S),className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs($e,{className:"h-14 w-14",children:[o.jsx(ze,{src:S.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:S.name.charAt(0)})]}),S.isOnline&&o.jsx(Lm,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:S.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:S.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:S.lastMessage}),S.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:S.unreadCount>9?"9+":S.unreadCount})]})]})]},S.id))})]})}),!u&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs(D,{onClick:E,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(ut,{className:"w-5 h-5 mr-2"})," "]})})]})}):null}function NE(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var ih="ScrollArea",[ey,NR]=$n(ih),[SE,en]=ey(ih),ty=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[y,w]=d.useState(null),[x,b]=d.useState(null),[g,p]=d.useState(0),[v,j]=d.useState(0),[N,C]=d.useState(!1),[E,k]=d.useState(!1),T=ve(t,L=>c(L)),A=Ti(s);return o.jsx(SE,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:k,onCornerWidthChange:p,onCornerHeightChange:j,children:o.jsx(ae.div,{dir:A,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});ty.displayName=ih;var ny="ScrollAreaViewport",ry=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,a=en(ny,n),l=d.useRef(null),c=ve(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ry.displayName=ny;var Fn="ScrollAreaScrollbar",sy=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=en(Fn,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(kE,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(CE,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(oy,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(ah,{...r,ref:t}):null});sy.displayName=Fn;var kE=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=en(Fn,e.__scopeScrollArea),[i,a]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(or,{present:n||i,children:o.jsx(oy,{"data-state":i?"visible":"hidden",...r,ref:t})})}),CE=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=en(Fn,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Jl(()=>c("SCROLL_END"),100),[l,c]=NE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const y=u[h];f!==y&&(c("SCROLL"),a()),f=y};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,i,c,a]),o.jsx(or,{present:n||l!=="hidden",children:o.jsx(ah,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oy=d.forwardRef((e,t)=>{const n=en(Fn,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=d.useState(!1),l=e.orientation==="horizontal",c=Jl(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:h)}},10);return no(n.viewport,c),no(n.content,c),o.jsx(or,{present:r||i,children:o.jsx(ah,{"data-state":i?"visible":"hidden",...s,ref:t})})}),ah=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=en(Fn,e.__scopeScrollArea),i=d.useRef(null),a=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=uy(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,y){return AE(m,a.current,l,y)}return n==="horizontal"?o.jsx(EE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,y=gp(m,l,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(TE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,y=gp(m,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),EE=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=en(Fn,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=ve(t,c,i.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(ay,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ql(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),fy(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:yl(a.paddingLeft),paddingEnd:yl(a.paddingRight)}})}})}),TE=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=en(Fn,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=ve(t,c,i.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(ay,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ql(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),fy(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:yl(a.paddingTop),paddingEnd:yl(a.paddingBottom)}})}})}),[_E,iy]=ey(Fn),ay=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,y=en(Fn,n),[w,x]=d.useState(null),b=ve(t,T=>x(T)),g=d.useRef(null),p=d.useRef(""),v=y.viewport,j=r.content-r.viewport,N=vt(h),C=vt(c),E=Jl(f,10);function k(T){if(g.current){const A=T.clientX-g.current.left,L=T.clientY-g.current.top;u({x:A,y:L})}}return d.useEffect(()=>{const T=A=>{const L=A.target;(w==null?void 0:w.contains(L))&&N(A,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[v,w,j,N]),d.useEffect(C,[r,C]),no(w,E),no(y.content,E),o.jsx(_E,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:vt(i),onThumbPointerUp:vt(a),onThumbPositionChange:C,onThumbPointerDown:vt(l),children:o.jsx(ae.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:le(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),g.current=w.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:le(e.onPointerMove,k),onPointerUp:le(e.onPointerUp,T=>{const A=T.target;A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=p.current,y.viewport&&(y.viewport.style.scrollBehavior=""),g.current=null})})})}),xl="ScrollAreaThumb",ly=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=iy(xl,e.__scopeScrollArea);return o.jsx(or,{present:n||s.hasThumb,children:o.jsx(RE,{ref:t,...r})})}),RE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=en(xl,n),a=iy(xl,n),{onThumbPositionChange:l}=a,c=ve(t,f=>a.onThumbChange(f)),u=d.useRef(void 0),h=Jl(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!u.current){const y=IE(f,l);u.current=y,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,l]),o.jsx(ae.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:le(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,x=f.clientY-y.top;a.onThumbPointerDown({x:w,y:x})}),onPointerUp:le(e.onPointerUp,a.onThumbPointerUp)})});ly.displayName=xl;var lh="ScrollAreaCorner",cy=d.forwardRef((e,t)=>{const n=en(lh,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(PE,{...e,ref:t}):null});cy.displayName=lh;var PE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=en(lh,n),[i,a]=d.useState(0),[l,c]=d.useState(0),u=!!(i&&l);return no(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),no(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),u?o.jsx(ae.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function yl(e){return e?parseInt(e,10):0}function uy(e,t){const n=e/t;return isNaN(n)?0:n}function Ql(e){const t=uy(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function AE(e,t,n,r="ltr"){const s=Ql(n),i=s/2,a=t||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return dy([c,u],f)(e)}function gp(e,t,n="ltr"){const r=Ql(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=gi(e,c);return dy([0,a],[0,l])(u)}function dy(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function fy(e,t){return e>0&&e<t}var IE=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Jl(e,t){const n=vt(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function no(e,t){const n=vt(t);Qe(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var OE=ty,LE=ry,DE=cy;function ME({className:e,children:t,...n}){return o.jsxs(OE,{"data-slot":"scroll-area",className:Se("relative",e),...n,children:[o.jsx(LE,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx($E,{}),o.jsx(DE,{})]})}function $E({className:e,orientation:t="vertical",...n}){return o.jsx(sy,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Se("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(ly,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function zE(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const $o={LF:`
`,NULL:"\0"};class pr{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=i=>i.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const a=s(i[0]);let l=s(i[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=pr.hdrValueUnEscape(l)),r[a]=l}return new pr({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?pr.toUnit8Array(t,this._binaryBody).buffer:t+this._body+$o.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${pr.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join($o.LF)+$o.LF+$o.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),i=new Uint8Array(r.length+n.length+s.length);return i.set(r),i.set(n,r.length),i.set(s,r.length+n.length),i}static marshall(t){return new pr(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const vp=0,va=10,xa=13,FE=58;class BE{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const i=r[s];this._onByte(i)}}_collectFrame(t){if(t!==vp&&t!==xa){if(t===va){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==xa){if(t===va){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==xa){if(t===va){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===FE){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==xa){if(t===va){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===vp){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var gr;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(gr||(gr={}));var un;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(un||(un={}));var wl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(wl||(wl={}));var yi;(function(e){e.Interval="interval",e.Worker="worker"})(yi||(yi={}));class UE{constructor(t,n=yi.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===yi.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class St{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}St.V1_0="1.0";St.V1_1="1.1";St.V1_2="1.2";St.default=new St([St.V1_2,St.V1_1,St.V1_0]);class WE{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===St.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const i=s.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===St.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,i,h),l.nack=(h={})=>c.nack(u,i,h),a(l)},RECEIPT:s=>{const i=this._receiptWatchers[s.headers["receipt-id"]];i?(i(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new BE(n=>{const r=pr.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==St.V1_1&&t.version!==St.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new UE(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===gr.OPEN&&(this._webSocket.send($o.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>s*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===gr.CONNECTING||this._webSocket.readyState===gr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&zE(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=new pr({command:n,headers:r,body:s,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===gr.CONNECTING||this._webSocket.readyState===gr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(i){return s.unsubscribe(r.id,i)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===St.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===St.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class hy{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===un.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=St.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=wl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=yi.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=un.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(un.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===un.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new WE(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===un.DEACTIVATING&&this._changeState(un.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===wl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var i;const n=t.force||!1,r=this.active;let s;if(this.state===un.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(un.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==gr.CLOSED){const a=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{a(u),l()}})}else return this._changeState(un.INACTIVE),Promise.resolve();return n?(i=this._stompHandler)==null||i.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}const VE=({roomId:e,userId:t,onMessageReceived:n})=>{const[r,s]=d.useState(!1),[i,a]=d.useState(!1),l=d.useRef(null),c=d.useRef(null),u=d.useRef(0),h=5,f=d.useCallback(()=>{if(u.current>=h){console.error("Max reconnection attempts reached");return}const x=Math.min(1e3*Math.pow(2,u.current),3e4);console.log(`Scheduling reconnect attempt ${u.current+1} in ${x}ms`),c.current=setTimeout(()=>{u.current++,m()},x)},[]),m=d.useCallback(()=>{if(!e||!t||i||r)return;const x=localStorage.getItem("accessToken");if(!x){console.error("No access token found for WebSocket connection");return}console.log("Connecting to DM WebSocket for room:",e,"Attempt:",u.current+1),a(!0);const b=new hy({brokerURL:"ws://localhost:8080/ws",connectHeaders:{Authorization:`Bearer ${x}`},debug:g=>{console.log("STOMP Debug:",g)},onConnect:()=>{console.log("DM WebSocket connected for room:",e),s(!0),a(!1),u.current=0,b.subscribe(`/topic/dm.room.${e}`,g=>{try{const p=JSON.parse(g.body);console.log("Received DM message:",p),n(p)}catch(p){console.error("Error parsing DM message:",p)}})},onDisconnect:()=>{console.log("DM WebSocket disconnected"),s(!1),a(!1),l.current&&u.current<h&&f()},onStompError:g=>{console.error("STOMP Error:",g),s(!1),a(!1),u.current<h&&f()}});l.current=b,b.activate()},[e,t,i,r,n,f]),y=d.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),u.current=0,l.current&&(console.log("Disconnecting DM WebSocket"),l.current.deactivate(),l.current=null,s(!1),a(!1))},[]),w=d.useCallback(x=>{if(!l.current||!r||!e||!t){console.error("Cannot send message: WebSocket not connected or missing required data");return}const b={senderId:t,roomId:e,content:x,isRead:!1,createdAt:new Date().toISOString()};console.log("Sending DM message:",b),l.current.publish({destination:"/app/dm.send",body:JSON.stringify(b)})},[e,t,r]);return d.useEffect(()=>(e&&t?m():y(),()=>{c.current&&(clearTimeout(c.current),c.current=null),y()}),[e,t,m,y]),{isConnected:r,isConnecting:i,sendMessage:w,connect:m,disconnect:y}};function HE({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:i}){const[a,l]=d.useState([]),[c,u]=d.useState(""),[h]=d.useState(!1),[f,m]=d.useState(!1),[y,w]=d.useState(null),x=d.useRef(null),b=d.useRef(null),{isConnected:g,sendMessage:p}=VE({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:k=>{const T={id:k.id,senderId:k.senderId,senderName:k.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:k.content,timestamp:v(k.createdAt),type:"text",isOwnMessage:k.senderId===s};l(A=>[...A,T])}});d.useEffect(()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})},[a]),d.useEffect(()=>{e&&b.current&&b.current.focus()},[e]),d.useEffect(()=>{r!=null&&r.roomId&&j()},[r==null?void 0:r.roomId]);const v=k=>new Date(k).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),j=async()=>{if(r!=null&&r.roomId)try{m(!0),w(null);const T=(await i(r.roomId)).data.map(A=>({id:A.id,senderId:A.senderId,senderName:A.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:A.content,timestamp:v(A.createdAt),type:"text",isOwnMessage:A.senderId===s}));l(T)}catch(k){console.error("Error loading messages:",k),w("   .")}finally{m(!1)}},N=()=>{!c.trim()||!r||!g||(console.log("Sending message via WebSocket:",c.trim()),p(c.trim()),u(""))},C=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),N())},E=k=>k;return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(D,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(ao,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs($e,{className:"h-8 w-8",children:[o.jsx(ze,{src:r.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsx("p",{className:"text-xs text-white/60",children:r.isOnline?"":""})]})]})]}),o.jsx(D,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(vn,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(ME,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[f&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),y&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:y}),!f&&!y&&a.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),a.map((k,T)=>{const A=T===0||a[T-1].timestamp!==k.timestamp||a[T-1].isOwnMessage!==k.isOwnMessage;return o.jsx("div",{className:`flex ${k.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${k.isOwnMessage?"order-2":"order-1"}`,children:[!k.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs($e,{className:"h-6 w-6",children:[o.jsx(ze,{src:r.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:k.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${k.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:k.content})}),A&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${k.isOwnMessage?"text-right":"text-left"}`,children:E(k.timestamp)})]})},k.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs($e,{className:"h-6 w-6",children:[o.jsx(ze,{src:r.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:x})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(D,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(_f,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Me,{ref:b,value:c,onChange:k=>u(k.target.value),onKeyPress:C,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx(D,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(Zj,{className:"w-4 h-4"})})]}),o.jsx(D,{onClick:N,disabled:!c.trim(),size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(Pf,{className:"w-4 h-4"})})]})})]})})}var my={exports:{}},vd={};globalThis.crypto&&globalThis.crypto.getRandomValues?vd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:vd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var KE=vd,xp="abcdefghijklmnopqrstuvwxyz012345",fo={string:function(e){for(var t=xp.length,n=KE.randomBytes(e),r=[],s=0;s<e;s++)r.push(xp.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=fo,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(a,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+a,l),globalThis.attachEvent("on"+a,l))},detachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(a,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+a,l),globalThis.detachEvent("on"+a,l))},unloadAdd:function(a){if(s)return null;var l=t.string(8);return n[l]=a,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(a){a in n&&delete n[a]},triggerUnloadCallbacks:function(){for(var a in n)n[a](),delete n[a]}};var i=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",i)})(my);var zr=my.exports,GE=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},ch={},XE=Object.prototype.hasOwnProperty,YE;function yp(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function wp(e){try{return encodeURIComponent(e)}catch{return null}}function qE(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=yp(r[1]),i=yp(r[2]);s===null||i===null||s in n||(n[s]=i)}return n}function QE(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(XE.call(e,s)){if(r=e[s],!r&&(r===null||r===YE||isNaN(r))&&(r=""),s=wp(s),r=wp(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}ch.stringify=QE;ch.parse=qE;var py=GE,Zl=ch,JE=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,gy=/[\n\r\t]/g,ZE=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,vy=/:\d+$/,e4=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,t4=/^[a-zA-Z]:/;function uh(e){return(e||"").toString().replace(JE,"")}var xd=[["#","hash"],["?","query"],function(t,n){return In(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],bp={hash:1,query:1};function xy(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,i;if(e.protocol==="blob:")r=new Dn(unescape(e.pathname),{});else if(s==="string"){r=new Dn(e,{});for(i in bp)delete r[i]}else if(s==="object"){for(i in e)i in bp||(r[i]=e[i]);r.slashes===void 0&&(r.slashes=ZE.test(e.href))}return r}function In(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function yy(e,t){e=uh(e),e=e.replace(gy,""),t=t||{};var n=e4.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],i=!!n[3],a=0,l;return s?i?(l=n[2]+n[3]+n[4],a=n[2].length+n[3].length):(l=n[2]+n[4],a=n[2].length):i?(l=n[3]+n[4],a=n[3].length):l=n[4],r==="file:"?a>=2&&(l=l.slice(2)):In(r)?l=n[4]:r?s&&(l=l.slice(2)):a>=2&&In(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||In(r),slashesCount:a,rest:l}}function n4(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],i=!1,a=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),a++):a&&(r===0&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function Dn(e,t,n){if(e=uh(e),e=e.replace(gy,""),!(this instanceof Dn))return new Dn(e,t,n);var r,s,i,a,l,c,u=xd.slice(),h=typeof t,f=this,m=0;for(h!=="object"&&h!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Zl.parse),t=xy(t),s=yy(e||"",t),r=!s.protocol&&!s.slashes,f.slashes=s.slashes||r&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||t4.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!In(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(a=u[m],typeof a=="function"){e=a(e,f);continue}i=a[0],c=a[1],i!==i?f[c]=e:typeof i=="string"?(l=i==="@"?e.lastIndexOf(i):e.indexOf(i),~l&&(typeof a[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+a[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=i.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||r&&a[3]&&t[c]||"",a[4]&&(f[c]=f[c].toLowerCase())}n&&(f.query=n(f.query)),r&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=n4(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&In(f.protocol)&&(f.pathname="/"+f.pathname),py(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&In(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function r4(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Zl.parse)(t)),r[e]=t;break;case"port":r[e]=t,py(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,vy.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(r.username=t.slice(0,i),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(i+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<xd.length;a++){var l=xd[a];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&In(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function s4(e){(!e||typeof e!="function")&&(e=Zl.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var i=s+(n.protocol&&n.slashes||In(n.protocol)?"//":"");return n.username?(i+=n.username,n.password&&(i+=":"+n.password),i+="@"):n.password?(i+=":"+n.password,i+="@"):n.protocol!=="file:"&&In(n.protocol)&&!r&&n.pathname!=="/"&&(i+="@"),(r[r.length-1]===":"||vy.test(n.hostname)&&!n.port)&&(r+=":"),i+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(i+=n.hash),i}Dn.prototype={set:r4,toString:s4};Dn.extractProtocol=yy;Dn.location=xy;Dn.trimLeft=uh;Dn.qs=Zl;var wy=Dn,o4=wy,tn={getOrigin:function(e){if(!e)return null;var t=new o4(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},yd={exports:{}};typeof Object.create=="function"?yd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:yd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var Ne=yd.exports,wt={};function ec(){this._listeners={}}ec.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};ec.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};ec.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var by=ec,i4=Ne,tc=by;function Ir(){tc.call(this)}i4(Ir,tc);Ir.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Ir.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Ir.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var i=0;i<t.length;i++)t[i].apply(this,r)}};Ir.prototype.on=Ir.prototype.addListener=tc.prototype.addEventListener;Ir.prototype.removeListener=tc.prototype.removeEventListener;wt.EventEmitter=Ir;var wd={exports:{}},jp=globalThis.WebSocket||globalThis.MozWebSocket;jp?wd.exports=function(t){return new jp(t)}:wd.exports=void 0;var a4=wd.exports,jy=zr,l4=tn,c4=Ne,Ny=wt.EventEmitter,Sy=a4,Np=function(){};function ir(e,t,n){if(!ir.enabled())throw new Error("Transport created when disabled");Ny.call(this);var r=this,s=l4.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new Sy(this.url,[],n),this.ws.onmessage=function(i){Np("message event",i.data),r.emit("message",i.data)},this.unloadRef=jy.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(i){Np("close event",i.code,i.reason),r.emit("close",i.code,i.reason),r._cleanup()},this.ws.onerror=function(i){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}c4(ir,Ny);ir.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};ir.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};ir.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),jy.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};ir.enabled=function(){return!!Sy};ir.transportName="websocket";ir.roundTrips=2;var u4=ir,d4=Ne,ky=wt.EventEmitter,f4=function(){};function ps(e,t){ky.call(this),this.sendBuffer=[],this.sender=t,this.url=e}d4(ps,ky);ps.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};ps.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};ps.prototype.sendSchedule=function(){f4("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};ps.prototype._cleanup=function(){this.removeAllListeners()};ps.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var h4=ps,m4=Ne,Cy=wt.EventEmitter,p4=function(){};function nc(e,t,n){Cy.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}m4(nc,Cy);nc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){p4("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};nc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var g4=nc,v4=Ne,x4=tn,dh=h4,y4=g4;function fh(e,t,n,r,s){var i=x4.addPath(e,t),a=this;dh.call(this,e,n),this.poll=new y4(r,i,s),this.poll.on("message",function(l){a.emit("message",l)}),this.poll.once("close",function(l,c){a.poll=null,a.emit("close",l,c),a.close()})}v4(fh,dh);fh.prototype.close=function(){dh.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var Ey=fh,w4=Ne,b4=tn,Ty=Ey;function j4(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var i=b4.addPath(t,"/xhr_send"),a=new e("POST",i,n,s);return a.once("finish",function(l){if(a=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){a.close(),a=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function _y(e,t,n,r){Ty.call(this,e,t,j4(r),n,r)}w4(_y,Ty);var ho=_y,N4=Ne,Ry=wt.EventEmitter;function Ri(e,t){Ry.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var i=r===200?"network":"permanent";n.emit("close",null,i),n._cleanup()})}N4(Ri,Ry);Ri.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};Ri.prototype._cleanup=function(){this.removeAllListeners()};Ri.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var rc=Ri,Py=wt.EventEmitter,S4=Ne,Ay=zr,k4=tn,wi=globalThis.XMLHttpRequest,Yc=function(){};function Mn(e,t,n,r){var s=this;Py.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}S4(Mn,Py);Mn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new wi}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=k4.addQuery(t,"t="+ +new Date),this.unloadRef=Ay.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Yc("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Mn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var i in r.headers)this.xhr.setRequestHeader(i,r.headers[i]);this.xhr.onreadystatechange=function(){if(s.xhr){var a=s.xhr,l,c;switch(Yc("readyState",a.readyState),a.readyState){case 3:try{c=a.status,l=a.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=a.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Yc("finish",c,a.responseText),s.emit("finish",c,a.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Mn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Ay.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Mn.prototype.close=function(){this._cleanup(!0)};Mn.enabled=!!wi;var Sp=["Active"].concat("Object").join("X");!Mn.enabled&&Sp in globalThis&&(wi=function(){try{return new globalThis[Sp]("Microsoft.XMLHTTP")}catch{return null}},Mn.enabled=!!new wi);var Iy=!1;try{Iy="withCredentials"in new wi}catch{}Mn.supportsCORS=Iy;var Oy=Mn,C4=Ne,bl=Oy;function hh(e,t,n,r){bl.call(this,e,t,n,r)}C4(hh,bl);hh.enabled=bl.enabled&&bl.supportsCORS;var sc=hh,E4=Ne,mh=Oy;function ph(e,t,n){mh.call(this,e,t,n,{noCredentials:!0})}E4(ph,mh);ph.enabled=mh.enabled;var Pi=ph,Ai={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},T4=Ne,Ly=ho,_4=rc,bd=sc,R4=Pi,P4=Ai;function mo(e){if(!R4.enabled&&!bd.enabled)throw new Error("Transport created when disabled");Ly.call(this,e,"/xhr_streaming",_4,bd)}T4(mo,Ly);mo.enabled=function(e){return e.nullOrigin||P4.isOpera()?!1:bd.enabled};mo.transportName="xhr-streaming";mo.roundTrips=2;mo.needBody=!!globalThis.document;var A4=mo,Dy=wt.EventEmitter,I4=Ne,My=zr,O4=Ai,L4=tn,D4=function(){};function gs(e,t,n){var r=this;Dy.call(this),setTimeout(function(){r._start(e,t,n)},0)}I4(gs,Dy);gs.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=L4.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){D4("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=My.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};gs.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};gs.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),My.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};gs.prototype.close=function(){this._cleanup(!0)};gs.enabled=!!(globalThis.XDomainRequest&&O4.hasDomain());var gh=gs,M4=Ne,$y=ho,$4=rc,jd=gh;function Ii(e){if(!jd.enabled)throw new Error("Transport created when disabled");$y.call(this,e,"/xhr_streaming",$4,jd)}M4(Ii,$y);Ii.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:jd.enabled&&e.sameScheme};Ii.transportName="xdr-streaming";Ii.roundTrips=2;var zy=Ii,Fy=globalThis.EventSource,z4=Ne,By=wt.EventEmitter,F4=Fy,kp=function(){};function Oi(e){By.call(this);var t=this,n=this.es=new F4(e);n.onmessage=function(r){kp("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){kp("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}z4(Oi,By);Oi.prototype.abort=function(){this._cleanup(),this._close("user")};Oi.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Oi.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var B4=Oi,U4=Ne,Uy=ho,W4=B4,V4=sc,H4=Fy;function po(e){if(!po.enabled())throw new Error("Transport created when disabled");Uy.call(this,e,"/eventsource",W4,V4)}U4(po,Uy);po.enabled=function(){return!!H4};po.transportName="eventsource";po.roundTrips=2;var Cp=po,qc,Ep;function Wy(){return Ep||(Ep=1,qc="1.6.1"),qc}var Vy={exports:{}};(function(e){var t=zr,n=Ai;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var i=globalThis.document.createElement("iframe"),a,l,c=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},u=function(){i&&(c(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),t.unloadDel(l))},h=function(m){i&&(u(),s(m))},f=function(m,y){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(m,y)}catch{}},0)};return i.src=r,i.style.display="none",i.style.position="absolute",i.onerror=function(){h("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(i),a=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var i=["Active"].concat("Object").join("X"),a=new globalThis[i]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){a&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=a=null,CollectGarbage())},m=function(x){a&&(f(),s(x))},y=function(x,b){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,b)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=a.createElement("div");return a.body.appendChild(w),u=a.createElement("iframe"),w.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(f),{post:y,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(Vy);var Li=Vy.exports,K4=Ne,Hy=wt.EventEmitter,G4=Wy(),Nd=tn,Ky=Li,Gy=zr,X4=fo,Po=function(){};function Bn(e,t,n){if(!Bn.enabled())throw new Error("Transport created when disabled");Hy.call(this);var r=this;this.origin=Nd.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=X4.string(8);var s=Nd.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Ky.createIframe(s,function(i){r.emit("close",1006,"Unable to load an iframe ("+i+")"),r.close()}),this.onmessageCallback=this._message.bind(this),Gy.attachEvent("message",this.onmessageCallback)}K4(Bn,Hy);Bn.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){Gy.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};Bn.prototype._message=function(e){if(Po("message",e.data),!Nd.isOriginEqual(e.origin,this.origin)){Po("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Po("bad json",e.data);return}if(t.windowId!==this.windowId){Po("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([G4,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Po("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};Bn.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};Bn.prototype.send=function(e){this.postMessage("m",e)};Bn.enabled=function(){return Ky.iframeEnabled};Bn.transportName="iframe";Bn.roundTrips=2;var Xy=Bn,vh={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},Y4=Ne,ya=Xy,q4=vh,Qc=function(e){function t(n,r){ya.call(this,e.transportName,n,r)}return Y4(t,ya),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=q4.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&ya.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=ya.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},Q4=Ne,Kr=Li,J4=tn,Yy=wt.EventEmitter,Z4=fo,eT=function(){};function wn(e){Yy.call(this);var t=this;Kr.polluteGlobalNamespace(),this.id="a"+Z4.string(6),e=J4.addQuery(e,"c="+decodeURIComponent(Kr.WPrefix+"."+this.id)),eT("using htmlfile",wn.htmlfileEnabled);var n=wn.htmlfileEnabled?Kr.createHtmlfile:Kr.createIframe;globalThis[Kr.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}Q4(wn,Yy);wn.prototype.abort=function(){this._cleanup(),this._close("user")};wn.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Kr.WPrefix][this.id]};wn.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};wn.htmlfileEnabled=!1;var Tp=["Active"].concat("Object").join("X");if(Tp in globalThis)try{wn.htmlfileEnabled=!!new globalThis[Tp]("htmlfile")}catch{}wn.enabled=wn.htmlfileEnabled||Kr.iframeEnabled;var tT=wn,nT=Ne,Sd=tT,rT=Pi,qy=ho;function Di(e){if(!Sd.enabled)throw new Error("Transport created when disabled");qy.call(this,e,"/htmlfile",Sd,rT)}nT(Di,qy);Di.enabled=function(e){return Sd.enabled&&e.sameOrigin};Di.transportName="htmlfile";Di.roundTrips=2;var _p=Di,sT=Ne,Qy=ho,oT=rc,kd=sc,Jy=Pi;function Mi(e){if(!Jy.enabled&&!kd.enabled)throw new Error("Transport created when disabled");Qy.call(this,e,"/xhr",oT,kd)}sT(Mi,Qy);Mi.enabled=function(e){return e.nullOrigin?!1:Jy.enabled&&e.sameOrigin?!0:kd.enabled};Mi.transportName="xhr-polling";Mi.roundTrips=2;var Rp=Mi,iT=Ne,Zy=ho,aT=zy,lT=rc,Pp=gh;function $i(e){if(!Pp.enabled)throw new Error("Transport created when disabled");Zy.call(this,e,"/xhr",lT,Pp)}iT($i,Zy);$i.enabled=aT.enabled;$i.transportName="xdr-polling";$i.roundTrips=2;var cT=$i,qo=Li,ew=fo,uT=Ai,dT=tn,fT=Ne,tw=wt.EventEmitter,hT=function(){};function Zt(e){var t=this;tw.call(this),qo.polluteGlobalNamespace(),this.id="a"+ew.string(6);var n=dT.addQuery(e,"c="+encodeURIComponent(qo.WPrefix+"."+this.id));globalThis[qo.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Zt.timeout)}fT(Zt,tw);Zt.prototype.abort=function(){if(globalThis[qo.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};Zt.timeout=35e3;Zt.scriptErrorTimeout=1e3;Zt.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};Zt.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};Zt.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[qo.WPrefix][this.id]};Zt.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},Zt.scriptErrorTimeout))};Zt.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+ew.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(hT("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(uT.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var mT=Zt,pT=fo,Ap=tn,gT=function(){},Dt,Qo;function vT(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function xT(){Dt=globalThis.document.createElement("form"),Dt.style.display="none",Dt.style.position="absolute",Dt.method="POST",Dt.enctype="application/x-www-form-urlencoded",Dt.acceptCharset="UTF-8",Qo=globalThis.document.createElement("textarea"),Qo.name="d",Dt.appendChild(Qo),globalThis.document.body.appendChild(Dt)}var yT=function(e,t,n){Dt||xT();var r="a"+pT.string(8);Dt.target=r,Dt.action=Ap.addQuery(Ap.addPath(e,"/jsonp_send"),"i="+r);var s=vT(r);s.id=r,s.style.display="none",Dt.appendChild(s);try{Qo.value=t}catch{}Dt.submit();var i=function(a){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),Qo.value="",n(a))};return s.onerror=function(){i()},s.onload=function(){i()},s.onreadystatechange=function(a){gT("onreadystatechange",r,s.readyState),s.readyState==="complete"&&i()},function(){i(new Error("Aborted"))}},wT=Ne,nw=Ey,bT=mT,jT=yT;function vs(e){if(!vs.enabled())throw new Error("Transport created when disabled");nw.call(this,e,"/jsonp",jT,bT)}wT(vs,nw);vs.enabled=function(){return!!globalThis.document};vs.transportName="jsonp-polling";vs.roundTrips=1;vs.needBody=!0;var NT=vs,ST=[u4,A4,zy,Cp,Qc(Cp),_p,Qc(_p),Rp,cT,Qc(Rp),NT],bi=Array.prototype,xh=Object.prototype,kT=Function.prototype,ji=String.prototype,Jc=bi.slice,yh=xh.toString,rw=function(e){return xh.toString.call(e)==="[object Function]"},CT=function(t){return yh.call(t)==="[object Array]"},sw=function(t){return yh.call(t)==="[object String]"},ET=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Cd;ET?Cd=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:Cd=function(e,t,n,r){!r&&t in e||(e[t]=n)};var zi=function(e,t,n){for(var r in t)xh.hasOwnProperty.call(t,r)&&Cd(e,r,t[r],n)},ow=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function TT(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function _T(e){return e>>>0}function Zc(){}zi(kT,{bind:function(t){var n=this;if(!rw(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Jc.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(Jc.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Jc.call(arguments)))},i=Math.max(0,n.length-r.length),a=[],l=0;l<i;l++)a.push("$"+l);var c=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(Zc.prototype=n.prototype,c.prototype=new Zc,Zc.prototype=null),c}});zi(Array,{isArray:CT});var Ip=Object("a"),iw=Ip[0]!=="a"||!(0 in Ip),RT=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,i,a){typeof a!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};zi(bi,{forEach:function(t){var n=ow(this),r=iw&&sw(this)?this.split(""):n,s=arguments[1],i=-1,a=r.length>>>0;if(!rw(t))throw new TypeError;for(;++i<a;)i in r&&t.call(s,r[i],i,n)}},!RT(bi.forEach));var PT=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;zi(bi,{indexOf:function(t){var n=iw&&sw(this)?this.split(""):ow(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=TT(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},PT);var Op=ji.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;ji.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(yh.call(t)!=="[object RegExp]")return Op.call(this,t,n);var s=[],i=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,l,c,u,h;for(t=new RegExp(t.source,i+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",i)),n=n===void 0?-1>>>0:_T(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>a&&(s.push(r.slice(a,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<r.length&&bi.push.apply(s,c.slice(1)),h=c[0].length,a=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return a===r.length?(h||!t.test(""))&&s.push(""):s.push(r.slice(a)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&(ji.split=function(t,n){return t===void 0&&n===0?[]:Op.call(this,t,n)});var AT=ji.substr,IT="".substr&&"0b".substr(-1)!=="b";zi(ji,{substr:function(t,n){return AT.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},IT);var wa=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,eu,OT=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},LT={quote:function(e){var t=JSON.stringify(e);return wa.lastIndex=0,wa.test(t)?(eu||(eu=OT(wa)),t.replace(wa,function(n){return eu[n]})):t}},tu=function(){},DT=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){tu("not in whitelist",s.transportName);return}s.enabled(n)?(tu("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):tu("disabled",s.transportName)}}),r}}},Ed={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}Ed[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:Ed.log});var MT=Ed;function xs(e){this.type=e}xs.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};xs.prototype.stopPropagation=function(){};xs.prototype.preventDefault=function(){};xs.CAPTURING_PHASE=1;xs.AT_TARGET=2;xs.BUBBLING_PHASE=3;var wh=xs,aw=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},$T=Ne,lw=wh;function cw(){lw.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}$T(cw,lw);var zT=cw,FT=Ne,uw=wh;function dw(e){uw.call(this),this.initEvent("message",!1,!1),this.data=e}FT(dw,uw);var BT=dw,fw=wt.EventEmitter,UT=Ne;function Fi(){var e=this;fw.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Fi.timeout)}UT(Fi,fw);Fi.prototype.close=function(){clearTimeout(this.to)};Fi.timeout=2e3;var WT=Fi,hw=wt.EventEmitter,VT=Ne,HT=vh;function bh(e,t){hw.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,i){var a,l;if(s===200){if(l=+new Date-r,i)try{a=JSON.parse(i)}catch{}HT.isObject(a)||(a={})}n.emit("finish",a,l),n.removeAllListeners()})}VT(bh,hw);bh.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var mw=bh,nu,Lp;function pw(){if(Lp)return nu;Lp=1;var e=Ne,t=wt.EventEmitter,n=Pi,r=mw;function s(i){var a=this;t.call(this),this.ir=new r(i,n),this.ir.once("finish",function(l,c){a.ir=null,a.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},nu=s,nu}var gw=wt.EventEmitter,KT=Ne,GT=zr,vw=Xy,XT=pw();function oc(e,t){var n=this;gw.call(this);var r=function(){var s=n.ifr=new vw(XT.transportName,t,e);s.once("message",function(i){if(i){var a;try{a=JSON.parse(i)}catch{n.emit("finish"),n.close();return}var l=a[0],c=a[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():GT.attachEvent("load",r)}KT(oc,gw);oc.enabled=function(){return vw.enabled()};oc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var YT=oc,xw=wt.EventEmitter,qT=Ne,QT=tn,Dp=gh,Mp=sc,JT=Pi,ZT=WT,$p=YT,ba=mw;function qn(e,t){var n=this;xw.call(this),setTimeout(function(){n.doXhr(e,t)},0)}qT(qn,xw);qn._getReceiver=function(e,t,n){return n.sameOrigin?new ba(t,JT):Mp.enabled?new ba(t,Mp):Dp.enabled&&n.sameScheme?new ba(t,Dp):$p.enabled()?new $p(e,t):new ba(t,ZT)};qn.prototype.doXhr=function(e,t){var n=this,r=QT.addPath(e,"/info");this.xo=qn._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},qn.timeout),this.xo.once("finish",function(s,i){n._cleanup(!0),n.emit("finish",s,i)})};qn.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};qn.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};qn.timeout=8e3;var e_=qn,ru,zp;function t_(){if(zp)return ru;zp=1;var e=Li;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},ru=t,ru}var su,Fp;function n_(){if(Fp)return su;Fp=1;var e=tn,t=zr,n=t_(),r=pw(),s=Li,i=aw,a=function(){};return su=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[r.transportName]=r;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=i.hash.slice(1);var m=function(y){if(y.source===parent&&(typeof h>"u"&&(h=y.origin),y.origin===h)){var w;try{w=JSON.parse(y.data)}catch{a("bad json",y.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{a("bad json",w.data);break}var b=x[0],g=x[1],p=x[2],v=x[3];if(b!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+b+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(p,i.href)||!e.isOriginEqual(v,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+p+", "+v+")");f=new n(new u[g](p,v));break;case"m":f._send(w.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},su}var r_=wy,s_=Ne,Bp=fo,o_=LT,zo=tn,i_=zr,a_=DT,l_=vh,c_=Ai,u_=MT,jh=wh,yw=by,ja=aw,d_=zT,Up=BT,f_=e_,On=function(){},ww;function be(e,t,n){if(!(this instanceof be))return new be(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");yw.call(this),this.readyState=be.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&u_.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Bp.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Bp.numberString(1e3);var s=new r_(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var i=s.protocol==="https:";if(ja.protocol==="https:"&&!i&&!zo.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<a.length-1&&c===a[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=zo.getOrigin(ja.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,On("using url",this.url),this._urlInfo={nullOrigin:!c_.hasDomain(),sameOrigin:zo.isOriginEqual(this.url,ja.href),sameScheme:zo.isSchemeEqual(this.url,ja.href)},this._ir=new f_(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}s_(be,yw);function bw(e){return e===1e3||e>=3e3&&e<=4999}be.prototype.close=function(e,t){if(e&&!bw(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===be.CLOSING||this.readyState===be.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};be.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===be.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===be.OPEN&&this._transport.send(o_.quote(e))};be.version=Wy();be.CONNECTING=0;be.OPEN=1;be.CLOSING=2;be.CLOSED=3;be.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=l_.extend(e,this._urlInfo);var n=ww.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,On(this._transports.length+" enabled transports"),this._connect()};be.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(On("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),i_.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=zo.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};be.prototype._transportTimeout=function(){this.readyState===be.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};be.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new jh("heartbeat")),On("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(i){On("message",t.transport),t.dispatchEvent(new Up(i))});break;case"m":On("message",this.transport),this.dispatchEvent(new Up(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};be.prototype._transportClose=function(e,t){if(On("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!bw(e)&&e!==2e3&&this.readyState===be.CONNECTING){this._connect();return}this._close(e,t)};be.prototype._open=function(){On("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===be.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=be.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new jh("open")),On("connected",this.transport)):this._close(1006,"Server lost session")};be.prototype._close=function(e,t,n){On("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===be.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=be.CLOSING,setTimeout((function(){this.readyState=be.CLOSED,r&&this.dispatchEvent(new jh("error"));var s=new d_;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};be.prototype.countRTO=function(e){return e>100?4*e:300+e};var h_=function(e){return ww=a_(e),n_()(be,e),be},m_=ST,p_=h_(m_);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const g_=Ad(p_);function v_({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:i,onError:a}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),m=d.useRef(),[y,w]=d.useState(0),x=3,b=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const N=b();console.log("WebSocket   - :",N?"":""),N||console.warn("      ()"),h("connecting"),console.log("WebSocket  :",{url:"http://localhost:8080/ws",token:N?`${N.substring(0,10)}...`:"null"});const C=new hy({webSocketFactory:()=>new g_("http://localhost:8080/ws"),connectHeaders:N?{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",N?{Authorization:`Bearer ${N.substring(0,10)}...`}:{token:"none"})},debug:E=>{console.log("STOMP Debug:",E)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),h("connected"),w(0),C.subscribe(`/topic/rooms/${e}/chat`,E=>{try{const k=JSON.parse(E.body);n==null||n(k)}catch(k){console.error("   :",k)}}),C.subscribe(`/topic/rooms/${e}/participants`,E=>{try{const k=JSON.parse(E.body);r==null||r(k),h("connected"),c(!0)}catch(k){console.error("   :",k)}}),C.subscribe(`/topic/rooms/${e}/video`,E=>{try{const k=JSON.parse(E.body);s==null||s(k)}catch(k){console.error("    :",k)}}),C.subscribe("/user/queue/sync",E=>{try{const k=JSON.parse(E.body);(!("participantsInfoDto"in k)||!k.participantsInfoDto)&&(k.participantsInfoDto={participantDtoList:[],participantCount:0}),i==null||i(k),h("connected"),c(!0)}catch(k){console.error("    :",k)}}),C.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),h("disconnected")},onStompError:E=>{var k;console.error(" STOMP :",{message:E.headers.message,body:E.body,headers:E.headers}),(k=E.headers.message)!=null&&k.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),a==null||a("    .  .")):a==null||a(` : ${E.headers.message}`),h("error"),y<x&&(w(T=>T+1),m.current=setTimeout(()=>{g()},5e3*y))},onWebSocketError:E=>{console.error(" WebSocket :",E),h("error"),a==null||a("WebSocket   ."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=C,C.activate()},[e,t,n,r,s,i,a]),p=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),m.current&&clearTimeout(m.current),c(!1),h("disconnected"),w(0)},[e,t]),v=d.useCallback(N=>{var E;if(!((E=f.current)!=null&&E.connected)){a==null||a("WebSocket  .");return}const C={chatRoomId:e,content:N};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(C)})},[e,a]),j=d.useCallback(N=>{var C;if(!((C=f.current)!=null&&C.connected)){a==null||a("WebSocket  .");return}f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(N)})},[e,a]);return d.useEffect(()=>{const N=E=>{if(l)return E.preventDefault(),E.returnValue=" ?"," ?"},C=()=>{p()};return window.addEventListener("beforeunload",N),window.addEventListener("unload",C),()=>{window.removeEventListener("beforeunload",N),window.removeEventListener("unload",C)}},[l,p]),d.useEffect(()=>()=>{p()},[p]),{isConnected:l,connectionStatus:u,connect:g,disconnect:p,sendChatMessage:v,sendVideoControl:j,reconnectAttempts:y}}function x_(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(i=>({...i,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const i=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(i))},100);setTimeout(()=>{clearInterval(i),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API  "})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API   ")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API   "})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var jw=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(jw||{}),Ss=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Ss||{});function y_({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s}){const[i,a]=d.useState(null),[l,c]=d.useState(!1),u=d.useRef(null),h=d.useRef(!1),f=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:C=>{console.log("YouTube Player Ready"),c(!0),u.current=C.target,a(C.target)},onStateChange:C=>{const E=C.data,k=Math.floor(C.target.getCurrentTime());let T,A=!1;switch(E){case window.YT.PlayerState.PLAYING:T=Ss.PLAY,A=!0;break;case window.YT.PlayerState.PAUSED:T=Ss.PAUSE,A=!1;break;default:return}console.log("YouTube Player State Change:",{state:E,currentTime:k,isPlaying:A,isHost:n}),n&&!h.current&&(r==null||r(A,k,T))},onError:C=>{console.error("YouTube Player Error:",C.data);let E="YouTube   .";switch(C.data){case 2:E="  ID.";break;case 5:E="HTML5   .";break;case 100:E="   .";break;case 101:case 150:E="   .";break}s==null||s(E)}}})}catch(C){console.error("YouTube Player  :",C),s==null||s("YouTube    .")}},[e,t,n,r,s]);d.useEffect(()=>{if(window.YT&&window.YT.Player)f();else{const C=setInterval(()=>{window.YT&&window.YT.Player&&(clearInterval(C),f())},100);setTimeout(()=>{clearInterval(C),(!window.YT||!window.YT.Player)&&(s==null||s("YouTube API  "))},1e4)}},[f]);const m=d.useCallback(()=>{u.current&&l&&(h.current=!0,u.current.playVideo(),setTimeout(()=>{h.current=!1},100))},[l]),y=d.useCallback(()=>{u.current&&l&&(h.current=!0,u.current.pauseVideo(),setTimeout(()=>{h.current=!1},100))},[l]),w=d.useCallback(C=>{u.current&&l&&(h.current=!0,u.current.seekTo(C,!0),setTimeout(()=>{h.current=!1},100))},[l]),x=d.useCallback(()=>u.current&&l?Math.floor(u.current.getCurrentTime()):0,[l]),b=d.useCallback(()=>u.current&&l?Math.floor(u.current.getDuration()):0,[l]),g=d.useCallback(()=>u.current&&l?u.current.getPlayerState():jw.UNSTARTED,[l]),p=d.useCallback(C=>{u.current&&l&&u.current.setVolume(C)},[l]),v=d.useCallback(()=>u.current&&l?u.current.getVolume():0,[l]),j=d.useCallback(()=>{u.current&&(u.current.destroy(),u.current=null,a(null),c(!1))},[]),N=d.useCallback(C=>{if(!(!u.current||!l||n)){h.current=!0;try{switch(C.action){case Ss.PLAY:u.current.seekTo(C.currentTime,!0),u.current.playVideo();break;case Ss.PAUSE:u.current.pauseVideo();break;case Ss.SEEK:u.current.seekTo(C.currentTime,!0),C.isPlaying&&u.current.playVideo();break}}catch(E){console.error("  :",E)}setTimeout(()=>{h.current=!1},100)}},[l,n]);return d.useEffect(()=>()=>{j()},[j]),{player:i,isReady:l,play:m,pause:y,seekTo:w,getCurrentTime:x,getDuration:b,getPlayerState:g,setVolume:p,getVolume:v,destroy:j,syncVideo:N}}var Nw=["PageUp","PageDown"],Sw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},go="Slider",[Td,w_,b_]=Wf(go),[Cw,SR]=$n(go,[b_]),[j_,ic]=Cw(go),Ew=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:w,...x}=e,b=d.useRef(new Set),g=d.useRef(0),v=a==="horizontal"?N_:S_,[j=[],N]=is({prop:h,defaultProp:u,onChange:L=>{var _;(_=[...b.current][g.current])==null||_.focus(),f(L)}}),C=d.useRef(j);function E(L){const S=__(j,L);A(L,S)}function k(L){A(L,g.current)}function T(){const L=C.current[g.current];j[g.current]!==L&&m(j)}function A(L,S,{commit:_}={commit:!1}){const z=I_(i),W=O_(Math.round((L-r)/i)*i+r,z),R=gi(W,[r,s]);N((B=[])=>{const P=E_(B,R,S);if(A_(P,c*i)){g.current=P.indexOf(R);const F=String(P)!==String(B);return F&&_&&m(P),F?P:B}else return B})}return o.jsx(j_,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:g,thumbs:b.current,values:j,orientation:a,form:w,children:o.jsx(Td.Provider,{scope:e.__scopeSlider,children:o.jsx(Td.Slot,{scope:e.__scopeSlider,children:o.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:le(x.onPointerDown,()=>{l||(C.current=j)}),min:r,max:s,inverted:y,onSlideStart:l?void 0:E,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&A(r,0,{commit:!0}),onEndKeyDown:()=>!l&&A(s,j.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:S})=>{if(!l){const W=Nw.includes(L.key)||L.shiftKey&&Sw.includes(L.key)?10:1,R=g.current,B=j[R],P=i*W*S;A(B+P,R,{commit:!0})}}})})})})});Ew.displayName=go;var[Tw,_w]=Cw(go,{startEdge:"left",endEdge:"right",size:"width",direction:1}),N_=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,m]=d.useState(null),y=ve(t,v=>m(v)),w=d.useRef(void 0),x=Ti(s),b=x==="ltr",g=b&&!i||!b&&i;function p(v){const j=w.current||f.getBoundingClientRect(),N=[0,j.width],E=Nh(N,g?[n,r]:[r,n]);return w.current=j,E(v-j.left)}return o.jsx(Tw,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(Rw,{dir:x,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const j=p(v.clientX);a==null||a(j)},onSlideMove:v=>{const j=p(v.clientX);l==null||l(j)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:v=>{const N=kw[g?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:N?-1:1})}})})}),S_=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=ve(t,h),m=d.useRef(void 0),y=!s;function w(x){const b=m.current||h.current.getBoundingClientRect(),g=[0,b.height],v=Nh(g,y?[r,n]:[n,r]);return m.current=b,v(x-b.top)}return o.jsx(Tw,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(Rw,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=w(x.clientY);i==null||i(b)},onSlideMove:x=>{const b=w(x.clientY);a==null||a(b)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=kw[y?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),Rw=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=ic(go,n);return o.jsx(ae.span,{...u,ref:t,onKeyDown:le(e.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Nw.concat(Sw).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:le(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():r(f)}),onPointerMove:le(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:le(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),Pw="SliderTrack",Aw=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=ic(Pw,n);return o.jsx(ae.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});Aw.displayName=Pw;var _d="SliderRange",Iw=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=ic(_d,n),i=_w(_d,n),a=d.useRef(null),l=ve(t,a),c=s.values.length,u=s.values.map(m=>Dw(m,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(ae.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});Iw.displayName=_d;var Rd="SliderThumb",Ow=d.forwardRef((e,t)=>{const n=w_(e.__scopeSlider),[r,s]=d.useState(null),i=ve(t,l=>s(l)),a=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(k_,{...e,ref:i,index:a})}),k_=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...i}=e,a=ic(Rd,n),l=_w(Rd,n),[c,u]=d.useState(null),h=ve(t,p=>u(p)),f=c?a.form||!!c.closest("form"):!0,m=Qf(c),y=a.values[r],w=y===void 0?0:Dw(y,a.min,a.max),x=T_(r,a.values.length),b=m==null?void 0:m[l.size],g=b?R_(b,w,l.direction):0;return d.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(Td.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(ae.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:le(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&o.jsx(Lw,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:y},r)]})});Ow.displayName=Rd;var C_="RadioBubbleInput",Lw=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),i=ve(s,r),a=eh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ae.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});Lw.displayName=C_;function E_(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,i)=>s-i)}function Dw(e,t,n){const i=100/(n-t)*(e-t);return gi(i,[0,100])}function T_(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function __(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function R_(e,t,n){const r=e/2,i=Nh([0,50],[0,r]);return(r-i(t)*n)*n}function P_(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function A_(e,t){if(t>0){const n=P_(e);return Math.min(...n)>=t}return!0}function Nh(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function I_(e){return(String(e).split(".")[1]||"").length}function O_(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var L_=Ew,D_=Aw,M_=Iw,$_=Ow;function Wp({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...i}){const a=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(L_,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:Se("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[o.jsx(D_,{"data-slot":"slider-track",className:Se("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(M_,{"data-slot":"slider-range",className:Se("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(l,c)=>o.jsx($_,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function z_({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:i,onSeek:a,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:h=!1}){const[f,m]=d.useState([80]),[y,w]=d.useState(!1),[x,b]=d.useState(!1),[g,p]=d.useState(!1),[v,j]=d.useState(0),N=d.useRef();d.useEffect(()=>{if(e.isReady){const W=e.getVolume();m([W]),w(W===0)}},[e.isReady]),d.useEffect(()=>(x&&(N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{b(!1)},3e3)),()=>{N.current&&clearTimeout(N.current)}),[x,f]);const C=()=>{if(x){w(!y);const W=y?f[0]:0;e.setVolume(W),l(W)}else b(!0)},E=W=>{m(W);const R=W[0];w(R===0),e.setVolume(R),l(R)},k=()=>{p(!0),j(r)},T=W=>{g&&j(W[0])},A=()=>{g&&t&&(a(v),p(!1))},L=()=>{if(t){const W=Math.max(0,r-10);a(W)}},S=()=>{if(t){const W=Math.min(s,r+10);a(W)}},_=()=>y||f[0]===0?o.jsx(sN,{className:"w-5 h-5"}):f[0]<50?o.jsx(nN,{className:"w-5 h-5"}):o.jsx(rN,{className:"w-5 h-5"}),z=W=>{const R=Math.floor(W/3600),B=Math.floor(W%3600/60),P=W%60;return R>0?`${R}:${B.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`:`${B}:${P.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(Wp,{value:[g?v:r],onValueChange:T,onPointerDown:k,onPointerUp:A,max:s,step:1,disabled:h||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:z(g?v:r)}),o.jsx("span",{children:z(s)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(D,{variant:"ghost",size:"sm",onClick:L,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(Qj,{className:"w-5 h-5"})}),o.jsx(D,{variant:"ghost",size:"sm",onClick:i,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"":"":"  ",children:n?o.jsx(cx,{className:"w-5 h-5"}):o.jsx(xt,{className:"w-5 h-5"})}),o.jsx(D,{variant:"ghost",size:"sm",onClick:S,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(Jj,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(D,{variant:"ghost",size:"sm",onClick:C,className:"hover:bg-white/10",title:" ",children:_()}),x&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(Wp,{value:f,onValueChange:E,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[f[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(Do,{className:"w-4 h-4 mr-1"}),"  "]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(D,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"",children:o.jsx(Xj,{className:"w-5 h-5"})}),o.jsx(D,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?" ":"",children:u?o.jsx(Kj,{className:"w-5 h-5"}):o.jsx(Hj,{className:"w-5 h-5"})})]})]})]})}var Mw=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Mw||{});function F_(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function B_({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var M;const[i,a]=d.useState(!1),{isLoaded:l}=x_(!0),[c,u]=d.useState(!0),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(null),[b,g]=d.useState(null),[p,v]=d.useState([]),[j,N]=d.useState([]),[C,E]=d.useState(!1),[k,T]=d.useState(!0),[A,L]=d.useState(null),[S,_]=d.useState(null),z=d.useRef(null),W=b!=null&&b.duration?parseInt(b.duration):7200,[R,B]=d.useState(!1),[P,F]=d.useState(0),V=S?F_(S):null,Y=y_({videoId:V||"",containerId:"youtube-player-container",isHost:C,onStateChange:(O,G,H)=>{console.log(" Video state changed:",{isPlaying:O,currentTime:G,action:H,isHost:C,isConnected:re}),B(O),F(G),C&&re&&(console.log(" Sending video control to server:",{action:H,currentTime:G}),de({videoControlAction:H,currentTime:G}))},onError:O=>{console.error("YouTube Player Error:",O),L(O)}}),ee=!!(V&&l),{isConnected:re,connectionStatus:me,connect:_e,disconnect:xe,sendChatMessage:te,sendVideoControl:de,reconnectAttempts:he}=v_({roomId:e,userId:n,onChatMessage:O=>{N(G=>[...G,O])},onParticipantsUpdate:O=>{console.log(" Participants updated:",O);const G=(O.participantDtoList??[]).map(J=>({userId:J.userId??J.username??"",userName:J.userName??J.username??"",userAvatar:J.userAvatar??J.profile??"",isHost:J.isHost??J.isOwner??!1,isOnline:J.isOnline??!0,joinedAt:J.joinedAt??""}));v(G);const H=G.find(J=>J.userId===n),ne=(H==null?void 0:H.isHost)||!1;console.log(" Host status check:",{currentUserId:n,currentUserParticipant:H,newIsHost:ne,allParticipants:G}),E(ne),!re&&typeof _e=="function"&&_e()},onVideoSync:O=>{Date.now()-O.timestamp<5e3&&!C&&(console.log("Video sync received:",O),Y.syncVideo&&Y.syncVideo({action:O.videoControlAction,currentTime:O.currentTime,isPlaying:O.isPlaying}),B(O.isPlaying),F(O.currentTime))},onRoomSync:O=>{var we;console.log(" Room sync received:",O);const G={id:O.id,title:O.title,contentTitle:O.content.title,ownerId:"",ownerName:"",createdAt:"",headCount:O.participantsInfoDto.participantsCount||O.participantsInfoDto.participantCount};x(G),g(O.content);const ne=(O.participantsInfoDto.participantDtoList||[]).map(ie=>({userId:ie.userId??ie.username??"",userName:ie.userName??ie.username??"",userAvatar:ie.userAvatar??ie.profile??"",isHost:ie.isHost??ie.isOwner??!1,isOnline:ie.isOnline??!0,joinedAt:ie.joinedAt??""}));v(ne),N(O.chatMessages??[]);const J=ne.find(ie=>ie.userId===n),fe=(J==null?void 0:J.isHost)||!1;console.log(" Host status check (room sync):",{currentUserId:n,currentUserParticipant:J,newIsHost:fe,allParticipants:ne}),E(fe),(we=O.content)!=null&&we.youtubeUrl?(console.log(" Setting YouTube URL from content.youtubeUrl:",O.content.youtubeUrl),_(O.content.youtubeUrl)):(console.warn(" No content.youtubeUrl provided, using fallback"),_("https://www.youtube.com/watch?v=ZnR0JiQGxRE&t=131s")),T(!1)},onError:O=>{L(O)}});d.useEffect(()=>{(async()=>{var G;T(!0),L(null);try{const H=await $l.joinWatchRoom(e),ne={id:H.id,title:H.title,contentTitle:H.content.title,ownerId:"",ownerName:"",createdAt:"",headCount:H.participantsInfoDto.participantsCount||H.participantsInfoDto.participantCount};x(ne),g(H.content),console.log(" Initial host status set to false (will be updated via WebSocket)"),E(!1),B(!1),F(0),N([]),(G=H.content)!=null&&G.youtubeUrl?(console.log(" Initial: Setting YouTube URL from content.youtubeUrl:",H.content.youtubeUrl),_(H.content.youtubeUrl)):(console.warn(" Initial: No content.youtubeUrl provided, using fallback"),_("https://www.youtube.com/watch?v=ZnR0JiQGxRE&t=131s")),r&&_e()}catch(H){console.error("Failed to load room data:",H),L(H instanceof Error?H.message:"     .")}finally{T(!1)}})()},[e,n]),d.useEffect(()=>()=>{xe()},[xe]),d.useEffect(()=>{var O;(O=z.current)==null||O.scrollIntoView({behavior:"smooth"})},[j]);const I=()=>{if(console.log(" Play/Pause button clicked:",{isHost:C,isPlaying:R,isConnected:re,canUsePlayer:ee}),!C){console.log(" Not host, cannot control video");return}if(!ee){console.log(" Player not ready, cannot control video");return}R?(console.log(" Pausing video"),Y.pause()):(console.log(" Playing video"),Y.play())},q=O=>{if(console.log(" Seek requested:",{isHost:C,seconds:O,isConnected:re,canUsePlayer:ee}),!C){console.log(" Not host, cannot seek video");return}if(!ee){console.log(" Player not ready, cannot seek video");return}console.log(" Seeking to:",O),Y.seekTo(O),de({videoControlAction:Mw.SEEK,currentTime:O})},ue=O=>{Y.setVolume(O),console.log(`Volume changed to: ${O}%`)},Le=()=>{a(!i),u(!!i)},Ve=()=>{!m.trim()||!re||(te(m),console.log("Sending message:",m),y(""))},ot=O=>new Date(O).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return k?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Xt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!r&&!re?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:(w==null?void 0:w.contentTitle)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ut,{className:"w-4 h-4"}),o.jsxs("span",{children:[(w==null?void 0:w.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(td,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(D,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs(D,{onClick:_e,className:"teal-gradient hover:opacity-80 text-black",children:[me==="connecting"?o.jsx(Xt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ut,{className:"w-4 h-4 mr-2"})," "]})]})]})}):A?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:A}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(D,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx(D,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):w?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!i&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(D,{variant:"ghost",onClick:t,className:"hover:bg-white/10",children:[o.jsx(ao,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:w.title}),C&&o.jsxs(ct,{variant:"secondary",className:"text-xs",children:[o.jsx(Do,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:b?b.title:w.contentTitle}),b&&b.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:b.contentType})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ut,{className:"w-4 h-4"}),o.jsxs("span",{children:[p.filter(O=>O.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[re?o.jsx(iN,{className:"w-4 h-4 text-green-400"}):o.jsx(oN,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:re?"text-green-400":"text-yellow-400",children:re?"":me==="connecting"?" ":" "}),he>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",he,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(D,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(td,{className:"w-5 h-5"}),c?o.jsx(fr,{className:"w-4 h-4 ml-1"}):o.jsx(Yo,{className:"w-4 h-4 ml-1"})]})})]}),!re&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:me==="connecting"?"   ...":me==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Xt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API  ..."})]})}),l&&!V&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[b&&b.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:b.thumbnailUrl,alt:b.title,className:"w-full h-full object-cover",onError:O=>{const G=O.target;G.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(xt,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60",children:b?`${b.title}  ...`:"   ..."})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:ee?"block":"none"}}),!ee&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((M=w==null?void 0:w.contentTitle)==null?void 0:M.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center group",children:[o.jsx(D,{size:"lg",onClick:I,disabled:!C,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${C?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,children:R?o.jsx(cx,{className:"w-10 h-10 fill-current"}):o.jsx(xt,{className:"w-10 h-10 fill-current ml-1"})}),!C&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsx(z_,{playerController:Y,isHost:C,isPlaying:R,currentTime:P,totalDuration:W,onPlayPause:I,onSeek:q,onVolumeChange:ue,onFullscreenToggle:Le,isFullscreen:i,disabled:!re||!ee}),i&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx(D,{variant:"ghost",size:"sm",onClick:()=>f(!h),className:"p-1 hover:bg-white/10",children:o.jsx(ut,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[p.filter(O=>O.isOnline).length,"  "]})]}),h&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${p.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:p.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):p.map(O=>{var G;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs($e,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{O.userId!==n&&s&&s(O.userId)},children:[o.jsx(ze,{src:O.userAvatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:((G=O.userName)==null?void 0:G.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${O.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{O.userId!==n&&s&&s(O.userId)},children:O.userName}),O.isHost&&o.jsxs(ct,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(Do,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${O.isOnline?"bg-green-400":"bg-gray-400"}`})]},O.userId+O.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[k&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),j.map(O=>{var G,H;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs($e,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(ze,{src:(G=p.find(ne=>ne.userId===O.senderId))==null?void 0:G.userAvatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:O.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:O.senderName}),((H=p.find(ne=>ne.userId===O.senderId))==null?void 0:H.isHost)&&o.jsx(Do,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:ot(O.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:O.content})]})]})},O.id)}),o.jsx("div",{ref:z})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Me,{placeholder:re?" ...":"  ...",value:m,onChange:O=>y(O.target.value),onKeyPress:O=>O.key==="Enter"&&Ve(),disabled:!re,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx(D,{onClick:Ve,disabled:!m.trim()||!re,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(Pf,{className:"w-4 h-4"})})]})})]})})]})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function U_({onJoinRoom:e,onCreateRoom:t,onUserProfileOpen:n,currentUserId:r}){const[s,i]=d.useState(""),[a,l]=d.useState("participants"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,y]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(null),p=async(k=!0)=>{try{k?f(!0):x(!0),y(null);const T=await $l.getWatchRooms({query:s,sortBy:a==="participants"?"participantCount":"createdAt"});u(T)}catch(T){console.error("   :",T),y(T instanceof Error?T.message:"     .")}finally{f(!1),x(!1)}};d.useEffect(()=>{const k=setTimeout(()=>{p(!1)},300);return()=>clearTimeout(k)},[s,a]),d.useEffect(()=>{p(!0)},[]);const v=k=>{switch(k){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}},j=k=>{switch(k){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}},N=c.filter(k=>k.headCount>=10),C=c,E=async k=>{if(!b){g(k.id);try{await(e==null?void 0:e(k))}finally{g(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(D,{onClick:()=>p(!1),disabled:w,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[w?o.jsx(Xt,{className:"w-4 h-4 animate-spin"}):o.jsx(es,{className:"w-4 h-4"}),""]}),o.jsxs(D,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(qt,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(hs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Me,{placeholder:" , ,  ...",value:s,onChange:k=>i(k.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(nh,{value:a,onValueChange:k=>l(k),children:[o.jsx(sh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(rh,{placeholder:""})}),o.jsxs(oh,{children:[o.jsx(_n,{value:"participants",children:"  "}),o.jsx(_n,{value:"latest",children:""}),o.jsx(_n,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",C.length,"  "]}),o.jsxs(ct,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(ut,{className:"w-3 h-3 mr-1"}),""]})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(D,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Xt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[!s&&N.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(Af,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(k=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-[#4ecdc4]/30 hover:border-[#4ecdc4]/50 transition-all duration-300 group relative",children:[o.jsx("div",{className:"absolute top-3 left-3 z-10",children:o.jsxs(ct,{className:"bg-[#4ecdc4] text-black",children:[o.jsx(tr,{className:"w-3 h-3 mr-1"}),""]})}),o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:k.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(D,{onClick:()=>E(k),className:"teal-gradient hover:opacity-80 text-black",disabled:!!b,children:[b===k.id?o.jsx(Xt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ut,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/70 backdrop-blur-sm rounded-lg px-2 py-1 flex items-center gap-1",children:[o.jsx(pi,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:k.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ct,{variant:"outline",className:j("movie"),children:v("movie")}),o.jsx("span",{className:"text-xs text-white/60",children:" "})]}),o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:k.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:k.contentTitle}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{className:`w-6 h-6 transition-all ${r?"cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(k.ownerId):alert("  .   .")},children:[o.jsx(ze,{src:""}),o.jsx(Fe,{children:k.ownerName[0]})]}),o.jsx("span",{className:`text-sm text-white/80 transition-colors ${r?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(k.ownerId):alert("  .   .")},children:k.ownerName})]})]})]},k.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map(k=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:k.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(D,{size:"sm",onClick:()=>E(k),className:"teal-gradient hover:opacity-80 text-black",disabled:!!b,children:[b===k.id?o.jsx(Xt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ut,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(pi,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:k.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ct,{variant:"outline",className:j("movie"),children:v("movie")}),k.headCount>=10&&o.jsx(ct,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:""})]}),o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:k.title}),o.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-1",children:k.contentTitle}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{className:`w-5 h-5 transition-all ${r?"cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(k.ownerId):alert("  .   .")},children:[o.jsx(ze,{src:""}),o.jsx(Fe,{children:k.ownerName[0]})]}),o.jsx("span",{className:`text-xs text-white/80 truncate transition-colors ${r?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(k.ownerId):alert("  .   .")},children:k.ownerName})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60",children:[o.jsx(es,{className:"w-3 h-3"})," "]})]})]})]},k.id))})]}),C.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ut,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":"   ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[s&&o.jsx(D,{variant:"outline",onClick:()=>i(""),className:"border-white/20 hover:bg-white/5",children:"  "}),o.jsxs(D,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(qt,{className:"w-4 h-4 mr-2"}),"  "]})]})]})]})]})})}var ac="Switch",[W_,kR]=$n(ac),[V_,H_]=W_(ac),$w=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,y]=d.useState(null),w=ve(t,v=>y(v)),x=d.useRef(!1),b=m?h||!!m.closest("form"):!0,[g,p]=is({prop:s,defaultProp:i??!1,onChange:u,caller:ac});return o.jsxs(V_,{scope:n,checked:g,disabled:l,children:[o.jsx(ae.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":Uw(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:le(e.onClick,v=>{p(j=>!j),b&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),b&&o.jsx(Bw,{control:m,bubbles:!x.current,name:r,value:c,checked:g,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});$w.displayName=ac;var zw="SwitchThumb",Fw=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=H_(zw,n);return o.jsx(ae.span,{"data-state":Uw(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});Fw.displayName=zw;var K_="SwitchBubbleInput",Bw=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=ve(a,i),c=eh(n),u=Qf(t);return d.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const w=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(w)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Bw.displayName=K_;function Uw(e){return e?"checked":"unchecked"}var G_=$w,X_=Fw;function Y_({className:e,...t}){return o.jsx(G_,{"data-slot":"switch",className:Se("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(X_,{"data-slot":"switch-thumb",className:Se("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Vp({isOpen:e,onClose:t,onCreateWatchParty:n,onWatchAlone:r,content:s}){const[i,a]=d.useState(!1),[l,c]=d.useState("");d.useEffect(()=>{s&&e&&c(`${s.title} `)},[s,e]);const u=()=>{const h={isPublic:i,roomName:l||`${s==null?void 0:s.title} `};n(h)};return s?o.jsx(Bl,{open:e,onOpenChange:t,children:o.jsxs(Ul,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(Wl,{children:o.jsxs(Vl,{className:"flex items-center space-x-2",children:[o.jsx(ut,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:"  "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover",onError:h=>{const f=h.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:s.title}),o.jsx("p",{className:"text-sm text-white/60",children:s.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:s.description})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(D,{onClick:r,variant:"outline",className:"w-full justify-start border-white/20 hover:bg-white/5 h-auto p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(xt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"  "})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(ut,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Rt,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(Me,{id:"roomName",value:l,onChange:h=>c(h.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[i?o.jsx(ll,{className:"w-4 h-4 text-green-400"}):o.jsx(cl,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Rt,{htmlFor:"isPublic",className:"text-sm",children:i?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:i?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(Y_,{id:"isPublic",checked:i,onCheckedChange:a})})]})}),o.jsxs(D,{onClick:u,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!l.trim(),children:[o.jsx(ut,{className:"w-4 h-4 mr-2"})," "]})]})]})]})]})]})}):null}function Hp({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:i}){const[a,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(""),[b,g]=d.useState(!0),[p,v]=d.useState([]),[j,N]=d.useState(!1);d.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{N(!0);const _=await r();v(_)}catch(_){console.error("Error loading playlists:",_)}finally{N(!1)}},E=p.filter(_=>_.title.toLowerCase().includes(a.toLowerCase())||_.description.toLowerCase().includes(a.toLowerCase())),k=_=>{u(z=>z.includes(_)?z.filter(W=>W!==_):[...z,_])},T=async()=>{if(n)try{const _=c.map(z=>i(z,[n.id]));await Promise.all(_),alert(`"${n.title}"() ${c.length}  .`),u([]),l(""),t()}catch(_){console.error("   :",_),alert("     .")}},A=async()=>{if(!(!m.trim()||!n))try{const _=await s({name:m,description:w,isPublic:b});await i(_.id,[n.id]),alert(`  "${m}"()  "${n.title}"() .`),y(""),x(""),g(!0),f(!1),t()}catch(_){console.error("Error creating playlist:",_),alert("    .")}},L=()=>{u([]),l(""),f(!1),y(""),x(""),g(!0)},S=()=>{L(),t()};return n?o.jsx(Bl,{open:e,onOpenChange:S,children:o.jsxs(Ul,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(Wl,{children:o.jsx(Vl,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs($e,{className:"h-12 w-12 rounded-lg",children:[o.jsx(ze,{src:n.thumbnail,className:"object-cover"}),o.jsx(Fe,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"":n.type==="tv"?"TV":"","  ",n.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Me,{placeholder:" ",value:m,onChange:_=>y(_.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Me,{placeholder:" ()",value:w,onChange:_=>x(_.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[b?o.jsx(ll,{className:"w-4 h-4 text-green-400"}):o.jsx(cl,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:b?"":""})]}),o.jsx(D,{variant:"ghost",size:"sm",onClick:()=>g(!b),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(D,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx(D,{onClick:A,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Me,{placeholder:" ...",value:a,onChange:_=>l(_.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(D,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(qt,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:j?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):E.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:a?"  ":" "}):E.map(_=>o.jsxs("div",{onClick:()=>k(_.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(_.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs($e,{className:"h-10 w-10 rounded-lg",children:[o.jsx(ze,{src:_.thumbnail,className:"object-cover"}),o.jsx(Fe,{children:_.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:_.title}),_.isPublic?o.jsx(ll,{className:"w-3 h-3 text-green-400"}):o.jsx(cl,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[_.contentCount," "]})]}),c.includes(_.id)&&o.jsx(Ws,{className:"w-5 h-5 text-[#4ecdc4]"})]},_.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(D,{variant:"outline",onClick:S,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs(D,{onClick:T,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function Kp({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,i]=d.useState(""),[a,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState(""),[m,y]=d.useState("select"),[w,x]=d.useState(!1),[b,g]=d.useState(null),[p,v]=d.useState([]),[j,N]=d.useState(!1),[C,E]=d.useState(!1),[k,T]=d.useState(),[A,L]=d.useState(!1),S=async(P=!1)=>{try{P?L(!0):N(!0),g(null);const F=await Qr.getContents({type:a==="all"?void 0:a.toUpperCase(),query:s||void 0,cursor:P?k:void 0,size:20});v(P?V=>[...V,...F.data]:F.data),E(F.hasNext),T(F.nextCursor)}catch(F){console.error("  :",F),g(F instanceof Error?F.message:"    .")}finally{N(!1),L(!1)}};d.useEffect(()=>{e&&S(!1)},[e]),d.useEffect(()=>{if(!e)return;const P=setTimeout(()=>{S(!1)},300);return()=>clearTimeout(P)},[s,a,e]);const _=()=>{C&&!j&&!A&&S(!0)},z=P=>{u(P),f(`${P.title} `),y("create"),g(null)},W=async()=>{if(!c||!h.trim()){g("  .");return}x(!0),g(null);try{const P={contentId:c.id,ownerId:r,title:h.trim()},F=await $l.createWatchRoom(P),V=`room-content-${F.id}`;localStorage.setItem(V,JSON.stringify({contentId:c.id,contentData:c,savedAt:Date.now()})),n(F),R()}catch(P){console.error("  :",P),g(P instanceof Error?P.message:"    .")}finally{x(!1)}},R=()=>{i(""),l("all"),u(null),f(""),y("select"),x(!1),g(null),v([]),N(!1),E(!1),T(void 0),L(!1),t()},B=P=>{switch(P){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:m,selectedContent:c,loading:j}),o.jsx(Bl,{open:e,onOpenChange:R,children:o.jsxs(Ul,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(Wl,{children:o.jsx(Vl,{className:"text-xl",children:m==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),m==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(hs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Me,{placeholder:" ...",value:s,onChange:P=>i(P.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(nh,{value:a,onValueChange:l,children:[o.jsx(sh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(rh,{placeholder:""})}),o.jsxs(oh,{children:[o.jsx(_n,{value:"all",children:""}),o.jsx(_n,{value:"movie",children:""}),o.jsx(_n,{value:"tv",children:"TV/"}),o.jsx(_n,{value:"sports",children:""})]})]})]}),j&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Xt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),b&&!j&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:b}),o.jsx(D,{onClick:()=>S(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!j&&!b&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[p.map(P=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>z(P),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:P.thumbnail||P.thumbnailUrl,alt:P.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:F=>{const V=F.target;V.style.display="none";const Y=V.parentElement;if(Y&&!Y.querySelector(".image-fallback")){const ee=document.createElement("div");ee.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",ee.textContent=P.title.charAt(0).toUpperCase(),Y.appendChild(ee)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(D,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:w,children:[o.jsx(xt,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:P.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:P.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[(P.avgRating||P.rating)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs",children:P.avgRating||P.rating})]}),o.jsx(ct,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:B(P.contentType)})]})]})]},P.id)),C&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx(D,{onClick:_,disabled:A||w,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:A?o.jsxs(o.Fragment,{children:[o.jsx(Xt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!j&&!b&&p.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx(D,{variant:"outline",onClick:()=>{i(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail||c.thumbnailUrl,alt:c.title,className:"w-full h-full object-cover",onError:P=>{const F=P.target;F.style.display="none";const V=F.parentElement;if(V&&!V.querySelector(".image-fallback")){const Y=document.createElement("div");Y.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",Y.textContent=c.title.charAt(0).toUpperCase(),V.appendChild(Y)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[(c.avgRating||c.rating)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:c.avgRating||c.rating})]}),o.jsx(ct,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:B(c.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:" "}),o.jsx(Me,{id:"room-title",placeholder:"  ...",value:h,onChange:P=>f(P.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[h.length,"/50"]})]}),b&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:b})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(D,{variant:"outline",onClick:()=>{y("select"),u(null),f(""),g(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:w,children:""}),o.jsx(D,{onClick:W,disabled:!c||!h.trim()||w,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:w?o.jsxs(o.Fragment,{children:[o.jsx(Xt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var ou="rovingFocusGroup.onEntryFocus",q_={bubbles:!1,cancelable:!0},Bi="RovingFocusGroup",[Pd,Ww,Q_]=Wf(Bi),[J_,Vw]=$n(Bi,[Q_]),[Z_,eR]=J_(Bi),Hw=d.forwardRef((e,t)=>o.jsx(Pd.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Pd.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(tR,{...e,ref:t})})}));Hw.displayName=Bi;var tR=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),y=ve(t,m),w=Ti(i),[x,b]=is({prop:a,defaultProp:l??null,onChange:c,caller:Bi}),[g,p]=d.useState(!1),v=vt(u),j=Ww(n),N=d.useRef(!1),[C,E]=d.useState(0);return d.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(ou,v),()=>k.removeEventListener(ou,v)},[v]),o.jsx(Z_,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(k=>b(k),[b]),onItemShiftTab:d.useCallback(()=>p(!0),[]),onFocusableItemAdd:d.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>E(k=>k-1),[]),children:o.jsx(ae.div,{tabIndex:g||C===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{N.current=!0}),onFocus:le(e.onFocus,k=>{const T=!N.current;if(k.target===k.currentTarget&&T&&!g){const A=new CustomEvent(ou,q_);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const L=j().filter(R=>R.focusable),S=L.find(R=>R.active),_=L.find(R=>R.id===x),W=[S,_,...L].filter(Boolean).map(R=>R.ref.current);Xw(W,h)}}N.current=!1}),onBlur:le(e.onBlur,()=>p(!1))})})}),Kw="RovingFocusGroupItem",Gw=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=Er(),u=i||c,h=eR(Kw,n),f=h.currentTabStopId===u,m=Ww(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=h;return d.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),o.jsx(Pd.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(ae.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:le(e.onMouseDown,b=>{r?h.onItemFocus(u):b.preventDefault()}),onFocus:le(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:le(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=sR(b,h.orientation,h.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=m().filter(j=>j.focusable).map(j=>j.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const j=v.indexOf(b.currentTarget);v=h.loop?oR(v,j+1):v.slice(j+1)}setTimeout(()=>Xw(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});Gw.displayName=Kw;var nR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sR(e,t,n){const r=rR(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nR[r]}function Xw(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function oR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iR=Hw,aR=Gw,lc="Tabs",[lR,CR]=$n(lc,[Vw]),Yw=Vw(),[cR,Sh]=lR(lc),qw=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Ti(l),[f,m]=is({prop:r,onChange:s,defaultProp:i??"",caller:lc});return o.jsx(cR,{scope:n,baseId:Er(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(ae.div,{dir:h,"data-orientation":a,...u,ref:t})})});qw.displayName=lc;var Qw="TabsList",Jw=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Sh(Qw,n),a=Yw(n);return o.jsx(iR,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Jw.displayName=Qw;var Zw="TabsTrigger",eb=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Sh(Zw,n),l=Yw(n),c=rb(a.baseId,r),u=sb(a.baseId,r),h=r===a.value;return o.jsx(aR,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(ae.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:le(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:le(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:le(e.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});eb.displayName=Zw;var tb="TabsContent",nb=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=Sh(tb,n),c=rb(l.baseId,r),u=sb(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(or,{present:s||h,children:({present:m})=>o.jsx(ae.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});nb.displayName=tb;function rb(e,t){return`${e}-trigger-${t}`}function sb(e,t){return`${e}-content-${t}`}var uR=qw,dR=Jw,fR=eb,hR=nb;function mR({className:e,...t}){return o.jsx(uR,{"data-slot":"tabs",className:Se("flex flex-col gap-2",e),...t})}function pR({className:e,...t}){return o.jsx(dR,{"data-slot":"tabs-list",className:Se("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function iu({className:e,...t}){return o.jsx(fR,{"data-slot":"tabs-trigger",className:Se("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function au({className:e,...t}){return o.jsx(hR,{"data-slot":"tabs-content",className:Se("flex-1 outline-none",e),...t})}function gR({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s,getPlaylists:i}){const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState([]),[m,y]=d.useState([]),[w,x]=d.useState(!1),[b,g]=d.useState(!0),[p,v]=d.useState(null),[j,N]=d.useState(!1),C=e===t,E=async()=>{try{const _=await r(`http://localhost:8080/api/users/${e}`);if(!_.ok)throw new Error("   .");const z=await _.json();l(z)}catch(_){console.error("   :",_),v("    .")}},k=async()=>{try{const _=await r(`http://localhost:8080/api/follows/${e}/followers`);if(!_.ok)throw new Error("   .");const z=await _.json();u(z)}catch(_){console.error("   :",_)}},T=async()=>{try{const _=await r(`http://localhost:8080/api/follows/${e}/following`);if(!_.ok)throw new Error("   .");const z=await _.json();f(z)}catch(_){console.error("   :",_)}},A=async()=>{try{if(i){const _=await r(`http://localhost:8080/api/playlists?userId=${e}`);if(!_.ok)throw new Error("  .");const W=(await _.json()).filter(R=>R.isPublic);y(W)}else y([])}catch(_){console.error("  :",_),y([])}},L=async()=>{if(!(!t||C))try{const _=await r(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!_.ok)throw new Error("   .");const z=await _.json();x(z)}catch(_){console.error("   :",_),x(!1)}},S=async()=>{if(!(!t||C)){N(!0);try{if(w){if(!(await r("http://localhost:8080/api/follows/unfollow",{method:"DELETE",body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error(" .");x(!1),u(z=>z.filter(W=>W.id!==t))}else{if(!(await r("http://localhost:8080/api/follows/follow",{method:"POST",body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error(" .");x(!0),a&&u(z=>[...z,{id:t,name:"",email:"",profileImage:""}])}}catch(_){console.error("  :",_),alert(_ instanceof Error?_.message:"    .")}finally{N(!1)}}};return d.useEffect(()=>{e&&(async()=>{g(!0),v(null),await Promise.allSettled([E(),k(),T(),t?L():Promise.resolve(),A()]),g(!1)})()},[e,t]),b?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):p?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:p}),o.jsx(D,{onClick:n,variant:"outline",children:""})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs(D,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(ao,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs($e,{className:"h-32 w-32",children:[o.jsx(ze,{src:a.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:c.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:h.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:m.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!C&&o.jsx(D,{onClick:S,disabled:j,className:`${w?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:j?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):w?o.jsxs(o.Fragment,{children:[o.jsx(ux,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(If,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(mR,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(pR,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(iu,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Dm,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(iu,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(ut,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(iu,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(Rr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(au,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(_=>{var z;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:_.name||_.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:_.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((z=_.contents)==null?void 0:z.length)||_.itemCount||0," "]})]})]},_.id)})}),m.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Dm,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(au,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(_=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{_.id&&s&&s(_.id)},children:[o.jsxs($e,{className:"h-12 w-12",children:[o.jsx(ze,{src:_.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:_.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:_.name}),o.jsx("p",{className:"text-white/60 text-sm",children:_.email})]})]},_.id))}),c.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ut,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(au,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(_=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{_.id&&s&&s(_.id)},children:[o.jsxs($e,{className:"h-12 w-12",children:[o.jsx(ze,{src:_.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:_.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:_.name}),o.jsx("p",{className:"text-white/60 text-sm",children:_.email})]})]},_.id))}),h.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx(D,{onClick:n,variant:"outline",children:""})]})})}function vR(){const[e,t]=d.useState(()=>{const $=localStorage.getItem("currentPage")||"home";return console.log("   :",$),$}),[n,r]=d.useState(!1),[s,i]=d.useState(null),a=$=>{try{if(!$||typeof $!="string")return console.error("  :",$),null;const U=$.split(".");if(U.length!==3)return console.error(" JWT :",$),null;const K=JSON.parse(atob(U[1])),Q=K.userId||K.sub||K.id||null;return Q||console.error("  ID   :",K),Q}catch(U){return console.error("JWT   :",U,"Token:",$),null}},l=$=>{try{const U=JSON.parse(atob($.split(".")[1])),K=Date.now()/1e3,Q=U.exp,ce=5,Ee=Q<K+ce;return console.log("  :",{currentTime:K,expTime:Q,bufferTime:ce,isExpired:Ee,timeUntilExpiry:Q-K,payload:{...U,userId:U.userId||U.sub||U.id}}),Ee}catch(U){return console.error("   :",U),!0}},c=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),r(!1),t("home")},u=($,U=300)=>{try{const K=JSON.parse(atob($.split(".")[1])),Q=Date.now()/1e3,ce=K.iat;return ce&&Q-ce<U}catch(K){return console.error("    :",K),!1}},h=d.useRef(null),f=async()=>h.current?(console.log("    .   ."),h.current):(h.current=(async()=>{try{console.log("  ");const $=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",credentials:"include"});if(!$.ok)return console.log(`  : ${$.status} ${$.statusText}`),$.status===401?console.log("Refresh token ."):$.status===500&&console.log("    "),null;const U=await $.text();if(!U||U.trim()==="")return console.log("    "),null;const K=U.replace(/"/g,"");return console.log("  "),K}catch($){return console.error("Token refresh :",$),null}finally{h.current=null}})(),h.current),m=async($,U={})=>{let K=localStorage.getItem("accessToken");const Q=K?a(K):null;if(console.log("authenticatedFetch :",{url:$,accessToken:K?" ":" ",userIdFromToken:Q,currentUserId:s}),!K)throw console.error("  .  ."),c(),new Error("  .");if(l(K)&&!u(K)){console.log("   .");const Vt=await f();if(Vt){localStorage.setItem("accessToken",Vt),K=Vt;const yo=a(Vt);yo&&i(yo)}else throw c(),new Error(" .  .")}else l(K)&&u(K)&&console.log("    .");const jt={"Content-Type":"application/json",...["http://localhost:8080/api/auth/login","http://localhost:8080/api/auth/refresh","http://localhost:8080/api/auth/change-password","http://localhost:8080/api/auth/temp-password","http://localhost:8080/api/users"].some(Vt=>$.startsWith(Vt))?{}:{Authorization:`Bearer ${K}`},...U.headers||{}},Ui=await fetch($,{...U,headers:jt,credentials:"include"});if(Ui.status===401){console.log("401  ,   ");const Vt=await f();if(Vt){localStorage.setItem("accessToken",Vt),K=Vt;const yo=a(Vt);yo&&i(yo),console.log("  ,  ");const ob={...jt,Authorization:`Bearer ${Vt}`};return fetch($,{...U,headers:ob,credentials:"include"})}else throw console.log("  ,  "),c(),new Error(" .  .")}if(Ui.status===403)throw console.log(" ."),new Error("    .");if(Ui.status===404)throw new Error("    .");return Ui},y=async $=>{try{await m(`http://localhost:8080/api/notifications/${$}`,{method:"DELETE"})}catch(U){throw console.error("  :",U),U}},w=async()=>{try{await m("http://localhost:8080/api/notifications",{method:"DELETE"})}catch($){throw console.error("   :",$),$}},x=async()=>{try{const $=await m("http://localhost:8080/api/dmRooms/");if(!$.ok)throw new Error("DM    ");return await $.json()}catch($){throw console.error("DM    :",$),$}},b=async $=>{try{const U=await m(`http://localhost:8080/api/dmRooms/userRoom?userB=${$}`);if(!U.ok)throw new Error("DM  / ");return await U.text()}catch(U){throw console.error("DM  / :",U),U}},g=async($,U)=>{try{const K=new URLSearchParams;U!=null&&U.cursor&&K.append("cursor",U.cursor),U!=null&&U.size&&K.append("size",U.size.toString());const Q=await m(`http://localhost:8080/api/dm/${$}?${K}`);if(!Q.ok)throw new Error("DM    ");return await Q.json()}catch(K){throw console.error("DM    :",K),K}},p=async $=>{try{const U=$&&$.trim()!==""?$.trim():"",K=new URLSearchParams;K.append("keyword",U);const Q=`http://localhost:8080/api/playlists/search?${K}`;console.log(" API :",Q);const ce=await m(Q);if(console.log("  :",ce.status,ce.statusText),!ce.ok){let on="   ";try{const jt=await ce.text();console.error("  :",jt),on=`${ce.status} ${ce.statusText}: ${jt}`}catch(jt){console.error("   :",jt)}throw new Error(on)}const Ee=await ce.json();return console.log("  :",{url:Q,status:ce.status,dataType:Array.isArray(Ee)?` (: ${Ee.length})`:typeof Ee,data:Array.isArray(Ee)&&Ee.length>0?Ee.slice(0,2):Ee,headers:Object.fromEntries(ce.headers.entries())}),Ee}catch(U){throw console.error("    :",U),U}},v=async $=>{try{const U=`http://localhost:8080/api/playlists/${$}`;console.log("   API :",U);const K=await m(U);if(console.log("  :",K.status,K.statusText),!K.ok){let ce="  ";try{const Ee=await K.text();console.error("  :",Ee),ce=`${K.status} ${K.statusText}: ${Ee}`}catch(Ee){console.error("   :",Ee)}throw new Error(ce)}const Q=await K.json();return console.log("   :",{url:U,status:K.status,data:Q}),Q}catch(U){throw console.error("   :",U),U}},j=async $=>{var U,K;try{if(!$.name||$.name.trim()==="")throw new Error("  .");if(!s)throw new Error(" .");const Q={name:$.name.trim(),description:$.description||"",isPublic:$.isPublic??!0};console.log("   :",Q);const ce=await m("http://localhost:8080/api/playlists",{method:"POST",body:JSON.stringify(Q)});if(console.log("    :",ce.status,ce.statusText),!ce.ok){let on="  ";try{const jt=await ce.json();console.error("   :",jt),on=jt.message||on}catch(jt){console.error("Error parsing error response:",jt)}throw new Error(on)}const Ee=await ce.json();return console.log("   :",{createdPlaylist:Ee,createdBy:(U=Ee.user)==null?void 0:U.id,createdByName:(K=Ee.user)==null?void 0:K.name,currentUserId:s}),Ee}catch(Q){throw console.error("  :",Q),Q}},N=async($,U)=>{try{if(!U||U.length===0)throw new Error("  .");const K={contentIds:U},Q=await m(`http://localhost:8080/api/playlists/${$}/contents`,{method:"POST",body:JSON.stringify(K)});if(!Q.ok){let on="   ";try{on=(await Q.json()).message||on}catch(jt){console.error("Error parsing error response:",jt)}throw new Error(on)}let ce=null;const Ee=await Q.text();return Ee&&(ce=JSON.parse(Ee)),console.log("   :",ce),ce}catch(K){throw console.error("   :",K),K}},C=async($,U)=>{try{if(!U||U.length===0)throw new Error("  .");const K={contentIds:U},Q=await m(`http://localhost:8080/api/playlists/${$}/contents`,{method:"DELETE",body:JSON.stringify(K)});if(!Q.ok){let ce="   ";try{ce=(await Q.json()).message||ce}catch(Ee){console.error("Error parsing error response:",Ee)}throw new Error(ce)}console.log("   ")}catch(K){throw console.error("   :",K),K}},E=async $=>{try{if(!s)throw new Error(" ");console.log("   :",{userId:s,playlistId:$});const U={userId:s,playlistId:$};console.log("   :",U);const K=await m("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("   :",K.status,K.statusText),!K.ok){let Q="  ";try{Q=(await K.json()).message||Q}catch(ce){console.error("Error parsing error response:",ce)}throw new Error(Q)}console.log("  ")}catch(U){throw console.error("  :",U),U}},k=async $=>{try{console.log("    :",{subscriptionId:$});const U=await m(`http://localhost:8080/api/subscriptions/${$}`,{method:"DELETE"});if(console.log("    :",U.status,U.statusText),!U.ok){let K="   ";try{K=(await U.json()).message||K}catch(Q){console.error("Error parsing error response:",Q)}throw new Error(K)}console.log("   ")}catch(U){throw console.error("   :",U),U}},[T,A]=d.useState(null),[L,S]=d.useState(null),[_,z]=d.useState(null),[W,R]=d.useState(!1),[B,P]=d.useState(!1),[F,V]=d.useState(null),[Y,ee]=d.useState(!1),[re,me]=d.useState(!1),[_e,xe]=d.useState(null),[te,de]=d.useState(!1),[he,I]=d.useState(null),[q,ue]=d.useState(!1),[Le,Ve]=d.useState(null),[ot,M]=d.useState(!1),[O,G]=d.useState(null),[H,ne]=d.useState(!1),J=()=>{const $=new URL(window.location.href),U=$.pathname;if(U==="/oauth/success"){const K=$.searchParams.get("access_token");K?(fe(K),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}if(U==="/oauth/error"){const K=$.searchParams.get("message");if(K){const Q=decodeURIComponent(K);Q.includes("jwt_sessions_user_id_key")?alert(`  .

   .`):Q.includes("users_name_key")?alert(`     .

     .`):Q.includes("duplicate key value violates unique constraint")?alert(`   .

 .`):alert(Q)}else alert("OAuth       .");window.history.replaceState({},document.title,"/")}};d.useEffect(()=>{(async()=>{J();const U=localStorage.getItem("accessToken");if(U){if(l(U)){console.log("  ,      "),c();return}const K=a(U);K?(i(K),r(!0)):(console.log("  ID  "),localStorage.removeItem("accessToken"),c())}})()},[]),d.useEffect(()=>{if(!n)return;const U=setInterval(async()=>{const K=localStorage.getItem("accessToken");if(K&&l(K)){console.log("  ,  ");const Q=await f();if(Q){localStorage.setItem("accessToken",Q);const ce=a(Q);ce&&i(ce),console.log("  ")}else console.log("  ,  "),c()}},3e4);return()=>clearInterval(U)},[n]);const fe=$=>{localStorage.setItem("accessToken",$);const U=a($);U?i(U):(localStorage.removeItem("accessToken"),r(!1)),r(!0)},we=$=>{if(console.log("  :",$),$==="create-room"){M(!0);return}t($),localStorage.setItem("currentPage",$);const U={page:$,selectedPlaylistId:T,selectedContentDetail:L,selectedUserId:_,currentWatchRoomId:O};window.history.pushState(U,"",window.location.pathname),console.log("   :",U),$!=="playlist-detail"&&A(null),$!=="watch-party"&&G(null),$!=="content-detail"&&S(null),$!=="user-profile"&&z(null)};d.useEffect(()=>{localStorage.setItem("currentPage",e)},[e]),d.useEffect(()=>{const $=K=>{if(console.log(" popstate  :",K.state),K.state){console.log("    :",K.state);const Q=K.state.page||"home";["watch-party","content-detail","user-profile"].includes(Q)?Q==="watch-party"&&!K.state.currentWatchRoomId?(console.log("    ID    "),t("live"),localStorage.setItem("currentPage","live")):Q==="content-detail"&&!K.state.selectedContentDetail?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):Q==="user-profile"&&!K.state.selectedUserId?(console.log("     ID   "),t("home"),localStorage.setItem("currentPage","home")):(t(Q),localStorage.setItem("currentPage",Q)):(t(Q),localStorage.setItem("currentPage",Q)),A(K.state.selectedPlaylistId||null),S(K.state.selectedContentDetail||null),z(K.state.selectedUserId||null),G(K.state.currentWatchRoomId||null)}else{const Q=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",Q),["watch-party","content-detail","user-profile"].includes(Q)?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):t(Q),A(null),S(null),z(null),G(null)}};return(()=>{const K=["watch-party","content-detail","user-profile"];let Q=e;K.includes(e)&&(e==="watch-party"&&!O||e==="content-detail"&&!L||e==="user-profile"&&!_)&&(Q="home");const ce={page:Q,selectedPlaylistId:T,selectedContentDetail:L,selectedUserId:_,currentWatchRoomId:O};Q!==e&&(t(Q),localStorage.setItem("currentPage",Q),console.log("     :",e,"->",Q)),window.history.replaceState(ce,"",window.location.pathname),console.log("    :",ce)})(),window.addEventListener("popstate",$),()=>{window.removeEventListener("popstate",$)}},[]);const ie=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),r(!1),t("home")},je=()=>{R(!W)},Ce=async()=>{const $=prompt("    :");if(!($!=null&&$.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($.trim())){alert("   .");return}try{const K=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:$.trim()})});if(!K.ok){let Q="   .";try{Q=(await K.json()).message||Q}catch(ce){console.error("Error parsing error response:",ce)}throw new Error(Q)}alert(`${$}   .
       .`)}catch(K){console.error("   :",K),alert(K instanceof Error?K.message:"     .")}},oe=$=>{A($),t("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const U={page:"playlist-detail",selectedPlaylistId:$,selectedContentDetail:L,selectedUserId:_,currentWatchRoomId:O};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},Pe=()=>{A(null),t("playlist"),localStorage.setItem("currentPage","playlist");const $={page:"playlist",selectedPlaylistId:null,selectedContentDetail:L,selectedUserId:_,currentWatchRoomId:O};window.history.pushState($,"",window.location.pathname),console.log("    :",$)},Tt=$=>{S($),t("content-detail"),localStorage.setItem("currentPage","content-detail");const U={page:"content-detail",selectedPlaylistId:T,selectedContentDetail:$,selectedUserId:_,currentWatchRoomId:O};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},Fr=()=>{let $="home";L&&($={movie:"movies",tv:"tv",sports:"sports"}[L.type]||"home"),S(null),t($),localStorage.setItem("currentPage",$);const U={page:$,selectedPlaylistId:T,selectedContentDetail:null,selectedUserId:_,currentWatchRoomId:O};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},tt=$=>{const U={...$,year:$.year||2024,rating:$.rating||4};Ve(U),ue(!0)},nt=()=>{ue(!1),Ve(null)},He=$=>{I($),de(!0)},Un=()=>{de(!1),console.log(`Starting solo viewing for: ${he==null?void 0:he.title}`),alert(`"${he==null?void 0:he.title}"  .`),I(null)},Br=$=>{if(!he)return;const U=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",$),console.log("Room code:",U),alert("Watch party creation not implemented yet"),de(!1),I(null)},nn=$=>{G($.id),ne(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const U={page:"watch-party",selectedPlaylistId:T,selectedContentDetail:L,selectedUserId:_,currentWatchRoomId:$.id};window.history.pushState(U,"",window.location.pathname),console.log("    :",U)},Ur=$=>{G($.id),ne(!0),M(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const U={page:"watch-party",selectedPlaylistId:T,selectedContentDetail:L,selectedUserId:_,currentWatchRoomId:$.id};window.history.pushState(U,"",window.location.pathname),console.log("    :",U)},it=()=>{G(null),ne(!1),t("live"),localStorage.setItem("currentPage","live");const $={page:"live",selectedPlaylistId:T,selectedContentDetail:L,selectedUserId:_,currentWatchRoomId:null};window.history.pushState($,"",window.location.pathname),console.log("    :",$)},vo=()=>{M(!0)},jn=()=>{M(!1)},cc=()=>{V(null),P(!0)},uc=()=>{P(!1),V(null)},xo=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Nn=$=>{z($),t("user-profile"),localStorage.setItem("currentPage","user-profile");const U={page:"user-profile",selectedPlaylistId:T,selectedContentDetail:L,selectedUserId:$,currentWatchRoomId:O};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},Wr=()=>{s&&Nn(s)},Ye=()=>{z(null),t("home"),localStorage.setItem("currentPage","home");const $={page:"home",selectedPlaylistId:T,selectedContentDetail:L,selectedUserId:null,currentWatchRoomId:O};window.history.pushState($,"",window.location.pathname),console.log("     :",$)},Ge=()=>{re?(me(!1),xe(null),ee(!0)):ee(!Y)},bt=()=>{ee(!1)},ht=()=>{ee(!1),me(!1),xe(null)},at=$=>{xe($),ee(!1),me(!0)},Je=()=>{me(!1),xe(null)},rn=()=>{me(!1),xe(null),ee(!0)},sn=()=>{(Y||re)&&ht()};if(!n)return console.log("   :",{isLoggedIn:n,accessToken:localStorage.getItem("accessToken"),userId:s}),o.jsx("div",{children:o.jsx(NS,{onLogin:fe,onToggleAuth:je,onForgotPassword:Ce,isRegister:W})});const Wn=()=>{switch(console.log("  :",e),e){case"curation":return o.jsx(PS,{onContentPlay:He,onContentDetail:Tt,onAddToPlaylist:tt,userId:s||void 0});case"movies":return o.jsx(Xc,{category:"movies",onContentPlay:He,onContentDetail:Tt,onAddToPlaylist:tt});case"tv":return o.jsx(Xc,{category:"tv",onContentPlay:He,onContentDetail:Tt,onAddToPlaylist:tt});case"sports":return o.jsx(Xc,{category:"sports",onContentPlay:He,onContentDetail:Tt,onAddToPlaylist:tt});case"playlist":return o.jsx(Gm,{onPlaylistOpen:oe,getPlaylists:p,createPlaylist:j,subscribePlaylist:E,unsubscribePlaylist:k,currentUserId:s||void 0,onUserProfileOpen:Nn});case"playlist-detail":return T?o.jsx(lk,{playlistId:T,onBack:Pe,onContentPlay:He,getPlaylistById:v,addPlaylistContents:N,deletePlaylistContents:C}):o.jsx(Gm,{onPlaylistOpen:oe,getPlaylists:p,createPlaylist:j});case"content-detail":return L?o.jsx(yE,{content:L,onBack:Fr,onPlay:He,currentUser:s?{id:s,name:"",avatar:void 0}:void 0}):o.jsx(aa,{onPageChange:we,onPlaylistOpen:oe,onContentPlay:He});case"watch-party":return O&&s?o.jsx(B_,{roomId:O,userId:s,onBack:it,shouldConnect:H,onUserProfileOpen:Nn}):o.jsx(aa,{onPageChange:we,onPlaylistOpen:oe,onContentPlay:He});case"user-profile":return _?o.jsx(gR,{userId:_,currentUserId:s,onBack:Ye,authenticatedFetch:m,onUserProfileOpen:Nn,getPlaylists:p},_):o.jsx(aa,{onPageChange:we,onPlaylistOpen:oe,onContentPlay:He});case"live":return o.jsx(U_,{onJoinRoom:nn,onCreateRoom:vo,onUserProfileOpen:Nn,currentUserId:s});default:return o.jsx(aa,{onPageChange:we,onPlaylistOpen:oe,onContentPlay:He})}};return e==="watch-party"||e==="content-detail"||e==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[Wn(),o.jsx(Vp,{isOpen:te,onClose:()=>de(!1),onCreateWatchParty:Br,onWatchAlone:Un,content:he}),o.jsx(Hp,{isOpen:q,onClose:nt,content:Le,getPlaylists:p,createPlaylist:j,addPlaylistContents:N}),o.jsx(Kp,{isOpen:ot,onClose:jn,onCreateRoom:Ur,userId:s||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(mS,{currentPage:e,onPageChange:we,onProfileClick:cc,onMyProfileClick:Wr,onCloseDM:ht,onLogout:ie,authenticatedFetch:m,userId:s,refreshUserProfile:xo,deleteNotification:y,deleteAllNotifications:w}),o.jsx("main",{className:"flex-1",onClick:sn,children:Wn()}),o.jsx(pS,{}),o.jsx(wE,{isOpen:B,onClose:uc,userId:s,targetUserId:F,authenticatedFetch:m,onUserProfileOpen:Nn,refreshUserProfile:xo,onPlaylistOpen:oe}),o.jsx(jE,{isOpen:Y,onClose:bt,onOpenChat:at,authenticatedFetch:m,currentUserId:s,getDmRooms:x,getOrCreateDmRoom:b}),o.jsx(HE,{isOpen:re,onClose:Je,onBack:rn,user:_e,currentUserId:s,getDmMessages:g}),o.jsx(Vp,{isOpen:te,onClose:()=>de(!1),onCreateWatchParty:Br,onWatchAlone:Un,content:he}),o.jsx(Hp,{isOpen:q,onClose:nt,content:Le,getPlaylists:p,createPlaylist:j,addPlaylistContents:N}),o.jsx(Kp,{isOpen:ot,onClose:jn,onCreateRoom:Ur,userId:s||""}),o.jsx(D,{size:"lg",onClick:Ge,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${Y||re?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(td,{className:"w-6 h-6"})})]})}lu.createRoot(document.getElementById("root")).render(o.jsx(Vn.StrictMode,{children:o.jsx(vR,{})}));
