var lb=Object.defineProperty;var cb=(e,t,n)=>t in e?lb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ye=(e,t,n)=>cb(e,typeof t!="symbol"?t+"":t,n);function ub(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Id(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yp={exports:{}},Nl={},qp={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),fb=Symbol.for("react.portal"),hb=Symbol.for("react.fragment"),mb=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),xb=Symbol.for("react.forward_ref"),yb=Symbol.for("react.suspense"),wb=Symbol.for("react.memo"),bb=Symbol.for("react.lazy"),Eh=Symbol.iterator;function jb(e){return e===null||typeof e!="object"?null:(e=Eh&&e[Eh]||e["@@iterator"],typeof e=="function"?e:null)}var Qp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jp=Object.assign,Zp={};function ro(e,t,n){this.props=e,this.context=t,this.refs=Zp,this.updater=n||Qp}ro.prototype.isReactComponent={};ro.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eg(){}eg.prototype=ro.prototype;function Od(e,t,n){this.props=e,this.context=t,this.refs=Zp,this.updater=n||Qp}var Dd=Od.prototype=new eg;Dd.constructor=Od;Jp(Dd,ro.prototype);Dd.isPureReactComponent=!0;var Th=Array.isArray,tg=Object.prototype.hasOwnProperty,Ld={current:null},ng={key:!0,ref:!0,__self:!0,__source:!0};function rg(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)tg.call(t,r)&&!ng.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Sa,type:e,key:a,ref:i,props:s,_owner:Ld.current}}function Nb(e,t){return{$$typeof:Sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Md(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sa}function Sb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _h=/\/+/g;function fc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sb(""+e.key):t.toString(36)}function Si(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Sa:case fb:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+fc(i,0):r,Th(s)?(n="",e!=null&&(n=e.replace(_h,"$&/")+"/"),Si(s,t,n,"",function(u){return u})):s!=null&&(Md(s)&&(s=Nb(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(_h,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Th(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+fc(a,l);i+=Si(a,t,n,c,s)}else if(c=jb(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+fc(a,l++),i+=Si(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Va(e,t,n){if(e==null)return e;var r=[],s=0;return Si(e,r,"","",function(a){return t.call(n,a,s++)}),r}function kb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},ki={transition:null},Cb={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:ki,ReactCurrentOwner:Ld};function sg(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Va,forEach:function(e,t,n){Va(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Va(e,function(){t++}),t},toArray:function(e){return Va(e,function(t){return t})||[]},only:function(e){if(!Md(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=ro;pe.Fragment=hb;pe.Profiler=pb;pe.PureComponent=Od;pe.StrictMode=mb;pe.Suspense=yb;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cb;pe.act=sg;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jp({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ld.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tg.call(t,c)&&!ng.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Sa,type:e.type,key:s,ref:a,props:r,_owner:i}};pe.createContext=function(e){return e={$$typeof:vb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gb,_context:e},e.Consumer=e};pe.createElement=rg;pe.createFactory=function(e){var t=rg.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:xb,render:e}};pe.isValidElement=Md;pe.lazy=function(e){return{$$typeof:bb,_payload:{_status:-1,_result:e},_init:kb}};pe.memo=function(e,t){return{$$typeof:wb,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=ki.transition;ki.transition={};try{e()}finally{ki.transition=t}};pe.unstable_act=sg;pe.useCallback=function(e,t){return Et.current.useCallback(e,t)};pe.useContext=function(e){return Et.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};pe.useEffect=function(e,t){return Et.current.useEffect(e,t)};pe.useId=function(){return Et.current.useId()};pe.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return Et.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};pe.useRef=function(e){return Et.current.useRef(e)};pe.useState=function(e){return Et.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return Et.current.useTransition()};pe.version="18.3.1";qp.exports=pe;var d=qp.exports;const Vn=Id(d),og=ub({__proto__:null,default:Vn},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=d,Tb=Symbol.for("react.element"),_b=Symbol.for("react.fragment"),Rb=Object.prototype.hasOwnProperty,Pb=Eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ab={key:!0,ref:!0,__self:!0,__source:!0};function ag(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Rb.call(t,r)&&!Ab.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Tb,type:e,key:a,ref:i,props:s,_owner:Pb.current}}Nl.Fragment=_b;Nl.jsx=ag;Nl.jsxs=ag;Yp.exports=Nl;var o=Yp.exports,cu={},ig={exports:{}},Ht={},lg={exports:{}},cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,B){var V=P.length;P.push(B);e:for(;0<V;){var Y=V-1>>>1,te=P[Y];if(0<s(te,B))P[Y]=B,P[V]=te,V=Y;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var B=P[0],V=P.pop();if(V!==B){P[0]=V;e:for(var Y=0,te=P.length,se=te>>>1;Y<se;){var me=2*(Y+1)-1,Te=P[me],ye=me+1,ne=P[ye];if(0>s(Te,V))ye<te&&0>s(ne,Te)?(P[Y]=ne,P[ye]=V,Y=ye):(P[Y]=Te,P[me]=V,Y=me);else if(ye<te&&0>s(ne,V))P[Y]=ne,P[ye]=V,Y=ye;else break e}}return B}function s(P,B){var V=P.sortIndex-B.sortIndex;return V!==0?V:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,m=3,y=!1,w=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=P)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function b(P){if(x=!1,v(P),!w)if(n(c)!==null)w=!0,R(j);else{var B=n(u);B!==null&&U(b,B.startTime-P)}}function j(P,B){w=!1,x&&(x=!1,g(k),k=-1),y=!0;var V=m;try{for(v(B),f=n(c);f!==null&&(!(f.expirationTime>B)||P&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var te=Y(f.expirationTime<=B);B=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&r(c),v(B)}else r(c);f=n(c)}if(f!==null)var se=!0;else{var me=n(u);me!==null&&U(b,me.startTime-B),se=!1}return se}finally{f=null,m=V,y=!1}}var C=!1,T=null,k=-1,_=5,A=-1;function D(){return!(e.unstable_now()-A<_)}function S(){if(T!==null){var P=e.unstable_now();A=P;var B=!0;try{B=T(!0,P)}finally{B?E():(C=!1,T=null)}}else C=!1}var E;if(typeof p=="function")E=function(){p(S)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=S,E=function(){W.postMessage(null)}}else E=function(){N(S,0)};function R(P){T=P,C||(C=!0,E())}function U(P,B){k=N(function(){P(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,R(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var V=m;m=B;try{return P()}finally{m=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=m;m=P;try{return B()}finally{m=V}},e.unstable_scheduleCallback=function(P,B,V){var Y=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=V+te,P={id:h++,callback:B,priorityLevel:P,startTime:V,expirationTime:te,sortIndex:-1},V>Y?(P.sortIndex=V,t(u,P),n(c)===null&&P===n(u)&&(x?(g(k),k=-1):x=!0,U(b,V-Y))):(P.sortIndex=te,t(c,P),w||y||(w=!0,R(j))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var B=m;return function(){var V=m;m=B;try{return P.apply(this,arguments)}finally{m=V}}}})(cg);lg.exports=cg;var Ib=lg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob=d,Vt=Ib;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ug=new Set,Zo={};function fs(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(Zo[e]=t,e=0;e<t.length;e++)ug.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=Object.prototype.hasOwnProperty,Db=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rh={},Ph={};function Lb(e){return uu.call(Ph,e)?!0:uu.call(Rh,e)?!1:Db.test(e)?Ph[e]=!0:(Rh[e]=!0,!1)}function Mb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $b(e,t,n,r){if(t===null||typeof t>"u"||Mb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tt(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new Tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new Tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new Tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new Tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new Tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new Tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new Tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new Tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new Tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $d=/[\-:]([a-z])/g;function zd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($d,zd);mt[t]=new Tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($d,zd);mt[t]=new Tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($d,zd);mt[t]=new Tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new Tt(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new Tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fd(e,t,n,r){var s=mt.hasOwnProperty(t)?mt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($b(t,n,s,r)&&(n=null),r||s===null?Lb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sr=Ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ha=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Bd=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),dg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),Wd=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),hg=Symbol.for("react.offscreen"),Ah=Symbol.iterator;function wo(e){return e===null||typeof e!="object"?null:(e=Ah&&e[Ah]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,hc;function Io(e){if(hc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hc=t&&t[1]||""}return`
`+hc+e}var mc=!1;function pc(e,t){if(!e||mc)return"";mc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{mc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Io(e):""}function zb(e){switch(e.tag){case 5:return Io(e.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return e=pc(e.type,!1),e;case 11:return e=pc(e.type.render,!1),e;case 1:return e=pc(e.type,!0),e;default:return""}}function mu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cs:return"Fragment";case ks:return"Portal";case du:return"Profiler";case Bd:return"StrictMode";case fu:return"Suspense";case hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fg:return(e.displayName||"Context")+".Consumer";case dg:return(e._context.displayName||"Context")+".Provider";case Ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wd:return t=e.displayName||null,t!==null?t:mu(e.type)||"Memo";case dr:t=e._payload,e=e._init;try{return mu(e(t))}catch{}}return null}function Fb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mu(t);case 8:return t===Bd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bb(e){var t=mg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ka(e){e._valueTracker||(e._valueTracker=Bb(e))}function pg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pu(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ih(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_r(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gg(e,t){t=t.checked,t!=null&&Fd(e,"checked",t,!1)}function gu(e,t){gg(e,t);var n=_r(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vu(e,t.type,n):t.hasOwnProperty("defaultValue")&&vu(e,t.type,_r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vu(e,t,n){(t!=="number"||zi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oo=Array.isArray;function Ms(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_r(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(Oo(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_r(n)}}function vg(e,t){var n=_r(t.value),r=_r(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ga,yg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ea(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ub=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(e){Ub.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bo[t]=Bo[e]})});function wg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bo.hasOwnProperty(e)&&Bo[e]?(""+t).trim():t+"px"}function bg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Wb=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wu(e,t){if(t){if(Wb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function bu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=null;function Vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nu=null,$s=null,zs=null;function Mh(e){if(e=Ea(e)){if(typeof Nu!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Tl(t),Nu(e.stateNode,e.type,t))}}function jg(e){$s?zs?zs.push(e):zs=[e]:$s=e}function Ng(){if($s){var e=$s,t=zs;if(zs=$s=null,Mh(e),t)for(e=0;e<t.length;e++)Mh(t[e])}}function Sg(e,t){return e(t)}function kg(){}var gc=!1;function Cg(e,t,n){if(gc)return e(t,n);gc=!0;try{return Sg(e,t,n)}finally{gc=!1,($s!==null||zs!==null)&&(kg(),Ng())}}function ta(e,t){var n=e.stateNode;if(n===null)return null;var r=Tl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Su=!1;if(Qn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Su=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Su=!1}function Vb(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Uo=!1,Fi=null,Bi=!1,ku=null,Hb={onError:function(e){Uo=!0,Fi=e}};function Kb(e,t,n,r,s,a,i,l,c){Uo=!1,Fi=null,Vb.apply(Hb,arguments)}function Gb(e,t,n,r,s,a,i,l,c){if(Kb.apply(this,arguments),Uo){if(Uo){var u=Fi;Uo=!1,Fi=null}else throw Error(X(198));Bi||(Bi=!0,ku=u)}}function hs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $h(e){if(hs(e)!==e)throw Error(X(188))}function Xb(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return $h(s),e;if(a===r)return $h(s),t;a=a.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function Tg(e){return e=Xb(e),e!==null?_g(e):null}function _g(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_g(e);if(t!==null)return t;e=e.sibling}return null}var Rg=Vt.unstable_scheduleCallback,zh=Vt.unstable_cancelCallback,Yb=Vt.unstable_shouldYield,qb=Vt.unstable_requestPaint,Ge=Vt.unstable_now,Qb=Vt.unstable_getCurrentPriorityLevel,Hd=Vt.unstable_ImmediatePriority,Pg=Vt.unstable_UserBlockingPriority,Ui=Vt.unstable_NormalPriority,Jb=Vt.unstable_LowPriority,Ag=Vt.unstable_IdlePriority,Sl=null,Rn=null;function Zb(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Sl,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:n1,e1=Math.log,t1=Math.LN2;function n1(e){return e>>>=0,e===0?32:31-(e1(e)/t1|0)|0}var Xa=64,Ya=4194304;function Do(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Do(l):(a&=i,a!==0&&(r=Do(a)))}else i=n&~s,i!==0?r=Do(i):a!==0&&(r=Do(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mn(t),s=1<<n,r|=e[n],t&=~s;return r}function r1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-mn(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=r1(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Cu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ig(){var e=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),e}function vc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=n}function o1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-mn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Kd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ce=0;function Og(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dg,Gd,Lg,Mg,$g,Eu=!1,qa=[],wr=null,br=null,jr=null,na=new Map,ra=new Map,mr=[],a1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fh(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(t.pointerId)}}function jo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ea(t),t!==null&&Gd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function i1(e,t,n,r,s){switch(t){case"focusin":return wr=jo(wr,e,t,n,r,s),!0;case"dragenter":return br=jo(br,e,t,n,r,s),!0;case"mouseover":return jr=jo(jr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return na.set(a,jo(na.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ra.set(a,jo(ra.get(a)||null,e,t,n,r,s)),!0}return!1}function zg(e){var t=Xr(e.target);if(t!==null){var n=hs(t);if(n!==null){if(t=n.tag,t===13){if(t=Eg(n),t!==null){e.blockedOn=t,$g(e.priority,function(){Lg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ju=r,n.target.dispatchEvent(r),ju=null}else return t=Ea(n),t!==null&&Gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Bh(e,t,n){Ci(e)&&n.delete(t)}function l1(){Eu=!1,wr!==null&&Ci(wr)&&(wr=null),br!==null&&Ci(br)&&(br=null),jr!==null&&Ci(jr)&&(jr=null),na.forEach(Bh),ra.forEach(Bh)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,l1)))}function sa(e){function t(s){return No(s,e)}if(0<qa.length){No(qa[0],e);for(var n=1;n<qa.length;n++){var r=qa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wr!==null&&No(wr,e),br!==null&&No(br,e),jr!==null&&No(jr,e),na.forEach(t),ra.forEach(t),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)zg(n),n.blockedOn===null&&mr.shift()}var Fs=sr.ReactCurrentBatchConfig,Vi=!0;function c1(e,t,n,r){var s=Ce,a=Fs.transition;Fs.transition=null;try{Ce=1,Xd(e,t,n,r)}finally{Ce=s,Fs.transition=a}}function u1(e,t,n,r){var s=Ce,a=Fs.transition;Fs.transition=null;try{Ce=4,Xd(e,t,n,r)}finally{Ce=s,Fs.transition=a}}function Xd(e,t,n,r){if(Vi){var s=Tu(e,t,n,r);if(s===null)Ec(e,t,r,Hi,n),Fh(e,r);else if(i1(s,e,t,n,r))r.stopPropagation();else if(Fh(e,r),t&4&&-1<a1.indexOf(e)){for(;s!==null;){var a=Ea(s);if(a!==null&&Dg(a),a=Tu(e,t,n,r),a===null&&Ec(e,t,r,Hi,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Ec(e,t,r,null,n)}}var Hi=null;function Tu(e,t,n,r){if(Hi=null,e=Vd(r),e=Xr(e),e!==null)if(t=hs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hi=e,null}function Fg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qb()){case Hd:return 1;case Pg:return 4;case Ui:case Jb:return 16;case Ag:return 536870912;default:return 16}default:return 16}}var xr=null,Yd=null,Ei=null;function Bg(){if(Ei)return Ei;var e,t=Yd,n=t.length,r,s="value"in xr?xr.value:xr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Ei=s.slice(e,1<r?1-r:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qa(){return!0}function Uh(){return!1}function Kt(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qa:Uh,this.isPropagationStopped=Uh,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),t}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=Kt(so),Ca=Ue({},so,{view:0,detail:0}),d1=Kt(Ca),xc,yc,So,kl=Ue({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?(xc=e.screenX-So.screenX,yc=e.screenY-So.screenY):yc=xc=0,So=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:yc}}),Wh=Kt(kl),f1=Ue({},kl,{dataTransfer:0}),h1=Kt(f1),m1=Ue({},Ca,{relatedTarget:0}),wc=Kt(m1),p1=Ue({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=Kt(p1),v1=Ue({},so,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x1=Kt(v1),y1=Ue({},so,{data:0}),Vh=Kt(y1),w1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j1[e])?!!t[e]:!1}function Qd(){return N1}var S1=Ue({},Ca,{key:function(e){if(e.key){var t=w1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k1=Kt(S1),C1=Ue({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hh=Kt(C1),E1=Ue({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),T1=Kt(E1),_1=Ue({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),R1=Kt(_1),P1=Ue({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=Kt(P1),I1=[9,13,27,32],Jd=Qn&&"CompositionEvent"in window,Wo=null;Qn&&"documentMode"in document&&(Wo=document.documentMode);var O1=Qn&&"TextEvent"in window&&!Wo,Ug=Qn&&(!Jd||Wo&&8<Wo&&11>=Wo),Kh=" ",Gh=!1;function Wg(e,t){switch(e){case"keyup":return I1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function D1(e,t){switch(e){case"compositionend":return Vg(t);case"keypress":return t.which!==32?null:(Gh=!0,Kh);case"textInput":return e=t.data,e===Kh&&Gh?null:e;default:return null}}function L1(e,t){if(Es)return e==="compositionend"||!Jd&&Wg(e,t)?(e=Bg(),Ei=Yd=xr=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ug&&t.locale!=="ko"?null:t.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M1[e.type]:t==="textarea"}function Hg(e,t,n,r){jg(r),t=Ki(t,"onChange"),0<t.length&&(n=new qd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vo=null,oa=null;function $1(e){nv(e,0)}function Cl(e){var t=Rs(e);if(pg(t))return e}function z1(e,t){if(e==="change")return t}var Kg=!1;if(Qn){var bc;if(Qn){var jc="oninput"in document;if(!jc){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),jc=typeof Yh.oninput=="function"}bc=jc}else bc=!1;Kg=bc&&(!document.documentMode||9<document.documentMode)}function qh(){Vo&&(Vo.detachEvent("onpropertychange",Gg),oa=Vo=null)}function Gg(e){if(e.propertyName==="value"&&Cl(oa)){var t=[];Hg(t,oa,e,Vd(e)),Cg($1,t)}}function F1(e,t,n){e==="focusin"?(qh(),Vo=t,oa=n,Vo.attachEvent("onpropertychange",Gg)):e==="focusout"&&qh()}function B1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(oa)}function U1(e,t){if(e==="click")return Cl(t)}function W1(e,t){if(e==="input"||e==="change")return Cl(t)}function V1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:V1;function aa(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!uu.call(t,s)||!gn(e[s],t[s]))return!1}return!0}function Qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jh(e,t){var n=Qh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qh(n)}}function Xg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yg(){for(var e=window,t=zi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zi(e.document)}return t}function Zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H1(e){var t=Yg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xg(n.ownerDocument.documentElement,n)){if(r!==null&&Zd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Jh(n,a);var i=Jh(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K1=Qn&&"documentMode"in document&&11>=document.documentMode,Ts=null,_u=null,Ho=null,Ru=!1;function Zh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ru||Ts==null||Ts!==zi(r)||(r=Ts,"selectionStart"in r&&Zd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ho&&aa(Ho,r)||(Ho=r,r=Ki(_u,"onSelect"),0<r.length&&(t=new qd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ts)))}function Ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _s={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionend:Ja("Transition","TransitionEnd")},Nc={},qg={};Qn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function El(e){if(Nc[e])return Nc[e];if(!_s[e])return e;var t=_s[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qg)return Nc[e]=t[n];return e}var Qg=El("animationend"),Jg=El("animationiteration"),Zg=El("animationstart"),ev=El("transitionend"),tv=new Map,em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){tv.set(e,t),fs(t,[e])}for(var Sc=0;Sc<em.length;Sc++){var kc=em[Sc],G1=kc.toLowerCase(),X1=kc[0].toUpperCase()+kc.slice(1);Dr(G1,"on"+X1)}Dr(Qg,"onAnimationEnd");Dr(Jg,"onAnimationIteration");Dr(Zg,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(ev,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function tm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gb(r,t,void 0,e),e.currentTarget=null}function nv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;tm(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;tm(s,l,u),a=c}}}if(Bi)throw e=ku,Bi=!1,ku=null,e}function Ie(e,t){var n=t[Du];n===void 0&&(n=t[Du]=new Set);var r=e+"__bubble";n.has(r)||(rv(t,e,2,!1),n.add(r))}function Cc(e,t,n){var r=0;t&&(r|=4),rv(n,e,r,t)}var Za="_reactListening"+Math.random().toString(36).slice(2);function ia(e){if(!e[Za]){e[Za]=!0,ug.forEach(function(n){n!=="selectionchange"&&(Y1.has(n)||Cc(n,!1,e),Cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Za]||(t[Za]=!0,Cc("selectionchange",!1,t))}}function rv(e,t,n,r){switch(Fg(t)){case 1:var s=c1;break;case 4:s=u1;break;default:s=Xd}n=s.bind(null,t,n,e),s=void 0,!Su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ec(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Xr(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}Cg(function(){var u=a,h=Vd(n),f=[];e:{var m=tv.get(e);if(m!==void 0){var y=qd,w=e;switch(e){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":y=k1;break;case"focusin":w="focus",y=wc;break;case"focusout":w="blur",y=wc;break;case"beforeblur":case"afterblur":y=wc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=T1;break;case Qg:case Jg:case Zg:y=g1;break;case ev:y=R1;break;case"scroll":y=d1;break;case"wheel":y=A1;break;case"copy":case"cut":case"paste":y=x1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Hh}var x=(t&4)!==0,N=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=ta(p,g),b!=null&&x.push(la(p,b,v)))),N)break;p=p.return}0<x.length&&(m=new y(m,w,null,n,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==ju&&(w=n.relatedTarget||n.fromElement)&&(Xr(w)||w[Jn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?Xr(w):null,w!==null&&(N=hs(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=Wh,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Hh,b="onPointerLeave",g="onPointerEnter",p="pointer"),N=y==null?m:Rs(y),v=w==null?m:Rs(w),m=new x(b,p+"leave",y,n,h),m.target=N,m.relatedTarget=v,b=null,Xr(h)===u&&(x=new x(g,p+"enter",w,n,h),x.target=v,x.relatedTarget=N,b=x),N=b,y&&w)t:{for(x=y,g=w,p=0,v=x;v;v=ws(v))p++;for(v=0,b=g;b;b=ws(b))v++;for(;0<p-v;)x=ws(x),p--;for(;0<v-p;)g=ws(g),v--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=ws(x),g=ws(g)}x=null}else x=null;y!==null&&nm(f,m,y,x,!1),w!==null&&N!==null&&nm(f,N,w,x,!0)}}e:{if(m=u?Rs(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var j=z1;else if(Xh(m))if(Kg)j=W1;else{j=B1;var C=F1}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=U1);if(j&&(j=j(e,u))){Hg(f,j,n,h);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&vu(m,"number",m.value)}switch(C=u?Rs(u):window,e){case"focusin":(Xh(C)||C.contentEditable==="true")&&(Ts=C,_u=u,Ho=null);break;case"focusout":Ho=_u=Ts=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,Zh(f,n,h);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":Zh(f,n,h)}var T;if(Jd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Es?Wg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ug&&n.locale!=="ko"&&(Es||k!=="onCompositionStart"?k==="onCompositionEnd"&&Es&&(T=Bg()):(xr=h,Yd="value"in xr?xr.value:xr.textContent,Es=!0)),C=Ki(u,k),0<C.length&&(k=new Vh(k,e,null,n,h),f.push({event:k,listeners:C}),T?k.data=T:(T=Vg(n),T!==null&&(k.data=T)))),(T=O1?D1(e,n):L1(e,n))&&(u=Ki(u,"onBeforeInput"),0<u.length&&(h=new Vh("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=T))}nv(f,t)})}function la(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ki(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ta(e,n),a!=null&&r.unshift(la(e,a,s)),a=ta(e,t),a!=null&&r.push(la(e,a,s))),e=e.return}return r}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nm(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ta(n,a),c!=null&&i.unshift(la(n,c,l))):s||(c=ta(n,a),c!=null&&i.push(la(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var q1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function rm(e){return(typeof e=="string"?e:""+e).replace(q1,`
`).replace(Q1,"")}function ei(e,t,n){if(t=rm(t),rm(e)!==t&&n)throw Error(X(425))}function Gi(){}var Pu=null,Au=null;function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(e){return sm.resolve(null).then(e).catch(ej)}:Ou;function ej(e){setTimeout(function(){throw e})}function Tc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),sa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);sa(t)}function Nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function om(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Cn="__reactFiber$"+oo,ca="__reactProps$"+oo,Jn="__reactContainer$"+oo,Du="__reactEvents$"+oo,tj="__reactListeners$"+oo,nj="__reactHandles$"+oo;function Xr(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[Cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=om(e);e!==null;){if(n=e[Cn])return n;e=om(e)}return t}e=n,n=e.parentNode}return null}function Ea(e){return e=e[Cn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Tl(e){return e[ca]||null}var Lu=[],Ps=-1;function Lr(e){return{current:e}}function Oe(e){0>Ps||(e.current=Lu[Ps],Lu[Ps]=null,Ps--)}function Re(e,t){Ps++,Lu[Ps]=e.current,e.current=t}var Rr={},bt=Lr(Rr),It=Lr(!1),ns=Rr;function Gs(e,t){var n=e.type.contextTypes;if(!n)return Rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(e){return e=e.childContextTypes,e!=null}function Xi(){Oe(It),Oe(bt)}function am(e,t,n){if(bt.current!==Rr)throw Error(X(168));Re(bt,t),Re(It,n)}function sv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(X(108,Fb(e)||"Unknown",s));return Ue({},n,r)}function Yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rr,ns=bt.current,Re(bt,e),Re(It,It.current),!0}function im(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=sv(e,t,ns),r.__reactInternalMemoizedMergedChildContext=e,Oe(It),Oe(bt),Re(bt,e)):Oe(It),Re(It,n)}var Kn=null,_l=!1,_c=!1;function ov(e){Kn===null?Kn=[e]:Kn.push(e)}function rj(e){_l=!0,ov(e)}function Mr(){if(!_c&&Kn!==null){_c=!0;var e=0,t=Ce;try{var n=Kn;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kn=null,_l=!1}catch(s){throw Kn!==null&&(Kn=Kn.slice(e+1)),Rg(Hd,Mr),s}finally{Ce=t,_c=!1}}return null}var As=[],Is=0,qi=null,Qi=0,Gt=[],Xt=0,rs=null,Gn=1,Xn="";function Hr(e,t){As[Is++]=Qi,As[Is++]=qi,qi=e,Qi=t}function av(e,t,n){Gt[Xt++]=Gn,Gt[Xt++]=Xn,Gt[Xt++]=rs,rs=e;var r=Gn;e=Xn;var s=32-mn(r)-1;r&=~(1<<s),n+=1;var a=32-mn(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Gn=1<<32-mn(t)+s|n<<s|r,Xn=a+e}else Gn=1<<a|n<<s|r,Xn=e}function ef(e){e.return!==null&&(Hr(e,1),av(e,1,0))}function tf(e){for(;e===qi;)qi=As[--Is],As[Is]=null,Qi=As[--Is],As[Is]=null;for(;e===rs;)rs=Gt[--Xt],Gt[Xt]=null,Xn=Gt[--Xt],Gt[Xt]=null,Gn=Gt[--Xt],Gt[Xt]=null}var Bt=null,Ft=null,De=!1,hn=null;function iv(e,t){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ft=Nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rs!==null?{id:Gn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,Ft=null,!0):!1;default:return!1}}function Mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $u(e){if(De){var t=Ft;if(t){var n=t;if(!lm(e,t)){if(Mu(e))throw Error(X(418));t=Nr(n.nextSibling);var r=Bt;t&&lm(e,t)?iv(r,n):(e.flags=e.flags&-4097|2,De=!1,Bt=e)}}else{if(Mu(e))throw Error(X(418));e.flags=e.flags&-4097|2,De=!1,Bt=e}}}function cm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function ti(e){if(e!==Bt)return!1;if(!De)return cm(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Iu(e.type,e.memoizedProps)),t&&(t=Ft)){if(Mu(e))throw lv(),Error(X(418));for(;t;)iv(e,t),t=Nr(t.nextSibling)}if(cm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ft=Nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=Bt?Nr(e.stateNode.nextSibling):null;return!0}function lv(){for(var e=Ft;e;)e=Nr(e.nextSibling)}function Xs(){Ft=Bt=null,De=!1}function nf(e){hn===null?hn=[e]:hn.push(e)}var sj=sr.ReactCurrentBatchConfig;function ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function ni(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function um(e){var t=e._init;return t(e._payload)}function cv(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Er(g,p),g.index=0,g.sibling=null,g}function a(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,v,b){return p===null||p.tag!==6?(p=Lc(v,g.mode,b),p.return=g,p):(p=s(p,v),p.return=g,p)}function c(g,p,v,b){var j=v.type;return j===Cs?h(g,p,v.props.children,b,v.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===dr&&um(j)===p.type)?(b=s(p,v.props),b.ref=ko(g,p,v),b.return=g,b):(b=Di(v.type,v.key,v.props,null,g.mode,b),b.ref=ko(g,p,v),b.return=g,b)}function u(g,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Mc(v,g.mode,b),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function h(g,p,v,b,j){return p===null||p.tag!==7?(p=es(v,g.mode,b,j),p.return=g,p):(p=s(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lc(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ha:return v=Di(p.type,p.key,p.props,null,g.mode,v),v.ref=ko(g,null,p),v.return=g,v;case ks:return p=Mc(p,g.mode,v),p.return=g,p;case dr:var b=p._init;return f(g,b(p._payload),v)}if(Oo(p)||wo(p))return p=es(p,g.mode,v,null),p.return=g,p;ni(g,p)}return null}function m(g,p,v,b){var j=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(g,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ha:return v.key===j?c(g,p,v,b):null;case ks:return v.key===j?u(g,p,v,b):null;case dr:return j=v._init,m(g,p,j(v._payload),b)}if(Oo(v)||wo(v))return j!==null?null:h(g,p,v,b,null);ni(g,v)}return null}function y(g,p,v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,l(p,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ha:return g=g.get(b.key===null?v:b.key)||null,c(p,g,b,j);case ks:return g=g.get(b.key===null?v:b.key)||null,u(p,g,b,j);case dr:var C=b._init;return y(g,p,v,C(b._payload),j)}if(Oo(b)||wo(b))return g=g.get(v)||null,h(p,g,b,j,null);ni(p,b)}return null}function w(g,p,v,b){for(var j=null,C=null,T=p,k=p=0,_=null;T!==null&&k<v.length;k++){T.index>k?(_=T,T=null):_=T.sibling;var A=m(g,T,v[k],b);if(A===null){T===null&&(T=_);break}e&&T&&A.alternate===null&&t(g,T),p=a(A,p,k),C===null?j=A:C.sibling=A,C=A,T=_}if(k===v.length)return n(g,T),De&&Hr(g,k),j;if(T===null){for(;k<v.length;k++)T=f(g,v[k],b),T!==null&&(p=a(T,p,k),C===null?j=T:C.sibling=T,C=T);return De&&Hr(g,k),j}for(T=r(g,T);k<v.length;k++)_=y(T,g,k,v[k],b),_!==null&&(e&&_.alternate!==null&&T.delete(_.key===null?k:_.key),p=a(_,p,k),C===null?j=_:C.sibling=_,C=_);return e&&T.forEach(function(D){return t(g,D)}),De&&Hr(g,k),j}function x(g,p,v,b){var j=wo(v);if(typeof j!="function")throw Error(X(150));if(v=j.call(v),v==null)throw Error(X(151));for(var C=j=null,T=p,k=p=0,_=null,A=v.next();T!==null&&!A.done;k++,A=v.next()){T.index>k?(_=T,T=null):_=T.sibling;var D=m(g,T,A.value,b);if(D===null){T===null&&(T=_);break}e&&T&&D.alternate===null&&t(g,T),p=a(D,p,k),C===null?j=D:C.sibling=D,C=D,T=_}if(A.done)return n(g,T),De&&Hr(g,k),j;if(T===null){for(;!A.done;k++,A=v.next())A=f(g,A.value,b),A!==null&&(p=a(A,p,k),C===null?j=A:C.sibling=A,C=A);return De&&Hr(g,k),j}for(T=r(g,T);!A.done;k++,A=v.next())A=y(T,g,k,A.value,b),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?k:A.key),p=a(A,p,k),C===null?j=A:C.sibling=A,C=A);return e&&T.forEach(function(S){return t(g,S)}),De&&Hr(g,k),j}function N(g,p,v,b){if(typeof v=="object"&&v!==null&&v.type===Cs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ha:e:{for(var j=v.key,C=p;C!==null;){if(C.key===j){if(j=v.type,j===Cs){if(C.tag===7){n(g,C.sibling),p=s(C,v.props.children),p.return=g,g=p;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===dr&&um(j)===C.type){n(g,C.sibling),p=s(C,v.props),p.ref=ko(g,C,v),p.return=g,g=p;break e}n(g,C);break}else t(g,C);C=C.sibling}v.type===Cs?(p=es(v.props.children,g.mode,b,v.key),p.return=g,g=p):(b=Di(v.type,v.key,v.props,null,g.mode,b),b.ref=ko(g,p,v),b.return=g,g=b)}return i(g);case ks:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Mc(v,g.mode,b),p.return=g,g=p}return i(g);case dr:return C=v._init,N(g,p,C(v._payload),b)}if(Oo(v))return w(g,p,v,b);if(wo(v))return x(g,p,v,b);ni(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,v),p.return=g,g=p):(n(g,p),p=Lc(v,g.mode,b),p.return=g,g=p),i(g)):n(g,p)}return N}var Ys=cv(!0),uv=cv(!1),Ji=Lr(null),Zi=null,Os=null,rf=null;function sf(){rf=Os=Zi=null}function of(e){var t=Ji.current;Oe(Ji),e._currentValue=t}function zu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bs(e,t){Zi=e,rf=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(rf!==e)if(e={context:e,memoizedValue:t,next:null},Os===null){if(Zi===null)throw Error(X(308));Os=e,Zi.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Yr=null;function af(e){Yr===null?Yr=[e]:Yr.push(e)}function dv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,af(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fr=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Zn(e,n)}return s=r.interleaved,s===null?(t.next=t,af(r)):(t.next=s.next,s.next=t),r.interleaved=t,Zn(e,n)}function _i(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kd(e,n)}}function dm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function el(e,t,n,r){var s=e.updateQueue;fr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,h=u=c=null,l=a;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(y,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(y,f,m):w,m==null)break e;f=Ue({},f,m);break e;case 2:fr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);os|=i,e.lanes=i,e.memoizedState=f}}function fm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Ta={},Pn=Lr(Ta),ua=Lr(Ta),da=Lr(Ta);function qr(e){if(e===Ta)throw Error(X(174));return e}function cf(e,t){switch(Re(da,t),Re(ua,e),Re(Pn,Ta),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yu(t,e)}Oe(Pn),Re(Pn,t)}function qs(){Oe(Pn),Oe(ua),Oe(da)}function hv(e){qr(da.current);var t=qr(Pn.current),n=yu(t,e.type);t!==n&&(Re(ua,e),Re(Pn,n))}function uf(e){ua.current===e&&(Oe(Pn),Oe(ua))}var Fe=Lr(0);function tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rc=[];function df(){for(var e=0;e<Rc.length;e++)Rc[e]._workInProgressVersionPrimary=null;Rc.length=0}var Ri=sr.ReactCurrentDispatcher,Pc=sr.ReactCurrentBatchConfig,ss=0,Be=null,et=null,st=null,nl=!1,Ko=!1,fa=0,oj=0;function gt(){throw Error(X(321))}function ff(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function hf(e,t,n,r,s,a){if(ss=a,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ri.current=e===null||e.memoizedState===null?cj:uj,e=n(r,s),Ko){a=0;do{if(Ko=!1,fa=0,25<=a)throw Error(X(301));a+=1,st=et=null,t.updateQueue=null,Ri.current=dj,e=n(r,s)}while(Ko)}if(Ri.current=rl,t=et!==null&&et.next!==null,ss=0,st=et=Be=null,nl=!1,t)throw Error(X(300));return e}function mf(){var e=fa!==0;return fa=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Be.memoizedState=st=e:st=st.next=e,st}function Zt(){if(et===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=st===null?Be.memoizedState:st.next;if(t!==null)st=t,et=e;else{if(e===null)throw Error(X(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},st===null?Be.memoizedState=st=e:st=st.next=e}return st}function ha(e,t){return typeof t=="function"?t(e):t}function Ac(e){var t=Zt(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=et,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((ss&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Be.lanes|=h,os|=h}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,gn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Be.lanes|=a,os|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ic(e){var t=Zt(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);gn(a,t.memoizedState)||(At=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function mv(){}function pv(e,t){var n=Be,r=Zt(),s=t(),a=!gn(r.memoizedState,s);if(a&&(r.memoizedState=s,At=!0),r=r.queue,pf(xv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,ma(9,vv.bind(null,n,r,s,t),void 0,null),ot===null)throw Error(X(349));ss&30||gv(n,t,s)}return s}function gv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vv(e,t,n,r){t.value=n,t.getSnapshot=r,yv(t)&&wv(e)}function xv(e,t,n){return n(function(){yv(t)&&wv(e)})}function yv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function wv(e){var t=Zn(e,1);t!==null&&pn(t,e,1,-1)}function hm(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t.queue=e,e=e.dispatch=lj.bind(null,Be,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bv(){return Zt().memoizedState}function Pi(e,t,n,r){var s=kn();Be.flags|=e,s.memoizedState=ma(1|t,n,void 0,r===void 0?null:r)}function Rl(e,t,n,r){var s=Zt();r=r===void 0?null:r;var a=void 0;if(et!==null){var i=et.memoizedState;if(a=i.destroy,r!==null&&ff(r,i.deps)){s.memoizedState=ma(t,n,a,r);return}}Be.flags|=e,s.memoizedState=ma(1|t,n,a,r)}function mm(e,t){return Pi(8390656,8,e,t)}function pf(e,t){return Rl(2048,8,e,t)}function jv(e,t){return Rl(4,2,e,t)}function Nv(e,t){return Rl(4,4,e,t)}function Sv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kv(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4,4,Sv.bind(null,t,e),n)}function gf(){}function Cv(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ff(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ev(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ff(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tv(e,t,n){return ss&21?(gn(n,t)||(n=Ig(),Be.lanes|=n,os|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function aj(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Pc.transition;Pc.transition={};try{e(!1),t()}finally{Ce=n,Pc.transition=r}}function _v(){return Zt().memoizedState}function ij(e,t,n){var r=Cr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rv(e))Pv(t,n);else if(n=dv(e,t,n,r),n!==null){var s=Ct();pn(n,e,r,s),Av(n,t,r)}}function lj(e,t,n){var r=Cr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rv(e))Pv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,gn(l,i)){var c=t.interleaved;c===null?(s.next=s,af(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=dv(e,t,s,r),n!==null&&(s=Ct(),pn(n,e,r,s),Av(n,t,r))}}function Rv(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Pv(e,t){Ko=nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Av(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kd(e,n)}}var rl={readContext:Jt,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},cj={readContext:Jt,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:mm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pi(4194308,4,Sv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var n=kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ij.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:hm,useDebugValue:gf,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=hm(!1),t=e[0];return e=aj.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,s=kn();if(De){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),ot===null)throw Error(X(349));ss&30||gv(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,mm(xv.bind(null,r,a,e),[e]),r.flags|=2048,ma(9,vv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=kn(),t=ot.identifierPrefix;if(De){var n=Xn,r=Gn;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uj={readContext:Jt,useCallback:Cv,useContext:Jt,useEffect:pf,useImperativeHandle:kv,useInsertionEffect:jv,useLayoutEffect:Nv,useMemo:Ev,useReducer:Ac,useRef:bv,useState:function(){return Ac(ha)},useDebugValue:gf,useDeferredValue:function(e){var t=Zt();return Tv(t,et.memoizedState,e)},useTransition:function(){var e=Ac(ha)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:mv,useSyncExternalStore:pv,useId:_v,unstable_isNewReconciler:!1},dj={readContext:Jt,useCallback:Cv,useContext:Jt,useEffect:pf,useImperativeHandle:kv,useInsertionEffect:jv,useLayoutEffect:Nv,useMemo:Ev,useReducer:Ic,useRef:bv,useState:function(){return Ic(ha)},useDebugValue:gf,useDeferredValue:function(e){var t=Zt();return et===null?t.memoizedState=e:Tv(t,et.memoizedState,e)},useTransition:function(){var e=Ic(ha)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:mv,useSyncExternalStore:pv,useId:_v,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pl={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ct(),s=Cr(e),a=Yn(r,s);a.payload=t,n!=null&&(a.callback=n),t=Sr(e,a,s),t!==null&&(pn(t,e,s,r),_i(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ct(),s=Cr(e),a=Yn(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Sr(e,a,s),t!==null&&(pn(t,e,s,r),_i(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),r=Cr(e),s=Yn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Sr(e,s,r),t!==null&&(pn(t,e,r,n),_i(t,e,r))}};function pm(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!aa(n,r)||!aa(s,a):!0}function Iv(e,t,n){var r=!1,s=Rr,a=t.contextType;return typeof a=="object"&&a!==null?a=Jt(a):(s=Ot(t)?ns:bt.current,r=t.contextTypes,a=(r=r!=null)?Gs(e,s):Rr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function gm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pl.enqueueReplaceState(t,t.state,null)}function Bu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},lf(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Jt(a):(a=Ot(t)?ns:bt.current,s.context=Gs(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fu(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pl.enqueueReplaceState(s,s.state,null),el(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qs(e,t){try{var n="",r=t;do n+=zb(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Oc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fj=typeof WeakMap=="function"?WeakMap:Map;function Ov(e,t,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ol||(ol=!0,Ju=r),Uu(e,t)},n}function Dv(e,t,n){n=Yn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Uu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Uu(e,t),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function vm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cj.bind(null,e,t,n),t.then(e,e))}function xm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ym(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yn(-1,1),t.tag=2,Sr(n,t,1))),n.lanes|=1),e)}var hj=sr.ReactCurrentOwner,At=!1;function St(e,t,n,r){t.child=e===null?uv(t,null,n,r):Ys(t,e.child,n,r)}function wm(e,t,n,r,s){n=n.render;var a=t.ref;return Bs(t,s),r=hf(e,t,n,r,a,s),n=mf(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(De&&n&&ef(t),t.flags|=1,St(e,t,r,s),t.child)}function bm(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Sf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Lv(e,t,a,r,s)):(e=Di(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:aa,n(i,r)&&e.ref===t.ref)return er(e,t,s)}return t.flags|=1,e=Er(a,r),e.ref=t.ref,e.return=t,t.child=e}function Lv(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(aa(a,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,er(e,t,s)}return Wu(e,t,n,r,s)}function Mv(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ls,Mt),Mt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Ls,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Re(Ls,Mt),Mt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Re(Ls,Mt),Mt|=r;return St(e,t,s,n),t.child}function $v(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wu(e,t,n,r,s){var a=Ot(n)?ns:bt.current;return a=Gs(t,a),Bs(t,s),n=hf(e,t,n,r,a,s),r=mf(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(De&&r&&ef(t),t.flags|=1,St(e,t,n,s),t.child)}function jm(e,t,n,r,s){if(Ot(n)){var a=!0;Yi(t)}else a=!1;if(Bs(t,s),t.stateNode===null)Ai(e,t),Iv(t,n,r),Bu(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=Ot(n)?ns:bt.current,u=Gs(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&gm(t,i,r,u),fr=!1;var m=t.memoizedState;i.state=m,el(t,r,i,s),c=t.memoizedState,l!==r||m!==c||It.current||fr?(typeof h=="function"&&(Fu(t,n,h,r),c=t.memoizedState),(l=fr||pm(t,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,fv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dn(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Jt(c):(c=Ot(n)?ns:bt.current,c=Gs(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&gm(t,i,r,c),fr=!1,m=t.memoizedState,i.state=m,el(t,r,i,s);var w=t.memoizedState;l!==f||m!==w||It.current||fr?(typeof y=="function"&&(Fu(t,n,y,r),w=t.memoizedState),(u=fr||pm(t,n,u,r,m,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Vu(e,t,n,r,a,s)}function Vu(e,t,n,r,s,a){$v(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&im(t,n,!1),er(e,t,a);r=t.stateNode,hj.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ys(t,e.child,null,a),t.child=Ys(t,null,l,a)):St(e,t,l,a),t.memoizedState=r.state,s&&im(t,n,!0),t.child}function zv(e){var t=e.stateNode;t.pendingContext?am(e,t.pendingContext,t.pendingContext!==t.context):t.context&&am(e,t.context,!1),cf(e,t.containerInfo)}function Nm(e,t,n,r,s){return Xs(),nf(s),t.flags|=256,St(e,t,n,r),t.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function Ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fv(e,t,n){var r=t.pendingProps,s=Fe.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(Fe,s&1),e===null)return $u(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ol(i,r,0,null),e=es(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ku(n),t.memoizedState=Hu,e):vf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return mj(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Er(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Er(l,a):(a=es(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Ku(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Hu,r}return a=e.child,e=a.sibling,r=Er(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vf(e,t){return t=Ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ri(e,t,n,r){return r!==null&&nf(r),Ys(t,e.child,null,n),e=vf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mj(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Oc(Error(X(422))),ri(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Ol({mode:"visible",children:r.children},s,0,null),a=es(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ys(t,e.child,null,i),t.child.memoizedState=Ku(i),t.memoizedState=Hu,a);if(!(t.mode&1))return ri(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(X(419)),r=Oc(a,r,void 0),ri(e,t,i,r)}if(l=(i&e.childLanes)!==0,At||l){if(r=ot,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Zn(e,s),pn(r,e,s,-1))}return Nf(),r=Oc(Error(X(421))),ri(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ej.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ft=Nr(s.nextSibling),Bt=t,De=!0,hn=null,e!==null&&(Gt[Xt++]=Gn,Gt[Xt++]=Xn,Gt[Xt++]=rs,Gn=e.id,Xn=e.overflow,rs=t),t=vf(t,r.children),t.flags|=4096,t)}function Sm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zu(e.return,t,n)}function Dc(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Bv(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(St(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sm(e,n,t);else if(e.tag===19)Sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&tl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Dc(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Dc(t,!0,n,null,a);break;case"together":Dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),os|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pj(e,t,n){switch(t.tag){case 3:zv(t),Xs();break;case 5:hv(t);break;case 1:Ot(t.type)&&Yi(t);break;case 4:cf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Re(Ji,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Re(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?Fv(e,t,n):(Re(Fe,Fe.current&1),e=er(e,t,n),e!==null?e.sibling:null);Re(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Mv(e,t,n)}return er(e,t,n)}var Uv,Gu,Wv,Vv;Uv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gu=function(){};Wv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,qr(Pn.current);var a=null;switch(n){case"input":s=pu(e,s),r=pu(e,r),a=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),a=[];break;case"textarea":s=xu(e,s),r=xu(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gi)}wu(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Vv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Co(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gj(e,t,n){var r=t.pendingProps;switch(tf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Ot(t.type)&&Xi(),vt(t),null;case 3:return r=t.stateNode,qs(),Oe(It),Oe(bt),df(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(td(hn),hn=null))),Gu(e,t),vt(t),null;case 5:uf(t);var s=qr(da.current);if(n=t.type,e!==null&&t.stateNode!=null)Wv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return vt(t),null}if(e=qr(Pn.current),ti(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Cn]=t,r[ca]=a,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Lo.length;s++)Ie(Lo[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ih(r,a),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ie("invalid",r);break;case"textarea":Dh(r,a),Ie("invalid",r)}wu(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ei(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ei(r.textContent,l,e),s=["children",""+l]):Zo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Ka(r),Oh(r,a,!0);break;case"textarea":Ka(r),Lh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Gi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Cn]=t,e[ca]=r,Uv(e,t,!1,!1),t.stateNode=e;e:{switch(i=bu(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),s=r;break;case"iframe":case"object":case"embed":Ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lo.length;s++)Ie(Lo[s],e);s=r;break;case"source":Ie("error",e),s=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=r;break;case"details":Ie("toggle",e),s=r;break;case"input":Ih(e,r),s=pu(e,r),Ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":Dh(e,r),s=xu(e,r),Ie("invalid",e);break;default:s=r}wu(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?bg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yg(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ea(e,c):typeof c=="number"&&ea(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ie("scroll",e):c!=null&&Fd(e,a,c,i))}switch(n){case"input":Ka(e),Oh(e,r,!1);break;case"textarea":Ka(e),Lh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_r(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ms(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ms(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Vv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=qr(da.current),qr(Pn.current),ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cn]=t,(a=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:ei(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ei(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=t,t.stateNode=r}return vt(t),null;case 13:if(Oe(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Ft!==null&&t.mode&1&&!(t.flags&128))lv(),Xs(),t.flags|=98560,a=!1;else if(a=ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[Cn]=t}else Xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),a=!1}else hn!==null&&(td(hn),hn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?tt===0&&(tt=3):Nf())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return qs(),Gu(e,t),e===null&&ia(t.stateNode.containerInfo),vt(t),null;case 10:return of(t.type._context),vt(t),null;case 17:return Ot(t.type)&&Xi(),vt(t),null;case 19:if(Oe(Fe),a=t.memoizedState,a===null)return vt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Co(a,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=tl(e),i!==null){for(t.flags|=128,Co(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re(Fe,Fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ge()>Js&&(t.flags|=128,r=!0,Co(a,!1),t.lanes=4194304)}else{if(!r)if(e=tl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Co(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!De)return vt(t),null}else 2*Ge()-a.renderingStartTime>Js&&n!==1073741824&&(t.flags|=128,r=!0,Co(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ge(),t.sibling=null,n=Fe.current,Re(Fe,r?n&1|2:n&1),t):(vt(t),null);case 22:case 23:return jf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function vj(e,t){switch(tf(t),t.tag){case 1:return Ot(t.type)&&Xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qs(),Oe(It),Oe(bt),df(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uf(t),null;case 13:if(Oe(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Fe),null;case 4:return qs(),null;case 10:return of(t.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var si=!1,xt=!1,xj=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ds(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){He(e,t,r)}}var km=!1;function yj(e,t){if(Pu=Vi,e=Yg(),Zd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=i),m===a&&++h===r&&(c=i),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Au={focusedElem:e,selectionRange:n},Vi=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,N=w.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:dn(t.type,x),N);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(b){He(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return w=km,km=!1,w}function Go(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Xu(t,n,a)}s=s.next}while(s!==r)}}function Al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hv(e){var t=e.alternate;t!==null&&(e.alternate=null,Hv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[ca],delete t[Du],delete t[tj],delete t[nj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kv(e){return e.tag===5||e.tag===3||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gi));else if(r!==4&&(e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function Qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qu(e,t,n),e=e.sibling;e!==null;)Qu(e,t,n),e=e.sibling}var ut=null,fn=!1;function lr(e,t,n){for(n=n.child;n!==null;)Gv(e,t,n),n=n.sibling}function Gv(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Sl,n)}catch{}switch(n.tag){case 5:xt||Ds(n,t);case 6:var r=ut,s=fn;ut=null,lr(e,t,n),ut=r,fn=s,ut!==null&&(fn?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(fn?(e=ut,n=n.stateNode,e.nodeType===8?Tc(e.parentNode,n):e.nodeType===1&&Tc(e,n),sa(e)):Tc(ut,n.stateNode));break;case 4:r=ut,s=fn,ut=n.stateNode.containerInfo,fn=!0,lr(e,t,n),ut=r,fn=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Xu(n,t,i),s=s.next}while(s!==r)}lr(e,t,n);break;case 1:if(!xt&&(Ds(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,t,l)}lr(e,t,n);break;case 21:lr(e,t,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,lr(e,t,n),xt=r):lr(e,t,n);break;default:lr(e,t,n)}}function Em(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xj),t.forEach(function(r){var s=Tj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function an(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,fn=!1;break e;case 3:ut=l.stateNode.containerInfo,fn=!0;break e;case 4:ut=l.stateNode.containerInfo,fn=!0;break e}l=l.return}if(ut===null)throw Error(X(160));Gv(a,i,s),ut=null,fn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){He(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xv(t,e),t=t.sibling}function Xv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),Sn(e),r&4){try{Go(3,e,e.return),Al(3,e)}catch(x){He(e,e.return,x)}try{Go(5,e,e.return)}catch(x){He(e,e.return,x)}}break;case 1:an(t,e),Sn(e),r&512&&n!==null&&Ds(n,n.return);break;case 5:if(an(t,e),Sn(e),r&512&&n!==null&&Ds(n,n.return),e.flags&32){var s=e.stateNode;try{ea(s,"")}catch(x){He(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&gg(s,a),bu(l,i);var u=bu(l,a);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?bg(s,f):h==="dangerouslySetInnerHTML"?yg(s,f):h==="children"?ea(s,f):Fd(s,h,f,u)}switch(l){case"input":gu(s,a);break;case"textarea":vg(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Ms(s,!!a.multiple,y,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ms(s,!!a.multiple,a.defaultValue,!0):Ms(s,!!a.multiple,a.multiple?[]:"",!1))}s[ca]=a}catch(x){He(e,e.return,x)}}break;case 6:if(an(t,e),Sn(e),r&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){He(e,e.return,x)}}break;case 3:if(an(t,e),Sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sa(t.containerInfo)}catch(x){He(e,e.return,x)}break;case 4:an(t,e),Sn(e);break;case 13:an(t,e),Sn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(wf=Ge())),r&4&&Em(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(xt=(u=xt)||h,an(t,e),xt=u):an(t,e),Sn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Z=e,h=e.child;h!==null;){for(f=Z=h;Z!==null;){switch(m=Z,y=m.child,m.tag){case 0:case 11:case 14:case 15:Go(4,m,m.return);break;case 1:Ds(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){He(r,n,x)}}break;case 5:Ds(m,m.return);break;case 22:if(m.memoizedState!==null){_m(f);continue}}y!==null?(y.return=m,Z=y):_m(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wg("display",i))}catch(x){He(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){He(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:an(t,e),Sn(e),r&4&&Em(e);break;case 21:break;default:an(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kv(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ea(s,""),r.flags&=-33);var a=Cm(e);Qu(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Cm(e);qu(e,l,i);break;default:throw Error(X(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wj(e,t,n){Z=e,Yv(e)}function Yv(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var s=Z,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||si;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||xt;l=si;var u=xt;if(si=i,(xt=c)&&!u)for(Z=s;Z!==null;)i=Z,c=i.child,i.tag===22&&i.memoizedState!==null?Rm(s):c!==null?(c.return=i,Z=c):Rm(s);for(;a!==null;)Z=a,Yv(a),a=a.sibling;Z=s,si=l,xt=u}Tm(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Z=a):Tm(e)}}function Tm(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xt||Al(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&fm(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fm(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&sa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}xt||t.flags&512&&Yu(t)}catch(m){He(t,t.return,m)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function _m(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Rm(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Al(4,t)}catch(c){He(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){He(t,s,c)}}var a=t.return;try{Yu(t)}catch(c){He(t,a,c)}break;case 5:var i=t.return;try{Yu(t)}catch(c){He(t,i,c)}}}catch(c){He(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var bj=Math.ceil,sl=sr.ReactCurrentDispatcher,xf=sr.ReactCurrentOwner,Qt=sr.ReactCurrentBatchConfig,we=0,ot=null,qe=null,ht=0,Mt=0,Ls=Lr(0),tt=0,pa=null,os=0,Il=0,yf=0,Xo=null,Rt=null,wf=0,Js=1/0,Hn=null,ol=!1,Ju=null,kr=null,oi=!1,yr=null,al=0,Yo=0,Zu=null,Ii=-1,Oi=0;function Ct(){return we&6?Ge():Ii!==-1?Ii:Ii=Ge()}function Cr(e){return e.mode&1?we&2&&ht!==0?ht&-ht:sj.transition!==null?(Oi===0&&(Oi=Ig()),Oi):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Fg(e.type)),e):1}function pn(e,t,n,r){if(50<Yo)throw Yo=0,Zu=null,Error(X(185));ka(e,n,r),(!(we&2)||e!==ot)&&(e===ot&&(!(we&2)&&(Il|=n),tt===4&&pr(e,ht)),Dt(e,r),n===1&&we===0&&!(t.mode&1)&&(Js=Ge()+500,_l&&Mr()))}function Dt(e,t){var n=e.callbackNode;s1(e,t);var r=Wi(e,e===ot?ht:0);if(r===0)n!==null&&zh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zh(n),t===1)e.tag===0?rj(Pm.bind(null,e)):ov(Pm.bind(null,e)),Z1(function(){!(we&6)&&Mr()}),n=null;else{switch(Og(r)){case 1:n=Hd;break;case 4:n=Pg;break;case 16:n=Ui;break;case 536870912:n=Ag;break;default:n=Ui}n=rx(n,qv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qv(e,t){if(Ii=-1,Oi=0,we&6)throw Error(X(327));var n=e.callbackNode;if(Us()&&e.callbackNode!==n)return null;var r=Wi(e,e===ot?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=il(e,r);else{t=r;var s=we;we|=2;var a=Jv();(ot!==e||ht!==t)&&(Hn=null,Js=Ge()+500,Zr(e,t));do try{Sj();break}catch(l){Qv(e,l)}while(!0);sf(),sl.current=a,we=s,qe!==null?t=0:(ot=null,ht=0,t=tt)}if(t!==0){if(t===2&&(s=Cu(e),s!==0&&(r=s,t=ed(e,s))),t===1)throw n=pa,Zr(e,0),pr(e,r),Dt(e,Ge()),n;if(t===6)pr(e,r);else{if(s=e.current.alternate,!(r&30)&&!jj(s)&&(t=il(e,r),t===2&&(a=Cu(e),a!==0&&(r=a,t=ed(e,a))),t===1))throw n=pa,Zr(e,0),pr(e,r),Dt(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:Kr(e,Rt,Hn);break;case 3:if(pr(e,r),(r&130023424)===r&&(t=wf+500-Ge(),10<t)){if(Wi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ct(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ou(Kr.bind(null,e,Rt,Hn),t);break}Kr(e,Rt,Hn);break;case 4:if(pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-mn(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bj(r/1960))-r,10<r){e.timeoutHandle=Ou(Kr.bind(null,e,Rt,Hn),r);break}Kr(e,Rt,Hn);break;case 5:Kr(e,Rt,Hn);break;default:throw Error(X(329))}}}return Dt(e,Ge()),e.callbackNode===n?qv.bind(null,e):null}function ed(e,t){var n=Xo;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=il(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&td(t)),e}function td(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function jj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!gn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~yf,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mn(t),r=1<<n;e[n]=-1,t&=~r}}function Pm(e){if(we&6)throw Error(X(327));Us();var t=Wi(e,0);if(!(t&1))return Dt(e,Ge()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=Cu(e);r!==0&&(t=r,n=ed(e,r))}if(n===1)throw n=pa,Zr(e,0),pr(e,t),Dt(e,Ge()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,Rt,Hn),Dt(e,Ge()),null}function bf(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Js=Ge()+500,_l&&Mr())}}function as(e){yr!==null&&yr.tag===0&&!(we&6)&&Us();var t=we;we|=1;var n=Qt.transition,r=Ce;try{if(Qt.transition=null,Ce=1,e)return e()}finally{Ce=r,Qt.transition=n,we=t,!(we&6)&&Mr()}}function jf(){Mt=Ls.current,Oe(Ls)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,J1(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(tf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xi();break;case 3:qs(),Oe(It),Oe(bt),df();break;case 5:uf(r);break;case 4:qs();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:of(r.type._context);break;case 22:case 23:jf()}n=n.return}if(ot=e,qe=e=Er(e.current,null),ht=Mt=t,tt=0,pa=null,yf=Il=os=0,Rt=Xo=null,Yr!==null){for(t=0;t<Yr.length;t++)if(n=Yr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}Yr=null}return e}function Qv(e,t){do{var n=qe;try{if(sf(),Ri.current=rl,nl){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nl=!1}if(ss=0,st=et=Be=null,Ko=!1,fa=0,xf.current=null,n===null||n.return===null){tt=1,pa=t,qe=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=xm(i);if(y!==null){y.flags&=-257,ym(y,i,l,a,t),y.mode&1&&vm(a,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){vm(a,u,t),Nf();break e}c=Error(X(426))}}else if(De&&l.mode&1){var N=xm(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),ym(N,i,l,a,t),nf(Qs(c,l));break e}}a=c=Qs(c,l),tt!==4&&(tt=2),Xo===null?Xo=[a]:Xo.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Ov(a,c,t);dm(a,g);break e;case 1:l=c;var p=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(kr===null||!kr.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Dv(a,l,t);dm(a,b);break e}}a=a.return}while(a!==null)}ex(n)}catch(j){t=j,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function Jv(){var e=sl.current;return sl.current=rl,e===null?rl:e}function Nf(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(os&268435455)&&!(Il&268435455)||pr(ot,ht)}function il(e,t){var n=we;we|=2;var r=Jv();(ot!==e||ht!==t)&&(Hn=null,Zr(e,t));do try{Nj();break}catch(s){Qv(e,s)}while(!0);if(sf(),we=n,sl.current=r,qe!==null)throw Error(X(261));return ot=null,ht=0,tt}function Nj(){for(;qe!==null;)Zv(qe)}function Sj(){for(;qe!==null&&!Yb();)Zv(qe)}function Zv(e){var t=nx(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?ex(e):qe=t,xf.current=null}function ex(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vj(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,qe=null;return}}else if(n=gj(n,t,Mt),n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);tt===0&&(tt=5)}function Kr(e,t,n){var r=Ce,s=Qt.transition;try{Qt.transition=null,Ce=1,kj(e,t,n,r)}finally{Qt.transition=s,Ce=r}return null}function kj(e,t,n,r){do Us();while(yr!==null);if(we&6)throw Error(X(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(o1(e,a),e===ot&&(qe=ot=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oi||(oi=!0,rx(Ui,function(){return Us(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Qt.transition,Qt.transition=null;var i=Ce;Ce=1;var l=we;we|=4,xf.current=null,yj(e,n),Xv(n,e),H1(Au),Vi=!!Pu,Au=Pu=null,e.current=n,wj(n),qb(),we=l,Ce=i,Qt.transition=a}else e.current=n;if(oi&&(oi=!1,yr=e,al=s),a=e.pendingLanes,a===0&&(kr=null),Zb(n.stateNode),Dt(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ol)throw ol=!1,e=Ju,Ju=null,e;return al&1&&e.tag!==0&&Us(),a=e.pendingLanes,a&1?e===Zu?Yo++:(Yo=0,Zu=e):Yo=0,Mr(),null}function Us(){if(yr!==null){var e=Og(al),t=Qt.transition,n=Ce;try{if(Qt.transition=null,Ce=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,al=0,we&6)throw Error(X(331));var s=we;for(we|=4,Z=e.current;Z!==null;){var a=Z,i=a.child;if(Z.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:Go(8,h,a)}var f=h.child;if(f!==null)f.return=h,Z=f;else for(;Z!==null;){h=Z;var m=h.sibling,y=h.return;if(Hv(h),h===u){Z=null;break}if(m!==null){m.return=y,Z=m;break}Z=y}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}Z=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Z=i;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Go(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Z=g;break e}Z=a.return}}var p=e.current;for(Z=p;Z!==null;){i=Z;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,Z=v;else e:for(i=p;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Al(9,l)}}catch(j){He(l,l.return,j)}if(l===i){Z=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Z=b;break e}Z=l.return}}if(we=s,Mr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Sl,e)}catch{}r=!0}return r}finally{Ce=n,Qt.transition=t}}return!1}function Am(e,t,n){t=Qs(n,t),t=Ov(e,t,1),e=Sr(e,t,1),t=Ct(),e!==null&&(ka(e,1,t),Dt(e,t))}function He(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){e=Qs(n,e),e=Dv(t,e,1),t=Sr(t,e,1),e=Ct(),t!==null&&(ka(t,1,e),Dt(t,e));break}}t=t.return}}function Cj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&n,ot===e&&(ht&n)===n&&(tt===4||tt===3&&(ht&130023424)===ht&&500>Ge()-wf?Zr(e,0):yf|=n),Dt(e,t)}function tx(e,t){t===0&&(e.mode&1?(t=Ya,Ya<<=1,!(Ya&130023424)&&(Ya=4194304)):t=1);var n=Ct();e=Zn(e,t),e!==null&&(ka(e,t,n),Dt(e,n))}function Ej(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tx(e,n)}function Tj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),tx(e,n)}var nx;nx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,pj(e,t,n);At=!!(e.flags&131072)}else At=!1,De&&t.flags&1048576&&av(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ai(e,t),e=t.pendingProps;var s=Gs(t,bt.current);Bs(t,n),s=hf(null,t,r,e,s,n);var a=mf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(r)?(a=!0,Yi(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lf(t),s.updater=Pl,t.stateNode=s,s._reactInternals=t,Bu(t,r,e,n),t=Vu(null,t,r,!0,a,n)):(t.tag=0,De&&a&&ef(t),St(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ai(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Rj(r),e=dn(r,e),s){case 0:t=Wu(null,t,r,e,n);break e;case 1:t=jm(null,t,r,e,n);break e;case 11:t=wm(null,t,r,e,n);break e;case 14:t=bm(null,t,r,dn(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),Wu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),jm(e,t,r,s,n);case 3:e:{if(zv(t),e===null)throw Error(X(387));r=t.pendingProps,a=t.memoizedState,s=a.element,fv(e,t),el(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Qs(Error(X(423)),t),t=Nm(e,t,r,n,s);break e}else if(r!==s){s=Qs(Error(X(424)),t),t=Nm(e,t,r,n,s);break e}else for(Ft=Nr(t.stateNode.containerInfo.firstChild),Bt=t,De=!0,hn=null,n=uv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),r===s){t=er(e,t,n);break e}St(e,t,r,n)}t=t.child}return t;case 5:return hv(t),e===null&&$u(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Iu(r,s)?i=null:a!==null&&Iu(r,a)&&(t.flags|=32),$v(e,t),St(e,t,i,n),t.child;case 6:return e===null&&$u(t),null;case 13:return Fv(e,t,n);case 4:return cf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ys(t,null,r,n):St(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),wm(e,t,r,s,n);case 7:return St(e,t,t.pendingProps,n),t.child;case 8:return St(e,t,t.pendingProps.children,n),t.child;case 12:return St(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Re(Ji,r._currentValue),r._currentValue=i,a!==null)if(gn(a.value,i)){if(a.children===s.children&&!It.current){t=er(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Yn(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),zu(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(X(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),zu(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}St(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Bs(t,n),s=Jt(s),r=r(s),t.flags|=1,St(e,t,r,n),t.child;case 14:return r=t.type,s=dn(r,t.pendingProps),s=dn(r.type,s),bm(e,t,r,s,n);case 15:return Lv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),Ai(e,t),t.tag=1,Ot(r)?(e=!0,Yi(t)):e=!1,Bs(t,n),Iv(t,r,s),Bu(t,r,s,n),Vu(null,t,r,!0,e,n);case 19:return Bv(e,t,n);case 22:return Mv(e,t,n)}throw Error(X(156,t.tag))};function rx(e,t){return Rg(e,t)}function _j(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,r){return new _j(e,t,n,r)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rj(e){if(typeof e=="function")return Sf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ud)return 11;if(e===Wd)return 14}return 2}function Er(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Di(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Sf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Cs:return es(n.children,s,a,t);case Bd:i=8,s|=8;break;case du:return e=Yt(12,n,t,s|2),e.elementType=du,e.lanes=a,e;case fu:return e=Yt(13,n,t,s),e.elementType=fu,e.lanes=a,e;case hu:return e=Yt(19,n,t,s),e.elementType=hu,e.lanes=a,e;case hg:return Ol(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dg:i=10;break e;case fg:i=9;break e;case Ud:i=11;break e;case Wd:i=14;break e;case dr:i=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Yt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function es(e,t,n,r){return e=Yt(7,e,r,t),e.lanes=n,e}function Ol(e,t,n,r){return e=Yt(22,e,r,t),e.elementType=hg,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function Mc(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pj(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kf(e,t,n,r,s,a,i,l,c){return e=new Pj(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Yt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(a),e}function Aj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sx(e){if(!e)return Rr;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(Ot(n))return sv(e,n,t)}return t}function ox(e,t,n,r,s,a,i,l,c){return e=kf(n,r,!0,e,s,a,i,l,c),e.context=sx(null),n=e.current,r=Ct(),s=Cr(n),a=Yn(r,s),a.callback=t??null,Sr(n,a,s),e.current.lanes=s,ka(e,s,r),Dt(e,r),e}function Dl(e,t,n,r){var s=t.current,a=Ct(),i=Cr(s);return n=sx(n),t.context===null?t.context=n:t.pendingContext=n,t=Yn(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sr(s,t,i),e!==null&&(pn(e,s,i,a),_i(e,s,i)),i}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cf(e,t){Im(e,t),(e=e.alternate)&&Im(e,t)}function Ij(){return null}var ax=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ef(e){this._internalRoot=e}Ll.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Dl(e,t,null,null)};Ll.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;as(function(){Dl(null,e,null,null)}),t[Jn]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mr.length&&t!==0&&t<mr[n].priority;n++);mr.splice(n,0,e),n===0&&zg(e)}};function Tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Om(){}function Oj(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=ll(i);a.call(u)}}var i=ox(t,r,e,0,null,!1,!1,"",Om);return e._reactRootContainer=i,e[Jn]=i.current,ia(e.nodeType===8?e.parentNode:e),as(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ll(c);l.call(u)}}var c=kf(e,0,!1,null,null,!1,!1,"",Om);return e._reactRootContainer=c,e[Jn]=c.current,ia(e.nodeType===8?e.parentNode:e),as(function(){Dl(t,c,n,r)}),c}function $l(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=ll(i);l.call(c)}}Dl(t,i,e,s)}else i=Oj(n,t,e,s,r);return ll(i)}Dg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Do(t.pendingLanes);n!==0&&(Kd(t,n|1),Dt(t,Ge()),!(we&6)&&(Js=Ge()+500,Mr()))}break;case 13:as(function(){var r=Zn(e,1);if(r!==null){var s=Ct();pn(r,e,1,s)}}),Cf(e,1)}};Gd=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var n=Ct();pn(t,e,134217728,n)}Cf(e,134217728)}};Lg=function(e){if(e.tag===13){var t=Cr(e),n=Zn(e,t);if(n!==null){var r=Ct();pn(n,e,t,r)}Cf(e,t)}};Mg=function(){return Ce};$g=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};Nu=function(e,t,n){switch(t){case"input":if(gu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Tl(r);if(!s)throw Error(X(90));pg(r),gu(r,s)}}}break;case"textarea":vg(e,n);break;case"select":t=n.value,t!=null&&Ms(e,!!n.multiple,t,!1)}};Sg=bf;kg=as;var Dj={usingClientEntryPoint:!1,Events:[Ea,Rs,Tl,jg,Ng,bf]},Eo={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lj={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tg(e),e===null?null:e.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||Ij,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ai.isDisabled&&ai.supportsFiber)try{Sl=ai.inject(Lj),Rn=ai}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dj;Ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(t))throw Error(X(200));return Aj(e,t,null,n)};Ht.createRoot=function(e,t){if(!Tf(e))throw Error(X(299));var n=!1,r="",s=ax;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kf(e,1,!1,null,null,n,!1,r,s),e[Jn]=t.current,ia(e.nodeType===8?e.parentNode:e),new Ef(t)};Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Tg(t),e=e===null?null:e.stateNode,e};Ht.flushSync=function(e){return as(e)};Ht.hydrate=function(e,t,n){if(!Ml(t))throw Error(X(200));return $l(null,e,t,!0,n)};Ht.hydrateRoot=function(e,t,n){if(!Tf(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=ax;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ox(t,null,e,1,n??null,s,!1,a,i),e[Jn]=t.current,ia(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ll(t)};Ht.render=function(e,t,n){if(!Ml(t))throw Error(X(200));return $l(null,e,t,!1,n)};Ht.unmountComponentAtNode=function(e){if(!Ml(e))throw Error(X(40));return e._reactRootContainer?(as(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};Ht.unstable_batchedUpdates=bf;Ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ml(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return $l(e,t,n,!1,r)};Ht.version="18.3.1-next-f1338f8080-20240426";function ix(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ix)}catch(e){console.error(e)}}ix(),ig.exports=Ht;var ao=ig.exports;const Mj=Id(ao);var Dm=ao;cu.createRoot=Dm.createRoot,cu.hydrateRoot=Dm.hydrateRoot;var $j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fj=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:l,...c},u)=>d.createElement("svg",{ref:u,...$j,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${zj(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var oe=Fj;const io=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Lm=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_f=oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),lx=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ws=oe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),cx=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),qo=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),hr=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Bj=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Mm=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ts=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Mo=oe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Uj=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ga=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wj=oe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),cl=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Pr=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Rf=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Vj=oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),$c=oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),qt=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ul=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Hj=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Kj=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Gj=oe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),nd=oe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Pf=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Xj=oe("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ux=oe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),dl=oe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),dx=oe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Yj=oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),$m=oe("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),wt=oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ut=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ms=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Af=oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),qj=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qj=oe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Jj=oe("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Zj=oe("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),eN=oe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),tN=oe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),tr=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),zm=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),rd=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),If=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),nN=oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),rN=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fx=oe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Of=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Fm=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ft=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),sN=oe("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),oN=oe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),aN=oe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),iN=oe("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),lN=oe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),vn=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Bm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hx(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Bm(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Bm(e[s],null)}}}}function ve(...e){return d.useCallback(hx(...e),e)}function Zs(e){const t=cN(e),n=d.forwardRef((r,s)=>{const{children:a,...i}=r,l=d.Children.toArray(a),c=l.find(dN);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var mx=Zs("Slot");function cN(e){const t=d.forwardRef((n,r)=>{const{children:s,...a}=n;if(d.isValidElement(s)){const i=hN(s),l=fN(a,s.props);return s.type!==d.Fragment&&(l.ref=r?hx(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uN=Symbol("radix.slottable");function dN(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uN}function fN(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function hN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function px(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=px(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function gx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=px(e))&&(r&&(r+=" "),r+=t);return r}const Um=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Wm=gx,vx=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Wm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=a==null?void 0:a[u];if(h===null)return null;const m=Um(h)||Um(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(w=>{let[x,N]=w;return Array.isArray(N)?N.includes({...a,...l}[x]):{...a,...l}[x]===N})?[...u,f,m]:u},[]);return Wm(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};function mN(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=xx(t))&&(r&&(r+=" "),r+=n);return r}function xx(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=xx(e[r]))&&(n&&(n+=" "),n+=t);return n}var Df="-";function pN(e){var t=vN(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(Df);return c[0]===""&&c.length!==1&&c.shift(),yx(c,t)||gN(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function yx(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?yx(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(Df);return(i=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:i.classGroupId}}var Vm=/^\[(.+)\]$/;function gN(e){if(Vm.test(e)){var t=Vm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function vN(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=yN(Object.entries(e.classGroups),n);return s.forEach(function(a){var i=a[0],l=a[1];sd(l,r,i,t)}),r}function sd(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:Hm(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(xN(s)){sd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];sd(c,Hm(t,l),n,r)})})}function Hm(e,t){var n=e;return t.split(Df).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function xN(e){return e.isThemeGetter}function yN(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,a]}):e}function wN(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,i){n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var wx="!";function bN(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,h,f=0;f<i.length;f++){var m=i[f];if(c===0){if(m===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(m==="/"){h=f;continue}}m==="["?c++:m==="]"&&c--}var y=l.length===0?i:i.substring(u),w=y.startsWith(wx),x=w?y.substring(1):y,N=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:N}}}function jN(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function NN(e){return{cache:wN(e.cacheSize),splitModifiers:bN(e),...pN(e)}}var SN=/\s+/;function kN(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(SN).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?h.substring(0,f):h),y=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:i};if(m=r(h),!m)return{isTailwindClass:!1,originalClassName:i};y=!1}var w=jN(c).join(":"),x=u?w+wx:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:i,hasPostfixModifier:y}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,h=l+c;return a.has(h)?!1:(a.add(h),s(c,u).forEach(function(f){return a.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function CN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,i=l;function l(u){var h=t[0],f=t.slice(1),m=f.reduce(function(y,w){return w(y)},h());return r=NN(m),s=r.cache.get,a=r.cache.set,i=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=kN(u,r);return a(u,f),f}return function(){return i(mN.apply(null,arguments))}}function Ae(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var bx=/^\[(?:([a-z-]+):)?(.+)\]$/i,EN=/^\d+\/\d+$/,TN=new Set(["px","full","screen"]),_N=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ln(e){return Qr(e)||TN.has(e)||EN.test(e)||od(e)}function od(e){return ps(e,"length",MN)}function AN(e){return ps(e,"size",jx)}function IN(e){return ps(e,"position",jx)}function ON(e){return ps(e,"url",$N)}function ii(e){return ps(e,"number",Qr)}function Qr(e){return!Number.isNaN(Number(e))}function DN(e){return e.endsWith("%")&&Qr(e.slice(0,-1))}function To(e){return Km(e)||ps(e,"number",Km)}function ge(e){return bx.test(e)}function _o(){return!0}function cr(e){return _N.test(e)}function LN(e){return ps(e,"",zN)}function ps(e,t,n){var r=bx.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function MN(e){return RN.test(e)}function jx(){return!1}function $N(e){return e.startsWith("url(")}function Km(e){return Number.isInteger(Number(e))}function zN(e){return PN.test(e)}function FN(){var e=Ae("colors"),t=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),s=Ae("borderColor"),a=Ae("borderRadius"),i=Ae("borderSpacing"),l=Ae("borderWidth"),c=Ae("contrast"),u=Ae("grayscale"),h=Ae("hueRotate"),f=Ae("invert"),m=Ae("gap"),y=Ae("gradientColorStops"),w=Ae("gradientColorStopPositions"),x=Ae("inset"),N=Ae("margin"),g=Ae("opacity"),p=Ae("padding"),v=Ae("saturate"),b=Ae("scale"),j=Ae("sepia"),C=Ae("skew"),T=Ae("space"),k=Ae("translate"),_=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",ge,t]},S=function(){return[ge,t]},E=function(){return["",ln]},F=function(){return["auto",Qr,ge]},W=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},R=function(){return["solid","dashed","dotted","double","none"]},U=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",ge]},V=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Y=function(){return[Qr,ii]},te=function(){return[Qr,ge]};return{cacheSize:500,theme:{colors:[_o],spacing:[ln],blur:["none","",cr,ge],brightness:Y(),borderColor:[e],borderRadius:["none","","full",cr,ge],borderSpacing:S(),borderWidth:E(),contrast:Y(),grayscale:B(),hueRotate:te(),invert:B(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[DN,od],inset:D(),margin:D(),opacity:Y(),padding:S(),saturate:Y(),scale:Y(),sepia:B(),skew:te(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[cr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(W(),[ge])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",To]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",To]}],"grid-cols":[{"grid-cols":[_o]}],"col-start-end":[{col:["auto",{span:["full",To]},ge]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[_o]}],"row-start-end":[{row:["auto",{span:[To]},ge]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ge,t]}],"min-w":[{"min-w":["min","max","fit",ge,ln]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[cr]},cr,ge]}],h:[{h:[ge,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ge,ln]}],"max-h":[{"max-h":[ge,t,"min","max","fit"]}],"font-size":[{text:["base",cr,od]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ii]}],"font-family":[{font:[_o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Qr,ii]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ge,ln]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(R(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ln]}],"underline-offset":[{"underline-offset":["auto",ge,ln]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(W(),[IN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ON]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(R(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(R())}],"outline-offset":[{"outline-offset":[ge,ln]}],"outline-w":[{outline:[ln]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ln]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cr,LN]}],"shadow-color":[{shadow:[_o]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cr,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[To,ge]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ln,ii]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var BN=CN(FN);function ke(...e){return BN(gx(e))}const UN=vx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function L({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?mx:"button";return o.jsx(a,{"data-slot":"button",className:ke(UN({variant:t,size:n,className:e})),...s})}function WN(e,t){const n=d.createContext(t),r=a=>{const{children:i,...l}=a,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function $n(e,t=[]){let n=[];function r(a,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=f=>{var g;const{scope:m,children:y,...w}=f,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,N=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:N,children:y})};u.displayName=a+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const s=()=>{const a=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,VN(s,...t)]}function VN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function yt(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var Qe=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},HN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=HN.reduce((e,t)=>{const n=Zs(`Primitive.${t}`),r=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function KN(e,t){e&&ao.flushSync(()=>e.dispatchEvent(t))}var Nx={exports:{}},Sx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=d;function GN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XN=typeof Object.is=="function"?Object.is:GN,YN=eo.useState,qN=eo.useEffect,QN=eo.useLayoutEffect,JN=eo.useDebugValue;function ZN(e,t){var n=t(),r=YN({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return QN(function(){s.value=n,s.getSnapshot=t,zc(s)&&a({inst:s})},[e,n,t]),qN(function(){return zc(s)&&a({inst:s}),e(function(){zc(s)&&a({inst:s})})},[e]),JN(n),n}function zc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!XN(e,n)}catch{return!0}}function eS(e,t){return t()}var tS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eS:ZN;Sx.useSyncExternalStore=eo.useSyncExternalStore!==void 0?eo.useSyncExternalStore:tS;Nx.exports=Sx;var nS=Nx.exports;function rS(){return nS.useSyncExternalStore(sS,()=>!0,()=>!1)}function sS(){return()=>{}}var Lf="Avatar",[oS,wR]=$n(Lf),[aS,kx]=oS(Lf),Cx=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=d.useState("idle");return o.jsx(aS,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(le.span,{...r,ref:t})})});Cx.displayName=Lf;var Ex="AvatarImage",Tx=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=kx(Ex,n),l=iS(r,a),c=yt(u=>{s(u),i.onImageLoadingStatusChange(u)});return Qe(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(le.img,{...a,ref:t,src:r}):null});Tx.displayName=Ex;var _x="AvatarFallback",Rx=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=kx(_x,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(le.span,{...s,ref:t}):null});Rx.displayName=_x;function Gm(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iS(e,{referrerPolicy:t,crossOrigin:n}){const r=rS(),s=d.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>Gm(a,e));return Qe(()=>{l(Gm(a,e))},[a,e]),Qe(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),h=c("error");return a.addEventListener("load",u),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,n,t]),i}var lS=Cx,cS=Tx,uS=Rx;function Me({className:e,...t}){return o.jsx(lS,{"data-slot":"avatar",className:ke("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function $e({className:e,...t}){return o.jsx(cS,{"data-slot":"avatar-image",className:ke("aspect-square size-full",e),...t})}function ze({className:e,...t}){return o.jsx(uS,{"data-slot":"avatar-fallback",className:ke("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class dS{constructor(){Ye(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const fS=new dS;var ad={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,a=n.XMLHttpRequest,i=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,h=n.Promise,f=n.fetch,m=n.Response,y=n.TextDecoder,w=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(M){u.readyState="complete"},!1)),a==null&&l!=null&&(a=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(M){function O(){}return O.prototype=M,new O}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var N=f;f=function(M,O){var G=O.signal;return N(M,{headers:O.headers,credentials:O.credentials,cache:O.cache}).then(function(H){var re=H.body.getReader();return G._reader=re,G._aborted&&G._reader.cancel(),{status:H.status,statusText:H.statusText,headers:H.headers,body:{getReader:function(){return re}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(M){function O(Ne,Ee,ae){if(ae===1)return Ne>=128>>Ee&&Ne<<Ee<=2047;if(ae===2)return Ne>=2048>>Ee&&Ne<<Ee<=55295||Ne>=57344>>Ee&&Ne<<Ee<=65535;if(ae===3)return Ne>=65536>>Ee&&Ne<<Ee<=1114111;throw new Error}function G(Ne,Ee){if(Ne===6*1)return Ee>>6>15?3:Ee>31?2:1;if(Ne===6*2)return Ee>15?3:2;if(Ne===6*3)return 3;throw new Error}for(var H=65533,re="",J=this.bitsNeeded,fe=this.codePoint,be=0;be<M.length;be+=1){var ie=M[be];J!==0&&(ie<128||ie>191||!O(fe<<6|ie&63,J-6,G(J,fe)))&&(J=0,fe=H,re+=String.fromCharCode(fe)),J===0?(ie>=0&&ie<=127?(J=0,fe=ie):ie>=192&&ie<=223?(J=6*1,fe=ie&31):ie>=224&&ie<=239?(J=6*2,fe=ie&15):ie>=240&&ie<=247?(J=6*3,fe=ie&7):(J=0,fe=H),J!==0&&!O(fe,J,G(J,fe))&&(J=0,fe=H)):(J-=6,fe=fe<<6|ie&63),J===0&&(fe<=65535?re+=String.fromCharCode(fe):(re+=String.fromCharCode(55296+(fe-65535-1>>10)),re+=String.fromCharCode(56320+(fe-65535-1&1023))))}return this.bitsNeeded=J,this.codePoint=fe,re};var p=function(){try{return new y().decode(new w().encode("test"),{stream:!0})==="test"}catch(M){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+M)}return!1};(y==null||w==null||!p())&&(y=g);var v=function(){};function b(M){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=M,this._sendTimeout=0,this._abort=v}b.prototype.open=function(M,O){this._abort(!0);var G=this,H=this._xhr,re=1,J=0;this._abort=function(ae){G._sendTimeout!==0&&(s(G._sendTimeout),G._sendTimeout=0),(re===1||re===2||re===3)&&(re=4,H.onload=v,H.onerror=v,H.onabort=v,H.onprogress=v,H.onreadystatechange=v,H.abort(),J!==0&&(s(J),J=0),ae||(G.readyState=4,G.onabort(null),G.onreadystatechange())),re=0};var fe=function(){if(re===1){var ae=0,Pe="",_t=void 0;if("contentType"in H)ae=200,Pe="OK",_t=H.contentType;else try{ae=H.status,Pe=H.statusText,_t=H.getResponseHeader("Content-Type")}catch{ae=0,Pe="",_t=void 0}ae!==0&&(re=2,G.readyState=2,G.status=ae,G.statusText=Pe,G._contentType=_t,G.onreadystatechange())}},be=function(){if(fe(),re===2||re===3){re=3;var ae="";try{ae=H.responseText}catch{}G.readyState=3,G.responseText=ae,G.onprogress()}},ie=function(ae,Pe){if((Pe==null||Pe.preventDefault==null)&&(Pe={preventDefault:v}),be(),re===1||re===2||re===3){if(re=4,J!==0&&(s(J),J=0),G.readyState=4,ae==="load")G.onload(Pe);else if(ae==="error")G.onerror(Pe);else if(ae==="abort")G.onabort(Pe);else throw new TypeError;G.onreadystatechange()}},Ne=function(ae){H!=null&&(H.readyState===4?(!("onload"in H)||!("onerror"in H)||!("onabort"in H))&&ie(H.responseText===""?"error":"load",ae):H.readyState===3?"onprogress"in H||be():H.readyState===2&&fe())},Ee=function(){J=r(function(){Ee()},500),H.readyState===3&&be()};"onload"in H&&(H.onload=function(ae){ie("load",ae)}),"onerror"in H&&(H.onerror=function(ae){ie("error",ae)}),"onabort"in H&&(H.onabort=function(ae){ie("abort",ae)}),"onprogress"in H&&(H.onprogress=be),"onreadystatechange"in H&&(H.onreadystatechange=function(ae){Ne(ae)}),("contentType"in H||!("ontimeout"in a.prototype))&&(O+=(O.indexOf("?")===-1?"?":"&")+"padding=true"),H.open(M,O,!0),"readyState"in H&&(J=r(function(){Ee()},0))},b.prototype.abort=function(){this._abort(!1)},b.prototype.getResponseHeader=function(M){return this._contentType},b.prototype.setRequestHeader=function(M,O){var G=this._xhr;"setRequestHeader"in G&&G.setRequestHeader(M,O)},b.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},b.prototype.send=function(){if((!("ontimeout"in a.prototype)||!("sendAsBinary"in a.prototype)&&!("mozAnon"in a.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var M=this;M._sendTimeout=r(function(){M._sendTimeout=0,M.send()},4);return}var O=this._xhr;"withCredentials"in O&&(O.withCredentials=this.withCredentials);try{O.send(void 0)}catch(G){throw G}};function j(M){return M.replace(/[A-Z]/g,function(O){return String.fromCharCode(O.charCodeAt(0)+32)})}function C(M){for(var O=Object.create(null),G=M.split(`\r
`),H=0;H<G.length;H+=1){var re=G[H],J=re.split(": "),fe=J.shift(),be=J.join(": ");O[j(fe)]=be}this._map=O}C.prototype.get=function(M){return this._map[j(M)]},a!=null&&a.HEADERS_RECEIVED==null&&(a.HEADERS_RECEIVED=2);function T(){}T.prototype.open=function(M,O,G,H,re,J,fe){M.open("GET",re);var be=0;M.onprogress=function(){var Ne=M.responseText,Ee=Ne.slice(be);be+=Ee.length,G(Ee)},M.onerror=function(Ne){Ne.preventDefault(),H(new Error("NetworkError"))},M.onload=function(){H(null)},M.onabort=function(){H(null)},M.onreadystatechange=function(){if(M.readyState===a.HEADERS_RECEIVED){var Ne=M.status,Ee=M.statusText,ae=M.getResponseHeader("Content-Type"),Pe=M.getAllResponseHeaders();O(Ne,Ee,ae,new C(Pe))}},M.withCredentials=J;for(var ie in fe)Object.prototype.hasOwnProperty.call(fe,ie)&&M.setRequestHeader(ie,fe[ie]);return M.send(),M};function k(M){this._headers=M}k.prototype.get=function(M){return this._headers.get(M)};function _(){}_.prototype.open=function(M,O,G,H,re,J,fe){var be=null,ie=new x,Ne=ie.signal,Ee=new y;return f(re,{headers:fe,credentials:J?"include":"same-origin",signal:Ne,cache:"no-store"}).then(function(ae){return be=ae.body.getReader(),O(ae.status,ae.statusText,ae.headers.get("Content-Type"),new k(ae.headers)),new h(function(Pe,_t){var Br=function(){be.read().then(function(nt){if(nt.done)Pe(void 0);else{var rt=Ee.decode(nt.value,{stream:!0});G(rt),Br()}}).catch(function(nt){_t(nt)})};Br()})}).catch(function(ae){if(ae.name!=="AbortError")return ae}).then(function(ae){H(ae)}),{abort:function(){be!=null&&be.cancel(),ie.abort()}}};function A(){this._listeners=Object.create(null)}function D(M){r(function(){throw M},0)}A.prototype.dispatchEvent=function(M){M.target=this;var O=this._listeners[M.type];if(O!=null)for(var G=O.length,H=0;H<G;H+=1){var re=O[H];try{typeof re.handleEvent=="function"?re.handleEvent(M):re.call(this,M)}catch(J){D(J)}}},A.prototype.addEventListener=function(M,O){M=String(M);var G=this._listeners,H=G[M];H==null&&(H=[],G[M]=H);for(var re=!1,J=0;J<H.length;J+=1)H[J]===O&&(re=!0);re||H.push(O)},A.prototype.removeEventListener=function(M,O){M=String(M);var G=this._listeners,H=G[M];if(H!=null){for(var re=[],J=0;J<H.length;J+=1)H[J]!==O&&re.push(H[J]);re.length===0?delete G[M]:G[M]=re}};function S(M){this.type=M,this.target=void 0}function E(M,O){S.call(this,M),this.data=O.data,this.lastEventId=O.lastEventId}E.prototype=Object.create(S.prototype);function F(M,O){S.call(this,M),this.status=O.status,this.statusText=O.statusText,this.headers=O.headers}F.prototype=Object.create(S.prototype);function W(M,O){S.call(this,M),this.error=O.error}W.prototype=Object.create(S.prototype);var R=-1,U=0,P=1,B=2,V=-1,Y=0,te=1,se=2,me=3,Te=/^text\/event\-stream(;.*)?$/i,ye=1e3,ne=18e6,de=function(M,O){var G=M==null?O:parseInt(M,10);return G!==G&&(G=O),he(G)},he=function(M){return Math.min(Math.max(M,ye),ne)},I=function(M,O,G){try{typeof O=="function"&&O.call(M,G)}catch(H){D(H)}};function Q(M,O){A.call(this),O=O||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,We(this,M,O)}function ue(){return a!=null&&"withCredentials"in a.prototype||i==null?new a:new i}var _e=f!=null&&m!=null&&"body"in m.prototype;function We(M,O,G){O=String(O);var H=!!G.withCredentials,re=G.lastEventIdQueryParameterName||"lastEventId",J=he(1e3),fe=de(G.heartbeatTimeout,45e3),be="",ie=J,Ne=!1,Ee=0,ae=G.headers||{},Pe=G.Transport,_t=_e&&Pe==null?void 0:new b(Pe!=null?new Pe:ue()),Br=Pe!=null&&typeof Pe!="string"?new Pe:_t==null?new _:new T,nt=void 0,rt=0,Ve=R,Un="",Ur="",rn="",Wr="",it=Y,vo=0,jn=0,uc=function(Xe,Ke,Nt,pt){if(Ve===U)if(Xe===200&&Nt!=null&&Te.test(Nt)){Ve=P,Ne=Date.now(),ie=J,M.readyState=P;var lt=new F("open",{status:Xe,statusText:Ke,headers:pt});M.dispatchEvent(lt),I(M,M.onopen,lt)}else{var Je="";Xe!==200?(Ke&&(Ke=Ke.replace(/\s+/g," ")),Je="EventSource's response has a status "+Xe+" "+Ke+" that is not 200. Aborting the connection."):Je="EventSource's response has a Content-Type specifying an unsupported type: "+(Nt==null?"-":Nt.replace(/\s+/g," "))+". Aborting the connection.",Nn();var lt=new F("error",{status:Xe,statusText:Ke,headers:pt});M.dispatchEvent(lt),I(M,M.onerror,lt),console.error(Je)}},dc=function(Xe){if(Ve===P){for(var Ke=-1,Nt=0;Nt<Xe.length;Nt+=1){var pt=Xe.charCodeAt(Nt);(pt===10||pt===13)&&(Ke=Nt)}var lt=(Ke!==-1?Wr:"")+Xe.slice(0,Ke+1);Wr=(Ke===-1?Wr:"")+Xe.slice(Ke+1),Xe!==""&&(Ne=Date.now(),Ee+=Xe.length);for(var Je=0;Je<lt.length;Je+=1){var pt=lt.charCodeAt(Je);if(it===V&&pt===10)it=Y;else if(it===V&&(it=Y),pt===13||pt===10){if(it!==Y){it===te&&(jn=Je+1);var sn=lt.slice(vo,jn-1),on=lt.slice(jn+(jn<Je&&lt.charCodeAt(jn)===32?1:0),Je);sn==="data"?(Un+=`
`,Un+=on):sn==="id"?Ur=on:sn==="event"?rn=on:sn==="retry"?(J=de(on,J),ie=J):sn==="heartbeatTimeout"&&(fe=de(on,fe),rt!==0&&(s(rt),rt=r(function(){Vr()},fe)))}if(it===Y){if(Un!==""){be=Ur,rn===""&&(rn="message");var Wn=new E(rn,{data:Un.slice(1),lastEventId:Ur});if(M.dispatchEvent(Wn),rn==="open"?I(M,M.onopen,Wn):rn==="message"?I(M,M.onmessage,Wn):rn==="error"&&I(M,M.onerror,Wn),Ve===B)return}Un="",rn=""}it=pt===13?V:Y}else it===Y&&(vo=Je,it=te),it===te?pt===58&&(jn=Je+1,it=se):it===se&&(it=me)}}},xo=function(Xe){if(Ve===P||Ve===U){Ve=R,rt!==0&&(s(rt),rt=0),rt=r(function(){Vr()},ie),ie=he(Math.min(J*16,ie*2)),M.readyState=U;var Ke=new W("error",{error:Xe});M.dispatchEvent(Ke),I(M,M.onerror,Ke),Xe!=null&&console.error(Xe)}},Nn=function(){Ve=B,nt!=null&&(nt.abort(),nt=void 0),rt!==0&&(s(rt),rt=0),M.readyState=B},Vr=function(){if(rt=0,Ve!==R){if(!Ne&&nt!=null)xo(new Error("No activity within "+fe+" milliseconds. "+(Ve===U?"No response received.":Ee+" chars received.")+" Reconnecting.")),nt!=null&&(nt.abort(),nt=void 0);else{var Xe=Math.max((Ne||Date.now())+fe-Date.now(),1);Ne=!1,rt=r(function(){Vr()},Xe)}return}Ne=!1,Ee=0,rt=r(function(){Vr()},fe),Ve=U,Un="",rn="",Ur=be,Wr="",vo=0,jn=0,it=Y;var Ke=O;if(O.slice(0,5)!=="data:"&&O.slice(0,5)!=="blob:"&&be!==""){var Nt=O.indexOf("?");Ke=Nt===-1?O:O.slice(0,Nt+1)+O.slice(Nt+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(on,Wn){return Wn===re?"":on}),Ke+=(O.indexOf("?")===-1?"?":"&")+re+"="+encodeURIComponent(be)}var pt=M.withCredentials,lt={};lt.Accept="text/event-stream";var Je=M.headers;if(Je!=null)for(var sn in Je)Object.prototype.hasOwnProperty.call(Je,sn)&&(lt[sn]=Je[sn]);try{nt=Br.open(_t,uc,dc,xo,Ke,pt,lt)}catch(on){throw Nn(),on}};M.url=O,M.readyState=U,M.withCredentials=H,M.headers=ae,M._close=Nn,Vr()}Q.prototype=Object.create(A.prototype),Q.prototype.CONNECTING=U,Q.prototype.OPEN=P,Q.prototype.CLOSED=B,Q.prototype.close=function(){this._close()},Q.CONNECTING=U,Q.OPEN=P,Q.CLOSED=B,Q.prototype.withCredentials=void 0;var at=c;a!=null&&(c==null||!("withCredentials"in c.prototype))&&(at=Q),function(M){{var O=M(t);O!==void 0&&(e.exports=O)}}(function(M){M.EventSourcePolyfill=Q,M.NativeEventSource=c,M.EventSource=at})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:db:globalThis)})(ad,ad.exports);var Ro=ad.exports;class hS{constructor(t){Ye(this,"_userId");Ye(this,"apiBaseUrl");Ye(this,"maxReconnectAttempts");Ye(this,"eventSource",null);Ye(this,"reconnectAttempts",0);Ye(this,"reconnectTimeout",null);Ye(this,"isManualDisconnect",!1);Ye(this,"onNotification");Ye(this,"onAuthRequired");Ye(this,"onConnectionOpen");Ye(this,"onConnectionError");Ye(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===Ro.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}this.startSSEConnection(t)}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;try{console.log("SSE  :",n),this.eventSource=new Ro.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE  "),this.reconnectAttempts=0,(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.onerror=r=>{var s,a,i,l;console.error("SSE  :",{error:r,readyState:(s=this.eventSource)==null?void 0:s.readyState,url:n}),(a=this.onConnectionError)==null||a.call(this,r),((i=this.eventSource)==null?void 0:i.readyState)===Ro.EventSourcePolyfill.CLOSED?(console.log("SSE  ."),this.eventSource=null,this.handleReconnect()):((l=this.eventSource)==null?void 0:l.readyState)===Ro.EventSourcePolyfill.CONNECTING&&console.log("SSE  ...")},this.eventSource.addEventListener("auth-error",r=>{var s;console.warn(" :",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("   "),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()})}catch(r){console.error("SSE    :",r),this.handleReconnect()}}handleMessage(t){var n;if(!(t.data==="ping"||t.data==="heartbeat"))try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;console.log("SSE  :",r),(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE   :",r,"Raw data:",t.data)}}async refreshTokenAndConnect(){try{console.log("     ..."),await this.refreshToken()?(console.log("  , SSE  ..."),this.connect()):(console.error("   -  "),this.handleAuthRequired())}catch(t){console.error("    :",t),this.handleAuthRequired()}}handleReconnect(){if(this.isManualDisconnect){console.log("     .");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("  ...");const n=this.getValidToken();!n||this.isTokenExpired(n)?(console.log("  .    ."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("    .  ."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch{return!0}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("   :",t),null}try{console.log("   ...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const r=(await t.text()).replace(/"/g,"");if(r&&r!=="null")return localStorage.setItem("accessToken",r),console.log("  "),r}else console.error(`  : ${t.status} ${t.statusText}`),t.status===401&&localStorage.removeItem("accessToken");return null}catch(t){return console.error("   :",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("   ..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.isTokenExpired(t)?(console.log(" :    "),await this.refreshTokenAndConnect()):(console.log(" :   "),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===Ro.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}getUserId(){return this._userId}}const mS=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0}=e,h=d.useRef(null),[f,m]=d.useState(!1),[y,w]=d.useState(0),x=d.useRef({onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{x.current={onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c}});const N=d.useCallback(()=>{var k,_;m(!0),w(0),(_=(k=x.current).onConnectionOpen)==null||_.call(k)},[]),g=d.useCallback(k=>{var _,A;m(!1),(A=(_=x.current).onConnectionError)==null||A.call(_,k)},[]),p=d.useCallback(k=>{var _,A;(A=(_=x.current).onNotification)==null||A.call(_,k)},[]),v=d.useCallback(()=>{var k,_;m(!1),(_=(k=x.current).onAuthRequired)==null||_.call(k)},[]),b=d.useCallback(()=>{h.current&&t&&h.current.connect()},[t]),j=d.useCallback(()=>{h.current&&(h.current.disconnect(),m(!1),w(0))},[]),C=d.useCallback(()=>{h.current&&h.current.reconnect()},[]),T=d.useCallback(()=>{h.current&&h.current.forceReconnect()},[]);return d.useEffect(()=>{if(t){const k={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:p,onAuthRequired:v,onConnectionOpen:N,onConnectionError:g,onTokenRefresh:x.current.onTokenRefresh};h.current=new hS(k),u&&setTimeout(()=>{var D;(D=h.current)==null||D.connect()},1e3);const A=setInterval(()=>{h.current&&(m(h.current.isConnected()),w(h.current.getReconnectAttempts()))},2e3);return()=>{var D;clearInterval(A),(D=h.current)==null||D.disconnect(),h.current=null}}else h.current&&(h.current.disconnect(),h.current=null),m(!1),w(0)},[t,n,r,u,p,v,N,g]),d.useEffect(()=>{h.current&&t&&h.current.updateUserId(t)},[t]),{isConnected:f,reconnectAttempts:y,connect:b,disconnect:j,reconnect:C,forceReconnect:T}};function pS({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:a,authenticatedFetch:i,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h,refreshAccessToken:f}){const[m,y]=d.useState([]),[w,x]=d.useState(!1),[N,g]=d.useState(!1),[p,v]=d.useState(null);mS({userId:l,onNotification:R=>{if(R.notificationType==="CONNECTED")return;const U=b(R);y(P=>[U,...P])},onAuthRequired:()=>{console.warn("SSE    -      "),f().then(R=>{R?console.log("SSE    -   "):(console.error("SSE     "),a())}).catch(R=>{console.error("SSE    :",R),a()})},onTokenRefresh:async()=>await f()});const b=R=>{const U=V=>{switch(V){case"DM_RECEIVED":case"NEW_DM_ROOM":return"message";case"FOLLOWED":return"follow";case"PLAYLIST_SUBSCRIBED":case"FOLLOWING_POSTED_PLAYLIST":return"like";default:return"notification"}},P=V=>{switch(V){case"DM_RECEIVED":return"  ";case"NEW_DM_ROOM":return"  ";case"FOLLOWED":return"  ";case"PLAYLIST_SUBSCRIBED":return" ";case"FOLLOWING_POSTED_PLAYLIST":return"   ";case"ROLE_CHANGED":return" ";default:return" "}},B=V=>{const Y=new Date(V),se=new Date().getTime()-Y.getTime(),me=Math.floor(se/(1e3*60)),Te=Math.floor(se/(1e3*60*60)),ye=Math.floor(se/(1e3*60*60*24));return me<1?" ":me<60?`${me} `:Te<24?`${Te} `:ye===1?"":`${ye} `};return{id:R.id,type:U(R.notificationType),title:P(R.notificationType),content:R.content,avatar:"",timestamp:B(R.createdAt),isRead:!1}},j=async()=>{if(l)try{const R=await fS.getUser(l);v(R)}catch(R){console.error("   :",R),R instanceof Error&&(R.message.includes("not found")||R.message.includes("401")||R.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a())}},C=async()=>{if(l)try{const R=await i("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/notifications");if(!R.ok){if(R.status===401||R.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a();return}throw new Error(`   . (: ${R.status})`)}const U=await R.json(),P=U.content||U;if(!Array.isArray(P)){console.error("   :",U),y([]);return}const B=P.map(V=>({...b(V),isRead:!0}));y(B)}catch(R){console.error("   :",R),R instanceof Error&&(R.message.includes("401")||R.message.includes("403"))&&y([])}};d.useEffect(()=>{l&&(j(),C())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=j),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const T=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],k=m.filter(R=>!R.isRead).length;d.useEffect(()=>{const R=U=>{const P=U.target;!P.closest(".notification-container")&&!P.closest(".profile-container")&&(x(!1),g(!1))};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[]);const _=R=>{switch(R){case"message":return o.jsx(Pf,{className:"w-4 h-4"});case"follow":return o.jsx(Of,{className:"w-4 h-4"});case"like":return o.jsx(Pr,{className:"w-4 h-4"});case"watch":return o.jsx(wt,{className:"w-4 h-4"});default:return o.jsx(Lm,{className:"w-4 h-4"})}},A=async R=>{try{await u(R),y(U=>U.filter(P=>P.id!==R))}catch(U){console.error("  :",U)}},D=R=>{y(U=>U.map(P=>P.id===R?{...P,isRead:!0}:P))},S=async()=>{try{await C(),y(R=>R.map(U=>({...U,isRead:!0})))}catch(R){console.error("   :",R)}},E=R=>{s&&s(),t(R)},F=R=>{R.stopPropagation(),s&&s(),x(!w),g(!1)},W=async()=>{try{if(!(await i("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");g(!1),a()}catch(R){console.error(" :",R),g(!1),a()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>E("home"),children:""}),o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:T.map(R=>o.jsx("li",{children:o.jsx("button",{onClick:()=>E(R.id),className:`transition-colors hover:text-[#4ecdc4] ${e===R.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:R.label})},R.id))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative notification-container",children:[o.jsxs(L,{variant:"ghost",size:"sm",onClick:F,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Lm,{className:"w-5 h-5"}),k>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:k>9?"9+":k})]}),w&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[k>0&&o.jsx(L,{variant:"ghost",size:"sm",onClick:S,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx(L,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),y([])}catch(R){console.error("   :",R)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(rd,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${m.length>4?"max-h-96":""}`,children:m.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:m.map(R=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>D(R.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Me,{className:"h-12 w-12",children:[o.jsx($e,{src:R.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:R.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:_(R.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${R.isRead?"text-white/60":"font-medium"}`,children:R.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:R.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:R.content})]}),o.jsx(L,{variant:"ghost",size:"sm",onClick:async U=>{U.stopPropagation(),await A(R.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(rd,{className:"w-3 h-3"})}),!R.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},R.id))})})]})]}),o.jsxs("div",{className:"relative profile-container",children:[o.jsxs(L,{variant:"ghost",size:"sm",onClick:R=>{R.stopPropagation(),g(!N),x(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(Me,{className:"h-8 w-8",children:[o.jsx($e,{src:(p==null?void 0:p.profileImage)||""}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:(p==null?void 0:p.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(p==null?void 0:p.name)||""})]}),N&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{g(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Fm,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{g(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Fm,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs(L,{variant:"ghost",size:"sm",onClick:W,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(Hj,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function gS(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},n=[{name:"Github",icon:Wj,href:"#github"},{name:"Twitter",icon:nN,href:"#twitter"},{name:"Instagram",icon:Vj,href:"#instagram"},{name:"Email",icon:Kj,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(a=>o.jsx("li",{children:o.jsx("a",{href:a.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:a.name})},a.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(Pr,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const Le=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:ke("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));Le.displayName="Input";var vS="Label",Px=d.forwardRef((e,t)=>o.jsx(le.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Px.displayName=vS;var xS=Px;function Pt({className:e,...t}){return o.jsx(xS,{"data-slot":"label",className:ke("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var yS="Separator",Xm="horizontal",wS=["horizontal","vertical"],Ax=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Xm,...s}=e,a=bS(r)?r:Xm,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(le.div,{"data-orientation":a,...l,...s,ref:t})});Ax.displayName=yS;function bS(e){return wS.includes(e)}var jS=Ax;function NS({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(jS,{"data-slot":"separator-root",decorative:n,orientation:t,className:ke("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Ix({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,a]=d.useState(null),i=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){a("    .");return}if(u.size>5*1024*1024){a("  5MB  .");return}a(null),t(u)}},l=()=>{t(null),a(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),n&&o.jsx(L,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(vn,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(Me,{className:"h-20 w-20",children:[o.jsx($e,{src:URL.createObjectURL(e)}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx(L,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(vn,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Le,{type:"file",accept:"image/*",onChange:i,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(rN,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function SS({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,a]=d.useState(!1),[i,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,y]=d.useState(null),[w,x]=d.useState(!1),N=()=>{window.location.href="http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/oauth2/login/kakao"},g=()=>{window.location.href="http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/oauth2/login/google"},p=async v=>{v.preventDefault(),u(null),f(!0);try{if(r){if(!i.name.trim()){u(" .");return}if(i.name.length<3||i.name.length>50){u(" 3  50  .");return}if(!i.email.trim()){u(" .");return}if(!i.password.trim()){u(" .");return}if(i.password!==i.confirmPassword){u("  .");return}const b=new FormData;b.append("email",i.email),b.append("name",i.name),b.append("password",i.password),m&&b.append("profile",m);const j=await fetch("/api/users",{method:"POST",credentials:"include",body:b});if(!j.ok){let C=" .";const T=j.headers.get("content-type");if(T&&T.includes("application/json"))try{const k=await j.text();k&&(C=JSON.parse(k).message||C)}catch(k){console.error("Error parsing error response:",k)}throw new Error(C)}alert(" . ."),t()}else{const b={email:i.email,password:i.password},j=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)});if(!j.ok){let T=" .";const k=j.headers.get("content-type");if(k&&k.includes("application/json"))try{const _=await j.text();_&&(T=JSON.parse(_).message||T)}catch(_){console.error("Error parsing error response:",_)}throw new Error(T)}const C=await j.text();if(!C||C.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const T=JSON.parse(C);e(T.accessToken,T.isTempPassword)}catch(T){throw console.error("Error parsing success response:",T),new Error("    .")}}}catch(b){u(b instanceof Error?b.message:"   .")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"name",className:"text-base",children:""}),o.jsx(Le,{id:"name",type:"text",value:i.name,onChange:v=>l({...i,name:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"email",className:"text-base",children:""}),o.jsx(Le,{id:"email",type:"email",value:i.email,onChange:v=>l({...i,email:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(Le,{id:"password",type:s?"text":"password",value:i.password,onChange:v=>l({...i,password:v.target.value}),className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(Uj,{className:"w-5 h-5"}):o.jsx(ga,{className:"w-5 h-5"})})]})]}),r&&o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(Le,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:v=>l({...i,confirmPassword:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(Pt,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(Me,{className:"h-16 w-16",children:[o.jsx($e,{src:m?URL.createObjectURL(m):void 0}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:i.name.charAt(0)||"U"})]}),o.jsxs(L,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(lx,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(Ix,{selectedImage:m,onImageSelect:y,onClose:()=>x(!1),userName:i.name})})]}),o.jsx(L,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?" ...":r?"":""})]}),o.jsx(NS,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(L,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:N,disabled:h,children:[" ",r?"":""]}),o.jsxs(L,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:g,disabled:h,children:["Google ",r?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:r?"":""})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:" "})]})]})]})]})}class kS{constructor(){Ye(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const i=t.type.toUpperCase();n.append("contentType",i)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(n){throw console.error("   :",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const Jr=new kS;class CS{constructor(){Ye(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getWatchRooms(t){var n;try{const r=new URLSearchParams;t!=null&&t.query&&r.append("searchKeyword",t.query),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.limit&&r.append("size",t.limit.toString()),t!=null&&t.offset&&r.append("cursor",((n=t.offset)==null?void 0:n.toString())||"");const s=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,a=await this.authenticatedFetch(s);if(!a.ok)throw new Error(`   . Status: ${a.status}`);const i=await a.json(),l=i.data||i;return Array.isArray(l)?t!=null&&t.sortBy?this.sortWatchRooms(l,t.sortBy):l:(console.error("   :",i),[])}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async joinWatchRoom(t){try{const n=await this.getWatchRoom(t);return{id:n.id,title:n.title,newUserId:"",content:{id:n.contentId||"",title:n.contentTitle,titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:0}}}catch(n){throw console.error("  :",n),n}}async searchWatchRooms(t,n="participantCount"){return this.getWatchRooms({query:t,sortBy:n})}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>s.title.toLowerCase().includes(r)||s.contentTitle.toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r))}}const zl=new CS;class ES{constructor(){Ye(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getPlaylistByUser(){try{const t=await this.authenticatedFetch(this.baseUrl);if(!t.ok)throw new Error(`   . Status: ${t.status}`);return await t.json()}catch(t){throw console.error("   :",t),t}}}const TS=new ES;function li({onPageChange:e,onPlaylistOpen:t,onContentPlay:n}){const[r,s]=d.useState([]),[a,i]=d.useState([]),[l,c]=d.useState([]),[u,h]=d.useState(!0),f=d.useRef(null),m=d.useRef(null),y=d.useRef(null),w=async()=>{try{const j=await zl.getWatchRooms({limit:9});Array.isArray(j)?s(j):(console.error("Live rooms data is not an array:",j),s([]))}catch(j){console.error("Failed to fetch live rooms:",j),s([])}},x=async()=>{try{const j=await Jr.getContents({size:20});i(j.data)}catch(j){console.error("Failed to fetch featured content:",j)}},N=async()=>{try{const j=await TS.getPlaylistByUser();c(j.slice(0,4))}catch(j){console.error("Failed to fetch my playlists:",j),c([])}};d.useEffect(()=>{(async()=>{h(!0),await Promise.all([w(),x(),N()]),h(!1)})()},[]);const g=()=>{e&&e("playlist")},p=j=>{t&&t(j)},v=j=>{j.current&&j.current.scrollBy({left:-288,behavior:"smooth"})},b=j=>{j.current&&j.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs(L,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Ut,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(If,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs(L,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(hr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(L,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(f),children:o.jsx(qo,{className:"w-6 h-6"})}),o.jsx(L,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>b(f),children:o.jsx(hr,{className:"w-6 h-6"})}),o.jsx("div",{ref:f,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(3).fill(0).map((j,C)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},C)):(Array.isArray(r)?r:[]).slice(0,9).map(j=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",j.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(L,{size:"sm",onClick:C=>{C.stopPropagation(),console.log("Joining room:",j.id)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(wt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:j.contentTitle}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[j.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ts,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[j.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",j.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},j.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(L,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(hr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(L,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(m),children:o.jsx(qo,{className:"w-6 h-6"})}),o.jsx(L,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>b(m),children:o.jsx(hr,{className:"w-6 h-6"})}),o.jsx("div",{ref:m,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(6).fill(0).map((j,C)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},C)):a.slice(0,20).map(j=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:j.id,title:j.title,thumbnail:j.thumbnailUrl||j.url||"",type:j.contentType==="MOVIE"?"movie":j.contentType==="TV"?"tv":"sports",duration:"120",description:j.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:j.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(L,{size:"sm",onClick:C=>{C.stopPropagation(),n&&n({id:j.id,title:j.title,thumbnail:j.thumbnailUrl||j.url||"",type:j.contentType==="MOVIE"?"movie":j.contentType==="TV"?"tv":"sports",duration:"120",description:j.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(wt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(L,{size:"sm",variant:"outline",onClick:C=>{C.stopPropagation(),console.log("Add to playlist:",j.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Ut,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:j.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:j.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:j.releaseDate?new Date(j.releaseDate).getFullYear():"2024"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:"120"}),o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${j.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":j.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:j.contentType==="MOVIE"?"":j.contentType==="TV"?"TV/":""})]})]})]},j.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ts,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(L,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:g,children:["",o.jsx(hr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(L,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(y),children:o.jsx(qo,{className:"w-6 h-6"})}),o.jsx(L,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>b(y),children:o.jsx(hr,{className:"w-6 h-6"})}),o.jsx("div",{ref:y,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(4).fill(0).map((j,C)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},C)):l.map((j,C)=>{const T=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],k=T[C%T.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>p(j.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${k} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(dl,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:j.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(L,{size:"lg",onClick:_=>{_.stopPropagation(),p(j.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(wt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:j.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:j.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[j.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ts,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_f,{className:"w-3 h-3"}),o.jsx("span",{children:j.createdAt?new Date(j.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},j.id)})})]})]})]})}const _S=vx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function dt({className:e,variant:t,asChild:n=!1,...r}){const s=n?mx:"span";return o.jsx(s,{"data-slot":"badge",className:ke(_S({variant:t}),e),...r})}class RS{constructor(){Ye(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${t}/keywords`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const ci=new RS,PS=e=>({id:e.id,title:e.title,thumbnail:`https://via.placeholder.com/300x400/1a1a1a/ffffff?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function AS({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{N()},[]),d.useEffect(()=>{if(c.length>0&&!s){const _=c[0];a(_.id),g(_.id)}},[c,s]);const N=async()=>{try{if(!r){console.error(" ID .");return}const A=(await ci.getUserKeywords(r)).map(D=>({id:D.keywordId,label:D.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(A)}catch(_){console.error("   :",_),u([])}},g=async _=>{try{x(!0);const D=(await ci.getKeywordContents(_)).map(PS),S=c.find(U=>U.id===_),E=D.filter(U=>U.type==="movie"),F=D.filter(U=>U.type==="tv"),W=D.filter(U=>U.type==="sports"),R=[];E.length>0&&R.push({id:`${_}-movie`,title:`${(S==null?void 0:S.label)||""} `,items:E,category:""}),F.length>0&&R.push({id:`${_}-tv`,title:`${(S==null?void 0:S.label)||""} TV `,items:F,category:"TV"}),W.length>0&&R.push({id:`${_}-sports`,title:`${(S==null?void 0:S.label)||""} `,items:W,category:""}),l(R)}catch(A){console.error("  :",A),l([])}finally{x(!1)}},p=_=>{a(_),g(_)},v=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const _=await ci.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),A={id:_.keywordId,label:_.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(D=>[...D,A]),y(""),f(!1),alert(" !")}catch(_){console.error("  :",_),alert("  .")}}},b=async _=>{if(window.confirm("  ?"))try{if(await ci.deleteKeyword(_),u(A=>A.filter(D=>D.id!==_)),s===_){const A=c.filter(D=>D.id!==_);A.length>0?(a(A[0].id),g(A[0].id)):(a(""),l([]))}alert(" .")}catch(A){console.error("  :",A),alert("  .")}},j=_=>{const A=document.getElementById(_);A&&A.scrollBy({left:-400,behavior:"smooth"})},C=_=>{const A=document.getElementById(_);A&&A.scrollBy({left:400,behavior:"smooth"})},T=_=>_>=1e4?`${Math.floor(_/1e3)}K`:_.toLocaleString(),k=_=>{n==null||n(_),console.log(`Opening playlist modal for: ${_.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(zm,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(_=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx(L,{variant:s===_.id?"default":"outline",size:"sm",onClick:()=>p(_.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===_.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===_.id?_.color:void 0,backgroundColor:s===_.id?_.color:void 0},children:_.label}),o.jsx(L,{size:"sm",variant:"ghost",onClick:A=>{A.stopPropagation(),b(_.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(vn,{className:"w-3 h-3"})})]},_.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Le,{value:m,onChange:_=>y(_.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:_=>_.key==="Enter"&&v(),autoFocus:!0}),o.jsx(L,{size:"sm",onClick:v,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(Ws,{className:"w-4 h-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>{f(!1),y("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(vn,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs(L,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Ut,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:i.map(_=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[_.title,o.jsxs(dt,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(ft,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",variant:"outline",onClick:()=>j(`section-${_.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(qo,{className:"w-4 h-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>C(`section-${_.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(hr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${_.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:_.items.map((A,D)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[_.id==="trending"&&D<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(dt,{className:`
                              ${D===0?"bg-yellow-500 text-black":""}
                              ${D===1?"bg-gray-300 text-black":""}
                              ${D===2?"bg-amber-600 text-white":""}
                            `,children:["#",D+1]})}),o.jsx("img",{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:S=>{const E=S.target;E.style.display="none";const F=E.parentElement;if(F&&!F.querySelector(".image-fallback")){const W=document.createElement("div");W.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",W.textContent=A.title.charAt(0).toUpperCase(),F.appendChild(W)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs(L,{size:"sm",onClick:()=>e(A),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(wt,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs(L,{size:"sm",variant:"outline",onClick:()=>t(A),className:"border-white/20 hover:bg-white/10",children:[o.jsx(ga,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>k(A),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(If,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:T(A.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:A.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:A.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:A.rating})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(Pf,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:A.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:A.displayGenres.slice(0,2).map(S=>o.jsx(dt,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:S},S))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:A.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs(L,{size:"sm",onClick:()=>e(A),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(wt,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx(L,{size:"sm",variant:"outline",onClick:()=>t(A),className:"border-white/20 hover:bg-white/10",children:o.jsx(ga,{className:"w-4 h-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>k(A),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Ut,{className:"w-4 h-4"})})]})]})]})]},A.id))})]},_.id))}),!w&&i.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(zm,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function fl(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:a,style:i,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:i,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(Rf,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:a,className:l,style:i,...c,onError:r})}function IS({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},i={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(fl,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${i[n]} font-medium text-white/80`,children:["+",s]})})]})})}function id({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:ke("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Po=[null];function OS({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[a,i]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,m]=d.useState(!1),[y,w]=d.useState(!1),x=async v=>{v.preventDefault(),r.trim()&&(w(!0),console.log("Creating playlist:",{title:r.trim(),description:a.trim(),isPublic:l,coverImage:Po[u]}),await new Promise(b=>setTimeout(b,1e3)),n({title:r.trim(),description:a.trim(),isPublic:l,coverImage:Po[u]}),s(""),i(""),c(!0),h(0),m(!1),w(!1),t())},N=()=>{y||(s(""),i(""),c(!0),h(0),m(!1),t())},g=()=>{const v=Po[u];return v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(dl,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})}):o.jsx("img",{src:v,alt:" ",className:"w-full h-full object-cover"})},p=(v,b)=>v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(dl,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:v,alt:`  ${b+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:N}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx(L,{variant:"ghost",size:"sm",onClick:N,className:"p-2 hover:bg-white/10",disabled:y,children:o.jsx(vn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Pt,{className:"text-sm mb-3 block",children:" "}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[g(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs(L,{type:"button",variant:"ghost",onClick:()=>m(!f),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(Rf,{className:"w-4 h-4 mr-2"}),Po[u]===null?" ":" "]})})]}),f&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:Po.map((v,b)=>o.jsxs("button",{type:"button",onClick:()=>{h(b),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===b?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[p(v,b),u===b&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Ws,{className:"w-3 h-3 text-[#4ecdc4]"})})]},b))})]}),o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(Le,{id:"title",value:r,onChange:v=>s(v.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50"]})]}),o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"description",className:"text-sm",children:""}),o.jsx(id,{id:"description",value:a,onChange:v=>i(v.target.value),placeholder:"   ...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[a.length,"/200"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Pt,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(cl,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(Ws,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(ul,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(Ws,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(L,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:N,disabled:y,children:""}),o.jsx(L,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||y,children:y?" ...":" "})]})]})]})]}):null}function Ym({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:a,onUserProfileOpen:i}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,m]=d.useState(!1),[y,w]=d.useState(!0),[x,N]=d.useState(null),g=S=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(S);d.useEffect(()=>{p()},[]),d.useEffect(()=>{const S=setTimeout(()=>{p(l.trim()||void 0)},300);return()=>clearTimeout(S)},[l]);const p=async S=>{try{w(!0),N(null),console.log("   :",{searchKeyword:S});const E=await t(S);console.log("   :",E),h(E)}catch(E){console.error("Error loading playlists:",E),N("   .")}finally{w(!1)}},v=u,b=S=>{console.log(`Starting playlist with ID: ${S}`)},j=()=>{m(!0)},C=S=>{e&&e(S)},T=async S=>{try{await n({name:S.title,description:S.description,isPublic:S.isPublic}),console.log("     "),await p(l.trim()||void 0)}catch(E){console.error("Error creating playlist:",E),N("   .")}},k=S=>!S.subscriptions||!a?!1:S.subscriptions.some(E=>E.userId===a),_=S=>!S.subscriptions||!a?null:S.subscriptions.find(E=>E.userId===a),A=async S=>{if(console.log("    :",{playlistId:S,currentUserId:a}),!r||!s||!a){console.error("    ID :",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:a});return}const E=u.find(W=>W.id===S);if(!E){console.error("   :",S);return}const F=k(E);console.log("  :",{isSubscribed:F,subscriptions:E.subscriptions});try{if(F){const W=_(E);if(!W){console.error("    ");return}console.log("  :",W.id),await s(W.id)}else console.log(" :",S),await r(S);await p()}catch(W){console.error("   :",W)}},D=S=>S.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(dl,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:S.name.charAt(0)})]})}):o.jsx(fl,{src:S.thumbnail,alt:S.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs(L,{onClick:j,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Ut,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Le,{placeholder:" ...",value:l,onChange:S=>c(S.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.filter(S=>S.isPublic).length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]})]}),(console.log(" Playlist  :",{loading:y,error:x,playlistsLength:u.length,filteredLength:v.length}),y?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx(L,{onClick:()=>p(l.trim()||void 0),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):v.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":" "}),!l&&o.jsx(L,{onClick:j,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(S=>{var E;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>C(S.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[D(S),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(L,{size:"lg",onClick:F=>{F.stopPropagation(),b(S.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(wt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:S.isPublic?"":""})}),S.userId&&S.userId!==a&&g(S.userId)&&r&&s&&o.jsx(L,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${k(S)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:F=>{F.stopPropagation(),A(S.id)},children:o.jsx(Pr,{className:`w-4 h-4 ${k(S)?"fill-current":""}`})}),o.jsx(L,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:F=>F.stopPropagation(),children:o.jsx(ux,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:S.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(IS,{items:S.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[S.contentCount||((E=S.playlistContents)==null?void 0:E.length)||0," "]})]}),S.userId&&S.userId!==a&&g(S.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${a?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:F=>{F.stopPropagation(),a?i==null||i(S.userId):alert("  .   .")},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:S.username?S.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:S.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ts,{className:"w-3 h-3"}),o.jsx("span",{children:S.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_f,{className:"w-3 h-3"}),o.jsx("span",{children:S.createdAt?new Date(S.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},S.id)})}))]}),o.jsx(OS,{isOpen:f,onClose:()=>m(!1),onCreatePlaylist:T})]})}function ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var DS=og[" useId ".trim().toString()]||(()=>{}),LS=0;function Tr(e){const[t,n]=d.useState(DS());return Qe(()=>{n(r=>r??String(LS++))},[e]),e||(t?`radix-${t}`:"")}var MS=og[" useInsertionEffect ".trim().toString()]||Qe;function is({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=$S({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const m=zS(h)?h(e):h;m!==e&&((f=i.current)==null||f.call(i,m))}else a(h)},[l,e,a,i]);return[c,u]}function $S({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),a=d.useRef(t);return MS(()=>{a.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function zS(e){return typeof e=="function"}function FS(e,t=globalThis==null?void 0:globalThis.document){const n=yt(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var BS="DismissableLayer",ld="dismissableLayer.update",US="dismissableLayer.pointerDownOutside",WS="dismissableLayer.focusOutside",qm,Ox=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mf=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(Ox),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=d.useState({}),w=ve(t,T=>f(T)),x=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(N),p=h?x.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,b=p>=g,j=KS(T=>{const k=T.target,_=[...u.branches].some(A=>A.contains(k));!b||_||(s==null||s(T),i==null||i(T),T.defaultPrevented||l==null||l())},m),C=GS(T=>{const k=T.target;[...u.branches].some(A=>A.contains(k))||(a==null||a(T),i==null||i(T),T.defaultPrevented||l==null||l())},m);return FS(T=>{p===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qm=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Qm(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=qm)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Qm())},[h,u]),d.useEffect(()=>{const T=()=>y({});return document.addEventListener(ld,T),()=>document.removeEventListener(ld,T)},[]),o.jsx(le.div,{...c,ref:w,style:{pointerEvents:v?b?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,j.onPointerDownCapture)})});Mf.displayName=BS;var VS="DismissableLayerBranch",HS=d.forwardRef((e,t)=>{const n=d.useContext(Ox),r=d.useRef(null),s=ve(t,r);return d.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(le.div,{...e,ref:s})});HS.displayName=VS;function KS(e,t=globalThis==null?void 0:globalThis.document){const n=yt(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Dx(US,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function GS(e,t=globalThis==null?void 0:globalThis.document){const n=yt(e),r=d.useRef(!1);return d.useEffect(()=>{const s=a=>{a.target&&!r.current&&Dx(WS,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qm(){const e=new CustomEvent(ld);document.dispatchEvent(e)}function Dx(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?KN(s,a):s.dispatchEvent(a)}var Fc="focusScope.autoFocusOnMount",Bc="focusScope.autoFocusOnUnmount",Jm={bubbles:!1,cancelable:!0},XS="FocusScope",$f=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=d.useState(null),u=yt(s),h=yt(a),f=d.useRef(null),m=ve(t,x=>c(x)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(v){if(y.paused||!l)return;const b=v.target;l.contains(b)?f.current=b:ur(f.current,{select:!0})},N=function(v){if(y.paused||!l)return;const b=v.relatedTarget;b!==null&&(l.contains(b)||ur(f.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const j of v)j.removedNodes.length>0&&ur(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",N);const p=new MutationObserver(g);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",N),p.disconnect()}}},[r,l,y.paused]),d.useEffect(()=>{if(l){ep.add(y);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(Fc,Jm);l.addEventListener(Fc,u),l.dispatchEvent(g),g.defaultPrevented||(YS(e2(Lx(l)),{select:!0}),document.activeElement===x&&ur(l))}return()=>{l.removeEventListener(Fc,u),setTimeout(()=>{const g=new CustomEvent(Bc,Jm);l.addEventListener(Bc,h),l.dispatchEvent(g),g.defaultPrevented||ur(x??document.body,{select:!0}),l.removeEventListener(Bc,h),ep.remove(y)},0)}}},[l,u,h,y]);const w=d.useCallback(x=>{if(!n&&!r||y.paused)return;const N=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(N&&g){const p=x.currentTarget,[v,b]=qS(p);v&&b?!x.shiftKey&&g===b?(x.preventDefault(),n&&ur(v,{select:!0})):x.shiftKey&&g===v&&(x.preventDefault(),n&&ur(b,{select:!0})):g===p&&x.preventDefault()}},[n,r,y.paused]);return o.jsx(le.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});$f.displayName=XS;function YS(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ur(r,{select:t}),document.activeElement!==n)return}function qS(e){const t=Lx(e),n=Zm(t,e),r=Zm(t.reverse(),e);return[n,r]}function Lx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Zm(e,t){for(const n of e)if(!QS(n,{upTo:t}))return n}function QS(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JS(e){return e instanceof HTMLInputElement&&"select"in e}function ur(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JS(e)&&t&&e.select()}}var ep=ZS();function ZS(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tp(e,t),e.unshift(t)},remove(t){var n;e=tp(e,t),(n=e[0])==null||n.resume()}}}function tp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function e2(e){return e.filter(t=>t.tagName!=="A")}var t2="Portal",zf=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=d.useState(!1);Qe(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Mj.createPortal(o.jsx(le.div,{...r,ref:t}),i):null});zf.displayName=t2;function n2(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var or=e=>{const{present:t,children:n}=e,r=r2(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),a=ve(r.ref,s2(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:a}):null};or.displayName="Presence";function r2(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=n2(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=ui(r.current);a.current=l==="mounted"?u:"none"},[l]),Qe(()=>{const u=r.current,h=s.current;if(h!==e){const m=a.current,y=ui(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Qe(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=y=>{const x=ui(r.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},m=y=>{y.target===t&&(a.current=ui(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ui(e){return(e==null?void 0:e.animationName)||"none"}function s2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Uc=0;function Mx(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??np()),document.body.insertAdjacentElement("beforeend",e[1]??np()),Uc++,()=>{Uc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Uc--}},[])}function np(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var En=function(){return En=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},En.apply(this,arguments)};function $x(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function o2(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Li="right-scroll-bar-position",Mi="width-before-scroll-bar",a2="with-scroll-bars-hidden",i2="--removed-body-scroll-bar-size";function Wc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function l2(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var c2=typeof window<"u"?d.useLayoutEffect:d.useEffect,rp=new WeakMap;function u2(e,t){var n=l2(null,function(r){return e.forEach(function(s){return Wc(s,r)})});return c2(function(){var r=rp.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||Wc(l,null)}),a.forEach(function(l){s.has(l)||Wc(l,i)})}rp.set(n,e)},[e]),n}function d2(e){return e}function f2(e,t){t===void 0&&(t=d2);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function h2(e){e===void 0&&(e={});var t=f2(null);return t.options=En({async:!0,ssr:!1},e),t}var zx=function(e){var t=e.sideCar,n=$x(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,En({},n))};zx.isSideCarExport=!0;function m2(e,t){return e.useMedium(t),zx}var Fx=h2(),Vc=function(){},Fl=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:Vc,onWheelCapture:Vc,onTouchMoveCapture:Vc}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,N=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,v=e.gapMode,b=$x(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,C=u2([n,t]),T=En(En({},b),s);return d.createElement(d.Fragment,null,h&&d.createElement(j,{sideCar:Fx,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!N,lockRef:n,gapMode:v}),i?d.cloneElement(d.Children.only(l),En(En({},T),{ref:C})):d.createElement(p,En({},T,{className:c,ref:C}),l))});Fl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fl.classNames={fullWidth:Mi,zeroRight:Li};var p2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=p2();return t&&e.setAttribute("nonce",t),e}function v2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function x2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var y2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=g2())&&(v2(t,n),x2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w2=function(){var e=y2();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Bx=function(){var e=w2(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},b2={left:0,top:0,right:0,gap:0},Hc=function(e){return parseInt(e||"",10)||0},j2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Hc(n),Hc(r),Hc(s)]},N2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return b2;var t=j2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},S2=Bx(),Vs="data-scroll-locked",k2=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(a2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Li,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Mi,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Li," .").concat(Li,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mi," .").concat(Mi,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vs,`] {
    `).concat(i2,": ").concat(l,`px;
  }
`)},sp=function(){var e=parseInt(document.body.getAttribute(Vs)||"0",10);return isFinite(e)?e:0},C2=function(){d.useEffect(function(){return document.body.setAttribute(Vs,(sp()+1).toString()),function(){var e=sp()-1;e<=0?document.body.removeAttribute(Vs):document.body.setAttribute(Vs,e.toString())}},[])},E2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;C2();var a=d.useMemo(function(){return N2(s)},[s]);return d.createElement(S2,{styles:k2(a,!t,s,n?"":"!important")})},cd=!1;if(typeof window<"u")try{var di=Object.defineProperty({},"passive",{get:function(){return cd=!0,!0}});window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{cd=!1}var bs=cd?{passive:!1}:!1,T2=function(e){return e.tagName==="TEXTAREA"},Ux=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!T2(e)&&n[t]==="visible")},_2=function(e){return Ux(e,"overflowY")},R2=function(e){return Ux(e,"overflowX")},op=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Wx(e,r);if(s){var a=Vx(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},P2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},A2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Wx=function(e,t){return e==="v"?_2(t):R2(t)},Vx=function(e,t){return e==="v"?P2(t):A2(t)},I2=function(e,t){return e==="h"&&t==="rtl"?-1:1},O2=function(e,t,n,r,s){var a=I2(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,h=i>0,f=0,m=0;do{if(!l)break;var y=Vx(e,l),w=y[0],x=y[1],N=y[2],g=x-N-a*w;(w||g)&&Wx(e,l)&&(f+=g,m+=w);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},fi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ap=function(e){return[e.deltaX,e.deltaY]},ip=function(e){return e&&"current"in e?e.current:e},D2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},L2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},M2=0,js=[];function $2(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(M2++)[0],a=d.useState(Bx)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=o2([e.lockRef.current],(e.shards||[]).map(ip),!0).filter(Boolean);return x.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,N){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var g=fi(x),p=n.current,v="deltaX"in x?x.deltaX:p[0]-g[0],b="deltaY"in x?x.deltaY:p[1]-g[1],j,C=x.target,T=Math.abs(v)>Math.abs(b)?"h":"v";if("touches"in x&&T==="h"&&C.type==="range")return!1;var k=op(T,C);if(!k)return!0;if(k?j=T:(j=T==="v"?"h":"v",k=op(T,C)),!k)return!1;if(!r.current&&"changedTouches"in x&&(v||b)&&(r.current=j),!j)return!0;var _=r.current||j;return O2(_,N,x,_==="h"?v:b)},[]),c=d.useCallback(function(x){var N=x;if(!(!js.length||js[js.length-1]!==a)){var g="deltaY"in N?ap(N):fi(N),p=t.current.filter(function(j){return j.name===N.type&&(j.target===N.target||N.target===j.shadowParent)&&D2(j.delta,g)})[0];if(p&&p.should){N.cancelable&&N.preventDefault();return}if(!p){var v=(i.current.shards||[]).map(ip).filter(Boolean).filter(function(j){return j.contains(N.target)}),b=v.length>0?l(N,v[0]):!i.current.noIsolation;b&&N.cancelable&&N.preventDefault()}}},[]),u=d.useCallback(function(x,N,g,p){var v={name:x,delta:N,target:g,should:p,shadowParent:z2(g)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(b){return b!==v})},1)},[]),h=d.useCallback(function(x){n.current=fi(x),r.current=void 0},[]),f=d.useCallback(function(x){u(x.type,ap(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,fi(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return js.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,bs),document.addEventListener("touchmove",c,bs),document.addEventListener("touchstart",h,bs),function(){js=js.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,bs),document.removeEventListener("touchmove",c,bs),document.removeEventListener("touchstart",h,bs)}},[]);var y=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(a,{styles:L2(s)}):null,y?d.createElement(E2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function z2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const F2=m2(Fx,$2);var Ff=d.forwardRef(function(e,t){return d.createElement(Fl,En({},e,{ref:t,sideCar:F2}))});Ff.classNames=Fl.classNames;var B2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ns=new WeakMap,hi=new WeakMap,mi={},Kc=0,Hx=function(e){return e&&(e.host||Hx(e.parentNode))},U2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Hx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},W2=function(e,t,n,r){var s=U2(t,Array.isArray(e)?e:[e]);mi[n]||(mi[n]=new WeakMap);var a=mi[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(r),w=y!==null&&y!=="false",x=(Ns.get(m)||0)+1,N=(a.get(m)||0)+1;Ns.set(m,x),a.set(m,N),i.push(m),x===1&&w&&hi.set(m,!0),N===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return h(t),l.clear(),Kc++,function(){i.forEach(function(f){var m=Ns.get(f)-1,y=a.get(f)-1;Ns.set(f,m),a.set(f,y),m||(hi.has(f)||f.removeAttribute(r),hi.delete(f)),y||f.removeAttribute(n)}),Kc--,Kc||(Ns=new WeakMap,Ns=new WeakMap,hi=new WeakMap,mi={})}},Kx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=B2(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),W2(r,s,n,"aria-hidden")):function(){return null}},Bl="Dialog",[Gx,bR]=$n(Bl),[V2,bn]=Gx(Bl),Xx=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=is({prop:r,defaultProp:s??!1,onChange:a,caller:Bl});return o.jsx(V2,{scope:t,triggerRef:l,contentRef:c,contentId:Tr(),titleId:Tr(),descriptionId:Tr(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:i,children:n})};Xx.displayName=Bl;var Yx="DialogTrigger",H2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(Yx,n),a=ve(t,s.triggerRef);return o.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Wf(s.open),...r,ref:a,onClick:ce(e.onClick,s.onOpenToggle)})});H2.displayName=Yx;var Bf="DialogPortal",[K2,qx]=Gx(Bf,{forceMount:void 0}),Qx=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=bn(Bf,t);return o.jsx(K2,{scope:t,forceMount:n,children:d.Children.map(r,i=>o.jsx(or,{present:n||a.open,children:o.jsx(zf,{asChild:!0,container:s,children:i})}))})};Qx.displayName=Bf;var hl="DialogOverlay",Jx=d.forwardRef((e,t)=>{const n=qx(hl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=bn(hl,e.__scopeDialog);return a.modal?o.jsx(or,{present:r||a.open,children:o.jsx(X2,{...s,ref:t})}):null});Jx.displayName=hl;var G2=Zs("DialogOverlay.RemoveScroll"),X2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(hl,n);return o.jsx(Ff,{as:G2,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(le.div,{"data-state":Wf(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ls="DialogContent",Zx=d.forwardRef((e,t)=>{const n=qx(ls,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=bn(ls,e.__scopeDialog);return o.jsx(or,{present:r||a.open,children:a.modal?o.jsx(Y2,{...s,ref:t}):o.jsx(q2,{...s,ref:t})})});Zx.displayName=ls;var Y2=d.forwardRef((e,t)=>{const n=bn(ls,e.__scopeDialog),r=d.useRef(null),s=ve(t,n.contentRef,r);return d.useEffect(()=>{const a=r.current;if(a)return Kx(a)},[]),o.jsx(e0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,a=>a.preventDefault())})}),q2=d.forwardRef((e,t)=>{const n=bn(ls,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(e0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),e0=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=bn(ls,n),c=d.useRef(null),u=ve(t,c);return Mx(),o.jsxs(o.Fragment,{children:[o.jsx($f,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Mf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Wf(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(J2,{titleId:l.titleId}),o.jsx(ek,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Uf="DialogTitle",t0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(Uf,n);return o.jsx(le.h2,{id:s.titleId,...r,ref:t})});t0.displayName=Uf;var n0="DialogDescription",Q2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(n0,n);return o.jsx(le.p,{id:s.descriptionId,...r,ref:t})});Q2.displayName=n0;var r0="DialogClose",s0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(r0,n);return o.jsx(le.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,()=>s.onOpenChange(!1))})});s0.displayName=r0;function Wf(e){return e?"open":"closed"}var o0="DialogTitleWarning",[jR,a0]=WN(o0,{contentName:ls,titleName:Uf,docsSlug:"dialog"}),J2=({titleId:e})=>{const t=a0(o0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Z2="DialogDescriptionWarning",ek=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a0(Z2).contentName}}.`;return d.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},tk=Xx,nk=Qx,rk=Jx,sk=Zx,ok=t0,ak=s0;function Ul({...e}){return o.jsx(tk,{"data-slot":"dialog",...e})}function ik({...e}){return o.jsx(nk,{"data-slot":"dialog-portal",...e})}function lk({className:e,...t}){return o.jsx(rk,{"data-slot":"dialog-overlay",className:ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function Wl({className:e,children:t,...n}){return o.jsxs(ik,{"data-slot":"dialog-portal",children:[o.jsx(lk,{}),o.jsxs(sk,{"data-slot":"dialog-content",className:ke("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(ak,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(vn,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Vl({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:ke("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Hl({className:e,...t}){return o.jsx(ok,{"data-slot":"dialog-title",className:ke("text-lg leading-none font-semibold",e),...t})}function ck({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:a}){var de,he;const[i,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!0),[w,x]=d.useState(null),[N,g]=d.useState(!1),[p,v]=d.useState([]),[b,j]=d.useState([]),[C,T]=d.useState(""),[k,_]=d.useState(!1),[A,D]=d.useState(!1),[S,E]=d.useState([]),F=d.useCallback(async()=>{try{y(!0),x(null),console.log("    :",e);const I=await r(e);if(console.log("   :",I),!I){console.error("   "),x("   .");return}l(I),u(I.playlistContents||[]),console.log("    :",{playlist:I,contents:I.playlistContents||[]})}catch(I){console.error("    :",I),x("   .")}finally{y(!1)}},[e,r]),W=d.useCallback(async()=>{try{console.log("   :",{searchQuery:C}),_(!0);const I=await Jr.getContents({size:20,query:C||void 0});console.log("   :",I),v(I.data||[]),console.log("   :",I.data||[])}catch(I){console.error("   :",I)}finally{_(!1)}},[C]);if(d.useEffect(()=>{F()},[F]),d.useEffect(()=>{let I;return N&&(I=setTimeout(()=>{W()},300)),()=>{I&&clearTimeout(I)}},[C,N,W]),m)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(w||!i)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:w||"   "}),o.jsx(L,{onClick:t,variant:"outline",children:""})]})});const R=I=>{console.log(`Removing content ${I} from playlist ${e}`),u(Q=>Q.filter(ue=>ue.id!==I))},U=I=>{n?n({id:I.id,title:I.title,thumbnail:I.thumbnail,type:I.type,duration:I.duration,description:I.description}):alert(`"${I.title}"  .`)},P=()=>{console.log(`Playing playlist: ${i.name}`),alert(`"${i.name}"   .`)},B=()=>{console.log(`Shuffling playlist: ${i.name}`),alert(`"${i.name}"   .`)},V=()=>{g(!0),W()},Y=I=>{j(Q=>Q.includes(I)?Q.filter(ue=>ue!==I):[...Q,I])},te=async()=>{if(b.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,b),await s(e,b),await F(),g(!1),j([]),T(""),alert(`${b.length}   .`)}catch(I){console.error("  :",I),alert("  .")}},se=()=>{console.log("    :",!A),D(!A),E([])},me=I=>{E(Q=>Q.includes(I)?Q.filter(ue=>ue!==I):[...Q,I])},Te=()=>{S.length===c.length?E([]):E(c.map(I=>I.id))},ye=async()=>{if(S.length===0){alert("  .");return}if(confirm(` ${S.length}   ?`))try{await a(e,S),await F(),E([]),D(!1),alert(`${S.length}  .`)}catch(Q){console.error("  :",Q),alert("  .")}},ne=()=>i.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:i.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:""})]})}):o.jsx(fl,{src:i.coverImage,alt:i.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs(L,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(io,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:ne()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(dt,{variant:"secondary",className:"bg-white/10 text-white",children:""}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:i.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:i.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6",children:[o.jsx($e,{src:(de=i.user)==null?void 0:de.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:((he=i.username)==null?void 0:he.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:i.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[c.length," "]}),o.jsx("span",{children:""}),o.jsx("span",{children:i.totalDuration||"0"}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_f,{className:"w-4 h-4"}),o.jsx("span",{children:i.createdAt?new Date(i.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs(L,{size:"lg",onClick:P,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(wt,{className:"w-6 h-6 mr-2 fill-current"}),""]}),o.jsxs(L,{size:"lg",variant:"outline",onClick:B,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Jj,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs(L,{size:"lg",variant:"outline",onClick:V,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Ut,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs(L,{size:"lg",variant:"outline",onClick:se,className:`border-white/20 hover:bg-white/10 ${A?"bg-white/10":""}`,children:[o.jsx(vn,{className:"w-5 h-5 mr-2"}),A?" ":" "]}),A&&o.jsxs(o.Fragment,{children:[o.jsx(L,{size:"lg",variant:"outline",onClick:Te,className:"border-white/20 hover:bg-white/10",children:S.length===c.length?" ":" "}),S.length>0&&o.jsxs(L,{size:"lg",variant:"destructive",onClick:ye,className:"bg-red-600 hover:bg-red-700",children:["  (",S.length,")"]})]}),o.jsx(L,{variant:"ghost",size:"lg",onClick:()=>f(!h),className:`p-3 hover:bg-white/10 ${h?"text-[#4ecdc4]":"text-white/60"}`,children:o.jsx(Pr,{className:`w-6 h-6 ${h?"fill-current":""}`})}),o.jsx(L,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(Qj,{className:"w-6 h-6"})}),o.jsx(L,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(ux,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:""}),o.jsx("div",{className:"col-span-2",children:""}),o.jsx("div",{className:"col-span-2",children:" "}),o.jsx("div",{className:"col-span-1",children:o.jsx(ts,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:c.map((I,Q)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:A,contentId:I.id}),A)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>me(I.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${S.includes(I.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:S.includes(I.id)&&o.jsx(Ut,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:Q+1}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>U(I),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(wt,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(fl,{src:I.thumbnail,alt:I.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:I.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[I.year,"  ",I.type==="movie"?"":I.type==="tv"?"":""]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:I.genre&&Array.isArray(I.genre)?I.genre.slice(0,2).join(", "):I.genre||" "})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(I.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:I.duration})}),o.jsx("div",{className:"col-span-1",children:o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>R(I.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(vn,{className:"w-4 h-4"})})})})]})},I.id))}),c.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),o.jsx(L,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:V,children:" "})]})]})}),o.jsx(Ul,{open:N,onOpenChange:g,children:o.jsxs(Wl,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(Vl,{children:o.jsx(Hl,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Le,{placeholder:" ...",value:C,onChange:I=>T(I.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),b.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[b.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:k?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!p||p.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(p||[]).map(I=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${b.includes(I.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>Y(I.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:I.thumbnail||"/placeholder-content.jpg",alt:I.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:I.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:I.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(dt,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:I.contentType}),I.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:I.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:b.includes(I.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Ut,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},I.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx(L,{variant:"outline",onClick:()=>{g(!1),j([]),T("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx(L,{onClick:te,disabled:b.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:b.length>0?`${b.length} `:""})]})]})})]})}function va(e,[t,n]){return Math.min(n,Math.max(t,e))}function Vf(e){const t=e+"CollectionProvider",[n,r]=$n(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:N,children:g}=x,p=Vn.useRef(null),v=Vn.useRef(new Map).current;return o.jsx(s,{scope:N,itemMap:v,collectionRef:p,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=Zs(l),u=Vn.forwardRef((x,N)=>{const{scope:g,children:p}=x,v=a(l,g),b=ve(N,v.collectionRef);return o.jsx(c,{ref:b,children:p})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=Zs(h),y=Vn.forwardRef((x,N)=>{const{scope:g,children:p,...v}=x,b=Vn.useRef(null),j=ve(N,b),C=a(h,g);return Vn.useEffect(()=>(C.itemMap.set(b,{ref:b,...v}),()=>void C.itemMap.delete(b))),o.jsx(m,{[f]:"",ref:j,children:p})});y.displayName=h;function w(x){const N=a(e+"CollectionConsumer",x);return Vn.useCallback(()=>{const p=N.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(N.itemMap.values()).sort((C,T)=>v.indexOf(C.ref.current)-v.indexOf(T.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},w,r]}var uk=d.createContext(void 0);function _a(e){const t=d.useContext(uk);return e||t||"ltr"}const dk=["top","right","bottom","left"],Ar=Math.min,zt=Math.max,ml=Math.round,pi=Math.floor,An=e=>({x:e,y:e}),fk={left:"right",right:"left",bottom:"top",top:"bottom"},hk={start:"end",end:"start"};function ud(e,t,n){return zt(e,Ar(t,n))}function nr(e,t){return typeof e=="function"?e(t):e}function rr(e){return e.split("-")[0]}function lo(e){return e.split("-")[1]}function Hf(e){return e==="x"?"y":"x"}function Kf(e){return e==="y"?"height":"width"}const mk=new Set(["top","bottom"]);function Tn(e){return mk.has(rr(e))?"y":"x"}function Gf(e){return Hf(Tn(e))}function pk(e,t,n){n===void 0&&(n=!1);const r=lo(e),s=Gf(e),a=Kf(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=pl(i)),[i,pl(i)]}function gk(e){const t=pl(e);return[dd(e),t,dd(t)]}function dd(e){return e.replace(/start|end/g,t=>hk[t])}const lp=["left","right"],cp=["right","left"],vk=["top","bottom"],xk=["bottom","top"];function yk(e,t,n){switch(e){case"top":case"bottom":return n?t?cp:lp:t?lp:cp;case"left":case"right":return t?vk:xk;default:return[]}}function wk(e,t,n,r){const s=lo(e);let a=yk(rr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(dd)))),a}function pl(e){return e.replace(/left|right|bottom|top/g,t=>fk[t])}function bk(e){return{top:0,right:0,bottom:0,left:0,...e}}function i0(e){return typeof e!="number"?bk(e):{top:e,right:e,bottom:e,left:e}}function gl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function up(e,t,n){let{reference:r,floating:s}=e;const a=Tn(t),i=Gf(t),l=Kf(i),c=rr(t),u=a==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(lo(t)){case"start":y[i]-=m*(n&&u?-1:1);break;case"end":y[i]+=m*(n&&u?-1:1);break}return y}const jk=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=up(u,r,c),m=r,y={},w=0;for(let x=0;x<l.length;x++){const{name:N,fn:g}=l[x],{x:p,y:v,data:b,reset:j}=await g({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});h=p??h,f=v??f,y={...y,[N]:{...y[N],...b}},j&&w<=50&&(w++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:h,y:f}=up(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function xa(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=nr(t,e),w=i0(y),N=l[m?f==="floating"?"reference":"floating":f],g=gl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(N)))==null||n?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),p=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),b=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},j=gl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(g.top-j.top+w.top)/b.y,bottom:(j.bottom-g.bottom+w.bottom)/b.y,left:(g.left-j.left+w.left)/b.x,right:(j.right-g.right+w.right)/b.x}}const Nk=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=nr(e,t)||{};if(u==null)return{};const f=i0(h),m={x:n,y:r},y=Gf(s),w=Kf(y),x=await i.getDimensions(u),N=y==="y",g=N?"top":"left",p=N?"bottom":"right",v=N?"clientHeight":"clientWidth",b=a.reference[w]+a.reference[y]-m[y]-a.floating[w],j=m[y]-a.reference[y],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let T=C?C[v]:0;(!T||!await(i.isElement==null?void 0:i.isElement(C)))&&(T=l.floating[v]||a.floating[w]);const k=b/2-j/2,_=T/2-x[w]/2-1,A=Ar(f[g],_),D=Ar(f[p],_),S=A,E=T-x[w]-D,F=T/2-x[w]/2+k,W=ud(S,F,E),R=!c.arrow&&lo(s)!=null&&F!==W&&a.reference[w]/2-(F<S?A:D)-x[w]/2<0,U=R?F<S?F-S:F-E:0;return{[y]:m[y]+U,data:{[y]:W,centerOffset:F-W-U,...R&&{alignmentOffset:U}},reset:R}}}),Sk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...N}=nr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=rr(s),p=Tn(l),v=rr(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(v||!x?[pl(l)]:gk(l)),C=w!=="none";!m&&C&&j.push(...wk(l,x,w,b));const T=[l,...j],k=await xa(t,N),_=[];let A=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&_.push(k[g]),f){const F=pk(s,i,b);_.push(k[F[0]],k[F[1]])}if(A=[...A,{placement:s,overflows:_}],!_.every(F=>F<=0)){var D,S;const F=(((D=a.flip)==null?void 0:D.index)||0)+1,W=T[F];if(W&&(!(f==="alignment"?p!==Tn(W):!1)||A.every(P=>P.overflows[0]>0&&Tn(P.placement)===p)))return{data:{index:F,overflows:A},reset:{placement:W}};let R=(S=A.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:S.placement;if(!R)switch(y){case"bestFit":{var E;const U=(E=A.filter(P=>{if(C){const B=Tn(P.placement);return B===p||B==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(B=>B>0).reduce((B,V)=>B+V,0)]).sort((P,B)=>P[1]-B[1])[0])==null?void 0:E[0];U&&(R=U);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function dp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fp(e){return dk.some(t=>e[t]>=0)}const kk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=nr(e,t);switch(r){case"referenceHidden":{const a=await xa(t,{...s,elementContext:"reference"}),i=dp(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:fp(i)}}}case"escaped":{const a=await xa(t,{...s,altBoundary:!0}),i=dp(a,n.floating);return{data:{escapedOffsets:i,escaped:fp(i)}}}default:return{}}}}},l0=new Set(["left","top"]);async function Ck(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=rr(n),l=lo(n),c=Tn(n)==="y",u=l0.has(i)?-1:1,h=a&&c?-1:1,f=nr(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:m*u}:{x:m*u,y:y*h}}const Ek=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await Ck(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},Tk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:N=>{let{x:g,y:p}=N;return{x:g,y:p}}},...c}=nr(e,t),u={x:n,y:r},h=await xa(t,c),f=Tn(rr(s)),m=Hf(f);let y=u[m],w=u[f];if(a){const N=m==="y"?"top":"left",g=m==="y"?"bottom":"right",p=y+h[N],v=y-h[g];y=ud(p,y,v)}if(i){const N=f==="y"?"top":"left",g=f==="y"?"bottom":"right",p=w+h[N],v=w-h[g];w=ud(p,w,v)}const x=l.fn({...t,[m]:y,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[f]:i}}}}}},_k=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=nr(e,t),h={x:n,y:r},f=Tn(s),m=Hf(f);let y=h[m],w=h[f];const x=nr(l,t),N=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",b=a.reference[m]-a.floating[v]+N.mainAxis,j=a.reference[m]+a.reference[v]-N.mainAxis;y<b?y=b:y>j&&(y=j)}if(u){var g,p;const v=m==="y"?"width":"height",b=l0.has(rr(s)),j=a.reference[f]-a.floating[v]+(b&&((g=i.offset)==null?void 0:g[f])||0)+(b?0:N.crossAxis),C=a.reference[f]+a.reference[v]+(b?0:((p=i.offset)==null?void 0:p[f])||0)-(b?N.crossAxis:0);w<j?w=j:w>C&&(w=C)}return{[m]:y,[f]:w}}}},Rk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=nr(e,t),h=await xa(t,u),f=rr(s),m=lo(s),y=Tn(s)==="y",{width:w,height:x}=a.floating;let N,g;f==="top"||f==="bottom"?(N=f,g=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,N=m==="end"?"top":"bottom");const p=x-h.top-h.bottom,v=w-h.left-h.right,b=Ar(x-h[N],p),j=Ar(w-h[g],v),C=!t.middlewareData.shift;let T=b,k=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=p),C&&!m){const A=zt(h.left,0),D=zt(h.right,0),S=zt(h.top,0),E=zt(h.bottom,0);y?k=w-2*(A!==0||D!==0?A+D:zt(h.left,h.right)):T=x-2*(S!==0||E!==0?S+E:zt(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:T});const _=await i.getDimensions(l.floating);return w!==_.width||x!==_.height?{reset:{rects:!0}}:{}}}};function Kl(){return typeof window<"u"}function co(e){return c0(e)?(e.nodeName||"").toLowerCase():"#document"}function Wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zn(e){var t;return(t=(c0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c0(e){return Kl()?e instanceof Node||e instanceof Wt(e).Node:!1}function xn(e){return Kl()?e instanceof Element||e instanceof Wt(e).Element:!1}function Dn(e){return Kl()?e instanceof HTMLElement||e instanceof Wt(e).HTMLElement:!1}function hp(e){return!Kl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wt(e).ShadowRoot}const Pk=new Set(["inline","contents"]);function Ra(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=yn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Pk.has(s)}const Ak=new Set(["table","td","th"]);function Ik(e){return Ak.has(co(e))}const Ok=[":popover-open",":modal"];function Gl(e){return Ok.some(t=>{try{return e.matches(t)}catch{return!1}})}const Dk=["transform","translate","scale","rotate","perspective"],Lk=["transform","translate","scale","rotate","perspective","filter"],Mk=["paint","layout","strict","content"];function Xf(e){const t=Yf(),n=xn(e)?yn(e):e;return Dk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Lk.some(r=>(n.willChange||"").includes(r))||Mk.some(r=>(n.contain||"").includes(r))}function $k(e){let t=Ir(e);for(;Dn(t)&&!to(t);){if(Xf(t))return t;if(Gl(t))return null;t=Ir(t)}return null}function Yf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zk=new Set(["html","body","#document"]);function to(e){return zk.has(co(e))}function yn(e){return Wt(e).getComputedStyle(e)}function Xl(e){return xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ir(e){if(co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hp(e)&&e.host||zn(e);return hp(t)?t.host:t}function u0(e){const t=Ir(e);return to(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dn(t)&&Ra(t)?t:u0(t)}function ya(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=u0(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=Wt(s);if(a){const l=fd(i);return t.concat(i,i.visualViewport||[],Ra(s)?s:[],l&&n?ya(l):[])}return t.concat(s,ya(s,[],n))}function fd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function d0(e){const t=yn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Dn(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=ml(n)!==a||ml(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function qf(e){return xn(e)?e:e.contextElement}function Hs(e){const t=qf(e);if(!Dn(t))return An(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=d0(t);let i=(a?ml(n.width):n.width)/r,l=(a?ml(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Fk=An(0);function f0(e){const t=Wt(e);return!Yf()||!t.visualViewport?Fk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Bk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Wt(e)?!1:t}function cs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=qf(e);let i=An(1);t&&(r?xn(r)&&(i=Hs(r)):i=Hs(e));const l=Bk(a,n,r)?f0(a):An(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(a){const m=Wt(a),y=r&&xn(r)?Wt(r):r;let w=m,x=fd(w);for(;x&&r&&y!==w;){const N=Hs(x),g=x.getBoundingClientRect(),p=yn(x),v=g.left+(x.clientLeft+parseFloat(p.paddingLeft))*N.x,b=g.top+(x.clientTop+parseFloat(p.paddingTop))*N.y;c*=N.x,u*=N.y,h*=N.x,f*=N.y,c+=v,u+=b,w=Wt(x),x=fd(w)}}return gl({width:h,height:f,x:c,y:u})}function Qf(e,t){const n=Xl(e).scrollLeft;return t?t.left+n:cs(zn(e)).left+n}function h0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Qf(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function Uk(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=zn(r),l=t?Gl(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=An(1);const h=An(0),f=Dn(r);if((f||!f&&!a)&&((co(r)!=="body"||Ra(i))&&(c=Xl(r)),Dn(r))){const y=cs(r);u=Hs(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=i&&!f&&!a?h0(i,c,!0):An(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function Wk(e){return Array.from(e.getClientRects())}function Vk(e){const t=zn(e),n=Xl(e),r=e.ownerDocument.body,s=zt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=zt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Qf(e);const l=-n.scrollTop;return yn(r).direction==="rtl"&&(i+=zt(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function Hk(e,t){const n=Wt(e),r=zn(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Yf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const Kk=new Set(["absolute","fixed"]);function Gk(e,t){const n=cs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Dn(e)?Hs(e):An(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function mp(e,t,n){let r;if(t==="viewport")r=Hk(e,n);else if(t==="document")r=Vk(zn(e));else if(xn(t))r=Gk(t,n);else{const s=f0(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return gl(r)}function m0(e,t){const n=Ir(e);return n===t||!xn(n)||to(n)?!1:yn(n).position==="fixed"||m0(n,t)}function Xk(e,t){const n=t.get(e);if(n)return n;let r=ya(e,[],!1).filter(l=>xn(l)&&co(l)!=="body"),s=null;const a=yn(e).position==="fixed";let i=a?Ir(e):e;for(;xn(i)&&!to(i);){const l=yn(i),c=Xf(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&Kk.has(s.position)||Ra(i)&&!c&&m0(e,i))?r=r.filter(h=>h!==i):s=l,i=Ir(i)}return t.set(e,r),r}function Yk(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Gl(t)?[]:Xk(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,h)=>{const f=mp(t,h,s);return u.top=zt(f.top,u.top),u.right=Ar(f.right,u.right),u.bottom=Ar(f.bottom,u.bottom),u.left=zt(f.left,u.left),u},mp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qk(e){const{width:t,height:n}=d0(e);return{width:t,height:n}}function Qk(e,t,n){const r=Dn(t),s=zn(t),a=n==="fixed",i=cs(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=An(0);function u(){c.x=Qf(s)}if(r||!r&&!a)if((co(t)!=="body"||Ra(s))&&(l=Xl(t)),r){const y=cs(t,!0,a,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();a&&!r&&s&&u();const h=s&&!r&&!a?h0(s,l):An(0),f=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:i.width,height:i.height}}function Gc(e){return yn(e).position==="static"}function pp(e,t){if(!Dn(e)||yn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return zn(e)===n&&(n=n.ownerDocument.body),n}function p0(e,t){const n=Wt(e);if(Gl(e))return n;if(!Dn(e)){let s=Ir(e);for(;s&&!to(s);){if(xn(s)&&!Gc(s))return s;s=Ir(s)}return n}let r=pp(e,t);for(;r&&Ik(r)&&Gc(r);)r=pp(r,t);return r&&to(r)&&Gc(r)&&!Xf(r)?n:r||$k(e)||n}const Jk=async function(e){const t=this.getOffsetParent||p0,n=this.getDimensions,r=await n(e.floating);return{reference:Qk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zk(e){return yn(e).direction==="rtl"}const eC={convertOffsetParentRelativeRectToViewportRelativeRect:Uk,getDocumentElement:zn,getClippingRect:Yk,getOffsetParent:p0,getElementRects:Jk,getClientRects:Wk,getDimensions:qk,getScale:Hs,isElement:xn,isRTL:Zk};function g0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tC(e,t){let n=null,r;const s=zn(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=u;if(l||t(),!m||!y)return;const w=pi(f),x=pi(s.clientWidth-(h+m)),N=pi(s.clientHeight-(f+y)),g=pi(h),v={rootMargin:-w+"px "+-x+"px "+-N+"px "+-g+"px",threshold:zt(0,Ar(1,c))||1};let b=!0;function j(C){const T=C[0].intersectionRatio;if(T!==c){if(!b)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!g0(u,e.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(j,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,v)}n.observe(e)}return i(!0),a}function nC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qf(e),h=s||a?[...u?ya(u):[],...ya(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const f=u&&l?tC(u,n):null;let m=-1,y=null;i&&(y=new ResizeObserver(g=>{let[p]=g;p&&p.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let w,x=c?cs(e):null;c&&N();function N(){const g=cs(e);x&&!g0(x,g)&&n(),x=g,w=requestAnimationFrame(N)}return n(),()=>{var g;h.forEach(p=>{s&&p.removeEventListener("scroll",n),a&&p.removeEventListener("resize",n)}),f==null||f(),(g=y)==null||g.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const rC=Ek,sC=Tk,oC=Sk,aC=Rk,iC=kk,gp=Nk,lC=_k,cC=(e,t,n)=>{const r=new Map,s={platform:eC,...n},a={...s.platform,_c:r};return jk(e,t,{...s,platform:a})};var uC=typeof document<"u",dC=function(){},$i=uC?d.useLayoutEffect:dC;function vl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!vl(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function v0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vp(e,t){const n=v0(e);return Math.round(t*n)/n}function Xc(e){const t=d.useRef(e);return $i(()=>{t.current=e}),t}function fC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=d.useState(r);vl(m,r)||y(r);const[w,x]=d.useState(null),[N,g]=d.useState(null),p=d.useCallback(P=>{P!==C.current&&(C.current=P,x(P))},[]),v=d.useCallback(P=>{P!==T.current&&(T.current=P,g(P))},[]),b=a||w,j=i||N,C=d.useRef(null),T=d.useRef(null),k=d.useRef(h),_=c!=null,A=Xc(c),D=Xc(s),S=Xc(u),E=d.useCallback(()=>{if(!C.current||!T.current)return;const P={placement:t,strategy:n,middleware:m};D.current&&(P.platform=D.current),cC(C.current,T.current,P).then(B=>{const V={...B,isPositioned:S.current!==!1};F.current&&!vl(k.current,V)&&(k.current=V,ao.flushSync(()=>{f(V)}))})},[m,t,n,D,S]);$i(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const F=d.useRef(!1);$i(()=>(F.current=!0,()=>{F.current=!1}),[]),$i(()=>{if(b&&(C.current=b),j&&(T.current=j),b&&j){if(A.current)return A.current(b,j,E);E()}},[b,j,E,A,_]);const W=d.useMemo(()=>({reference:C,floating:T,setReference:p,setFloating:v}),[p,v]),R=d.useMemo(()=>({reference:b,floating:j}),[b,j]),U=d.useMemo(()=>{const P={position:n,left:0,top:0};if(!R.floating)return P;const B=vp(R.floating,h.x),V=vp(R.floating,h.y);return l?{...P,transform:"translate("+B+"px, "+V+"px)",...v0(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:V}},[n,l,R.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:E,refs:W,elements:R,floatingStyles:U}),[h,E,W,R,U])}const hC=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?gp({element:r.current,padding:s}).fn(n):{}:r?gp({element:r,padding:s}).fn(n):{}}}},mC=(e,t)=>({...rC(e),options:[e,t]}),pC=(e,t)=>({...sC(e),options:[e,t]}),gC=(e,t)=>({...lC(e),options:[e,t]}),vC=(e,t)=>({...oC(e),options:[e,t]}),xC=(e,t)=>({...aC(e),options:[e,t]}),yC=(e,t)=>({...iC(e),options:[e,t]}),wC=(e,t)=>({...hC(e),options:[e,t]});var bC="Arrow",x0=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(le.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});x0.displayName=bC;var jC=x0;function Jf(e){const[t,n]=d.useState(void 0);return Qe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Zf="Popper",[y0,w0]=$n(Zf),[NC,b0]=y0(Zf),j0=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(NC,{scope:t,anchor:r,onAnchorChange:s,children:n})};j0.displayName=Zf;var N0="PopperAnchor",S0=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=b0(N0,n),i=d.useRef(null),l=ve(t,i);return d.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(le.div,{...s,ref:l})});S0.displayName=N0;var eh="PopperContent",[SC,kC]=y0(eh),k0=d.forwardRef((e,t)=>{var ne,de,he,I,Q,ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,N=b0(eh,n),[g,p]=d.useState(null),v=ve(t,_e=>p(_e)),[b,j]=d.useState(null),C=Jf(b),T=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,_=r+(a!=="center"?"-"+a:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(u)?u:[u],S=D.length>0,E={padding:A,boundary:D.filter(EC),altBoundary:S},{refs:F,floatingStyles:W,placement:R,isPositioned:U,middlewareData:P}=fC({strategy:"fixed",placement:_,whileElementsMounted:(..._e)=>nC(..._e,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[mC({mainAxis:s+k,alignmentAxis:i}),c&&pC({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?gC():void 0,...E}),c&&vC({...E}),xC({...E,apply:({elements:_e,rects:We,availableWidth:at,availableHeight:M})=>{const{width:O,height:G}=We.reference,H=_e.floating.style;H.setProperty("--radix-popper-available-width",`${at}px`),H.setProperty("--radix-popper-available-height",`${M}px`),H.setProperty("--radix-popper-anchor-width",`${O}px`),H.setProperty("--radix-popper-anchor-height",`${G}px`)}}),b&&wC({element:b,padding:l}),TC({arrowWidth:T,arrowHeight:k}),m&&yC({strategy:"referenceHidden",...E})]}),[B,V]=T0(R),Y=yt(w);Qe(()=>{U&&(Y==null||Y())},[U,Y]);const te=(ne=P.arrow)==null?void 0:ne.x,se=(de=P.arrow)==null?void 0:de.y,me=((he=P.arrow)==null?void 0:he.centerOffset)!==0,[Te,ye]=d.useState();return Qe(()=>{g&&ye(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:U?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(I=P.transformOrigin)==null?void 0:I.x,(Q=P.transformOrigin)==null?void 0:Q.y].join(" "),...((ue=P.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(SC,{scope:n,placedSide:B,onArrowChange:j,arrowX:te,arrowY:se,shouldHideArrow:me,children:o.jsx(le.div,{"data-side":B,"data-align":V,...x,ref:v,style:{...x.style,animation:U?void 0:"none"}})})})});k0.displayName=eh;var C0="PopperArrow",CC={top:"bottom",right:"left",bottom:"top",left:"right"},E0=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=kC(C0,r),i=CC[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(jC,{...s,ref:n,style:{...s.style,display:"block"}})})});E0.displayName=C0;function EC(e){return e!==null}var TC=e=>({name:"transformOrigin",options:e,fn(t){var N,g,p;const{placement:n,rects:r,middlewareData:s}=t,i=((N=s.arrow)==null?void 0:N.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=T0(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,y=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?f:`${m}px`,x=`${-c}px`):u==="top"?(w=i?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?f:`${y}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?f:`${y}px`),{data:{x:w,y:x}}}});function T0(e){const[t,n="center"]=e.split("-");return[t,n]}var _C=j0,RC=S0,PC=k0,AC=E0;function th(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IC="VisuallyHidden",OC=d.forwardRef((e,t)=>o.jsx(le.span,{...e,ref:t,style:{..._0,...e.style}}));OC.displayName=IC;var DC=[" ","Enter","ArrowUp","ArrowDown"],LC=[" ","Enter"],us="Select",[Yl,ql,MC]=Vf(us),[uo,NR]=$n(us,[MC,w0]),Ql=w0(),[$C,$r]=uo(us),[zC,FC]=uo(us),R0=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:y,form:w}=e,x=Ql(t),[N,g]=d.useState(null),[p,v]=d.useState(null),[b,j]=d.useState(!1),C=_a(u),[T,k]=is({prop:r,defaultProp:s??!1,onChange:a,caller:us}),[_,A]=is({prop:i,defaultProp:l,onChange:c,caller:us}),D=d.useRef(null),S=N?w||!!N.closest("form"):!0,[E,F]=d.useState(new Set),W=Array.from(E).map(R=>R.props.value).join(";");return o.jsx(_C,{...x,children:o.jsxs($C,{required:y,scope:t,trigger:N,onTriggerChange:g,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:j,contentId:Tr(),value:_,onValueChange:A,open:T,onOpenChange:k,dir:C,triggerPointerDownPosRef:D,disabled:m,children:[o.jsx(Yl.Provider,{scope:t,children:o.jsx(zC,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(R=>{F(U=>new Set(U).add(R))},[]),onNativeOptionRemove:d.useCallback(R=>{F(U=>{const P=new Set(U);return P.delete(R),P})},[]),children:n})}),S?o.jsxs(J0,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:_,onChange:R=>A(R.target.value),disabled:m,form:w,children:[_===void 0?o.jsx("option",{value:""}):null,Array.from(E)]},W):null]})})};R0.displayName=us;var P0="SelectTrigger",A0=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Ql(n),i=$r(P0,n),l=i.disabled||r,c=ve(t,i.onTriggerChange),u=ql(n),h=d.useRef("touch"),[f,m,y]=ey(x=>{const N=u().filter(v=>!v.disabled),g=N.find(v=>v.value===i.value),p=ty(N,x,g);p!==void 0&&i.onValueChange(p.value)}),w=x=>{l||(i.onOpenChange(!0),y()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(RC,{asChild:!0,...a,children:o.jsx(le.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Z0(i.value)?"":void 0,...s,ref:c,onClick:ce(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:ce(s.onPointerDown,x=>{h.current=x.pointerType;const N=x.target;N.hasPointerCapture(x.pointerId)&&N.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:ce(s.onKeyDown,x=>{const N=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(N&&x.key===" ")&&DC.includes(x.key)&&(w(),x.preventDefault())})})})});A0.displayName=P0;var I0="SelectValue",O0=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=$r(I0,n),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,f=ve(t,c.onValueNodeChange);return Qe(()=>{u(h)},[u,h]),o.jsx(le.span,{...l,ref:f,style:{pointerEvents:"none"},children:Z0(c.value)?o.jsx(o.Fragment,{children:i}):a})});O0.displayName=I0;var BC="SelectIcon",D0=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(le.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});D0.displayName=BC;var UC="SelectPortal",L0=e=>o.jsx(zf,{asChild:!0,...e});L0.displayName=UC;var ds="SelectContent",M0=d.forwardRef((e,t)=>{const n=$r(ds,e.__scopeSelect),[r,s]=d.useState();if(Qe(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?ao.createPortal(o.jsx($0,{scope:e.__scopeSelect,children:o.jsx(Yl.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(z0,{...e,ref:t})});M0.displayName=ds;var cn=10,[$0,zr]=uo(ds),WC="SelectContentImpl",VC=Zs("SelectContent.RemoveScroll"),z0=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:N,...g}=e,p=$r(ds,n),[v,b]=d.useState(null),[j,C]=d.useState(null),T=ve(t,ne=>b(ne)),[k,_]=d.useState(null),[A,D]=d.useState(null),S=ql(n),[E,F]=d.useState(!1),W=d.useRef(!1);d.useEffect(()=>{if(v)return Kx(v)},[v]),Mx();const R=d.useCallback(ne=>{const[de,...he]=S().map(ue=>ue.ref.current),[I]=he.slice(-1),Q=document.activeElement;for(const ue of ne)if(ue===Q||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===de&&j&&(j.scrollTop=0),ue===I&&j&&(j.scrollTop=j.scrollHeight),ue==null||ue.focus(),document.activeElement!==Q))return},[S,j]),U=d.useCallback(()=>R([k,v]),[R,k,v]);d.useEffect(()=>{E&&U()},[E,U]);const{onOpenChange:P,triggerPointerDownPosRef:B}=p;d.useEffect(()=>{if(v){let ne={x:0,y:0};const de=I=>{var Q,ue;ne={x:Math.abs(Math.round(I.pageX)-(((Q=B.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(I.pageY)-(((ue=B.current)==null?void 0:ue.y)??0))}},he=I=>{ne.x<=10&&ne.y<=10?I.preventDefault():v.contains(I.target)||P(!1),document.removeEventListener("pointermove",de),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",he,{capture:!0})}}},[v,P,B]),d.useEffect(()=>{const ne=()=>P(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[P]);const[V,Y]=ey(ne=>{const de=S().filter(Q=>!Q.disabled),he=de.find(Q=>Q.ref.current===document.activeElement),I=ty(de,ne,he);I&&setTimeout(()=>I.ref.current.focus())}),te=d.useCallback((ne,de,he)=>{const I=!W.current&&!he;(p.value!==void 0&&p.value===de||I)&&(_(ne),I&&(W.current=!0))},[p.value]),se=d.useCallback(()=>v==null?void 0:v.focus(),[v]),me=d.useCallback((ne,de,he)=>{const I=!W.current&&!he;(p.value!==void 0&&p.value===de||I)&&D(ne)},[p.value]),Te=r==="popper"?hd:F0,ye=Te===hd?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:N}:{};return o.jsx($0,{scope:n,content:v,viewport:j,onViewportChange:C,itemRefCallback:te,selectedItem:k,onItemLeave:se,itemTextRefCallback:me,focusSelectedItem:U,selectedItemText:A,position:r,isPositioned:E,searchRef:V,children:o.jsx(Ff,{as:VC,allowPinchZoom:!0,children:o.jsx($f,{asChild:!0,trapped:p.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:ce(s,ne=>{var de;(de=p.trigger)==null||de.focus({preventScroll:!0}),ne.preventDefault()}),children:o.jsx(Mf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:o.jsx(Te,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:ne=>ne.preventDefault(),...g,...ye,onPlaced:()=>F(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ce(g.onKeyDown,ne=>{const de=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!de&&ne.key.length===1&&Y(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let I=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Q=ne.target,ue=I.indexOf(Q);I=I.slice(ue+1)}setTimeout(()=>R(I)),ne.preventDefault()}})})})})})})});z0.displayName=WC;var HC="SelectItemAlignedPosition",F0=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=$r(ds,n),i=zr(ds,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=ve(t,T=>h(T)),m=ql(n),y=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:N,selectedItemText:g,focusSelectedItem:p}=i,v=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&N&&g){const T=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),_=a.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(a.dir!=="rtl"){const Q=A.left-k.left,ue=_.left-Q,_e=T.left-ue,We=T.width+_e,at=Math.max(We,k.width),M=window.innerWidth-cn,O=va(ue,[cn,Math.max(cn,M-at)]);l.style.minWidth=We+"px",l.style.left=O+"px"}else{const Q=k.right-A.right,ue=window.innerWidth-_.right-Q,_e=window.innerWidth-T.right-ue,We=T.width+_e,at=Math.max(We,k.width),M=window.innerWidth-cn,O=va(ue,[cn,Math.max(cn,M-at)]);l.style.minWidth=We+"px",l.style.right=O+"px"}const D=m(),S=window.innerHeight-cn*2,E=x.scrollHeight,F=window.getComputedStyle(u),W=parseInt(F.borderTopWidth,10),R=parseInt(F.paddingTop,10),U=parseInt(F.borderBottomWidth,10),P=parseInt(F.paddingBottom,10),B=W+R+E+P+U,V=Math.min(N.offsetHeight*5,B),Y=window.getComputedStyle(x),te=parseInt(Y.paddingTop,10),se=parseInt(Y.paddingBottom,10),me=T.top+T.height/2-cn,Te=S-me,ye=N.offsetHeight/2,ne=N.offsetTop+ye,de=W+R+ne,he=B-de;if(de<=me){const Q=D.length>0&&N===D[D.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-x.offsetTop-x.offsetHeight,_e=Math.max(Te,ye+(Q?se:0)+ue+U),We=de+_e;l.style.height=We+"px"}else{const Q=D.length>0&&N===D[0].ref.current;l.style.top="0px";const _e=Math.max(me,W+x.offsetTop+(Q?te:0)+ye)+he;l.style.height=_e+"px",x.scrollTop=de-me+x.offsetTop}l.style.margin=`${cn}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=S+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,N,g,a.dir,r]);Qe(()=>v(),[v]);const[b,j]=d.useState();Qe(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const C=d.useCallback(T=>{T&&w.current===!0&&(v(),p==null||p(),w.current=!1)},[v,p]);return o.jsx(GC,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:o.jsx(le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});F0.displayName=HC;var KC="SelectPopperPosition",hd=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=cn,...a}=e,i=Ql(n);return o.jsx(PC,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hd.displayName=KC;var[GC,nh]=uo(ds,{}),md="SelectViewport",B0=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=zr(md,n),i=nh(md,n),l=ve(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Yl.Slot,{scope:n,children:o.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ce(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const w=window.innerHeight-cn*2,x=parseFloat(f.style.minHeight),N=parseFloat(f.style.height),g=Math.max(x,N);if(g<w){const p=g+y,v=Math.min(w,p),b=p-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});B0.displayName=md;var U0="SelectGroup",[XC,YC]=uo(U0),qC=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Tr();return o.jsx(XC,{scope:n,id:s,children:o.jsx(le.div,{role:"group","aria-labelledby":s,...r,ref:t})})});qC.displayName=U0;var W0="SelectLabel",QC=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=YC(W0,n);return o.jsx(le.div,{id:s.id,...r,ref:t})});QC.displayName=W0;var xl="SelectItem",[JC,V0]=uo(xl),H0=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=$r(xl,n),c=zr(xl,n),u=l.value===r,[h,f]=d.useState(a??""),[m,y]=d.useState(!1),w=ve(t,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,r,s)}),x=Tr(),N=d.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(JC,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(p=>{f(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:o.jsx(Yl.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(le.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:ce(i.onFocus,()=>y(!0)),onBlur:ce(i.onBlur,()=>y(!1)),onClick:ce(i.onClick,()=>{N.current!=="mouse"&&g()}),onPointerUp:ce(i.onPointerUp,()=>{N.current==="mouse"&&g()}),onPointerDown:ce(i.onPointerDown,p=>{N.current=p.pointerType}),onPointerMove:ce(i.onPointerMove,p=>{var v;N.current=p.pointerType,s?(v=c.onItemLeave)==null||v.call(c):N.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(i.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ce(i.onKeyDown,p=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(LC.includes(p.key)&&g(),p.key===" "&&p.preventDefault())})})})})});H0.displayName=xl;var $o="SelectItemText",K0=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=$r($o,n),l=zr($o,n),c=V0($o,n),u=FC($o,n),[h,f]=d.useState(null),m=ve(t,g=>f(g),c.onItemTextChange,g=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,g,c.value,c.disabled)}),y=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:N}=u;return Qe(()=>(x(w),()=>N(w)),[x,N,w]),o.jsxs(o.Fragment,{children:[o.jsx(le.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ao.createPortal(a.children,i.valueNode):null]})});K0.displayName=$o;var G0="SelectItemIndicator",X0=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return V0(G0,n).isSelected?o.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});X0.displayName=G0;var pd="SelectScrollUpButton",Y0=d.forwardRef((e,t)=>{const n=zr(pd,e.__scopeSelect),r=nh(pd,e.__scopeSelect),[s,a]=d.useState(!1),i=ve(t,r.onScrollButtonChange);return Qe(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Q0,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Y0.displayName=pd;var gd="SelectScrollDownButton",q0=d.forwardRef((e,t)=>{const n=zr(gd,e.__scopeSelect),r=nh(gd,e.__scopeSelect),[s,a]=d.useState(!1),i=ve(t,r.onScrollButtonChange);return Qe(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Q0,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});q0.displayName=gd;var Q0=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=zr("SelectScrollButton",n),i=d.useRef(null),l=ql(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Qe(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(le.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ce(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ce(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ce(s.onPointerLeave,()=>{c()})})}),ZC="SelectSeparator",eE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});eE.displayName=ZC;var vd="SelectArrow",tE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ql(n),a=$r(vd,n),i=zr(vd,n);return a.open&&i.position==="popper"?o.jsx(AC,{...s,...r,ref:t}):null});tE.displayName=vd;var nE="SelectBubbleInput",J0=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),a=ve(r,s),i=th(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(le.select,{...n,style:{..._0,...n.style},ref:a,defaultValue:t})});J0.displayName=nE;function Z0(e){return e===""||e===void 0}function ey(e){const t=yt(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function ty(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=rE(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function rE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var sE=R0,oE=A0,aE=O0,iE=D0,lE=L0,cE=M0,uE=B0,dE=H0,fE=K0,hE=X0,mE=Y0,pE=q0;function rh({...e}){return o.jsx(sE,{"data-slot":"select",...e})}function sh({...e}){return o.jsx(aE,{"data-slot":"select-value",...e})}function oh({className:e,size:t="default",children:n,...r}){return o.jsxs(oE,{"data-slot":"select-trigger","data-size":t,className:ke("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(iE,{asChild:!0,children:o.jsx(cx,{className:"size-4 opacity-50"})})]})}function ah({className:e,children:t,position:n="popper",...r}){return o.jsx(lE,{children:o.jsxs(cE,{"data-slot":"select-content",className:ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(gE,{}),o.jsx(uE,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(vE,{})]})})}function _n({className:e,children:t,...n}){return o.jsxs(dE,{"data-slot":"select-item",className:ke("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(hE,{children:o.jsx(Ws,{className:"size-4"})})}),o.jsx(fE,{children:t})]})}function gE({className:e,...t}){return o.jsx(mE,{"data-slot":"select-scroll-up-button",className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Bj,{className:"size-4"})})}function vE({className:e,...t}){return o.jsx(pE,{"data-slot":"select-scroll-down-button",className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(cx,{className:"size-4"})})}const xE=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function Yc({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,a]=d.useState(""),[i,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,y]=d.useState(null),[w,x]=d.useState(!1),[N,g]=d.useState(),[p,v]=d.useState(!1),b=xE(e),j=S=>{switch(S){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},C=async(S=!1)=>{try{S?v(!0):f(!0),y(null);const E=await Jr.getContents({type:j(e),query:s||void 0,sortBy:i==="latest"||i==="rating"?"RELEASE_AT":i==="title"?"TITLE":"RELEASE_AT",direction:i==="title"?"ASC":"DESC",cursor:S?N:void 0,size:20});u(S?F=>[...F,...E.data]:E.data),x(E.hasNext),g(E.nextCursor)}catch(E){console.error("  :",E),y(E instanceof Error?E.message:"    .")}finally{f(!1),v(!1)}};d.useEffect(()=>{C(!1)},[e]),d.useEffect(()=>{const S=setTimeout(()=>{C(!1)},300);return()=>clearTimeout(S)},[s,i]);const T=()=>{w&&!h&&!p&&C(!0)},k=S=>({id:S.id,title:S.title,thumbnail:S.thumbnail||"",type:S.contentType.toLowerCase(),duration:S.duration||"120",description:S.description||"",rating:S.rating,reviewCount:S.reviewCount,year:S.year||new Date(S.releaseDate).getFullYear()}),_=S=>{r==null||r(k(S))},A=S=>{t(k(S))},D=S=>{n==null||n(k(S))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:b}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ms,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Le,{placeholder:`${b} ...`,value:s,onChange:S=>a(S.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(rh,{value:i,onValueChange:l,children:[o.jsx(oh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(sh,{placeholder:""})}),o.jsxs(ah,{children:[o.jsx(_n,{value:"latest",children:""}),o.jsx(_n,{value:"rating",children:"  "}),o.jsx(_n,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?" ...":`${c.length} `}),o.jsx(dt,{variant:"outline",className:Jr.getTypeColor(j(e)),children:b})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(L,{onClick:()=>C(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(qt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(S=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>D(S),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:S.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(L,{size:"sm",onClick:E=>{E.stopPropagation(),A(S)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(wt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(L,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),_(S)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Ut,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:S.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:S.rating}),S.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",S.reviewCount,")"]})]}),S.year&&o.jsx("span",{className:"text-xs text-white/60",children:S.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:S.duration}),o.jsx(dt,{variant:"outline",className:Jr.getTypeColor(S.contentType),children:Jr.getTypeLabel(S.contentType)})]})]})]},S.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx(L,{onClick:T,disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:p?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pf,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${b}  .`}),s&&o.jsxs(L,{variant:"outline",onClick:()=>a(""),className:"border-white/20 hover:bg-white/5",children:[" ",b," "]})]})]})]})})}class yE{constructor(){Ye(this,"baseUrl","http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${t}/reviews`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}}const gi=new yE,vi=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,a]=d.useState(0),i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,h)=>{if(!t||!r)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,y=f.width,x=m<y/2?u-.5:u;r(x)},c=(u,h)=>{if(!t)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,y=f.width,x=m<y/2?u-.5:u;a(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const h=s||e,f=u-.5<=h&&u>h,m=u<=h;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(tr,{className:`${i[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?y=>l(u,y):void 0,onMouseMove:t?y=>c(u,y):void 0,onMouseLeave:t?()=>a(0):void 0}),(m||f)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${f?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(tr,{className:`${i[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function wE({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,a]=d.useState(""),[i,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!1),[w,x]=d.useState(null),[N,g]=d.useState(""),[p,v]=d.useState(0),[b,j]=d.useState(!1),[C,T]=d.useState(null),k=async()=>{f(!0);try{const U=(await gi.getReviewsByContentId(e.id)).map(P=>({...P,contentId:e.id,createdAt:new Date().toISOString(),user:{id:P.authorId,name:P.authorName,avatar:P.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(U)}catch(R){console.error("  :",R)}finally{f(!1)}},_=c.length>0?c.reduce((R,U)=>R+U.rating,0)/c.length:0,A=async()=>{if(!(!s.trim()||i===0||!r)){y(!0);try{const R={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:i},P={...await gi.createReview(R),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([P,...c]),a(""),l(0)}catch(R){console.error("  :",R)}finally{y(!1)}}},D=R=>{x(R),g(R.comment),v(R.rating)},S=()=>{x(null),g(""),v(0)},E=async()=>{if(!(!w||!N.trim()||p===0)){j(!0);try{const R={title:N.trim().substring(0,100),comment:N.trim(),rating:p},U=await gi.updateReview(w.id,R);u(c.map(P=>P.id===w.id?{...P,...U}:P)),S()}catch(R){console.error("  :",R)}finally{j(!1)}}},F=async R=>{T(R);try{await gi.deleteReview(R),u(c.filter(U=>U.id!==R))}catch(U){console.error("  :",U)}finally{T(null)}};d.useEffect(()=>{e.id&&k()},[e.id]);const W=R=>{switch(R){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs(L,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(io,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:W(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(dt,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:W(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vi,{rating:_,size:"lg"}),o.jsx("span",{className:"text-xl",children:_%1===0?_.toFixed(0):_.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs(L,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(wt,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(vi,{rating:i,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(id,{value:s,onChange:R=>a(R.target.value),placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs(L,{onClick:A,disabled:!s.trim()||i===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Af,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(R=>{var U,P,B,V;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(w==null?void 0:w.id)===R.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(Me,{children:[o.jsx($e,{src:(U=R.user)==null?void 0:U.avatar}),o.jsx(ze,{children:((P=R.authorName)==null?void 0:P[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:R.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(vi,{rating:p,editable:!0,size:"lg",onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(id,{value:N,onChange:Y=>g(Y.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(L,{onClick:E,disabled:!N.trim()||p===0||b,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:b?" ...":" "}),o.jsx(L,{onClick:S,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(Me,{children:[o.jsx($e,{src:(B=R.user)==null?void 0:B.avatar}),o.jsx(ze,{children:((V=R.authorName)==null?void 0:V[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:R.authorName||" "}),o.jsx(vi,{rating:R.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:R.createdAt?new Date(R.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:R.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&R.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>D(R),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(Yj,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>F(R.id),disabled:C===R.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(rd,{className:"w-4 h-4 mr-1"}),C===R.id?" ...":""]})]})})]})]})},R.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function bE({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:a,refreshUserProfile:i,onPlaylistOpen:l}){const[c,u]=d.useState(""),[h,f]=d.useState("user@moplay.kr"),[m,y]=d.useState(!1),[w,x]=d.useState(null),[N,g]=d.useState(""),[p,v]=d.useState(!1),[b,j]=d.useState(null),[C,T]=d.useState(null),[k,_]=d.useState([]),[A,D]=d.useState([]),[S,E]=d.useState(!1),[F,W]=d.useState(!1),[R,U]=d.useState("profile"),[P,B]=d.useState([]),V=r||n,Y=!!(r&&r!==n);d.useEffect(()=>{e&&(j(null),V?(te(),se(),me(),ne(),Y&&Te()):j("  .  ."))},[e,V,Y]);const te=async()=>{try{const I=await s(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${V}`);if(!I.ok)throw new Error("   .");const Q=await I.json();T(Q),u(Q.name),f(Q.email)}catch(I){console.error("   :",I),j("   .")}},se=async()=>{try{const I=await s(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${V}/followers`);if(!I.ok)throw new Error("   .");const Q=await I.json();_(Q)}catch(I){console.error("   :",I),_([])}},me=async()=>{try{const I=await s(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${V}/following`);if(!I.ok)throw new Error("   .");const Q=await I.json();D(Q)}catch(I){console.error("   :",I),D([])}},Te=async()=>{if(!(!n||!V))try{const I=await s(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${n}/is-following/${V}`);if(!I.ok)throw new Error("   .");const Q=await I.json();E(Q)}catch(I){console.error("   :",I),E(!1)}},ye=async()=>{if(!(!n||!V)){W(!0);try{if(S){const I=new FormData;if(I.append("followerId",n),I.append("followingId",V),!(await s("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/unfollow",{method:"DELETE",body:I})).ok)throw new Error(" .");E(!1),_(ue=>ue.filter(_e=>_e.id!==n))}else{const I=new FormData;if(I.append("followerId",n),I.append("followingId",V),!(await s("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/follow",{method:"POST",body:I})).ok)throw new Error(" .");E(!0),C&&_(ue=>[...ue,{id:n,name:"",email:"",profileImage:""}])}}catch(I){console.error("  :",I),alert(I instanceof Error?I.message:"    .")}finally{W(!1)}}},ne=async()=>{if(V)try{const I=await s(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${V}/playlists`);if(!I.ok)throw new Error("   .");const Q=await I.json();B(Q)}catch(I){console.error("   :",I),B([])}},de=I=>{a&&(t(),a(I))},he=async()=>{v(!0),j(null);try{if(!n){j("  .  ."),v(!1);return}if(!N.trim()){j("     ."),v(!1);return}const I=new FormData,Q={newName:c,newPassword:N};console.log("Request data:",Q);const ue=new Blob([JSON.stringify(Q)],{type:"application/json"});I.append("request",ue),w&&(I.append("profile",w),console.log("Profile image added:",w.name)),console.log("FormData entries:");for(let[at,M]of I.entries())console.log(at,M);const _e=await fetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:I});if(!_e.ok){const at=await _e.json();throw new Error(at.message||"  .")}const We=await _e.json();T(We),u(We.name),f(We.email),x(null),await te(),alert("  ."),i&&i(),g(""),t()}catch(I){console.error("  :",I),j(I instanceof Error?I.message:"    .")}finally{v(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:Y?`${(C==null?void 0:C.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[Y&&o.jsx(L,{onClick:ye,disabled:F,className:`${S?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:F?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):S?o.jsxs(o.Fragment,{children:[o.jsx(fx,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Of,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx(L,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(vn,{className:"w-5 h-5"})})]})]}),b&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:b}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Me,{className:"h-20 w-20 mb-4",children:[o.jsx($e,{src:w?URL.createObjectURL(w):C==null?void 0:C.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!Y&&o.jsx(L,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>y(!m),children:o.jsx(lx,{className:"w-4 h-4"})})]}),m&&!Y&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(Ix,{selectedImage:w,onImageSelect:x,onClose:()=>y(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:k.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:A.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx(L,{variant:R==="profile"?"default":"ghost",size:"sm",onClick:()=>U("profile"),className:R==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs(L,{variant:R==="followers"?"default":"ghost",size:"sm",onClick:()=>U("followers"),className:`${R==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(ft,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(L,{variant:R==="following"?"default":"ghost",size:"sm",onClick:()=>U("following"),className:`${R==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Pr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(L,{variant:R==="playlists"?"default":"ghost",size:"sm",onClick:()=>U("playlists"),className:`${R==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx($c,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[R==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(Le,{id:"name",value:c,onChange:I=>u(I.target.value),disabled:Y,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${Y?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(Le,{id:"email",value:h,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!Y&&o.jsxs("div",{children:[o.jsxs(Pt,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Le,{id:"password",type:"password",value:N,onChange:I=>g(I.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"     ."})]})]}),R==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[k.map(I=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>I.id&&de(I.id),children:[o.jsxs(Me,{className:"h-10 w-10",children:[o.jsx($e,{src:I.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:I.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:I.name}),o.jsx("p",{className:"text-white/60 text-sm",children:I.email})]})]},I.id)),k.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ft,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),R==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[A.map(I=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>I.id&&de(I.id),children:[o.jsxs(Me,{className:"h-10 w-10",children:[o.jsx($e,{src:I.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:I.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:I.name}),o.jsx("p",{className:"text-white/60 text-sm",children:I.email})]})]},I.id)),A.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Pr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),R==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[P.map(I=>{var Q;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l(I.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:I.thumbnail?o.jsx("img",{src:I.thumbnail,alt:I.title||I.name,className:"w-full h-full object-cover"}):o.jsx($c,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:I.title||I.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[I.contentCount||((Q=I.playlistContents)==null?void 0:Q.length)||0," ",I.isPublic?"  ":"  "]})]})]},I.id)}),P.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx($c,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:Y?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(L,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:p,children:Y?"":""}),!Y&&o.jsx(L,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:he,disabled:p||!n,children:p?" ...":""})]})]})]}):null}class jE{constructor(t){Ye(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t=await this.authenticatedFetch("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/");if(!t.ok)throw new Error("Failed to fetch DM rooms");return t.json()}async getRoom(t){const n=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/${t}`);if(!n.ok)throw new Error("Failed to fetch DM room");return n.json()}async getOrCreateRoom(t){const n=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/userRoom?userB=${t}`);if(!n.ok)throw new Error("Failed to get or create DM room");return n.json()}async getDmMessages(t){const n=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dm/${t}`);if(!n.ok)throw new Error("Failed to fetch DM messages");return n.json()}async getFollowing(t){const n=await this.authenticatedFetch(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}function NE({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:a,getOrCreateDmRoom:i}){const[l,c]=d.useState(""),[u,h]=d.useState(!1),[f,m]=d.useState([]),[y,w]=d.useState([]),[x,N]=d.useState(!1),[g,p]=d.useState(null),v=new jE(r),b=f.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())),j=y.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())),C=S=>{console.log(`Opening conversation with ${S.name}`),n({id:S.userId,name:S.name,avatar:S.avatar,isOnline:S.isOnline,roomId:S.id})},T=()=>{h(!0),c("")},k=()=>{h(!1),c("")},_=async S=>{try{N(!0);const E=await i(S.id);console.log(`Starting new conversation with ${S.name}, room: ${E}`),n({id:S.id,name:S.name,avatar:S.avatar,isOnline:S.isOnline,roomId:E}),h(!1),c("")}catch(E){console.error("Error starting conversation:",E),p("   .")}finally{N(!1)}};d.useEffect(()=>{e&&s&&(A(),D())},[e,s]);const A=async()=>{try{N(!0),p(null);const E=(await a()).map(F=>{const W=F.senderId===s?{id:F.receiverId,name:F.receiverName,avatar:"",isOnline:!1}:{id:F.senderId,name:F.senderName,avatar:"",isOnline:!1},R=U=>{const P=new Date(U),V=new Date().getTime()-P.getTime(),Y=Math.floor(V/(1e3*60)),te=Math.floor(V/(1e3*60*60)),se=Math.floor(V/(1e3*60*60*24));return Y<1?" ":Y<60?`${Y} `:te<24?`${te} `:se===1?"":`${se} `};return{id:F.id,userId:(W==null?void 0:W.id)||"",name:(W==null?void 0:W.name)||"   ",avatar:(W==null?void 0:W.avatar)||"",lastMessage:F.lastMessage||"  ",timestamp:(F.lastMessage,R(F.createdAt)),unreadCount:F.newMessageCount||0,isOnline:(W==null?void 0:W.isOnline)||!1}});m(E)}catch(S){console.error("Error loading DM rooms:",S),p("    .")}finally{N(!1)}},D=async()=>{if(s)try{const E=(await v.getFollowing(s)).map(F=>({id:F.id,name:F.name||"   ",avatar:F.profileImage||"",isOnline:!1,mutualFriends:0}));w(E)}catch(S){console.error("Error loading chat partners:",S)}};return e?o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[u&&o.jsx(L,{variant:"ghost",size:"sm",onClick:k,className:"p-1 hover:bg-white/10",children:o.jsx(io,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:u?" ":""})]}),o.jsx(L,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(vn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Le,{placeholder:" ...",value:l,onChange:S=>c(S.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u?o.jsx(o.Fragment,{children:j.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:j.map(S=>o.jsxs("div",{onClick:()=>_(S),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Me,{className:"h-14 w-14",children:[o.jsx($e,{src:S.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:S.name.charAt(0)})]}),S.isOnline&&o.jsx(Mm,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:S.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",S.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:S.isOnline?"":""})]},S.id))})}):o.jsxs(o.Fragment,{children:[x&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),g&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:g}),!x&&!g&&b.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}),!x&&!g&&b.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:b.map(S=>o.jsxs("div",{onClick:()=>C(S),className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Me,{className:"h-14 w-14",children:[o.jsx($e,{src:S.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:S.name.charAt(0)})]}),S.isOnline&&o.jsx(Mm,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:S.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:S.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:S.lastMessage}),S.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:S.unreadCount>9?"9+":S.unreadCount})]})]})]},S.id))})]})}),!u&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs(L,{onClick:T,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(ft,{className:"w-5 h-5 mr-2"})," "]})})]})}):null}function SE(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var ih="ScrollArea",[ny,SR]=$n(ih),[kE,tn]=ny(ih),ry=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[y,w]=d.useState(null),[x,N]=d.useState(null),[g,p]=d.useState(0),[v,b]=d.useState(0),[j,C]=d.useState(!1),[T,k]=d.useState(!1),_=ve(t,D=>c(D)),A=_a(s);return o.jsx(kE,{scope:n,type:r,dir:A,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:j,onScrollbarXEnabledChange:C,scrollbarY:x,onScrollbarYChange:N,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:p,onCornerHeightChange:b,children:o.jsx(le.div,{dir:A,...i,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});ry.displayName=ih;var sy="ScrollAreaViewport",oy=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=tn(sy,n),l=d.useRef(null),c=ve(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(le.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});oy.displayName=sy;var Fn="ScrollAreaScrollbar",ay=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=tn(Fn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(CE,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(EE,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(iy,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(lh,{...r,ref:t}):null});ay.displayName=Fn;var CE=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=tn(Fn,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(or,{present:n||a,children:o.jsx(iy,{"data-state":a?"visible":"hidden",...r,ref:t})})}),EE=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=tn(Fn,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Zl(()=>c("SCROLL_END"),100),[l,c]=SE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=a?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const y=u[h];f!==y&&(c("SCROLL"),i()),f=y};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(or,{present:n||l!=="hidden",children:o.jsx(lh,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),iy=d.forwardRef((e,t)=>{const n=tn(Fn,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=Zl(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:h)}},10);return no(n.viewport,c),no(n.content,c),o.jsx(or,{present:r||a,children:o.jsx(lh,{"data-state":a?"visible":"hidden",...s,ref:t})})}),lh=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=tn(Fn,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=fy(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,y){return IE(m,i.current,l,y)}return n==="horizontal"?o.jsx(TE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,y=xp(m,l,s.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(_E,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,y=xp(m,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),TE=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=tn(Fn,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=ve(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(cy,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Jl(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),my(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wl(i.paddingLeft),paddingEnd:wl(i.paddingRight)}})}})}),_E=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=tn(Fn,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=ve(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(cy,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Jl(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),my(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wl(i.paddingTop),paddingEnd:wl(i.paddingBottom)}})}})}),[RE,ly]=ny(Fn),cy=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,y=tn(Fn,n),[w,x]=d.useState(null),N=ve(t,_=>x(_)),g=d.useRef(null),p=d.useRef(""),v=y.viewport,b=r.content-r.viewport,j=yt(h),C=yt(c),T=Zl(f,10);function k(_){if(g.current){const A=_.clientX-g.current.left,D=_.clientY-g.current.top;u({x:A,y:D})}}return d.useEffect(()=>{const _=A=>{const D=A.target;(w==null?void 0:w.contains(D))&&j(A,b)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[v,w,b,j]),d.useEffect(C,[r,C]),no(w,T),no(y.content,T),o.jsx(RE,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:yt(a),onThumbPointerUp:yt(i),onThumbPositionChange:C,onThumbPointerDown:yt(l),children:o.jsx(le.div,{...m,ref:N,style:{position:"absolute",...m.style},onPointerDown:ce(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),g.current=w.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(_))}),onPointerMove:ce(e.onPointerMove,k),onPointerUp:ce(e.onPointerUp,_=>{const A=_.target;A.hasPointerCapture(_.pointerId)&&A.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=p.current,y.viewport&&(y.viewport.style.scrollBehavior=""),g.current=null})})})}),yl="ScrollAreaThumb",uy=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ly(yl,e.__scopeScrollArea);return o.jsx(or,{present:n||s.hasThumb,children:o.jsx(PE,{ref:t,...r})})}),PE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=tn(yl,n),i=ly(yl,n),{onThumbPositionChange:l}=i,c=ve(t,f=>i.onThumbChange(f)),u=d.useRef(void 0),h=Zl(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(h(),!u.current){const y=OE(f,l);u.current=y,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,h,l]),o.jsx(le.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ce(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,x=f.clientY-y.top;i.onThumbPointerDown({x:w,y:x})}),onPointerUp:ce(e.onPointerUp,i.onThumbPointerUp)})});uy.displayName=yl;var ch="ScrollAreaCorner",dy=d.forwardRef((e,t)=>{const n=tn(ch,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(AE,{...e,ref:t}):null});dy.displayName=ch;var AE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=tn(ch,n),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return no(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),no(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),i(h)}),u?o.jsx(le.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wl(e){return e?parseInt(e,10):0}function fy(e,t){const n=e/t;return isNaN(n)?0:n}function Jl(e){const t=fy(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function IE(e,t,n,r="ltr"){const s=Jl(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return hy([c,u],f)(e)}function xp(e,t,n="ltr"){const r=Jl(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=va(e,c);return hy([0,i],[0,l])(u)}function hy(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function my(e,t){return e>0&&e<t}var OE=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Zl(e,t){const n=yt(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function no(e,t){const n=yt(t);Qe(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var DE=ry,LE=oy,ME=dy;function $E({className:e,children:t,...n}){return o.jsxs(DE,{"data-slot":"scroll-area",className:ke("relative",e),...n,children:[o.jsx(LE,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(zE,{}),o.jsx(ME,{})]})}function zE({className:e,orientation:t="vertical",...n}){return o.jsx(ay,{"data-slot":"scroll-area-scrollbar",orientation:t,className:ke("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(uy,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function FE(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=i=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),a==null||a.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const zo={LF:`
`,NULL:"\0"};class gr{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=a=>a.replace(/^\s+|\s+$/g,"");for(const a of t.headers.reverse()){a.indexOf(":");const i=s(a[0]);let l=s(a[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=gr.hdrValueUnEscape(l)),r[i]=l}return new gr({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?gr.toUnit8Array(t,this._binaryBody).buffer:t+this._body+zo.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${gr.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(zo.LF)+zo.LF+zo.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),a=new Uint8Array(r.length+n.length+s.length);return a.set(r),a.set(n,r.length),a.set(s,r.length+n.length),a}static marshall(t){return new gr(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const yp=0,xi=10,yi=13,BE=58;class UE{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const a=r[s];this._onByte(a)}}_collectFrame(t){if(t!==yp&&t!==yi){if(t===xi){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==yi){if(t===xi){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==yi){if(t===xi){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===BE){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==yi){if(t===xi){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===yp){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var vr;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(vr||(vr={}));var un;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(un||(un={}));var bl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(bl||(bl={}));var wa;(function(e){e.Interval="interval",e.Worker="worker"})(wa||(wa={}));class WE{constructor(t,n=wa.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===wa.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class kt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}kt.V1_0="1.0";kt.V1_1="1.1";kt.V1_2="1.2";kt.default=new kt([kt.V1_2,kt.V1_1,kt.V1_0]);class VE{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===kt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const a=s.headers.subscription,i=this._subscriptions[a]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===kt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,a,h),l.nack=(h={})=>c.nack(u,a,h),i(l)},RECEIPT:s=>{const a=this._receiptWatchers[s.headers["receipt-id"]];a?(a(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new UE(n=>{const r=gr.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==kt.V1_1&&t.version!==kt.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new WE(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===vr.OPEN&&(this._webSocket.send(zo.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>s*2&&(this.debug(`did not receive server activity for the last ${a}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===vr.CONNECTING||this._webSocket.readyState===vr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&FE(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=new gr({command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===vr.CONNECTING||this._webSocket.readyState===vr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:a,skipContentLengthHeader:i})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(a){return s.unsubscribe(r.id,a)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===kt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===kt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class py{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===un.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=kt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=bl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=wa.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=un.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(un.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===un.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new VE(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===un.DEACTIVATING&&this._changeState(un.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===bl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var a;const n=t.force||!1,r=this.active;let s;if(this.state===un.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(un.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==vr.CLOSED){const i=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState(un.INACTIVE),Promise.resolve();return n?(a=this._stompHandler)==null||a.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}const HE=({roomId:e,userId:t,onMessageReceived:n})=>{const[r,s]=d.useState(!1),[a,i]=d.useState(!1),l=d.useRef(null),c=d.useRef(null),u=d.useRef(0),h=5,f=d.useCallback(()=>{if(u.current>=h){console.error("Max reconnection attempts reached");return}const x=Math.min(1e3*Math.pow(2,u.current),3e4);console.log(`Scheduling reconnect attempt ${u.current+1} in ${x}ms`),c.current=setTimeout(()=>{u.current++,m()},x)},[]),m=d.useCallback(()=>{if(!e||!t||a||r)return;const x=localStorage.getItem("accessToken");if(!x){console.error("No access token found for WebSocket connection");return}console.log("Connecting to DM WebSocket for room:",e,"Attempt:",u.current+1),i(!0);const N=new py({brokerURL:"wss://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws",connectHeaders:{Authorization:`Bearer ${x}`},debug:g=>{console.log("STOMP Debug:",g)},onConnect:()=>{console.log("DM WebSocket connected for room:",e),s(!0),i(!1),u.current=0,N.subscribe(`/topic/dm.room.${e}`,g=>{try{const p=JSON.parse(g.body);console.log("Received DM message:",p),n(p)}catch(p){console.error("Error parsing DM message:",p)}})},onDisconnect:()=>{console.log("DM WebSocket disconnected"),s(!1),i(!1),l.current&&u.current<h&&f()},onStompError:g=>{console.error("STOMP Error:",g),s(!1),i(!1),u.current<h&&f()}});l.current=N,N.activate()},[e,t,a,r,n,f]),y=d.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),u.current=0,l.current&&(console.log("Disconnecting DM WebSocket"),l.current.deactivate(),l.current=null,s(!1),i(!1))},[]),w=d.useCallback(x=>{if(!l.current||!r||!e||!t){console.error("Cannot send message: WebSocket not connected or missing required data");return}const N={senderId:t,roomId:e,content:x,isRead:!1,createdAt:new Date().toISOString()};console.log("Sending DM message:",N),l.current.publish({destination:"/app/dm.send",body:JSON.stringify(N)})},[e,t,r]);return d.useEffect(()=>(e&&t?m():y(),()=>{c.current&&(clearTimeout(c.current),c.current=null),y()}),[e,t,m,y]),{isConnected:r,isConnecting:a,sendMessage:w,connect:m,disconnect:y}};function KE({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:a}){const[i,l]=d.useState([]),[c,u]=d.useState(""),[h]=d.useState(!1),[f,m]=d.useState(!1),[y,w]=d.useState(null),x=d.useRef(null),N=d.useRef(null),{isConnected:g,sendMessage:p}=HE({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:k=>{const _={id:k.id,senderId:k.senderId,senderName:k.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:k.content,timestamp:v(k.createdAt),type:"text",isOwnMessage:k.senderId===s};l(A=>[...A,_])}});d.useEffect(()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})},[i]),d.useEffect(()=>{e&&N.current&&N.current.focus()},[e]),d.useEffect(()=>{r!=null&&r.roomId&&b()},[r==null?void 0:r.roomId]);const v=k=>new Date(k).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),b=async()=>{if(r!=null&&r.roomId)try{m(!0),w(null);const _=(await a(r.roomId)).data.map(A=>({id:A.id,senderId:A.senderId,senderName:A.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:A.content,timestamp:v(A.createdAt),type:"text",isOwnMessage:A.senderId===s}));l(_)}catch(k){console.error("Error loading messages:",k),w("   .")}finally{m(!1)}},j=()=>{!c.trim()||!r||!g||(console.log("Sending message via WebSocket:",c.trim()),p(c.trim()),u(""))},C=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),j())},T=k=>k;return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(L,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(io,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Me,{className:"h-8 w-8",children:[o.jsx($e,{src:r.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsx("p",{className:"text-xs text-white/60",children:r.isOnline?"":""})]})]})]}),o.jsx(L,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(vn,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx($E,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[f&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),y&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:y}),!f&&!y&&i.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),i.map((k,_)=>{const A=_===0||i[_-1].timestamp!==k.timestamp||i[_-1].isOwnMessage!==k.isOwnMessage;return o.jsx("div",{className:`flex ${k.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${k.isOwnMessage?"order-2":"order-1"}`,children:[!k.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(Me,{className:"h-6 w-6",children:[o.jsx($e,{src:r.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:k.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${k.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:k.content})}),A&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${k.isOwnMessage?"text-right":"text-left"}`,children:T(k.timestamp)})]})},k.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6",children:[o.jsx($e,{src:r.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:x})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(L,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(Rf,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Le,{ref:N,value:c,onChange:k=>u(k.target.value),onKeyPress:C,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx(L,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(tN,{className:"w-4 h-4"})})]}),o.jsx(L,{onClick:j,disabled:!c.trim(),size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(Af,{className:"w-4 h-4"})})]})})]})})}var gy={exports:{}},xd={};globalThis.crypto&&globalThis.crypto.getRandomValues?xd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:xd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var GE=xd,wp="abcdefghijklmnopqrstuvwxyz012345",fo={string:function(e){for(var t=wp.length,n=GE.randomBytes(e),r=[],s=0;s<e;s++)r.push(wp.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=fo,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,l),globalThis.attachEvent("on"+i,l))},detachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,l),globalThis.detachEvent("on"+i,l))},unloadAdd:function(i){if(s)return null;var l=t.string(8);return n[l]=i,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in n&&delete n[i]},triggerUnloadCallbacks:function(){for(var i in n)n[i](),delete n[i]}};var a=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)})(gy);var Fr=gy.exports,XE=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},uh={},YE=Object.prototype.hasOwnProperty,qE;function bp(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function jp(e){try{return encodeURIComponent(e)}catch{return null}}function QE(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=bp(r[1]),a=bp(r[2]);s===null||a===null||s in n||(n[s]=a)}return n}function JE(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(YE.call(e,s)){if(r=e[s],!r&&(r===null||r===qE||isNaN(r))&&(r=""),s=jp(s),r=jp(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}uh.stringify=JE;uh.parse=QE;var vy=XE,ec=uh,ZE=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,xy=/[\n\r\t]/g,e4=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,yy=/:\d+$/,t4=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,n4=/^[a-zA-Z]:/;function dh(e){return(e||"").toString().replace(ZE,"")}var yd=[["#","hash"],["?","query"],function(t,n){return In(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Np={hash:1,query:1};function wy(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,a;if(e.protocol==="blob:")r=new Ln(unescape(e.pathname),{});else if(s==="string"){r=new Ln(e,{});for(a in Np)delete r[a]}else if(s==="object"){for(a in e)a in Np||(r[a]=e[a]);r.slashes===void 0&&(r.slashes=e4.test(e.href))}return r}function In(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function by(e,t){e=dh(e),e=e.replace(xy,""),t=t||{};var n=t4.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],a=!!n[3],i=0,l;return s?a?(l=n[2]+n[3]+n[4],i=n[2].length+n[3].length):(l=n[2]+n[4],i=n[2].length):a?(l=n[3]+n[4],i=n[3].length):l=n[4],r==="file:"?i>=2&&(l=l.slice(2)):In(r)?l=n[4]:r?s&&(l=l.slice(2)):i>=2&&In(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||In(r),slashesCount:i,rest:l}}function r4(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],a=!1,i=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),i++):i&&(r===0&&(a=!0),n.splice(r,1),i--);return a&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function Ln(e,t,n){if(e=dh(e),e=e.replace(xy,""),!(this instanceof Ln))return new Ln(e,t,n);var r,s,a,i,l,c,u=yd.slice(),h=typeof t,f=this,m=0;for(h!=="object"&&h!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=ec.parse),t=wy(t),s=by(e||"",t),r=!s.protocol&&!s.slashes,f.slashes=s.slashes||r&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||n4.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!In(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(i=u[m],typeof i=="function"){e=i(e,f);continue}a=i[0],c=i[1],a!==a?f[c]=e:typeof a=="string"?(l=a==="@"?e.lastIndexOf(a):e.indexOf(a),~l&&(typeof i[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+i[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=a.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||r&&i[3]&&t[c]||"",i[4]&&(f[c]=f[c].toLowerCase())}n&&(f.query=n(f.query)),r&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=r4(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&In(f.protocol)&&(f.pathname="/"+f.pathname),vy(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&In(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function s4(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||ec.parse)(t)),r[e]=t;break;case"port":r[e]=t,vy(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,yy.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(r.username=t.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var i=0;i<yd.length;i++){var l=yd[i];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&In(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function o4(e){(!e||typeof e!="function")&&(e=ec.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var a=s+(n.protocol&&n.slashes||In(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):n.protocol!=="file:"&&In(n.protocol)&&!r&&n.pathname!=="/"&&(a+="@"),(r[r.length-1]===":"||yy.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(a+=n.hash),a}Ln.prototype={set:s4,toString:o4};Ln.extractProtocol=by;Ln.location=wy;Ln.trimLeft=dh;Ln.qs=ec;var jy=Ln,a4=jy,nn={getOrigin:function(e){if(!e)return null;var t=new a4(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},wd={exports:{}};typeof Object.create=="function"?wd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:wd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var Se=wd.exports,jt={};function tc(){this._listeners={}}tc.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};tc.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};tc.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var Ny=tc,i4=Se,nc=Ny;function Or(){nc.call(this)}i4(Or,nc);Or.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Or.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Or.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var a=0;a<t.length;a++)t[a].apply(this,r)}};Or.prototype.on=Or.prototype.addListener=nc.prototype.addEventListener;Or.prototype.removeListener=nc.prototype.removeEventListener;jt.EventEmitter=Or;var bd={exports:{}},Sp=globalThis.WebSocket||globalThis.MozWebSocket;Sp?bd.exports=function(t){return new Sp(t)}:bd.exports=void 0;var l4=bd.exports,Sy=Fr,c4=nn,u4=Se,ky=jt.EventEmitter,Cy=l4,kp=function(){};function ar(e,t,n){if(!ar.enabled())throw new Error("Transport created when disabled");ky.call(this);var r=this,s=c4.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new Cy(this.url,[],n),this.ws.onmessage=function(a){kp("message event",a.data),r.emit("message",a.data)},this.unloadRef=Sy.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(a){kp("close event",a.code,a.reason),r.emit("close",a.code,a.reason),r._cleanup()},this.ws.onerror=function(a){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}u4(ar,ky);ar.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};ar.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};ar.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),Sy.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};ar.enabled=function(){return!!Cy};ar.transportName="websocket";ar.roundTrips=2;var d4=ar,f4=Se,Ey=jt.EventEmitter,h4=function(){};function gs(e,t){Ey.call(this),this.sendBuffer=[],this.sender=t,this.url=e}f4(gs,Ey);gs.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};gs.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};gs.prototype.sendSchedule=function(){h4("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};gs.prototype._cleanup=function(){this.removeAllListeners()};gs.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var m4=gs,p4=Se,Ty=jt.EventEmitter,g4=function(){};function rc(e,t,n){Ty.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}p4(rc,Ty);rc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){g4("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};rc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var v4=rc,x4=Se,y4=nn,fh=m4,w4=v4;function hh(e,t,n,r,s){var a=y4.addPath(e,t),i=this;fh.call(this,e,n),this.poll=new w4(r,a,s),this.poll.on("message",function(l){i.emit("message",l)}),this.poll.once("close",function(l,c){i.poll=null,i.emit("close",l,c),i.close()})}x4(hh,fh);hh.prototype.close=function(){fh.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var _y=hh,b4=Se,j4=nn,Ry=_y;function N4(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var a=j4.addPath(t,"/xhr_send"),i=new e("POST",a,n,s);return i.once("finish",function(l){if(i=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){i.close(),i=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function Py(e,t,n,r){Ry.call(this,e,t,N4(r),n,r)}b4(Py,Ry);var ho=Py,S4=Se,Ay=jt.EventEmitter;function Pa(e,t){Ay.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var a=r===200?"network":"permanent";n.emit("close",null,a),n._cleanup()})}S4(Pa,Ay);Pa.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};Pa.prototype._cleanup=function(){this.removeAllListeners()};Pa.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var sc=Pa,Iy=jt.EventEmitter,k4=Se,Oy=Fr,C4=nn,ba=globalThis.XMLHttpRequest,qc=function(){};function Mn(e,t,n,r){var s=this;Iy.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}k4(Mn,Iy);Mn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new ba}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=C4.addQuery(t,"t="+ +new Date),this.unloadRef=Oy.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){qc("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Mn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var a in r.headers)this.xhr.setRequestHeader(a,r.headers[a]);this.xhr.onreadystatechange=function(){if(s.xhr){var i=s.xhr,l,c;switch(qc("readyState",i.readyState),i.readyState){case 3:try{c=i.status,l=i.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=i.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),qc("finish",c,i.responseText),s.emit("finish",c,i.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Mn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Oy.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Mn.prototype.close=function(){this._cleanup(!0)};Mn.enabled=!!ba;var Cp=["Active"].concat("Object").join("X");!Mn.enabled&&Cp in globalThis&&(ba=function(){try{return new globalThis[Cp]("Microsoft.XMLHTTP")}catch{return null}},Mn.enabled=!!new ba);var Dy=!1;try{Dy="withCredentials"in new ba}catch{}Mn.supportsCORS=Dy;var Ly=Mn,E4=Se,jl=Ly;function mh(e,t,n,r){jl.call(this,e,t,n,r)}E4(mh,jl);mh.enabled=jl.enabled&&jl.supportsCORS;var oc=mh,T4=Se,ph=Ly;function gh(e,t,n){ph.call(this,e,t,n,{noCredentials:!0})}T4(gh,ph);gh.enabled=ph.enabled;var Aa=gh,Ia={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},_4=Se,My=ho,R4=sc,jd=oc,P4=Aa,A4=Ia;function mo(e){if(!P4.enabled&&!jd.enabled)throw new Error("Transport created when disabled");My.call(this,e,"/xhr_streaming",R4,jd)}_4(mo,My);mo.enabled=function(e){return e.nullOrigin||A4.isOpera()?!1:jd.enabled};mo.transportName="xhr-streaming";mo.roundTrips=2;mo.needBody=!!globalThis.document;var I4=mo,$y=jt.EventEmitter,O4=Se,zy=Fr,D4=Ia,L4=nn,M4=function(){};function vs(e,t,n){var r=this;$y.call(this),setTimeout(function(){r._start(e,t,n)},0)}O4(vs,$y);vs.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=L4.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){M4("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=zy.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};vs.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};vs.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),zy.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};vs.prototype.close=function(){this._cleanup(!0)};vs.enabled=!!(globalThis.XDomainRequest&&D4.hasDomain());var vh=vs,$4=Se,Fy=ho,z4=sc,Nd=vh;function Oa(e){if(!Nd.enabled)throw new Error("Transport created when disabled");Fy.call(this,e,"/xhr_streaming",z4,Nd)}$4(Oa,Fy);Oa.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Nd.enabled&&e.sameScheme};Oa.transportName="xdr-streaming";Oa.roundTrips=2;var By=Oa,Uy=globalThis.EventSource,F4=Se,Wy=jt.EventEmitter,B4=Uy,Ep=function(){};function Da(e){Wy.call(this);var t=this,n=this.es=new B4(e);n.onmessage=function(r){Ep("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){Ep("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}F4(Da,Wy);Da.prototype.abort=function(){this._cleanup(),this._close("user")};Da.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Da.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var U4=Da,W4=Se,Vy=ho,V4=U4,H4=oc,K4=Uy;function po(e){if(!po.enabled())throw new Error("Transport created when disabled");Vy.call(this,e,"/eventsource",V4,H4)}W4(po,Vy);po.enabled=function(){return!!K4};po.transportName="eventsource";po.roundTrips=2;var Tp=po,Qc,_p;function Hy(){return _p||(_p=1,Qc="1.6.1"),Qc}var Ky={exports:{}};(function(e){var t=Fr,n=Ia;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var a=globalThis.document.createElement("iframe"),i,l,c=function(){clearTimeout(i);try{a.onload=null}catch{}a.onerror=null},u=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},h=function(m){a&&(u(),s(m))},f=function(m,y){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(m,y)}catch{}},0)};return a.src=r,a.style.display="none",a.style.position="absolute",a.onerror=function(){h("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(a),i=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var a=["Active"].concat("Object").join("X"),i=new globalThis[a]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){i&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=i=null,CollectGarbage())},m=function(x){i&&(f(),s(x))},y=function(x,N){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,N)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=i.createElement("div");return i.body.appendChild(w),u=i.createElement("iframe"),w.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(f),{post:y,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(Ky);var La=Ky.exports,G4=Se,Gy=jt.EventEmitter,X4=Hy(),Sd=nn,Xy=La,Yy=Fr,Y4=fo,Ao=function(){};function Bn(e,t,n){if(!Bn.enabled())throw new Error("Transport created when disabled");Gy.call(this);var r=this;this.origin=Sd.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=Y4.string(8);var s=Sd.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Xy.createIframe(s,function(a){r.emit("close",1006,"Unable to load an iframe ("+a+")"),r.close()}),this.onmessageCallback=this._message.bind(this),Yy.attachEvent("message",this.onmessageCallback)}G4(Bn,Gy);Bn.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){Yy.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};Bn.prototype._message=function(e){if(Ao("message",e.data),!Sd.isOriginEqual(e.origin,this.origin)){Ao("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Ao("bad json",e.data);return}if(t.windowId!==this.windowId){Ao("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([X4,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Ao("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};Bn.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};Bn.prototype.send=function(e){this.postMessage("m",e)};Bn.enabled=function(){return Xy.iframeEnabled};Bn.transportName="iframe";Bn.roundTrips=2;var qy=Bn,xh={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},q4=Se,wi=qy,Q4=xh,Jc=function(e){function t(n,r){wi.call(this,e.transportName,n,r)}return q4(t,wi),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=Q4.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&wi.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=wi.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},J4=Se,Gr=La,Z4=nn,Qy=jt.EventEmitter,eT=fo,tT=function(){};function wn(e){Qy.call(this);var t=this;Gr.polluteGlobalNamespace(),this.id="a"+eT.string(6),e=Z4.addQuery(e,"c="+decodeURIComponent(Gr.WPrefix+"."+this.id)),tT("using htmlfile",wn.htmlfileEnabled);var n=wn.htmlfileEnabled?Gr.createHtmlfile:Gr.createIframe;globalThis[Gr.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}J4(wn,Qy);wn.prototype.abort=function(){this._cleanup(),this._close("user")};wn.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Gr.WPrefix][this.id]};wn.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};wn.htmlfileEnabled=!1;var Rp=["Active"].concat("Object").join("X");if(Rp in globalThis)try{wn.htmlfileEnabled=!!new globalThis[Rp]("htmlfile")}catch{}wn.enabled=wn.htmlfileEnabled||Gr.iframeEnabled;var nT=wn,rT=Se,kd=nT,sT=Aa,Jy=ho;function Ma(e){if(!kd.enabled)throw new Error("Transport created when disabled");Jy.call(this,e,"/htmlfile",kd,sT)}rT(Ma,Jy);Ma.enabled=function(e){return kd.enabled&&e.sameOrigin};Ma.transportName="htmlfile";Ma.roundTrips=2;var Pp=Ma,oT=Se,Zy=ho,aT=sc,Cd=oc,ew=Aa;function $a(e){if(!ew.enabled&&!Cd.enabled)throw new Error("Transport created when disabled");Zy.call(this,e,"/xhr",aT,Cd)}oT($a,Zy);$a.enabled=function(e){return e.nullOrigin?!1:ew.enabled&&e.sameOrigin?!0:Cd.enabled};$a.transportName="xhr-polling";$a.roundTrips=2;var Ap=$a,iT=Se,tw=ho,lT=By,cT=sc,Ip=vh;function za(e){if(!Ip.enabled)throw new Error("Transport created when disabled");tw.call(this,e,"/xhr",cT,Ip)}iT(za,tw);za.enabled=lT.enabled;za.transportName="xdr-polling";za.roundTrips=2;var uT=za,Qo=La,nw=fo,dT=Ia,fT=nn,hT=Se,rw=jt.EventEmitter,mT=function(){};function en(e){var t=this;rw.call(this),Qo.polluteGlobalNamespace(),this.id="a"+nw.string(6);var n=fT.addQuery(e,"c="+encodeURIComponent(Qo.WPrefix+"."+this.id));globalThis[Qo.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},en.timeout)}hT(en,rw);en.prototype.abort=function(){if(globalThis[Qo.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};en.timeout=35e3;en.scriptErrorTimeout=1e3;en.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};en.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};en.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[Qo.WPrefix][this.id]};en.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},en.scriptErrorTimeout))};en.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+nw.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(mT("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(dT.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var pT=en,gT=fo,Op=nn,vT=function(){},$t,Jo;function xT(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function yT(){$t=globalThis.document.createElement("form"),$t.style.display="none",$t.style.position="absolute",$t.method="POST",$t.enctype="application/x-www-form-urlencoded",$t.acceptCharset="UTF-8",Jo=globalThis.document.createElement("textarea"),Jo.name="d",$t.appendChild(Jo),globalThis.document.body.appendChild($t)}var wT=function(e,t,n){$t||yT();var r="a"+gT.string(8);$t.target=r,$t.action=Op.addQuery(Op.addPath(e,"/jsonp_send"),"i="+r);var s=xT(r);s.id=r,s.style.display="none",$t.appendChild(s);try{Jo.value=t}catch{}$t.submit();var a=function(i){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),Jo.value="",n(i))};return s.onerror=function(){a()},s.onload=function(){a()},s.onreadystatechange=function(i){vT("onreadystatechange",r,s.readyState),s.readyState==="complete"&&a()},function(){a(new Error("Aborted"))}},bT=Se,sw=_y,jT=pT,NT=wT;function xs(e){if(!xs.enabled())throw new Error("Transport created when disabled");sw.call(this,e,"/jsonp",NT,jT)}bT(xs,sw);xs.enabled=function(){return!!globalThis.document};xs.transportName="jsonp-polling";xs.roundTrips=1;xs.needBody=!0;var ST=xs,kT=[d4,I4,By,Tp,Jc(Tp),Pp,Jc(Pp),Ap,uT,Jc(Ap),ST],ja=Array.prototype,yh=Object.prototype,CT=Function.prototype,Na=String.prototype,Zc=ja.slice,wh=yh.toString,ow=function(e){return yh.toString.call(e)==="[object Function]"},ET=function(t){return wh.call(t)==="[object Array]"},aw=function(t){return wh.call(t)==="[object String]"},TT=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Ed;TT?Ed=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:Ed=function(e,t,n,r){!r&&t in e||(e[t]=n)};var Fa=function(e,t,n){for(var r in t)yh.hasOwnProperty.call(t,r)&&Ed(e,r,t[r],n)},iw=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function _T(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function RT(e){return e>>>0}function eu(){}Fa(CT,{bind:function(t){var n=this;if(!ow(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Zc.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(Zc.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Zc.call(arguments)))},a=Math.max(0,n.length-r.length),i=[],l=0;l<a;l++)i.push("$"+l);var c=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(eu.prototype=n.prototype,c.prototype=new eu,eu.prototype=null),c}});Fa(Array,{isArray:ET});var Dp=Object("a"),lw=Dp[0]!=="a"||!(0 in Dp),PT=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,a,i){typeof i!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};Fa(ja,{forEach:function(t){var n=iw(this),r=lw&&aw(this)?this.split(""):n,s=arguments[1],a=-1,i=r.length>>>0;if(!ow(t))throw new TypeError;for(;++a<i;)a in r&&t.call(s,r[a],a,n)}},!PT(ja.forEach));var AT=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Fa(ja,{indexOf:function(t){var n=lw&&aw(this)?this.split(""):iw(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=_T(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},AT);var Lp=Na.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;Na.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(wh.call(t)!=="[object RegExp]")return Lp.call(this,t,n);var s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),i=0,l,c,u,h;for(t=new RegExp(t.source,a+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",a)),n=n===void 0?-1>>>0:RT(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>i&&(s.push(r.slice(i,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<r.length&&ja.push.apply(s,c.slice(1)),h=c[0].length,i=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return i===r.length?(h||!t.test(""))&&s.push(""):s.push(r.slice(i)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&(Na.split=function(t,n){return t===void 0&&n===0?[]:Lp.call(this,t,n)});var IT=Na.substr,OT="".substr&&"0b".substr(-1)!=="b";Fa(Na,{substr:function(t,n){return IT.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},OT);var bi=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,tu,DT=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},LT={quote:function(e){var t=JSON.stringify(e);return bi.lastIndex=0,bi.test(t)?(tu||(tu=DT(bi)),t.replace(bi,function(n){return tu[n]})):t}},nu=function(){},MT=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){nu("not in whitelist",s.transportName);return}s.enabled(n)?(nu("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):nu("disabled",s.transportName)}}),r}}},Td={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}Td[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:Td.log});var $T=Td;function ys(e){this.type=e}ys.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};ys.prototype.stopPropagation=function(){};ys.prototype.preventDefault=function(){};ys.CAPTURING_PHASE=1;ys.AT_TARGET=2;ys.BUBBLING_PHASE=3;var bh=ys,cw=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},zT=Se,uw=bh;function dw(){uw.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}zT(dw,uw);var FT=dw,BT=Se,fw=bh;function hw(e){fw.call(this),this.initEvent("message",!1,!1),this.data=e}BT(hw,fw);var UT=hw,mw=jt.EventEmitter,WT=Se;function Ba(){var e=this;mw.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Ba.timeout)}WT(Ba,mw);Ba.prototype.close=function(){clearTimeout(this.to)};Ba.timeout=2e3;var VT=Ba,pw=jt.EventEmitter,HT=Se,KT=xh;function jh(e,t){pw.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,a){var i,l;if(s===200){if(l=+new Date-r,a)try{i=JSON.parse(a)}catch{}KT.isObject(i)||(i={})}n.emit("finish",i,l),n.removeAllListeners()})}HT(jh,pw);jh.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var gw=jh,ru,Mp;function vw(){if(Mp)return ru;Mp=1;var e=Se,t=jt.EventEmitter,n=Aa,r=gw;function s(a){var i=this;t.call(this),this.ir=new r(a,n),this.ir.once("finish",function(l,c){i.ir=null,i.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},ru=s,ru}var xw=jt.EventEmitter,GT=Se,XT=Fr,yw=qy,YT=vw();function ac(e,t){var n=this;xw.call(this);var r=function(){var s=n.ifr=new yw(YT.transportName,t,e);s.once("message",function(a){if(a){var i;try{i=JSON.parse(a)}catch{n.emit("finish"),n.close();return}var l=i[0],c=i[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():XT.attachEvent("load",r)}GT(ac,xw);ac.enabled=function(){return yw.enabled()};ac.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var qT=ac,ww=jt.EventEmitter,QT=Se,JT=nn,$p=vh,zp=oc,ZT=Aa,e_=VT,Fp=qT,ji=gw;function qn(e,t){var n=this;ww.call(this),setTimeout(function(){n.doXhr(e,t)},0)}QT(qn,ww);qn._getReceiver=function(e,t,n){return n.sameOrigin?new ji(t,ZT):zp.enabled?new ji(t,zp):$p.enabled&&n.sameScheme?new ji(t,$p):Fp.enabled()?new Fp(e,t):new ji(t,e_)};qn.prototype.doXhr=function(e,t){var n=this,r=JT.addPath(e,"/info");this.xo=qn._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},qn.timeout),this.xo.once("finish",function(s,a){n._cleanup(!0),n.emit("finish",s,a)})};qn.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};qn.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};qn.timeout=8e3;var t_=qn,su,Bp;function n_(){if(Bp)return su;Bp=1;var e=La;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},su=t,su}var ou,Up;function r_(){if(Up)return ou;Up=1;var e=nn,t=Fr,n=n_(),r=vw(),s=La,a=cw,i=function(){};return ou=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[r.transportName]=r;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=a.hash.slice(1);var m=function(y){if(y.source===parent&&(typeof h>"u"&&(h=y.origin),y.origin===h)){var w;try{w=JSON.parse(y.data)}catch{i("bad json",y.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{i("bad json",w.data);break}var N=x[0],g=x[1],p=x[2],v=x[3];if(N!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+N+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(p,a.href)||!e.isOriginEqual(v,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+p+", "+v+")");f=new n(new u[g](p,v));break;case"m":f._send(w.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},ou}var s_=jy,o_=Se,Wp=fo,a_=LT,Fo=nn,i_=Fr,l_=MT,c_=xh,u_=Ia,d_=$T,Nh=bh,bw=Ny,Ni=cw,f_=FT,Vp=UT,h_=t_,On=function(){},jw;function je(e,t,n){if(!(this instanceof je))return new je(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");bw.call(this),this.readyState=je.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&d_.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Wp.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Wp.numberString(1e3);var s=new s_(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a=s.protocol==="https:";if(Ni.protocol==="https:"&&!a&&!Fo.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var i=t.sort();i.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<i.length-1&&c===i[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Fo.getOrigin(Ni.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,On("using url",this.url),this._urlInfo={nullOrigin:!u_.hasDomain(),sameOrigin:Fo.isOriginEqual(this.url,Ni.href),sameScheme:Fo.isSchemeEqual(this.url,Ni.href)},this._ir=new h_(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}o_(je,bw);function Nw(e){return e===1e3||e>=3e3&&e<=4999}je.prototype.close=function(e,t){if(e&&!Nw(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===je.CLOSING||this.readyState===je.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};je.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===je.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===je.OPEN&&this._transport.send(a_.quote(e))};je.version=Hy();je.CONNECTING=0;je.OPEN=1;je.CLOSING=2;je.CLOSED=3;je.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=c_.extend(e,this._urlInfo);var n=jw.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,On(this._transports.length+" enabled transports"),this._connect()};je.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(On("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),i_.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=Fo.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};je.prototype._transportTimeout=function(){this.readyState===je.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};je.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new Nh("heartbeat")),On("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(a){On("message",t.transport),t.dispatchEvent(new Vp(a))});break;case"m":On("message",this.transport),this.dispatchEvent(new Vp(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};je.prototype._transportClose=function(e,t){if(On("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Nw(e)&&e!==2e3&&this.readyState===je.CONNECTING){this._connect();return}this._close(e,t)};je.prototype._open=function(){On("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===je.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=je.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new Nh("open")),On("connected",this.transport)):this._close(1006,"Server lost session")};je.prototype._close=function(e,t,n){On("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===je.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=je.CLOSING,setTimeout((function(){this.readyState=je.CLOSED,r&&this.dispatchEvent(new Nh("error"));var s=new f_;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};je.prototype.countRTO=function(e){return e>100?4*e:300+e};var m_=function(e){return jw=l_(e),r_()(je,e),je},p_=kT,g_=m_(p_);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const v_=Id(g_);function x_({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:a,onError:i}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),m=d.useRef(),[y,w]=d.useState(0),x=3,N=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const j=N();console.log("WebSocket   - :",j?"":""),j||console.warn("      ()"),h("connecting"),console.log("WebSocket  :",{url:"http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws",token:j?`${j.substring(0,10)}...`:"null"});const C=new py({webSocketFactory:()=>new v_("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws"),connectHeaders:j?{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",j?{Authorization:`Bearer ${j.substring(0,10)}...`}:{token:"none"})},debug:T=>{console.log("STOMP Debug:",T)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),h("connected"),w(0),C.subscribe(`/topic/rooms/${e}/chat`,T=>{try{const k=JSON.parse(T.body);n==null||n(k)}catch(k){console.error("   :",k)}}),C.subscribe(`/topic/rooms/${e}/participants`,T=>{try{const k=JSON.parse(T.body);r==null||r(k),h("connected"),c(!0)}catch(k){console.error("   :",k)}}),C.subscribe(`/topic/rooms/${e}/video`,T=>{try{const k=JSON.parse(T.body);s==null||s(k)}catch(k){console.error("    :",k)}}),C.subscribe("/user/queue/sync",T=>{try{const k=JSON.parse(T.body);(!("participantsInfoDto"in k)||!k.participantsInfoDto)&&(k.participantsInfoDto={participantDtoList:[],participantCount:0}),a==null||a(k),h("connected"),c(!0)}catch(k){console.error("    :",k)}}),C.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),h("disconnected")},onStompError:T=>{var k;console.error(" STOMP :",{message:T.headers.message,body:T.body,headers:T.headers}),(k=T.headers.message)!=null&&k.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),i==null||i("    .  .")):i==null||i(` : ${T.headers.message}`),h("error"),y<x&&(w(_=>_+1),m.current=setTimeout(()=>{g()},5e3*y))},onWebSocketError:T=>{console.error(" WebSocket :",T),h("error"),i==null||i("WebSocket   ."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=C,C.activate()},[e,t,n,r,s,a,i]),p=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),m.current&&clearTimeout(m.current),c(!1),h("disconnected"),w(0)},[e,t]),v=d.useCallback(j=>{var T;if(!((T=f.current)!=null&&T.connected)){i==null||i("WebSocket  .");return}const C={chatRoomId:e,content:j};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(C)})},[e,i]),b=d.useCallback(j=>{var C;if(!((C=f.current)!=null&&C.connected)){i==null||i("WebSocket  .");return}f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(j)})},[e,i]);return d.useEffect(()=>{const j=T=>{if(l)return T.preventDefault(),T.returnValue=" ?"," ?"},C=()=>{p()};return window.addEventListener("beforeunload",j),window.addEventListener("unload",C),()=>{window.removeEventListener("beforeunload",j),window.removeEventListener("unload",C)}},[l,p]),d.useEffect(()=>()=>{p()},[p]),{isConnected:l,connectionStatus:u,connect:g,disconnect:p,sendChatMessage:v,sendVideoControl:b,reconnectAttempts:y}}function y_(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(a=>({...a,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const a=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(a))},100);setTimeout(()=>{clearInterval(a),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API  "})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API   ")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API   "})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var Sw=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(Sw||{}),Ss=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Ss||{});function w_({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s}){const[a,i]=d.useState(null),[l,c]=d.useState(!1),u=d.useRef(null),h=d.useRef(!1),f=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:C=>{console.log("YouTube Player Ready"),c(!0),u.current=C.target,i(C.target)},onStateChange:C=>{const T=C.data,k=Math.floor(C.target.getCurrentTime());let _,A=!1;switch(T){case window.YT.PlayerState.PLAYING:_=Ss.PLAY,A=!0;break;case window.YT.PlayerState.PAUSED:_=Ss.PAUSE,A=!1;break;default:return}console.log("YouTube Player State Change:",{state:T,currentTime:k,isPlaying:A,isHost:n}),n&&!h.current&&(r==null||r(A,k,_))},onError:C=>{console.error("YouTube Player Error:",C.data);let T="YouTube   .";switch(C.data){case 2:T="  ID.";break;case 5:T="HTML5   .";break;case 100:T="   .";break;case 101:case 150:T="   .";break}s==null||s(T)}}})}catch(C){console.error("YouTube Player  :",C),s==null||s("YouTube    .")}},[e,t,n,r,s]);d.useEffect(()=>{if(window.YT&&window.YT.Player)f();else{const C=setInterval(()=>{window.YT&&window.YT.Player&&(clearInterval(C),f())},100);setTimeout(()=>{clearInterval(C),(!window.YT||!window.YT.Player)&&(s==null||s("YouTube API  "))},1e4)}},[f]);const m=d.useCallback(()=>{u.current&&l&&(h.current=!0,u.current.playVideo(),setTimeout(()=>{h.current=!1},100))},[l]),y=d.useCallback(()=>{u.current&&l&&(h.current=!0,u.current.pauseVideo(),setTimeout(()=>{h.current=!1},100))},[l]),w=d.useCallback(C=>{u.current&&l&&(h.current=!0,u.current.seekTo(C,!0),setTimeout(()=>{h.current=!1},100))},[l]),x=d.useCallback(()=>u.current&&l?Math.floor(u.current.getCurrentTime()):0,[l]),N=d.useCallback(()=>u.current&&l?Math.floor(u.current.getDuration()):0,[l]),g=d.useCallback(()=>u.current&&l?u.current.getPlayerState():Sw.UNSTARTED,[l]),p=d.useCallback(C=>{u.current&&l&&u.current.setVolume(C)},[l]),v=d.useCallback(()=>u.current&&l?u.current.getVolume():0,[l]),b=d.useCallback(()=>{u.current&&(u.current.destroy(),u.current=null,i(null),c(!1))},[]),j=d.useCallback(C=>{if(!(!u.current||!l||n)){h.current=!0;try{switch(C.action){case Ss.PLAY:u.current.seekTo(C.currentTime,!0),u.current.playVideo();break;case Ss.PAUSE:u.current.pauseVideo();break;case Ss.SEEK:u.current.seekTo(C.currentTime,!0),C.isPlaying&&u.current.playVideo();break}}catch(T){console.error("  :",T)}setTimeout(()=>{h.current=!1},100)}},[l,n]);return d.useEffect(()=>()=>{b()},[b]),{player:a,isReady:l,play:m,pause:y,seekTo:w,getCurrentTime:x,getDuration:N,getPlayerState:g,setVolume:p,getVolume:v,destroy:b,syncVideo:j}}var kw=["PageUp","PageDown"],Cw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ew={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},go="Slider",[_d,b_,j_]=Vf(go),[Tw,kR]=$n(go,[j_]),[N_,ic]=Tw(go),_w=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:w,...x}=e,N=d.useRef(new Set),g=d.useRef(0),v=i==="horizontal"?S_:k_,[b=[],j]=is({prop:h,defaultProp:u,onChange:D=>{var E;(E=[...N.current][g.current])==null||E.focus(),f(D)}}),C=d.useRef(b);function T(D){const S=R_(b,D);A(D,S)}function k(D){A(D,g.current)}function _(){const D=C.current[g.current];b[g.current]!==D&&m(b)}function A(D,S,{commit:E}={commit:!1}){const F=O_(a),W=D_(Math.round((D-r)/a)*a+r,F),R=va(W,[r,s]);j((U=[])=>{const P=T_(U,R,S);if(I_(P,c*a)){g.current=P.indexOf(R);const B=String(P)!==String(U);return B&&E&&m(P),B?P:U}else return U})}return o.jsx(N_,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:g,thumbs:N.current,values:b,orientation:i,form:w,children:o.jsx(_d.Provider,{scope:e.__scopeSlider,children:o.jsx(_d.Slot,{scope:e.__scopeSlider,children:o.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:ce(x.onPointerDown,()=>{l||(C.current=b)}),min:r,max:s,inverted:y,onSlideStart:l?void 0:T,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:_,onHomeKeyDown:()=>!l&&A(r,0,{commit:!0}),onEndKeyDown:()=>!l&&A(s,b.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:S})=>{if(!l){const W=kw.includes(D.key)||D.shiftKey&&Cw.includes(D.key)?10:1,R=g.current,U=b[R],P=a*W*S;A(U+P,R,{commit:!0})}}})})})})});_w.displayName=go;var[Rw,Pw]=Tw(go,{startEdge:"left",endEdge:"right",size:"width",direction:1}),S_=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,m]=d.useState(null),y=ve(t,v=>m(v)),w=d.useRef(void 0),x=_a(s),N=x==="ltr",g=N&&!a||!N&&a;function p(v){const b=w.current||f.getBoundingClientRect(),j=[0,b.width],T=Sh(j,g?[n,r]:[r,n]);return w.current=b,T(v-b.left)}return o.jsx(Rw,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(Aw,{dir:x,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const b=p(v.clientX);i==null||i(b)},onSlideMove:v=>{const b=p(v.clientX);l==null||l(b)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:v=>{const j=Ew[g?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:j?-1:1})}})})}),k_=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=ve(t,h),m=d.useRef(void 0),y=!s;function w(x){const N=m.current||h.current.getBoundingClientRect(),g=[0,N.height],v=Sh(g,y?[r,n]:[n,r]);return m.current=N,v(x-N.top)}return o.jsx(Rw,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(Aw,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const N=w(x.clientY);a==null||a(N)},onSlideMove:x=>{const N=w(x.clientY);i==null||i(N)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=Ew[y?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),Aw=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=ic(go,n);return o.jsx(le.span,{...u,ref:t,onKeyDown:ce(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):kw.concat(Cw).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ce(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():r(f)}),onPointerMove:ce(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ce(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),a(f))})})}),Iw="SliderTrack",Ow=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=ic(Iw,n);return o.jsx(le.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});Ow.displayName=Iw;var Rd="SliderRange",Dw=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=ic(Rd,n),a=Pw(Rd,n),i=d.useRef(null),l=ve(t,i),c=s.values.length,u=s.values.map(m=>$w(m,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(le.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:f+"%"}})});Dw.displayName=Rd;var Pd="SliderThumb",Lw=d.forwardRef((e,t)=>{const n=b_(e.__scopeSlider),[r,s]=d.useState(null),a=ve(t,l=>s(l)),i=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(C_,{...e,ref:a,index:i})}),C_=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,i=ic(Pd,n),l=Pw(Pd,n),[c,u]=d.useState(null),h=ve(t,p=>u(p)),f=c?i.form||!!c.closest("form"):!0,m=Jf(c),y=i.values[r],w=y===void 0?0:$w(y,i.min,i.max),x=__(r,i.values.length),N=m==null?void 0:m[l.size],g=N?P_(N,w,l.direction):0;return d.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(_d.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(le.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:ce(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),f&&o.jsx(Mw,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});Lw.displayName=Pd;var E_="RadioBubbleInput",Mw=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),a=ve(s,r),i=th(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(le.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});Mw.displayName=E_;function T_(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function $w(e,t,n){const a=100/(n-t)*(e-t);return va(a,[0,100])}function __(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function R_(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function P_(e,t,n){const r=e/2,a=Sh([0,50],[0,r]);return(r-a(t)*n)*n}function A_(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function I_(e,t){if(t>0){const n=A_(e);return Math.min(...n)>=t}return!0}function Sh(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function O_(e){return(String(e).split(".")[1]||"").length}function D_(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var L_=_w,M_=Ow,$_=Dw,z_=Lw;function Hp({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...a}){const i=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(L_,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:ke("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[o.jsx(M_,{"data-slot":"slider-track",className:ke("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx($_,{"data-slot":"slider-range",className:ke("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(l,c)=>o.jsx(z_,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function F_({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:a,onSeek:i,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:h=!1}){const[f,m]=d.useState([80]),[y,w]=d.useState(!1),[x,N]=d.useState(!1),[g,p]=d.useState(!1),[v,b]=d.useState(0),j=d.useRef();d.useEffect(()=>{if(e.isReady){const W=e.getVolume();m([W]),w(W===0)}},[e.isReady]),d.useEffect(()=>(x&&(j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{N(!1)},3e3)),()=>{j.current&&clearTimeout(j.current)}),[x,f]);const C=()=>{if(x){w(!y);const W=y?f[0]:0;e.setVolume(W),l(W)}else N(!0)},T=W=>{m(W);const R=W[0];w(R===0),e.setVolume(R),l(R)},k=()=>{p(!0),b(r)},_=W=>{g&&b(W[0])},A=()=>{g&&t&&(i(v),p(!1))},D=()=>{if(t){const W=Math.max(0,r-10);i(W)}},S=()=>{if(t){const W=Math.min(s,r+10);i(W)}},E=()=>y||f[0]===0?o.jsx(aN,{className:"w-5 h-5"}):f[0]<50?o.jsx(sN,{className:"w-5 h-5"}):o.jsx(oN,{className:"w-5 h-5"}),F=W=>{const R=Math.floor(W/3600),U=Math.floor(W%3600/60),P=W%60;return R>0?`${R}:${U.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`:`${U}:${P.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(Hp,{value:[g?v:r],onValueChange:_,onPointerDown:k,onPointerUp:A,max:s,step:1,disabled:h||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:F(g?v:r)}),o.jsx("span",{children:F(s)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(L,{variant:"ghost",size:"sm",onClick:D,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(Zj,{className:"w-5 h-5"})}),o.jsx(L,{variant:"ghost",size:"sm",onClick:a,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"":"":"  ",children:n?o.jsx(dx,{className:"w-5 h-5"}):o.jsx(wt,{className:"w-5 h-5"})}),o.jsx(L,{variant:"ghost",size:"sm",onClick:S,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(eN,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(L,{variant:"ghost",size:"sm",onClick:C,className:"hover:bg-white/10",title:" ",children:E()}),x&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(Hp,{value:f,onValueChange:T,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[f[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(Mo,{className:"w-4 h-4 mr-1"}),"  "]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(L,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"",children:o.jsx(qj,{className:"w-5 h-5"})}),o.jsx(L,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?" ":"",children:u?o.jsx(Xj,{className:"w-5 h-5"}):o.jsx(Gj,{className:"w-5 h-5"})})]})]})]})}var zw=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(zw||{});function B_(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function U_({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var M;const[a,i]=d.useState(!1),{isLoaded:l}=y_(!0),[c,u]=d.useState(!0),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(null),[N,g]=d.useState(null),[p,v]=d.useState([]),[b,j]=d.useState([]),[C,T]=d.useState(!1),[k,_]=d.useState(!0),[A,D]=d.useState(null),[S,E]=d.useState(null),F=d.useRef(null),W=N!=null&&N.duration?parseInt(N.duration):7200,[R,U]=d.useState(!1),[P,B]=d.useState(0),V=S?B_(S):null,Y=w_({videoId:V||"",containerId:"youtube-player-container",isHost:C,onStateChange:(O,G,H)=>{console.log(" Video state changed:",{isPlaying:O,currentTime:G,action:H,isHost:C,isConnected:se}),U(O),B(G),C&&se&&(console.log(" Sending video control to server:",{action:H,currentTime:G}),de({videoControlAction:H,currentTime:G}))},onError:O=>{console.error("YouTube Player Error:",O),D(O)}}),te=!!(V&&l),{isConnected:se,connectionStatus:me,connect:Te,disconnect:ye,sendChatMessage:ne,sendVideoControl:de,reconnectAttempts:he}=x_({roomId:e,userId:n,onChatMessage:O=>{j(G=>[...G,O])},onParticipantsUpdate:O=>{console.log(" Participants updated:",O);const G=(O.participantDtoList??[]).map(J=>({userId:J.userId??J.username??"",userName:J.userName??J.username??"",userAvatar:J.userAvatar??J.profile??"",isHost:J.isHost??J.isOwner??!1,isOnline:J.isOnline??!0,joinedAt:J.joinedAt??""}));v(G);const H=G.find(J=>J.userId===n),re=(H==null?void 0:H.isHost)||!1;console.log(" Host status check:",{currentUserId:n,currentUserParticipant:H,newIsHost:re,allParticipants:G}),T(re),!se&&typeof Te=="function"&&Te()},onVideoSync:O=>{Date.now()-O.timestamp<5e3&&!C&&(console.log("Video sync received:",O),Y.syncVideo&&Y.syncVideo({action:O.videoControlAction,currentTime:O.currentTime,isPlaying:O.isPlaying}),U(O.isPlaying),B(O.currentTime))},onRoomSync:O=>{var be;console.log(" Room sync received:",O);const G={id:O.id,title:O.title,contentTitle:O.content.title,ownerId:"",ownerName:"",createdAt:"",headCount:O.participantsInfoDto.participantsCount||O.participantsInfoDto.participantCount};x(G),g(O.content);const re=(O.participantsInfoDto.participantDtoList||[]).map(ie=>({userId:ie.userId??ie.username??"",userName:ie.userName??ie.username??"",userAvatar:ie.userAvatar??ie.profile??"",isHost:ie.isHost??ie.isOwner??!1,isOnline:ie.isOnline??!0,joinedAt:ie.joinedAt??""}));v(re),j(O.chatMessages??[]);const J=re.find(ie=>ie.userId===n),fe=(J==null?void 0:J.isHost)||!1;console.log(" Host status check (room sync):",{currentUserId:n,currentUserParticipant:J,newIsHost:fe,allParticipants:re}),T(fe),(be=O.content)!=null&&be.youtubeUrl?(console.log(" Setting YouTube URL from content.youtubeUrl:",O.content.youtubeUrl),E(O.content.youtubeUrl)):(console.warn(" No content.youtubeUrl provided, using fallback"),E("https://www.youtube.com/watch?v=ZnR0JiQGxRE&t=131s")),_(!1)},onError:O=>{D(O)}});d.useEffect(()=>{(async()=>{var G;_(!0),D(null);try{const H=await zl.joinWatchRoom(e),re={id:H.id,title:H.title,contentTitle:H.content.title,ownerId:"",ownerName:"",createdAt:"",headCount:H.participantsInfoDto.participantsCount||H.participantsInfoDto.participantCount};x(re),g(H.content),console.log(" Initial host status set to false (will be updated via WebSocket)"),T(!1),U(!1),B(0),j([]),(G=H.content)!=null&&G.youtubeUrl?(console.log(" Initial: Setting YouTube URL from content.youtubeUrl:",H.content.youtubeUrl),E(H.content.youtubeUrl)):(console.warn(" Initial: No content.youtubeUrl provided, using fallback"),E("https://www.youtube.com/watch?v=ZnR0JiQGxRE&t=131s")),r&&Te()}catch(H){console.error("Failed to load room data:",H),D(H instanceof Error?H.message:"     .")}finally{_(!1)}})()},[e,n]),d.useEffect(()=>()=>{ye()},[ye]),d.useEffect(()=>{var O;(O=F.current)==null||O.scrollIntoView({behavior:"smooth"})},[b]);const I=()=>{if(console.log(" Play/Pause button clicked:",{isHost:C,isPlaying:R,isConnected:se,canUsePlayer:te}),!C){console.log(" Not host, cannot control video");return}if(!te){console.log(" Player not ready, cannot control video");return}R?(console.log(" Pausing video"),Y.pause()):(console.log(" Playing video"),Y.play())},Q=O=>{if(console.log(" Seek requested:",{isHost:C,seconds:O,isConnected:se,canUsePlayer:te}),!C){console.log(" Not host, cannot seek video");return}if(!te){console.log(" Player not ready, cannot seek video");return}console.log(" Seeking to:",O),Y.seekTo(O),de({videoControlAction:zw.SEEK,currentTime:O})},ue=O=>{Y.setVolume(O),console.log(`Volume changed to: ${O}%`)},_e=()=>{i(!a),u(!!a)},We=()=>{!m.trim()||!se||(ne(m),console.log("Sending message:",m),y(""))},at=O=>new Date(O).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return k?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(qt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!r&&!se?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:(w==null?void 0:w.contentTitle)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ft,{className:"w-4 h-4"}),o.jsxs("span",{children:[(w==null?void 0:w.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nd,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(L,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs(L,{onClick:Te,className:"teal-gradient hover:opacity-80 text-black",children:[me==="connecting"?o.jsx(qt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ft,{className:"w-4 h-4 mr-2"})," "]})]})]})}):A?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:A}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(L,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx(L,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):w?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!a&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(L,{variant:"ghost",onClick:t,className:"hover:bg-white/10",children:[o.jsx(io,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:w.title}),C&&o.jsxs(dt,{variant:"secondary",className:"text-xs",children:[o.jsx(Mo,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:N?N.title:w.contentTitle}),N&&N.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:N.contentType})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ft,{className:"w-4 h-4"}),o.jsxs("span",{children:[p.filter(O=>O.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[se?o.jsx(lN,{className:"w-4 h-4 text-green-400"}):o.jsx(iN,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:se?"text-green-400":"text-yellow-400",children:se?"":me==="connecting"?" ":" "}),he>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",he,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(L,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(nd,{className:"w-5 h-5"}),c?o.jsx(hr,{className:"w-4 h-4 ml-1"}):o.jsx(qo,{className:"w-4 h-4 ml-1"})]})})]}),!se&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:me==="connecting"?"   ...":me==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(qt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API  ..."})]})}),l&&!V&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[N&&N.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:N.thumbnailUrl,alt:N.title,className:"w-full h-full object-cover",onError:O=>{const G=O.target;G.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(wt,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60",children:N?`${N.title}  ...`:"   ..."})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:te?"block":"none"}}),!te&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((M=w==null?void 0:w.contentTitle)==null?void 0:M.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center group",children:[o.jsx(L,{size:"lg",onClick:I,disabled:!C,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${C?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,children:R?o.jsx(dx,{className:"w-10 h-10 fill-current"}):o.jsx(wt,{className:"w-10 h-10 fill-current ml-1"})}),!C&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(Mo,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsx(F_,{playerController:Y,isHost:C,isPlaying:R,currentTime:P,totalDuration:W,onPlayPause:I,onSeek:Q,onVolumeChange:ue,onFullscreenToggle:_e,isFullscreen:a,disabled:!se||!te}),a&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>f(!h),className:"p-1 hover:bg-white/10",children:o.jsx(ft,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[p.filter(O=>O.isOnline).length,"  "]})]}),h&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${p.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:p.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):p.map(O=>{var G;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{O.userId!==n&&s&&s(O.userId)},children:[o.jsx($e,{src:O.userAvatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:((G=O.userName)==null?void 0:G.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${O.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{O.userId!==n&&s&&s(O.userId)},children:O.userName}),O.isHost&&o.jsxs(dt,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(Mo,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${O.isOnline?"bg-green-400":"bg-gray-400"}`})]},O.userId+O.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[k&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),b.map(O=>{var G,H;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx($e,{src:(G=p.find(re=>re.userId===O.senderId))==null?void 0:G.userAvatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:O.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:O.senderName}),((H=p.find(re=>re.userId===O.senderId))==null?void 0:H.isHost)&&o.jsx(Mo,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:at(O.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:O.content})]})]})},O.id)}),o.jsx("div",{ref:F})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Le,{placeholder:se?" ...":"  ...",value:m,onChange:O=>y(O.target.value),onKeyPress:O=>O.key==="Enter"&&We(),disabled:!se,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx(L,{onClick:We,disabled:!m.trim()||!se,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(Af,{className:"w-4 h-4"})})]})})]})})]})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function W_({onJoinRoom:e,onCreateRoom:t,onUserProfileOpen:n,currentUserId:r}){const[s,a]=d.useState(""),[i,l]=d.useState("participants"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,y]=d.useState(null),[w,x]=d.useState(!1),[N,g]=d.useState(null),p=async(k=!0)=>{try{k?f(!0):x(!0),y(null);const _=await zl.getWatchRooms({query:s,sortBy:i==="participants"?"participantCount":"createdAt"});u(_)}catch(_){console.error("   :",_),y(_ instanceof Error?_.message:"     .")}finally{f(!1),x(!1)}};d.useEffect(()=>{const k=setTimeout(()=>{p(!1)},300);return()=>clearTimeout(k)},[s,i]),d.useEffect(()=>{p(!0)},[]);const v=k=>{switch(k){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}},b=k=>{switch(k){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}},j=c.filter(k=>k.headCount>=10),C=c,T=async k=>{if(!N){g(k.id);try{await(e==null?void 0:e(k))}finally{g(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(L,{onClick:()=>p(!1),disabled:w,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[w?o.jsx(qt,{className:"w-4 h-4 animate-spin"}):o.jsx(ts,{className:"w-4 h-4"}),""]}),o.jsxs(L,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Ut,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ms,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Le,{placeholder:" , ,  ...",value:s,onChange:k=>a(k.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(rh,{value:i,onValueChange:k=>l(k),children:[o.jsx(oh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(sh,{placeholder:""})}),o.jsxs(ah,{children:[o.jsx(_n,{value:"participants",children:"  "}),o.jsx(_n,{value:"latest",children:""}),o.jsx(_n,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",C.length,"  "]}),o.jsxs(dt,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(ft,{className:"w-3 h-3 mr-1"}),""]})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(L,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(qt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[!s&&j.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(If,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(k=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-[#4ecdc4]/30 hover:border-[#4ecdc4]/50 transition-all duration-300 group relative",children:[o.jsx("div",{className:"absolute top-3 left-3 z-10",children:o.jsxs(dt,{className:"bg-[#4ecdc4] text-black",children:[o.jsx(tr,{className:"w-3 h-3 mr-1"}),""]})}),o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"https://via.placeholder.com/400x225/1a1a1a/ffffff?text=Live+Stream",alt:k.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(L,{onClick:()=>T(k),className:"teal-gradient hover:opacity-80 text-black",disabled:!!N,children:[N===k.id?o.jsx(qt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ft,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/70 backdrop-blur-sm rounded-lg px-2 py-1 flex items-center gap-1",children:[o.jsx(ga,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:k.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(dt,{variant:"outline",className:b("movie"),children:v("movie")}),o.jsx("span",{className:"text-xs text-white/60",children:" "})]}),o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:k.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:k.contentTitle}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{className:`w-6 h-6 transition-all ${r?"cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(k.ownerId):alert("  .   .")},children:[o.jsx($e,{src:""}),o.jsx(ze,{children:k.ownerName[0]})]}),o.jsx("span",{className:`text-sm text-white/80 transition-colors ${r?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(k.ownerId):alert("  .   .")},children:k.ownerName})]})]})]},k.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map(k=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:k.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(L,{size:"sm",onClick:()=>T(k),className:"teal-gradient hover:opacity-80 text-black",disabled:!!N,children:[N===k.id?o.jsx(qt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ft,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(ga,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:k.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(dt,{variant:"outline",className:b("movie"),children:v("movie")}),k.headCount>=10&&o.jsx(dt,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:""})]}),o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:k.title}),o.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-1",children:k.contentTitle}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{className:`w-5 h-5 transition-all ${r?"cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(k.ownerId):alert("  .   .")},children:[o.jsx($e,{src:""}),o.jsx(ze,{children:k.ownerName[0]})]}),o.jsx("span",{className:`text-xs text-white/80 truncate transition-colors ${r?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(k.ownerId):alert("  .   .")},children:k.ownerName})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60",children:[o.jsx(ts,{className:"w-3 h-3"})," "]})]})]})]},k.id))})]}),C.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ft,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":"   ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[s&&o.jsx(L,{variant:"outline",onClick:()=>a(""),className:"border-white/20 hover:bg-white/5",children:"  "}),o.jsxs(L,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Ut,{className:"w-4 h-4 mr-2"}),"  "]})]})]})]})]})})}var lc="Switch",[V_,CR]=$n(lc),[H_,K_]=V_(lc),Fw=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,y]=d.useState(null),w=ve(t,v=>y(v)),x=d.useRef(!1),N=m?h||!!m.closest("form"):!0,[g,p]=is({prop:s,defaultProp:a??!1,onChange:u,caller:lc});return o.jsxs(H_,{scope:n,checked:g,disabled:l,children:[o.jsx(le.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":Vw(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:ce(e.onClick,v=>{p(b=>!b),N&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),N&&o.jsx(Ww,{control:m,bubbles:!x.current,name:r,value:c,checked:g,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Fw.displayName=lc;var Bw="SwitchThumb",Uw=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=K_(Bw,n);return o.jsx(le.span,{"data-state":Vw(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});Uw.displayName=Bw;var G_="SwitchBubbleInput",Ww=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=d.useRef(null),l=ve(i,a),c=th(n),u=Jf(t);return d.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const w=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(w)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ww.displayName=G_;function Vw(e){return e?"checked":"unchecked"}var X_=Fw,Y_=Uw;function q_({className:e,...t}){return o.jsx(X_,{"data-slot":"switch",className:ke("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(Y_,{"data-slot":"switch-thumb",className:ke("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Kp({isOpen:e,onClose:t,onCreateWatchParty:n,onWatchAlone:r,content:s}){const[a,i]=d.useState(!1),[l,c]=d.useState("");d.useEffect(()=>{s&&e&&c(`${s.title} `)},[s,e]);const u=()=>{const h={isPublic:a,roomName:l||`${s==null?void 0:s.title} `};n(h)};return s?o.jsx(Ul,{open:e,onOpenChange:t,children:o.jsxs(Wl,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(Vl,{children:o.jsxs(Hl,{className:"flex items-center space-x-2",children:[o.jsx(ft,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:"  "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover",onError:h=>{const f=h.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:s.title}),o.jsx("p",{className:"text-sm text-white/60",children:s.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:s.description})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(L,{onClick:r,variant:"outline",className:"w-full justify-start border-white/20 hover:bg-white/5 h-auto p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(wt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"  "})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(ft,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pt,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(Le,{id:"roomName",value:l,onChange:h=>c(h.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[a?o.jsx(cl,{className:"w-4 h-4 text-green-400"}):o.jsx(ul,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Pt,{htmlFor:"isPublic",className:"text-sm",children:a?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:a?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(q_,{id:"isPublic",checked:a,onCheckedChange:i})})]})}),o.jsxs(L,{onClick:u,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!l.trim(),children:[o.jsx(ft,{className:"w-4 h-4 mr-2"})," "]})]})]})]})]})]})}):null}function Gp({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:a}){const[i,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(""),[N,g]=d.useState(!0),[p,v]=d.useState([]),[b,j]=d.useState(!1);d.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{j(!0);const E=await r();v(E)}catch(E){console.error("Error loading playlists:",E)}finally{j(!1)}},T=p.filter(E=>E.title.toLowerCase().includes(i.toLowerCase())||E.description.toLowerCase().includes(i.toLowerCase())),k=E=>{u(F=>F.includes(E)?F.filter(W=>W!==E):[...F,E])},_=async()=>{if(n)try{const E=c.map(F=>a(F,[n.id]));await Promise.all(E),alert(`"${n.title}"() ${c.length}  .`),u([]),l(""),t()}catch(E){console.error("   :",E),alert("     .")}},A=async()=>{if(!(!m.trim()||!n))try{const E=await s({name:m,description:w,isPublic:N});await a(E.id,[n.id]),alert(`  "${m}"()  "${n.title}"() .`),y(""),x(""),g(!0),f(!1),t()}catch(E){console.error("Error creating playlist:",E),alert("    .")}},D=()=>{u([]),l(""),f(!1),y(""),x(""),g(!0)},S=()=>{D(),t()};return n?o.jsx(Ul,{open:e,onOpenChange:S,children:o.jsxs(Wl,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(Vl,{children:o.jsx(Hl,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(Me,{className:"h-12 w-12 rounded-lg",children:[o.jsx($e,{src:n.thumbnail,className:"object-cover"}),o.jsx(ze,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"":n.type==="tv"?"TV":"","  ",n.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Le,{placeholder:" ",value:m,onChange:E=>y(E.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Le,{placeholder:" ()",value:w,onChange:E=>x(E.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[N?o.jsx(cl,{className:"w-4 h-4 text-green-400"}):o.jsx(ul,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:N?"":""})]}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>g(!N),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(L,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx(L,{onClick:A,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Le,{placeholder:" ...",value:i,onChange:E=>l(E.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(L,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Ut,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:b?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):T.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:i?"  ":" "}):T.map(E=>o.jsxs("div",{onClick:()=>k(E.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(E.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(Me,{className:"h-10 w-10 rounded-lg",children:[o.jsx($e,{src:E.thumbnail,className:"object-cover"}),o.jsx(ze,{children:E.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:E.title}),E.isPublic?o.jsx(cl,{className:"w-3 h-3 text-green-400"}):o.jsx(ul,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[E.contentCount," "]})]}),c.includes(E.id)&&o.jsx(Ws,{className:"w-5 h-5 text-[#4ecdc4]"})]},E.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(L,{variant:"outline",onClick:S,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs(L,{onClick:_,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function Xp({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState(""),[m,y]=d.useState("select"),[w,x]=d.useState(!1),[N,g]=d.useState(null),[p,v]=d.useState([]),[b,j]=d.useState(!1),[C,T]=d.useState(!1),[k,_]=d.useState(),[A,D]=d.useState(!1),S=async(P=!1)=>{try{P?D(!0):j(!0),g(null);const B=await Jr.getContents({type:i==="all"?void 0:i.toUpperCase(),query:s||void 0,cursor:P?k:void 0,size:20});v(P?V=>[...V,...B.data]:B.data),T(B.hasNext),_(B.nextCursor)}catch(B){console.error("  :",B),g(B instanceof Error?B.message:"    .")}finally{j(!1),D(!1)}};d.useEffect(()=>{e&&S(!1)},[e]),d.useEffect(()=>{if(!e)return;const P=setTimeout(()=>{S(!1)},300);return()=>clearTimeout(P)},[s,i,e]);const E=()=>{C&&!b&&!A&&S(!0)},F=P=>{u(P),f(`${P.title} `),y("create"),g(null)},W=async()=>{if(!c||!h.trim()){g("  .");return}x(!0),g(null);try{const P={contentId:c.id,ownerId:r,title:h.trim()},B=await zl.createWatchRoom(P),V=`room-content-${B.id}`;localStorage.setItem(V,JSON.stringify({contentId:c.id,contentData:c,savedAt:Date.now()})),n(B),R()}catch(P){console.error("  :",P),g(P instanceof Error?P.message:"    .")}finally{x(!1)}},R=()=>{a(""),l("all"),u(null),f(""),y("select"),x(!1),g(null),v([]),j(!1),T(!1),_(void 0),D(!1),t()},U=P=>{switch(P){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:m,selectedContent:c,loading:b}),o.jsx(Ul,{open:e,onOpenChange:R,children:o.jsxs(Wl,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(Vl,{children:o.jsx(Hl,{className:"text-xl",children:m==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),m==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ms,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Le,{placeholder:" ...",value:s,onChange:P=>a(P.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(rh,{value:i,onValueChange:l,children:[o.jsx(oh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(sh,{placeholder:""})}),o.jsxs(ah,{children:[o.jsx(_n,{value:"all",children:""}),o.jsx(_n,{value:"movie",children:""}),o.jsx(_n,{value:"tv",children:"TV/"}),o.jsx(_n,{value:"sports",children:""})]})]})]}),b&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(qt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),N&&!b&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:N}),o.jsx(L,{onClick:()=>S(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!b&&!N&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[p.map(P=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>F(P),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:P.thumbnail||P.thumbnailUrl,alt:P.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:B=>{const V=B.target;V.style.display="none";const Y=V.parentElement;if(Y&&!Y.querySelector(".image-fallback")){const te=document.createElement("div");te.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",te.textContent=P.title.charAt(0).toUpperCase(),Y.appendChild(te)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(L,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:w,children:[o.jsx(wt,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:P.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:P.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[(P.avgRating||P.rating)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs",children:P.avgRating||P.rating})]}),o.jsx(dt,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:U(P.contentType)})]})]})]},P.id)),C&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx(L,{onClick:E,disabled:A||w,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:A?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!b&&!N&&p.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx(L,{variant:"outline",onClick:()=>{a(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail||c.thumbnailUrl,alt:c.title,className:"w-full h-full object-cover",onError:P=>{const B=P.target;B.style.display="none";const V=B.parentElement;if(V&&!V.querySelector(".image-fallback")){const Y=document.createElement("div");Y.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",Y.textContent=c.title.charAt(0).toUpperCase(),V.appendChild(Y)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[(c.avgRating||c.rating)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:c.avgRating||c.rating})]}),o.jsx(dt,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:U(c.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:" "}),o.jsx(Le,{id:"room-title",placeholder:"  ...",value:h,onChange:P=>f(P.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[h.length,"/50"]})]}),N&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:N})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(L,{variant:"outline",onClick:()=>{y("select"),u(null),f(""),g(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:w,children:""}),o.jsx(L,{onClick:W,disabled:!c||!h.trim()||w,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:w?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var au="rovingFocusGroup.onEntryFocus",Q_={bubbles:!1,cancelable:!0},Ua="RovingFocusGroup",[Ad,Hw,J_]=Vf(Ua),[Z_,Kw]=$n(Ua,[J_]),[eR,tR]=Z_(Ua),Gw=d.forwardRef((e,t)=>o.jsx(Ad.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ad.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(nR,{...e,ref:t})})}));Gw.displayName=Ua;var nR=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),y=ve(t,m),w=_a(a),[x,N]=is({prop:i,defaultProp:l??null,onChange:c,caller:Ua}),[g,p]=d.useState(!1),v=yt(u),b=Hw(n),j=d.useRef(!1),[C,T]=d.useState(0);return d.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(au,v),()=>k.removeEventListener(au,v)},[v]),o.jsx(eR,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(k=>N(k),[N]),onItemShiftTab:d.useCallback(()=>p(!0),[]),onFocusableItemAdd:d.useCallback(()=>T(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>T(k=>k-1),[]),children:o.jsx(le.div,{tabIndex:g||C===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{j.current=!0}),onFocus:ce(e.onFocus,k=>{const _=!j.current;if(k.target===k.currentTarget&&_&&!g){const A=new CustomEvent(au,Q_);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=b().filter(R=>R.focusable),S=D.find(R=>R.active),E=D.find(R=>R.id===x),W=[S,E,...D].filter(Boolean).map(R=>R.ref.current);qw(W,h)}}j.current=!1}),onBlur:ce(e.onBlur,()=>p(!1))})})}),Xw="RovingFocusGroupItem",Yw=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Tr(),u=a||c,h=tR(Xw,n),f=h.currentTabStopId===u,m=Hw(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=h;return d.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),o.jsx(Ad.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(le.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ce(e.onMouseDown,N=>{r?h.onItemFocus(u):N.preventDefault()}),onFocus:ce(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:ce(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const g=oR(N,h.orientation,h.dir);if(g!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let v=m().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const b=v.indexOf(N.currentTarget);v=h.loop?aR(v,b+1):v.slice(b+1)}setTimeout(()=>qw(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});Yw.displayName=Xw;var rR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oR(e,t,n){const r=sR(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rR[r]}function qw(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function aR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iR=Gw,lR=Yw,cc="Tabs",[cR,ER]=$n(cc,[Kw]),Qw=Kw(),[uR,kh]=cR(cc),Jw=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=_a(l),[f,m]=is({prop:r,onChange:s,defaultProp:a??"",caller:cc});return o.jsx(uR,{scope:n,baseId:Tr(),value:f,onValueChange:m,orientation:i,dir:h,activationMode:c,children:o.jsx(le.div,{dir:h,"data-orientation":i,...u,ref:t})})});Jw.displayName=cc;var Zw="TabsList",eb=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=kh(Zw,n),i=Qw(n);return o.jsx(iR,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(le.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});eb.displayName=Zw;var tb="TabsTrigger",nb=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=kh(tb,n),l=Qw(n),c=ob(i.baseId,r),u=ab(i.baseId,r),h=r===i.value;return o.jsx(lR,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:ce(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:ce(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:ce(e.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!s&&f&&i.onValueChange(r)})})})});nb.displayName=tb;var rb="TabsContent",sb=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=kh(rb,n),c=ob(l.baseId,r),u=ab(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(or,{present:s||h,children:({present:m})=>o.jsx(le.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});sb.displayName=rb;function ob(e,t){return`${e}-trigger-${t}`}function ab(e,t){return`${e}-content-${t}`}var dR=Jw,fR=eb,hR=nb,mR=sb;function pR({className:e,...t}){return o.jsx(dR,{"data-slot":"tabs",className:ke("flex flex-col gap-2",e),...t})}function gR({className:e,...t}){return o.jsx(fR,{"data-slot":"tabs-list",className:ke("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function iu({className:e,...t}){return o.jsx(hR,{"data-slot":"tabs-trigger",className:ke("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function lu({className:e,...t}){return o.jsx(mR,{"data-slot":"tabs-content",className:ke("flex-1 outline-none",e),...t})}function vR({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s,getPlaylists:a}){const[i,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState([]),[m,y]=d.useState([]),[w,x]=d.useState(!1),[N,g]=d.useState(!0),[p,v]=d.useState(null),[b,j]=d.useState(!1),C=e===t,T=async()=>{try{console.log("   :",e);const E=await r(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/users/${e}`);if(console.log("   :",{status:E.status,statusText:E.statusText,headers:Object.fromEntries(E.headers.entries())}),!E.ok){const W=await E.text();throw console.error("   :",{status:E.status,statusText:E.statusText,errorText:W}),new Error(`   . (${E.status})`)}const F=await E.json();console.log("   :",F),l(F)}catch(E){console.error("   :",E),v(E instanceof Error?E.message:"    .")}},k=async()=>{try{const E=await r(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${e}/followers`);if(!E.ok)throw new Error("   .");const F=await E.json();u(F)}catch(E){console.error("   :",E)}},_=async()=>{try{const E=await r(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${e}/following`);if(!E.ok)throw new Error("   .");const F=await E.json();f(F)}catch(E){console.error("   :",E)}},A=async()=>{try{if(a){const E=await r(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists?userId=${e}`);if(!E.ok)throw new Error("  .");const W=(await E.json()).filter(R=>R.isPublic);y(W)}else y([])}catch(E){console.error("  :",E),y([])}},D=async()=>{if(!(!t||C))try{const E=await r(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/${t}/is-following/${e}`);if(!E.ok)throw new Error("   .");const F=await E.json();x(F)}catch(E){console.error("   :",E),x(!1)}},S=async()=>{if(!(!t||C)){j(!0);try{if(w){const E=new FormData;if(E.append("followerId",t),E.append("followingId",e),!(await r("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/unfollow",{method:"DELETE",body:E})).ok)throw new Error(" .");x(!1),u(W=>W.filter(R=>R.id!==t))}else{const E=new FormData;if(E.append("followerId",t),E.append("followingId",e),!(await r("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/follows/follow",{method:"POST",body:E})).ok)throw new Error(" .");x(!0),i&&u(W=>[...W,{id:t,name:"",email:"",profileImage:""}])}}catch(E){console.error("  :",E),alert(E instanceof Error?E.message:"    .")}finally{j(!1)}}};return d.useEffect(()=>{e&&(async()=>{g(!0),v(null),await Promise.allSettled([T(),k(),_(),t?D():Promise.resolve(),A()]),g(!1)})()},[e,t]),N?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):p?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:p}),o.jsx(L,{onClick:n,variant:"outline",children:""})]})}):i?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs(L,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(io,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(Me,{className:"h-32 w-32",children:[o.jsx($e,{src:i.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-2xl",children:i.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:i.name}),o.jsx("p",{className:"text-white/60 mb-4",children:i.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:c.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:h.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:m.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!C&&o.jsx(L,{onClick:S,disabled:b,className:`${w?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:b?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):w?o.jsxs(o.Fragment,{children:[o.jsx(fx,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Of,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(pR,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(gR,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(iu,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx($m,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(iu,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(ft,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(iu,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(Pr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(lu,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(E=>{var F;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:E.name||E.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:E.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((F=E.contents)==null?void 0:F.length)||E.itemCount||0," "]})]})]},E.id)})}),m.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx($m,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(lu,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(Me,{className:"h-12 w-12",children:[o.jsx($e,{src:E.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),c.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ft,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(lu,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(Me,{className:"h-12 w-12",children:[o.jsx($e,{src:E.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),h.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx(L,{onClick:n,variant:"outline",children:""})]})})}function xR(){const[e,t]=d.useState(()=>{const $=localStorage.getItem("currentPage")||"home";return console.log("   :",$),$}),[n,r]=d.useState(!1),[s,a]=d.useState(null),i=$=>{try{if(!$||typeof $!="string")return console.error("  :",$),null;const z=$.split(".");if(z.length!==3)return console.error(" JWT :",$),null;const K=JSON.parse(atob(z[1])),q=K.userId||K.sub||K.id||null;return q||console.error("  ID   :",K),q}catch(z){return console.error("JWT   :",z,"Token:",$),null}},l=$=>{try{const z=JSON.parse(atob($.split(".")[1])),K=Date.now()/1e3,q=z.exp,ee=30,xe=q<K+ee;return console.log("  :",{currentTime:K,expTime:q,bufferTime:ee,isExpired:xe,timeUntilExpiry:q-K,payload:{...z,userId:z.userId||z.sub||z.id}}),xe}catch(z){return console.error("   :",z),!0}},c=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),a(null),r(!1),t("home")},u=($,z=300)=>{try{const K=JSON.parse(atob($.split(".")[1])),q=Date.now()/1e3,ee=K.iat;return ee&&q-ee<z}catch(K){return console.error("    :",K),!1}},h=d.useRef(null),f=async()=>h.current?(console.log("    .   ."),h.current):(h.current=(async()=>{try{console.log("  ");const z=await fetch("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(console.log("  :",{status:z.status,statusText:z.statusText,headers:Object.fromEntries(z.headers.entries())}),!z.ok){console.log(`  : ${z.status} ${z.statusText}`);try{const ee=await z.text();console.log("   :",ee)}catch(ee){console.log("   :",ee)}return z.status===401?console.log("Refresh token ."):z.status===500&&console.log("    "),null}const K=await z.text();if(console.log("   :",K),!K||K.trim()==="")return console.log("    "),null;const q=K.replace(/"/g,"");return console.log("  :",q?"  ":" "),q}catch($){return console.error("Token refresh :",$),null}finally{h.current=null}})(),h.current),m=async($,z={})=>{var Ch;let K=localStorage.getItem("accessToken");const q=K?i(K):null;console.log("authenticatedFetch :",{url:$,accessToken:K?" ":" ",userIdFromToken:q,currentUserId:s});const ee="http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com",Ze=[`${ee}/api/auth/login`,`${ee}/api/auth/refresh`,`${ee}/api/auth/change-password`,`${ee}/api/auth/temp-password`,`${ee}/api/users`].some(ct=>{if(ct.endsWith("/api/users")){const ir=$===ct&&z.method==="POST";return console.log(" /api/users  :",{url:$,authUrl:ct,method:z.method,isMatch:ir}),ir}return $.startsWith(ct)});if(console.log("    :",{url:$,method:z.method,isAuthFree:Ze}),Ze){console.log("    API :",$);const ct={"Content-Type":"application/json",...z.headers||{}};return fetch($,{...z,headers:ct,credentials:"include"})}if(!K)throw console.error("  .  ."),c(),new Error("  .");if(l(K)&&!u(K)){console.log("   .");const ct=await f();if(ct){localStorage.setItem("accessToken",ct),K=ct;const ir=i(ct);ir&&a(ir)}else throw c(),new Error(" .  .")}else l(K)&&u(K)&&console.log("    .");const yo={...Ze?{}:{Authorization:`Bearer ${K}`},...z.headers||{}};console.log(" Authorization  :",{url:$,hasToken:!!K,tokenPreview:K?`${K.substring(0,20)}...`:"no token",headers:{...yo,Authorization:yo.Authorization?`Bearer ${(Ch=yo.Authorization.split(" ")[1])==null?void 0:Ch.substring(0,20)}...`:"no auth"}});const Wa=await fetch($,{...z,headers:yo,credentials:"include"});if(Wa.status===401){console.log("401  ,   ");const ct=await f();if(ct){localStorage.setItem("accessToken",ct),K=ct;const ir=i(ct);ir&&a(ir),console.log("  ,  ");const ib={...yo,Authorization:`Bearer ${ct}`};return fetch($,{...z,headers:ib,credentials:"include"})}else throw console.log("  ,  "),c(),new Error(" .  .")}if(Wa.status===403)throw console.log(" ."),new Error("    .");if(Wa.status===404)throw new Error("    .");return Wa},y=async $=>{try{await m(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/notifications/${$}`,{method:"DELETE"})}catch(z){throw console.error("  :",z),z}},w=async()=>{try{await m("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/notifications",{method:"DELETE"})}catch($){throw console.error("   :",$),$}},x=async()=>{try{const $=await m("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/");if(!$.ok)throw new Error("DM    ");return await $.json()}catch($){throw console.error("DM    :",$),$}},N=async $=>{try{const z=await m(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dmRooms/userRoom?userB=${$}`);if(!z.ok)throw new Error("DM  / ");return await z.text()}catch(z){throw console.error("DM  / :",z),z}},g=async($,z)=>{try{const K=new URLSearchParams;z!=null&&z.cursor&&K.append("cursor",z.cursor),z!=null&&z.size&&K.append("size",z.size.toString());const q=await m(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/dm/${$}?${K}`);if(!q.ok)throw new Error("DM    ");return await q.json()}catch(K){throw console.error("DM    :",K),K}},p=async $=>{try{const z=$&&$.trim()!==""?$.trim():"",K=new URLSearchParams;K.append("keyword",z);const q=`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists/search?${K}`;console.log(" API :",q);const ee=await m(q);if(console.log("  :",ee.status,ee.statusText),!ee.ok){let Ze="   ";try{const Lt=await ee.text();console.error("  :",Lt),Ze=`${ee.status} ${ee.statusText}: ${Lt}`}catch(Lt){console.error("   :",Lt)}throw new Error(Ze)}const xe=await ee.json();return console.log("  :",{url:q,status:ee.status,dataType:Array.isArray(xe)?` (: ${xe.length})`:typeof xe,data:Array.isArray(xe)&&xe.length>0?xe.slice(0,2):xe,headers:Object.fromEntries(ee.headers.entries())}),xe}catch(z){throw console.error("    :",z),z}},v=async $=>{try{const z=`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists/${$}`;console.log("   API :",z);const K=await m(z);if(console.log("  :",K.status,K.statusText),!K.ok){let ee="  ";try{const xe=await K.text();console.error("  :",xe),ee=`${K.status} ${K.statusText}: ${xe}`}catch(xe){console.error("   :",xe)}throw new Error(ee)}const q=await K.json();return console.log("   :",{url:z,status:K.status,data:q}),q}catch(z){throw console.error("   :",z),z}},b=async $=>{var z,K;try{if(!$.name||$.name.trim()==="")throw new Error("  .");if(!s)throw new Error(" .");const q={name:$.name.trim(),description:$.description||"",isPublic:$.isPublic??!0};console.log("   :",q);const ee=await m("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(console.log("    :",ee.status,ee.statusText),!ee.ok){let Ze="  ";try{const Lt=await ee.json();console.error("   :",Lt),Ze=Lt.message||Ze}catch(Lt){console.error("Error parsing error response:",Lt)}throw new Error(Ze)}const xe=await ee.json();return console.log("   :",{createdPlaylist:xe,createdBy:(z=xe.user)==null?void 0:z.id,createdByName:(K=xe.user)==null?void 0:K.name,currentUserId:s}),xe}catch(q){throw console.error("  :",q),q}},j=async($,z)=>{try{if(!z||z.length===0)throw new Error("  .");const K={contentIds:z},q=await m(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists/${$}/contents`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(!q.ok){let Ze="   ";try{Ze=(await q.json()).message||Ze}catch(Lt){console.error("Error parsing error response:",Lt)}throw new Error(Ze)}let ee=null;const xe=await q.text();return xe&&(ee=JSON.parse(xe)),console.log("   :",ee),ee}catch(K){throw console.error("   :",K),K}},C=async($,z)=>{try{if(!z||z.length===0)throw new Error("  .");const K={contentIds:z},q=await m(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/playlists/${$}/contents`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(!q.ok){let ee="   ";try{ee=(await q.json()).message||ee}catch(xe){console.error("Error parsing error response:",xe)}throw new Error(ee)}console.log("   ")}catch(K){throw console.error("   :",K),K}},T=async $=>{try{if(!s)throw new Error(" ");console.log("   :",{userId:s,playlistId:$});const z={userId:s,playlistId:$};console.log("   :",z);const K=new FormData;K.append("userId",z.userId),K.append("playlistId",z.playlistId);const q=await m("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/subscriptions",{method:"POST",body:K});if(console.log("   :",q.status,q.statusText),!q.ok){let ee="  ";try{ee=(await q.json()).message||ee}catch(xe){console.error("Error parsing error response:",xe)}throw new Error(ee)}console.log("  ")}catch(z){throw console.error("  :",z),z}},k=async $=>{try{console.log("    :",{subscriptionId:$});const z=await m(`http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/subscriptions/${$}`,{method:"DELETE"});if(console.log("    :",z.status,z.statusText),!z.ok){let K="   ";try{K=(await z.json()).message||K}catch(q){console.error("Error parsing error response:",q)}throw new Error(K)}console.log("   ")}catch(z){throw console.error("   :",z),z}},[_,A]=d.useState(null),[D,S]=d.useState(null),[E,F]=d.useState(null),[W,R]=d.useState(!1),[U,P]=d.useState(!1),[B,V]=d.useState(null),[Y,te]=d.useState(!1),[se,me]=d.useState(!1),[Te,ye]=d.useState(null),[ne,de]=d.useState(!1),[he,I]=d.useState(null),[Q,ue]=d.useState(!1),[_e,We]=d.useState(null),[at,M]=d.useState(!1),[O,G]=d.useState(null),[H,re]=d.useState(!1),J=()=>{const $=new URL(window.location.href),z=$.pathname;if(z==="/oauth/success"){const K=$.searchParams.get("access_token");K?(fe(K),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}if(z==="/oauth/error"){const K=$.searchParams.get("message");if(K){const q=decodeURIComponent(K);q.includes("jwt_sessions_user_id_key")?alert(`  .

   .`):q.includes("users_name_key")?alert(`     .

     .`):q.includes("duplicate key value violates unique constraint")?alert(`   .

 .`):alert(q)}else alert("OAuth       .");window.history.replaceState({},document.title,"/")}};d.useEffect(()=>{(async()=>{J();const z=localStorage.getItem("accessToken");if(z){let K=z;const q=l(z),ee=u(z);if(console.log("   :",{isExpired:q,isRecentlyIssued:ee,shouldRefresh:q&&!ee}),q&&!ee){console.log("    ");try{const Ze=await f();if(Ze)console.log("  "),K=Ze;else{console.log("  ,  "),c();return}}catch(Ze){console.error("   :",Ze),c();return}}else q&&ee&&console.log("     ");const xe=i(K);xe?(a(xe),r(!0),console.log("  :",{userId:xe,tokenValid:!l(K)})):(console.log("  ID  "),localStorage.removeItem("accessToken"),c())}})()},[]),d.useEffect(()=>{if(!n)return;const z=setInterval(async()=>{const K=localStorage.getItem("accessToken");if(K&&l(K)){console.log("  ,  ");const q=await f();if(q){localStorage.setItem("accessToken",q);const ee=i(q);ee&&a(ee),console.log("  ")}else console.log("  ,  "),c()}},3e4);return()=>clearInterval(z)},[n]);const fe=$=>{localStorage.setItem("accessToken",$);const z=i($);z?(a(z),r(!0),console.log(" :",{userId:z,tokenValid:!l($)})):(console.error("  ID  ,  "),localStorage.removeItem("accessToken"),r(!1))},be=$=>{if(console.log("  :",$),$==="create-room"){M(!0);return}t($),localStorage.setItem("currentPage",$);const z={page:$,selectedPlaylistId:_,selectedContentDetail:D,selectedUserId:E,currentWatchRoomId:O};window.history.pushState(z,"",window.location.pathname),console.log("   :",z),$!=="playlist-detail"&&A(null),$!=="watch-party"&&G(null),$!=="content-detail"&&S(null),$!=="user-profile"&&F(null)};d.useEffect(()=>{localStorage.setItem("currentPage",e)},[e]),d.useEffect(()=>{const $=K=>{if(console.log(" popstate  :",K.state),K.state){console.log("    :",K.state);const q=K.state.page||"home";["watch-party","content-detail","user-profile"].includes(q)?q==="watch-party"&&!K.state.currentWatchRoomId?(console.log("    ID    "),t("live"),localStorage.setItem("currentPage","live")):q==="content-detail"&&!K.state.selectedContentDetail?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):q==="user-profile"&&!K.state.selectedUserId?(console.log("     ID   "),t("home"),localStorage.setItem("currentPage","home")):(t(q),localStorage.setItem("currentPage",q)):(t(q),localStorage.setItem("currentPage",q)),A(K.state.selectedPlaylistId||null),S(K.state.selectedContentDetail||null),F(K.state.selectedUserId||null),G(K.state.currentWatchRoomId||null)}else{const q=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",q),["watch-party","content-detail","user-profile"].includes(q)?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):t(q),A(null),S(null),F(null),G(null)}};return(()=>{const K=["watch-party","content-detail","user-profile"];let q=e;K.includes(e)&&(e==="watch-party"&&!O||e==="content-detail"&&!D||e==="user-profile"&&!E)&&(q="home");const ee={page:q,selectedPlaylistId:_,selectedContentDetail:D,selectedUserId:E,currentWatchRoomId:O};q!==e&&(t(q),localStorage.setItem("currentPage",q),console.log("     :",e,"->",q)),window.history.replaceState(ee,"",window.location.pathname),console.log("    :",ee)})(),window.addEventListener("popstate",$),()=>{window.removeEventListener("popstate",$)}},[]);const ie=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),a(null),r(!1),t("home")},Ne=()=>{R(!W)},Ee=async()=>{const $=prompt("    :");if(!($!=null&&$.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($.trim())){alert("   .");return}try{const K=await fetch("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:$.trim()})});if(!K.ok){let q="   .";try{q=(await K.json()).message||q}catch(ee){console.error("Error parsing error response:",ee)}throw new Error(q)}alert(`${$}   .
       .`)}catch(K){console.error("   :",K),alert(K instanceof Error?K.message:"     .")}},ae=$=>{A($),t("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const z={page:"playlist-detail",selectedPlaylistId:$,selectedContentDetail:D,selectedUserId:E,currentWatchRoomId:O};window.history.pushState(z,"",window.location.pathname),console.log("     :",z)},Pe=()=>{A(null),t("playlist"),localStorage.setItem("currentPage","playlist");const $={page:"playlist",selectedPlaylistId:null,selectedContentDetail:D,selectedUserId:E,currentWatchRoomId:O};window.history.pushState($,"",window.location.pathname),console.log("    :",$)},_t=$=>{S($),t("content-detail"),localStorage.setItem("currentPage","content-detail");const z={page:"content-detail",selectedPlaylistId:_,selectedContentDetail:$,selectedUserId:E,currentWatchRoomId:O};window.history.pushState(z,"",window.location.pathname),console.log("     :",z)},Br=()=>{let $="home";D&&($={movie:"movies",tv:"tv",sports:"sports"}[D.type]||"home"),S(null),t($),localStorage.setItem("currentPage",$);const z={page:$,selectedPlaylistId:_,selectedContentDetail:null,selectedUserId:E,currentWatchRoomId:O};window.history.pushState(z,"",window.location.pathname),console.log("     :",z)},nt=$=>{const z={...$,year:$.year||2024,rating:$.rating||4};We(z),ue(!0)},rt=()=>{ue(!1),We(null)},Ve=$=>{I($),de(!0)},Un=()=>{de(!1),console.log(`Starting solo viewing for: ${he==null?void 0:he.title}`),alert(`"${he==null?void 0:he.title}"  .`),I(null)},Ur=$=>{if(!he)return;const z=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",$),console.log("Room code:",z),alert("Watch party creation not implemented yet"),de(!1),I(null)},rn=$=>{G($.id),re(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const z={page:"watch-party",selectedPlaylistId:_,selectedContentDetail:D,selectedUserId:E,currentWatchRoomId:$.id};window.history.pushState(z,"",window.location.pathname),console.log("    :",z)},Wr=$=>{G($.id),re(!0),M(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const z={page:"watch-party",selectedPlaylistId:_,selectedContentDetail:D,selectedUserId:E,currentWatchRoomId:$.id};window.history.pushState(z,"",window.location.pathname),console.log("    :",z)},it=()=>{G(null),re(!1),t("live"),localStorage.setItem("currentPage","live");const $={page:"live",selectedPlaylistId:_,selectedContentDetail:D,selectedUserId:E,currentWatchRoomId:null};window.history.pushState($,"",window.location.pathname),console.log("    :",$)},vo=()=>{M(!0)},jn=()=>{M(!1)},uc=()=>{V(null),P(!0)},dc=()=>{P(!1),V(null)},xo=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Nn=$=>{F($),t("user-profile"),localStorage.setItem("currentPage","user-profile");const z={page:"user-profile",selectedPlaylistId:_,selectedContentDetail:D,selectedUserId:$,currentWatchRoomId:O};window.history.pushState(z,"",window.location.pathname),console.log("     :",z)},Vr=()=>{s&&Nn(s)},Xe=()=>{F(null),t("home"),localStorage.setItem("currentPage","home");const $={page:"home",selectedPlaylistId:_,selectedContentDetail:D,selectedUserId:null,currentWatchRoomId:O};window.history.pushState($,"",window.location.pathname),console.log("     :",$)},Ke=()=>{se?(me(!1),ye(null),te(!0)):te(!Y)},Nt=()=>{te(!1)},pt=()=>{te(!1),me(!1),ye(null)},lt=$=>{ye($),te(!1),me(!0)},Je=()=>{me(!1),ye(null)},sn=()=>{me(!1),ye(null),te(!0)},on=()=>{(Y||se)&&pt()};if(!n)return console.log("   :",{isLoggedIn:n,accessToken:localStorage.getItem("accessToken"),userId:s}),o.jsx("div",{children:o.jsx(SS,{onLogin:fe,onToggleAuth:Ne,onForgotPassword:Ee,isRegister:W})});const Wn=()=>{switch(console.log("  :",e),e){case"curation":return o.jsx(AS,{onContentPlay:Ve,onContentDetail:_t,onAddToPlaylist:nt,userId:s||void 0});case"movies":return o.jsx(Yc,{category:"movies",onContentPlay:Ve,onContentDetail:_t,onAddToPlaylist:nt});case"tv":return o.jsx(Yc,{category:"tv",onContentPlay:Ve,onContentDetail:_t,onAddToPlaylist:nt});case"sports":return o.jsx(Yc,{category:"sports",onContentPlay:Ve,onContentDetail:_t,onAddToPlaylist:nt});case"playlist":return o.jsx(Ym,{onPlaylistOpen:ae,getPlaylists:p,createPlaylist:b,subscribePlaylist:T,unsubscribePlaylist:k,currentUserId:s||void 0,onUserProfileOpen:Nn});case"playlist-detail":return _?o.jsx(ck,{playlistId:_,onBack:Pe,onContentPlay:Ve,getPlaylistById:v,addPlaylistContents:j,deletePlaylistContents:C}):o.jsx(Ym,{onPlaylistOpen:ae,getPlaylists:p,createPlaylist:b});case"content-detail":return D?o.jsx(wE,{content:D,onBack:Br,onPlay:Ve,currentUser:s?{id:s,name:"",avatar:void 0}:void 0}):o.jsx(li,{onPageChange:be,onPlaylistOpen:ae,onContentPlay:Ve});case"watch-party":return O&&s?o.jsx(U_,{roomId:O,userId:s,onBack:it,shouldConnect:H,onUserProfileOpen:Nn}):o.jsx(li,{onPageChange:be,onPlaylistOpen:ae,onContentPlay:Ve});case"user-profile":return E?o.jsx(vR,{userId:E,currentUserId:s,onBack:Xe,authenticatedFetch:m,onUserProfileOpen:Nn,getPlaylists:p},E):o.jsx(li,{onPageChange:be,onPlaylistOpen:ae,onContentPlay:Ve});case"live":return o.jsx(W_,{onJoinRoom:rn,onCreateRoom:vo,onUserProfileOpen:Nn,currentUserId:s});default:return o.jsx(li,{onPageChange:be,onPlaylistOpen:ae,onContentPlay:Ve})}};return e==="watch-party"||e==="content-detail"||e==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[Wn(),o.jsx(Kp,{isOpen:ne,onClose:()=>de(!1),onCreateWatchParty:Ur,onWatchAlone:Un,content:he}),o.jsx(Gp,{isOpen:Q,onClose:rt,content:_e,getPlaylists:p,createPlaylist:b,addPlaylistContents:j}),o.jsx(Xp,{isOpen:at,onClose:jn,onCreateRoom:Wr,userId:s||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(pS,{currentPage:e,onPageChange:be,onProfileClick:uc,onMyProfileClick:Vr,onCloseDM:pt,onLogout:ie,authenticatedFetch:m,userId:s,refreshUserProfile:xo,deleteNotification:y,deleteAllNotifications:w,refreshAccessToken:f}),o.jsx("main",{className:"flex-1",onClick:on,children:Wn()}),o.jsx(gS,{}),o.jsx(bE,{isOpen:U,onClose:dc,userId:s,targetUserId:B,authenticatedFetch:m,onUserProfileOpen:Nn,refreshUserProfile:xo,onPlaylistOpen:ae}),o.jsx(NE,{isOpen:Y,onClose:Nt,onOpenChat:lt,authenticatedFetch:m,currentUserId:s,getDmRooms:x,getOrCreateDmRoom:N}),o.jsx(KE,{isOpen:se,onClose:Je,onBack:sn,user:Te,currentUserId:s,getDmMessages:g}),o.jsx(Kp,{isOpen:ne,onClose:()=>de(!1),onCreateWatchParty:Ur,onWatchAlone:Un,content:he}),o.jsx(Gp,{isOpen:Q,onClose:rt,content:_e,getPlaylists:p,createPlaylist:b,addPlaylistContents:j}),o.jsx(Xp,{isOpen:at,onClose:jn,onCreateRoom:Wr,userId:s||""}),o.jsx(L,{size:"lg",onClick:Ke,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${Y||se?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(nd,{className:"w-6 h-6"})})]})}cu.createRoot(document.getElementById("root")).render(o.jsx(Vn.StrictMode,{children:o.jsx(xR,{})}));
