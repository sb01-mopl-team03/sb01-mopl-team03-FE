var $1=Object.defineProperty;var z1=(e,t,n)=>t in e?$1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tt=(e,t,n)=>z1(e,typeof t!="symbol"?t+"":t,n);function F1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var U1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function sf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fg={exports:{}},Vl={},Ug={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),B1=Symbol.for("react.portal"),W1=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),H1=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),G1=Symbol.for("react.context"),Y1=Symbol.for("react.forward_ref"),X1=Symbol.for("react.suspense"),q1=Symbol.for("react.memo"),Q1=Symbol.for("react.lazy"),fm=Symbol.iterator;function J1(e){return e===null||typeof e!="object"?null:(e=fm&&e[fm]||e["@@iterator"],typeof e=="function"?e:null)}var Bg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wg=Object.assign,Vg={};function mo(e,t,n){this.props=e,this.context=t,this.refs=Vg,this.updater=n||Bg}mo.prototype.isReactComponent={};mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hg(){}Hg.prototype=mo.prototype;function of(e,t,n){this.props=e,this.context=t,this.refs=Vg,this.updater=n||Bg}var af=of.prototype=new Hg;af.constructor=of;Wg(af,mo.prototype);af.isPureReactComponent=!0;var hm=Array.isArray,Kg=Object.prototype.hasOwnProperty,lf={current:null},Gg={key:!0,ref:!0,__self:!0,__source:!0};function Yg(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Kg.call(t,r)&&!Gg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Da,type:e,key:a,ref:i,props:s,_owner:lf.current}}function Z1(e,t){return{$$typeof:Da,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Da}function eS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mm=/\/+/g;function Dc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eS(""+e.key):t.toString(36)}function Fi(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Da:case B1:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Dc(i,0):r,hm(s)?(n="",e!=null&&(n=e.replace(mm,"$&/")+"/"),Fi(s,t,n,"",function(u){return u})):s!=null&&(cf(s)&&(s=Z1(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(mm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",hm(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Dc(a,l);i+=Fi(a,t,n,c,s)}else if(c=J1(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Dc(a,l++),i+=Fi(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function oi(e,t,n){if(e==null)return e;var r=[],s=0;return Fi(e,r,"","",function(a){return t.call(n,a,s++)}),r}function tS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var It={current:null},Ui={transition:null},nS={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Ui,ReactCurrentOwner:lf};function Xg(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:oi,forEach:function(e,t,n){oi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oi(e,function(){t++}),t},toArray:function(e){return oi(e,function(t){return t})||[]},only:function(e){if(!cf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=mo;je.Fragment=W1;je.Profiler=H1;je.PureComponent=of;je.StrictMode=V1;je.Suspense=X1;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nS;je.act=Xg;je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wg({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=lf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Kg.call(t,c)&&!Gg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Da,type:e.type,key:s,ref:a,props:r,_owner:i}};je.createContext=function(e){return e={$$typeof:G1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K1,_context:e},e.Consumer=e};je.createElement=Yg;je.createFactory=function(e){var t=Yg.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:Y1,render:e}};je.isValidElement=cf;je.lazy=function(e){return{$$typeof:Q1,_payload:{_status:-1,_result:e},_init:tS}};je.memo=function(e,t){return{$$typeof:q1,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Ui.transition;Ui.transition={};try{e()}finally{Ui.transition=t}};je.unstable_act=Xg;je.useCallback=function(e,t){return It.current.useCallback(e,t)};je.useContext=function(e){return It.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return It.current.useDeferredValue(e)};je.useEffect=function(e,t){return It.current.useEffect(e,t)};je.useId=function(){return It.current.useId()};je.useImperativeHandle=function(e,t,n){return It.current.useImperativeHandle(e,t,n)};je.useInsertionEffect=function(e,t){return It.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return It.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return It.current.useMemo(e,t)};je.useReducer=function(e,t,n){return It.current.useReducer(e,t,n)};je.useRef=function(e){return It.current.useRef(e)};je.useState=function(e){return It.current.useState(e)};je.useSyncExternalStore=function(e,t,n){return It.current.useSyncExternalStore(e,t,n)};je.useTransition=function(){return It.current.useTransition()};je.version="18.3.1";Ug.exports=je;var d=Ug.exports;const qn=sf(d),qg=F1({__proto__:null,default:qn},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS=d,sS=Symbol.for("react.element"),oS=Symbol.for("react.fragment"),aS=Object.prototype.hasOwnProperty,iS=rS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lS={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)aS.call(t,r)&&!lS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sS,type:e,key:a,ref:i,props:s,_owner:iS.current}}Vl.Fragment=oS;Vl.jsx=Qg;Vl.jsxs=Qg;Fg.exports=Vl;var o=Fg.exports,Au={},Jg={exports:{}},Qt={},Zg={exports:{}},ev={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,F){var V=_.length;_.push(F);e:for(;0<V;){var U=V-1>>>1,ee=_[U];if(0<s(ee,F))_[U]=F,_[V]=ee,V=U;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var F=_[0],V=_.pop();if(V!==F){_[0]=V;e:for(var U=0,ee=_.length,te=ee>>>1;U<te;){var ce=2*(U+1)-1,Te=_[ce],Ce=ce+1,oe=_[Ce];if(0>s(Te,V))Ce<ee&&0>s(oe,Te)?(_[U]=oe,_[Ce]=V,U=Ce):(_[U]=Te,_[ce]=V,U=ce);else if(Ce<ee&&0>s(oe,V))_[U]=oe,_[Ce]=V,U=Ce;else break e}}return F}function s(_,F){var V=_.sortIndex-F.sortIndex;return V!==0?V:_.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,h=null,m=3,y=!1,w=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(_){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=_)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function N(_){if(x=!1,v(_),!w)if(n(c)!==null)w=!0,R(C);else{var F=n(u);F!==null&&O(N,F.startTime-_)}}function C(_,F){w=!1,x&&(x=!1,p(k),k=-1),y=!0;var V=m;try{for(v(F),h=n(c);h!==null&&(!(h.expirationTime>F)||_&&!I());){var U=h.callback;if(typeof U=="function"){h.callback=null,m=h.priorityLevel;var ee=U(h.expirationTime<=F);F=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(c)&&r(c),v(F)}else r(c);h=n(c)}if(h!==null)var te=!0;else{var ce=n(u);ce!==null&&O(N,ce.startTime-F),te=!1}return te}finally{h=null,m=V,y=!1}}var T=!1,P=null,k=-1,b=5,j=-1;function I(){return!(e.unstable_now()-j<b)}function E(){if(P!==null){var _=e.unstable_now();j=_;var F=!0;try{F=P(!0,_)}finally{F?A():(T=!1,P=null)}}else T=!1}var A;if(typeof g=="function")A=function(){g(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Y=D.port2;D.port1.onmessage=E,A=function(){Y.postMessage(null)}}else A=function(){S(E,0)};function R(_){P=_,T||(T=!0,A())}function O(_,F){k=S(function(){_(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,R(C))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var V=m;m=F;try{return _()}finally{m=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,F){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var V=m;m=_;try{return F()}finally{m=V}},e.unstable_scheduleCallback=function(_,F,V){var U=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?U+V:U):V=U,_){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,_={id:f++,callback:F,priorityLevel:_,startTime:V,expirationTime:ee,sortIndex:-1},V>U?(_.sortIndex=V,t(u,_),n(c)===null&&_===n(u)&&(x?(p(k),k=-1):x=!0,O(N,V-U))):(_.sortIndex=ee,t(c,_),w||y||(w=!0,R(C))),_},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(_){var F=m;return function(){var V=m;m=F;try{return _.apply(this,arguments)}finally{m=V}}}})(ev);Zg.exports=ev;var cS=Zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS=d,qt=cS;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tv=new Set,ca={};function ws(e,t){no(e,t),no(e+"Capture",t)}function no(e,t){for(ca[e]=t,e=0;e<t.length;e++)tv.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=Object.prototype.hasOwnProperty,dS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pm={},gm={};function fS(e){return Iu.call(gm,e)?!0:Iu.call(pm,e)?!1:dS.test(e)?gm[e]=!0:(pm[e]=!0,!1)}function hS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mS(e,t,n,r){if(t===null||typeof t>"u"||hS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var uf=/[\-:]([a-z])/g;function df(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uf,df);vt[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uf,df);vt[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uf,df);vt[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ff(e,t,n,r){var s=vt.hasOwnProperty(t)?vt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mS(t,n,s,r)&&(n=null),r||s===null?fS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fr=uS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ai=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),hf=Symbol.for("react.strict_mode"),Du=Symbol.for("react.profiler"),nv=Symbol.for("react.provider"),rv=Symbol.for("react.context"),mf=Symbol.for("react.forward_ref"),Ou=Symbol.for("react.suspense"),Lu=Symbol.for("react.suspense_list"),pf=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),sv=Symbol.for("react.offscreen"),vm=Symbol.iterator;function Po(e){return e===null||typeof e!="object"?null:(e=vm&&e[vm]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,Oc;function Vo(e){if(Oc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oc=t&&t[1]||""}return`
`+Oc+e}var Lc=!1;function Mc(e,t){if(!e||Lc)return"";Lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Lc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vo(e):""}function pS(e){switch(e.tag){case 5:return Vo(e.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return e=Mc(e.type,!1),e;case 11:return e=Mc(e.type.render,!1),e;case 1:return e=Mc(e.type,!0),e;default:return""}}function Mu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case Is:return"Portal";case Du:return"Profiler";case hf:return"StrictMode";case Ou:return"Suspense";case Lu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rv:return(e.displayName||"Context")+".Consumer";case nv:return(e._context.displayName||"Context")+".Provider";case mf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pf:return t=e.displayName||null,t!==null?t:Mu(e.type)||"Memo";case br:t=e._payload,e=e._init;try{return Mu(e(t))}catch{}}return null}function gS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mu(t);case 8:return t===hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ov(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vS(e){var t=ov(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ii(e){e._valueTracker||(e._valueTracker=vS(e))}function av(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ov(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $u(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iv(e,t){t=t.checked,t!=null&&ff(e,"checked",t,!1)}function zu(e,t){iv(e,t);var n=Fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fu(e,t.type,Fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ym(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fu(e,t,n){(t!=="number"||sl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ho=Array.isArray;function Ks(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Uu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Ho(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fr(n)}}function lv(e,t){var n=Fr(t.value),r=Fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var li,uv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(li=li||document.createElement("div"),li.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=li.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ua(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xS=["Webkit","ms","Moz","O"];Object.keys(Qo).forEach(function(e){xS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qo[t]=Qo[e]})});function dv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qo.hasOwnProperty(e)&&Qo[e]?(""+t).trim():t+"px"}function fv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var yS=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(e,t){if(t){if(yS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Vu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=null;function gf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ku=null,Gs=null,Ys=null;function Sm(e){if(e=Ma(e)){if(typeof Ku!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Xl(t),Ku(e.stateNode,e.type,t))}}function hv(e){Gs?Ys?Ys.push(e):Ys=[e]:Gs=e}function mv(){if(Gs){var e=Gs,t=Ys;if(Ys=Gs=null,Sm(e),t)for(e=0;e<t.length;e++)Sm(t[e])}}function pv(e,t){return e(t)}function gv(){}var $c=!1;function vv(e,t,n){if($c)return e(t,n);$c=!0;try{return pv(e,t,n)}finally{$c=!1,(Gs!==null||Ys!==null)&&(gv(),mv())}}function da(e,t){var n=e.stateNode;if(n===null)return null;var r=Xl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Gu=!1;if(sr)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{Gu=!1}function wS(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Jo=!1,ol=null,al=!1,Yu=null,bS={onError:function(e){Jo=!0,ol=e}};function SS(e,t,n,r,s,a,i,l,c){Jo=!1,ol=null,wS.apply(bS,arguments)}function NS(e,t,n,r,s,a,i,l,c){if(SS.apply(this,arguments),Jo){if(Jo){var u=ol;Jo=!1,ol=null}else throw Error(q(198));al||(al=!0,Yu=u)}}function bs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nm(e){if(bs(e)!==e)throw Error(q(188))}function jS(e){var t=e.alternate;if(!t){if(t=bs(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Nm(s),e;if(a===r)return Nm(s),t;a=a.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function yv(e){return e=jS(e),e!==null?wv(e):null}function wv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wv(e);if(t!==null)return t;e=e.sibling}return null}var bv=qt.unstable_scheduleCallback,jm=qt.unstable_cancelCallback,CS=qt.unstable_shouldYield,kS=qt.unstable_requestPaint,Ze=qt.unstable_now,ES=qt.unstable_getCurrentPriorityLevel,vf=qt.unstable_ImmediatePriority,Sv=qt.unstable_UserBlockingPriority,il=qt.unstable_NormalPriority,TS=qt.unstable_LowPriority,Nv=qt.unstable_IdlePriority,Hl=null,Mn=null;function RS(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Hl,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:AS,PS=Math.log,_S=Math.LN2;function AS(e){return e>>>=0,e===0?32:31-(PS(e)/_S|0)|0}var ci=64,ui=4194304;function Ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Ko(l):(a&=i,a!==0&&(r=Ko(a)))}else i=n&~s,i!==0?r=Ko(i):a!==0&&(r=Ko(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bn(t),s=1<<n,r|=e[n],t&=~s;return r}function IS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-bn(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=IS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Xu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jv(){var e=ci;return ci<<=1,!(ci&4194240)&&(ci=64),e}function zc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=n}function OS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-bn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function xf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var De=0;function Cv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kv,yf,Ev,Tv,Rv,qu=!1,di=[],Pr=null,_r=null,Ar=null,fa=new Map,ha=new Map,jr=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cm(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(t.pointerId)}}function Ao(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ma(t),t!==null&&yf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function MS(e,t,n,r,s){switch(t){case"focusin":return Pr=Ao(Pr,e,t,n,r,s),!0;case"dragenter":return _r=Ao(_r,e,t,n,r,s),!0;case"mouseover":return Ar=Ao(Ar,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return fa.set(a,Ao(fa.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ha.set(a,Ao(ha.get(a)||null,e,t,n,r,s)),!0}return!1}function Pv(e){var t=rs(e.target);if(t!==null){var n=bs(t);if(n!==null){if(t=n.tag,t===13){if(t=xv(n),t!==null){e.blockedOn=t,Rv(e.priority,function(){Ev(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hu=r,n.target.dispatchEvent(r),Hu=null}else return t=Ma(n),t!==null&&yf(t),e.blockedOn=n,!1;t.shift()}return!0}function km(e,t,n){Bi(e)&&n.delete(t)}function $S(){qu=!1,Pr!==null&&Bi(Pr)&&(Pr=null),_r!==null&&Bi(_r)&&(_r=null),Ar!==null&&Bi(Ar)&&(Ar=null),fa.forEach(km),ha.forEach(km)}function Io(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,$S)))}function ma(e){function t(s){return Io(s,e)}if(0<di.length){Io(di[0],e);for(var n=1;n<di.length;n++){var r=di[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&Io(Pr,e),_r!==null&&Io(_r,e),Ar!==null&&Io(Ar,e),fa.forEach(t),ha.forEach(t),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)Pv(n),n.blockedOn===null&&jr.shift()}var Xs=fr.ReactCurrentBatchConfig,cl=!0;function zS(e,t,n,r){var s=De,a=Xs.transition;Xs.transition=null;try{De=1,wf(e,t,n,r)}finally{De=s,Xs.transition=a}}function FS(e,t,n,r){var s=De,a=Xs.transition;Xs.transition=null;try{De=4,wf(e,t,n,r)}finally{De=s,Xs.transition=a}}function wf(e,t,n,r){if(cl){var s=Qu(e,t,n,r);if(s===null)Xc(e,t,r,ul,n),Cm(e,r);else if(MS(s,e,t,n,r))r.stopPropagation();else if(Cm(e,r),t&4&&-1<LS.indexOf(e)){for(;s!==null;){var a=Ma(s);if(a!==null&&kv(a),a=Qu(e,t,n,r),a===null&&Xc(e,t,r,ul,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Xc(e,t,r,null,n)}}var ul=null;function Qu(e,t,n,r){if(ul=null,e=gf(r),e=rs(e),e!==null)if(t=bs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function _v(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ES()){case vf:return 1;case Sv:return 4;case il:case TS:return 16;case Nv:return 536870912;default:return 16}default:return 16}}var Tr=null,bf=null,Wi=null;function Av(){if(Wi)return Wi;var e,t=bf,n=t.length,r,s="value"in Tr?Tr.value:Tr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Wi=s.slice(e,1<r?1-r:void 0)}function Vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fi(){return!0}function Em(){return!1}function Jt(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fi:Em,this.isPropagationStopped=Em,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sf=Jt(po),La=Ke({},po,{view:0,detail:0}),US=Jt(La),Fc,Uc,Do,Kl=Ke({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Do&&(Do&&e.type==="mousemove"?(Fc=e.screenX-Do.screenX,Uc=e.screenY-Do.screenY):Uc=Fc=0,Do=e),Fc)},movementY:function(e){return"movementY"in e?e.movementY:Uc}}),Tm=Jt(Kl),BS=Ke({},Kl,{dataTransfer:0}),WS=Jt(BS),VS=Ke({},La,{relatedTarget:0}),Bc=Jt(VS),HS=Ke({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),KS=Jt(HS),GS=Ke({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YS=Jt(GS),XS=Ke({},po,{data:0}),Rm=Jt(XS),qS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JS[e])?!!t[e]:!1}function Nf(){return ZS}var eN=Ke({},La,{key:function(e){if(e.key){var t=qS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(e){return e.type==="keypress"?Vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tN=Jt(eN),nN=Ke({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pm=Jt(nN),rN=Ke({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),sN=Jt(rN),oN=Ke({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),aN=Jt(oN),iN=Ke({},Kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lN=Jt(iN),cN=[9,13,27,32],jf=sr&&"CompositionEvent"in window,Zo=null;sr&&"documentMode"in document&&(Zo=document.documentMode);var uN=sr&&"TextEvent"in window&&!Zo,Iv=sr&&(!jf||Zo&&8<Zo&&11>=Zo),_m=" ",Am=!1;function Dv(e,t){switch(e){case"keyup":return cN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ov(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function dN(e,t){switch(e){case"compositionend":return Ov(t);case"keypress":return t.which!==32?null:(Am=!0,_m);case"textInput":return e=t.data,e===_m&&Am?null:e;default:return null}}function fN(e,t){if(Os)return e==="compositionend"||!jf&&Dv(e,t)?(e=Av(),Wi=bf=Tr=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iv&&t.locale!=="ko"?null:t.data;default:return null}}var hN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hN[e.type]:t==="textarea"}function Lv(e,t,n,r){hv(r),t=dl(t,"onChange"),0<t.length&&(n=new Sf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ea=null,pa=null;function mN(e){Gv(e,0)}function Gl(e){var t=$s(e);if(av(t))return e}function pN(e,t){if(e==="change")return t}var Mv=!1;if(sr){var Wc;if(sr){var Vc="oninput"in document;if(!Vc){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Vc=typeof Dm.oninput=="function"}Wc=Vc}else Wc=!1;Mv=Wc&&(!document.documentMode||9<document.documentMode)}function Om(){ea&&(ea.detachEvent("onpropertychange",$v),pa=ea=null)}function $v(e){if(e.propertyName==="value"&&Gl(pa)){var t=[];Lv(t,pa,e,gf(e)),vv(mN,t)}}function gN(e,t,n){e==="focusin"?(Om(),ea=t,pa=n,ea.attachEvent("onpropertychange",$v)):e==="focusout"&&Om()}function vN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(pa)}function xN(e,t){if(e==="click")return Gl(t)}function yN(e,t){if(e==="input"||e==="change")return Gl(t)}function wN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:wN;function ga(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Iu.call(t,s)||!Nn(e[s],t[s]))return!1}return!0}function Lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mm(e,t){var n=Lm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lm(n)}}function zv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fv(){for(var e=window,t=sl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sl(e.document)}return t}function Cf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bN(e){var t=Fv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zv(n.ownerDocument.documentElement,n)){if(r!==null&&Cf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Mm(n,a);var i=Mm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SN=sr&&"documentMode"in document&&11>=document.documentMode,Ls=null,Ju=null,ta=null,Zu=!1;function $m(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zu||Ls==null||Ls!==sl(r)||(r=Ls,"selectionStart"in r&&Cf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ta&&ga(ta,r)||(ta=r,r=dl(Ju,"onSelect"),0<r.length&&(t=new Sf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ls)))}function hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ms={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},Hc={},Uv={};sr&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Yl(e){if(Hc[e])return Hc[e];if(!Ms[e])return e;var t=Ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uv)return Hc[e]=t[n];return e}var Bv=Yl("animationend"),Wv=Yl("animationiteration"),Vv=Yl("animationstart"),Hv=Yl("transitionend"),Kv=new Map,zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){Kv.set(e,t),ws(t,[e])}for(var Kc=0;Kc<zm.length;Kc++){var Gc=zm[Kc],NN=Gc.toLowerCase(),jN=Gc[0].toUpperCase()+Gc.slice(1);Kr(NN,"on"+jN)}Kr(Bv,"onAnimationEnd");Kr(Wv,"onAnimationIteration");Kr(Vv,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(Hv,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function Fm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,NS(r,t,void 0,e),e.currentTarget=null}function Gv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Fm(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Fm(s,l,u),a=c}}}if(al)throw e=Yu,al=!1,Yu=null,e}function Ue(e,t){var n=t[sd];n===void 0&&(n=t[sd]=new Set);var r=e+"__bubble";n.has(r)||(Yv(t,e,2,!1),n.add(r))}function Yc(e,t,n){var r=0;t&&(r|=4),Yv(n,e,r,t)}var mi="_reactListening"+Math.random().toString(36).slice(2);function va(e){if(!e[mi]){e[mi]=!0,tv.forEach(function(n){n!=="selectionchange"&&(CN.has(n)||Yc(n,!1,e),Yc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mi]||(t[mi]=!0,Yc("selectionchange",!1,t))}}function Yv(e,t,n,r){switch(_v(t)){case 1:var s=zS;break;case 4:s=FS;break;default:s=wf}n=s.bind(null,t,n,e),s=void 0,!Gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Xc(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=rs(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}vv(function(){var u=a,f=gf(n),h=[];e:{var m=Kv.get(e);if(m!==void 0){var y=Sf,w=e;switch(e){case"keypress":if(Vi(n)===0)break e;case"keydown":case"keyup":y=tN;break;case"focusin":w="focus",y=Bc;break;case"focusout":w="blur",y=Bc;break;case"beforeblur":case"afterblur":y=Bc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=WS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sN;break;case Bv:case Wv:case Vv:y=KS;break;case Hv:y=aN;break;case"scroll":y=US;break;case"wheel":y=lN;break;case"copy":case"cut":case"paste":y=YS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pm}var x=(t&4)!==0,S=!x&&e==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var g=u,v;g!==null;){v=g;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,p!==null&&(N=da(g,p),N!=null&&x.push(xa(g,N,v)))),S)break;g=g.return}0<x.length&&(m=new y(m,w,null,n,f),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Hu&&(w=n.relatedTarget||n.fromElement)&&(rs(w)||w[or]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?rs(w):null,w!==null&&(S=bs(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=Tm,N="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Pm,N="onPointerLeave",p="onPointerEnter",g="pointer"),S=y==null?m:$s(y),v=w==null?m:$s(w),m=new x(N,g+"leave",y,n,f),m.target=S,m.relatedTarget=v,N=null,rs(f)===u&&(x=new x(p,g+"enter",w,n,f),x.target=v,x.relatedTarget=S,N=x),S=N,y&&w)t:{for(x=y,p=w,g=0,v=x;v;v=Rs(v))g++;for(v=0,N=p;N;N=Rs(N))v++;for(;0<g-v;)x=Rs(x),g--;for(;0<v-g;)p=Rs(p),v--;for(;g--;){if(x===p||p!==null&&x===p.alternate)break t;x=Rs(x),p=Rs(p)}x=null}else x=null;y!==null&&Um(h,m,y,x,!1),w!==null&&S!==null&&Um(h,S,w,x,!0)}}e:{if(m=u?$s(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var C=pN;else if(Im(m))if(Mv)C=yN;else{C=vN;var T=gN}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=xN);if(C&&(C=C(e,u))){Lv(h,C,n,f);break e}T&&T(e,m,u),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Fu(m,"number",m.value)}switch(T=u?$s(u):window,e){case"focusin":(Im(T)||T.contentEditable==="true")&&(Ls=T,Ju=u,ta=null);break;case"focusout":ta=Ju=Ls=null;break;case"mousedown":Zu=!0;break;case"contextmenu":case"mouseup":case"dragend":Zu=!1,$m(h,n,f);break;case"selectionchange":if(SN)break;case"keydown":case"keyup":$m(h,n,f)}var P;if(jf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Os?Dv(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Iv&&n.locale!=="ko"&&(Os||k!=="onCompositionStart"?k==="onCompositionEnd"&&Os&&(P=Av()):(Tr=f,bf="value"in Tr?Tr.value:Tr.textContent,Os=!0)),T=dl(u,k),0<T.length&&(k=new Rm(k,e,null,n,f),h.push({event:k,listeners:T}),P?k.data=P:(P=Ov(n),P!==null&&(k.data=P)))),(P=uN?dN(e,n):fN(e,n))&&(u=dl(u,"onBeforeInput"),0<u.length&&(f=new Rm("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=P))}Gv(h,t)})}function xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=da(e,n),a!=null&&r.unshift(xa(e,a,s)),a=da(e,t),a!=null&&r.push(xa(e,a,s))),e=e.return}return r}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Um(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=da(n,a),c!=null&&i.unshift(xa(n,c,l))):s||(c=da(n,a),c!=null&&i.push(xa(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var kN=/\r\n?/g,EN=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(kN,`
`).replace(EN,"")}function pi(e,t,n){if(t=Bm(t),Bm(e)!==t&&n)throw Error(q(425))}function fl(){}var ed=null,td=null;function nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,TN=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,RN=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(e){return Wm.resolve(null).then(e).catch(PN)}:rd;function PN(e){setTimeout(function(){throw e})}function qc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ma(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ma(t)}function Ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var go=Math.random().toString(36).slice(2),In="__reactFiber$"+go,ya="__reactProps$"+go,or="__reactContainer$"+go,sd="__reactEvents$"+go,_N="__reactListeners$"+go,AN="__reactHandles$"+go;function rs(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[or]||n[In]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vm(e);e!==null;){if(n=e[In])return n;e=Vm(e)}return t}e=n,n=e.parentNode}return null}function Ma(e){return e=e[In]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Xl(e){return e[ya]||null}var od=[],zs=-1;function Gr(e){return{current:e}}function Be(e){0>zs||(e.current=od[zs],od[zs]=null,zs--)}function Me(e,t){zs++,od[zs]=e.current,e.current=t}var Ur={},jt=Gr(Ur),zt=Gr(!1),us=Ur;function ro(e,t){var n=e.type.contextTypes;if(!n)return Ur;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ft(e){return e=e.childContextTypes,e!=null}function hl(){Be(zt),Be(jt)}function Hm(e,t,n){if(jt.current!==Ur)throw Error(q(168));Me(jt,t),Me(zt,n)}function Xv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(q(108,gS(e)||"Unknown",s));return Ke({},n,r)}function ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ur,us=jt.current,Me(jt,e),Me(zt,zt.current),!0}function Km(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Xv(e,t,us),r.__reactInternalMemoizedMergedChildContext=e,Be(zt),Be(jt),Me(jt,e)):Be(zt),Me(zt,n)}var Jn=null,ql=!1,Qc=!1;function qv(e){Jn===null?Jn=[e]:Jn.push(e)}function IN(e){ql=!0,qv(e)}function Yr(){if(!Qc&&Jn!==null){Qc=!0;var e=0,t=De;try{var n=Jn;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jn=null,ql=!1}catch(s){throw Jn!==null&&(Jn=Jn.slice(e+1)),bv(vf,Yr),s}finally{De=t,Qc=!1}}return null}var Fs=[],Us=0,pl=null,gl=0,nn=[],rn=0,ds=null,Zn=1,er="";function es(e,t){Fs[Us++]=gl,Fs[Us++]=pl,pl=e,gl=t}function Qv(e,t,n){nn[rn++]=Zn,nn[rn++]=er,nn[rn++]=ds,ds=e;var r=Zn;e=er;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var a=32-bn(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Zn=1<<32-bn(t)+s|n<<s|r,er=a+e}else Zn=1<<a|n<<s|r,er=e}function kf(e){e.return!==null&&(es(e,1),Qv(e,1,0))}function Ef(e){for(;e===pl;)pl=Fs[--Us],Fs[Us]=null,gl=Fs[--Us],Fs[Us]=null;for(;e===ds;)ds=nn[--rn],nn[rn]=null,er=nn[--rn],nn[rn]=null,Zn=nn[--rn],nn[rn]=null}var Gt=null,Ht=null,We=!1,wn=null;function Jv(e,t){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Ht=Ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ds!==null?{id:Zn,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Ht=null,!0):!1;default:return!1}}function ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function id(e){if(We){var t=Ht;if(t){var n=t;if(!Gm(e,t)){if(ad(e))throw Error(q(418));t=Ir(n.nextSibling);var r=Gt;t&&Gm(e,t)?Jv(r,n):(e.flags=e.flags&-4097|2,We=!1,Gt=e)}}else{if(ad(e))throw Error(q(418));e.flags=e.flags&-4097|2,We=!1,Gt=e}}}function Ym(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function gi(e){if(e!==Gt)return!1;if(!We)return Ym(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nd(e.type,e.memoizedProps)),t&&(t=Ht)){if(ad(e))throw Zv(),Error(q(418));for(;t;)Jv(e,t),t=Ir(t.nextSibling)}if(Ym(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ht=Ir(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ht=null}}else Ht=Gt?Ir(e.stateNode.nextSibling):null;return!0}function Zv(){for(var e=Ht;e;)e=Ir(e.nextSibling)}function so(){Ht=Gt=null,We=!1}function Tf(e){wn===null?wn=[e]:wn.push(e)}var DN=fr.ReactCurrentBatchConfig;function Oo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xm(e){var t=e._init;return t(e._payload)}function ex(e){function t(p,g){if(e){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=Mr(p,g),p.index=0,p.sibling=null,p}function a(p,g,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,v,N){return g===null||g.tag!==6?(g=su(v,p.mode,N),g.return=p,g):(g=s(g,v),g.return=p,g)}function c(p,g,v,N){var C=v.type;return C===Ds?f(p,g,v.props.children,N,v.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===br&&Xm(C)===g.type)?(N=s(g,v.props),N.ref=Oo(p,g,v),N.return=p,N):(N=Qi(v.type,v.key,v.props,null,p.mode,N),N.ref=Oo(p,g,v),N.return=p,N)}function u(p,g,v,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ou(v,p.mode,N),g.return=p,g):(g=s(g,v.children||[]),g.return=p,g)}function f(p,g,v,N,C){return g===null||g.tag!==7?(g=cs(v,p.mode,N,C),g.return=p,g):(g=s(g,v),g.return=p,g)}function h(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=su(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ai:return v=Qi(g.type,g.key,g.props,null,p.mode,v),v.ref=Oo(p,null,g),v.return=p,v;case Is:return g=ou(g,p.mode,v),g.return=p,g;case br:var N=g._init;return h(p,N(g._payload),v)}if(Ho(g)||Po(g))return g=cs(g,p.mode,v,null),g.return=p,g;vi(p,g)}return null}function m(p,g,v,N){var C=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(p,g,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ai:return v.key===C?c(p,g,v,N):null;case Is:return v.key===C?u(p,g,v,N):null;case br:return C=v._init,m(p,g,C(v._payload),N)}if(Ho(v)||Po(v))return C!==null?null:f(p,g,v,N,null);vi(p,v)}return null}function y(p,g,v,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return p=p.get(v)||null,l(g,p,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ai:return p=p.get(N.key===null?v:N.key)||null,c(g,p,N,C);case Is:return p=p.get(N.key===null?v:N.key)||null,u(g,p,N,C);case br:var T=N._init;return y(p,g,v,T(N._payload),C)}if(Ho(N)||Po(N))return p=p.get(v)||null,f(g,p,N,C,null);vi(g,N)}return null}function w(p,g,v,N){for(var C=null,T=null,P=g,k=g=0,b=null;P!==null&&k<v.length;k++){P.index>k?(b=P,P=null):b=P.sibling;var j=m(p,P,v[k],N);if(j===null){P===null&&(P=b);break}e&&P&&j.alternate===null&&t(p,P),g=a(j,g,k),T===null?C=j:T.sibling=j,T=j,P=b}if(k===v.length)return n(p,P),We&&es(p,k),C;if(P===null){for(;k<v.length;k++)P=h(p,v[k],N),P!==null&&(g=a(P,g,k),T===null?C=P:T.sibling=P,T=P);return We&&es(p,k),C}for(P=r(p,P);k<v.length;k++)b=y(P,p,k,v[k],N),b!==null&&(e&&b.alternate!==null&&P.delete(b.key===null?k:b.key),g=a(b,g,k),T===null?C=b:T.sibling=b,T=b);return e&&P.forEach(function(I){return t(p,I)}),We&&es(p,k),C}function x(p,g,v,N){var C=Po(v);if(typeof C!="function")throw Error(q(150));if(v=C.call(v),v==null)throw Error(q(151));for(var T=C=null,P=g,k=g=0,b=null,j=v.next();P!==null&&!j.done;k++,j=v.next()){P.index>k?(b=P,P=null):b=P.sibling;var I=m(p,P,j.value,N);if(I===null){P===null&&(P=b);break}e&&P&&I.alternate===null&&t(p,P),g=a(I,g,k),T===null?C=I:T.sibling=I,T=I,P=b}if(j.done)return n(p,P),We&&es(p,k),C;if(P===null){for(;!j.done;k++,j=v.next())j=h(p,j.value,N),j!==null&&(g=a(j,g,k),T===null?C=j:T.sibling=j,T=j);return We&&es(p,k),C}for(P=r(p,P);!j.done;k++,j=v.next())j=y(P,p,k,j.value,N),j!==null&&(e&&j.alternate!==null&&P.delete(j.key===null?k:j.key),g=a(j,g,k),T===null?C=j:T.sibling=j,T=j);return e&&P.forEach(function(E){return t(p,E)}),We&&es(p,k),C}function S(p,g,v,N){if(typeof v=="object"&&v!==null&&v.type===Ds&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ai:e:{for(var C=v.key,T=g;T!==null;){if(T.key===C){if(C=v.type,C===Ds){if(T.tag===7){n(p,T.sibling),g=s(T,v.props.children),g.return=p,p=g;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===br&&Xm(C)===T.type){n(p,T.sibling),g=s(T,v.props),g.ref=Oo(p,T,v),g.return=p,p=g;break e}n(p,T);break}else t(p,T);T=T.sibling}v.type===Ds?(g=cs(v.props.children,p.mode,N,v.key),g.return=p,p=g):(N=Qi(v.type,v.key,v.props,null,p.mode,N),N.ref=Oo(p,g,v),N.return=p,p=N)}return i(p);case Is:e:{for(T=v.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(p,g.sibling),g=s(g,v.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=ou(v,p.mode,N),g.return=p,p=g}return i(p);case br:return T=v._init,S(p,g,T(v._payload),N)}if(Ho(v))return w(p,g,v,N);if(Po(v))return x(p,g,v,N);vi(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,v),g.return=p,p=g):(n(p,g),g=su(v,p.mode,N),g.return=p,p=g),i(p)):n(p,g)}return S}var oo=ex(!0),tx=ex(!1),vl=Gr(null),xl=null,Bs=null,Rf=null;function Pf(){Rf=Bs=xl=null}function _f(e){var t=vl.current;Be(vl),e._currentValue=t}function ld(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qs(e,t){xl=e,Rf=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(Rf!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(xl===null)throw Error(q(308));Bs=e,xl.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var ss=null;function Af(e){ss===null?ss=[e]:ss.push(e)}function nx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Af(t)):(n.next=s.next,s.next=n),t.interleaved=n,ar(e,r)}function ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sr=!1;function If(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ar(e,n)}return s=r.interleaved,s===null?(t.next=t,Af(r)):(t.next=s.next,s.next=t),r.interleaved=t,ar(e,n)}function Hi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xf(e,n)}}function qm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,r){var s=e.updateQueue;Sr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,f=u=c=null,l=a;do{var m=l.lane,y=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(y,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(y,h,m):w,m==null)break e;h=Ke({},h,m);break e;case 2:Sr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,c=h):f=f.next=y,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);hs|=i,e.lanes=i,e.memoizedState=h}}function Qm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var $a={},$n=Gr($a),wa=Gr($a),ba=Gr($a);function os(e){if(e===$a)throw Error(q(174));return e}function Df(e,t){switch(Me(ba,t),Me(wa,e),Me($n,$a),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bu(t,e)}Be($n),Me($n,t)}function ao(){Be($n),Be(wa),Be(ba)}function sx(e){os(ba.current);var t=os($n.current),n=Bu(t,e.type);t!==n&&(Me(wa,e),Me($n,n))}function Of(e){wa.current===e&&(Be($n),Be(wa))}var Ve=Gr(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jc=[];function Lf(){for(var e=0;e<Jc.length;e++)Jc[e]._workInProgressVersionPrimary=null;Jc.length=0}var Ki=fr.ReactCurrentDispatcher,Zc=fr.ReactCurrentBatchConfig,fs=0,He=null,at=null,ut=null,bl=!1,na=!1,Sa=0,ON=0;function yt(){throw Error(q(321))}function Mf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nn(e[n],t[n]))return!1;return!0}function $f(e,t,n,r,s,a){if(fs=a,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ki.current=e===null||e.memoizedState===null?zN:FN,e=n(r,s),na){a=0;do{if(na=!1,Sa=0,25<=a)throw Error(q(301));a+=1,ut=at=null,t.updateQueue=null,Ki.current=UN,e=n(r,s)}while(na)}if(Ki.current=Sl,t=at!==null&&at.next!==null,fs=0,ut=at=He=null,bl=!1,t)throw Error(q(300));return e}function zf(){var e=Sa!==0;return Sa=0,e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?He.memoizedState=ut=e:ut=ut.next=e,ut}function cn(){if(at===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ut===null?He.memoizedState:ut.next;if(t!==null)ut=t,at=e;else{if(e===null)throw Error(q(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ut===null?He.memoizedState=ut=e:ut=ut.next=e}return ut}function Na(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=cn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=at,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var f=u.lane;if((fs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,He.lanes|=f,hs|=f}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,Nn(r,t.memoizedState)||($t=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,He.lanes|=a,hs|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tu(e){var t=cn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Nn(a,t.memoizedState)||($t=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ox(){}function ax(e,t){var n=He,r=cn(),s=t(),a=!Nn(r.memoizedState,s);if(a&&(r.memoizedState=s,$t=!0),r=r.queue,Ff(cx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,ja(9,lx.bind(null,n,r,s,t),void 0,null),dt===null)throw Error(q(349));fs&30||ix(n,t,s)}return s}function ix(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lx(e,t,n,r){t.value=n,t.getSnapshot=r,ux(t)&&dx(e)}function cx(e,t,n){return n(function(){ux(t)&&dx(e)})}function ux(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nn(e,n)}catch{return!0}}function dx(e){var t=ar(e,1);t!==null&&Sn(t,e,1,-1)}function Jm(e){var t=An();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=$N.bind(null,He,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fx(){return cn().memoizedState}function Gi(e,t,n,r){var s=An();He.flags|=e,s.memoizedState=ja(1|t,n,void 0,r===void 0?null:r)}function Ql(e,t,n,r){var s=cn();r=r===void 0?null:r;var a=void 0;if(at!==null){var i=at.memoizedState;if(a=i.destroy,r!==null&&Mf(r,i.deps)){s.memoizedState=ja(t,n,a,r);return}}He.flags|=e,s.memoizedState=ja(1|t,n,a,r)}function Zm(e,t){return Gi(8390656,8,e,t)}function Ff(e,t){return Ql(2048,8,e,t)}function hx(e,t){return Ql(4,2,e,t)}function mx(e,t){return Ql(4,4,e,t)}function px(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gx(e,t,n){return n=n!=null?n.concat([e]):null,Ql(4,4,px.bind(null,t,e),n)}function Uf(){}function vx(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xx(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yx(e,t,n){return fs&21?(Nn(n,t)||(n=jv(),He.lanes|=n,hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n)}function LN(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=Zc.transition;Zc.transition={};try{e(!1),t()}finally{De=n,Zc.transition=r}}function wx(){return cn().memoizedState}function MN(e,t,n){var r=Lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bx(e))Sx(t,n);else if(n=nx(e,t,n,r),n!==null){var s=At();Sn(n,e,r,s),Nx(n,t,r)}}function $N(e,t,n){var r=Lr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bx(e))Sx(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,Nn(l,i)){var c=t.interleaved;c===null?(s.next=s,Af(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=nx(e,t,s,r),n!==null&&(s=At(),Sn(n,e,r,s),Nx(n,t,r))}}function bx(e){var t=e.alternate;return e===He||t!==null&&t===He}function Sx(e,t){na=bl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xf(e,n)}}var Sl={readContext:ln,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},zN={readContext:ln,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:Zm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4194308,4,px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gi(4,2,e,t)},useMemo:function(e,t){var n=An();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=An();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=MN.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:Jm,useDebugValue:Uf,useDeferredValue:function(e){return An().memoizedState=e},useTransition:function(){var e=Jm(!1),t=e[0];return e=LN.bind(null,e[1]),An().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,s=An();if(We){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),dt===null)throw Error(q(349));fs&30||ix(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Zm(cx.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,lx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=An(),t=dt.identifierPrefix;if(We){var n=er,r=Zn;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ON++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FN={readContext:ln,useCallback:vx,useContext:ln,useEffect:Ff,useImperativeHandle:gx,useInsertionEffect:hx,useLayoutEffect:mx,useMemo:xx,useReducer:eu,useRef:fx,useState:function(){return eu(Na)},useDebugValue:Uf,useDeferredValue:function(e){var t=cn();return yx(t,at.memoizedState,e)},useTransition:function(){var e=eu(Na)[0],t=cn().memoizedState;return[e,t]},useMutableSource:ox,useSyncExternalStore:ax,useId:wx,unstable_isNewReconciler:!1},UN={readContext:ln,useCallback:vx,useContext:ln,useEffect:Ff,useImperativeHandle:gx,useInsertionEffect:hx,useLayoutEffect:mx,useMemo:xx,useReducer:tu,useRef:fx,useState:function(){return tu(Na)},useDebugValue:Uf,useDeferredValue:function(e){var t=cn();return at===null?t.memoizedState=e:yx(t,at.memoizedState,e)},useTransition:function(){var e=tu(Na)[0],t=cn().memoizedState;return[e,t]},useMutableSource:ox,useSyncExternalStore:ax,useId:wx,unstable_isNewReconciler:!1};function xn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function cd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jl={isMounted:function(e){return(e=e._reactInternals)?bs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=At(),s=Lr(e),a=tr(r,s);a.payload=t,n!=null&&(a.callback=n),t=Dr(e,a,s),t!==null&&(Sn(t,e,s,r),Hi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=At(),s=Lr(e),a=tr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Dr(e,a,s),t!==null&&(Sn(t,e,s,r),Hi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),r=Lr(e),s=tr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Dr(e,s,r),t!==null&&(Sn(t,e,r,n),Hi(t,e,r))}};function ep(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ga(n,r)||!ga(s,a):!0}function jx(e,t,n){var r=!1,s=Ur,a=t.contextType;return typeof a=="object"&&a!==null?a=ln(a):(s=Ft(t)?us:jt.current,r=t.contextTypes,a=(r=r!=null)?ro(e,s):Ur),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function tp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jl.enqueueReplaceState(t,t.state,null)}function ud(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},If(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ln(a):(a=Ft(t)?us:jt.current,s.context=ro(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(cd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Jl.enqueueReplaceState(s,s.state,null),yl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function io(e,t){try{var n="",r=t;do n+=pS(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function nu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function dd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var BN=typeof WeakMap=="function"?WeakMap:Map;function Cx(e,t,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jl||(jl=!0,bd=r),dd(e,t)},n}function kx(e,t,n){n=tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){dd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){dd(e,t),typeof r!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function np(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new BN;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=nj.bind(null,e,t,n),t.then(e,e))}function rp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=tr(-1,1),t.tag=2,Dr(n,t,1))),n.lanes|=1),e)}var WN=fr.ReactCurrentOwner,$t=!1;function Rt(e,t,n,r){t.child=e===null?tx(t,null,n,r):oo(t,e.child,n,r)}function op(e,t,n,r,s){n=n.render;var a=t.ref;return qs(t,s),r=$f(e,t,n,r,a,s),n=zf(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ir(e,t,s)):(We&&n&&kf(t),t.flags|=1,Rt(e,t,r,s),t.child)}function ap(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Xf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ex(e,t,a,r,s)):(e=Qi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ga,n(i,r)&&e.ref===t.ref)return ir(e,t,s)}return t.flags|=1,e=Mr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ex(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ga(a,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,ir(e,t,s)}return fd(e,t,n,r,s)}function Tx(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Vs,Bt),Bt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(Vs,Bt),Bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Me(Vs,Bt),Bt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Me(Vs,Bt),Bt|=r;return Rt(e,t,s,n),t.child}function Rx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fd(e,t,n,r,s){var a=Ft(n)?us:jt.current;return a=ro(t,a),qs(t,s),n=$f(e,t,n,r,a,s),r=zf(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ir(e,t,s)):(We&&r&&kf(t),t.flags|=1,Rt(e,t,n,s),t.child)}function ip(e,t,n,r,s){if(Ft(n)){var a=!0;ml(t)}else a=!1;if(qs(t,s),t.stateNode===null)Yi(e,t),jx(t,n,r),ud(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=Ft(n)?us:jt.current,u=ro(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&tp(t,i,r,u),Sr=!1;var m=t.memoizedState;i.state=m,yl(t,r,i,s),c=t.memoizedState,l!==r||m!==c||zt.current||Sr?(typeof f=="function"&&(cd(t,n,f,r),c=t.memoizedState),(l=Sr||ep(t,n,l,r,m,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,rx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:xn(t.type,l),i.props=u,h=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=ln(c):(c=Ft(n)?us:jt.current,c=ro(t,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||m!==c)&&tp(t,i,r,c),Sr=!1,m=t.memoizedState,i.state=m,yl(t,r,i,s);var w=t.memoizedState;l!==h||m!==w||zt.current||Sr?(typeof y=="function"&&(cd(t,n,y,r),w=t.memoizedState),(u=Sr||ep(t,n,u,r,m,w,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return hd(e,t,n,r,a,s)}function hd(e,t,n,r,s,a){Rx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Km(t,n,!1),ir(e,t,a);r=t.stateNode,WN.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=oo(t,e.child,null,a),t.child=oo(t,null,l,a)):Rt(e,t,l,a),t.memoizedState=r.state,s&&Km(t,n,!0),t.child}function Px(e){var t=e.stateNode;t.pendingContext?Hm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hm(e,t.context,!1),Df(e,t.containerInfo)}function lp(e,t,n,r,s){return so(),Tf(s),t.flags|=256,Rt(e,t,n,r),t.child}var md={dehydrated:null,treeContext:null,retryLane:0};function pd(e){return{baseLanes:e,cachePool:null,transitions:null}}function _x(e,t,n){var r=t.pendingProps,s=Ve.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Me(Ve,s&1),e===null)return id(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=tc(i,r,0,null),e=cs(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=pd(n),t.memoizedState=md,e):Bf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return VN(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Mr(l,a):(a=cs(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?pd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=md,r}return a=e.child,e=a.sibling,r=Mr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bf(e,t){return t=tc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xi(e,t,n,r){return r!==null&&Tf(r),oo(t,e.child,null,n),e=Bf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VN(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=nu(Error(q(422))),xi(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=tc({mode:"visible",children:r.children},s,0,null),a=cs(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&oo(t,e.child,null,i),t.child.memoizedState=pd(i),t.memoizedState=md,a);if(!(t.mode&1))return xi(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(q(419)),r=nu(a,r,void 0),xi(e,t,i,r)}if(l=(i&e.childLanes)!==0,$t||l){if(r=dt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ar(e,s),Sn(r,e,s,-1))}return Yf(),r=nu(Error(q(421))),xi(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rj.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ht=Ir(s.nextSibling),Gt=t,We=!0,wn=null,e!==null&&(nn[rn++]=Zn,nn[rn++]=er,nn[rn++]=ds,Zn=e.id,er=e.overflow,ds=t),t=Bf(t,r.children),t.flags|=4096,t)}function cp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ld(e.return,t,n)}function ru(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Ax(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Rt(e,t,r.children,n),r=Ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cp(e,n,t);else if(e.tag===19)cp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(Ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ru(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ru(t,!0,n,null,a);break;case"together":ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=Mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function HN(e,t,n){switch(t.tag){case 3:Px(t),so();break;case 5:sx(t);break;case 1:Ft(t.type)&&ml(t);break;case 4:Df(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Me(vl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?_x(e,t,n):(Me(Ve,Ve.current&1),e=ir(e,t,n),e!==null?e.sibling:null);Me(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ax(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Tx(e,t,n)}return ir(e,t,n)}var Ix,gd,Dx,Ox;Ix=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gd=function(){};Dx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,os($n.current);var a=null;switch(n){case"input":s=$u(e,s),r=$u(e,r),a=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),a=[];break;case"textarea":s=Uu(e,s),r=Uu(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fl)}Wu(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ca.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ca.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ue("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Ox=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lo(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function KN(e,t,n){var r=t.pendingProps;switch(Ef(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Ft(t.type)&&hl(),wt(t),null;case 3:return r=t.stateNode,ao(),Be(zt),Be(jt),Lf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wn!==null&&(jd(wn),wn=null))),gd(e,t),wt(t),null;case 5:Of(t);var s=os(ba.current);if(n=t.type,e!==null&&t.stateNode!=null)Dx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return wt(t),null}if(e=os($n.current),gi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[In]=t,r[ya]=a,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Go.length;s++)Ue(Go[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":xm(r,a),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ue("invalid",r);break;case"textarea":wm(r,a),Ue("invalid",r)}Wu(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&pi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&pi(r.textContent,l,e),s=["children",""+l]):ca.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ue("scroll",r)}switch(n){case"input":ii(r),ym(r,a,!0);break;case"textarea":ii(r),bm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=fl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[In]=t,e[ya]=r,Ix(e,t,!1,!1),t.stateNode=e;e:{switch(i=Vu(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),s=r;break;case"iframe":case"object":case"embed":Ue("load",e),s=r;break;case"video":case"audio":for(s=0;s<Go.length;s++)Ue(Go[s],e);s=r;break;case"source":Ue("error",e),s=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),s=r;break;case"details":Ue("toggle",e),s=r;break;case"input":xm(e,r),s=$u(e,r),Ue("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":wm(e,r),s=Uu(e,r),Ue("invalid",e);break;default:s=r}Wu(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?fv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uv(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ua(e,c):typeof c=="number"&&ua(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ca.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ue("scroll",e):c!=null&&ff(e,a,c,i))}switch(n){case"input":ii(e),ym(e,r,!1);break;case"textarea":ii(e),bm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ks(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ks(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Ox(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=os(ba.current),os($n.current),gi(t)){if(r=t.stateNode,n=t.memoizedProps,r[In]=t,(a=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:pi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=t,t.stateNode=r}return wt(t),null;case 13:if(Be(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Ht!==null&&t.mode&1&&!(t.flags&128))Zv(),so(),t.flags|=98560,a=!1;else if(a=gi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[In]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),a=!1}else wn!==null&&(jd(wn),wn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?it===0&&(it=3):Yf())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return ao(),gd(e,t),e===null&&va(t.stateNode.containerInfo),wt(t),null;case 10:return _f(t.type._context),wt(t),null;case 17:return Ft(t.type)&&hl(),wt(t),null;case 19:if(Be(Ve),a=t.memoizedState,a===null)return wt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Lo(a,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=wl(e),i!==null){for(t.flags|=128,Lo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Me(Ve,Ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ze()>lo&&(t.flags|=128,r=!0,Lo(a,!1),t.lanes=4194304)}else{if(!r)if(e=wl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!We)return wt(t),null}else 2*Ze()-a.renderingStartTime>lo&&n!==1073741824&&(t.flags|=128,r=!0,Lo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=Ve.current,Me(Ve,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return Gf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Bt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function GN(e,t){switch(Ef(t),t.tag){case 1:return Ft(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ao(),Be(zt),Be(jt),Lf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Of(t),null;case 13:if(Be(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ve),null;case 4:return ao(),null;case 10:return _f(t.type._context),null;case 22:case 23:return Gf(),null;case 24:return null;default:return null}}var yi=!1,bt=!1,YN=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ws(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(e,t,r)}else n.current=null}function vd(e,t,n){try{n()}catch(r){Ye(e,t,r)}}var up=!1;function XN(e,t){if(ed=cl,e=Fv(),Cf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=i+s),h!==a||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=i),m===a&&++f===r&&(c=i),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(td={focusedElem:e,selectionRange:n},cl=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,S=w.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:xn(t.type,x),S);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(N){Ye(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return w=up,up=!1,w}function ra(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&vd(t,n,a)}s=s.next}while(s!==r)}}function Zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lx(e){var t=e.alternate;t!==null&&(e.alternate=null,Lx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[ya],delete t[sd],delete t[_N],delete t[AN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mx(e){return e.tag===5||e.tag===3||e.tag===4}function dp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(r!==4&&(e=e.child,e!==null))for(yd(e,t,n),e=e.sibling;e!==null;)yd(e,t,n),e=e.sibling}function wd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wd(e,t,n),e=e.sibling;e!==null;)wd(e,t,n),e=e.sibling}var mt=null,yn=!1;function vr(e,t,n){for(n=n.child;n!==null;)$x(e,t,n),n=n.sibling}function $x(e,t,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Hl,n)}catch{}switch(n.tag){case 5:bt||Ws(n,t);case 6:var r=mt,s=yn;mt=null,vr(e,t,n),mt=r,yn=s,mt!==null&&(yn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(yn?(e=mt,n=n.stateNode,e.nodeType===8?qc(e.parentNode,n):e.nodeType===1&&qc(e,n),ma(e)):qc(mt,n.stateNode));break;case 4:r=mt,s=yn,mt=n.stateNode.containerInfo,yn=!0,vr(e,t,n),mt=r,yn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&vd(n,t,i),s=s.next}while(s!==r)}vr(e,t,n);break;case 1:if(!bt&&(Ws(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ye(n,t,l)}vr(e,t,n);break;case 21:vr(e,t,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,vr(e,t,n),bt=r):vr(e,t,n);break;default:vr(e,t,n)}}function fp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YN),t.forEach(function(r){var s=sj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:mt=l.stateNode,yn=!1;break e;case 3:mt=l.stateNode.containerInfo,yn=!0;break e;case 4:mt=l.stateNode.containerInfo,yn=!0;break e}l=l.return}if(mt===null)throw Error(q(160));$x(a,i,s),mt=null,yn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ye(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zx(t,e),t=t.sibling}function zx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),_n(e),r&4){try{ra(3,e,e.return),Zl(3,e)}catch(x){Ye(e,e.return,x)}try{ra(5,e,e.return)}catch(x){Ye(e,e.return,x)}}break;case 1:mn(t,e),_n(e),r&512&&n!==null&&Ws(n,n.return);break;case 5:if(mn(t,e),_n(e),r&512&&n!==null&&Ws(n,n.return),e.flags&32){var s=e.stateNode;try{ua(s,"")}catch(x){Ye(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&iv(s,a),Vu(l,i);var u=Vu(l,a);for(i=0;i<c.length;i+=2){var f=c[i],h=c[i+1];f==="style"?fv(s,h):f==="dangerouslySetInnerHTML"?uv(s,h):f==="children"?ua(s,h):ff(s,f,h,u)}switch(l){case"input":zu(s,a);break;case"textarea":lv(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Ks(s,!!a.multiple,y,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ks(s,!!a.multiple,a.defaultValue,!0):Ks(s,!!a.multiple,a.multiple?[]:"",!1))}s[ya]=a}catch(x){Ye(e,e.return,x)}}break;case 6:if(mn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){Ye(e,e.return,x)}}break;case 3:if(mn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(t.containerInfo)}catch(x){Ye(e,e.return,x)}break;case 4:mn(t,e),_n(e);break;case 13:mn(t,e),_n(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Hf=Ze())),r&4&&fp(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(bt=(u=bt)||f,mn(t,e),bt=u):mn(t,e),_n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(se=e,f=e.child;f!==null;){for(h=se=f;se!==null;){switch(m=se,y=m.child,m.tag){case 0:case 11:case 14:case 15:ra(4,m,m.return);break;case 1:Ws(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ye(r,n,x)}}break;case 5:Ws(m,m.return);break;case 22:if(m.memoizedState!==null){mp(h);continue}}y!==null?(y.return=m,se=y):mp(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dv("display",i))}catch(x){Ye(e,e.return,x)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ye(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mn(t,e),_n(e),r&4&&fp(e);break;case 21:break;default:mn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mx(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ua(s,""),r.flags&=-33);var a=dp(e);wd(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=dp(e);yd(e,l,i);break;default:throw Error(q(161))}}catch(c){Ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qN(e,t,n){se=e,Fx(e)}function Fx(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var s=se,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||yi;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||bt;l=yi;var u=bt;if(yi=i,(bt=c)&&!u)for(se=s;se!==null;)i=se,c=i.child,i.tag===22&&i.memoizedState!==null?pp(s):c!==null?(c.return=i,se=c):pp(s);for(;a!==null;)se=a,Fx(a),a=a.sibling;se=s,yi=l,bt=u}hp(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,se=a):hp(e)}}function hp(e){for(;se!==null;){var t=se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||Zl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Qm(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qm(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&ma(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}bt||t.flags&512&&xd(t)}catch(m){Ye(t,t.return,m)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function mp(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function pp(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zl(4,t)}catch(c){Ye(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ye(t,s,c)}}var a=t.return;try{xd(t)}catch(c){Ye(t,a,c)}break;case 5:var i=t.return;try{xd(t)}catch(c){Ye(t,i,c)}}}catch(c){Ye(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var QN=Math.ceil,Nl=fr.ReactCurrentDispatcher,Wf=fr.ReactCurrentOwner,on=fr.ReactCurrentBatchConfig,Re=0,dt=null,nt=null,pt=0,Bt=0,Vs=Gr(0),it=0,Ca=null,hs=0,ec=0,Vf=0,sa=null,Mt=null,Hf=0,lo=1/0,Qn=null,jl=!1,bd=null,Or=null,wi=!1,Rr=null,Cl=0,oa=0,Sd=null,Xi=-1,qi=0;function At(){return Re&6?Ze():Xi!==-1?Xi:Xi=Ze()}function Lr(e){return e.mode&1?Re&2&&pt!==0?pt&-pt:DN.transition!==null?(qi===0&&(qi=jv()),qi):(e=De,e!==0||(e=window.event,e=e===void 0?16:_v(e.type)),e):1}function Sn(e,t,n,r){if(50<oa)throw oa=0,Sd=null,Error(q(185));Oa(e,n,r),(!(Re&2)||e!==dt)&&(e===dt&&(!(Re&2)&&(ec|=n),it===4&&Cr(e,pt)),Ut(e,r),n===1&&Re===0&&!(t.mode&1)&&(lo=Ze()+500,ql&&Yr()))}function Ut(e,t){var n=e.callbackNode;DS(e,t);var r=ll(e,e===dt?pt:0);if(r===0)n!==null&&jm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jm(n),t===1)e.tag===0?IN(gp.bind(null,e)):qv(gp.bind(null,e)),RN(function(){!(Re&6)&&Yr()}),n=null;else{switch(Cv(r)){case 1:n=vf;break;case 4:n=Sv;break;case 16:n=il;break;case 536870912:n=Nv;break;default:n=il}n=Yx(n,Ux.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ux(e,t){if(Xi=-1,qi=0,Re&6)throw Error(q(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var r=ll(e,e===dt?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kl(e,r);else{t=r;var s=Re;Re|=2;var a=Wx();(dt!==e||pt!==t)&&(Qn=null,lo=Ze()+500,ls(e,t));do try{ej();break}catch(l){Bx(e,l)}while(!0);Pf(),Nl.current=a,Re=s,nt!==null?t=0:(dt=null,pt=0,t=it)}if(t!==0){if(t===2&&(s=Xu(e),s!==0&&(r=s,t=Nd(e,s))),t===1)throw n=Ca,ls(e,0),Cr(e,r),Ut(e,Ze()),n;if(t===6)Cr(e,r);else{if(s=e.current.alternate,!(r&30)&&!JN(s)&&(t=kl(e,r),t===2&&(a=Xu(e),a!==0&&(r=a,t=Nd(e,a))),t===1))throw n=Ca,ls(e,0),Cr(e,r),Ut(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:ts(e,Mt,Qn);break;case 3:if(Cr(e,r),(r&130023424)===r&&(t=Hf+500-Ze(),10<t)){if(ll(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){At(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rd(ts.bind(null,e,Mt,Qn),t);break}ts(e,Mt,Qn);break;case 4:if(Cr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-bn(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QN(r/1960))-r,10<r){e.timeoutHandle=rd(ts.bind(null,e,Mt,Qn),r);break}ts(e,Mt,Qn);break;case 5:ts(e,Mt,Qn);break;default:throw Error(q(329))}}}return Ut(e,Ze()),e.callbackNode===n?Ux.bind(null,e):null}function Nd(e,t){var n=sa;return e.current.memoizedState.isDehydrated&&(ls(e,t).flags|=256),e=kl(e,t),e!==2&&(t=Mt,Mt=n,t!==null&&jd(t)),e}function jd(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function JN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Nn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cr(e,t){for(t&=~Vf,t&=~ec,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bn(t),r=1<<n;e[n]=-1,t&=~r}}function gp(e){if(Re&6)throw Error(q(327));Qs();var t=ll(e,0);if(!(t&1))return Ut(e,Ze()),null;var n=kl(e,t);if(e.tag!==0&&n===2){var r=Xu(e);r!==0&&(t=r,n=Nd(e,r))}if(n===1)throw n=Ca,ls(e,0),Cr(e,t),Ut(e,Ze()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ts(e,Mt,Qn),Ut(e,Ze()),null}function Kf(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(lo=Ze()+500,ql&&Yr())}}function ms(e){Rr!==null&&Rr.tag===0&&!(Re&6)&&Qs();var t=Re;Re|=1;var n=on.transition,r=De;try{if(on.transition=null,De=1,e)return e()}finally{De=r,on.transition=n,Re=t,!(Re&6)&&Yr()}}function Gf(){Bt=Vs.current,Be(Vs)}function ls(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TN(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Ef(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hl();break;case 3:ao(),Be(zt),Be(jt),Lf();break;case 5:Of(r);break;case 4:ao();break;case 13:Be(Ve);break;case 19:Be(Ve);break;case 10:_f(r.type._context);break;case 22:case 23:Gf()}n=n.return}if(dt=e,nt=e=Mr(e.current,null),pt=Bt=t,it=0,Ca=null,Vf=ec=hs=0,Mt=sa=null,ss!==null){for(t=0;t<ss.length;t++)if(n=ss[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}ss=null}return e}function Bx(e,t){do{var n=nt;try{if(Pf(),Ki.current=Sl,bl){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bl=!1}if(fs=0,ut=at=He=null,na=!1,Sa=0,Wf.current=null,n===null||n.return===null){it=1,Ca=t,nt=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=rp(i);if(y!==null){y.flags&=-257,sp(y,i,l,a,t),y.mode&1&&np(a,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){np(a,u,t),Yf();break e}c=Error(q(426))}}else if(We&&l.mode&1){var S=rp(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),sp(S,i,l,a,t),Tf(io(c,l));break e}}a=c=io(c,l),it!==4&&(it=2),sa===null?sa=[a]:sa.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Cx(a,c,t);qm(a,p);break e;case 1:l=c;var g=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Or===null||!Or.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=kx(a,l,t);qm(a,N);break e}}a=a.return}while(a!==null)}Hx(n)}catch(C){t=C,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function Wx(){var e=Nl.current;return Nl.current=Sl,e===null?Sl:e}function Yf(){(it===0||it===3||it===2)&&(it=4),dt===null||!(hs&268435455)&&!(ec&268435455)||Cr(dt,pt)}function kl(e,t){var n=Re;Re|=2;var r=Wx();(dt!==e||pt!==t)&&(Qn=null,ls(e,t));do try{ZN();break}catch(s){Bx(e,s)}while(!0);if(Pf(),Re=n,Nl.current=r,nt!==null)throw Error(q(261));return dt=null,pt=0,it}function ZN(){for(;nt!==null;)Vx(nt)}function ej(){for(;nt!==null&&!CS();)Vx(nt)}function Vx(e){var t=Gx(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?Hx(e):nt=t,Wf.current=null}function Hx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=GN(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,nt=null;return}}else if(n=KN(n,t,Bt),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);it===0&&(it=5)}function ts(e,t,n){var r=De,s=on.transition;try{on.transition=null,De=1,tj(e,t,n,r)}finally{on.transition=s,De=r}return null}function tj(e,t,n,r){do Qs();while(Rr!==null);if(Re&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(OS(e,a),e===dt&&(nt=dt=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wi||(wi=!0,Yx(il,function(){return Qs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=on.transition,on.transition=null;var i=De;De=1;var l=Re;Re|=4,Wf.current=null,XN(e,n),zx(n,e),bN(td),cl=!!ed,td=ed=null,e.current=n,qN(n),kS(),Re=l,De=i,on.transition=a}else e.current=n;if(wi&&(wi=!1,Rr=e,Cl=s),a=e.pendingLanes,a===0&&(Or=null),RS(n.stateNode),Ut(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(jl)throw jl=!1,e=bd,bd=null,e;return Cl&1&&e.tag!==0&&Qs(),a=e.pendingLanes,a&1?e===Sd?oa++:(oa=0,Sd=e):oa=0,Yr(),null}function Qs(){if(Rr!==null){var e=Cv(Cl),t=on.transition,n=De;try{if(on.transition=null,De=16>e?16:e,Rr===null)var r=!1;else{if(e=Rr,Rr=null,Cl=0,Re&6)throw Error(q(331));var s=Re;for(Re|=4,se=e.current;se!==null;){var a=se,i=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var f=se;switch(f.tag){case 0:case 11:case 15:ra(8,f,a)}var h=f.child;if(h!==null)h.return=f,se=h;else for(;se!==null;){f=se;var m=f.sibling,y=f.return;if(Lx(f),f===u){se=null;break}if(m!==null){m.return=y,se=m;break}se=y}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}se=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,se=i;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ra(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,se=p;break e}se=a.return}}var g=e.current;for(se=g;se!==null;){i=se;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,se=v;else e:for(i=g;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zl(9,l)}}catch(C){Ye(l,l.return,C)}if(l===i){se=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,se=N;break e}se=l.return}}if(Re=s,Yr(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Hl,e)}catch{}r=!0}return r}finally{De=n,on.transition=t}}return!1}function vp(e,t,n){t=io(n,t),t=Cx(e,t,1),e=Dr(e,t,1),t=At(),e!==null&&(Oa(e,1,t),Ut(e,t))}function Ye(e,t,n){if(e.tag===3)vp(e,e,n);else for(;t!==null;){if(t.tag===3){vp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Or===null||!Or.has(r))){e=io(n,e),e=kx(t,e,1),t=Dr(t,e,1),e=At(),t!==null&&(Oa(t,1,e),Ut(t,e));break}}t=t.return}}function nj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&n,dt===e&&(pt&n)===n&&(it===4||it===3&&(pt&130023424)===pt&&500>Ze()-Hf?ls(e,0):Vf|=n),Ut(e,t)}function Kx(e,t){t===0&&(e.mode&1?(t=ui,ui<<=1,!(ui&130023424)&&(ui=4194304)):t=1);var n=At();e=ar(e,t),e!==null&&(Oa(e,t,n),Ut(e,n))}function rj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kx(e,n)}function sj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),Kx(e,n)}var Gx;Gx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)$t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $t=!1,HN(e,t,n);$t=!!(e.flags&131072)}else $t=!1,We&&t.flags&1048576&&Qv(t,gl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yi(e,t),e=t.pendingProps;var s=ro(t,jt.current);qs(t,n),s=$f(null,t,r,e,s,n);var a=zf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(r)?(a=!0,ml(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,If(t),s.updater=Jl,t.stateNode=s,s._reactInternals=t,ud(t,r,e,n),t=hd(null,t,r,!0,a,n)):(t.tag=0,We&&a&&kf(t),Rt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=aj(r),e=xn(r,e),s){case 0:t=fd(null,t,r,e,n);break e;case 1:t=ip(null,t,r,e,n);break e;case 11:t=op(null,t,r,e,n);break e;case 14:t=ap(null,t,r,xn(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xn(r,s),fd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xn(r,s),ip(e,t,r,s,n);case 3:e:{if(Px(t),e===null)throw Error(q(387));r=t.pendingProps,a=t.memoizedState,s=a.element,rx(e,t),yl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=io(Error(q(423)),t),t=lp(e,t,r,n,s);break e}else if(r!==s){s=io(Error(q(424)),t),t=lp(e,t,r,n,s);break e}else for(Ht=Ir(t.stateNode.containerInfo.firstChild),Gt=t,We=!0,wn=null,n=tx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(so(),r===s){t=ir(e,t,n);break e}Rt(e,t,r,n)}t=t.child}return t;case 5:return sx(t),e===null&&id(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,nd(r,s)?i=null:a!==null&&nd(r,a)&&(t.flags|=32),Rx(e,t),Rt(e,t,i,n),t.child;case 6:return e===null&&id(t),null;case 13:return _x(e,t,n);case 4:return Df(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=oo(t,null,r,n):Rt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xn(r,s),op(e,t,r,s,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Me(vl,r._currentValue),r._currentValue=i,a!==null)if(Nn(a.value,i)){if(a.children===s.children&&!zt.current){t=ir(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=tr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ld(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(q(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ld(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Rt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,qs(t,n),s=ln(s),r=r(s),t.flags|=1,Rt(e,t,r,n),t.child;case 14:return r=t.type,s=xn(r,t.pendingProps),s=xn(r.type,s),ap(e,t,r,s,n);case 15:return Ex(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xn(r,s),Yi(e,t),t.tag=1,Ft(r)?(e=!0,ml(t)):e=!1,qs(t,n),jx(t,r,s),ud(t,r,s,n),hd(null,t,r,!0,e,n);case 19:return Ax(e,t,n);case 22:return Tx(e,t,n)}throw Error(q(156,t.tag))};function Yx(e,t){return bv(e,t)}function oj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,r){return new oj(e,t,n,r)}function Xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aj(e){if(typeof e=="function")return Xf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mf)return 11;if(e===pf)return 14}return 2}function Mr(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qi(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Xf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ds:return cs(n.children,s,a,t);case hf:i=8,s|=8;break;case Du:return e=sn(12,n,t,s|2),e.elementType=Du,e.lanes=a,e;case Ou:return e=sn(13,n,t,s),e.elementType=Ou,e.lanes=a,e;case Lu:return e=sn(19,n,t,s),e.elementType=Lu,e.lanes=a,e;case sv:return tc(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nv:i=10;break e;case rv:i=9;break e;case mf:i=11;break e;case pf:i=14;break e;case br:i=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=sn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function cs(e,t,n,r){return e=sn(7,e,r,t),e.lanes=n,e}function tc(e,t,n,r){return e=sn(22,e,r,t),e.elementType=sv,e.lanes=n,e.stateNode={isHidden:!1},e}function su(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function ou(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ij(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qf(e,t,n,r,s,a,i,l,c){return e=new ij(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=sn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(a),e}function lj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Xx(e){if(!e)return Ur;e=e._reactInternals;e:{if(bs(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Ft(n))return Xv(e,n,t)}return t}function qx(e,t,n,r,s,a,i,l,c){return e=qf(n,r,!0,e,s,a,i,l,c),e.context=Xx(null),n=e.current,r=At(),s=Lr(n),a=tr(r,s),a.callback=t??null,Dr(n,a,s),e.current.lanes=s,Oa(e,s,r),Ut(e,r),e}function nc(e,t,n,r){var s=t.current,a=At(),i=Lr(s);return n=Xx(n),t.context===null?t.context=n:t.pendingContext=n,t=tr(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dr(s,t,i),e!==null&&(Sn(e,s,i,a),Hi(e,s,i)),i}function El(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qf(e,t){xp(e,t),(e=e.alternate)&&xp(e,t)}function cj(){return null}var Qx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jf(e){this._internalRoot=e}rc.prototype.render=Jf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));nc(e,t,null,null)};rc.prototype.unmount=Jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ms(function(){nc(null,e,null,null)}),t[or]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jr.length&&t!==0&&t<jr[n].priority;n++);jr.splice(n,0,e),n===0&&Pv(e)}};function Zf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yp(){}function uj(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=El(i);a.call(u)}}var i=qx(t,r,e,0,null,!1,!1,"",yp);return e._reactRootContainer=i,e[or]=i.current,va(e.nodeType===8?e.parentNode:e),ms(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=El(c);l.call(u)}}var c=qf(e,0,!1,null,null,!1,!1,"",yp);return e._reactRootContainer=c,e[or]=c.current,va(e.nodeType===8?e.parentNode:e),ms(function(){nc(t,c,n,r)}),c}function oc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=El(i);l.call(c)}}nc(t,i,e,s)}else i=uj(n,t,e,s,r);return El(i)}kv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ko(t.pendingLanes);n!==0&&(xf(t,n|1),Ut(t,Ze()),!(Re&6)&&(lo=Ze()+500,Yr()))}break;case 13:ms(function(){var r=ar(e,1);if(r!==null){var s=At();Sn(r,e,1,s)}}),Qf(e,1)}};yf=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var n=At();Sn(t,e,134217728,n)}Qf(e,134217728)}};Ev=function(e){if(e.tag===13){var t=Lr(e),n=ar(e,t);if(n!==null){var r=At();Sn(n,e,t,r)}Qf(e,t)}};Tv=function(){return De};Rv=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Ku=function(e,t,n){switch(t){case"input":if(zu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Xl(r);if(!s)throw Error(q(90));av(r),zu(r,s)}}}break;case"textarea":lv(e,n);break;case"select":t=n.value,t!=null&&Ks(e,!!n.multiple,t,!1)}};pv=Kf;gv=ms;var dj={usingClientEntryPoint:!1,Events:[Ma,$s,Xl,hv,mv,Kf]},Mo={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fj={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yv(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{Hl=bi.inject(fj),Mn=bi}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dj;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zf(t))throw Error(q(200));return lj(e,t,null,n)};Qt.createRoot=function(e,t){if(!Zf(e))throw Error(q(299));var n=!1,r="",s=Qx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qf(e,1,!1,null,null,n,!1,r,s),e[or]=t.current,va(e.nodeType===8?e.parentNode:e),new Jf(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=yv(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return ms(e)};Qt.hydrate=function(e,t,n){if(!sc(t))throw Error(q(200));return oc(null,e,t,!0,n)};Qt.hydrateRoot=function(e,t,n){if(!Zf(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=Qx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=qx(t,null,e,1,n??null,s,!1,a,i),e[or]=t.current,va(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new rc(t)};Qt.render=function(e,t,n){if(!sc(t))throw Error(q(200));return oc(null,e,t,!1,n)};Qt.unmountComponentAtNode=function(e){if(!sc(e))throw Error(q(40));return e._reactRootContainer?(ms(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1};Qt.unstable_batchedUpdates=Kf;Qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sc(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return oc(e,t,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function Jx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jx)}catch(e){console.error(e)}}Jx(),Jg.exports=Qt;var vo=Jg.exports;const hj=sf(vo);var wp=vo;Au.createRoot=wp.createRoot,Au.hydrateRoot=wp.hydrateRoot;var eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.parse=wj;eh.serialize=bj;const mj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,pj=/^[\u0021-\u003A\u003C-\u007E]*$/,gj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,vj=/^[\u0020-\u003A\u003D-\u007E]*$/,xj=Object.prototype.toString,yj=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function wj(e,t){const n=new yj,r=e.length;if(r<2)return n;const s=(t==null?void 0:t.decode)||Sj;let a=0;do{const i=e.indexOf("=",a);if(i===-1)break;const l=e.indexOf(";",a),c=l===-1?r:l;if(i>c){a=e.lastIndexOf(";",i-1)+1;continue}const u=bp(e,a,i),f=Sp(e,i,u),h=e.slice(u,f);if(n[h]===void 0){let m=bp(e,i+1,c),y=Sp(e,c,m);const w=s(e.slice(m,y));n[h]=w}a=c+1}while(a<r);return n}function bp(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Sp(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function bj(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!mj.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=r(t);if(!pj.test(s))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+s;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!gj.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!vj.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!Nj(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function Sj(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Nj(e){return xj.call(e)==="[object Date]"}var Np="popstate";function jj(e={}){function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return Cd("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ka(s)}return kj(t,n,null,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cj(){return Math.random().toString(36).substring(2,10)}function jp(e,t){return{usr:e.state,key:e.key,idx:t}}function Cd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?za(t):t,state:n,key:t&&t.key||r||Cj()}}function ka({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function za(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function kj(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l="POP",c=null,u=f();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function f(){return(i.state||{idx:null}).idx}function h(){l="POP";let S=f(),p=S==null?null:S-u;u=S,c&&c({action:l,location:x.location,delta:p})}function m(S,p){l="PUSH";let g=Cd(x.location,S,p);u=f()+1;let v=jp(g,u),N=x.createHref(g);try{i.pushState(v,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(N)}a&&c&&c({action:l,location:x.location,delta:1})}function y(S,p){l="REPLACE";let g=Cd(x.location,S,p);u=f();let v=jp(g,u),N=x.createHref(g);i.replaceState(v,"",N),a&&c&&c({action:l,location:x.location,delta:0})}function w(S){return Ej(S)}let x={get action(){return l},get location(){return e(s,i)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Np,h),c=S,()=>{s.removeEventListener(Np,h),c=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let p=w(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:y,go(S){return i.go(S)}};return x}function Ej(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ka(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Zx(e,t,n="/"){return Tj(e,t,n,!1)}function Tj(e,t,n,r){let s=typeof t=="string"?za(t):t,a=lr(s.pathname||"/",n);if(a==null)return null;let i=ey(e);Rj(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Fj(a);l=$j(i[c],u,r)}return l}function ey(e,t=[],n=[],r=""){let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(lt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=nr([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(lt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ey(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Lj(u,a.index),routesMeta:f})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of ty(a.path))s(a,i,c)}),t}function ty(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=ty(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Rj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Mj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Pj=/^:[\w-]+$/,_j=3,Aj=2,Ij=1,Dj=10,Oj=-2,Cp=e=>e==="*";function Lj(e,t){let n=e.split("/"),r=n.length;return n.some(Cp)&&(r+=Oj),t&&(r+=Aj),n.filter(s=>!Cp(s)).reduce((s,a)=>s+(Pj.test(a)?_j:a===""?Ij:Dj),r)}function Mj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function $j(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=Tl({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Tl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:nr([a,h.pathname]),pathnameBase:Vj(nr([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=nr([a,h.pathnameBase]))}return i}function Tl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},m)=>{if(f==="*"){let w=l[m]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[m];return h&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function zj(e,t=!1,n=!0){Bn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Fj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function lr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Uj(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?za(e):e;return{pathname:n?n.startsWith("/")?n:Bj(n,t):t,search:Hj(r),hash:Kj(s)}}function Bj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function au(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ny(e){let t=Wj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ry(e,t,n,r=!1){let s;typeof e=="string"?s=za(e):(s={...e},lt(!s.pathname||!s.pathname.includes("?"),au("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),au("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),au("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Uj(s,l),u=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var nr=e=>e.join("/").replace(/\/\/+/g,"/"),Vj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var sy=["POST","PUT","PATCH","DELETE"];new Set(sy);var Yj=["GET",...sy];new Set(Yj);var xo=d.createContext(null);xo.displayName="DataRouter";var ac=d.createContext(null);ac.displayName="DataRouterState";var oy=d.createContext({isTransitioning:!1});oy.displayName="ViewTransition";var Xj=d.createContext(new Map);Xj.displayName="Fetchers";var qj=d.createContext(null);qj.displayName="Await";var Kn=d.createContext(null);Kn.displayName="Navigation";var ic=d.createContext(null);ic.displayName="Location";var hr=d.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var th=d.createContext(null);th.displayName="RouteError";function Qj(e,{relative:t}={}){lt(Fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Kn),{hash:s,pathname:a,search:i}=Ua(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:nr([n,a])),r.createHref({pathname:l,search:i,hash:s})}function Fa(){return d.useContext(ic)!=null}function Ss(){return lt(Fa(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(ic).location}var ay="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iy(e){d.useContext(Kn).static||d.useLayoutEffect(e)}function Jj(){let{isDataRoute:e}=d.useContext(hr);return e?dC():Zj()}function Zj(){lt(Fa(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(xo),{basename:t,navigator:n}=d.useContext(Kn),{matches:r}=d.useContext(hr),{pathname:s}=Ss(),a=JSON.stringify(ny(r)),i=d.useRef(!1);return iy(()=>{i.current=!0}),d.useCallback((c,u={})=>{if(Bn(i.current,ay),!i.current)return;if(typeof c=="number"){n.go(c);return}let f=ry(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:nr([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,a,s,e])}d.createContext(null);function Ua(e,{relative:t}={}){let{matches:n}=d.useContext(hr),{pathname:r}=Ss(),s=JSON.stringify(ny(n));return d.useMemo(()=>ry(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function eC(e,t,n,r){lt(Fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=d.useContext(Kn),{matches:a}=d.useContext(hr),i=a[a.length-1],l=i?i.params:{},c=i?i.pathname:"/",u=i?i.pathnameBase:"/",f=i&&i.route;{let p=f&&f.path||"";ly(c,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=Ss(),m;m=h;let y=m.pathname||"/",w=y;if(u!=="/"){let p=u.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=Zx(e,{pathname:w});return Bn(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Bn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),oC(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:nr([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:nr([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,n,r)}function tC(){let e=uC(),t=Gj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=d.createElement(d.Fragment,null,d.createElement("p",null," Hey developer "),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:a},"ErrorBoundary")," or"," ",d.createElement("code",{style:a},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,i)}var nC=d.createElement(tC,null),rC=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?d.createElement(hr.Provider,{value:this.props.routeContext},d.createElement(th.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sC({routeContext:e,match:t,children:n}){let r=d.useContext(xo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(hr.Provider,{value:e},n)}function oC(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);lt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let i=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,m=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||m){i=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,m=!1,y=null,w=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,y=u.route.errorElement||nC,i&&(l<0&&f===0?(ly("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===f&&(m=!0,w=u.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,f+1)),S=()=>{let p;return h?p=y:m?p=w:u.route.Component?p=d.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=c,d.createElement(sC,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:p})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?d.createElement(rC,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function nh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aC(e){let t=d.useContext(xo);return lt(t,nh(e)),t}function iC(e){let t=d.useContext(ac);return lt(t,nh(e)),t}function lC(e){let t=d.useContext(hr);return lt(t,nh(e)),t}function rh(e){let t=lC(e),n=t.matches[t.matches.length-1];return lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function cC(){return rh("useRouteId")}function uC(){var r;let e=d.useContext(th),t=iC("useRouteError"),n=rh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function dC(){let{router:e}=aC("useNavigate"),t=rh("useNavigate"),n=d.useRef(!1);return iy(()=>{n.current=!0}),d.useCallback(async(s,a={})=>{Bn(n.current,ay),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var kp={};function ly(e,t,n){!t&&!kp[e]&&(kp[e]=!0,Bn(!1,n))}d.memo(fC);function fC({routes:e,future:t,state:n}){return eC(e,void 0,n,t)}function hC({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){lt(!Fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof n=="string"&&(n=za(n));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:m="default"}=n,y=d.useMemo(()=>{let w=lr(c,i);return w==null?null:{location:{pathname:w,search:u,hash:f,state:h,key:m},navigationType:r}},[i,c,u,f,h,m,r]);return Bn(y!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:d.createElement(Kn.Provider,{value:l},d.createElement(ic.Provider,{children:t,value:y}))}var Ji="get",Zi="application/x-www-form-urlencoded";function lc(e){return e!=null&&typeof e.tagName=="string"}function mC(e){return lc(e)&&e.tagName.toLowerCase()==="button"}function pC(e){return lc(e)&&e.tagName.toLowerCase()==="form"}function gC(e){return lc(e)&&e.tagName.toLowerCase()==="input"}function vC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xC(e,t){return e.button===0&&(!t||t==="_self")&&!vC(e)}var Si=null;function yC(){if(Si===null)try{new FormData(document.createElement("form"),0),Si=!1}catch{Si=!0}return Si}var wC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iu(e){return e!=null&&!wC.has(e)?(Bn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zi}"`),null):e}function bC(e,t){let n,r,s,a,i;if(pC(e)){let l=e.getAttribute("action");r=l?lr(l,t):null,n=e.getAttribute("method")||Ji,s=iu(e.getAttribute("enctype"))||Zi,a=new FormData(e)}else if(mC(e)||gC(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?lr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Ji,s=iu(e.getAttribute("formenctype"))||iu(l.getAttribute("enctype"))||Zi,a=new FormData(l,e),!yC()){let{name:u,type:f,value:h}=e;if(f==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,h)}}else{if(lc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ji,r=null,s=Zi,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}function sh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function SC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jC(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await SC(a,n);return i.links?i.links():[]}return[]}));return TC(r.flat(1).filter(NC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ep(e,t,n,r,s,a){let i=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var f;return n[u].pathname!==c.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var h;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function CC(e,t,{includeHydrateFallback:n}={}){return kC(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function kC(e){return[...new Set(e)]}function EC(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function TC(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(EC(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RC=new Set([100,101,204,205]);function PC(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&lr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function cy(){let e=d.useContext(xo);return sh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _C(){let e=d.useContext(ac);return sh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var oh=d.createContext(void 0);oh.displayName="FrameworkContext";function uy(){let e=d.useContext(oh);return sh(e,"You must render this element inside a <HydratedRouter> element"),e}function AC(e,t){let n=d.useContext(oh),[r,s]=d.useState(!1),[a,i]=d.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=t,m=d.useRef(null);d.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=p=>{p.forEach(g=>{i(g.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[e]),d.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{s(!0)},w=()=>{s(!1),i(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:$o(l,y),onBlur:$o(c,w),onMouseEnter:$o(u,y),onMouseLeave:$o(f,w),onTouchStart:$o(h,y)}]:[!1,m,{}]}function $o(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function IC({page:e,...t}){let{router:n}=cy(),r=d.useMemo(()=>Zx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?d.createElement(OC,{page:e,matches:r,...t}):null}function DC(e){let{manifest:t,routeModules:n}=uy(),[r,s]=d.useState([]);return d.useEffect(()=>{let a=!1;return jC(e,t,n).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,n]),r}function OC({page:e,matches:t,...n}){let r=Ss(),{manifest:s,routeModules:a}=uy(),{basename:i}=cy(),{loaderData:l,matches:c}=_C(),u=d.useMemo(()=>Ep(e,t,c,s,r,"data"),[e,t,c,s,r]),f=d.useMemo(()=>Ep(e,t,c,s,r,"assets"),[e,t,c,s,r]),h=d.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(t.forEach(p=>{var v;let g=s.routes[p.route.id];!g||!g.hasLoader||(!u.some(N=>N.route.id===p.route.id)&&p.route.id in l&&((v=a[p.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?x=!0:w.add(p.route.id))}),w.size===0)return[];let S=PC(e,i);return x&&w.size>0&&S.searchParams.set("_routes",t.filter(p=>w.has(p.route.id)).map(p=>p.route.id).join(",")),[S.pathname+S.search]},[i,l,r,s,u,t,e,a]),m=d.useMemo(()=>CC(f,s),[f,s]),y=DC(f);return d.createElement(d.Fragment,null,h.map(w=>d.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),m.map(w=>d.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:x})=>d.createElement("link",{key:w,...x})))}function LC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dy&&(window.__reactRouterVersion="7.6.3")}catch{}function MC({basename:e,children:t,window:n}){let r=d.useRef();r.current==null&&(r.current=jj({window:n,v5Compat:!0}));let s=r.current,[a,i]=d.useState({action:s.action,location:s.location}),l=d.useCallback(c=>{d.startTransition(()=>i(c))},[i]);return d.useLayoutEffect(()=>s.listen(l),[s,l]),d.createElement(hC,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var fy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hy=d.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h,...m},y){let{basename:w}=d.useContext(Kn),x=typeof u=="string"&&fy.test(u),S,p=!1;if(typeof u=="string"&&x&&(S=u,dy))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),I=lr(j.pathname,w);j.origin===b.origin&&I!=null?u=I+j.search+j.hash:p=!0}catch{Bn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=Qj(u,{relative:s}),[v,N,C]=AC(r,m),T=UC(u,{replace:i,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:h});function P(b){t&&t(b),b.defaultPrevented||T(b)}let k=d.createElement("a",{...m,...C,href:S||g,onClick:p||a?t:P,ref:LC(y,N),target:c,"data-discover":!x&&n==="render"?"true":void 0});return v&&!x?d.createElement(d.Fragment,null,k,d.createElement(IC,{page:g})):k});hy.displayName="Link";var $C=d.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:i,viewTransition:l,children:c,...u},f){let h=Ua(i,{relative:u.relative}),m=Ss(),y=d.useContext(ac),{navigator:w,basename:x}=d.useContext(Kn),S=y!=null&&KC(h)&&l===!0,p=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,g=m.pathname,v=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(g=g.toLowerCase(),v=v?v.toLowerCase():null,p=p.toLowerCase()),v&&x&&(v=lr(v,x)||v);const N=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let C=g===p||!s&&g.startsWith(p)&&g.charAt(N)==="/",T=v!=null&&(v===p||!s&&v.startsWith(p)&&v.charAt(p.length)==="/"),P={isActive:C,isPending:T,isTransitioning:S},k=C?t:void 0,b;typeof r=="function"?b=r(P):b=[r,C?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(P):a;return d.createElement(hy,{...u,"aria-current":k,className:b,ref:f,style:j,to:i,viewTransition:l},typeof c=="function"?c(P):c)});$C.displayName="NavLink";var zC=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:i=Ji,action:l,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:h,...m},y)=>{let w=VC(),x=HC(l,{relative:u}),S=i.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&fy.test(l),g=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let N=v.nativeEvent.submitter,C=(N==null?void 0:N.getAttribute("formmethod"))||i;w(N||v.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:s,state:a,relative:u,preventScrollReset:f,viewTransition:h})};return d.createElement("form",{ref:y,method:S,action:x,onSubmit:r?c:g,...m,"data-discover":!p&&e==="render"?"true":void 0})});zC.displayName="Form";function FC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function my(e){let t=d.useContext(xo);return lt(t,FC(e)),t}function UC(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=Jj(),c=Ss(),u=Ua(e,{relative:a});return d.useCallback(f=>{if(xC(f,t)){f.preventDefault();let h=n!==void 0?n:ka(c)===ka(u);l(e,{replace:h,state:r,preventScrollReset:s,relative:a,viewTransition:i})}},[c,l,u,n,r,t,e,s,a,i])}var BC=0,WC=()=>`__${String(++BC)}__`;function VC(){let{router:e}=my("useSubmit"),{basename:t}=d.useContext(Kn),n=cC();return d.useCallback(async(r,s={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=bC(r,t);if(s.navigate===!1){let f=s.fetcherKey||WC();await e.fetch(f,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function HC(e,{relative:t}={}){let{basename:n}=d.useContext(Kn),r=d.useContext(hr);lt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ua(e||".",{relative:t})},i=Ss();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:nr([n,a.pathname])),ka(a)}function KC(e,t={}){let n=d.useContext(oy);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=my("useViewTransitionState"),s=Ua(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=lr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=lr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tl(s.pathname,i)!=null||Tl(s.pathname,a)!=null}[...RC];var GC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XC=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:l,...c},u)=>d.createElement("svg",{ref:u,...GC,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${YC(e)}`,...c},[...t.map(([f,h])=>d.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var ae=XC;const yo=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Tp=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),ah=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),py=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Js=ae("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),gy=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),aa=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Nr=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),qC=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Rp=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),$r=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Hs=ae("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),QC=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),kd=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),JC=ae("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),Rl=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),cr=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ih=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ZC=ae("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),lu=ae("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Kt=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Pl=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),e2=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),t2=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),n2=ae("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Ed=ae("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),lh=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),r2=ae("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),vy=ae("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),_l=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),xy=ae("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),s2=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Pp=ae("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),gt=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Yt=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ns=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ch=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),o2=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),a2=ae("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),i2=ae("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),l2=ae("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),c2=ae("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),u2=ae("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Br=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),_p=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Al=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),uh=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),d2=ae("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),f2=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),yy=ae("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),dh=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ap=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_t=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),h2=ae("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),m2=ae("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),p2=ae("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),g2=ae("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),v2=ae("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),jn=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ip(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wy(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Ip(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Ip(e[s],null)}}}}function Se(...e){return d.useCallback(wy(...e),e)}function co(e){const t=x2(e),n=d.forwardRef((r,s)=>{const{children:a,...i}=r,l=d.Children.toArray(a),c=l.find(w2);if(c){const u=c.props.children,f=l.map(h=>h===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,f):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var by=co("Slot");function x2(e){const t=d.forwardRef((n,r)=>{const{children:s,...a}=n;if(d.isValidElement(s)){const i=S2(s),l=b2(a,s.props);return s.type!==d.Fragment&&(l.ref=r?wy(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sy=Symbol("radix.slottable");function y2(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Sy,t}function w2(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sy}function b2(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function S2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ny(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ny(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jy(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ny(e))&&(r&&(r+=" "),r+=t);return r}const Dp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Op=jy,Cy=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Op(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=a==null?void 0:a[u];if(f===null)return null;const m=Dp(f)||Dp(h);return s[u][m]}),l=n&&Object.entries(n).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:m,...y}=f;return Object.entries(y).every(w=>{let[x,S]=w;return Array.isArray(S)?S.includes({...a,...l}[x]):{...a,...l}[x]===S})?[...u,h,m]:u},[]);return Op(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};function N2(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=ky(t))&&(r&&(r+=" "),r+=n);return r}function ky(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=ky(e[r]))&&(n&&(n+=" "),n+=t);return n}var fh="-";function j2(e){var t=k2(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(fh);return c[0]===""&&c.length!==1&&c.shift(),Ey(c,t)||C2(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function Ey(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?Ey(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(fh);return(i=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:i.classGroupId}}var Lp=/^\[(.+)\]$/;function C2(e){if(Lp.test(e)){var t=Lp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function k2(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=T2(Object.entries(e.classGroups),n);return s.forEach(function(a){var i=a[0],l=a[1];Td(l,r,i,t)}),r}function Td(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:Mp(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(E2(s)){Td(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Td(c,Mp(t,l),n,r)})})}function Mp(e,t){var n=e;return t.split(fh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function E2(e){return e.isThemeGetter}function T2(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,a]}):e}function R2(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,i){n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var Ty="!";function P2(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,f,h=0;h<i.length;h++){var m=i[h];if(c===0){if(m===r&&(n||i.slice(h,h+s)===t)){l.push(i.slice(u,h)),u=h+s;continue}if(m==="/"){f=h;continue}}m==="["?c++:m==="]"&&c--}var y=l.length===0?i:i.substring(u),w=y.startsWith(Ty),x=w?y.substring(1):y,S=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:S}}}function _2(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function A2(e){return{cache:R2(e.cacheSize),splitModifiers:P2(e),...j2(e)}}var I2=/\s+/;function D2(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(I2).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,f=l.baseClassName,h=l.maybePostfixModifierPosition,m=r(h?f.substring(0,h):f),y=!!h;if(!m){if(!h)return{isTailwindClass:!1,originalClassName:i};if(m=r(f),!m)return{isTailwindClass:!1,originalClassName:i};y=!1}var w=_2(c).join(":"),x=u?w+Ty:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:i,hasPostfixModifier:y}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,f=l+c;return a.has(f)?!1:(a.add(f),s(c,u).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function O2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,i=l;function l(u){var f=t[0],h=t.slice(1),m=h.reduce(function(y,w){return w(y)},f());return r=A2(m),s=r.cache.get,a=r.cache.set,i=c,c(u)}function c(u){var f=s(u);if(f)return f;var h=D2(u,r);return a(u,h),h}return function(){return i(N2.apply(null,arguments))}}function Fe(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Ry=/^\[(?:([a-z-]+):)?(.+)\]$/i,L2=/^\d+\/\d+$/,M2=new Set(["px","full","screen"]),$2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F2=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function pn(e){return as(e)||M2.has(e)||L2.test(e)||Rd(e)}function Rd(e){return js(e,"length",K2)}function U2(e){return js(e,"size",Py)}function B2(e){return js(e,"position",Py)}function W2(e){return js(e,"url",G2)}function Ni(e){return js(e,"number",as)}function as(e){return!Number.isNaN(Number(e))}function V2(e){return e.endsWith("%")&&as(e.slice(0,-1))}function zo(e){return $p(e)||js(e,"number",$p)}function ke(e){return Ry.test(e)}function Fo(){return!0}function xr(e){return $2.test(e)}function H2(e){return js(e,"",Y2)}function js(e,t,n){var r=Ry.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function K2(e){return z2.test(e)}function Py(){return!1}function G2(e){return e.startsWith("url(")}function $p(e){return Number.isInteger(Number(e))}function Y2(e){return F2.test(e)}function X2(){var e=Fe("colors"),t=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),a=Fe("borderRadius"),i=Fe("borderSpacing"),l=Fe("borderWidth"),c=Fe("contrast"),u=Fe("grayscale"),f=Fe("hueRotate"),h=Fe("invert"),m=Fe("gap"),y=Fe("gradientColorStops"),w=Fe("gradientColorStopPositions"),x=Fe("inset"),S=Fe("margin"),p=Fe("opacity"),g=Fe("padding"),v=Fe("saturate"),N=Fe("scale"),C=Fe("sepia"),T=Fe("skew"),P=Fe("space"),k=Fe("translate"),b=function(){return["auto","contain","none"]},j=function(){return["auto","hidden","clip","visible","scroll"]},I=function(){return["auto",ke,t]},E=function(){return[ke,t]},A=function(){return["",pn]},D=function(){return["auto",as,ke]},Y=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},R=function(){return["solid","dashed","dotted","double","none"]},O=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},_=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",ke]},V=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},U=function(){return[as,Ni]},ee=function(){return[as,ke]};return{cacheSize:500,theme:{colors:[Fo],spacing:[pn],blur:["none","",xr,ke],brightness:U(),borderColor:[e],borderRadius:["none","","full",xr,ke],borderSpacing:E(),borderWidth:A(),contrast:U(),grayscale:F(),hueRotate:ee(),invert:F(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[V2,Rd],inset:I(),margin:I(),opacity:U(),padding:E(),saturate:U(),scale:U(),sepia:F(),skew:ee(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[xr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Y(),[ke])}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zo]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",zo]}],"grid-cols":[{"grid-cols":[Fo]}],"col-start-end":[{col:["auto",{span:["full",zo]},ke]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Fo]}],"row-start-end":[{row:["auto",{span:[zo]},ke]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(_())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(_(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(_(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ke,t]}],"min-w":[{"min-w":["min","max","fit",ke,pn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[xr]},xr,ke]}],h:[{h:[ke,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ke,pn]}],"max-h":[{"max-h":[ke,t,"min","max","fit"]}],"font-size":[{text:["base",xr,Rd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ni]}],"font-family":[{font:[Fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",as,Ni]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ke,pn]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(R(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",pn]}],"underline-offset":[{"underline-offset":["auto",ke,pn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Y(),[B2])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",U2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[].concat(R(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(R())}],"outline-offset":[{"outline-offset":[ke,pn]}],"outline-w":[{outline:[pn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[pn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xr,H2]}],"shadow-color":[{shadow:[Fo]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":O()}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xr,ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[zo,ke]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pn,Ni]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var q2=O2(X2);function be(...e){return q2(jy(e))}const hh=Cy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function $({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?by:"button";return o.jsx(a,{"data-slot":"button",className:be(hh({variant:t,size:n,className:e})),...s})}function Q2(e,t){const n=d.createContext(t),r=a=>{const{children:i,...l}=a,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Tn(e,t=[]){let n=[];function r(a,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=h=>{var p;const{scope:m,children:y,...w}=h,x=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,S=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:S,children:y})};u.displayName=a+"Provider";function f(h,m){var x;const y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,f]}const s=()=>{const a=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,J2(s,...t)]}function J2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function St(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var rt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Z2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=Z2.reduce((e,t)=>{const n=co(`Primitive.${t}`),r=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ek(e,t){e&&vo.flushSync(()=>e.dispatchEvent(t))}var _y={exports:{}},Ay={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uo=d;function tk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nk=typeof Object.is=="function"?Object.is:tk,rk=uo.useState,sk=uo.useEffect,ok=uo.useLayoutEffect,ak=uo.useDebugValue;function ik(e,t){var n=t(),r=rk({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return ok(function(){s.value=n,s.getSnapshot=t,cu(s)&&a({inst:s})},[e,n,t]),sk(function(){return cu(s)&&a({inst:s}),e(function(){cu(s)&&a({inst:s})})},[e]),ak(n),n}function cu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nk(e,n)}catch{return!0}}function lk(e,t){return t()}var ck=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lk:ik;Ay.useSyncExternalStore=uo.useSyncExternalStore!==void 0?uo.useSyncExternalStore:ck;_y.exports=Ay;var uk=_y.exports;function dk(){return uk.useSyncExternalStore(fk,()=>!0,()=>!1)}function fk(){return()=>{}}var mh="Avatar",[hk,H3]=Tn(mh),[mk,Iy]=hk(mh),Dy=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=d.useState("idle");return o.jsx(mk,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(he.span,{...r,ref:t})})});Dy.displayName=mh;var Oy="AvatarImage",Ly=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=Iy(Oy,n),l=pk(r,a),c=St(u=>{s(u),i.onImageLoadingStatusChange(u)});return rt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(he.img,{...a,ref:t,src:r}):null});Ly.displayName=Oy;var My="AvatarFallback",$y=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=Iy(My,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(he.span,{...s,ref:t}):null});$y.displayName=My;function zp(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function pk(e,{referrerPolicy:t,crossOrigin:n}){const r=dk(),s=d.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>zp(a,e));return rt(()=>{l(zp(a,e))},[a,e]),rt(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),f=c("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,n,t]),i}var gk=Dy,vk=Ly,xk=$y;function Xe({className:e,...t}){return o.jsx(gk,{"data-slot":"avatar",className:be("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function qe({className:e,...t}){return o.jsx(vk,{"data-slot":"avatar-image",className:be("aspect-square size-full",e),...t})}function Qe({className:e,...t}){return o.jsx(xk,{"data-slot":"avatar-fallback",className:be("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class yk{constructor(){tt(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const wk=new yk;var Pd={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,a=n.XMLHttpRequest,i=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,f=n.Promise,h=n.fetch,m=n.Response,y=n.TextDecoder,w=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(L){u.readyState="complete"},!1)),a==null&&l!=null&&(a=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(L){function G(){}return G.prototype=L,new G}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var S=h;h=function(L,G){var Z=G.signal;return S(L,{headers:G.headers,credentials:G.credentials,cache:G.cache}).then(function(X){var M=X.body.getReader();return Z._reader=M,Z._aborted&&Z._reader.cancel(),{status:X.status,statusText:X.statusText,headers:X.headers,body:{getReader:function(){return M}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function p(){this.bitsNeeded=0,this.codePoint=0}p.prototype.decode=function(L){function G(Ne,we,ge){if(ge===1)return Ne>=128>>we&&Ne<<we<=2047;if(ge===2)return Ne>=2048>>we&&Ne<<we<=55295||Ne>=57344>>we&&Ne<<we<=65535;if(ge===3)return Ne>=65536>>we&&Ne<<we<=1114111;throw new Error}function Z(Ne,we){if(Ne===6*1)return we>>6>15?3:we>31?2:1;if(Ne===6*2)return we>15?3:2;if(Ne===6*3)return 3;throw new Error}for(var X=65533,M="",B=this.bitsNeeded,ne=this.codePoint,Ee=0;Ee<L.length;Ee+=1){var xe=L[Ee];B!==0&&(xe<128||xe>191||!G(ne<<6|xe&63,B-6,Z(B,ne)))&&(B=0,ne=X,M+=String.fromCharCode(ne)),B===0?(xe>=0&&xe<=127?(B=0,ne=xe):xe>=192&&xe<=223?(B=6*1,ne=xe&31):xe>=224&&xe<=239?(B=6*2,ne=xe&15):xe>=240&&xe<=247?(B=6*3,ne=xe&7):(B=0,ne=X),B!==0&&!G(ne,B,Z(B,ne))&&(B=0,ne=X)):(B-=6,ne=ne<<6|xe&63),B===0&&(ne<=65535?M+=String.fromCharCode(ne):(M+=String.fromCharCode(55296+(ne-65535-1>>10)),M+=String.fromCharCode(56320+(ne-65535-1&1023))))}return this.bitsNeeded=B,this.codePoint=ne,M};var g=function(){try{return new y().decode(new w().encode("test"),{stream:!0})==="test"}catch(L){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+L)}return!1};(y==null||w==null||!g())&&(y=p);var v=function(){};function N(L){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=L,this._sendTimeout=0,this._abort=v}N.prototype.open=function(L,G){this._abort(!0);var Z=this,X=this._xhr,M=1,B=0;this._abort=function(ge){Z._sendTimeout!==0&&(s(Z._sendTimeout),Z._sendTimeout=0),(M===1||M===2||M===3)&&(M=4,X.onload=v,X.onerror=v,X.onabort=v,X.onprogress=v,X.onreadystatechange=v,X.abort(),B!==0&&(s(B),B=0),ge||(Z.readyState=4,Z.onabort(null),Z.onreadystatechange())),M=0};var ne=function(){if(M===1){var ge=0,Ae="",Ot=void 0;if("contentType"in X)ge=200,Ae="OK",Ot=X.contentType;else try{ge=X.status,Ae=X.statusText,Ot=X.getResponseHeader("Content-Type")}catch{ge=0,Ae="",Ot=void 0}ge!==0&&(M=2,Z.readyState=2,Z.status=ge,Z.statusText=Ae,Z._contentType=Ot,Z.onreadystatechange())}},Ee=function(){if(ne(),M===2||M===3){M=3;var ge="";try{ge=X.responseText}catch{}Z.readyState=3,Z.responseText=ge,Z.onprogress()}},xe=function(ge,Ae){if((Ae==null||Ae.preventDefault==null)&&(Ae={preventDefault:v}),Ee(),M===1||M===2||M===3){if(M=4,B!==0&&(s(B),B=0),Z.readyState=4,ge==="load")Z.onload(Ae);else if(ge==="error")Z.onerror(Ae);else if(ge==="abort")Z.onabort(Ae);else throw new TypeError;Z.onreadystatechange()}},Ne=function(ge){X!=null&&(X.readyState===4?(!("onload"in X)||!("onerror"in X)||!("onabort"in X))&&xe(X.responseText===""?"error":"load",ge):X.readyState===3?"onprogress"in X||Ee():X.readyState===2&&ne())},we=function(){B=r(function(){we()},500),X.readyState===3&&Ee()};"onload"in X&&(X.onload=function(ge){xe("load",ge)}),"onerror"in X&&(X.onerror=function(ge){xe("error",ge)}),"onabort"in X&&(X.onabort=function(ge){xe("abort",ge)}),"onprogress"in X&&(X.onprogress=Ee),"onreadystatechange"in X&&(X.onreadystatechange=function(ge){Ne(ge)}),("contentType"in X||!("ontimeout"in a.prototype))&&(G+=(G.indexOf("?")===-1?"?":"&")+"padding=true"),X.open(L,G,!0),"readyState"in X&&(B=r(function(){we()},0))},N.prototype.abort=function(){this._abort(!1)},N.prototype.getResponseHeader=function(L){return this._contentType},N.prototype.setRequestHeader=function(L,G){var Z=this._xhr;"setRequestHeader"in Z&&Z.setRequestHeader(L,G)},N.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},N.prototype.send=function(){if((!("ontimeout"in a.prototype)||!("sendAsBinary"in a.prototype)&&!("mozAnon"in a.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var L=this;L._sendTimeout=r(function(){L._sendTimeout=0,L.send()},4);return}var G=this._xhr;"withCredentials"in G&&(G.withCredentials=this.withCredentials);try{G.send(void 0)}catch(Z){throw Z}};function C(L){return L.replace(/[A-Z]/g,function(G){return String.fromCharCode(G.charCodeAt(0)+32)})}function T(L){for(var G=Object.create(null),Z=L.split(`\r
`),X=0;X<Z.length;X+=1){var M=Z[X],B=M.split(": "),ne=B.shift(),Ee=B.join(": ");G[C(ne)]=Ee}this._map=G}T.prototype.get=function(L){return this._map[C(L)]},a!=null&&a.HEADERS_RECEIVED==null&&(a.HEADERS_RECEIVED=2);function P(){}P.prototype.open=function(L,G,Z,X,M,B,ne){L.open("GET",M);var Ee=0;L.onprogress=function(){var Ne=L.responseText,we=Ne.slice(Ee);Ee+=we.length,Z(we)},L.onerror=function(Ne){Ne.preventDefault(),X(new Error("NetworkError"))},L.onload=function(){X(null)},L.onabort=function(){X(null)},L.onreadystatechange=function(){if(L.readyState===a.HEADERS_RECEIVED){var Ne=L.status,we=L.statusText,ge=L.getResponseHeader("Content-Type"),Ae=L.getAllResponseHeaders();G(Ne,we,ge,new T(Ae))}},L.withCredentials=B;for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&L.setRequestHeader(xe,ne[xe]);return L.send(),L};function k(L){this._headers=L}k.prototype.get=function(L){return this._headers.get(L)};function b(){}b.prototype.open=function(L,G,Z,X,M,B,ne){var Ee=null,xe=new x,Ne=xe.signal,we=new y;return h(M,{headers:ne,credentials:B?"include":"same-origin",signal:Ne,cache:"no-store"}).then(function(ge){return Ee=ge.body.getReader(),G(ge.status,ge.statusText,ge.headers.get("Content-Type"),new k(ge.headers)),new f(function(Ae,Ot){var Zt=function(){Ee.read().then(function(st){if(st.done)Ae(void 0);else{var Ie=we.decode(st.value,{stream:!0});Z(Ie),Zt()}}).catch(function(st){Ot(st)})};Zt()})}).catch(function(ge){if(ge.name!=="AbortError")return ge}).then(function(ge){X(ge)}),{abort:function(){Ee!=null&&Ee.cancel(),xe.abort()}}};function j(){this._listeners=Object.create(null)}function I(L){r(function(){throw L},0)}j.prototype.dispatchEvent=function(L){L.target=this;var G=this._listeners[L.type];if(G!=null)for(var Z=G.length,X=0;X<Z;X+=1){var M=G[X];try{typeof M.handleEvent=="function"?M.handleEvent(L):M.call(this,L)}catch(B){I(B)}}},j.prototype.addEventListener=function(L,G){L=String(L);var Z=this._listeners,X=Z[L];X==null&&(X=[],Z[L]=X);for(var M=!1,B=0;B<X.length;B+=1)X[B]===G&&(M=!0);M||X.push(G)},j.prototype.removeEventListener=function(L,G){L=String(L);var Z=this._listeners,X=Z[L];if(X!=null){for(var M=[],B=0;B<X.length;B+=1)X[B]!==G&&M.push(X[B]);M.length===0?delete Z[L]:Z[L]=M}};function E(L){this.type=L,this.target=void 0}function A(L,G){E.call(this,L),this.data=G.data,this.lastEventId=G.lastEventId}A.prototype=Object.create(E.prototype);function D(L,G){E.call(this,L),this.status=G.status,this.statusText=G.statusText,this.headers=G.headers}D.prototype=Object.create(E.prototype);function Y(L,G){E.call(this,L),this.error=G.error}Y.prototype=Object.create(E.prototype);var R=-1,O=0,_=1,F=2,V=-1,U=0,ee=1,te=2,ce=3,Te=/^text\/event\-stream(;.*)?$/i,Ce=1e3,oe=18e6,ie=function(L,G){var Z=L==null?G:parseInt(L,10);return Z!==Z&&(Z=G),de(Z)},de=function(L){return Math.min(Math.max(L,Ce),oe)},pe=function(L,G,Z){try{typeof G=="function"&&G.call(L,Z)}catch(X){I(X)}};function le(L,G){j.call(this),G=G||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,ze(this,L,G)}function ve(){return a!=null&&"withCredentials"in a.prototype||i==null?new a:new i}var ye=h!=null&&m!=null&&"body"in m.prototype;function ze(L,G,Z){G=String(G);var X=!!Z.withCredentials,M=Z.lastEventIdQueryParameterName||"lastEventId",B=de(1e3),ne=ie(Z.heartbeatTimeout,45e3),Ee="",xe=B,Ne=!1,we=0,ge=Z.headers||{},Ae=Z.Transport,Ot=ye&&Ae==null?void 0:new N(Ae!=null?new Ae:ve()),Zt=Ae!=null&&typeof Ae!="string"?new Ae:Ot==null?new b:new P,st=void 0,Ie=0,ft=R,kt="",W="",me="",Oe="",re=U,Je=0,Lt=0,Jr=function(et,Ge,Et,Tt){if(ft===O)if(et===200&&Et!=null&&Te.test(Et)){ft=_,Ne=Date.now(),xe=B,L.readyState=_;var ht=new D("open",{status:et,statusText:Ge,headers:Tt});L.dispatchEvent(ht),pe(L,L.onopen,ht)}else{var ot="";et!==200?(Ge&&(Ge=Ge.replace(/\s+/g," ")),ot="EventSource's response has a status "+et+" "+Ge+" that is not 200. Aborting the connection."):ot="EventSource's response has a Content-Type specifying an unsupported type: "+(Et==null?"-":Et.replace(/\s+/g," "))+". Aborting the connection.",To();var ht=new D("error",{status:et,statusText:Ge,headers:Tt});L.dispatchEvent(ht),pe(L,L.onerror,ht),console.error(ot)}},ct=function(et){if(ft===_){for(var Ge=-1,Et=0;Et<et.length;Et+=1){var Tt=et.charCodeAt(Et);(Tt===10||Tt===13)&&(Ge=Et)}var ht=(Ge!==-1?Oe:"")+et.slice(0,Ge+1);Oe=(Ge===-1?Oe:"")+et.slice(Ge+1),et!==""&&(Ne=Date.now(),we+=et.length);for(var ot=0;ot<ht.length;ot+=1){var Tt=ht.charCodeAt(ot);if(re===V&&Tt===10)re=U;else if(re===V&&(re=U),Tt===13||Tt===10){if(re!==U){re===ee&&(Lt=ot+1);var hn=ht.slice(Je,Lt-1),en=ht.slice(Lt+(Lt<ot&&ht.charCodeAt(Lt)===32?1:0),ot);hn==="data"?(kt+=`
`,kt+=en):hn==="id"?W=en:hn==="event"?me=en:hn==="retry"?(B=ie(en,B),xe=B):hn==="heartbeatTimeout"&&(ne=ie(en,ne),Ie!==0&&(s(Ie),Ie=r(function(){Zr()},ne)))}if(re===U){if(kt!==""){Ee=W,me===""&&(me="message");var z=new A(me,{data:kt.slice(1),lastEventId:W});if(L.dispatchEvent(z),me==="open"?pe(L,L.onopen,z):me==="message"?pe(L,L.onmessage,z):me==="error"&&pe(L,L.onerror,z),ft===F)return}kt="",me=""}re=Tt===13?V:U}else re===U&&(Je=ot,re=ee),re===ee?Tt===58&&(Lt=ot+1,re=te):re===te&&(re=ce)}}},ri=function(et){if(ft===_||ft===O){ft=R,Ie!==0&&(s(Ie),Ie=0),Ie=r(function(){Zr()},xe),xe=de(Math.min(B*16,xe*2)),L.readyState=O;var Ge=new Y("error",{error:et});L.dispatchEvent(Ge),pe(L,L.onerror,Ge),et!=null&&console.error(et)}},To=function(){ft=F,st!=null&&(st.abort(),st=void 0),Ie!==0&&(s(Ie),Ie=0),L.readyState=F},Zr=function(){if(Ie=0,ft!==R){if(!Ne&&st!=null)ri(new Error("No activity within "+ne+" milliseconds. "+(ft===O?"No response received.":we+" chars received.")+" Reconnecting.")),st!=null&&(st.abort(),st=void 0);else{var et=Math.max((Ne||Date.now())+ne-Date.now(),1);Ne=!1,Ie=r(function(){Zr()},et)}return}Ne=!1,we=0,Ie=r(function(){Zr()},ne),ft=O,kt="",me="",W=Ee,Oe="",Je=0,Lt=0,re=U;var Ge=G;if(G.slice(0,5)!=="data:"&&G.slice(0,5)!=="blob:"&&Ee!==""){var Et=G.indexOf("?");Ge=Et===-1?G:G.slice(0,Et+1)+G.slice(Et+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(en,z){return z===M?"":en}),Ge+=(G.indexOf("?")===-1?"?":"&")+M+"="+encodeURIComponent(Ee)}var Tt=L.withCredentials,ht={};ht.Accept="text/event-stream";var ot=L.headers;if(ot!=null)for(var hn in ot)Object.prototype.hasOwnProperty.call(ot,hn)&&(ht[hn]=ot[hn]);try{st=Zt.open(Ot,Jr,ct,ri,Ge,Tt,ht)}catch(en){throw To(),en}};L.url=G,L.readyState=O,L.withCredentials=X,L.headers=ge,L._close=To,Zr()}le.prototype=Object.create(j.prototype),le.prototype.CONNECTING=O,le.prototype.OPEN=_,le.prototype.CLOSED=F,le.prototype.close=function(){this._close()},le.CONNECTING=O,le.OPEN=_,le.CLOSED=F,le.prototype.withCredentials=void 0;var Q=c;a!=null&&(c==null||!("withCredentials"in c.prototype))&&(Q=le),function(L){{var G=L(t);G!==void 0&&(e.exports=G)}}(function(L){L.EventSourcePolyfill=le,L.NativeEventSource=c,L.EventSource=Q})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:U1:globalThis)})(Pd,Pd.exports);var Uo=Pd.exports;class bk{constructor(t){tt(this,"_userId");tt(this,"apiBaseUrl");tt(this,"maxReconnectAttempts");tt(this,"eventSource",null);tt(this,"reconnectAttempts",0);tt(this,"reconnectTimeout",null);tt(this,"isManualDisconnect",!1);tt(this,"onNotification");tt(this,"onAuthRequired");tt(this,"onConnectionOpen");tt(this,"onConnectionError");tt(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===Uo.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}this.startSSEConnection(t)}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;try{console.log("SSE  :",n),this.eventSource=new Uo.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE  "),this.reconnectAttempts=0,(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.onerror=r=>{var s,a,i,l;console.error("SSE  :",{error:r,readyState:(s=this.eventSource)==null?void 0:s.readyState,url:n}),(a=this.onConnectionError)==null||a.call(this,r),((i=this.eventSource)==null?void 0:i.readyState)===Uo.EventSourcePolyfill.CLOSED?(console.log("SSE  ."),this.eventSource=null,this.handleReconnect()):((l=this.eventSource)==null?void 0:l.readyState)===Uo.EventSourcePolyfill.CONNECTING&&console.log("SSE  ...")},this.eventSource.addEventListener("auth-error",r=>{var s;console.warn(" :",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("   "),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()})}catch(r){console.error("SSE    :",r),this.handleReconnect()}}handleMessage(t){var n;if(!(t.data==="ping"||t.data==="heartbeat"))try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;console.log("SSE  :",r),(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE   :",r,"Raw data:",t.data)}}async refreshTokenAndConnect(){try{console.log("     ..."),await this.refreshToken()?(console.log("  , SSE  ..."),this.connect()):(console.error("   -  "),this.handleAuthRequired())}catch(t){console.error("    :",t),this.handleAuthRequired()}}handleReconnect(){if(this.isManualDisconnect){console.log("     .");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("  ...");const n=this.getValidToken();!n||this.isTokenExpired(n)?(console.log("  .    ."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("    .  ."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch{return!0}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("   :",t),null}try{console.log("   ...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const r=(await t.text()).replace(/"/g,"");if(r&&r!=="null")return localStorage.setItem("accessToken",r),console.log("  "),r}else console.error(`  : ${t.status} ${t.statusText}`),t.status===401&&localStorage.removeItem("accessToken");return null}catch(t){return console.error("   :",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("   ..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.isTokenExpired(t)?(console.log(" :    "),await this.refreshTokenAndConnect()):(console.log(" :   "),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===Uo.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}getUserId(){return this._userId}}const Sk=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0}=e,f=d.useRef(null),[h,m]=d.useState(!1),[y,w]=d.useState(0),x=d.useRef({onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{x.current={onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c}});const S=d.useCallback(()=>{var k,b;m(!0),w(0),(b=(k=x.current).onConnectionOpen)==null||b.call(k)},[]),p=d.useCallback(k=>{var b,j;m(!1),(j=(b=x.current).onConnectionError)==null||j.call(b,k)},[]),g=d.useCallback(k=>{var b,j;(j=(b=x.current).onNotification)==null||j.call(b,k)},[]),v=d.useCallback(()=>{var k,b;m(!1),(b=(k=x.current).onAuthRequired)==null||b.call(k)},[]),N=d.useCallback(()=>{f.current&&t&&f.current.connect()},[t]),C=d.useCallback(()=>{f.current&&(f.current.disconnect(),m(!1),w(0))},[]),T=d.useCallback(()=>{f.current&&f.current.reconnect()},[]),P=d.useCallback(()=>{f.current&&f.current.forceReconnect()},[]);return d.useEffect(()=>{if(t){const k={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:g,onAuthRequired:v,onConnectionOpen:S,onConnectionError:p,onTokenRefresh:x.current.onTokenRefresh};f.current=new bk(k),u&&setTimeout(()=>{var I;(I=f.current)==null||I.connect()},1e3);const j=setInterval(()=>{f.current&&(m(f.current.isConnected()),w(f.current.getReconnectAttempts()))},2e3);return()=>{var I;clearInterval(j),(I=f.current)==null||I.disconnect(),f.current=null}}else f.current&&(f.current.disconnect(),f.current=null),m(!1),w(0)},[t,n,r,u,g,v,S,p]),d.useEffect(()=>{f.current&&t&&f.current.updateUserId(t)},[t]),{isConnected:h,reconnectAttempts:y,connect:N,disconnect:C,reconnect:T,forceReconnect:P}};function Nk({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:a,authenticatedFetch:i,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:f,refreshAccessToken:h}){const[m,y]=d.useState([]),[w,x]=d.useState(!1),[S,p]=d.useState(!1),[g,v]=d.useState(null);Sk({userId:l,onNotification:R=>{if(R.notificationType==="CONNECTED")return;const O=N(R);y(_=>[O,..._])},onAuthRequired:()=>{console.warn("SSE    -      "),h().then(R=>{R?console.log("SSE    -   "):(console.error("SSE     "),a())}).catch(R=>{console.error("SSE    :",R),a()})},onTokenRefresh:async()=>await h()});const N=R=>{const O=V=>{switch(V){case"DM_RECEIVED":case"NEW_DM_ROOM":return"message";case"FOLLOWED":return"follow";case"PLAYLIST_SUBSCRIBED":case"FOLLOWING_POSTED_PLAYLIST":return"like";default:return"notification"}},_=V=>{switch(V){case"DM_RECEIVED":return"  ";case"NEW_DM_ROOM":return"  ";case"FOLLOWED":return"  ";case"PLAYLIST_SUBSCRIBED":return" ";case"FOLLOWING_POSTED_PLAYLIST":return"   ";case"ROLE_CHANGED":return" ";default:return" "}},F=V=>{const U=new Date(V),te=new Date().getTime()-U.getTime(),ce=Math.floor(te/(1e3*60)),Te=Math.floor(te/(1e3*60*60)),Ce=Math.floor(te/(1e3*60*60*24));return ce<1?" ":ce<60?`${ce} `:Te<24?`${Te} `:Ce===1?"":`${Ce} `};return{id:R.id,type:O(R.notificationType),title:_(R.notificationType),content:R.content,avatar:"",timestamp:F(R.createdAt),isRead:!1}},C=async()=>{if(l)try{const R=await wk.getUser(l);v(R)}catch(R){console.error("   :",R),R instanceof Error&&(R.message.includes("not found")||R.message.includes("401")||R.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a())}},T=async()=>{if(l)try{const R=await i("http://localhost:8080/api/notifications");if(!R.ok){if(R.status===401||R.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a();return}throw new Error(`   . (: ${R.status})`)}const O=await R.json(),_=O.content||O;if(!Array.isArray(_)){console.error("   :",O),y([]);return}const F=_.map(V=>({...N(V),isRead:!0}));y(F)}catch(R){console.error("   :",R),R instanceof Error&&(R.message.includes("401")||R.message.includes("403"))&&y([])}};d.useEffect(()=>{l&&(C(),T())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=C),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const P=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],k=m.filter(R=>!R.isRead).length;d.useEffect(()=>{const R=O=>{const _=O.target;!_.closest(".notification-container")&&!_.closest(".profile-container")&&(x(!1),p(!1))};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[]);const b=R=>{switch(R){case"message":return o.jsx(lh,{className:"w-4 h-4"});case"follow":return o.jsx(dh,{className:"w-4 h-4"});case"like":return o.jsx(cr,{className:"w-4 h-4"});case"watch":return o.jsx(gt,{className:"w-4 h-4"});default:return o.jsx(Tp,{className:"w-4 h-4"})}},j=async R=>{try{await u(R),y(O=>O.filter(_=>_.id!==R))}catch(O){console.error("  :",O)}},I=R=>{y(O=>O.map(_=>_.id===R?{..._,isRead:!0}:_))},E=async()=>{try{await T(),y(R=>R.map(O=>({...O,isRead:!0})))}catch(R){console.error("   :",R)}},A=R=>{s&&s(),t(R)},D=R=>{R.stopPropagation(),s&&s(),x(!w),p(!1)},Y=async()=>{try{if(!(await i("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");p(!1),a()}catch(R){console.error(" :",R),p(!1),a()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>A("home"),children:""}),o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:P.map(R=>o.jsx("li",{children:o.jsx("button",{onClick:()=>A(R.id),className:`transition-colors hover:text-[#4ecdc4] ${e===R.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:R.label})},R.id))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative notification-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:D,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Tp,{className:"w-5 h-5"}),k>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:k>9?"9+":k})]}),w&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[k>0&&o.jsx($,{variant:"ghost",size:"sm",onClick:E,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx($,{variant:"ghost",size:"sm",onClick:async()=>{try{await f(),y([])}catch(R){console.error("   :",R)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(Al,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${m.length>4?"max-h-96":""}`,children:m.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:m.map(R=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>I(R.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Xe,{className:"h-12 w-12",children:[o.jsx(qe,{src:R.avatar}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:R.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:b(R.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${R.isRead?"text-white/60":"font-medium"}`,children:R.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:R.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:R.content})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:async O=>{O.stopPropagation(),await j(R.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Al,{className:"w-3 h-3"})}),!R.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},R.id))})})]})]}),o.jsxs("div",{className:"relative profile-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:R=>{R.stopPropagation(),p(!S),x(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(Xe,{className:"h-8 w-8",children:[o.jsx(qe,{src:(g==null?void 0:g.profileImage)||""}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:(g==null?void 0:g.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(g==null?void 0:g.name)||""})]}),S&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{p(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Ap,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{p(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Ap,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs($,{variant:"ghost",size:"sm",onClick:Y,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(e2,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function jk(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},n=[{name:"Github",icon:JC,href:"#github"},{name:"Twitter",icon:d2,href:"#twitter"},{name:"Instagram",icon:ZC,href:"#instagram"},{name:"Email",icon:t2,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(a=>o.jsx("li",{children:o.jsx("a",{href:a.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:a.name})},a.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(cr,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const $e=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:be("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));$e.displayName="Input";var Ck="Label",zy=d.forwardRef((e,t)=>o.jsx(he.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zy.displayName=Ck;var kk=zy;function Nt({className:e,...t}){return o.jsx(kk,{"data-slot":"label",className:be("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var Ek="Separator",Fp="horizontal",Tk=["horizontal","vertical"],Fy=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Fp,...s}=e,a=Rk(r)?r:Fp,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(he.div,{"data-orientation":a,...l,...s,ref:t})});Fy.displayName=Ek;function Rk(e){return Tk.includes(e)}var Pk=Fy;function _k({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(Pk,{"data-slot":"separator-root",decorative:n,orientation:t,className:be("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Uy({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,a]=d.useState(null),i=c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];if(u){if(!u.type.startsWith("image/")){a("    .");return}if(u.size>5*1024*1024){a("  5MB  .");return}a(null),t(u)}},l=()=>{t(null),a(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),n&&o.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(jn,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(Xe,{className:"h-20 w-20",children:[o.jsx(qe,{src:URL.createObjectURL(e)}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx($,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(jn,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx($e,{type:"file",accept:"image/*",onChange:i,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(f2,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function Ak({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,a]=d.useState(!1),[i,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[f,h]=d.useState(!1),[m,y]=d.useState(null),[w,x]=d.useState(!1),[S,p]=d.useState(""),g=T=>{T?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(T)?p(""):p(" 8 , , ,   ."):p(" .")},v=()=>{console.log("    "),window.location.href="http://localhost:8080/oauth2/authorization/kakao"},N=()=>{window.location.href="http://localhost:8080/oauth2/authorization/google"},C=async T=>{T.preventDefault(),u(null),h(!0);try{if(r){if(!i.name.trim()){u(" .");return}if(i.name.length<3||i.name.length>50){u(" 3  50  .");return}if(!i.email.trim()){u(" .");return}if(!i.password.trim()){u(" .");return}if(!/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(i.password)){u(" 8 , , ,   .");return}if(i.password!==i.confirmPassword){u("  .");return}const k=new FormData;k.append("email",i.email),k.append("name",i.name),k.append("password",i.password),m&&k.append("profile",m);const b=await fetch("http://localhost:8080/api/users",{method:"POST",credentials:"include",body:k});if(!b.ok){let j=" .";const I=b.headers.get("content-type");if(I&&I.includes("application/json"))try{const E=await b.text();E&&(j=JSON.parse(E).message||j)}catch(E){console.error("Error parsing error response:",E)}throw new Error(j)}alert(" . ."),t()}else{const P={email:i.email,password:i.password},k=await fetch("http://localhost:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(P)});if(!k.ok){let j=" .";const I=k.headers.get("content-type");if(I&&I.includes("application/json"))try{const E=await k.text();E&&(j=JSON.parse(E).message||j)}catch(E){console.error("Error parsing error response:",E)}throw new Error(j)}const b=await k.text();if(!b||b.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const j=JSON.parse(b);e(j.accessToken,j.isTempPassword)}catch(j){throw console.error("Error parsing success response:",j),new Error("    .")}}}catch(P){u(P instanceof Error?P.message:"   .")}finally{h(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"name",className:"text-base",children:""}),o.jsx($e,{id:"name",type:"text",value:i.name,onChange:T=>l({...i,name:T.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"email",className:"text-base",children:""}),o.jsx($e,{id:"email",type:"email",value:i.email,onChange:T=>l({...i,email:T.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx($e,{id:"password",type:s?"text":"password",value:i.password,onChange:T=>{const P=T.target.value;l({...i,password:P}),r&&g(P)},className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(QC,{className:"w-5 h-5"}):o.jsx(kd,{className:"w-5 h-5"})})]}),r&&S&&o.jsx("p",{className:"text-red-500 text-sm mt-2",children:S})]}),r&&o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx($e,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:T=>l({...i,confirmPassword:T.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(Nt,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(Xe,{className:"h-16 w-16",children:[o.jsx(qe,{src:m?URL.createObjectURL(m):void 0}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:i.name.charAt(0)||"U"})]}),o.jsxs($,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(py,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(Uy,{selectedImage:m,onImageSelect:y,onClose:()=>x(!1),userName:i.name})})]}),o.jsx($,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:f,children:f?" ...":r?"":""})]}),o.jsx(_k,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:v,disabled:f,children:[" ",r?"":""]}),o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:N,disabled:f,children:["Google ",r?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:f,children:r?"":""})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:f,children:" "})]})]})]})]})}class Ik{constructor(){tt(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const i=t.type.toUpperCase();n.append("contentType",i)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(n){throw console.error("   :",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const is=new Ik;class Dk{constructor(){tt(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getWatchRooms(t){var n;try{const r=new URLSearchParams;t!=null&&t.query&&r.append("searchKeyword",t.query),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.limit&&r.append("size",t.limit.toString()),t!=null&&t.offset&&r.append("cursor",((n=t.offset)==null?void 0:n.toString())||"");const s=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,a=await this.authenticatedFetch(s);if(!a.ok)throw new Error(`   . Status: ${a.status}`);const i=await a.json(),l=i.data||i;return Array.isArray(l)?t!=null&&t.sortBy?this.sortWatchRooms(l,t.sortBy):l:(console.error("   :",i),[])}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async joinWatchRoom(t){var n,r;try{const s=await this.getWatchRoom(t);return{id:s.id,title:s.title,newUserId:"",playTime:0,isPlaying:!1,content:{id:((n=s.contentDto)==null?void 0:n.id)||s.contentId||"",title:((r=s.contentDto)==null?void 0:r.title)||s.contentTitle||"",titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:0}}}catch(s){throw console.error("  :",s),s}}async searchWatchRooms(t,n="participantCount"){return this.getWatchRooms({query:t,sortBy:n})}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>{var a;return s.title.toLowerCase().includes(r)||(((a=s.contentDto)==null?void 0:a.title)||s.contentTitle||"").toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r)})}}const Ba=new Dk;class Ok{constructor(){tt(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getAllPublic(){try{const t=await fetch(this.baseUrl);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}catch(t){throw console.error("    :",t),t}}async getAllSubscribed(){try{const t=await this.authenticatedFetch(`${this.baseUrl}/subscribed`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}catch(t){throw console.error("    :",t),t}}async subscribe(t,n){try{const s=await this.authenticatedFetch("http://localhost:8080/api/subscriptions",{method:"POST",body:JSON.stringify({userId:t,playlistId:n})});if(!s.ok)throw new Error(`  . Status: ${s.status}`);return await s.json()}catch(r){throw console.error("  :",r),r}}async unsubscribe(t){try{const n=`http://localhost:8080/api/subscriptions/${t}`,r=await this.authenticatedFetch(n,{method:"DELETE"});if(!r.ok)throw new Error(`   . Status: ${r.status}`)}catch(n){throw console.error("   :",n),n}}async getUserPlaylists(t){try{const n=await this.authenticatedFetch(`${this.baseUrl.replace("/playlists","")}/users/${t}/playlists`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}async getPlaylistByUser(){try{const t=await this.authenticatedFetch(`${this.baseUrl}/user`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}catch(t){throw console.error("    :",t),t}}}const _d=new Ok;function ji({onPageChange:e,onPlaylistOpen:t,onContentPlay:n,onJoinRoom:r}){const[s,a]=d.useState([]),[i,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState(!0),[m,y]=d.useState(null),w=d.useRef(null),x=d.useRef(null),S=d.useRef(null),p=async()=>{try{const b=await Ba.getWatchRooms({limit:9});Array.isArray(b)?a(b):(console.error("Live rooms data is not an array:",b),a([]))}catch(b){console.error("Failed to fetch live rooms:",b),a([])}},g=async()=>{try{const b=await is.getContents({size:20});l(b.data)}catch(b){console.error("Failed to fetch featured content:",b)}},v=async()=>{try{const b=await _d.getPlaylistByUser();u(b.slice(0,4))}catch(b){console.error("Failed to fetch my playlists:",b),u([])}};d.useEffect(()=>{(async()=>{h(!0),await Promise.all([p(),g(),v()]),h(!1)})()},[]);const N=async b=>{if(console.log("Dashboard - handleJoinRoom :",b.id,b.title),m){console.log("Dashboard -     :",m);return}y(b.id);try{console.log("Dashboard - onJoinRoom   "),r?(await r(b),console.log("Dashboard - onJoinRoom   ")):console.error("Dashboard - onJoinRoom  ")}catch(j){console.error("Dashboard -   :",j)}finally{y(null)}},C=()=>{e&&e("playlist")},T=b=>{t&&t(b)},P=b=>{b.current&&b.current.scrollBy({left:-288,behavior:"smooth"})},k=b=>{b.current&&b.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs($,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(uh,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(Nr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>P(w),children:o.jsx(aa,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>k(w),children:o.jsx(Nr,{className:"w-6 h-6"})}),o.jsx("div",{ref:w,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(3).fill(0).map((b,j)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},j)):(Array.isArray(s)?s:[]).slice(0,9).map(b=>{var j,I,E;return o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(j=b.contentDto)!=null&&j.thumbnailUrl?o.jsx("img",{src:b.contentDto.thumbnailUrl,alt:b.contentDto.title,className:"w-full h-full object-cover",onError:A=>{var D;A.currentTarget.style.display="none",(D=A.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(I=b.contentDto)!=null&&I.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",b.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs($,{size:"sm",onClick:A=>{A.stopPropagation(),N(b)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!m,children:[m===b.id?o.jsx(Kt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(gt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(E=b.contentDto)==null?void 0:E.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[b.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx($r,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[b.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",b.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},b.id)})})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Br,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(Nr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>P(x),children:o.jsx(aa,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>k(x),children:o.jsx(Nr,{className:"w-6 h-6"})}),o.jsx("div",{ref:x,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(6).fill(0).map((b,j)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},j)):i.slice(0,20).map(b=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:b.id,title:b.title,thumbnail:b.thumbnailUrl||b.url||"",type:b.contentType==="MOVIE"?"movie":b.contentType==="TV"?"tv":"sports",description:b.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[b.thumbnailUrl?o.jsx("img",{src:b.thumbnailUrl,alt:b.title,className:"w-full h-full object-cover",onError:j=>{var I;j.currentTarget.style.display="none",(I=j.currentTarget.nextElementSibling)==null||I.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${b.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:b.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:j=>{j.stopPropagation(),n&&n({id:b.id,title:b.title,thumbnail:b.thumbnailUrl||b.url||"",type:b.contentType==="MOVIE"?"movie":b.contentType==="TV"?"tv":"sports",description:b.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(gt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx($,{size:"sm",variant:"outline",onClick:j=>{j.stopPropagation(),console.log("Add to playlist:",b.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:b.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:b.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Br,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:b.releaseDate?new Date(b.releaseDate).getFullYear():"2024"})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${b.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":b.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:b.contentType==="MOVIE"?"":b.contentType==="TV"?"TV/":""})})]})]},b.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($r,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:C,children:["",o.jsx(Nr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>P(S),children:o.jsx(aa,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>k(S),children:o.jsx(Nr,{className:"w-6 h-6"})}),o.jsx("div",{ref:S,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(4).fill(0).map((b,j)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},j)):c.map((b,j)=>{const I=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],E=I[j%I.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>T(b.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${E} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(_l,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:b.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:A=>{A.stopPropagation(),T(b.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(gt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:b.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:b.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[b.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx($r,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ah,{className:"w-3 h-3"}),o.jsx("span",{children:b.createdAt?new Date(b.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},b.id)})})]})]})]})}const Lk=Cy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function an({className:e,variant:t,asChild:n=!1,...r}){const s=n?by:"span";return o.jsx(s,{"data-slot":"badge",className:be(Lk({variant:t}),e),...r})}class Mk{constructor(){tt(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const Ci=new Mk,$k=e=>({id:e.id,title:e.title,thumbnail:e.thumbnailUrl||`https://via.placeholder.com/300x400/1a1a1a/ffffff?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function zk({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{S()},[]),d.useEffect(()=>{if(c.length>0&&!s){const b=c[0];a(b.id),p(b.id)}},[c,s]);const S=async()=>{try{if(!r){console.error(" ID .");return}const j=(await Ci.getUserKeywords(r)).map(I=>({id:I.keywordId,label:I.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(j)}catch(b){console.error("   :",b),u([])}},p=async b=>{try{x(!0);const I=(await Ci.getKeywordContents(b)).map($k),E=c.find(O=>O.id===b),A=I.filter(O=>O.type==="movie"),D=I.filter(O=>O.type==="tv"),Y=I.filter(O=>O.type==="sports"),R=[];A.length>0&&R.push({id:`${b}-movie`,title:`${(E==null?void 0:E.label)||""} `,items:A,category:""}),D.length>0&&R.push({id:`${b}-tv`,title:`${(E==null?void 0:E.label)||""} TV `,items:D,category:"TV"}),Y.length>0&&R.push({id:`${b}-sports`,title:`${(E==null?void 0:E.label)||""} `,items:Y,category:""}),l(R)}catch(j){console.error("  :",j),l([])}finally{x(!1)}},g=b=>{a(b),p(b)},v=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const b=await Ci.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),j={id:b.keywordId,label:b.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(I=>[...I,j]),y(""),h(!1),alert(" !")}catch(b){console.error("  :",b),alert("  .")}}},N=async b=>{if(window.confirm("  ?"))try{if(await Ci.deleteKeyword(b),u(j=>j.filter(I=>I.id!==b)),s===b){const j=c.filter(I=>I.id!==b);j.length>0?(a(j[0].id),p(j[0].id)):(a(""),l([]))}alert(" .")}catch(j){console.error("  :",j),alert("  .")}},C=b=>{const j=document.getElementById(b);j&&j.scrollBy({left:-400,behavior:"smooth"})},T=b=>{const j=document.getElementById(b);j&&j.scrollBy({left:400,behavior:"smooth"})},P=b=>b>=1e4?`${Math.floor(b/1e3)}K`:b.toLocaleString(),k=b=>{n==null||n(b),console.log(`Opening playlist modal for: ${b.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(_p,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(b=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx($,{variant:s===b.id?"default":"outline",size:"sm",onClick:()=>g(b.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===b.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===b.id?b.color:void 0,backgroundColor:s===b.id?b.color:void 0},children:b.label}),o.jsx($,{size:"sm",variant:"ghost",onClick:j=>{j.stopPropagation(),N(b.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(jn,{className:"w-3 h-3"})})]},b.id)),f?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx($e,{value:m,onChange:b=>y(b.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:b=>b.key==="Enter"&&v(),autoFocus:!0}),o.jsx($,{size:"sm",onClick:v,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(Js,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>{h(!1),y("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(jn,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>h(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:i.map(b=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[b.title,o.jsxs(an,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(_t,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx($,{size:"sm",variant:"outline",onClick:()=>C(`section-${b.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(aa,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>T(`section-${b.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Nr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${b.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:b.items.map((j,I)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[b.id==="trending"&&I<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(an,{className:`
                              ${I===0?"bg-yellow-500 text-black":""}
                              ${I===1?"bg-gray-300 text-black":""}
                              ${I===2?"bg-amber-600 text-white":""}
                            `,children:["#",I+1]})}),o.jsx("img",{src:j.thumbnail,alt:j.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:E=>{const A=E.target;A.style.display="none";const D=A.parentElement;if(D&&!D.querySelector(".image-fallback")){const Y=document.createElement("div");Y.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",Y.textContent=j.title.charAt(0).toUpperCase(),D.appendChild(Y)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs($,{size:"sm",onClick:()=>e(j),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(gt,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>t(j),className:"border-white/20 hover:bg-white/10",children:[o.jsx(kd,{className:"w-4 h-4 mr-1"}),""]}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>k(j),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(uh,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:P(j.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:j.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:j.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Br,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:j.rating})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(lh,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:j.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.displayGenres.slice(0,2).map(E=>o.jsx(an,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:E},E))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:j.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs($,{size:"sm",onClick:()=>e(j),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(gt,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx($,{size:"sm",variant:"outline",onClick:()=>t(j),className:"border-white/20 hover:bg-white/10",children:o.jsx(kd,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>k(j),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Yt,{className:"w-4 h-4"})})]})]})]})]},j.id))})]},b.id))}),!w&&i.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(_p,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function Il(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:a,style:i,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:i,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(ih,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:a,className:l,style:i,...c,onError:r})}function Fk({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},i={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(Il,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${i[n]} font-medium text-white/80`,children:["+",s]})})]})})}function Ad({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:be("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Bo=[null];function Uk({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[a,i]=d.useState(""),[l,c]=d.useState(!0),[u,f]=d.useState(0),[h,m]=d.useState(!1),[y,w]=d.useState(!1),x=async v=>{v.preventDefault(),r.trim()&&(w(!0),console.log("Creating playlist:",{title:r.trim(),description:a.trim(),isPublic:l,coverImage:Bo[u]}),await new Promise(N=>setTimeout(N,1e3)),n({title:r.trim(),description:a.trim(),isPublic:l,coverImage:Bo[u]}),s(""),i(""),c(!0),f(0),m(!1),w(!1),t())},S=()=>{y||(s(""),i(""),c(!0),f(0),m(!1),t())},p=()=>{const v=Bo[u];return v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(_l,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})}):o.jsx("img",{src:v,alt:" ",className:"w-full h-full object-cover"})},g=(v,N)=>v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(_l,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:v,alt:`  ${N+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:S}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx($,{variant:"ghost",size:"sm",onClick:S,className:"p-2 hover:bg-white/10",disabled:y,children:o.jsx(jn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Nt,{className:"text-sm mb-3 block",children:" "}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[p(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs($,{type:"button",variant:"ghost",onClick:()=>m(!h),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(ih,{className:"w-4 h-4 mr-2"}),Bo[u]===null?" ":" "]})})]}),h&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:Bo.map((v,N)=>o.jsxs("button",{type:"button",onClick:()=>{f(N),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===N?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[g(v,N),u===N&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Js,{className:"w-3 h-3 text-[#4ecdc4]"})})]},N))})]}),o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx($e,{id:"title",value:r,onChange:v=>s(v.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50"]})]}),o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"description",className:"text-sm",children:""}),o.jsx(Ad,{id:"description",value:a,onChange:v=>i(v.target.value),placeholder:"   ...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[a.length,"/200"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Nt,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(Rl,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(Js,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(Pl,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(Js,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx($,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:S,disabled:y,children:""}),o.jsx($,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||y,children:y?" ...":" "})]})]})]})]}):null}function Up({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:a,onUserProfileOpen:i}){const[l,c]=d.useState(""),[u,f]=d.useState([]),[h,m]=d.useState(!1),[y,w]=d.useState(!0),[x,S]=d.useState(null),[p,g]=d.useState("all"),v=D=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D);d.useEffect(()=>{N()},[]),d.useEffect(()=>{const D=setTimeout(()=>{N(l.trim()||void 0,p)},300);return()=>clearTimeout(D)},[l,p]);const N=async(D,Y="all")=>{try{w(!0),S(null),console.log("   :",{searchKeyword:D,currentViewType:Y});const R=await t(D,Y);console.log("   :",R),f(R)}catch(R){console.error("Error loading playlists:",R),S("   .")}finally{w(!1)}},C=u,T=D=>{console.log(`Starting playlist with ID: ${D}`)},P=()=>{m(!0)},k=D=>{e&&e(D)},b=async D=>{try{await n({name:D.title,description:D.description,isPublic:D.isPublic}),console.log("     "),await N(l.trim()||void 0,p)}catch(Y){console.error("Error creating playlist:",Y),S("   .")}},j=D=>!D.subscriptions||!a?!1:D.subscriptions.some(Y=>Y.userId===a),I=D=>!D.subscriptions||!a?null:D.subscriptions.find(Y=>Y.userId===a),E=async D=>{if(console.log("    :",{playlistId:D,currentUserId:a}),!r||!s||!a){console.error("    ID :",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:a});return}const Y=u.find(O=>O.id===D);if(!Y){console.error("   :",D);return}const R=j(Y);console.log("  :",{isSubscribed:R,subscriptions:Y.subscriptions});try{if(R){const O=I(Y);if(!O){console.error("    ");return}if(console.log("   - subscription  :",O),!O.subscriptionId){console.error("subscription.subscriptionId undefined:",O);return}console.log("  :",O.subscriptionId),await s(O.subscriptionId)}else console.log(" :",D),await r(D);await N(l.trim()||void 0,p)}catch(O){console.error("   :",O)}},A=D=>D.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(_l,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:D.name.charAt(0)})]})}):o.jsx(Il,{src:D.thumbnail,alt:D.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs($,{onClick:P,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx($e,{placeholder:" ...",value:l,onChange:D=>c(D.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx($,{variant:p==="all"?"default":"outline",onClick:()=>g("all"),className:p==="all"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:" "}),a&&o.jsxs($,{variant:p==="subscribed"?"default":"outline",onClick:()=>g("subscribed"),className:p==="subscribed"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:[o.jsx(cr,{className:"w-4 h-4 mr-2"})," "]})]})]}),(console.log(" Playlist  :",{loading:y,error:x,playlistsLength:u.length,filteredLength:C.length}),y?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx($,{onClick:()=>N(l.trim()||void 0,p),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):C.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":p==="subscribed"?"   ":" "}),!l&&p==="all"&&o.jsx($,{onClick:P,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map(D=>{var Y;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>k(D.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[A(D),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:R=>{R.stopPropagation(),T(D.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(gt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:D.isPublic?"":""})}),D.userId&&D.userId!==a&&v(D.userId)&&r&&s&&o.jsx($,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${j(D)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:R=>{R.stopPropagation(),E(D.id)},children:o.jsx(cr,{className:`w-4 h-4 ${j(D)?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:R=>R.stopPropagation(),children:o.jsx(vy,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:D.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:D.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(Fk,{items:D.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[D.contentCount||((Y=D.playlistContents)==null?void 0:Y.length)||0," "]})]}),D.userId&&D.userId!==a&&v(D.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${a?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:R=>{R.stopPropagation(),a?i==null||i(D.userId):alert("  .   .")},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:D.username?D.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:D.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx($r,{className:"w-3 h-3"}),o.jsx("span",{children:D.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ah,{className:"w-3 h-3"}),o.jsx("span",{children:D.createdAt?new Date(D.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},D.id)})}))]}),o.jsx(Uk,{isOpen:h,onClose:()=>m(!1),onCreatePlaylist:b})]})}function fe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Bk=qg[" useId ".trim().toString()]||(()=>{}),Wk=0;function zr(e){const[t,n]=d.useState(Bk());return rt(()=>{n(r=>r??String(Wk++))},[e]),e||(t?`radix-${t}`:"")}var Vk=qg[" useInsertionEffect ".trim().toString()]||rt;function ps({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=Hk({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const f=d.useRef(e!==void 0);d.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=d.useCallback(f=>{var h;if(l){const m=Kk(f)?f(e):f;m!==e&&((h=i.current)==null||h.call(i,m))}else a(f)},[l,e,a,i]);return[c,u]}function Hk({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),a=d.useRef(t);return Vk(()=>{a.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function Kk(e){return typeof e=="function"}function Gk(e,t=globalThis==null?void 0:globalThis.document){const n=St(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Yk="DismissableLayer",Id="dismissableLayer.update",Xk="dismissableLayer.pointerDownOutside",qk="dismissableLayer.focusOutside",Bp,By=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ph=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(By),[f,h]=d.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=d.useState({}),w=Se(t,P=>h(P)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(S),g=f?x.indexOf(f):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,N=g>=p,C=Zk(P=>{const k=P.target,b=[...u.branches].some(j=>j.contains(k));!N||b||(s==null||s(P),i==null||i(P),P.defaultPrevented||l==null||l())},m),T=eE(P=>{const k=P.target;[...u.branches].some(j=>j.contains(k))||(a==null||a(P),i==null||i(P),P.defaultPrevented||l==null||l())},m);return Gk(P=>{g===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),d.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Bp=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Wp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Bp)}},[f,m,n,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Wp())},[f,u]),d.useEffect(()=>{const P=()=>y({});return document.addEventListener(Id,P),()=>document.removeEventListener(Id,P)},[]),o.jsx(he.div,{...c,ref:w,style:{pointerEvents:v?N?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,C.onPointerDownCapture)})});ph.displayName=Yk;var Qk="DismissableLayerBranch",Jk=d.forwardRef((e,t)=>{const n=d.useContext(By),r=d.useRef(null),s=Se(t,r);return d.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(he.div,{...e,ref:s})});Jk.displayName=Qk;function Zk(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Wy(Xk,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function eE(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=d.useRef(!1);return d.useEffect(()=>{const s=a=>{a.target&&!r.current&&Wy(qk,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wp(){const e=new CustomEvent(Id);document.dispatchEvent(e)}function Wy(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ek(s,a):s.dispatchEvent(a)}var uu="focusScope.autoFocusOnMount",du="focusScope.autoFocusOnUnmount",Vp={bubbles:!1,cancelable:!0},tE="FocusScope",gh=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=d.useState(null),u=St(s),f=St(a),h=d.useRef(null),m=Se(t,x=>c(x)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(v){if(y.paused||!l)return;const N=v.target;l.contains(N)?h.current=N:yr(h.current,{select:!0})},S=function(v){if(y.paused||!l)return;const N=v.relatedTarget;N!==null&&(l.contains(N)||yr(h.current,{select:!0}))},p=function(v){if(document.activeElement===document.body)for(const C of v)C.removedNodes.length>0&&yr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const g=new MutationObserver(p);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),g.disconnect()}}},[r,l,y.paused]),d.useEffect(()=>{if(l){Kp.add(y);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(uu,Vp);l.addEventListener(uu,u),l.dispatchEvent(p),p.defaultPrevented||(nE(iE(Vy(l)),{select:!0}),document.activeElement===x&&yr(l))}return()=>{l.removeEventListener(uu,u),setTimeout(()=>{const p=new CustomEvent(du,Vp);l.addEventListener(du,f),l.dispatchEvent(p),p.defaultPrevented||yr(x??document.body,{select:!0}),l.removeEventListener(du,f),Kp.remove(y)},0)}}},[l,u,f,y]);const w=d.useCallback(x=>{if(!n&&!r||y.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(S&&p){const g=x.currentTarget,[v,N]=rE(g);v&&N?!x.shiftKey&&p===N?(x.preventDefault(),n&&yr(v,{select:!0})):x.shiftKey&&p===v&&(x.preventDefault(),n&&yr(N,{select:!0})):p===g&&x.preventDefault()}},[n,r,y.paused]);return o.jsx(he.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});gh.displayName=tE;function nE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(yr(r,{select:t}),document.activeElement!==n)return}function rE(e){const t=Vy(e),n=Hp(t,e),r=Hp(t.reverse(),e);return[n,r]}function Vy(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hp(e,t){for(const n of e)if(!sE(n,{upTo:t}))return n}function sE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oE(e){return e instanceof HTMLInputElement&&"select"in e}function yr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&oE(e)&&t&&e.select()}}var Kp=aE();function aE(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Gp(e,t),e.unshift(t)},remove(t){var n;e=Gp(e,t),(n=e[0])==null||n.resume()}}}function Gp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function iE(e){return e.filter(t=>t.tagName!=="A")}var lE="Portal",vh=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=d.useState(!1);rt(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?hj.createPortal(o.jsx(he.div,{...r,ref:t}),i):null});vh.displayName=lE;function cE(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var mr=e=>{const{present:t,children:n}=e,r=uE(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),a=Se(r.ref,dE(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:a}):null};mr.displayName="Presence";function uE(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=cE(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=ki(r.current);a.current=l==="mounted"?u:"none"},[l]),rt(()=>{const u=r.current,f=s.current;if(f!==e){const m=a.current,y=ki(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),rt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=y=>{const x=ki(r.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},m=y=>{y.target===t&&(a.current=ki(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ki(e){return(e==null?void 0:e.animationName)||"none"}function dE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fu=0;function Hy(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yp()),document.body.insertAdjacentElement("beforeend",e[1]??Yp()),fu++,()=>{fu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fu--}},[])}function Yp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dn=function(){return Dn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Dn.apply(this,arguments)};function Ky(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function fE(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var el="right-scroll-bar-position",tl="width-before-scroll-bar",hE="with-scroll-bars-hidden",mE="--removed-body-scroll-bar-size";function hu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pE(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var gE=typeof window<"u"?d.useLayoutEffect:d.useEffect,Xp=new WeakMap;function vE(e,t){var n=pE(null,function(r){return e.forEach(function(s){return hu(s,r)})});return gE(function(){var r=Xp.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||hu(l,null)}),a.forEach(function(l){s.has(l)||hu(l,i)})}Xp.set(n,e)},[e]),n}function xE(e){return e}function yE(e,t){t===void 0&&(t=xE);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var f=i;i=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return s}function wE(e){e===void 0&&(e={});var t=yE(null);return t.options=Dn({async:!0,ssr:!1},e),t}var Gy=function(e){var t=e.sideCar,n=Ky(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Dn({},n))};Gy.isSideCarExport=!0;function bE(e,t){return e.useMedium(t),Gy}var Yy=wE(),mu=function(){},cc=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:mu,onWheelCapture:mu,onTouchMoveCapture:mu}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,S=e.allowPinchZoom,p=e.as,g=p===void 0?"div":p,v=e.gapMode,N=Ky(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,T=vE([n,t]),P=Dn(Dn({},N),s);return d.createElement(d.Fragment,null,f&&d.createElement(C,{sideCar:Yy,removeScrollBar:u,shards:h,noRelative:y,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:v}),i?d.cloneElement(d.Children.only(l),Dn(Dn({},P),{ref:T})):d.createElement(g,Dn({},P,{className:c,ref:T}),l))});cc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cc.classNames={fullWidth:tl,zeroRight:el};var SE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SE();return t&&e.setAttribute("nonce",t),e}function jE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kE=function(){var e=0,t=null;return{add:function(n){e==0&&(t=NE())&&(jE(t,n),CE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},EE=function(){var e=kE();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Xy=function(){var e=EE(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},TE={left:0,top:0,right:0,gap:0},pu=function(e){return parseInt(e||"",10)||0},RE=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[pu(n),pu(r),pu(s)]},PE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TE;var t=RE(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_E=Xy(),Zs="data-scroll-locked",AE=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hE,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Zs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(el,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(tl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(el," .").concat(el,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tl," .").concat(tl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zs,`] {
    `).concat(mE,": ").concat(l,`px;
  }
`)},qp=function(){var e=parseInt(document.body.getAttribute(Zs)||"0",10);return isFinite(e)?e:0},IE=function(){d.useEffect(function(){return document.body.setAttribute(Zs,(qp()+1).toString()),function(){var e=qp()-1;e<=0?document.body.removeAttribute(Zs):document.body.setAttribute(Zs,e.toString())}},[])},DE=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;IE();var a=d.useMemo(function(){return PE(s)},[s]);return d.createElement(_E,{styles:AE(a,!t,s,n?"":"!important")})},Dd=!1;if(typeof window<"u")try{var Ei=Object.defineProperty({},"passive",{get:function(){return Dd=!0,!0}});window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{Dd=!1}var Ps=Dd?{passive:!1}:!1,OE=function(e){return e.tagName==="TEXTAREA"},qy=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!OE(e)&&n[t]==="visible")},LE=function(e){return qy(e,"overflowY")},ME=function(e){return qy(e,"overflowX")},Qp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Qy(e,r);if(s){var a=Jy(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$E=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},zE=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Qy=function(e,t){return e==="v"?LE(t):ME(t)},Jy=function(e,t){return e==="v"?$E(t):zE(t)},FE=function(e,t){return e==="h"&&t==="rtl"?-1:1},UE=function(e,t,n,r,s){var a=FE(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,f=i>0,h=0,m=0;do{if(!l)break;var y=Jy(e,l),w=y[0],x=y[1],S=y[2],p=x-S-a*w;(w||p)&&Qy(e,l)&&(h+=p,m+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(u=!0),u},Ti=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jp=function(e){return[e.deltaX,e.deltaY]},Zp=function(e){return e&&"current"in e?e.current:e},BE=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WE=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VE=0,_s=[];function HE(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(VE++)[0],a=d.useState(Xy)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=fE([e.lockRef.current],(e.shards||[]).map(Zp),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var p=Ti(x),g=n.current,v="deltaX"in x?x.deltaX:g[0]-p[0],N="deltaY"in x?x.deltaY:g[1]-p[1],C,T=x.target,P=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in x&&P==="h"&&T.type==="range")return!1;var k=Qp(P,T);if(!k)return!0;if(k?C=P:(C=P==="v"?"h":"v",k=Qp(P,T)),!k)return!1;if(!r.current&&"changedTouches"in x&&(v||N)&&(r.current=C),!C)return!0;var b=r.current||C;return UE(b,S,x,b==="h"?v:N)},[]),c=d.useCallback(function(x){var S=x;if(!(!_s.length||_s[_s.length-1]!==a)){var p="deltaY"in S?Jp(S):Ti(S),g=t.current.filter(function(C){return C.name===S.type&&(C.target===S.target||S.target===C.shadowParent)&&BE(C.delta,p)})[0];if(g&&g.should){S.cancelable&&S.preventDefault();return}if(!g){var v=(i.current.shards||[]).map(Zp).filter(Boolean).filter(function(C){return C.contains(S.target)}),N=v.length>0?l(S,v[0]):!i.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),u=d.useCallback(function(x,S,p,g){var v={name:x,delta:S,target:p,should:g,shadowParent:KE(p)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(N){return N!==v})},1)},[]),f=d.useCallback(function(x){n.current=Ti(x),r.current=void 0},[]),h=d.useCallback(function(x){u(x.type,Jp(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,Ti(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return _s.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ps),document.addEventListener("touchmove",c,Ps),document.addEventListener("touchstart",f,Ps),function(){_s=_s.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Ps),document.removeEventListener("touchmove",c,Ps),document.removeEventListener("touchstart",f,Ps)}},[]);var y=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(a,{styles:WE(s)}):null,y?d.createElement(DE,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function KE(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GE=bE(Yy,HE);var xh=d.forwardRef(function(e,t){return d.createElement(cc,Dn({},e,{ref:t,sideCar:GE}))});xh.classNames=cc.classNames;var YE=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},As=new WeakMap,Ri=new WeakMap,Pi={},gu=0,Zy=function(e){return e&&(e.host||Zy(e.parentNode))},XE=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Zy(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qE=function(e,t,n,r){var s=XE(t,Array.isArray(e)?e:[e]);Pi[n]||(Pi[n]=new WeakMap);var a=Pi[n],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var y=m.getAttribute(r),w=y!==null&&y!=="false",x=(As.get(m)||0)+1,S=(a.get(m)||0)+1;As.set(m,x),a.set(m,S),i.push(m),x===1&&w&&Ri.set(m,!0),S===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return f(t),l.clear(),gu++,function(){i.forEach(function(h){var m=As.get(h)-1,y=a.get(h)-1;As.set(h,m),a.set(h,y),m||(Ri.has(h)||h.removeAttribute(r),Ri.delete(h)),y||h.removeAttribute(n)}),gu--,gu||(As=new WeakMap,As=new WeakMap,Ri=new WeakMap,Pi={})}},e0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=YE(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),qE(r,s,n,"aria-hidden")):function(){return null}},uc="Dialog",[t0,n0]=Tn(uc),[QE,Rn]=t0(uc),r0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,f]=ps({prop:r,defaultProp:s??!1,onChange:a,caller:uc});return o.jsx(QE,{scope:t,triggerRef:l,contentRef:c,contentId:zr(),titleId:zr(),descriptionId:zr(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:i,children:n})};r0.displayName=uc;var s0="DialogTrigger",o0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rn(s0,n),a=Se(t,s.triggerRef);return o.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bh(s.open),...r,ref:a,onClick:fe(e.onClick,s.onOpenToggle)})});o0.displayName=s0;var yh="DialogPortal",[JE,a0]=t0(yh,{forceMount:void 0}),i0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Rn(yh,t);return o.jsx(JE,{scope:t,forceMount:n,children:d.Children.map(r,i=>o.jsx(mr,{present:n||a.open,children:o.jsx(vh,{asChild:!0,container:s,children:i})}))})};i0.displayName=yh;var Dl="DialogOverlay",l0=d.forwardRef((e,t)=>{const n=a0(Dl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Rn(Dl,e.__scopeDialog);return a.modal?o.jsx(mr,{present:r||a.open,children:o.jsx(e4,{...s,ref:t})}):null});l0.displayName=Dl;var ZE=co("DialogOverlay.RemoveScroll"),e4=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rn(Dl,n);return o.jsx(xh,{as:ZE,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(he.div,{"data-state":bh(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),gs="DialogContent",c0=d.forwardRef((e,t)=>{const n=a0(gs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Rn(gs,e.__scopeDialog);return o.jsx(mr,{present:r||a.open,children:a.modal?o.jsx(t4,{...s,ref:t}):o.jsx(n4,{...s,ref:t})})});c0.displayName=gs;var t4=d.forwardRef((e,t)=>{const n=Rn(gs,e.__scopeDialog),r=d.useRef(null),s=Se(t,n.contentRef,r);return d.useEffect(()=>{const a=r.current;if(a)return e0(a)},[]),o.jsx(u0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,a=>a.preventDefault())})}),n4=d.forwardRef((e,t)=>{const n=Rn(gs,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(u0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),u0=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Rn(gs,n),c=d.useRef(null),u=Se(t,c);return Hy(),o.jsxs(o.Fragment,{children:[o.jsx(gh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(ph,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bh(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(s4,{titleId:l.titleId}),o.jsx(a4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wh="DialogTitle",d0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rn(wh,n);return o.jsx(he.h2,{id:s.titleId,...r,ref:t})});d0.displayName=wh;var f0="DialogDescription",h0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rn(f0,n);return o.jsx(he.p,{id:s.descriptionId,...r,ref:t})});h0.displayName=f0;var m0="DialogClose",p0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rn(m0,n);return o.jsx(he.button,{type:"button",...r,ref:t,onClick:fe(e.onClick,()=>s.onOpenChange(!1))})});p0.displayName=m0;function bh(e){return e?"open":"closed"}var g0="DialogTitleWarning",[r4,v0]=Q2(g0,{contentName:gs,titleName:wh,docsSlug:"dialog"}),s4=({titleId:e})=>{const t=v0(g0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},o4="DialogDescriptionWarning",a4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${v0(o4).contentName}}.`;return d.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},x0=r0,i4=o0,y0=i0,w0=l0,b0=c0,S0=d0,l4=h0,Sh=p0;function dc({...e}){return o.jsx(x0,{"data-slot":"dialog",...e})}function c4({...e}){return o.jsx(y0,{"data-slot":"dialog-portal",...e})}function u4({className:e,...t}){return o.jsx(w0,{"data-slot":"dialog-overlay",className:be("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function fc({className:e,children:t,...n}){return o.jsxs(c4,{"data-slot":"dialog-portal",children:[o.jsx(u4,{}),o.jsxs(b0,{"data-slot":"dialog-content",className:be("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(Sh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(jn,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function hc({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:be("flex flex-col gap-2 text-center sm:text-left",e),...t})}function mc({className:e,...t}){return o.jsx(S0,{"data-slot":"dialog-title",className:be("text-lg leading-none font-semibold",e),...t})}function d4({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:a}){var ye,ze;const[i,l]=d.useState(null),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,y]=d.useState(null),[w,x]=d.useState(null),[S,p]=d.useState(!0),[g,v]=d.useState(null),[N,C]=d.useState(!1),[T,P]=d.useState([]),[k,b]=d.useState([]),[j,I]=d.useState(""),[E,A]=d.useState(!1),[D,Y]=d.useState(!1),[R,O]=d.useState([]),_=d.useCallback(async()=>{var Q,L,G;try{p(!0),v(null),console.log("    :",e);const Z=localStorage.getItem("accessToken");let X=null;if(Z)try{const B=Z.split(".");if(B.length===3){const ne=JSON.parse(atob(B[1]));X=ne.userId||ne.sub||ne.id||null}}catch(B){console.error("JWT   :",B)}x(X);const M=await r(e);if(console.log("   :",M),!M){console.error("   "),v("   .");return}if(l(M),u(M.playlistContents||[]),X&&M.subscriptions){const B=M.subscriptions.find(ne=>ne.userId===X);h(!!B),y((B==null?void 0:B.subscriptionId)||null)}console.log("    :",{playlist:M,contents:M.playlistContents||[],isSubscribed:!!X&&((Q=M.subscriptions)==null?void 0:Q.some(B=>B.userId===X)),subscriptionId:(G=(L=M.subscriptions)==null?void 0:L.find(B=>B.userId===X))==null?void 0:G.subscriptionId})}catch(Z){console.error("    :",Z),v("   .")}finally{p(!1)}},[e,r]),F=d.useCallback(async()=>{try{console.log("   :",{searchQuery:j}),A(!0);const Q=await is.getContents({size:20,query:j||void 0});console.log("   :",Q),P(Q.data||[]),console.log("   :",Q.data||[])}catch(Q){console.error("   :",Q)}finally{A(!1)}},[j]);if(d.useEffect(()=>{_()},[_]),d.useEffect(()=>{let Q;return N&&(Q=setTimeout(()=>{F()},300)),()=>{Q&&clearTimeout(Q)}},[j,N,F]),S)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(g||!i)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:g||"   "}),o.jsx($,{onClick:t,variant:"outline",children:""})]})});const V=async()=>{if(!w){alert(" .");return}try{if(f&&m)await _d.unsubscribe(m),h(!1),y(null),console.log("   :",m);else{const Q=await _d.subscribe(w,e);h(!0),y(Q.subscriptionId),console.log("  :",Q)}await _()}catch(Q){console.error("    :",Q),alert("   .")}},U=Q=>{console.log(`Removing content ${Q} from playlist ${e}`),u(L=>L.filter(G=>G.id!==Q))},ee=Q=>{n?n({id:Q.id,title:Q.title,thumbnail:Q.thumbnail,type:Q.type,duration:Q.duration,description:Q.description}):alert(`"${Q.title}"  .`)},te=()=>{console.log(`Playing playlist: ${i.name}`),alert(`"${i.name}"   .`)},ce=()=>{console.log(`Shuffling playlist: ${i.name}`),alert(`"${i.name}"   .`)},Te=()=>{C(!0),F()},Ce=Q=>{b(L=>L.includes(Q)?L.filter(G=>G!==Q):[...L,Q])},oe=async()=>{if(k.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,k),await s(e,k),await _(),C(!1),b([]),I(""),alert(`${k.length}   .`)}catch(Q){console.error("  :",Q),alert("  .")}},ie=()=>{console.log("    :",!D),Y(!D),O([])},de=Q=>{O(L=>L.includes(Q)?L.filter(G=>G!==Q):[...L,Q])},pe=()=>{R.length===c.length?O([]):O(c.map(Q=>Q.id))},le=async()=>{if(R.length===0){alert("  .");return}if(confirm(` ${R.length}   ?`))try{await a(e,R),await _(),O([]),Y(!1),alert(`${R.length}  .`)}catch(L){console.error("  :",L),alert("  .")}},ve=()=>i.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:i.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:""})]})}):o.jsx(Il,{src:i.coverImage,alt:i.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs($,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(yo,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:ve()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(an,{variant:"secondary",className:"bg-white/10 text-white",children:""}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:i.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:i.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Xe,{className:"h-6 w-6",children:[o.jsx(qe,{src:(ye=i.user)==null?void 0:ye.profileImage}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black text-xs",children:((ze=i.username)==null?void 0:ze.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:i.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[c.length," "]}),o.jsx("span",{children:""}),o.jsx("span",{children:i.totalDuration||"0"}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ah,{className:"w-4 h-4"}),o.jsx("span",{children:i.createdAt?new Date(i.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs($,{size:"lg",onClick:te,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(gt,{className:"w-6 h-6 mr-2 fill-current"}),""]}),o.jsxs($,{size:"lg",variant:"outline",onClick:ce,className:"border-white/20 hover:bg-white/10",children:[o.jsx(i2,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs($,{size:"lg",variant:"outline",onClick:Te,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs($,{size:"lg",variant:"outline",onClick:ie,className:`border-white/20 hover:bg-white/10 ${D?"bg-white/10":""}`,children:[o.jsx(jn,{className:"w-5 h-5 mr-2"}),D?" ":" "]}),D&&o.jsxs(o.Fragment,{children:[o.jsx($,{size:"lg",variant:"outline",onClick:pe,className:"border-white/20 hover:bg-white/10",children:R.length===c.length?" ":" "}),R.length>0&&o.jsxs($,{size:"lg",variant:"destructive",onClick:le,className:"bg-red-600 hover:bg-red-700",children:["  (",R.length,")"]})]}),o.jsx($,{variant:"ghost",size:"lg",onClick:V,className:`p-3 hover:bg-white/10 ${f?"text-[#4ecdc4]":"text-white/60"}`,title:f?" ":"",children:o.jsx(cr,{className:`w-6 h-6 ${f?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(a2,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(vy,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:""}),o.jsx("div",{className:"col-span-2",children:""}),o.jsx("div",{className:"col-span-2",children:" "}),o.jsx("div",{className:"col-span-1",children:o.jsx($r,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:c.map((Q,L)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:D,contentId:Q.id}),D)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>de(Q.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${R.includes(Q.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:R.includes(Q.id)&&o.jsx(Yt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:L+1}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>ee(Q),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(gt,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(Il,{src:Q.thumbnail,alt:Q.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:Q.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[Q.year,"  ",Q.type==="movie"?"":Q.type==="tv"?"":""]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:Q.genre&&Array.isArray(Q.genre)?Q.genre.slice(0,2).join(", "):Q.genre||" "})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(Q.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:Q.duration})}),o.jsx("div",{className:"col-span-1",children:o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx($,{variant:"ghost",size:"sm",onClick:()=>U(Q.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(jn,{className:"w-4 h-4"})})})})]})},Q.id))}),c.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),o.jsx($,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:Te,children:" "})]})]})}),o.jsx(dc,{open:N,onOpenChange:C,children:o.jsxs(fc,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(hc,{children:o.jsx(mc,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx($e,{placeholder:" ...",value:j,onChange:Q=>I(Q.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),k.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[k.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:E?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!T||T.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(T||[]).map(Q=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${k.includes(Q.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>Ce(Q.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:Q.thumbnail||"/placeholder-content.jpg",alt:Q.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:Q.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:Q.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(an,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:Q.contentType}),Q.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:Q.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:k.includes(Q.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Yt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},Q.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{C(!1),b([]),I("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx($,{onClick:oe,disabled:k.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:k.length>0?`${k.length} `:""})]})]})})]})}function Ea(e,[t,n]){return Math.min(n,Math.max(t,e))}function Nh(e){const t=e+"CollectionProvider",[n,r]=Tn(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:S,children:p}=x,g=qn.useRef(null),v=qn.useRef(new Map).current;return o.jsx(s,{scope:S,itemMap:v,collectionRef:g,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=co(l),u=qn.forwardRef((x,S)=>{const{scope:p,children:g}=x,v=a(l,p),N=Se(S,v.collectionRef);return o.jsx(c,{ref:N,children:g})});u.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=co(f),y=qn.forwardRef((x,S)=>{const{scope:p,children:g,...v}=x,N=qn.useRef(null),C=Se(S,N),T=a(f,p);return qn.useEffect(()=>(T.itemMap.set(N,{ref:N,...v}),()=>void T.itemMap.delete(N))),o.jsx(m,{[h]:"",ref:C,children:g})});y.displayName=f;function w(x){const S=a(e+"CollectionConsumer",x);return qn.useCallback(()=>{const g=S.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((T,P)=>v.indexOf(T.ref.current)-v.indexOf(P.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},w,r]}var f4=d.createContext(void 0);function Wa(e){const t=d.useContext(f4);return e||t||"ltr"}const h4=["top","right","bottom","left"],Wr=Math.min,Vt=Math.max,Ol=Math.round,_i=Math.floor,zn=e=>({x:e,y:e}),m4={left:"right",right:"left",bottom:"top",top:"bottom"},p4={start:"end",end:"start"};function Od(e,t,n){return Vt(e,Wr(t,n))}function ur(e,t){return typeof e=="function"?e(t):e}function dr(e){return e.split("-")[0]}function wo(e){return e.split("-")[1]}function jh(e){return e==="x"?"y":"x"}function Ch(e){return e==="y"?"height":"width"}const g4=new Set(["top","bottom"]);function On(e){return g4.has(dr(e))?"y":"x"}function kh(e){return jh(On(e))}function v4(e,t,n){n===void 0&&(n=!1);const r=wo(e),s=kh(e),a=Ch(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Ll(i)),[i,Ll(i)]}function x4(e){const t=Ll(e);return[Ld(e),t,Ld(t)]}function Ld(e){return e.replace(/start|end/g,t=>p4[t])}const eg=["left","right"],tg=["right","left"],y4=["top","bottom"],w4=["bottom","top"];function b4(e,t,n){switch(e){case"top":case"bottom":return n?t?tg:eg:t?eg:tg;case"left":case"right":return t?y4:w4;default:return[]}}function S4(e,t,n,r){const s=wo(e);let a=b4(dr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Ld)))),a}function Ll(e){return e.replace(/left|right|bottom|top/g,t=>m4[t])}function N4(e){return{top:0,right:0,bottom:0,left:0,...e}}function N0(e){return typeof e!="number"?N4(e):{top:e,right:e,bottom:e,left:e}}function Ml(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ng(e,t,n){let{reference:r,floating:s}=e;const a=On(t),i=kh(t),l=Ch(i),c=dr(t),u=a==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:f,y:r.y-s.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-s.width,y:h};break;default:y={x:r.x,y:r.y}}switch(wo(t)){case"start":y[i]-=m*(n&&u?-1:1);break;case"end":y[i]+=m*(n&&u?-1:1);break}return y}const j4=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=ng(u,r,c),m=r,y={},w=0;for(let x=0;x<l.length;x++){const{name:S,fn:p}=l[x],{x:g,y:v,data:N,reset:C}=await p({x:f,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});f=g??f,h=v??h,y={...y,[S]:{...y[S],...N}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:f,y:h}=ng(u,m,c)),x=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:y}};async function Ta(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=ur(t,e),w=N0(y),S=l[m?h==="floating"?"reference":"floating":h],p=Ml(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),g=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},C=Ml(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(p.top-C.top+w.top)/N.y,bottom:(C.bottom-p.bottom+w.bottom)/N.y,left:(p.left-C.left+w.left)/N.x,right:(C.right-p.right+w.right)/N.x}}const C4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=ur(e,t)||{};if(u==null)return{};const h=N0(f),m={x:n,y:r},y=kh(s),w=Ch(y),x=await i.getDimensions(u),S=y==="y",p=S?"top":"left",g=S?"bottom":"right",v=S?"clientHeight":"clientWidth",N=a.reference[w]+a.reference[y]-m[y]-a.floating[w],C=m[y]-a.reference[y],T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let P=T?T[v]:0;(!P||!await(i.isElement==null?void 0:i.isElement(T)))&&(P=l.floating[v]||a.floating[w]);const k=N/2-C/2,b=P/2-x[w]/2-1,j=Wr(h[p],b),I=Wr(h[g],b),E=j,A=P-x[w]-I,D=P/2-x[w]/2+k,Y=Od(E,D,A),R=!c.arrow&&wo(s)!=null&&D!==Y&&a.reference[w]/2-(D<E?j:I)-x[w]/2<0,O=R?D<E?D-E:D-A:0;return{[y]:m[y]+O,data:{[y]:Y,centerOffset:D-Y-O,...R&&{alignmentOffset:O}},reset:R}}}),k4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...S}=ur(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=dr(s),g=On(l),v=dr(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(v||!x?[Ll(l)]:x4(l)),T=w!=="none";!m&&T&&C.push(...S4(l,x,w,N));const P=[l,...C],k=await Ta(t,S),b=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&b.push(k[p]),h){const D=v4(s,i,N);b.push(k[D[0]],k[D[1]])}if(j=[...j,{placement:s,overflows:b}],!b.every(D=>D<=0)){var I,E;const D=(((I=a.flip)==null?void 0:I.index)||0)+1,Y=P[D];if(Y&&(!(h==="alignment"?g!==On(Y):!1)||j.every(_=>_.overflows[0]>0&&On(_.placement)===g)))return{data:{index:D,overflows:j},reset:{placement:Y}};let R=(E=j.filter(O=>O.overflows[0]<=0).sort((O,_)=>O.overflows[1]-_.overflows[1])[0])==null?void 0:E.placement;if(!R)switch(y){case"bestFit":{var A;const O=(A=j.filter(_=>{if(T){const F=On(_.placement);return F===g||F==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(F=>F>0).reduce((F,V)=>F+V,0)]).sort((_,F)=>_[1]-F[1])[0])==null?void 0:A[0];O&&(R=O);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function rg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sg(e){return h4.some(t=>e[t]>=0)}const E4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ur(e,t);switch(r){case"referenceHidden":{const a=await Ta(t,{...s,elementContext:"reference"}),i=rg(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:sg(i)}}}case"escaped":{const a=await Ta(t,{...s,altBoundary:!0}),i=rg(a,n.floating);return{data:{escapedOffsets:i,escaped:sg(i)}}}default:return{}}}}},j0=new Set(["left","top"]);async function T4(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=dr(n),l=wo(n),c=On(n)==="y",u=j0.has(i)?-1:1,f=a&&c?-1:1,h=ur(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*f,y:m*u}:{x:m*u,y:y*f}}const R4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await T4(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},P4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:S=>{let{x:p,y:g}=S;return{x:p,y:g}}},...c}=ur(e,t),u={x:n,y:r},f=await Ta(t,c),h=On(dr(s)),m=jh(h);let y=u[m],w=u[h];if(a){const S=m==="y"?"top":"left",p=m==="y"?"bottom":"right",g=y+f[S],v=y-f[p];y=Od(g,y,v)}if(i){const S=h==="y"?"top":"left",p=h==="y"?"bottom":"right",g=w+f[S],v=w-f[p];w=Od(g,w,v)}const x=l.fn({...t,[m]:y,[h]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[h]:i}}}}}},_4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ur(e,t),f={x:n,y:r},h=On(s),m=jh(h);let y=f[m],w=f[h];const x=ur(l,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",N=a.reference[m]-a.floating[v]+S.mainAxis,C=a.reference[m]+a.reference[v]-S.mainAxis;y<N?y=N:y>C&&(y=C)}if(u){var p,g;const v=m==="y"?"width":"height",N=j0.has(dr(s)),C=a.reference[h]-a.floating[v]+(N&&((p=i.offset)==null?void 0:p[h])||0)+(N?0:S.crossAxis),T=a.reference[h]+a.reference[v]+(N?0:((g=i.offset)==null?void 0:g[h])||0)-(N?S.crossAxis:0);w<C?w=C:w>T&&(w=T)}return{[m]:y,[h]:w}}}},A4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=ur(e,t),f=await Ta(t,u),h=dr(s),m=wo(s),y=On(s)==="y",{width:w,height:x}=a.floating;let S,p;h==="top"||h==="bottom"?(S=h,p=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(p=h,S=m==="end"?"top":"bottom");const g=x-f.top-f.bottom,v=w-f.left-f.right,N=Wr(x-f[S],g),C=Wr(w-f[p],v),T=!t.middlewareData.shift;let P=N,k=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=g),T&&!m){const j=Vt(f.left,0),I=Vt(f.right,0),E=Vt(f.top,0),A=Vt(f.bottom,0);y?k=w-2*(j!==0||I!==0?j+I:Vt(f.left,f.right)):P=x-2*(E!==0||A!==0?E+A:Vt(f.top,f.bottom))}await c({...t,availableWidth:k,availableHeight:P});const b=await i.getDimensions(l.floating);return w!==b.width||x!==b.height?{reset:{rects:!0}}:{}}}};function pc(){return typeof window<"u"}function bo(e){return C0(e)?(e.nodeName||"").toLowerCase():"#document"}function Xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gn(e){var t;return(t=(C0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function C0(e){return pc()?e instanceof Node||e instanceof Xt(e).Node:!1}function Cn(e){return pc()?e instanceof Element||e instanceof Xt(e).Element:!1}function Wn(e){return pc()?e instanceof HTMLElement||e instanceof Xt(e).HTMLElement:!1}function og(e){return!pc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xt(e).ShadowRoot}const I4=new Set(["inline","contents"]);function Va(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=kn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!I4.has(s)}const D4=new Set(["table","td","th"]);function O4(e){return D4.has(bo(e))}const L4=[":popover-open",":modal"];function gc(e){return L4.some(t=>{try{return e.matches(t)}catch{return!1}})}const M4=["transform","translate","scale","rotate","perspective"],$4=["transform","translate","scale","rotate","perspective","filter"],z4=["paint","layout","strict","content"];function Eh(e){const t=Th(),n=Cn(e)?kn(e):e;return M4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||$4.some(r=>(n.willChange||"").includes(r))||z4.some(r=>(n.contain||"").includes(r))}function F4(e){let t=Vr(e);for(;Wn(t)&&!fo(t);){if(Eh(t))return t;if(gc(t))return null;t=Vr(t)}return null}function Th(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const U4=new Set(["html","body","#document"]);function fo(e){return U4.has(bo(e))}function kn(e){return Xt(e).getComputedStyle(e)}function vc(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vr(e){if(bo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||og(e)&&e.host||Gn(e);return og(t)?t.host:t}function k0(e){const t=Vr(e);return fo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wn(t)&&Va(t)?t:k0(t)}function Ra(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=k0(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=Xt(s);if(a){const l=Md(i);return t.concat(i,i.visualViewport||[],Va(s)?s:[],l&&n?Ra(l):[])}return t.concat(s,Ra(s,[],n))}function Md(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function E0(e){const t=kn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Wn(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Ol(n)!==a||Ol(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Rh(e){return Cn(e)?e:e.contextElement}function eo(e){const t=Rh(e);if(!Wn(t))return zn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=E0(t);let i=(a?Ol(n.width):n.width)/r,l=(a?Ol(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const B4=zn(0);function T0(e){const t=Xt(e);return!Th()||!t.visualViewport?B4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function W4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xt(e)?!1:t}function vs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Rh(e);let i=zn(1);t&&(r?Cn(r)&&(i=eo(r)):i=eo(e));const l=W4(a,n,r)?T0(a):zn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(a){const m=Xt(a),y=r&&Cn(r)?Xt(r):r;let w=m,x=Md(w);for(;x&&r&&y!==w;){const S=eo(x),p=x.getBoundingClientRect(),g=kn(x),v=p.left+(x.clientLeft+parseFloat(g.paddingLeft))*S.x,N=p.top+(x.clientTop+parseFloat(g.paddingTop))*S.y;c*=S.x,u*=S.y,f*=S.x,h*=S.y,c+=v,u+=N,w=Xt(x),x=Md(w)}}return Ml({width:f,height:h,x:c,y:u})}function Ph(e,t){const n=vc(e).scrollLeft;return t?t.left+n:vs(Gn(e)).left+n}function R0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Ph(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function V4(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=Gn(r),l=t?gc(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=zn(1);const f=zn(0),h=Wn(r);if((h||!h&&!a)&&((bo(r)!=="body"||Va(i))&&(c=vc(r)),Wn(r))){const y=vs(r);u=eo(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const m=i&&!h&&!a?R0(i,c,!0):zn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-c.scrollTop*u.y+f.y+m.y}}function H4(e){return Array.from(e.getClientRects())}function K4(e){const t=Gn(e),n=vc(e),r=e.ownerDocument.body,s=Vt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Vt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ph(e);const l=-n.scrollTop;return kn(r).direction==="rtl"&&(i+=Vt(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function G4(e,t){const n=Xt(e),r=Gn(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Th();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const Y4=new Set(["absolute","fixed"]);function X4(e,t){const n=vs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Wn(e)?eo(e):zn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function ag(e,t,n){let r;if(t==="viewport")r=G4(e,n);else if(t==="document")r=K4(Gn(e));else if(Cn(t))r=X4(t,n);else{const s=T0(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ml(r)}function P0(e,t){const n=Vr(e);return n===t||!Cn(n)||fo(n)?!1:kn(n).position==="fixed"||P0(n,t)}function q4(e,t){const n=t.get(e);if(n)return n;let r=Ra(e,[],!1).filter(l=>Cn(l)&&bo(l)!=="body"),s=null;const a=kn(e).position==="fixed";let i=a?Vr(e):e;for(;Cn(i)&&!fo(i);){const l=kn(i),c=Eh(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&Y4.has(s.position)||Va(i)&&!c&&P0(e,i))?r=r.filter(f=>f!==i):s=l,i=Vr(i)}return t.set(e,r),r}function Q4(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?gc(t)?[]:q4(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,f)=>{const h=ag(t,f,s);return u.top=Vt(h.top,u.top),u.right=Wr(h.right,u.right),u.bottom=Wr(h.bottom,u.bottom),u.left=Vt(h.left,u.left),u},ag(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function J4(e){const{width:t,height:n}=E0(e);return{width:t,height:n}}function Z4(e,t,n){const r=Wn(t),s=Gn(t),a=n==="fixed",i=vs(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=zn(0);function u(){c.x=Ph(s)}if(r||!r&&!a)if((bo(t)!=="body"||Va(s))&&(l=vc(t)),r){const y=vs(t,!0,a,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();a&&!r&&s&&u();const f=s&&!r&&!a?R0(s,l):zn(0),h=i.left+l.scrollLeft-c.x-f.x,m=i.top+l.scrollTop-c.y-f.y;return{x:h,y:m,width:i.width,height:i.height}}function vu(e){return kn(e).position==="static"}function ig(e,t){if(!Wn(e)||kn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Gn(e)===n&&(n=n.ownerDocument.body),n}function _0(e,t){const n=Xt(e);if(gc(e))return n;if(!Wn(e)){let s=Vr(e);for(;s&&!fo(s);){if(Cn(s)&&!vu(s))return s;s=Vr(s)}return n}let r=ig(e,t);for(;r&&O4(r)&&vu(r);)r=ig(r,t);return r&&fo(r)&&vu(r)&&!Eh(r)?n:r||F4(e)||n}const eT=async function(e){const t=this.getOffsetParent||_0,n=this.getDimensions,r=await n(e.floating);return{reference:Z4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tT(e){return kn(e).direction==="rtl"}const nT={convertOffsetParentRelativeRectToViewportRelativeRect:V4,getDocumentElement:Gn,getClippingRect:Q4,getOffsetParent:_0,getElementRects:eT,getClientRects:H4,getDimensions:J4,getScale:eo,isElement:Cn,isRTL:tT};function A0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rT(e,t){let n=null,r;const s=Gn(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:h,width:m,height:y}=u;if(l||t(),!m||!y)return;const w=_i(h),x=_i(s.clientWidth-(f+m)),S=_i(s.clientHeight-(h+y)),p=_i(f),v={rootMargin:-w+"px "+-x+"px "+-S+"px "+-p+"px",threshold:Vt(0,Wr(1,c))||1};let N=!0;function C(T){const P=T[0].intersectionRatio;if(P!==c){if(!N)return i();P?i(!1,P):r=setTimeout(()=>{i(!1,1e-7)},1e3)}P===1&&!A0(u,e.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(C,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,v)}n.observe(e)}return i(!0),a}function sT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Rh(e),f=s||a?[...u?Ra(u):[],...Ra(t)]:[];f.forEach(p=>{s&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const h=u&&l?rT(u,n):null;let m=-1,y=null;i&&(y=new ResizeObserver(p=>{let[g]=p;g&&g.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let w,x=c?vs(e):null;c&&S();function S(){const p=vs(e);x&&!A0(x,p)&&n(),x=p,w=requestAnimationFrame(S)}return n(),()=>{var p;f.forEach(g=>{s&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),h==null||h(),(p=y)==null||p.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const oT=R4,aT=P4,iT=k4,lT=A4,cT=E4,lg=C4,uT=_4,dT=(e,t,n)=>{const r=new Map,s={platform:nT,...n},a={...s.platform,_c:r};return j4(e,t,{...s,platform:a})};var fT=typeof document<"u",hT=function(){},nl=fT?d.useLayoutEffect:hT;function $l(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$l(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!$l(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function I0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cg(e,t){const n=I0(e);return Math.round(t*n)/n}function xu(e){const t=d.useRef(e);return nl(()=>{t.current=e}),t}function mT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,h]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=d.useState(r);$l(m,r)||y(r);const[w,x]=d.useState(null),[S,p]=d.useState(null),g=d.useCallback(_=>{_!==T.current&&(T.current=_,x(_))},[]),v=d.useCallback(_=>{_!==P.current&&(P.current=_,p(_))},[]),N=a||w,C=i||S,T=d.useRef(null),P=d.useRef(null),k=d.useRef(f),b=c!=null,j=xu(c),I=xu(s),E=xu(u),A=d.useCallback(()=>{if(!T.current||!P.current)return;const _={placement:t,strategy:n,middleware:m};I.current&&(_.platform=I.current),dT(T.current,P.current,_).then(F=>{const V={...F,isPositioned:E.current!==!1};D.current&&!$l(k.current,V)&&(k.current=V,vo.flushSync(()=>{h(V)}))})},[m,t,n,I,E]);nl(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[u]);const D=d.useRef(!1);nl(()=>(D.current=!0,()=>{D.current=!1}),[]),nl(()=>{if(N&&(T.current=N),C&&(P.current=C),N&&C){if(j.current)return j.current(N,C,A);A()}},[N,C,A,j,b]);const Y=d.useMemo(()=>({reference:T,floating:P,setReference:g,setFloating:v}),[g,v]),R=d.useMemo(()=>({reference:N,floating:C}),[N,C]),O=d.useMemo(()=>{const _={position:n,left:0,top:0};if(!R.floating)return _;const F=cg(R.floating,f.x),V=cg(R.floating,f.y);return l?{..._,transform:"translate("+F+"px, "+V+"px)",...I0(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:V}},[n,l,R.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:A,refs:Y,elements:R,floatingStyles:O}),[f,A,Y,R,O])}const pT=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?lg({element:r.current,padding:s}).fn(n):{}:r?lg({element:r,padding:s}).fn(n):{}}}},gT=(e,t)=>({...oT(e),options:[e,t]}),vT=(e,t)=>({...aT(e),options:[e,t]}),xT=(e,t)=>({...uT(e),options:[e,t]}),yT=(e,t)=>({...iT(e),options:[e,t]}),wT=(e,t)=>({...lT(e),options:[e,t]}),bT=(e,t)=>({...cT(e),options:[e,t]}),ST=(e,t)=>({...pT(e),options:[e,t]});var NT="Arrow",D0=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(he.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});D0.displayName=NT;var jT=D0;function _h(e){const[t,n]=d.useState(void 0);return rt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ah="Popper",[O0,L0]=Tn(Ah),[CT,M0]=O0(Ah),$0=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(CT,{scope:t,anchor:r,onAnchorChange:s,children:n})};$0.displayName=Ah;var z0="PopperAnchor",F0=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=M0(z0,n),i=d.useRef(null),l=Se(t,i);return d.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(he.div,{...s,ref:l})});F0.displayName=z0;var Ih="PopperContent",[kT,ET]=O0(Ih),U0=d.forwardRef((e,t)=>{var oe,ie,de,pe,le,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,S=M0(Ih,n),[p,g]=d.useState(null),v=Se(t,ye=>g(ye)),[N,C]=d.useState(null),T=_h(N),P=(T==null?void 0:T.width)??0,k=(T==null?void 0:T.height)??0,b=r+(a!=="center"?"-"+a:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},I=Array.isArray(u)?u:[u],E=I.length>0,A={padding:j,boundary:I.filter(RT),altBoundary:E},{refs:D,floatingStyles:Y,placement:R,isPositioned:O,middlewareData:_}=mT({strategy:"fixed",placement:b,whileElementsMounted:(...ye)=>sT(...ye,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[gT({mainAxis:s+k,alignmentAxis:i}),c&&vT({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xT():void 0,...A}),c&&yT({...A}),wT({...A,apply:({elements:ye,rects:ze,availableWidth:Q,availableHeight:L})=>{const{width:G,height:Z}=ze.reference,X=ye.floating.style;X.setProperty("--radix-popper-available-width",`${Q}px`),X.setProperty("--radix-popper-available-height",`${L}px`),X.setProperty("--radix-popper-anchor-width",`${G}px`),X.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),N&&ST({element:N,padding:l}),PT({arrowWidth:P,arrowHeight:k}),m&&bT({strategy:"referenceHidden",...A})]}),[F,V]=V0(R),U=St(w);rt(()=>{O&&(U==null||U())},[O,U]);const ee=(oe=_.arrow)==null?void 0:oe.x,te=(ie=_.arrow)==null?void 0:ie.y,ce=((de=_.arrow)==null?void 0:de.centerOffset)!==0,[Te,Ce]=d.useState();return rt(()=>{p&&Ce(window.getComputedStyle(p).zIndex)},[p]),o.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:O?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(pe=_.transformOrigin)==null?void 0:pe.x,(le=_.transformOrigin)==null?void 0:le.y].join(" "),...((ve=_.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(kT,{scope:n,placedSide:F,onArrowChange:C,arrowX:ee,arrowY:te,shouldHideArrow:ce,children:o.jsx(he.div,{"data-side":F,"data-align":V,...x,ref:v,style:{...x.style,animation:O?void 0:"none"}})})})});U0.displayName=Ih;var B0="PopperArrow",TT={top:"bottom",right:"left",bottom:"top",left:"right"},W0=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=ET(B0,r),i=TT[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(jT,{...s,ref:n,style:{...s.style,display:"block"}})})});W0.displayName=B0;function RT(e){return e!==null}var PT=e=>({name:"transformOrigin",options:e,fn(t){var S,p,g;const{placement:n,rects:r,middlewareData:s}=t,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=V0(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((p=s.arrow)==null?void 0:p.x)??0)+l/2,y=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?h:`${m}px`,x=`${-c}px`):u==="top"?(w=i?h:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?h:`${y}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?h:`${y}px`),{data:{x:w,y:x}}}});function V0(e){const[t,n="center"]=e.split("-");return[t,n]}var _T=$0,AT=F0,IT=U0,DT=W0;function Dh(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var H0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OT="VisuallyHidden",LT=d.forwardRef((e,t)=>o.jsx(he.span,{...e,ref:t,style:{...H0,...e.style}}));LT.displayName=OT;var MT=[" ","Enter","ArrowUp","ArrowDown"],$T=[" ","Enter"],xs="Select",[xc,yc,zT]=Nh(xs),[So,K3]=Tn(xs,[zT,L0]),wc=L0(),[FT,Xr]=So(xs),[UT,BT]=So(xs),K0=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:m,required:y,form:w}=e,x=wc(t),[S,p]=d.useState(null),[g,v]=d.useState(null),[N,C]=d.useState(!1),T=Wa(u),[P,k]=ps({prop:r,defaultProp:s??!1,onChange:a,caller:xs}),[b,j]=ps({prop:i,defaultProp:l,onChange:c,caller:xs}),I=d.useRef(null),E=S?w||!!S.closest("form"):!0,[A,D]=d.useState(new Set),Y=Array.from(A).map(R=>R.props.value).join(";");return o.jsx(_T,{...x,children:o.jsxs(FT,{required:y,scope:t,trigger:S,onTriggerChange:p,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:zr(),value:b,onValueChange:j,open:P,onOpenChange:k,dir:T,triggerPointerDownPosRef:I,disabled:m,children:[o.jsx(xc.Provider,{scope:t,children:o.jsx(UT,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(R=>{D(O=>new Set(O).add(R))},[]),onNativeOptionRemove:d.useCallback(R=>{D(O=>{const _=new Set(O);return _.delete(R),_})},[]),children:n})}),E?o.jsxs(mw,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:h,value:b,onChange:R=>j(R.target.value),disabled:m,form:w,children:[b===void 0?o.jsx("option",{value:""}):null,Array.from(A)]},Y):null]})})};K0.displayName=xs;var G0="SelectTrigger",Y0=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=wc(n),i=Xr(G0,n),l=i.disabled||r,c=Se(t,i.onTriggerChange),u=yc(n),f=d.useRef("touch"),[h,m,y]=gw(x=>{const S=u().filter(v=>!v.disabled),p=S.find(v=>v.value===i.value),g=vw(S,x,p);g!==void 0&&i.onValueChange(g.value)}),w=x=>{l||(i.onOpenChange(!0),y()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(AT,{asChild:!0,...a,children:o.jsx(he.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pw(i.value)?"":void 0,...s,ref:c,onClick:fe(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&w(x)}),onPointerDown:fe(s.onPointerDown,x=>{f.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:fe(s.onKeyDown,x=>{const S=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(S&&x.key===" ")&&MT.includes(x.key)&&(w(),x.preventDefault())})})})});Y0.displayName=G0;var X0="SelectValue",q0=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=Xr(X0,n),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,h=Se(t,c.onValueNodeChange);return rt(()=>{u(f)},[u,f]),o.jsx(he.span,{...l,ref:h,style:{pointerEvents:"none"},children:pw(c.value)?o.jsx(o.Fragment,{children:i}):a})});q0.displayName=X0;var WT="SelectIcon",Q0=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(he.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});Q0.displayName=WT;var VT="SelectPortal",J0=e=>o.jsx(vh,{asChild:!0,...e});J0.displayName=VT;var ys="SelectContent",Z0=d.forwardRef((e,t)=>{const n=Xr(ys,e.__scopeSelect),[r,s]=d.useState();if(rt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?vo.createPortal(o.jsx(ew,{scope:e.__scopeSelect,children:o.jsx(xc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(tw,{...e,ref:t})});Z0.displayName=ys;var gn=10,[ew,qr]=So(ys),HT="SelectContentImpl",KT=co("SelectContent.RemoveScroll"),tw=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:S,...p}=e,g=Xr(ys,n),[v,N]=d.useState(null),[C,T]=d.useState(null),P=Se(t,oe=>N(oe)),[k,b]=d.useState(null),[j,I]=d.useState(null),E=yc(n),[A,D]=d.useState(!1),Y=d.useRef(!1);d.useEffect(()=>{if(v)return e0(v)},[v]),Hy();const R=d.useCallback(oe=>{const[ie,...de]=E().map(ve=>ve.ref.current),[pe]=de.slice(-1),le=document.activeElement;for(const ve of oe)if(ve===le||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===ie&&C&&(C.scrollTop=0),ve===pe&&C&&(C.scrollTop=C.scrollHeight),ve==null||ve.focus(),document.activeElement!==le))return},[E,C]),O=d.useCallback(()=>R([k,v]),[R,k,v]);d.useEffect(()=>{A&&O()},[A,O]);const{onOpenChange:_,triggerPointerDownPosRef:F}=g;d.useEffect(()=>{if(v){let oe={x:0,y:0};const ie=pe=>{var le,ve;oe={x:Math.abs(Math.round(pe.pageX)-(((le=F.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((ve=F.current)==null?void 0:ve.y)??0))}},de=pe=>{oe.x<=10&&oe.y<=10?pe.preventDefault():v.contains(pe.target)||_(!1),document.removeEventListener("pointermove",ie),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",de,{capture:!0})}}},[v,_,F]),d.useEffect(()=>{const oe=()=>_(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[_]);const[V,U]=gw(oe=>{const ie=E().filter(le=>!le.disabled),de=ie.find(le=>le.ref.current===document.activeElement),pe=vw(ie,oe,de);pe&&setTimeout(()=>pe.ref.current.focus())}),ee=d.useCallback((oe,ie,de)=>{const pe=!Y.current&&!de;(g.value!==void 0&&g.value===ie||pe)&&(b(oe),pe&&(Y.current=!0))},[g.value]),te=d.useCallback(()=>v==null?void 0:v.focus(),[v]),ce=d.useCallback((oe,ie,de)=>{const pe=!Y.current&&!de;(g.value!==void 0&&g.value===ie||pe)&&I(oe)},[g.value]),Te=r==="popper"?$d:nw,Ce=Te===$d?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:S}:{};return o.jsx(ew,{scope:n,content:v,viewport:C,onViewportChange:T,itemRefCallback:ee,selectedItem:k,onItemLeave:te,itemTextRefCallback:ce,focusSelectedItem:O,selectedItemText:j,position:r,isPositioned:A,searchRef:V,children:o.jsx(xh,{as:KT,allowPinchZoom:!0,children:o.jsx(gh,{asChild:!0,trapped:g.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:fe(s,oe=>{var ie;(ie=g.trigger)==null||ie.focus({preventScroll:!0}),oe.preventDefault()}),children:o.jsx(ph,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:o.jsx(Te,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:oe=>oe.preventDefault(),...p,...Ce,onPlaced:()=>D(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:fe(p.onKeyDown,oe=>{const ie=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ie&&oe.key.length===1&&U(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let pe=E().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const le=oe.target,ve=pe.indexOf(le);pe=pe.slice(ve+1)}setTimeout(()=>R(pe)),oe.preventDefault()}})})})})})})});tw.displayName=HT;var GT="SelectItemAlignedPosition",nw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Xr(ys,n),i=qr(ys,n),[l,c]=d.useState(null),[u,f]=d.useState(null),h=Se(t,P=>f(P)),m=yc(n),y=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:p,focusSelectedItem:g}=i,v=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&S&&p){const P=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),b=a.valueNode.getBoundingClientRect(),j=p.getBoundingClientRect();if(a.dir!=="rtl"){const le=j.left-k.left,ve=b.left-le,ye=P.left-ve,ze=P.width+ye,Q=Math.max(ze,k.width),L=window.innerWidth-gn,G=Ea(ve,[gn,Math.max(gn,L-Q)]);l.style.minWidth=ze+"px",l.style.left=G+"px"}else{const le=k.right-j.right,ve=window.innerWidth-b.right-le,ye=window.innerWidth-P.right-ve,ze=P.width+ye,Q=Math.max(ze,k.width),L=window.innerWidth-gn,G=Ea(ve,[gn,Math.max(gn,L-Q)]);l.style.minWidth=ze+"px",l.style.right=G+"px"}const I=m(),E=window.innerHeight-gn*2,A=x.scrollHeight,D=window.getComputedStyle(u),Y=parseInt(D.borderTopWidth,10),R=parseInt(D.paddingTop,10),O=parseInt(D.borderBottomWidth,10),_=parseInt(D.paddingBottom,10),F=Y+R+A+_+O,V=Math.min(S.offsetHeight*5,F),U=window.getComputedStyle(x),ee=parseInt(U.paddingTop,10),te=parseInt(U.paddingBottom,10),ce=P.top+P.height/2-gn,Te=E-ce,Ce=S.offsetHeight/2,oe=S.offsetTop+Ce,ie=Y+R+oe,de=F-ie;if(ie<=ce){const le=I.length>0&&S===I[I.length-1].ref.current;l.style.bottom="0px";const ve=u.clientHeight-x.offsetTop-x.offsetHeight,ye=Math.max(Te,Ce+(le?te:0)+ve+O),ze=ie+ye;l.style.height=ze+"px"}else{const le=I.length>0&&S===I[0].ref.current;l.style.top="0px";const ye=Math.max(ce,Y+x.offsetTop+(le?ee:0)+Ce)+de;l.style.height=ye+"px",x.scrollTop=ie-ce+x.offsetTop}l.style.margin=`${gn}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,S,p,a.dir,r]);rt(()=>v(),[v]);const[N,C]=d.useState();rt(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const T=d.useCallback(P=>{P&&w.current===!0&&(v(),g==null||g(),w.current=!1)},[v,g]);return o.jsx(XT,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(he.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nw.displayName=GT;var YT="SelectPopperPosition",$d=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=gn,...a}=e,i=wc(n);return o.jsx(IT,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$d.displayName=YT;var[XT,Oh]=So(ys,{}),zd="SelectViewport",rw=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=qr(zd,n),i=Oh(zd,n),l=Se(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(xc.Slot,{scope:n,children:o.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const y=Math.abs(c.current-f.scrollTop);if(y>0){const w=window.innerHeight-gn*2,x=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),p=Math.max(x,S);if(p<w){const g=p+y,v=Math.min(w,g),N=g-v;h.style.height=v+"px",h.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});rw.displayName=zd;var sw="SelectGroup",[qT,QT]=So(sw),JT=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=zr();return o.jsx(qT,{scope:n,id:s,children:o.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:t})})});JT.displayName=sw;var ow="SelectLabel",ZT=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=QT(ow,n);return o.jsx(he.div,{id:s.id,...r,ref:t})});ZT.displayName=ow;var zl="SelectItem",[eR,aw]=So(zl),iw=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=Xr(zl,n),c=qr(zl,n),u=l.value===r,[f,h]=d.useState(a??""),[m,y]=d.useState(!1),w=Se(t,g=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,g,r,s)}),x=zr(),S=d.useRef("touch"),p=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(eR,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(g=>{h(v=>v||((g==null?void 0:g.textContent)??"").trim())},[]),children:o.jsx(xc.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:o.jsx(he.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:fe(i.onFocus,()=>y(!0)),onBlur:fe(i.onBlur,()=>y(!1)),onClick:fe(i.onClick,()=>{S.current!=="mouse"&&p()}),onPointerUp:fe(i.onPointerUp,()=>{S.current==="mouse"&&p()}),onPointerDown:fe(i.onPointerDown,g=>{S.current=g.pointerType}),onPointerMove:fe(i.onPointerMove,g=>{var v;S.current=g.pointerType,s?(v=c.onItemLeave)==null||v.call(c):S.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(i.onPointerLeave,g=>{var v;g.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:fe(i.onKeyDown,g=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&g.key===" "||($T.includes(g.key)&&p(),g.key===" "&&g.preventDefault())})})})})});iw.displayName=zl;var Yo="SelectItemText",lw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=Xr(Yo,n),l=qr(Yo,n),c=aw(Yo,n),u=BT(Yo,n),[f,h]=d.useState(null),m=Se(t,p=>h(p),c.onItemTextChange,p=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,p,c.value,c.disabled)}),y=f==null?void 0:f.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=u;return rt(()=>(x(w),()=>S(w)),[x,S,w]),o.jsxs(o.Fragment,{children:[o.jsx(he.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?vo.createPortal(a.children,i.valueNode):null]})});lw.displayName=Yo;var cw="SelectItemIndicator",uw=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return aw(cw,n).isSelected?o.jsx(he.span,{"aria-hidden":!0,...r,ref:t}):null});uw.displayName=cw;var Fd="SelectScrollUpButton",dw=d.forwardRef((e,t)=>{const n=qr(Fd,e.__scopeSelect),r=Oh(Fd,e.__scopeSelect),[s,a]=d.useState(!1),i=Se(t,r.onScrollButtonChange);return rt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(hw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dw.displayName=Fd;var Ud="SelectScrollDownButton",fw=d.forwardRef((e,t)=>{const n=qr(Ud,e.__scopeSelect),r=Oh(Ud,e.__scopeSelect),[s,a]=d.useState(!1),i=Se(t,r.onScrollButtonChange);return rt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(hw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fw.displayName=Ud;var hw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=qr("SelectScrollButton",n),i=d.useRef(null),l=yc(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),rt(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(he.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{c()})})}),tR="SelectSeparator",nR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(he.div,{"aria-hidden":!0,...r,ref:t})});nR.displayName=tR;var Bd="SelectArrow",rR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=wc(n),a=Xr(Bd,n),i=qr(Bd,n);return a.open&&i.position==="popper"?o.jsx(DT,{...s,...r,ref:t}):null});rR.displayName=Bd;var sR="SelectBubbleInput",mw=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),a=Se(r,s),i=Dh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const h=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[i,t]),o.jsx(he.select,{...n,style:{...H0,...n.style},ref:a,defaultValue:t})});mw.displayName=sR;function pw(e){return e===""||e===void 0}function gw(e){const t=St(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function vw(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=oR(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function oR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aR=K0,iR=Y0,lR=q0,cR=Q0,uR=J0,dR=Z0,fR=rw,hR=iw,mR=lw,pR=uw,gR=dw,vR=fw;function Lh({...e}){return o.jsx(aR,{"data-slot":"select",...e})}function Mh({...e}){return o.jsx(lR,{"data-slot":"select-value",...e})}function $h({className:e,size:t="default",children:n,...r}){return o.jsxs(iR,{"data-slot":"select-trigger","data-size":t,className:be("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(cR,{asChild:!0,children:o.jsx(gy,{className:"size-4 opacity-50"})})]})}function zh({className:e,children:t,position:n="popper",...r}){return o.jsx(uR,{children:o.jsxs(dR,{"data-slot":"select-content",className:be("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(xR,{}),o.jsx(fR,{className:be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(yR,{})]})})}function Ln({className:e,children:t,...n}){return o.jsxs(hR,{"data-slot":"select-item",className:be("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(pR,{children:o.jsx(Js,{className:"size-4"})})}),o.jsx(mR,{children:t})]})}function xR({className:e,...t}){return o.jsx(gR,{"data-slot":"select-scroll-up-button",className:be("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(qC,{className:"size-4"})})}function yR({className:e,...t}){return o.jsx(vR,{"data-slot":"select-scroll-down-button",className:be("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(gy,{className:"size-4"})})}const wR=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function yu({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,a]=d.useState(""),[i,l]=d.useState("latest"),[c,u]=d.useState([]),[f,h]=d.useState(!0),[m,y]=d.useState(null),[w,x]=d.useState(!1),[S,p]=d.useState(),[g,v]=d.useState(!1),N=wR(e),C=E=>{switch(E){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},T=async(E=!1)=>{try{E?v(!0):h(!0),y(null);const A=await is.getContents({type:C(e),query:s||void 0,sortBy:i==="latest"||i==="rating"?"RELEASE_AT":i==="title"?"TITLE":"RELEASE_AT",direction:i==="title"?"ASC":"DESC",cursor:E?S:void 0,size:20});u(E?D=>[...D,...A.data]:A.data),x(A.hasNext),p(A.nextCursor)}catch(A){console.error("  :",A),y(A instanceof Error?A.message:"    .")}finally{h(!1),v(!1)}};d.useEffect(()=>{T(!1)},[e]),d.useEffect(()=>{const E=setTimeout(()=>{T(!1)},300);return()=>clearTimeout(E)},[s,i]);const P=()=>{w&&!f&&!g&&T(!0)},k=E=>({id:E.id,title:E.title,thumbnail:E.thumbnailUrl||E.thumbnail||"",type:E.contentType.toLowerCase(),duration:E.duration||"120",description:E.description||"",rating:E.rating,reviewCount:E.reviewCount,year:E.year||new Date(E.releaseDate).getFullYear()}),b=E=>{r==null||r(k(E))},j=E=>{t(k(E))},I=E=>{n==null||n(k(E))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:N}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ns,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx($e,{placeholder:`${N} ...`,value:s,onChange:E=>a(E.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Lh,{value:i,onValueChange:l,children:[o.jsx($h,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Mh,{placeholder:""})}),o.jsxs(zh,{children:[o.jsx(Ln,{value:"latest",children:""}),o.jsx(Ln,{value:"rating",children:"  "}),o.jsx(Ln,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:f?" ...":`${c.length} `}),o.jsx(an,{variant:"outline",className:is.getTypeColor(C(e)),children:N})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx($,{onClick:()=>T(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),f&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Kt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!f&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(E=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>I(E),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[E.thumbnailUrl?o.jsx("img",{src:E.thumbnailUrl,alt:E.title,className:"w-full h-full object-cover",onError:A=>{var D;A.currentTarget.style.display="none",(D=A.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${E.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:E.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:A=>{A.stopPropagation(),j(E)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(gt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx($,{size:"sm",variant:"outline",onClick:A=>{A.stopPropagation(),b(E)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:E.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:E.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Br,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:E.rating}),E.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",E.reviewCount,")"]})]}),E.year&&o.jsx("span",{className:"text-xs text-white/60",children:E.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:E.duration}),o.jsx(an,{variant:"outline",className:is.getTypeColor(E.contentType),children:is.getTypeLabel(E.contentType)})]})]})]},E.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx($,{onClick:P,disabled:g,variant:"outline",className:"border-white/20 hover:bg-white/5",children:g?o.jsxs(o.Fragment,{children:[o.jsx(Kt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!f&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(lh,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${N}  .`}),s&&o.jsxs($,{variant:"outline",onClick:()=>a(""),className:"border-white/20 hover:bg-white/5",children:[" ",N," "]})]})]})]})})}class bR{constructor(){tt(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}}const Ai=new bR,Ii=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,a]=d.useState(0),i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,f)=>{if(!t||!r)return;const h=f.currentTarget.getBoundingClientRect(),m=f.clientX-h.left,y=h.width,x=m<y/2?u-.5:u;r(x)},c=(u,f)=>{if(!t)return;const h=f.currentTarget.getBoundingClientRect(),m=f.clientX-h.left,y=h.width,x=m<y/2?u-.5:u;a(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const f=s||e,h=u-.5<=f&&u>f,m=u<=f;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(Br,{className:`${i[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?y=>l(u,y):void 0,onMouseMove:t?y=>c(u,y):void 0,onMouseLeave:t?()=>a(0):void 0}),(m||h)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${h?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(Br,{className:`${i[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function SR({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,a]=d.useState(""),[i,l]=d.useState(0),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,y]=d.useState(!1),[w,x]=d.useState(null),[S,p]=d.useState(""),[g,v]=d.useState(0),[N,C]=d.useState(!1),[T,P]=d.useState(null),k=async()=>{h(!0);try{const O=(await Ai.getReviewsByContentId(e.id)).map(_=>({..._,contentId:e.id,createdAt:new Date().toISOString(),user:{id:_.authorId,name:_.authorName,avatar:_.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(O)}catch(R){console.error("  :",R)}finally{h(!1)}},b=c.length>0?c.reduce((R,O)=>R+O.rating,0)/c.length:0,j=async()=>{if(!(!s.trim()||i===0||!r)){y(!0);try{const R={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:i},_={...await Ai.createReview(R),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([_,...c]),a(""),l(0)}catch(R){console.error("  :",R)}finally{y(!1)}}},I=R=>{x(R),p(R.comment),v(R.rating)},E=()=>{x(null),p(""),v(0)},A=async()=>{if(!(!w||!S.trim()||g===0)){C(!0);try{const R={title:S.trim().substring(0,100),comment:S.trim(),rating:g},O=await Ai.updateReview(w.id,R);u(c.map(_=>_.id===w.id?{..._,...O}:_)),E()}catch(R){console.error("  :",R)}finally{C(!1)}}},D=async R=>{P(R);try{await Ai.deleteReview(R),u(c.filter(O=>O.id!==R))}catch(O){console.error("  :",O)}finally{P(null)}};d.useEffect(()=>{e.id&&k()},[e.id]);const Y=R=>{switch(R){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs($,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(yo,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:Y(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(an,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:Y(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ii,{rating:b,size:"lg"}),o.jsx("span",{className:"text-xl",children:b%1===0?b.toFixed(0):b.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs($,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(gt,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(Ii,{rating:i,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(Ad,{value:s,onChange:R=>a(R.target.value),placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs($,{onClick:j,disabled:!s.trim()||i===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(ch,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:f?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(R=>{var O,_,F,V;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(w==null?void 0:w.id)===R.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(Xe,{children:[o.jsx(qe,{src:(O=R.user)==null?void 0:O.avatar}),o.jsx(Qe,{children:((_=R.authorName)==null?void 0:_[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:R.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(Ii,{rating:g,editable:!0,size:"lg",onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(Ad,{value:S,onChange:U=>p(U.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($,{onClick:A,disabled:!S.trim()||g===0||N,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:N?" ...":" "}),o.jsx($,{onClick:E,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(Xe,{children:[o.jsx(qe,{src:(F=R.user)==null?void 0:F.avatar}),o.jsx(Qe,{children:((V=R.authorName)==null?void 0:V[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:R.authorName||" "}),o.jsx(Ii,{rating:R.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:R.createdAt?new Date(R.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:R.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&R.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>I(R),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(s2,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>D(R.id),disabled:T===R.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Al,{className:"w-4 h-4 mr-1"}),T===R.id?" ...":""]})]})})]})]})},R.id)})}),!f&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function NR({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:a,refreshUserProfile:i,onPlaylistOpen:l}){const[c,u]=d.useState(""),[f,h]=d.useState("user@moplay.kr"),[m,y]=d.useState(!1),[w,x]=d.useState(null),[S,p]=d.useState(""),[g,v]=d.useState(!1),[N,C]=d.useState(null),[T,P]=d.useState(null),[k,b]=d.useState([]),[j,I]=d.useState([]),[E,A]=d.useState(!1),[D,Y]=d.useState(!1),[R,O]=d.useState("profile"),[_,F]=d.useState([]),[V,U]=d.useState(""),[ee,te]=d.useState(""),[ce,Te]=d.useState(""),[Ce,oe]=d.useState(""),ie=r||n,de=!!(r&&r!==n);d.useEffect(()=>{e&&(C(null),ie?(pe(),le(),ve(),Q(),de&&ye()):C("  .  ."))},[e,ie,de]);const pe=async()=>{try{const M=await s(`http://localhost:8080/api/users/${ie}`);if(!M.ok)throw new Error("   .");const B=await M.json();P(B),u(B.name),h(B.email)}catch(M){console.error("   :",M),C("   .")}},le=async()=>{try{const M=await s(`http://localhost:8080/api/follows/${ie}/followers`);if(!M.ok)throw new Error("   .");const B=await M.json();b(B)}catch(M){console.error("   :",M),b([])}},ve=async()=>{try{const M=await s(`http://localhost:8080/api/follows/${ie}/following`);if(!M.ok)throw new Error("   .");const B=await M.json();I(B)}catch(M){console.error("   :",M),I([])}},ye=async()=>{if(!(!n||!ie))try{const M=await s(`http://localhost:8080/api/follows/${n}/is-following/${ie}`);if(!M.ok)throw new Error("   .");const B=await M.json();A(B)}catch(M){console.error("   :",M),A(!1)}},ze=async()=>{if(!(!n||!ie)){Y(!0);try{if(E){if(!(await s(`http://localhost:8080/api/follows/${ie}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");A(!1),b(B=>B.filter(ne=>ne.id!==n))}else{const M=new FormData;if(M.append("followerId",n),M.append("followingId",ie),!(await s("http://localhost:8080/api/follows",{method:"POST",body:M})).ok)throw new Error(" .");A(!0),T&&b(ne=>[...ne,{id:n,name:"",email:"",profileImage:""}])}}catch(M){console.error("  :",M),alert(M instanceof Error?M.message:"    .")}finally{Y(!1)}}},Q=async()=>{if(ie)try{const M=await s(`http://localhost:8080/api/users/${ie}/playlists`);if(!M.ok)throw new Error("   .");const B=await M.json(),ne=de?B.filter(Ee=>Ee.isPublic):B;F(ne)}catch(M){console.error("   :",M),F([])}},L=M=>{a&&(t(),a(M))},G=M=>{M?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(M)?Te(""):Te(" 8 , , ,   ."):Te("")},Z=M=>{oe(M!==V?"  .":"")},X=async()=>{v(!0),C(null);try{if(!n){C("  .  ."),v(!1);return}if(!S.trim()){C("     ."),v(!1);return}if(V){if(ce||Ce){C("    ."),v(!1);return}if(!ee){C("  ."),v(!1);return}if(V!==ee){C("  ."),v(!1);return}}const M=new FormData,B={newName:c,currentPassword:S};V&&(B.newPassword=V),console.log("Request data:",B);const ne=new Blob([JSON.stringify(B)],{type:"application/json"});M.append("request",ne),w&&(M.append("profile",w),console.log("Profile image added:",w.name)),console.log("FormData entries:");for(let[Ne,we]of M.entries())console.log(Ne,we);const Ee=await fetch(`http://localhost:8080/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:M});if(!Ee.ok){const Ne=await Ee.json();throw new Error(Ne.message||"  .")}const xe=await Ee.json();P(xe),u(xe.name),h(xe.email),x(null),await pe(),alert("  ."),i&&i(),p(""),t()}catch(M){console.error("  :",M),C(M instanceof Error?M.message:"    .")}finally{v(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:de?`${(T==null?void 0:T.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[de&&o.jsx($,{onClick:ze,disabled:D,className:`${E?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:D?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):E?o.jsxs(o.Fragment,{children:[o.jsx(yy,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(dh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(jn,{className:"w-5 h-5"})})]})]}),N&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:N}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Xe,{className:"h-20 w-20 mb-4",children:[o.jsx(qe,{src:w?URL.createObjectURL(w):T==null?void 0:T.profileImage}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!de&&o.jsx($,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>y(!m),children:o.jsx(py,{className:"w-4 h-4"})})]}),m&&!de&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(Uy,{selectedImage:w,onImageSelect:x,onClose:()=>y(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:k.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:j.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx($,{variant:R==="profile"?"default":"ghost",size:"sm",onClick:()=>O("profile"),className:R==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs($,{variant:R==="followers"?"default":"ghost",size:"sm",onClick:()=>O("followers"),className:`${R==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(_t,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs($,{variant:R==="following"?"default":"ghost",size:"sm",onClick:()=>O("following"),className:`${R==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(cr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs($,{variant:R==="playlists"?"default":"ghost",size:"sm",onClick:()=>O("playlists"),className:`${R==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(lu,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[R==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"name",className:"text-sm",children:""}),o.jsx($e,{id:"name",value:c,onChange:M=>u(M.target.value),disabled:de,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${de?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"email",className:"text-sm",children:""}),o.jsx($e,{id:"email",value:f,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!de&&o.jsxs("div",{children:[o.jsxs(Nt,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx($e,{id:"password",type:"password",value:S,onChange:M=>p(M.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"      ."}),!de&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-4",children:[o.jsx(Nt,{htmlFor:"newPassword",className:"text-sm",children:"  ()"}),o.jsx($e,{id:"newPassword",type:"password",value:V,onChange:M=>{const B=M.target.value;U(B),G(B)},placeholder:"   ()",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),ce&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:ce})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Nt,{htmlFor:"confirmPassword",className:"text-sm",children:"  "}),o.jsx($e,{id:"confirmPassword",type:"password",value:ee,onChange:M=>{const B=M.target.value;te(B),Z(B)},placeholder:"   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),Ce&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:Ce})]})]})]})]}),R==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[k.map(M=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>M.id&&L(M.id),children:[o.jsxs(Xe,{className:"h-10 w-10",children:[o.jsx(qe,{src:M.profileImage}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.name}),o.jsx("p",{className:"text-white/60 text-sm",children:M.email})]})]},M.id)),k.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(_t,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),R==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[j.map(M=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>M.id&&L(M.id),children:[o.jsxs(Xe,{className:"h-10 w-10",children:[o.jsx(qe,{src:M.profileImage}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.name}),o.jsx("p",{className:"text-white/60 text-sm",children:M.email})]})]},M.id)),j.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(cr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),R==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[_.map(M=>{var B;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l(M.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:M.thumbnail?o.jsx("img",{src:M.thumbnail,alt:M.title||M.name,className:"w-full h-full object-cover"}):o.jsx(lu,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.title||M.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[M.contentCount||((B=M.playlistContents)==null?void 0:B.length)||0," ",M.isPublic?"  ":"  "]})]})]},M.id)}),_.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(lu,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:de?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx($,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:g,children:de?"":""}),!de&&o.jsx($,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:X,disabled:g||!n,children:g?" ...":""})]})]})]}):null}class jR{constructor(t){tt(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t="http://localhost:8080/api/dmRooms/";console.log("  DM   :",{url:t});const n=await this.authenticatedFetch(t);if(!n.ok)throw console.error(" DM   :",n.status,n.statusText),new Error(`Failed to fetch DM rooms: ${n.status} ${n.statusText}`);const r=await n.json();return console.log(" DM   :",r),r}async getRoom(t){const n=`http://localhost:8080/api/dmRooms/${t}`;console.log(" DM   :",{dmRoomId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM   :",r.status,r.statusText),new Error(`Failed to fetch DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM   :",s),s}async getOrCreateRoom(t){const n=`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`;console.log(" DM  / :",{userBId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM  / :",r.status,r.statusText),new Error(`Failed to get or create DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM  / :",s),s}async getDmMessages(t,n){const r=new URLSearchParams;n!=null&&n.cursor&&r.append("cursor",n.cursor),n!=null&&n.size&&r.append("size",n.size.toString());const s=`http://localhost:8080/api/dmRooms/${t}/dms${r.toString()?"?"+r.toString():""}`;console.log(" DM   :",{roomId:t,pagingDto:n,url:s});const a=await this.authenticatedFetch(s);if(!a.ok)throw console.error(" DM   :",a.status,a.statusText),new Error(`Failed to fetch DM messages: ${a.status} ${a.statusText}`);const i=await a.json();return console.log(" DM   :",i),i}async getFollowing(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}var xw="AlertDialog",[CR,G3]=Tn(xw,[n0]),pr=n0(),yw=e=>{const{__scopeAlertDialog:t,...n}=e,r=pr(t);return o.jsx(x0,{...r,...n,modal:!0})};yw.displayName=xw;var kR="AlertDialogTrigger",ER=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=pr(n);return o.jsx(i4,{...s,...r,ref:t})});ER.displayName=kR;var TR="AlertDialogPortal",ww=e=>{const{__scopeAlertDialog:t,...n}=e,r=pr(t);return o.jsx(y0,{...r,...n})};ww.displayName=TR;var RR="AlertDialogOverlay",bw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=pr(n);return o.jsx(w0,{...s,...r,ref:t})});bw.displayName=RR;var to="AlertDialogContent",[PR,_R]=CR(to),AR=y2("AlertDialogContent"),Sw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=pr(n),i=d.useRef(null),l=Se(t,i),c=d.useRef(null);return o.jsx(r4,{contentName:to,titleName:Nw,docsSlug:"alert-dialog",children:o.jsx(PR,{scope:n,cancelRef:c,children:o.jsxs(b0,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:fe(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(AR,{children:r}),o.jsx(DR,{contentRef:i})]})})})});Sw.displayName=to;var Nw="AlertDialogTitle",jw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=pr(n);return o.jsx(S0,{...s,...r,ref:t})});jw.displayName=Nw;var Cw="AlertDialogDescription",kw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=pr(n);return o.jsx(l4,{...s,...r,ref:t})});kw.displayName=Cw;var IR="AlertDialogAction",Ew=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=pr(n);return o.jsx(Sh,{...s,...r,ref:t})});Ew.displayName=IR;var Tw="AlertDialogCancel",Rw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=_R(Tw,n),a=pr(n),i=Se(t,s);return o.jsx(Sh,{...a,...r,ref:i})});Rw.displayName=Tw;var DR=({contentRef:e})=>{const t=`\`${to}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${to}\` by passing a \`${Cw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${to}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},OR=yw,LR=ww,MR=bw,$R=Sw,zR=Ew,FR=Rw,UR=jw,BR=kw;function Fh({...e}){return o.jsx(OR,{"data-slot":"alert-dialog",...e})}function WR({...e}){return o.jsx(LR,{"data-slot":"alert-dialog-portal",...e})}function VR({className:e,...t}){return o.jsx(MR,{"data-slot":"alert-dialog-overlay",className:be("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Uh({className:e,...t}){return o.jsxs(WR,{children:[o.jsx(VR,{}),o.jsx($R,{"data-slot":"alert-dialog-content",className:be("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Bh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:be("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Wh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:be("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Vh({className:e,...t}){return o.jsx(UR,{"data-slot":"alert-dialog-title",className:be("text-lg font-semibold",e),...t})}function Hh({className:e,...t}){return o.jsx(BR,{"data-slot":"alert-dialog-description",className:be("text-muted-foreground text-sm",e),...t})}function Kh({className:e,...t}){return o.jsx(zR,{className:be(hh(),e),...t})}function Pw({className:e,...t}){return o.jsx(FR,{className:be(hh({variant:"outline"}),e),...t})}function HR({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:a,getOrCreateDmRoom:i}){const[l,c]=d.useState(""),[u,f]=d.useState(!1),[h,m]=d.useState([]),[y,w]=d.useState([]),[x,S]=d.useState(!1),[p,g]=d.useState(null),[v,N]=d.useState(!1),[C,T]=d.useState(null),[P,k]=d.useState(!1),b=new jR(r),j=h.filter(U=>U.name.toLowerCase().includes(l.toLowerCase())),I=y.filter(U=>U.name.toLowerCase().includes(l.toLowerCase())),E=U=>{console.log(`Opening conversation with ${U.name}`),n({id:U.userId,name:U.name,avatar:U.avatar,isOnline:U.isOnline,roomId:U.id})},A=()=>{f(!0),c("")},D=()=>{f(!1),c("")},Y=async U=>{try{S(!0);const ee=await i(U.id);console.log(`Starting new conversation with ${U.name}, room: ${ee}`),n({id:U.id,name:U.name,avatar:U.avatar,isOnline:U.isOnline,roomId:ee}),f(!1),c("")}catch(ee){console.error("Error starting conversation:",ee),g("   .")}finally{S(!1)}},R=(U,ee)=>{U.stopPropagation(),T(ee),N(!0)},O=async()=>{if(C)try{if(k(!0),!(await r(`http://localhost:8080/api/dmRooms/${C}`,{method:"DELETE"})).ok)throw new Error("DM   ");await F(),N(!1),T(null)}catch(U){console.error("Error deleting DM room:",U),g("   .")}finally{k(!1)}},_=()=>{N(!1),T(null)};d.useEffect(()=>{e&&s&&(F(),V())},[e,s]);const F=async()=>{try{S(!0),g(null);const ee=(await a()).map(te=>{const ce=te.senderId===s?{id:te.receiverId,name:te.receiverName,avatar:"",isOnline:!1}:{id:te.senderId,name:te.senderName,avatar:"",isOnline:!1},Te=Ce=>{const oe=new Date(Ce),de=new Date().getTime()-oe.getTime(),pe=Math.floor(de/(1e3*60)),le=Math.floor(de/(1e3*60*60)),ve=Math.floor(de/(1e3*60*60*24));return pe<1?" ":pe<60?`${pe} `:le<24?`${le} `:ve===1?"":`${ve} `};return{id:te.id,userId:(ce==null?void 0:ce.id)||"",name:(ce==null?void 0:ce.name)||"   ",avatar:(ce==null?void 0:ce.avatar)||"",lastMessage:te.lastMessage||"  ",timestamp:(te.lastMessage,Te(te.createdAt)),unreadCount:te.newMessageCount||0,isOnline:(ce==null?void 0:ce.isOnline)||!1}});m(ee)}catch(U){console.error("Error loading DM rooms:",U),g("    .")}finally{S(!1)}},V=async()=>{if(s)try{const ee=(await b.getFollowing(s)).map(te=>({id:te.id,name:te.name||"   ",avatar:te.profileImage||"",isOnline:!1,mutualFriends:0}));w(ee)}catch(U){console.error("Error loading chat partners:",U)}};return e?o.jsxs("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[u&&o.jsx($,{variant:"ghost",size:"sm",onClick:D,className:"p-1 hover:bg-white/10",children:o.jsx(yo,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:u?" ":""})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(jn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx($e,{placeholder:" ...",value:l,onChange:U=>c(U.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u?o.jsx(o.Fragment,{children:I.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:I.map(U=>o.jsxs("div",{onClick:()=>Y(U),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Xe,{className:"h-14 w-14",children:[o.jsx(qe,{src:U.avatar}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:U.name.charAt(0)})]}),U.isOnline&&o.jsx(Rp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:U.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",U.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:U.isOnline?"":""})]},U.id))})}):o.jsxs(o.Fragment,{children:[x&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),p&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:p}),!x&&!p&&j.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}),!x&&!p&&j.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:j.map(U=>o.jsxs("div",{onClick:()=>E(U),className:"group flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Xe,{className:"h-14 w-14",children:[o.jsx(qe,{src:U.avatar}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:U.name.charAt(0)})]}),U.isOnline&&o.jsx(Rp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:U.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:U.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:U.lastMessage}),U.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:U.unreadCount>9?"9+":U.unreadCount})]})]}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:o.jsx($,{variant:"ghost",size:"sm",onClick:ee=>R(ee,U.id),className:"p-2 hover:bg-red-500/20 text-white/60 hover:text-red-400",children:o.jsx(Al,{className:"w-4 h-4"})})})]},U.id))})]})}),!u&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs($,{onClick:A,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(_t,{className:"w-5 h-5 mr-2"})," "]})})]}),o.jsx(Fh,{open:v,onOpenChange:N,children:o.jsxs(Uh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(Bh,{children:[o.jsx(Vh,{className:"text-white",children:" "}),o.jsx(Hh,{className:"text-white/70",children:" ?     ."})]}),o.jsxs(Wh,{children:[o.jsx(Pw,{onClick:_,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:""}),o.jsx(Kh,{onClick:O,disabled:P,className:"bg-red-600 hover:bg-red-700 text-white",children:P?" ...":""})]})]})})]}):null}function KR(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Gh="ScrollArea",[_w,Y3]=Tn(Gh),[GR,dn]=_w(Gh),Aw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,f]=d.useState(null),[h,m]=d.useState(null),[y,w]=d.useState(null),[x,S]=d.useState(null),[p,g]=d.useState(0),[v,N]=d.useState(0),[C,T]=d.useState(!1),[P,k]=d.useState(!1),b=Se(t,I=>c(I)),j=Wa(s);return o.jsx(GR,{scope:n,type:r,dir:j,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:m,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:T,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:P,onScrollbarYEnabledChange:k,onCornerWidthChange:g,onCornerHeightChange:N,children:o.jsx(he.div,{dir:j,...i,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});Aw.displayName=Gh;var Iw="ScrollAreaViewport",Dw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=dn(Iw,n),l=d.useRef(null),c=Se(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(he.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Dw.displayName=Iw;var Yn="ScrollAreaScrollbar",Ow=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dn(Yn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(YR,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(XR,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(Lw,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(Yh,{...r,ref:t}):null});Ow.displayName=Yn;var YR=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dn(Yn,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(mr,{present:n||a,children:o.jsx(Lw,{"data-state":a?"visible":"hidden",...r,ref:t})})}),XR=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dn(Yn,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Sc(()=>c("SCROLL_END"),100),[l,c]=KR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,f=a?"scrollLeft":"scrollTop";if(u){let h=u[f];const m=()=>{const y=u[f];h!==y&&(c("SCROLL"),i()),h=y};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(mr,{present:n||l!=="hidden",children:o.jsx(Yh,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:fe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:fe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Lw=d.forwardRef((e,t)=>{const n=dn(Yn,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=Sc(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:f)}},10);return ho(n.viewport,c),ho(n.content,c),o.jsx(mr,{present:r||a,children:o.jsx(Yh,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Yh=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=dn(Yn,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Uw(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,y){return tP(m,i.current,l,y)}return n==="horizontal"?o.jsx(qR,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,y=ug(m,l,s.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?o.jsx(QR,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,y=ug(m,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),qR=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=dn(Yn,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Se(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx($w,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bc(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),Ww(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ul(i.paddingLeft),paddingEnd:Ul(i.paddingRight)}})}})}),QR=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=dn(Yn,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Se(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx($w,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bc(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(a.viewport){const m=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),Ww(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ul(i.paddingTop),paddingEnd:Ul(i.paddingBottom)}})}})}),[JR,Mw]=_w(Yn),$w=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...m}=e,y=dn(Yn,n),[w,x]=d.useState(null),S=Se(t,b=>x(b)),p=d.useRef(null),g=d.useRef(""),v=y.viewport,N=r.content-r.viewport,C=St(f),T=St(c),P=Sc(h,10);function k(b){if(p.current){const j=b.clientX-p.current.left,I=b.clientY-p.current.top;u({x:j,y:I})}}return d.useEffect(()=>{const b=j=>{const I=j.target;(w==null?void 0:w.contains(I))&&C(j,N)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[v,w,N,C]),d.useEffect(T,[r,T]),ho(w,P),ho(y.content,P),o.jsx(JR,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:St(a),onThumbPointerUp:St(i),onThumbPositionChange:T,onThumbPointerDown:St(l),children:o.jsx(he.div,{...m,ref:S,style:{position:"absolute",...m.style},onPointerDown:fe(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),p.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(b))}),onPointerMove:fe(e.onPointerMove,k),onPointerUp:fe(e.onPointerUp,b=>{const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=g.current,y.viewport&&(y.viewport.style.scrollBehavior=""),p.current=null})})})}),Fl="ScrollAreaThumb",zw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Mw(Fl,e.__scopeScrollArea);return o.jsx(mr,{present:n||s.hasThumb,children:o.jsx(ZR,{ref:t,...r})})}),ZR=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=dn(Fl,n),i=Mw(Fl,n),{onThumbPositionChange:l}=i,c=Se(t,h=>i.onThumbChange(h)),u=d.useRef(void 0),f=Sc(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(f(),!u.current){const y=nP(h,l);u.current=y,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,f,l]),o.jsx(he.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:fe(e.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),w=h.clientX-y.left,x=h.clientY-y.top;i.onThumbPointerDown({x:w,y:x})}),onPointerUp:fe(e.onPointerUp,i.onThumbPointerUp)})});zw.displayName=Fl;var Xh="ScrollAreaCorner",Fw=d.forwardRef((e,t)=>{const n=dn(Xh,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(eP,{...e,ref:t}):null});Fw.displayName=Xh;var eP=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=dn(Xh,n),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return ho(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),ho(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),u?o.jsx(he.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ul(e){return e?parseInt(e,10):0}function Uw(e,t){const n=e/t;return isNaN(n)?0:n}function bc(e){const t=Uw(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function tP(e,t,n,r="ltr"){const s=bc(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return Bw([c,u],h)(e)}function ug(e,t,n="ltr"){const r=bc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Ea(e,c);return Bw([0,i],[0,l])(u)}function Bw(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Ww(e,t){return e>0&&e<t}var nP=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Sc(e,t){const n=St(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ho(e,t){const n=St(t);rt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var rP=Aw,sP=Dw,oP=Fw;function aP({className:e,children:t,...n}){return o.jsxs(rP,{"data-slot":"scroll-area",className:be("relative",e),...n,children:[o.jsx(sP,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(iP,{}),o.jsx(oP,{})]})}function iP({className:e,orientation:t="vertical",...n}){return o.jsx(Ow,{"data-slot":"scroll-area-scrollbar",orientation:t,className:be("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(zw,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function lP(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=i=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),a==null||a.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Xo={LF:`
`,NULL:"\0"};class kr{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=a=>a.replace(/^\s+|\s+$/g,"");for(const a of t.headers.reverse()){a.indexOf(":");const i=s(a[0]);let l=s(a[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=kr.hdrValueUnEscape(l)),r[i]=l}return new kr({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?kr.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Xo.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${kr.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Xo.LF)+Xo.LF+Xo.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),a=new Uint8Array(r.length+n.length+s.length);return a.set(r),a.set(n,r.length),a.set(s,r.length+n.length),a}static marshall(t){return new kr(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const dg=0,Di=10,Oi=13,cP=58;class uP{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const a=r[s];this._onByte(a)}}_collectFrame(t){if(t!==dg&&t!==Oi){if(t===Di){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Oi){if(t===Di){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Oi){if(t===Di){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===cP){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Oi){if(t===Di){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===dg){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Er;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Er||(Er={}));var vn;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(vn||(vn={}));var Bl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Bl||(Bl={}));var Pa;(function(e){e.Interval="interval",e.Worker="worker"})(Pa||(Pa={}));class dP{constructor(t,n=Pa.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Pa.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Pt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Pt.V1_0="1.0";Pt.V1_1="1.1";Pt.V1_2="1.2";Pt.default=new Pt([Pt.V1_2,Pt.V1_1,Pt.V1_0]);class fP{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Pt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const a=s.headers.subscription,i=this._subscriptions[a]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===Pt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(f={})=>c.ack(u,a,f),l.nack=(f={})=>c.nack(u,a,f),i(l)},RECEIPT:s=>{const a=this._receiptWatchers[s.headers["receipt-id"]];a?(a(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new uP(n=>{const r=kr.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==Pt.V1_1&&t.version!==Pt.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new dP(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Er.OPEN&&(this._webSocket.send(Xo.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>s*2&&(this.debug(`did not receive server activity for the last ${a}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Er.CONNECTING||this._webSocket.readyState===Er.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&lP(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=new kr({command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const f=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(f),this.debug(`chunk sent = ${f.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Er.CONNECTING||this._webSocket.readyState===Er.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:a,skipContentLengthHeader:i})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(a){return s.unsubscribe(r.id,a)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===Pt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===Pt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class Vw{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===vn.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=Pt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Bl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Pa.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=vn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(vn.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===vn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new fP(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===vn.DEACTIVATING&&this._changeState(vn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Bl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var a;const n=t.force||!1,r=this.active;let s;if(this.state===vn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(vn.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Er.CLOSED){const i=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState(vn.INACTIVE),Promise.resolve();return n?(a=this._stompHandler)==null||a.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var Hw={exports:{}},Wd={};globalThis.crypto&&globalThis.crypto.getRandomValues?Wd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Wd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var hP=Wd,fg="abcdefghijklmnopqrstuvwxyz012345",No={string:function(e){for(var t=fg.length,n=hP.randomBytes(e),r=[],s=0;s<e;s++)r.push(fg.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=No,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,l),globalThis.attachEvent("on"+i,l))},detachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,l),globalThis.detachEvent("on"+i,l))},unloadAdd:function(i){if(s)return null;var l=t.string(8);return n[l]=i,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in n&&delete n[i]},triggerUnloadCallbacks:function(){for(var i in n)n[i](),delete n[i]}};var a=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)})(Hw);var Qr=Hw.exports,mP=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},qh={},pP=Object.prototype.hasOwnProperty,gP;function hg(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function mg(e){try{return encodeURIComponent(e)}catch{return null}}function vP(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=hg(r[1]),a=hg(r[2]);s===null||a===null||s in n||(n[s]=a)}return n}function xP(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(pP.call(e,s)){if(r=e[s],!r&&(r===null||r===gP||isNaN(r))&&(r=""),s=mg(s),r=mg(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}qh.stringify=xP;qh.parse=vP;var Kw=mP,Nc=qh,yP=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Gw=/[\n\r\t]/g,wP=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Yw=/:\d+$/,bP=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,SP=/^[a-zA-Z]:/;function Qh(e){return(e||"").toString().replace(yP,"")}var Vd=[["#","hash"],["?","query"],function(t,n){return Fn(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],pg={hash:1,query:1};function Xw(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,a;if(e.protocol==="blob:")r=new Vn(unescape(e.pathname),{});else if(s==="string"){r=new Vn(e,{});for(a in pg)delete r[a]}else if(s==="object"){for(a in e)a in pg||(r[a]=e[a]);r.slashes===void 0&&(r.slashes=wP.test(e.href))}return r}function Fn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function qw(e,t){e=Qh(e),e=e.replace(Gw,""),t=t||{};var n=bP.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],a=!!n[3],i=0,l;return s?a?(l=n[2]+n[3]+n[4],i=n[2].length+n[3].length):(l=n[2]+n[4],i=n[2].length):a?(l=n[3]+n[4],i=n[3].length):l=n[4],r==="file:"?i>=2&&(l=l.slice(2)):Fn(r)?l=n[4]:r?s&&(l=l.slice(2)):i>=2&&Fn(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||Fn(r),slashesCount:i,rest:l}}function NP(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],a=!1,i=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),i++):i&&(r===0&&(a=!0),n.splice(r,1),i--);return a&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function Vn(e,t,n){if(e=Qh(e),e=e.replace(Gw,""),!(this instanceof Vn))return new Vn(e,t,n);var r,s,a,i,l,c,u=Vd.slice(),f=typeof t,h=this,m=0;for(f!=="object"&&f!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Nc.parse),t=Xw(t),s=qw(e||"",t),r=!s.protocol&&!s.slashes,h.slashes=s.slashes||r&&t.slashes,h.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||SP.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Fn(h.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(i=u[m],typeof i=="function"){e=i(e,h);continue}a=i[0],c=i[1],a!==a?h[c]=e:typeof a=="string"?(l=a==="@"?e.lastIndexOf(a):e.indexOf(a),~l&&(typeof i[2]=="number"?(h[c]=e.slice(0,l),e=e.slice(l+i[2])):(h[c]=e.slice(l),e=e.slice(0,l)))):(l=a.exec(e))&&(h[c]=l[1],e=e.slice(0,l.index)),h[c]=h[c]||r&&i[3]&&t[c]||"",i[4]&&(h[c]=h[c].toLowerCase())}n&&(h.query=n(h.query)),r&&t.slashes&&h.pathname.charAt(0)!=="/"&&(h.pathname!==""||t.pathname!=="")&&(h.pathname=NP(h.pathname,t.pathname)),h.pathname.charAt(0)!=="/"&&Fn(h.protocol)&&(h.pathname="/"+h.pathname),Kw(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(l=h.auth.indexOf(":"),~l?(h.username=h.auth.slice(0,l),h.username=encodeURIComponent(decodeURIComponent(h.username)),h.password=h.auth.slice(l+1),h.password=encodeURIComponent(decodeURIComponent(h.password))):h.username=encodeURIComponent(decodeURIComponent(h.auth)),h.auth=h.password?h.username+":"+h.password:h.username),h.origin=h.protocol!=="file:"&&Fn(h.protocol)&&h.host?h.protocol+"//"+h.host:"null",h.href=h.toString()}function jP(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Nc.parse)(t)),r[e]=t;break;case"port":r[e]=t,Kw(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,Yw.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(r.username=t.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var i=0;i<Vd.length;i++){var l=Vd[i];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&Fn(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function CP(e){(!e||typeof e!="function")&&(e=Nc.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var a=s+(n.protocol&&n.slashes||Fn(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):n.protocol!=="file:"&&Fn(n.protocol)&&!r&&n.pathname!=="/"&&(a+="@"),(r[r.length-1]===":"||Yw.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(a+=n.hash),a}Vn.prototype={set:jP,toString:CP};Vn.extractProtocol=qw;Vn.location=Xw;Vn.trimLeft=Qh;Vn.qs=Nc;var Qw=Vn,kP=Qw,fn={getOrigin:function(e){if(!e)return null;var t=new kP(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Hd={exports:{}};typeof Object.create=="function"?Hd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Hd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var _e=Hd.exports,Ct={};function jc(){this._listeners={}}jc.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};jc.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};jc.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var Jw=jc,EP=_e,Cc=Jw;function Hr(){Cc.call(this)}EP(Hr,Cc);Hr.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Hr.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Hr.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var a=0;a<t.length;a++)t[a].apply(this,r)}};Hr.prototype.on=Hr.prototype.addListener=Cc.prototype.addEventListener;Hr.prototype.removeListener=Cc.prototype.removeEventListener;Ct.EventEmitter=Hr;var Kd={exports:{}},gg=globalThis.WebSocket||globalThis.MozWebSocket;gg?Kd.exports=function(t){return new gg(t)}:Kd.exports=void 0;var TP=Kd.exports,Zw=Qr,RP=fn,PP=_e,eb=Ct.EventEmitter,tb=TP,vg=function(){};function gr(e,t,n){if(!gr.enabled())throw new Error("Transport created when disabled");eb.call(this);var r=this,s=RP.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new tb(this.url,[],n),this.ws.onmessage=function(a){vg("message event",a.data),r.emit("message",a.data)},this.unloadRef=Zw.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(a){vg("close event",a.code,a.reason),r.emit("close",a.code,a.reason),r._cleanup()},this.ws.onerror=function(a){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}PP(gr,eb);gr.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};gr.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};gr.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),Zw.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};gr.enabled=function(){return!!tb};gr.transportName="websocket";gr.roundTrips=2;var _P=gr,AP=_e,nb=Ct.EventEmitter,IP=function(){};function Cs(e,t){nb.call(this),this.sendBuffer=[],this.sender=t,this.url=e}AP(Cs,nb);Cs.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};Cs.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};Cs.prototype.sendSchedule=function(){IP("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};Cs.prototype._cleanup=function(){this.removeAllListeners()};Cs.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var DP=Cs,OP=_e,rb=Ct.EventEmitter,LP=function(){};function kc(e,t,n){rb.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}OP(kc,rb);kc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){LP("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};kc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var MP=kc,$P=_e,zP=fn,Jh=DP,FP=MP;function Zh(e,t,n,r,s){var a=zP.addPath(e,t),i=this;Jh.call(this,e,n),this.poll=new FP(r,a,s),this.poll.on("message",function(l){i.emit("message",l)}),this.poll.once("close",function(l,c){i.poll=null,i.emit("close",l,c),i.close()})}$P(Zh,Jh);Zh.prototype.close=function(){Jh.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var sb=Zh,UP=_e,BP=fn,ob=sb;function WP(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var a=BP.addPath(t,"/xhr_send"),i=new e("POST",a,n,s);return i.once("finish",function(l){if(i=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){i.close(),i=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function ab(e,t,n,r){ob.call(this,e,t,WP(r),n,r)}UP(ab,ob);var jo=ab,VP=_e,ib=Ct.EventEmitter;function Ha(e,t){ib.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var a=r===200?"network":"permanent";n.emit("close",null,a),n._cleanup()})}VP(Ha,ib);Ha.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};Ha.prototype._cleanup=function(){this.removeAllListeners()};Ha.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Ec=Ha,lb=Ct.EventEmitter,HP=_e,cb=Qr,KP=fn,_a=globalThis.XMLHttpRequest,wu=function(){};function Hn(e,t,n,r){var s=this;lb.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}HP(Hn,lb);Hn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new _a}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=KP.addQuery(t,"t="+ +new Date),this.unloadRef=cb.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){wu("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Hn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var a in r.headers)this.xhr.setRequestHeader(a,r.headers[a]);this.xhr.onreadystatechange=function(){if(s.xhr){var i=s.xhr,l,c;switch(wu("readyState",i.readyState),i.readyState){case 3:try{c=i.status,l=i.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=i.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),wu("finish",c,i.responseText),s.emit("finish",c,i.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Hn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),cb.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Hn.prototype.close=function(){this._cleanup(!0)};Hn.enabled=!!_a;var xg=["Active"].concat("Object").join("X");!Hn.enabled&&xg in globalThis&&(_a=function(){try{return new globalThis[xg]("Microsoft.XMLHTTP")}catch{return null}},Hn.enabled=!!new _a);var ub=!1;try{ub="withCredentials"in new _a}catch{}Hn.supportsCORS=ub;var db=Hn,GP=_e,Wl=db;function em(e,t,n,r){Wl.call(this,e,t,n,r)}GP(em,Wl);em.enabled=Wl.enabled&&Wl.supportsCORS;var Tc=em,YP=_e,tm=db;function nm(e,t,n){tm.call(this,e,t,n,{noCredentials:!0})}YP(nm,tm);nm.enabled=tm.enabled;var Ka=nm,Ga={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},XP=_e,fb=jo,qP=Ec,Gd=Tc,QP=Ka,JP=Ga;function Co(e){if(!QP.enabled&&!Gd.enabled)throw new Error("Transport created when disabled");fb.call(this,e,"/xhr_streaming",qP,Gd)}XP(Co,fb);Co.enabled=function(e){return e.nullOrigin||JP.isOpera()?!1:Gd.enabled};Co.transportName="xhr-streaming";Co.roundTrips=2;Co.needBody=!!globalThis.document;var ZP=Co,hb=Ct.EventEmitter,e_=_e,mb=Qr,t_=Ga,n_=fn,r_=function(){};function ks(e,t,n){var r=this;hb.call(this),setTimeout(function(){r._start(e,t,n)},0)}e_(ks,hb);ks.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=n_.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){r_("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=mb.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};ks.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};ks.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),mb.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};ks.prototype.close=function(){this._cleanup(!0)};ks.enabled=!!(globalThis.XDomainRequest&&t_.hasDomain());var rm=ks,s_=_e,pb=jo,o_=Ec,Yd=rm;function Ya(e){if(!Yd.enabled)throw new Error("Transport created when disabled");pb.call(this,e,"/xhr_streaming",o_,Yd)}s_(Ya,pb);Ya.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Yd.enabled&&e.sameScheme};Ya.transportName="xdr-streaming";Ya.roundTrips=2;var gb=Ya,vb=globalThis.EventSource,a_=_e,xb=Ct.EventEmitter,i_=vb,yg=function(){};function Xa(e){xb.call(this);var t=this,n=this.es=new i_(e);n.onmessage=function(r){yg("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){yg("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}a_(Xa,xb);Xa.prototype.abort=function(){this._cleanup(),this._close("user")};Xa.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Xa.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var l_=Xa,c_=_e,yb=jo,u_=l_,d_=Tc,f_=vb;function ko(e){if(!ko.enabled())throw new Error("Transport created when disabled");yb.call(this,e,"/eventsource",u_,d_)}c_(ko,yb);ko.enabled=function(){return!!f_};ko.transportName="eventsource";ko.roundTrips=2;var wg=ko,bu,bg;function wb(){return bg||(bg=1,bu="1.6.1"),bu}var bb={exports:{}};(function(e){var t=Qr,n=Ga;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var a=globalThis.document.createElement("iframe"),i,l,c=function(){clearTimeout(i);try{a.onload=null}catch{}a.onerror=null},u=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},f=function(m){a&&(u(),s(m))},h=function(m,y){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(m,y)}catch{}},0)};return a.src=r,a.style.display="none",a.style.position="absolute",a.onerror=function(){f("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){f("onload timeout")},2e3)},globalThis.document.body.appendChild(a),i=setTimeout(function(){f("timeout")},15e3),l=t.unloadAdd(u),{post:h,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var a=["Active"].concat("Object").join("X"),i=new globalThis[a]("htmlfile"),l,c,u,f=function(){clearTimeout(l),u.onerror=null},h=function(){i&&(f(),t.unloadDel(c),u.parentNode.removeChild(u),u=i=null,CollectGarbage())},m=function(x){i&&(h(),s(x))},y=function(x,S){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,S)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=i.createElement("div");return i.body.appendChild(w),u=i.createElement("iframe"),w.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(h),{post:y,cleanup:h,loaded:f}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(bb);var qa=bb.exports,h_=_e,Sb=Ct.EventEmitter,m_=wb(),Xd=fn,Nb=qa,jb=Qr,p_=No,Wo=function(){};function Xn(e,t,n){if(!Xn.enabled())throw new Error("Transport created when disabled");Sb.call(this);var r=this;this.origin=Xd.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=p_.string(8);var s=Xd.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Nb.createIframe(s,function(a){r.emit("close",1006,"Unable to load an iframe ("+a+")"),r.close()}),this.onmessageCallback=this._message.bind(this),jb.attachEvent("message",this.onmessageCallback)}h_(Xn,Sb);Xn.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){jb.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};Xn.prototype._message=function(e){if(Wo("message",e.data),!Xd.isOriginEqual(e.origin,this.origin)){Wo("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Wo("bad json",e.data);return}if(t.windowId!==this.windowId){Wo("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([m_,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Wo("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};Xn.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};Xn.prototype.send=function(e){this.postMessage("m",e)};Xn.enabled=function(){return Nb.iframeEnabled};Xn.transportName="iframe";Xn.roundTrips=2;var Cb=Xn,sm={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},g_=_e,Li=Cb,v_=sm,Su=function(e){function t(n,r){Li.call(this,e.transportName,n,r)}return g_(t,Li),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=v_.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&Li.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Li.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},x_=_e,ns=qa,y_=fn,kb=Ct.EventEmitter,w_=No,b_=function(){};function En(e){kb.call(this);var t=this;ns.polluteGlobalNamespace(),this.id="a"+w_.string(6),e=y_.addQuery(e,"c="+decodeURIComponent(ns.WPrefix+"."+this.id)),b_("using htmlfile",En.htmlfileEnabled);var n=En.htmlfileEnabled?ns.createHtmlfile:ns.createIframe;globalThis[ns.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}x_(En,kb);En.prototype.abort=function(){this._cleanup(),this._close("user")};En.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[ns.WPrefix][this.id]};En.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};En.htmlfileEnabled=!1;var Sg=["Active"].concat("Object").join("X");if(Sg in globalThis)try{En.htmlfileEnabled=!!new globalThis[Sg]("htmlfile")}catch{}En.enabled=En.htmlfileEnabled||ns.iframeEnabled;var S_=En,N_=_e,qd=S_,j_=Ka,Eb=jo;function Qa(e){if(!qd.enabled)throw new Error("Transport created when disabled");Eb.call(this,e,"/htmlfile",qd,j_)}N_(Qa,Eb);Qa.enabled=function(e){return qd.enabled&&e.sameOrigin};Qa.transportName="htmlfile";Qa.roundTrips=2;var Ng=Qa,C_=_e,Tb=jo,k_=Ec,Qd=Tc,Rb=Ka;function Ja(e){if(!Rb.enabled&&!Qd.enabled)throw new Error("Transport created when disabled");Tb.call(this,e,"/xhr",k_,Qd)}C_(Ja,Tb);Ja.enabled=function(e){return e.nullOrigin?!1:Rb.enabled&&e.sameOrigin?!0:Qd.enabled};Ja.transportName="xhr-polling";Ja.roundTrips=2;var jg=Ja,E_=_e,Pb=jo,T_=gb,R_=Ec,Cg=rm;function Za(e){if(!Cg.enabled)throw new Error("Transport created when disabled");Pb.call(this,e,"/xhr",R_,Cg)}E_(Za,Pb);Za.enabled=T_.enabled;Za.transportName="xdr-polling";Za.roundTrips=2;var P_=Za,ia=qa,_b=No,__=Ga,A_=fn,I_=_e,Ab=Ct.EventEmitter,D_=function(){};function un(e){var t=this;Ab.call(this),ia.polluteGlobalNamespace(),this.id="a"+_b.string(6);var n=A_.addQuery(e,"c="+encodeURIComponent(ia.WPrefix+"."+this.id));globalThis[ia.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},un.timeout)}I_(un,Ab);un.prototype.abort=function(){if(globalThis[ia.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};un.timeout=35e3;un.scriptErrorTimeout=1e3;un.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};un.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};un.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[ia.WPrefix][this.id]};un.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},un.scriptErrorTimeout))};un.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+_b.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(D_("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(__.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var O_=un,L_=No,kg=fn,M_=function(){},Wt,la;function $_(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function z_(){Wt=globalThis.document.createElement("form"),Wt.style.display="none",Wt.style.position="absolute",Wt.method="POST",Wt.enctype="application/x-www-form-urlencoded",Wt.acceptCharset="UTF-8",la=globalThis.document.createElement("textarea"),la.name="d",Wt.appendChild(la),globalThis.document.body.appendChild(Wt)}var F_=function(e,t,n){Wt||z_();var r="a"+L_.string(8);Wt.target=r,Wt.action=kg.addQuery(kg.addPath(e,"/jsonp_send"),"i="+r);var s=$_(r);s.id=r,s.style.display="none",Wt.appendChild(s);try{la.value=t}catch{}Wt.submit();var a=function(i){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),la.value="",n(i))};return s.onerror=function(){a()},s.onload=function(){a()},s.onreadystatechange=function(i){M_("onreadystatechange",r,s.readyState),s.readyState==="complete"&&a()},function(){a(new Error("Aborted"))}},U_=_e,Ib=sb,B_=O_,W_=F_;function Es(e){if(!Es.enabled())throw new Error("Transport created when disabled");Ib.call(this,e,"/jsonp",W_,B_)}U_(Es,Ib);Es.enabled=function(){return!!globalThis.document};Es.transportName="jsonp-polling";Es.roundTrips=1;Es.needBody=!0;var V_=Es,H_=[_P,ZP,gb,wg,Su(wg),Ng,Su(Ng),jg,P_,Su(jg),V_],Aa=Array.prototype,om=Object.prototype,K_=Function.prototype,Ia=String.prototype,Nu=Aa.slice,am=om.toString,Db=function(e){return om.toString.call(e)==="[object Function]"},G_=function(t){return am.call(t)==="[object Array]"},Ob=function(t){return am.call(t)==="[object String]"},Y_=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Jd;Y_?Jd=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:Jd=function(e,t,n,r){!r&&t in e||(e[t]=n)};var ei=function(e,t,n){for(var r in t)om.hasOwnProperty.call(t,r)&&Jd(e,r,t[r],n)},Lb=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function X_(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function q_(e){return e>>>0}function ju(){}ei(K_,{bind:function(t){var n=this;if(!Db(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Nu.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(Nu.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Nu.call(arguments)))},a=Math.max(0,n.length-r.length),i=[],l=0;l<a;l++)i.push("$"+l);var c=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(ju.prototype=n.prototype,c.prototype=new ju,ju.prototype=null),c}});ei(Array,{isArray:G_});var Eg=Object("a"),Mb=Eg[0]!=="a"||!(0 in Eg),Q_=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,a,i){typeof i!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};ei(Aa,{forEach:function(t){var n=Lb(this),r=Mb&&Ob(this)?this.split(""):n,s=arguments[1],a=-1,i=r.length>>>0;if(!Db(t))throw new TypeError;for(;++a<i;)a in r&&t.call(s,r[a],a,n)}},!Q_(Aa.forEach));var J_=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;ei(Aa,{indexOf:function(t){var n=Mb&&Ob(this)?this.split(""):Lb(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=X_(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},J_);var Tg=Ia.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;Ia.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(am.call(t)!=="[object RegExp]")return Tg.call(this,t,n);var s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),i=0,l,c,u,f;for(t=new RegExp(t.source,a+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",a)),n=n===void 0?-1>>>0:q_(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>i&&(s.push(r.slice(i,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(c[h]=void 0)}),c.length>1&&c.index<r.length&&Aa.push.apply(s,c.slice(1)),f=c[0].length,i=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return i===r.length?(f||!t.test(""))&&s.push(""):s.push(r.slice(i)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&(Ia.split=function(t,n){return t===void 0&&n===0?[]:Tg.call(this,t,n)});var Z_=Ia.substr,eA="".substr&&"0b".substr(-1)!=="b";ei(Ia,{substr:function(t,n){return Z_.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},eA);var Mi=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Cu,tA=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},nA={quote:function(e){var t=JSON.stringify(e);return Mi.lastIndex=0,Mi.test(t)?(Cu||(Cu=tA(Mi)),t.replace(Mi,function(n){return Cu[n]})):t}},ku=function(){},rA=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){ku("not in whitelist",s.transportName);return}s.enabled(n)?(ku("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):ku("disabled",s.transportName)}}),r}}},Zd={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}Zd[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:Zd.log});var sA=Zd;function Ts(e){this.type=e}Ts.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};Ts.prototype.stopPropagation=function(){};Ts.prototype.preventDefault=function(){};Ts.CAPTURING_PHASE=1;Ts.AT_TARGET=2;Ts.BUBBLING_PHASE=3;var im=Ts,$b=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},oA=_e,zb=im;function Fb(){zb.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}oA(Fb,zb);var aA=Fb,iA=_e,Ub=im;function Bb(e){Ub.call(this),this.initEvent("message",!1,!1),this.data=e}iA(Bb,Ub);var lA=Bb,Wb=Ct.EventEmitter,cA=_e;function ti(){var e=this;Wb.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},ti.timeout)}cA(ti,Wb);ti.prototype.close=function(){clearTimeout(this.to)};ti.timeout=2e3;var uA=ti,Vb=Ct.EventEmitter,dA=_e,fA=sm;function lm(e,t){Vb.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,a){var i,l;if(s===200){if(l=+new Date-r,a)try{i=JSON.parse(a)}catch{}fA.isObject(i)||(i={})}n.emit("finish",i,l),n.removeAllListeners()})}dA(lm,Vb);lm.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var Hb=lm,hA=_e,Kb=Ct.EventEmitter,mA=Ka,pA=Hb;function Rc(e){var t=this;Kb.call(this),this.ir=new pA(e,mA),this.ir.once("finish",function(n,r){t.ir=null,t.emit("message",JSON.stringify([n,r]))})}hA(Rc,Kb);Rc.transportName="iframe-info-receiver";Rc.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()};var Gb=Rc,Yb=Ct.EventEmitter,gA=_e,vA=Qr,Xb=Cb,xA=Gb;function Pc(e,t){var n=this;Yb.call(this);var r=function(){var s=n.ifr=new Xb(xA.transportName,t,e);s.once("message",function(a){if(a){var i;try{i=JSON.parse(a)}catch{n.emit("finish"),n.close();return}var l=i[0],c=i[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():vA.attachEvent("load",r)}gA(Pc,Yb);Pc.enabled=function(){return Xb.enabled()};Pc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var yA=Pc,qb=Ct.EventEmitter,wA=_e,bA=fn,Rg=rm,Pg=Tc,SA=Ka,NA=uA,_g=yA,$i=Hb;function rr(e,t){var n=this;qb.call(this),setTimeout(function(){n.doXhr(e,t)},0)}wA(rr,qb);rr._getReceiver=function(e,t,n){return n.sameOrigin?new $i(t,SA):Pg.enabled?new $i(t,Pg):Rg.enabled&&n.sameScheme?new $i(t,Rg):_g.enabled()?new _g(e,t):new $i(t,NA)};rr.prototype.doXhr=function(e,t){var n=this,r=bA.addPath(e,"/info");this.xo=rr._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},rr.timeout),this.xo.once("finish",function(s,a){n._cleanup(!0),n.emit("finish",s,a)})};rr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};rr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};rr.timeout=8e3;var jA=rr,Eu,Ag;function CA(){if(Ag)return Eu;Ag=1;var e=qa;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Eu=t,Eu}var Tu,Ig;function kA(){if(Ig)return Tu;Ig=1;var e=fn,t=Qr,n=CA(),r=Gb,s=qa,a=$b,i=function(){};return Tu=function(l,c){var u={};c.forEach(function(h){h.facadeTransport&&(u[h.facadeTransport.transportName]=h.facadeTransport)}),u[r.transportName]=r;var f;l.bootstrap_iframe=function(){var h;s.currentWindowId=a.hash.slice(1);var m=function(y){if(y.source===parent&&(typeof f>"u"&&(f=y.origin),y.origin===f)){var w;try{w=JSON.parse(y.data)}catch{i("bad json",y.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{i("bad json",w.data);break}var S=x[0],p=x[1],g=x[2],v=x[3];if(S!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+S+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(g,a.href)||!e.isOriginEqual(v,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+g+", "+v+")");h=new n(new u[p](g,v));break;case"m":h._send(w.data);break;case"c":h&&h._close(),h=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},Tu}var EA=Qw,TA=_e,Dg=No,RA=nA,qo=fn,PA=Qr,_A=rA,AA=sm,IA=Ga,DA=sA,cm=im,Qb=Jw,zi=$b,OA=aA,Og=lA,LA=jA,Un=function(){},Jb;function Pe(e,t,n){if(!(this instanceof Pe))return new Pe(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");Qb.call(this),this.readyState=Pe.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&DA.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Dg.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Dg.numberString(1e3);var s=new EA(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a=s.protocol==="https:";if(zi.protocol==="https:"&&!a&&!qo.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var i=t.sort();i.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<i.length-1&&c===i[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=qo.getOrigin(zi.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Un("using url",this.url),this._urlInfo={nullOrigin:!IA.hasDomain(),sameOrigin:qo.isOriginEqual(this.url,zi.href),sameScheme:qo.isSchemeEqual(this.url,zi.href)},this._ir=new LA(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}TA(Pe,Qb);function Zb(e){return e===1e3||e>=3e3&&e<=4999}Pe.prototype.close=function(e,t){if(e&&!Zb(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Pe.CLOSING||this.readyState===Pe.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};Pe.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===Pe.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Pe.OPEN&&this._transport.send(RA.quote(e))};Pe.version=wb();Pe.CONNECTING=0;Pe.OPEN=1;Pe.CLOSING=2;Pe.CLOSED=3;Pe.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=AA.extend(e,this._urlInfo);var n=Jb.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,Un(this._transports.length+" enabled transports"),this._connect()};Pe.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Un("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),PA.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=qo.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};Pe.prototype._transportTimeout=function(){this.readyState===Pe.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Pe.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new cm("heartbeat")),Un("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(a){Un("message",t.transport),t.dispatchEvent(new Og(a))});break;case"m":Un("message",this.transport),this.dispatchEvent(new Og(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};Pe.prototype._transportClose=function(e,t){if(Un("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Zb(e)&&e!==2e3&&this.readyState===Pe.CONNECTING){this._connect();return}this._close(e,t)};Pe.prototype._open=function(){Un("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Pe.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Pe.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new cm("open")),Un("connected",this.transport)):this._close(1006,"Server lost session")};Pe.prototype._close=function(e,t,n){Un("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Pe.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Pe.CLOSING,setTimeout((function(){this.readyState=Pe.CLOSED,r&&this.dispatchEvent(new cm("error"));var s=new OA;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Pe.prototype.countRTO=function(e){return e>100?4*e:300+e};var MA=function(e){return Jb=_A(e),kA()(Pe,e),Pe},$A=H_,zA=MA($A);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const e1=sf(zA),FA=({roomId:e,userId:t,onMessageReceived:n,onError:r})=>{const[s,a]=d.useState(!1),[i,l]=d.useState("disconnected"),c=d.useRef(null),u=d.useRef(null),f=d.useRef(null),[h,m]=d.useState(0),y=3,[w,x]=d.useState(0),S=C=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C),p=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{var P;if(console.log(" WebSocket connect()  !"),console.log("    :",{hasClient:!!c.current,clientConnected:(P=c.current)==null?void 0:P.connected,connectionStatus:i,roomId:e,userId:t,hasToken:!!p(),timestamp:new Date().toISOString()}),c.current&&c.current.connected){console.log("   -   ");return}if(i==="connecting"){console.log("    -   ");return}if(c.current&&!c.current.connected&&i!=="disconnected"&&(console.log("    "),c.current.deactivate(),c.current=null),!e||!t){console.log("   :",{roomId:e,userId:t}),l("error");return}const C=p();if(console.log("WebSocket   - :",C?"":""),!C){console.error("   .   ."),r==null||r(" .  ."),l("error");return}if(C.length<10){console.error("    ."),r==null||r("   .  ."),l("error");return}l("connecting"),x(k=>k+1),console.log(` WebSocket   #${w+1}`,{roomId:e,userId:t,currentStatus:i,reconnectAttempt:h+1,url:"http://localhost:8080/ws"}),console.log(" SockJS   ..."),console.log("     :"),console.log("   - WebSocket   (101 Switching Protocols)"),console.log("   - SockJS   ");const T=new Vw({webSocketFactory:()=>(console.log(" WebSocket Factory  - SockJS  !"),new e1("http://localhost:8080/ws")),connectHeaders:C?{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" DM WebSocket   ... :",C?{Authorization:`Bearer ${C.substring(0,10)}...`}:{token:"none"})},debug:k=>{console.log("STOMP Debug:",k)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" DM WebSocket  !",{roomId:e,userId:t}),a(!0),l("connected"),m(0);const k=p();if(!k){console.error("    .     ."),r==null||r("    .");return}console.log(" DM   :",`/topic/dm/${e}`),T.subscribe(`/topic/dm/${e}`,b=>{try{const j=JSON.parse(b.body);console.log(" DM  :",j),n(j)}catch(j){console.error(" DM   :",j)}},{Authorization:`Bearer ${k}`}),console.log(" DM WebSocket  ")},onDisconnect:()=>{console.log(" DM WebSocket  ",{roomId:e,userId:t}),a(!1),l("disconnected")},onStompError:k=>{console.error(" STOMP :",{message:k.headers.message,body:k.body,headers:k.headers});const b=k.headers.message||"";if(b.includes("Unauthorized")||b.includes("Authentication")||b.includes("Token")||b.includes("401")||b.includes("Forbidden")||b.includes("403")){console.error("   -   "),r==null||r(" .  ."),l("error");return}else b.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),r==null||r("   .    .")):r==null||r(` : ${b}`);l("error"),!b.includes("Unauthorized")&&!b.includes("Authentication")&&!b.includes("Token")&&!b.includes("401")&&!b.includes("Forbidden")&&!b.includes("403")?h<y&&(m(j=>j+1),u.current=setTimeout(()=>{g()},5e3*h)):console.log("      .")},onWebSocketError:k=>{console.error(" WebSocket :",k),l("error"),r==null||r("WebSocket   ."),c.current&&(c.current.deactivate(),c.current=null)}});c.current=T,T.activate()},[e,t,n,r,h,i]),v=d.useCallback(()=>{c.current&&(c.current.deactivate(),c.current=null),u.current&&(clearTimeout(u.current),u.current=null),a(!1),l("disconnected"),m(0)},[]),N=d.useCallback(C=>{var k;const T=p();if(!T){console.error("   :   ."),r==null||r(" .  .");return}if(!((k=c.current)!=null&&k.connected)){r==null||r("WebSocket  .");return}if(!e||!t){console.error("Cannot send message: missing roomId or userId");return}if(!S(e)){console.error("   :   UUID :",{roomId:e});return}if(!S(t)){console.error("   :   senderId UUID :",{userId:t});return}const P={senderId:t,roomId:e,content:C};console.log(" DM   (with Auth):",{dmRequest:P,hasToken:!0,tokenPrefix:T.substring(0,10)+"..."}),c.current.publish({destination:`/app/dm/${e}`,headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify(P)})},[e,t,r]);return d.useEffect(()=>{console.log(" useDmWebSocket useEffect :",{roomId:e,userId:t,hasRoomId:!!e,hasUserId:!!t}),e&&t?(console.log("   -   "),g()):(console.log("   -   :",{roomId:e,userId:t}),v())},[e,t]),d.useEffect(()=>{const C=p();f.current!==C&&(console.log("    -  :",{oldToken:f.current?"existed":"none",newToken:C?"exists":"none",roomId:e,userId:t}),f.current=C,c.current&&e&&t&&(console.log("      "),v(),C?setTimeout(()=>{console.log("    "),g()},1e3):console.log("    ")))},[]),d.useEffect(()=>()=>{v()},[v]),{isConnected:s,connectionStatus:i,connect:g,disconnect:v,sendMessage:N,reconnectAttempts:h,connectionAttempts:w}};function UA({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:a}){const[i,l]=d.useState([]),[c,u]=d.useState(""),[f]=d.useState(!1),[h,m]=d.useState(!1),[y,w]=d.useState(null),[x,S]=d.useState(null),p=d.useRef(null),g=d.useRef(null),{isConnected:v,sendMessage:N}=FA({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:j=>{console.log(" ChatRoom  :",j);const I={id:j.id,senderId:j.senderId,senderName:j.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:j.content,timestamp:C(j.createdAt),type:"text",isOwnMessage:j.senderId===s};l(E=>E.find(D=>D.id===j.id)?(console.log("   :",j.id),E):[...E,I])},onError:j=>{console.error(" DM WebSocket :",j),j.includes("")||j.includes("")||j.includes("Authentication")?(S(j),w(null)):(w(j),S(null))}});d.useEffect(()=>{var j;(j=p.current)==null||j.scrollIntoView({behavior:"smooth"})},[i]),d.useEffect(()=>{e&&g.current&&g.current.focus()},[e]),d.useEffect(()=>{r!=null&&r.roomId&&T()},[r==null?void 0:r.roomId]);const C=j=>new Date(j).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),T=async()=>{if(r!=null&&r.roomId)try{m(!0),w(null);const I=(await a(r.roomId,{size:50})).data.sort((E,A)=>new Date(E.createdAt).getTime()-new Date(A.createdAt).getTime()).map(E=>({id:E.id,senderId:E.senderId,senderName:E.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:E.content,timestamp:C(E.createdAt),type:"text",isOwnMessage:E.senderId===s}));l(I)}catch(j){console.error("Error loading messages:",j),w("   .")}finally{m(!1)}},P=()=>{if(!c.trim()||!r||!v){console.warn("   :",{hasMessage:!!c.trim(),hasUser:!!r,isConnected:v,roomId:r==null?void 0:r.roomId,userId:s});return}console.log(" ChatRoom  :",{content:c.trim(),roomId:r.roomId,userId:s,isConnected:v}),N(c.trim()),u("")},k=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),P())},b=j=>j;return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(yo,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Xe,{className:"h-8 w-8",children:[o.jsx(qe,{src:r.avatar}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsxs("p",{className:"text-xs text-white/60",children:[r.isOnline?"":"","  ",o.jsx("span",{className:`${v?"text-green-400":"text-red-400"}`,children:v?"":" "})]})]})]})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(jn,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(aP,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[h&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),y&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:y}),x&&o.jsx("div",{className:"flex items-center justify-center h-32 text-orange-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-3",children:x}),o.jsx($,{onClick:()=>{S(null)},size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:" "})]})}),!h&&!y&&!x&&i.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),i.map((j,I)=>{const E=I===0||i[I-1].timestamp!==j.timestamp||i[I-1].isOwnMessage!==j.isOwnMessage;return o.jsx("div",{className:`flex ${j.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${j.isOwnMessage?"order-2":"order-1"}`,children:[!j.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(Xe,{className:"h-6 w-6",children:[o.jsx(qe,{src:r.avatar}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:j.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${j.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:j.content})}),E&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${j.isOwnMessage?"text-right":"text-left"}`,children:b(j.timestamp)})]})},j.id)}),f&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Xe,{className:"h-6 w-6",children:[o.jsx(qe,{src:r.avatar}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:p})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(ih,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx($e,{ref:g,value:c,onChange:j=>u(j.target.value),onKeyPress:k,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(u2,{className:"w-4 h-4"})})]}),o.jsx($,{onClick:P,disabled:!c.trim()||!v,size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(ch,{className:"w-4 h-4"})})]})})]})})}function BA({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:a,onError:i}){const[l,c]=d.useState(!1),[u,f]=d.useState("disconnected"),h=d.useRef(null),m=d.useRef(),[y,w]=d.useState(0),x=3,S=()=>localStorage.getItem("accessToken"),p=d.useCallback(()=>{if(h.current&&(h.current.connected||u==="connecting"))return;const C=S();console.log("WebSocket   - :",C?"":""),C||console.warn("      ()"),f("connecting"),console.log("WebSocket  :",{url:"http://localhost:8080/ws",token:C?`${C.substring(0,10)}...`:"null"});const T=new Vw({webSocketFactory:()=>new e1("http://localhost:8080/ws"),connectHeaders:C?{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",C?{Authorization:`Bearer ${C.substring(0,10)}...`}:{token:"none"})},debug:P=>{console.log("STOMP Debug:",P)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),f("connected"),w(0),T.subscribe(`/topic/rooms/${e}/chat`,P=>{try{const k=JSON.parse(P.body);n==null||n(k)}catch(k){console.error("   :",k)}}),T.subscribe(`/topic/rooms/${e}/participants`,P=>{try{const k=JSON.parse(P.body);r==null||r(k),f("connected"),c(!0)}catch(k){console.error("   :",k)}}),T.subscribe(`/topic/rooms/${e}/video`,P=>{try{const k=JSON.parse(P.body);s==null||s(k)}catch(k){console.error("    :",k)}}),T.subscribe("/user/queue/sync",P=>{try{const k=JSON.parse(P.body);(!("participantsInfoDto"in k)||!k.participantsInfoDto)&&(k.participantsInfoDto={participantDtoList:[],participantCount:0}),a==null||a(k),f("connected"),c(!0)}catch(k){console.error("    :",k)}}),T.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),f("disconnected")},onStompError:P=>{var k;console.error(" STOMP :",{message:P.headers.message,body:P.body,headers:P.headers}),(k=P.headers.message)!=null&&k.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),i==null||i("    .  .")):i==null||i(` : ${P.headers.message}`),f("error"),y<x&&(w(b=>b+1),m.current=setTimeout(()=>{p()},5e3*y))},onWebSocketError:P=>{console.error(" WebSocket :",P),f("error"),i==null||i("WebSocket   ."),h.current&&(h.current.deactivate(),h.current=null)}});h.current=T,T.activate()},[e,t,n,r,s,a,i]),g=d.useCallback(()=>{h.current&&(h.current.connected&&h.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),h.current.deactivate(),h.current=null),m.current&&clearTimeout(m.current),c(!1),f("disconnected"),w(0)},[e,t]),v=d.useCallback(C=>{var P;if(!((P=h.current)!=null&&P.connected)){i==null||i("WebSocket  .");return}const T={chatRoomId:e,content:C};h.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(T)})},[e,i]),N=d.useCallback(C=>{var T;if(!((T=h.current)!=null&&T.connected)){console.error(" Cannot send video control: WebSocket not connected"),i==null||i("WebSocket  .");return}console.log(" Sending video control to backend:",{action:C.videoControlAction,currentTime:C.currentTime,destination:`/app/rooms/${e}/video-control`}),h.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(C)})},[e,i]);return d.useEffect(()=>{const C=P=>{if(l)return P.preventDefault(),P.returnValue=" ?"," ?"},T=()=>{g()};return window.addEventListener("beforeunload",C),window.addEventListener("unload",T),()=>{window.removeEventListener("beforeunload",C),window.removeEventListener("unload",T)}},[l,g]),d.useEffect(()=>()=>{g()},[g]),{isConnected:l,connectionStatus:u,connect:p,disconnect:g,sendChatMessage:v,sendVideoControl:N,reconnectAttempts:y}}function WA(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(a=>({...a,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const a=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(a))},100);setTimeout(()=>{clearInterval(a),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API  "})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API   ")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API   "})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var t1=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(t1||{}),rl=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(rl||{});function VA({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s,onTimeUpdate:a}){const[i,l]=d.useState(null),[c,u]=d.useState(!1),f=d.useRef(null),h=d.useRef(!1),m=d.useRef(null),y=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:k=>{console.log("YouTube Player Ready - verifying functionality"),f.current=k.target,l(k.target);const b=()=>{try{const j=typeof k.target.getPlayerState=="function",I=typeof k.target.getCurrentTime=="function",E=k.target.getPlayerState();j&&I&&E!==void 0?(console.log(" Player functionality verified, setting ready"),u(!0)):(console.log(" Player not fully ready, retrying in 200ms..."),setTimeout(b,200))}catch(j){console.log(" Player verification failed, retrying in 200ms...",j),setTimeout(b,200)}};b()},onStateChange:k=>{const b=k.data,j=k.target.getCurrentTime(),I=Math.round(j*100)/100;let E=null,A=!1;switch(m.current&&(clearInterval(m.current),m.current=null),b){case window.YT.PlayerState.PLAYING:E=rl.PLAY,A=!0,m.current=setInterval(()=>{k.target.getPlayerState()===window.YT.PlayerState.PLAYING?a==null||a(k.target.getCurrentTime()):(clearInterval(m.current),m.current=null)},500);break;case window.YT.PlayerState.PAUSED:E=rl.PAUSE,A=!1;break;case window.YT.PlayerState.ENDED:E=rl.PAUSE,A=!1;break;default:return}console.log(" YouTube Player State Change:",{state:b,rawTime:j,currentTime:I,isPlaying:A,isHost:n,isHostControl:h.current}),console.log(" Updating local UI state only"),r==null||r(A,I,E)},onError:k=>{console.error("YouTube Player Error:",k.data);let b="YouTube   .";switch(k.data){case 2:b="  ID.";break;case 5:b="HTML5   .";break;case 100:b="   .";break;case 101:case 150:b="   .";break}s==null||s(b)}}})}catch(k){console.error("YouTube Player  :",k),s==null||s("YouTube    .")}},[e,t,n,r,s,a]);d.useEffect(()=>{e&&(f.current&&f.current.getVideoUrl()!==e&&(console.log(" videoId    "),f.current.destroy(),f.current=null,l(null),u(!1),m.current&&(clearInterval(m.current),m.current=null)),!f.current&&window.YT&&window.YT.Player&&y())},[e,y]);const w=d.useCallback(()=>{var k,b,j,I;if(console.log(" YouTube play() called:",{playerExists:!!f.current,isReady:c,playerState:(b=(k=f.current)==null?void 0:k.getPlayerState)==null?void 0:b.call(k),currentTime:(I=(j=f.current)==null?void 0:j.getCurrentTime)==null?void 0:I.call(j)}),f.current&&c){try{h.current=!0;const E=f.current.playVideo();console.log(" playVideo() result:",E),setTimeout(()=>{var D,Y;const A=(Y=(D=f.current)==null?void 0:D.getPlayerState)==null?void 0:Y.call(D);console.log(" Player state after play():",A)},500)}catch(E){console.error(" playVideo() error:",E)}setTimeout(()=>{h.current=!1},100)}else console.error(" Cannot play: player not ready:",{playerExists:!!f.current,isReady:c})},[c]),x=d.useCallback(()=>{var k,b,j,I;if(console.log(" YouTube pause() called:",{playerExists:!!f.current,isReady:c,playerState:(b=(k=f.current)==null?void 0:k.getPlayerState)==null?void 0:b.call(k),currentTime:(I=(j=f.current)==null?void 0:j.getCurrentTime)==null?void 0:I.call(j)}),f.current&&c){try{h.current=!0;const E=f.current.pauseVideo();console.log(" pauseVideo() result:",E),setTimeout(()=>{var D,Y;const A=(Y=(D=f.current)==null?void 0:D.getPlayerState)==null?void 0:Y.call(D);console.log(" Player state after pause():",A)},500)}catch(E){console.error(" pauseVideo() error:",E)}setTimeout(()=>{h.current=!1},100)}else console.error(" Cannot pause: player not ready:",{playerExists:!!f.current,isReady:c})},[c]),S=d.useCallback(k=>{f.current&&c&&(h.current=!0,f.current.seekTo(k,!0),setTimeout(()=>{h.current=!1},100))},[c]),p=d.useCallback(()=>{var b,j,I,E;let k=0;try{if(f.current&&c){const A=f.current.getCurrentTime();k=Math.round(A*100)/100,console.log(" getCurrentTime called:",{rawTime:A,preciseTime:k,isReady:c,playerExists:!!f.current,playerState:(j=(b=f.current)==null?void 0:b.getPlayerState)==null?void 0:j.call(b)}),(k>1e4||k<0||isNaN(k))&&console.warn(" ABNORMAL TIME FROM YOUTUBE PLAYER:",{rawTime:A,preciseTime:k,playerState:(E=(I=f.current)==null?void 0:I.getPlayerState)==null?void 0:E.call(I)})}else console.log(" getCurrentTime called but player not ready")}catch(A){console.error(" getCurrentTime error:",A)}return k},[c]),g=d.useCallback(()=>f.current&&c?Math.floor(f.current.getDuration()):0,[c]),v=d.useCallback(()=>{var k;return{target:f.current,data:((k=f.current)==null?void 0:k.getPlayerState())??t1.UNSTARTED}},[c]),N=d.useCallback(k=>{f.current&&c&&f.current.setVolume(k)},[c]),C=d.useCallback(()=>f.current&&c?f.current.getVolume():0,[c]),T=d.useCallback(()=>{f.current&&(f.current.destroy(),f.current=null,l(null),u(!1)),m.current&&(clearInterval(m.current),m.current=null)},[]),P=d.useCallback((k,b=0)=>(console.log("[syncVideo] Called:",{isReady:c,retryCount:b,hasPlayer:!!f.current}),f.current==null?(console.error("  ."),!1):(h.current=!0,f.current.seekTo(k.currentTime,!0),f.current.pauseVideo(),k.action==="PLAY"||k.isPlaying===!0?(f.current.setVolume(0),f.current.playVideo(),console.log("    ()"),setTimeout(()=>{f.current&&(f.current.setVolume(80),console.log("  "))},100)):k.action==="PAUSE"&&(f.current.pauseVideo(),console.log("  ")),setTimeout(()=>{h.current=!1},100),!0)),[c]);return d.useEffect(()=>{if(f.current&&c){console.log(" Starting player status monitoring");const k=setInterval(()=>{var b,j,I,E,A,D,Y,R,O,_,F,V;try{const U=!!f.current,ee=typeof((b=f.current)==null?void 0:b.getPlayerState)=="function",te=typeof((j=f.current)==null?void 0:j.getCurrentTime)=="function",ce=(E=(I=f.current)==null?void 0:I.getPlayerState)==null?void 0:E.call(I),Te={isReady:c,playerExists:U,canGetState:ee,canGetTime:te,state:ce,currentTime:Math.floor(((D=(A=f.current)==null?void 0:A.getCurrentTime)==null?void 0:D.call(A))||0),duration:Math.floor(((R=(Y=f.current)==null?void 0:Y.getDuration)==null?void 0:R.call(Y))||0),volume:(_=(O=f.current)==null?void 0:O.getVolume)==null?void 0:_.call(O),playbackRate:(V=(F=f.current)==null?void 0:F.getPlaybackRate)==null?void 0:V.call(F),wouldSyncPass:c&&U&&te&&ce!==void 0&&ce!==null};console.log(" Player Status:",Te)}catch(U){console.error(" Error checking player status:",U)}},5e3);return()=>{console.log(" Stopping player status monitoring"),clearInterval(k)}}},[c]),d.useEffect(()=>()=>{T(),m.current&&(clearInterval(m.current),m.current=null)},[T]),{player:i,isReady:c,play:w,pause:x,seekTo:S,getCurrentTime:p,getDuration:g,getPlayerState:v,setVolume:N,getVolume:C,destroy:T,syncVideo:P}}var n1=["PageUp","PageDown"],r1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],s1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Eo="Slider",[ef,HA,KA]=Nh(Eo),[o1,X3]=Tn(Eo,[KA]),[GA,_c]=o1(Eo),a1=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:w,...x}=e,S=d.useRef(new Set),p=d.useRef(0),v=i==="horizontal"?YA:XA,[N=[],C]=ps({prop:f,defaultProp:u,onChange:I=>{var A;(A=[...S.current][p.current])==null||A.focus(),h(I)}}),T=d.useRef(N);function P(I){const E=e3(N,I);j(I,E)}function k(I){j(I,p.current)}function b(){const I=T.current[p.current];N[p.current]!==I&&m(N)}function j(I,E,{commit:A}={commit:!1}){const D=s3(a),Y=o3(Math.round((I-r)/a)*a+r,D),R=Ea(Y,[r,s]);C((O=[])=>{const _=JA(O,R,E);if(r3(_,c*a)){p.current=_.indexOf(R);const F=String(_)!==String(O);return F&&A&&m(_),F?_:O}else return O})}return o.jsx(GA,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:p,thumbs:S.current,values:N,orientation:i,form:w,children:o.jsx(ef.Provider,{scope:e.__scopeSlider,children:o.jsx(ef.Slot,{scope:e.__scopeSlider,children:o.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:fe(x.onPointerDown,()=>{l||(T.current=N)}),min:r,max:s,inverted:y,onSlideStart:l?void 0:P,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:b,onHomeKeyDown:()=>!l&&j(r,0,{commit:!0}),onEndKeyDown:()=>!l&&j(s,N.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:E})=>{if(!l){const Y=n1.includes(I.key)||I.shiftKey&&r1.includes(I.key)?10:1,R=p.current,O=N[R],_=a*Y*E;j(O+_,R,{commit:!0})}}})})})})});a1.displayName=Eo;var[i1,l1]=o1(Eo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),YA=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[h,m]=d.useState(null),y=Se(t,v=>m(v)),w=d.useRef(void 0),x=Wa(s),S=x==="ltr",p=S&&!a||!S&&a;function g(v){const N=w.current||h.getBoundingClientRect(),C=[0,N.width],P=um(C,p?[n,r]:[r,n]);return w.current=N,P(v-N.left)}return o.jsx(i1,{scope:e.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:o.jsx(c1,{dir:x,"data-orientation":"horizontal",...f,ref:y,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const N=g(v.clientX);i==null||i(N)},onSlideMove:v=>{const N=g(v.clientX);l==null||l(N)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:v=>{const C=s1[p?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:C?-1:1})}})})}),XA=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=d.useRef(null),h=Se(t,f),m=d.useRef(void 0),y=!s;function w(x){const S=m.current||f.current.getBoundingClientRect(),p=[0,S.height],v=um(p,y?[r,n]:[n,r]);return m.current=S,v(x-S.top)}return o.jsx(i1,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(c1,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const S=w(x.clientY);a==null||a(S)},onSlideMove:x=>{const S=w(x.clientY);i==null||i(S)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const p=s1[y?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:p?-1:1})}})})}),c1=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=_c(Eo,n);return o.jsx(he.span,{...u,ref:t,onKeyDown:fe(e.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):n1.concat(r1).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:fe(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():r(h)}),onPointerMove:fe(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:fe(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),a(h))})})}),u1="SliderTrack",d1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=_c(u1,n);return o.jsx(he.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});d1.displayName=u1;var tf="SliderRange",f1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=_c(tf,n),a=l1(tf,n),i=d.useRef(null),l=Se(t,i),c=s.values.length,u=s.values.map(m=>p1(m,s.min,s.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return o.jsx(he.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:f+"%",[a.endEdge]:h+"%"}})});f1.displayName=tf;var nf="SliderThumb",h1=d.forwardRef((e,t)=>{const n=HA(e.__scopeSlider),[r,s]=d.useState(null),a=Se(t,l=>s(l)),i=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(qA,{...e,ref:a,index:i})}),qA=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,i=_c(nf,n),l=l1(nf,n),[c,u]=d.useState(null),f=Se(t,g=>u(g)),h=c?i.form||!!c.closest("form"):!0,m=_h(c),y=i.values[r],w=y===void 0?0:p1(y,i.min,i.max),x=ZA(r,i.values.length),S=m==null?void 0:m[l.size],p=S?t3(S,w,l.direction):0;return d.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${p}px)`},children:[o.jsx(ef.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(he.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:f,style:y===void 0?{display:"none"}:e.style,onFocus:fe(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),h&&o.jsx(m1,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});h1.displayName=nf;var QA="RadioBubbleInput",m1=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),a=Se(s,r),i=Dh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const h=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[i,t]),o.jsx(he.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});m1.displayName=QA;function JA(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function p1(e,t,n){const a=100/(n-t)*(e-t);return Ea(a,[0,100])}function ZA(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function e3(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function t3(e,t,n){const r=e/2,a=um([0,50],[0,r]);return(r-a(t)*n)*n}function n3(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function r3(e,t){if(t>0){const n=n3(e);return Math.min(...n)>=t}return!0}function um(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function s3(e){return(String(e).split(".")[1]||"").length}function o3(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var a3=a1,i3=d1,l3=f1,c3=h1;function Lg({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...a}){const i=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(a3,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:be("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[o.jsx(i3,{"data-slot":"slider-track",className:be("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(l3,{"data-slot":"slider-range",className:be("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(l,c)=>o.jsx(c3,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function u3({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:a,onSeek:i,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:f=!1,onPermissionDenied:h}){const[m,y]=d.useState([80]),[w,x]=d.useState(!1),[S,p]=d.useState(!1),[g,v]=d.useState(!1),[N,C]=d.useState(0),T=d.useRef();d.useEffect(()=>{if(e.isReady){const O=e.getVolume();y([O]),x(O===0)}},[e.isReady]),d.useEffect(()=>(S&&(T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{p(!1)},3e3)),()=>{T.current&&clearTimeout(T.current)}),[S,m]);const P=()=>{if(S){x(!w);const O=w?m[0]:0;e.setVolume(O),l(O)}else p(!0)},k=O=>{y(O);const _=O[0];x(_===0),e.setVolume(_),l(_)},b=()=>{v(!0),C(r)},j=O=>{g&&C(O[0])},I=()=>{g&&t&&(i(N),v(!1))},E=()=>{if(t){const O=Math.max(0,r-10);i(O)}else h==null||h()},A=()=>{if(t){const O=Math.min(s,r+10);i(O)}else h==null||h()},D=()=>{t?a():h==null||h()},Y=()=>w||m[0]===0?o.jsx(p2,{className:"w-5 h-5"}):m[0]<50?o.jsx(h2,{className:"w-5 h-5"}):o.jsx(m2,{className:"w-5 h-5"}),R=O=>{const _=Math.floor(O/3600),F=Math.floor(O%3600/60),V=O%60;return _>0?`${_}:${F.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`:`${F}:${V.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(Lg,{value:[g?N:r],onValueChange:j,onPointerDown:b,onPointerUp:I,max:s,step:1,disabled:f||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:R(g?N:r)}),o.jsx("span",{children:R(s)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:E,disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(l2,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>{console.log("    !",{isHost:t,disabled:f||!t}),D()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"":"":"  ",children:n?o.jsx(xy,{className:"w-5 h-5"}):o.jsx(gt,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:A,disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(c2,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:P,className:"hover:bg-white/10",title:" ",children:Y()}),S&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(Lg,{value:m,onValueChange:k,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[m[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(Hs,{className:"w-4 h-4 mr-1"}),"  "]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"",children:o.jsx(o2,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?" ":"",children:u?o.jsx(r2,{className:"w-5 h-5"}):o.jsx(n2,{className:"w-5 h-5"})})]})]})]})}function d3({open:e,onClose:t}){return o.jsx(Fh,{open:e,onOpenChange:t,children:o.jsxs(Uh,{className:"bg-[#1a1a1a] border-white/20 text-white",children:[o.jsxs(Bh,{children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center",children:o.jsx(Hs,{className:"w-8 h-8 text-yellow-400"})})}),o.jsx(Vh,{className:"text-center text-xl font-medium",children:"  "}),o.jsxs(Hh,{className:"text-center text-white/70",children:["    .",o.jsx("br",{}),", ,    ."]})]}),o.jsx(Wh,{children:o.jsx(Kh,{onClick:t,className:"w-full teal-gradient hover:opacity-80 text-black font-medium",children:""})})]})})}var wr=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(wr||{});function f3(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function h3({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var st,Ie,ft,kt;const[a,i]=d.useState(!1),{isLoaded:l}=WA(!0),[c,u]=d.useState(!0),[f,h]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(!1),[S,p]=d.useState(!1),[g,v]=d.useState(null),[N,C]=d.useState(null),[T,P]=d.useState([]),[k,b]=d.useState([]),[j,I]=d.useState(!1),[E,A]=d.useState(!0),[D,Y]=d.useState(null),[R,O]=d.useState(null),[_,F]=d.useState(!1),[V,U]=d.useState(0),[ee,te]=d.useState(null),ce=d.useRef(null),Te=d.useRef(!1),Ce=d.useRef(null),oe=V>0?V:N!=null&&N.duration?parseInt(N.duration):0,[ie,de]=d.useState(!1),[pe,le]=d.useState(0),ve=R?f3(R):null;d.useEffect(()=>{console.log(" YouTube URL/ID :",{youtubeUrl:R,youtubeVideoId:ve,extractedFrom:R})},[R,ve]);const{isConnected:ye,connectionStatus:ze,connect:Q,disconnect:L,sendChatMessage:G,sendVideoControl:Z,reconnectAttempts:X}=BA({roomId:e,userId:n,onChatMessage:d.useCallback(W=>{b(me=>[...me,W])},[]),onParticipantsUpdate:d.useCallback(W=>{console.log(" Participants updated:",W);const me=(W.participantDtoList??[]).map(Je=>({userId:Je.id,userName:Je.username,userAvatar:Je.profile,isHost:Je.isOwner,isOnline:Je.isOnline??!0,joinedAt:Je.joinedAt??""}));P(me);const Oe=me.find(Je=>Je.userId===n),re=(Oe==null?void 0:Oe.isHost)||!1;console.log(" Host status check:",{currentUserId:n,currentUserParticipant:Oe,newIsHost:re,allParticipants:me}),I(re)},[n]),onVideoSync:d.useCallback(W=>{console.log(" Video sync received:",{action:W.videoControlAction,currentTime:W.currentTime,isPlaying:W.isPlaying,timestamp:W.timestamp,timestampAge:Date.now()-W.timestamp,isHost:j});const me=W.timestamp===0||Date.now()-W.timestamp<1e4;me&&B&&B.syncVideo?(console.log(" Executing video sync"),B.syncVideo({action:W.videoControlAction,currentTime:W.currentTime,isPlaying:W.isPlaying}),console.log(" Video sync successful")):console.log(" Video sync ignored:",{isValidTimestamp:me,hasPlayerController:!!B}),de(W.isPlaying),le(W.currentTime)},[j]),onRoomSync:d.useCallback(W=>{var Jr;console.log(" Room sync received:",W);const me={id:W.id,title:W.title,contentDto:W.content,ownerId:"",ownerName:"",createdAt:"",headCount:W.participantsInfoDto.participantsCount||W.participantsInfoDto.participantCount,contentTitle:W.content.title,contentId:W.content.id};v(me),C(W.content);const re=(W.participantsInfoDto.participantDtoList||[]).map(ct=>({userId:ct.id,userName:ct.username,userAvatar:ct.profile,isHost:ct.isOwner,isOnline:ct.isOnline??!0,joinedAt:ct.joinedAt??""}));P(re),b(W.chatMessages??[]);const Je=re.find(ct=>ct.userId===n),Lt=(Je==null?void 0:Je.isHost)||!1;if(console.log(" Host status check (room sync):",{currentUserId:n,currentUserParticipant:Je,newIsHost:Lt,allParticipants:re}),I(Lt),(Jr=W.content)!=null&&Jr.youtubeUrl?(console.log(" Setting YouTube URL from content.youtubeUrl:",W.content.youtubeUrl),O(W.content.youtubeUrl)):(console.warn(" No content.youtubeUrl provided"),O(null)),W.playTime!==void 0&&W.isPlaying!==void 0){console.log(" Storing initial sync data from roomInfo:",{playTime:W.playTime,isPlaying:W.isPlaying});const ct={videoControlAction:W.isPlaying?wr.PLAY:wr.PAUSE,currentTime:W.playTime,isPlaying:W.isPlaying,timestamp:Date.now()};te(ct)}else W.videoSyncDto?(console.log(" Fallback: Storing initial videoSyncDto:",W.videoSyncDto),te(W.videoSyncDto)):te(null);A(!1)},[n]),onError:d.useCallback(W=>{Y(W)},[])}),M=d.useCallback((W,me,Oe)=>{const re=typeof me=="number"?Math.round(me*100)/100:0;console.log(" Video state changed:",{isPlaying:W,currentTime:re,action:Oe,isHost:j,isConnected:ye,rawCurrentTime:me}),de(W),le(re)},[j,ye]),B=VA({videoId:ve||"",containerId:"youtube-player-container",isHost:j,onStateChange:M,onError:d.useCallback(W=>{console.error("YouTube Player Error:",W),Y(W)},[]),onTimeUpdate:d.useCallback(W=>{le(Math.round(W*100)/100)},[])}),ne=!!(ve&&l);d.useEffect(()=>{const W=async()=>{var Oe;if(Te.current){console.log(" loadInitialData   ,   ");return}Te.current=!0,console.log(" loadInitialData  :",{roomId:e,userId:n}),A(!0),Y(null);try{const re=await Ba.joinWatchRoom(e);console.log(" Room info loaded:",re);const Je={id:re.id,title:re.title,contentDto:re.content,ownerId:"",ownerName:"",createdAt:"",headCount:re.participantsInfoDto.participantsCount||re.participantsInfoDto.participantCount,contentTitle:re.content.title,contentId:re.content.id};if(v(Je),C(re.content),console.log(" Initial host status set to false (will be updated via WebSocket)"),I(!1),de(!1),le(0),b([]),(Oe=re.content)!=null&&Oe.youtubeUrl?(console.log(" Initial: Setting YouTube URL from content.youtubeUrl:",re.content.youtubeUrl),O(re.content.youtubeUrl)):(console.warn(" Initial: No content.youtubeUrl provided"),O(null)),re.playTime!==void 0&&re.isPlaying!==void 0){console.log(" Initial: Storing initial sync data from roomInfo:",{playTime:re.playTime,isPlaying:re.isPlaying});const Lt={videoControlAction:re.isPlaying?wr.PLAY:wr.PAUSE,currentTime:re.playTime,isPlaying:re.isPlaying,timestamp:Date.now()};te(Lt)}else re.videoSyncDto?(console.log(" Initial: Fallback: Storing initial videoSyncDto:",re.videoSyncDto),te(re.videoSyncDto)):te(null);console.log(" loadInitialData "),r&&Q()}catch(re){console.error("Failed to load room data:",re),Y(re instanceof Error?re.message:"     .")}finally{A(!1),Te.current=!1}},me=setTimeout(()=>{W()},0);return()=>{clearTimeout(me)}},[e,n,r]),d.useEffect(()=>{if(B!=null&&B.isReady&&B.syncVideo&&ee){console.log(" Applying initial video sync now that player is ready:",ee);const W={action:ee.videoControlAction,currentTime:ee.currentTime,isPlaying:ee.isPlaying};B.syncVideo(W),de(ee.isPlaying),le(ee.currentTime),te(null)}},[B,ee]),d.useEffect(()=>{var W;(W=ce.current)==null||W.scrollIntoView({behavior:"smooth"})},[k]),d.useEffect(()=>{if(B!=null&&B.isReady&&V===0)try{const W=B.getDuration();console.log(" YouTube  :",W,""),W>0&&U(Math.floor(W))}catch(W){console.error("    :",W)}},[B==null?void 0:B.isReady,V,B]),d.useEffect(()=>{var W;console.log(" Host Status Debug:",{isHost:j,userId:n,participants:T.map(me=>({userId:me.userId,userName:me.userName,isHost:me.isHost})),canUsePlayer:ne,isConnected:ye,currentUserIsHost:((W=T.find(me=>me.userId===n))==null?void 0:W.isHost)||!1})},[j,n,T,ne,ye]);const Ee=()=>{if(!j||!ne||!ye){console.log(" Cannot control video:",{isHost:j,canUsePlayer:ne,isConnected:ye}),j||F(!0);return}const W=ie?wr.PAUSE:wr.PLAY,me=(B==null?void 0:B.getCurrentTime())||0;console.log(" Host sending video control:",{action:W,currentTime:me,isPlaying:ie}),Z({videoControlAction:W,currentTime:me})},xe=()=>{p(!0)},Ne=()=>{p(!1),L(),t()},we=W=>{var me;if(console.log(" Seek requested:",{isHost:j,seconds:W,isConnected:ye,canUsePlayer:ne}),!j){console.log(" Not host, cannot seek video"),F(!0);return}if(!ne){console.log(" Player not ready, cannot seek video");return}try{const Oe=((me=B==null?void 0:B.getDuration)==null?void 0:me.call(B))||oe;let re=W;Oe&&W>Oe&&(re=Oe,console.warn(" SEEK    ,  :",{requested:W,adjusted:re,maxDuration:Oe})),re<0&&(re=0),console.log(" SEEK -   :",{originalSeconds:W,validSeekTime:re,maxDuration:Oe}),Z({videoControlAction:wr.SEEK,currentTime:re})}catch(Oe){console.error(" SEEK   :",Oe)}},ge=W=>{B.setVolume(W),console.log(`Volume changed to: ${W}%`)},Ae=()=>{i(!a),u(!!a)},Ot=()=>{!m.trim()||!ye||(G(m),console.log("Sending message:",m),y(""))},Zt=W=>new Date(W).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return E?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Kt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!r&&!ye?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:((st=g==null?void 0:g.contentDto)==null?void 0:st.title)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_t,{className:"w-4 h-4"}),o.jsxs("span",{children:[(g==null?void 0:g.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ed,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs($,{onClick:Q,className:"teal-gradient hover:opacity-80 text-black",children:[ze==="connecting"?o.jsx(Kt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(_t,{className:"w-4 h-4 mr-2"})," "]})]})]})}):D?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:D}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx($,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):g?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!a&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs($,{variant:"ghost",onClick:xe,className:"hover:bg-white/10",children:[o.jsx(yo,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:g.title}),j&&o.jsxs(an,{variant:"secondary",className:"text-xs",children:[o.jsx(Hs,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:N?N.title:(Ie=g.contentDto)==null?void 0:Ie.title}),N&&N.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:N.contentType})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_t,{className:"w-4 h-4"}),o.jsxs("span",{children:[T.filter(W=>W.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[ye?o.jsx(v2,{className:"w-4 h-4 text-green-400"}):o.jsx(g2,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:ye?"text-green-400":"text-yellow-400",children:ye?"":ze==="connecting"?" ":" "}),X>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",X,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs($,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(Ed,{className:"w-5 h-5"}),c?o.jsx(Nr,{className:"w-4 h-4 ml-1"}):o.jsx(aa,{className:"w-4 h-4 ml-1"})]})})]}),!ye&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:ze==="connecting"?"   ...":ze==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{ref:Ce,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Kt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API  ..."})]})}),l&&!ve&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[N&&N.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:N.thumbnailUrl,alt:N.title,className:"w-full h-full object-cover",onError:W=>{const me=W.target;me.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(gt,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60 mb-2",children:N?N.title:"   ..."}),R?o.jsxs("p",{className:"text-white/40 text-sm",children:["YouTube  ID   ",o.jsx("br",{}),"URL: ",R]}):o.jsx("p",{className:"text-white/40 text-sm",children:" YouTube URL  "})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:ne?"block":"none",position:"relative",zIndex:1,pointerEvents:"auto"}}),!ne&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((kt=(ft=g==null?void 0:g.contentDto)==null?void 0:ft.title)==null?void 0:kt.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:`absolute inset-0 bg-black/30 flex items-center justify-center transition-opacity duration-300 ${ie&&!w?"opacity-0":"opacity-100"}`,style:{zIndex:10,pointerEvents:ie&&!w?"none":"auto"},children:[o.jsx($,{size:"lg",onClick:()=>{console.log("    !",{isHost:j,disabled:!j}),Ee()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:!j,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${j?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,style:{position:"relative",zIndex:20,pointerEvents:j?"auto":"none"},children:ie?o.jsx(xy,{className:"w-10 h-10 fill-current"}):o.jsx(gt,{className:"w-10 h-10 fill-current ml-1"})}),!j&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(Hs,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 bg-black/50 backdrop-blur-sm
                        transition-opacity duration-300 z-50
                        ${ie&&!w&&!a?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}
                        ${a?"hidden":""} `,children:o.jsx(u3,{playerController:B,isHost:j,isPlaying:ie,currentTime:pe,totalDuration:oe,onPlayPause:Ee,onSeek:we,onVolumeChange:ge,onFullscreenToggle:Ae,isFullscreen:a,disabled:!ye||!ne,onPermissionDenied:()=>F(!0)})}),a&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>h(!f),className:"p-1 hover:bg-white/10",children:o.jsx(_t,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[T.filter(W=>W.isOnline).length,"  "]})]}),f&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${T.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:T.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):T.map(W=>{var me;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Xe,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{W.userId!==n&&s&&s(W.userId)},children:[o.jsx(qe,{src:W.userAvatar}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black text-xs",children:((me=W.userName)==null?void 0:me.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${W.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{W.userId!==n&&s&&s(W.userId)},children:W.userName}),W.isHost&&o.jsxs(an,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(Hs,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${W.isOnline?"bg-green-400":"bg-gray-400"}`})]},W.userId+W.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[E&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),k.map(W=>{var me,Oe;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Xe,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(qe,{src:(me=T.find(re=>re.userId===W.senderId))==null?void 0:me.userAvatar}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black text-xs",children:W.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:W.senderName}),((Oe=T.find(re=>re.userId===W.senderId))==null?void 0:Oe.isHost)&&o.jsx(Hs,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:Zt(W.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:W.content})]})]})},W.id)}),o.jsx("div",{ref:ce})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx($e,{placeholder:ye?" ...":"  ...",value:m,onChange:W=>y(W.target.value),onKeyPress:W=>W.key==="Enter"&&Ot(),disabled:!ye,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx($,{onClick:Ot,disabled:!m.trim()||!ye,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(ch,{className:"w-4 h-4"})})]})})]})})]}),o.jsx(d3,{open:_,onClose:()=>F(!1)}),o.jsx(Fh,{open:S,onOpenChange:p,children:o.jsxs(Uh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(Bh,{children:[o.jsx(Vh,{className:"text-white",children:" "}),o.jsx(Hh,{className:"text-white/70",children:j?"   .  ?":" ?"})]}),o.jsxs(Wh,{children:[o.jsx(Pw,{onClick:()=>p(!1),className:"border-white/20 hover:bg-white/5 text-white",children:""}),o.jsx(Kh,{onClick:Ne,className:"bg-red-600 hover:bg-red-700 text-white",children:""})]})]})})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function m3({onJoinRoom:e,onCreateRoom:t,currentUserId:n}){const[r,s]=d.useState(""),[a,i]=d.useState("participants"),[l,c]=d.useState([]),[u,f]=d.useState(!0),[h,m]=d.useState(null),[y,w]=d.useState(!1),[x,S]=d.useState(null),p=async(C=!0)=>{try{C?f(!0):w(!0),m(null);const T=await Ba.getWatchRooms({query:r,sortBy:a==="participants"?"participantCount":"createdAt"});c(T)}catch(T){console.error("   :",T),m(T instanceof Error?T.message:"     .")}finally{f(!1),w(!1)}};d.useEffect(()=>{const C=setTimeout(()=>{p(!1)},300);return()=>clearTimeout(C)},[r,a]),d.useEffect(()=>{p(!0)},[]);const g=l.filter(C=>C.headCount>=10),v=l,N=async C=>{if(!x){S(C.id);try{await(e==null?void 0:e(C))}finally{S(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs($,{onClick:()=>p(!1),disabled:y,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[y?o.jsx(Kt,{className:"w-4 h-4 animate-spin"}):o.jsx($r,{className:"w-4 h-4"}),""]}),o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ns,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx($e,{placeholder:" , ,  ...",value:r,onChange:C=>s(C.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Lh,{value:a,onValueChange:C=>i(C),children:[o.jsx($h,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Mh,{placeholder:""})}),o.jsxs(zh,{children:[o.jsx(Ln,{value:"participants",children:"  "}),o.jsx(Ln,{value:"latest",children:""}),o.jsx(Ln,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",v.length,"  "]}),o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4] border border-[#4ecdc4]/30",children:[o.jsx(_t,{className:"w-3 h-3 mr-1 inline"}),""]})]})]}),h&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:h}),o.jsx($,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Kt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!u&&!h&&o.jsxs(o.Fragment,{children:[!r&&g.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(uh,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(C=>{var T,P,k;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(T=C.contentDto)!=null&&T.thumbnailUrl?o.jsx("img",{src:C.contentDto.thumbnailUrl,alt:C.contentDto.title,className:"w-full h-full object-cover",onError:b=>{var j;b.currentTarget.style.display="none",(j=b.currentTarget.nextElementSibling)==null||j.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(P=C.contentDto)!=null&&P.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",C.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs($,{size:"sm",onClick:b=>{b.stopPropagation(),N(C)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===C.id?o.jsx(Kt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(gt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(k=C.contentDto)==null?void 0:k.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[C.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx($r,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[C.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",C.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},C.id)})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map(C=>{var T,P,k;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(T=C.contentDto)!=null&&T.thumbnailUrl?o.jsx("img",{src:C.contentDto.thumbnailUrl,alt:C.contentDto.title,className:"w-full h-full object-cover",onError:b=>{var j;b.currentTarget.style.display="none",(j=b.currentTarget.nextElementSibling)==null||j.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(P=C.contentDto)!=null&&P.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",C.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs($,{size:"sm",onClick:b=>{b.stopPropagation(),N(C)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===C.id?o.jsx(Kt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(gt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(k=C.contentDto)==null?void 0:k.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[C.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx($r,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[C.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",C.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},C.id)})})]}),v.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(_t,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:r?"  .":n?"   .":"      ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[r&&o.jsx($,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"  "}),n?o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"  "]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/40 text-sm mb-2",children:"   "}),o.jsx($,{variant:"outline",onClick:()=>window.location.reload(),className:"border-[#4ecdc4]/30 text-[#4ecdc4] hover:bg-[#4ecdc4]/10",children:""})]})]})]})]})]})})}var Ac="Switch",[p3,q3]=Tn(Ac),[g3,v3]=p3(Ac),g1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[m,y]=d.useState(null),w=Se(t,v=>y(v)),x=d.useRef(!1),S=m?f||!!m.closest("form"):!0,[p,g]=ps({prop:s,defaultProp:a??!1,onChange:u,caller:Ac});return o.jsxs(g3,{scope:n,checked:p,disabled:l,children:[o.jsx(he.button,{type:"button",role:"switch","aria-checked":p,"aria-required":i,"data-state":w1(p),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:fe(e.onClick,v=>{g(N=>!N),S&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),S&&o.jsx(y1,{control:m,bubbles:!x.current,name:r,value:c,checked:p,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});g1.displayName=Ac;var v1="SwitchThumb",x1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=v3(v1,n);return o.jsx(he.span,{"data-state":w1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});x1.displayName=v1;var x3="SwitchBubbleInput",y1=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=d.useRef(null),l=Se(i,a),c=Dh(n),u=_h(t);return d.useEffect(()=>{const f=i.current;if(!f)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&y){const w=new Event("click",{bubbles:r});y.call(f,n),f.dispatchEvent(w)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});y1.displayName=x3;function w1(e){return e?"checked":"unchecked"}var y3=g1,w3=x1;function b3({className:e,...t}){return o.jsx(y3,{"data-slot":"switch",className:be("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(w3,{"data-slot":"switch-thumb",className:be("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Mg({isOpen:e,onClose:t,onCreateWatchParty:n,content:r}){const[s,a]=d.useState(!0),[i,l]=d.useState("");d.useEffect(()=>{r&&e&&l(`${r.title} `)},[r,e]);const c=()=>{const u={isPublic:s,roomName:i||`${r==null?void 0:r.title} `};n(u)};return r?o.jsx(dc,{open:e,onOpenChange:t,children:o.jsxs(fc,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(hc,{children:o.jsxs(mc,{className:"flex items-center space-x-2",children:[o.jsx(_t,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:" "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover",onError:u=>{const f=u.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:r.title}),o.jsx("p",{className:"text-sm text-white/60",children:r.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:r.description})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(_t,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Nt,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx($e,{id:"roomName",value:i,onChange:u=>l(u.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[s?o.jsx(Rl,{className:"w-4 h-4 text-green-400"}):o.jsx(Pl,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Nt,{htmlFor:"isPublic",className:"text-sm",children:s?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:s?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(b3,{id:"isPublic",checked:s,onCheckedChange:a,disabled:!0})})]})}),o.jsxs($,{onClick:c,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!i.trim(),children:[o.jsx(_t,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})]})}):null}function $g({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:a}){const[i,l]=d.useState(""),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(""),[S,p]=d.useState(!0),[g,v]=d.useState([]),[N,C]=d.useState(!1);d.useEffect(()=>{e&&T()},[e]);const T=async()=>{try{C(!0);const A=await r();v(A)}catch(A){console.error("Error loading playlists:",A)}finally{C(!1)}},P=g.filter(A=>A.title.toLowerCase().includes(i.toLowerCase())||A.description.toLowerCase().includes(i.toLowerCase())),k=A=>{u(D=>D.includes(A)?D.filter(Y=>Y!==A):[...D,A])},b=async()=>{if(n)try{const A=c.map(D=>a(D,[n.id]));await Promise.all(A),alert(`"${n.title}"() ${c.length}  .`),u([]),l(""),t()}catch(A){console.error("   :",A),alert("     .")}},j=async()=>{if(!(!m.trim()||!n))try{const A=await s({name:m,description:w,isPublic:S});await a(A.id,[n.id]),alert(`  "${m}"()  "${n.title}"() .`),y(""),x(""),p(!0),h(!1),t()}catch(A){console.error("Error creating playlist:",A),alert("    .")}},I=()=>{u([]),l(""),h(!1),y(""),x(""),p(!0)},E=()=>{I(),t()};return n?o.jsx(dc,{open:e,onOpenChange:E,children:o.jsxs(fc,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(hc,{children:o.jsx(mc,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(Xe,{className:"h-12 w-12 rounded-lg",children:[o.jsx(qe,{src:n.thumbnail,className:"object-cover"}),o.jsx(Qe,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"":n.type==="tv"?"TV":"","  ",n.year]})]})]}),f?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx($e,{placeholder:" ",value:m,onChange:A=>y(A.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx($e,{placeholder:" ()",value:w,onChange:A=>x(A.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[S?o.jsx(Rl,{className:"w-4 h-4 text-green-400"}):o.jsx(Pl,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:S?"":""})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>p(!S),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:()=>h(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx($,{onClick:j,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx($e,{placeholder:" ...",value:i,onChange:A=>l(A.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs($,{variant:"outline",onClick:()=>h(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:N?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):P.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:i?"  ":" "}):P.map(A=>o.jsxs("div",{onClick:()=>k(A.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(A.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(Xe,{className:"h-10 w-10 rounded-lg",children:[o.jsx(qe,{src:A.thumbnail,className:"object-cover"}),o.jsx(Qe,{children:A.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:A.title}),A.isPublic?o.jsx(Rl,{className:"w-3 h-3 text-green-400"}):o.jsx(Pl,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[A.contentCount," "]})]}),c.includes(A.id)&&o.jsx(Js,{className:"w-5 h-5 text-[#4ecdc4]"})]},A.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:E,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs($,{onClick:b,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function zg({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState("all"),[c,u]=d.useState(null),[f,h]=d.useState(""),[m,y]=d.useState("select"),[w,x]=d.useState(!1),[S,p]=d.useState(null),[g,v]=d.useState([]),[N,C]=d.useState(!1),[T,P]=d.useState(!1),[k,b]=d.useState(),[j,I]=d.useState(!1),E=async(_=!1)=>{try{_?I(!0):C(!0),p(null);const F=await is.getContents({type:i==="all"?void 0:i.toUpperCase(),query:s||void 0,cursor:_?k:void 0,size:20});v(_?V=>[...V,...F.data]:F.data),P(F.hasNext),b(F.nextCursor)}catch(F){console.error("  :",F),p(F instanceof Error?F.message:"    .")}finally{C(!1),I(!1)}};d.useEffect(()=>{e&&E(!1)},[e]),d.useEffect(()=>{if(!e)return;const _=setTimeout(()=>{E(!1)},300);return()=>clearTimeout(_)},[s,i,e]);const A=()=>{T&&!N&&!j&&E(!0)},D=_=>{u(_),h(`${_.title} `),y("create"),p(null)},Y=async()=>{if(!c||!f.trim()){p("  .");return}x(!0),p(null);try{const _={contentId:c.id,ownerId:r,title:f.trim()},F=await Ba.createWatchRoom(_),V=`room-content-${F.id}`;localStorage.setItem(V,JSON.stringify({contentId:c.id,contentData:c,savedAt:Date.now()})),n(F),R()}catch(_){console.error("  :",_),p(_ instanceof Error?_.message:"    .")}finally{x(!1)}},R=()=>{a(""),l("all"),u(null),h(""),y("select"),x(!1),p(null),v([]),C(!1),P(!1),b(void 0),I(!1),t()},O=_=>{switch(_){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:m,selectedContent:c,loading:N}),o.jsx(dc,{open:e,onOpenChange:R,children:o.jsxs(fc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(hc,{children:o.jsx(mc,{className:"text-xl",children:m==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),m==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ns,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx($e,{placeholder:" ...",value:s,onChange:_=>a(_.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(Lh,{value:i,onValueChange:l,children:[o.jsx($h,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Mh,{placeholder:""})}),o.jsxs(zh,{children:[o.jsx(Ln,{value:"all",children:""}),o.jsx(Ln,{value:"movie",children:""}),o.jsx(Ln,{value:"tv",children:"TV/"}),o.jsx(Ln,{value:"sports",children:""})]})]})]}),N&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Kt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),S&&!N&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:S}),o.jsx($,{onClick:()=>E(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!N&&!S&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[g.map(_=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>D(_),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:_.thumbnail||_.thumbnailUrl,alt:_.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:F=>{const V=F.target;V.style.display="none";const U=V.parentElement;if(U&&!U.querySelector(".image-fallback")){const ee=document.createElement("div");ee.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",ee.textContent=_.title.charAt(0).toUpperCase(),U.appendChild(ee)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:w,children:[o.jsx(gt,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:_.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:_.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[(_.avgRating||_.rating)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Br,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs",children:_.avgRating||_.rating})]}),o.jsx(an,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:O(_.contentType)})]})]})]},_.id)),T&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx($,{onClick:A,disabled:j||w,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:j?o.jsxs(o.Fragment,{children:[o.jsx(Kt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!N&&!S&&g.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx($,{variant:"outline",onClick:()=>{a(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail||c.thumbnailUrl,alt:c.title,className:"w-full h-full object-cover",onError:_=>{const F=_.target;F.style.display="none";const V=F.parentElement;if(V&&!V.querySelector(".image-fallback")){const U=document.createElement("div");U.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",U.textContent=c.title.charAt(0).toUpperCase(),V.appendChild(U)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[(c.avgRating||c.rating)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Br,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:c.avgRating||c.rating})]}),o.jsx(an,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:O(c.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:" "}),o.jsx($e,{id:"room-title",placeholder:"  ...",value:f,onChange:_=>h(_.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[f.length,"/50"]})]}),S&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:S})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{y("select"),u(null),h(""),p(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:w,children:""}),o.jsx($,{onClick:Y,disabled:!c||!f.trim()||w,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:w?o.jsxs(o.Fragment,{children:[o.jsx(Kt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var Ru="rovingFocusGroup.onEntryFocus",S3={bubbles:!1,cancelable:!0},ni="RovingFocusGroup",[rf,b1,N3]=Nh(ni),[j3,S1]=Tn(ni,[N3]),[C3,k3]=j3(ni),N1=d.forwardRef((e,t)=>o.jsx(rf.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(rf.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(E3,{...e,ref:t})})}));N1.displayName=ni;var E3=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,m=d.useRef(null),y=Se(t,m),w=Wa(a),[x,S]=ps({prop:i,defaultProp:l??null,onChange:c,caller:ni}),[p,g]=d.useState(!1),v=St(u),N=b1(n),C=d.useRef(!1),[T,P]=d.useState(0);return d.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Ru,v),()=>k.removeEventListener(Ru,v)},[v]),o.jsx(C3,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(k=>S(k),[S]),onItemShiftTab:d.useCallback(()=>g(!0),[]),onFocusableItemAdd:d.useCallback(()=>P(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>P(k=>k-1),[]),children:o.jsx(he.div,{tabIndex:p||T===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{C.current=!0}),onFocus:fe(e.onFocus,k=>{const b=!C.current;if(k.target===k.currentTarget&&b&&!p){const j=new CustomEvent(Ru,S3);if(k.currentTarget.dispatchEvent(j),!j.defaultPrevented){const I=N().filter(R=>R.focusable),E=I.find(R=>R.active),A=I.find(R=>R.id===x),Y=[E,A,...I].filter(Boolean).map(R=>R.ref.current);k1(Y,f)}}C.current=!1}),onBlur:fe(e.onBlur,()=>g(!1))})})}),j1="RovingFocusGroupItem",C1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=zr(),u=a||c,f=k3(j1,n),h=f.currentTabStopId===u,m=b1(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=f;return d.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),o.jsx(rf.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(he.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:fe(e.onMouseDown,S=>{r?f.onItemFocus(u):S.preventDefault()}),onFocus:fe(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:fe(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const p=P3(S,f.orientation,f.dir);if(p!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let v=m().filter(N=>N.focusable).map(N=>N.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const N=v.indexOf(S.currentTarget);v=f.loop?_3(v,N+1):v.slice(N+1)}setTimeout(()=>k1(v))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:x!=null}):i})})});C1.displayName=j1;var T3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function P3(e,t,n){const r=R3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return T3[r]}function k1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function _3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var A3=N1,I3=C1,Ic="Tabs",[D3,Q3]=Tn(Ic,[S1]),E1=S1(),[O3,dm]=D3(Ic),T1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Wa(l),[h,m]=ps({prop:r,onChange:s,defaultProp:a??"",caller:Ic});return o.jsx(O3,{scope:n,baseId:zr(),value:h,onValueChange:m,orientation:i,dir:f,activationMode:c,children:o.jsx(he.div,{dir:f,"data-orientation":i,...u,ref:t})})});T1.displayName=Ic;var R1="TabsList",P1=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=dm(R1,n),i=E1(n);return o.jsx(A3,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(he.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});P1.displayName=R1;var _1="TabsTrigger",A1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=dm(_1,n),l=E1(n),c=O1(i.baseId,r),u=L1(i.baseId,r),f=r===i.value;return o.jsx(I3,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(he.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:fe(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:fe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:fe(e.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(r)})})})});A1.displayName=_1;var I1="TabsContent",D1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=dm(I1,n),c=O1(l.baseId,r),u=L1(l.baseId,r),f=r===l.value,h=d.useRef(f);return d.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(mr,{present:s||f,children:({present:m})=>o.jsx(he.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});D1.displayName=I1;function O1(e,t){return`${e}-trigger-${t}`}function L1(e,t){return`${e}-content-${t}`}var L3=T1,M3=P1,$3=A1,z3=D1;function F3({className:e,...t}){return o.jsx(L3,{"data-slot":"tabs",className:be("flex flex-col gap-2",e),...t})}function U3({className:e,...t}){return o.jsx(M3,{"data-slot":"tabs-list",className:be("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Pu({className:e,...t}){return o.jsx($3,{"data-slot":"tabs-trigger",className:be("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function _u({className:e,...t}){return o.jsx(z3,{"data-slot":"tabs-content",className:be("flex-1 outline-none",e),...t})}function B3({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s}){const[a,i]=d.useState(null),[l,c]=d.useState([]),[u,f]=d.useState([]),[h,m]=d.useState([]),[y,w]=d.useState(!1),[x,S]=d.useState(!0),[p,g]=d.useState(null),[v,N]=d.useState(!1),C=e===t,T=async()=>{try{console.log("   :",e);const E=await r(`http://localhost:8080/api/users/${e}`);if(console.log("   :",{status:E.status,statusText:E.statusText,headers:Object.fromEntries(E.headers.entries())}),!E.ok){const D=await E.text();throw console.error("   :",{status:E.status,statusText:E.statusText,errorText:D}),new Error(`   . (${E.status})`)}const A=await E.json();console.log("   :",A),i(A)}catch(E){console.error("   :",E),g(E instanceof Error?E.message:"    .")}},P=async()=>{try{const E=await r(`http://localhost:8080/api/follows/${e}/followers`);if(!E.ok)throw new Error("   .");const A=await E.json();c(A)}catch(E){console.error("   :",E)}},k=async()=>{try{const E=await r(`http://localhost:8080/api/follows/${e}/following`);if(!E.ok)throw new Error("   .");const A=await E.json();f(A)}catch(E){console.error("   :",E)}},b=async()=>{try{const E=await r(`http://localhost:8080/api/users/${e}/playlists`);if(!E.ok)throw new Error("  .");const A=await E.json();m(A)}catch(E){console.error("  :",E),m([])}},j=async()=>{if(!(!t||C))try{const E=await r(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!E.ok)throw new Error("   .");const A=await E.json();w(A)}catch(E){console.error("   :",E),w(!1)}},I=async()=>{if(!(!t||C)){N(!0);try{if(y){if(!(await r(`http://localhost:8080/api/follows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");w(!1),c(A=>A.filter(D=>D.id!==t))}else{const E=new FormData;if(E.append("followerId",t),E.append("followingId",e),!(await r(`http://localhost:8080/api/follows/${e}`,{method:"POST"})).ok)throw new Error(" .");w(!0),a&&c(D=>[...D,{id:t,name:"",email:"",profileImage:""}])}}catch(E){console.error("  :",E),alert(E instanceof Error?E.message:"    .")}finally{N(!1)}}};return d.useEffect(()=>{e&&(async()=>{S(!0),g(null),await Promise.allSettled([T(),P(),k(),t?j():Promise.resolve(),b()]),S(!1)})()},[e,t]),x?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):p?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:p}),o.jsx($,{onClick:n,variant:"outline",children:""})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(yo,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(Xe,{className:"h-32 w-32",children:[o.jsx(qe,{src:a.profileImage}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:l.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:u.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:h.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!C&&o.jsx($,{onClick:I,disabled:v,className:`${y?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:v?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):y?o.jsxs(o.Fragment,{children:[o.jsx(yy,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(dh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(F3,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(U3,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(Pu,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Pp,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Pu,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(_t,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Pu,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(cr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(_u,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(E=>{var A;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:E.name||E.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:E.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((A=E.contents)==null?void 0:A.length)||E.itemCount||0," "]})]})]},E.id)})}),h.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pp,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(_u,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(Xe,{className:"h-12 w-12",children:[o.jsx(qe,{src:E.profileImage}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),l.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(_t,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(_u,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(Xe,{className:"h-12 w-12",children:[o.jsx(qe,{src:E.profileImage}),o.jsx(Qe,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),u.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(cr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx($,{onClick:n,variant:"outline",children:""})]})})}function W3(){const[e,t]=d.useState(()=>{const z=localStorage.getItem("currentPage")||"home";return console.log("   :",z),z}),[n,r]=d.useState(!1),[s,a]=d.useState(null),i=z=>{try{if(!z||typeof z!="string")return console.error("  :",z),null;const H=z.split(".");if(H.length!==3)return console.error(" JWT :",z),null;const K=JSON.parse(atob(H[1])),J=K.userId||K.sub||K.id||null;return J||console.error("  ID   :",K),J}catch(H){return console.error("JWT   :",H,"Token:",z),null}},l=z=>{try{const H=JSON.parse(atob(z.split(".")[1])),K=Date.now()/1e3,J=H.exp,ue=5,Le=J<K+ue;return console.log("  :",{currentTime:K,expTime:J,bufferTime:ue,isExpired:Le,timeUntilExpiry:J-K,payload:{...H,userId:H.userId||H.sub||H.id}}),Le}catch(H){return console.error("   :",H),!0}},c=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),a(null),r(!1),t("home")},u=(z,H=300)=>{try{const K=JSON.parse(atob(z.split(".")[1])),J=Date.now()/1e3,ue=K.iat;return ue&&J-ue<H}catch(K){return console.error("    :",K),!1}},f=d.useRef(null),h=async()=>f.current?(console.log("    .   ."),f.current):(f.current=(async()=>{try{console.log("  ");const z=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",credentials:"include"});if(!z.ok)return console.log(`  : ${z.status} ${z.statusText}`),z.status===401?console.log("Refresh token ."):z.status===500&&console.log("    "),null;const H=await z.text();if(!H||H.trim()==="")return console.log("    "),null;const K=H.replace(/"/g,"");return console.log("  "),K}catch(z){return console.error("Token refresh :",z),null}finally{f.current=null}})(),f.current),m=async(z,H={})=>{let K=localStorage.getItem("accessToken");const J=K?i(K):null;if(console.log("authenticatedFetch :",{url:z,accessToken:K?" ":" ",userIdFromToken:J,currentUserId:s}),!K)throw console.error("  .  ."),c(),new Error("  .");if(l(K)&&!u(K)){console.log("   .");const tn=await h();if(tn){localStorage.setItem("accessToken",tn),K=tn;const Ro=i(tn);Ro&&a(Ro)}else throw c(),new Error(" .  .")}else l(K)&&u(K)&&console.log("    .");const Pn={"Content-Type":"application/json",...["http://localhost:8080/api/auth/login","http://localhost:8080/api/auth/refresh","http://localhost:8080/api/auth/change-password","http://localhost:8080/api/auth/temp-password","http://localhost:8080/api/users"].some(tn=>z.startsWith(tn))?{}:{Authorization:`Bearer ${K}`},...H.headers||{}},si=await fetch(z,{...H,headers:Pn,credentials:"include"});if(si.status===401){console.log("401  ,   ");const tn=await h();if(tn){localStorage.setItem("accessToken",tn),K=tn;const Ro=i(tn);Ro&&a(Ro),console.log("  ,  ");const M1={...Pn,Authorization:`Bearer ${tn}`};return fetch(z,{...H,headers:M1,credentials:"include"})}else throw console.log("  ,  "),c(),new Error(" .  .")}if(si.status===403)throw console.log(" ."),new Error("    .");if(si.status===404)throw new Error("    .");return si},y=async z=>{try{await m(`http://localhost:8080/api/notifications/${z}`,{method:"DELETE"})}catch(H){throw console.error("  :",H),H}},w=async()=>{try{await m("http://localhost:8080/api/notifications",{method:"DELETE"})}catch(z){throw console.error("   :",z),z}},x=async()=>{try{const z=await m("http://localhost:8080/api/dmRooms/");if(!z.ok)throw new Error("DM    ");return await z.json()}catch(z){throw console.error("DM    :",z),z}},S=async z=>{try{const H=await m(`http://localhost:8080/api/dmRooms/userRoom?userB=${z}`);if(!H.ok)throw new Error("DM  / ");return await H.json()}catch(H){throw console.error("DM  / :",H),H}},p=async(z,H)=>{try{const K=new URLSearchParams;H!=null&&H.cursor&&K.append("cursor",H.cursor),H!=null&&H.size&&K.append("size",H.size.toString());const J=await m(`http://localhost:8080/api/dmRooms/${z}/dms?${K}`);if(!J.ok)throw new Error("DM    ");return await J.json()}catch(K){throw console.error("DM    :",K),K}},g=async(z,H="all")=>{try{let K,J;if(H==="subscribed")K="http://localhost:8080/api/playlists/subscribed";else if(z&&z.trim()!==""){const Le=new URLSearchParams;Le.append("keyword",z.trim()),K=`http://localhost:8080/api/playlists/search?${Le}`}else K="http://localhost:8080/api/playlists";if(console.log(" API :",K),J=await m(K),console.log("  :",J.status,J.statusText),!J.ok){let Le="   ";try{const xt=await J.text();console.error("  :",xt),Le=`${J.status} ${J.statusText}: ${xt}`}catch(xt){console.error("   :",xt)}throw new Error(Le)}const ue=await J.json();return console.log("  :",{url:K,status:J.status,dataType:Array.isArray(ue)?` (: ${ue.length})`:typeof ue,data:Array.isArray(ue)&&ue.length>0?ue.slice(0,2):ue,headers:Object.fromEntries(J.headers.entries())}),Array.isArray(ue)&&z&&z.trim()!==""?ue.filter(xt=>xt.userId===s?!0:xt.isPublic===!0):ue}catch(K){throw console.error("    :",K),K}},v=async z=>{try{const H=`http://localhost:8080/api/playlists/${z}`;console.log("   API :",H);const K=await m(H);if(console.log("  :",K.status,K.statusText),!K.ok){let ue="  ";try{const Le=await K.text();console.error("  :",Le),ue=`${K.status} ${K.statusText}: ${Le}`}catch(Le){console.error("   :",Le)}throw new Error(ue)}const J=await K.json();return console.log("   :",{url:H,status:K.status,data:J}),J}catch(H){throw console.error("   :",H),H}},N=async z=>{var H,K;try{if(!z.name||z.name.trim()==="")throw new Error("  .");if(!s)throw new Error(" .");const J={name:z.name.trim(),description:z.description||"",isPublic:z.isPublic??!0};console.log("   :",J);const ue=await m("http://localhost:8080/api/playlists",{method:"POST",body:JSON.stringify(J)});if(console.log("    :",ue.status,ue.statusText),!ue.ok){let xt="  ";try{const Pn=await ue.json();console.error("   :",Pn),xt=Pn.message||xt}catch(Pn){console.error("Error parsing error response:",Pn)}throw new Error(xt)}const Le=await ue.json();return console.log("   :",{createdPlaylist:Le,createdBy:(H=Le.user)==null?void 0:H.id,createdByName:(K=Le.user)==null?void 0:K.name,currentUserId:s}),Le}catch(J){throw console.error("  :",J),J}},C=async(z,H)=>{try{if(!H||H.length===0)throw new Error("  .");const K={contentIds:H},J=await m(`http://localhost:8080/api/playlists/${z}/contents`,{method:"POST",body:JSON.stringify(K)});if(!J.ok){let xt="   ";try{xt=(await J.json()).message||xt}catch(Pn){console.error("Error parsing error response:",Pn)}throw new Error(xt)}let ue=null;const Le=await J.text();return Le&&(ue=JSON.parse(Le)),console.log("   :",ue),ue}catch(K){throw console.error("   :",K),K}},T=async(z,H)=>{try{if(!H||H.length===0)throw new Error("  .");const K={contentIds:H},J=await m(`http://localhost:8080/api/playlists/${z}/contents`,{method:"DELETE",body:JSON.stringify(K)});if(!J.ok){let ue="   ";try{ue=(await J.json()).message||ue}catch(Le){console.error("Error parsing error response:",Le)}throw new Error(ue)}console.log("   ")}catch(K){throw console.error("   :",K),K}},P=async z=>{try{if(!s)throw new Error(" ");console.log("   :",{userId:s,playlistId:z});const H={userId:s,playlistId:z};console.log("   :",H);const K=await m("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(console.log("   :",K.status,K.statusText),!K.ok){let J="  ";try{J=(await K.json()).message||J}catch(ue){console.error("Error parsing error response:",ue)}throw new Error(J)}console.log("  ")}catch(H){throw console.error("  :",H),H}},k=async z=>{try{console.log("    :",{subscriptionId:z});const H=await m(`http://localhost:8080/api/subscriptions/${z}`,{method:"DELETE"});if(console.log("    :",H.status,H.statusText),!H.ok){let K="   ";try{K=(await H.json()).message||K}catch(J){console.error("Error parsing error response:",J)}throw new Error(K)}console.log("   ")}catch(H){throw console.error("   :",H),H}},[b,j]=d.useState(null),[I,E]=d.useState(null),[A,D]=d.useState(null),[Y,R]=d.useState(!1),[O,_]=d.useState(!1),[F,V]=d.useState(null),[U,ee]=d.useState(!1),[te,ce]=d.useState(!1),[Te,Ce]=d.useState(null),[oe,ie]=d.useState(!1),[de,pe]=d.useState(null),[le,ve]=d.useState(!1),[ye,ze]=d.useState(null),[Q,L]=d.useState(!1),[G,Z]=d.useState(null),[X,M]=d.useState(!1);d.useEffect(()=>{(async()=>{const K=new URLSearchParams(window.location.search).get("access_token");if(K){console.log(" OAuth  accessToken     "),localStorage.setItem("accessToken",K);const ue=i(K);ue&&(a(ue),r(!0)),window.history.replaceState({},"","/");return}const J=localStorage.getItem("accessToken");if(J){if(l(J)){console.log("      "),c();return}const ue=i(J);ue?(a(ue),r(!0)):(console.log(" accessToken userId  "),localStorage.removeItem("accessToken"),c())}})()},[]),d.useEffect(()=>{if(!n)return;const H=setInterval(async()=>{const K=localStorage.getItem("accessToken");if(K&&l(K)){console.log("  ,  ");const J=await h();if(J){localStorage.setItem("accessToken",J);const ue=i(J);ue&&a(ue),console.log("  ")}else console.log("  ,  "),c()}},3e4);return()=>clearInterval(H)},[n]);const B=z=>{localStorage.setItem("accessToken",z);const H=i(z);H?a(H):(localStorage.removeItem("accessToken"),r(!1)),r(!0)},ne=z=>{if(console.log("  :",z),z==="create-room"){L(!0);return}t(z),localStorage.setItem("currentPage",z);const H={page:z,selectedPlaylistId:b,selectedContentDetail:I,selectedUserId:A,currentWatchRoomId:G};window.history.pushState(H,"",window.location.pathname),console.log("   :",H),z!=="playlist-detail"&&j(null),z!=="watch-party"&&Z(null),z!=="content-detail"&&E(null),z!=="user-profile"&&D(null)};d.useEffect(()=>{localStorage.setItem("currentPage",e)},[e]),d.useEffect(()=>{const z=K=>{if(console.log(" popstate  :",K.state),K.state){console.log("    :",K.state);const J=K.state.page||"home";["watch-party","content-detail","user-profile"].includes(J)?J==="watch-party"&&!K.state.currentWatchRoomId?(console.log("    ID    "),t("live"),localStorage.setItem("currentPage","live")):J==="content-detail"&&!K.state.selectedContentDetail?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):J==="user-profile"&&!K.state.selectedUserId?(console.log("     ID   "),t("home"),localStorage.setItem("currentPage","home")):(t(J),localStorage.setItem("currentPage",J)):(t(J),localStorage.setItem("currentPage",J)),j(K.state.selectedPlaylistId||null),E(K.state.selectedContentDetail||null),D(K.state.selectedUserId||null),Z(K.state.currentWatchRoomId||null)}else{const J=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",J),["watch-party","content-detail","user-profile"].includes(J)?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):t(J),j(null),E(null),D(null),Z(null)}};return(()=>{const K=["watch-party","content-detail","user-profile"];let J=e;K.includes(e)&&(e==="watch-party"&&!G||e==="content-detail"&&!I||e==="user-profile"&&!A)&&(J="home");const ue={page:J,selectedPlaylistId:b,selectedContentDetail:I,selectedUserId:A,currentWatchRoomId:G};J!==e&&(t(J),localStorage.setItem("currentPage",J),console.log("     :",e,"->",J)),window.history.replaceState(ue,"",window.location.pathname),console.log("    :",ue)})(),window.addEventListener("popstate",z),()=>{window.removeEventListener("popstate",z)}},[]);const Ee=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),a(null),r(!1),t("home")},xe=()=>{R(!Y)},Ne=async()=>{const z=prompt("    :");if(!(z!=null&&z.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.trim())){alert("   .");return}try{const K=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:z.trim()})});if(!K.ok){let J="   .";try{J=(await K.json()).message||J}catch(ue){console.error("Error parsing error response:",ue)}throw new Error(J)}alert(`${z}   .
       .`)}catch(K){console.error("   :",K),alert(K instanceof Error?K.message:"     .")}},we=z=>{j(z),t("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const H={page:"playlist-detail",selectedPlaylistId:z,selectedContentDetail:I,selectedUserId:A,currentWatchRoomId:G};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},ge=()=>{j(null),t("playlist"),localStorage.setItem("currentPage","playlist");const z={page:"playlist",selectedPlaylistId:null,selectedContentDetail:I,selectedUserId:A,currentWatchRoomId:G};window.history.pushState(z,"",window.location.pathname),console.log("    :",z)},Ae=z=>{E(z),t("content-detail"),localStorage.setItem("currentPage","content-detail");const H={page:"content-detail",selectedPlaylistId:b,selectedContentDetail:z,selectedUserId:A,currentWatchRoomId:G};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},Ot=()=>{let z="home";I&&(z={movie:"movies",tv:"tv",sports:"sports"}[I.type]||"home"),E(null),t(z),localStorage.setItem("currentPage",z);const H={page:z,selectedPlaylistId:b,selectedContentDetail:null,selectedUserId:A,currentWatchRoomId:G};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},Zt=z=>{const H={...z,year:z.year||2024,rating:z.rating||4};ze(H),ve(!0)},st=()=>{ve(!1),ze(null)},Ie=z=>{pe(z),ie(!0)},ft=async z=>{if(!de)return;const H=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",z),console.log("Room code:",H);try{if(console.log("  :",{config:z,selectedContent:de}),!s){alert(" .");return}const K={contentId:de.id,ownerId:s,title:z.roomName},J=await Ba.createWatchRoom(K);console.log("  :",J),Z(J.id),M(!0),t("watch-party"),localStorage.setItem("currentPage","watch-party"),console.log("  :",{roomId:J.id})}catch(K){console.error("  :",K),alert("  .  .")}ie(!1),pe(null)},kt=z=>{Z(z.id),M(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const H={page:"watch-party",selectedPlaylistId:b,selectedContentDetail:I,selectedUserId:A,currentWatchRoomId:z.id};window.history.pushState(H,"",window.location.pathname),console.log("    :",H)},W=z=>{Z(z.id),M(!0),L(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const H={page:"watch-party",selectedPlaylistId:b,selectedContentDetail:I,selectedUserId:A,currentWatchRoomId:z.id};window.history.pushState(H,"",window.location.pathname),console.log("    :",H)},me=()=>{Z(null),M(!1),t("live"),localStorage.setItem("currentPage","live");const z={page:"live",selectedPlaylistId:b,selectedContentDetail:I,selectedUserId:A,currentWatchRoomId:null};window.history.pushState(z,"",window.location.pathname),console.log("    :",z)},Oe=()=>{L(!0)},re=()=>{L(!1)},Je=()=>{V(null),_(!0)},Lt=()=>{_(!1),V(null)},Jr=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},ct=z=>{D(z),t("user-profile"),localStorage.setItem("currentPage","user-profile");const H={page:"user-profile",selectedPlaylistId:b,selectedContentDetail:I,selectedUserId:z,currentWatchRoomId:G};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},ri=()=>{s&&ct(s)},To=()=>{D(null),t("home"),localStorage.setItem("currentPage","home");const z={page:"home",selectedPlaylistId:b,selectedContentDetail:I,selectedUserId:null,currentWatchRoomId:G};window.history.pushState(z,"",window.location.pathname),console.log("     :",z)},Zr=()=>{te?(ce(!1),Ce(null),ee(!0)):ee(!U)},et=()=>{ee(!1)},Ge=()=>{ee(!1),ce(!1),Ce(null)},Et=z=>{Ce(z),ee(!1),ce(!0)},Tt=()=>{ce(!1),Ce(null)},ht=()=>{ce(!1),Ce(null),ee(!0)},ot=()=>{(U||te)&&Ge()},hn=window.location.pathname==="/oauth/callback";if(!n&&!hn)return console.log("   :",{isLoggedIn:n,accessToken:localStorage.getItem("accessToken"),userId:s}),o.jsx("div",{children:o.jsx(Ak,{onLogin:B,onToggleAuth:xe,onForgotPassword:Ne,isRegister:Y})});const en=()=>{switch(console.log("  :",e),e){case"curation":return o.jsx(zk,{onContentPlay:Ie,onContentDetail:Ae,onAddToPlaylist:Zt,userId:s||void 0});case"movies":return o.jsx(yu,{category:"movies",onContentPlay:Ie,onContentDetail:Ae,onAddToPlaylist:Zt});case"tv":return o.jsx(yu,{category:"tv",onContentPlay:Ie,onContentDetail:Ae,onAddToPlaylist:Zt});case"sports":return o.jsx(yu,{category:"sports",onContentPlay:Ie,onContentDetail:Ae,onAddToPlaylist:Zt});case"playlist":return o.jsx(Up,{onPlaylistOpen:we,getPlaylists:g,createPlaylist:N,subscribePlaylist:P,unsubscribePlaylist:k,currentUserId:s||void 0,onUserProfileOpen:ct});case"playlist-detail":return b?o.jsx(d4,{playlistId:b,onBack:ge,onContentPlay:Ie,getPlaylistById:v,addPlaylistContents:C,deletePlaylistContents:T}):o.jsx(Up,{onPlaylistOpen:we,getPlaylists:g,createPlaylist:N});case"content-detail":return I?o.jsx(SR,{content:I,onBack:Ot,onPlay:Ie,currentUser:s?{id:s,name:"",avatar:void 0}:void 0}):o.jsx(ji,{onPageChange:ne,onPlaylistOpen:we,onContentPlay:Ie,onJoinRoom:kt});case"watch-party":return G&&s?o.jsx(h3,{roomId:G,userId:s,onBack:me,shouldConnect:X,onUserProfileOpen:ct}):o.jsx(ji,{onPageChange:ne,onPlaylistOpen:we,onContentPlay:Ie,onJoinRoom:kt});case"user-profile":return A?o.jsx(B3,{userId:A,currentUserId:s,onBack:To,authenticatedFetch:m,onUserProfileOpen:ct},A):o.jsx(ji,{onPageChange:ne,onPlaylistOpen:we,onContentPlay:Ie,onJoinRoom:kt});case"live":return o.jsx(m3,{onJoinRoom:kt,onCreateRoom:Oe,currentUserId:s});default:return o.jsx(ji,{onPageChange:ne,onPlaylistOpen:we,onContentPlay:Ie,onJoinRoom:kt})}};return e==="watch-party"||e==="content-detail"||e==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[en(),o.jsx(Mg,{isOpen:oe,onClose:()=>ie(!1),onCreateWatchParty:ft,content:de}),o.jsx($g,{isOpen:le,onClose:st,content:ye,getPlaylists:g,createPlaylist:N,addPlaylistContents:C}),o.jsx(zg,{isOpen:Q,onClose:re,onCreateRoom:W,userId:s||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(Nk,{currentPage:e,onPageChange:ne,onProfileClick:Je,onMyProfileClick:ri,onCloseDM:Ge,onLogout:Ee,authenticatedFetch:m,userId:s,refreshUserProfile:Jr,deleteNotification:y,deleteAllNotifications:w,refreshAccessToken:async()=>null}),o.jsx("main",{className:"flex-1",onClick:ot,children:en()}),o.jsx(jk,{}),o.jsx(NR,{isOpen:O,onClose:Lt,userId:s,targetUserId:F,authenticatedFetch:m,onUserProfileOpen:ct,refreshUserProfile:Jr,onPlaylistOpen:we}),o.jsx(HR,{isOpen:U,onClose:et,onOpenChat:Et,authenticatedFetch:m,currentUserId:s,getDmRooms:x,getOrCreateDmRoom:S}),o.jsx(UA,{isOpen:te,onClose:Tt,onBack:ht,user:Te,currentUserId:s,getDmMessages:p}),o.jsx(Mg,{isOpen:oe,onClose:()=>ie(!1),onCreateWatchParty:ft,content:de}),o.jsx($g,{isOpen:le,onClose:st,content:ye,getPlaylists:g,createPlaylist:N,addPlaylistContents:C}),o.jsx(zg,{isOpen:Q,onClose:re,onCreateRoom:W,userId:s||""}),o.jsx($,{size:"lg",onClick:Zr,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${U||te?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(Ed,{className:"w-6 h-6"})})]})}Au.createRoot(document.getElementById("root")).render(o.jsx(qn.StrictMode,{children:o.jsx(MC,{children:o.jsx(W3,{})})}));
