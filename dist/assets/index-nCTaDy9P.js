var nS=Object.defineProperty;var rS=(e,t,n)=>t in e?nS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pt=(e,t,n)=>rS(e,typeof t!="symbol"?t+"":t,n);function sS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var oS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fg={exports:{}},Yl={},Bg={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),aS=Symbol.for("react.portal"),iS=Symbol.for("react.fragment"),lS=Symbol.for("react.strict_mode"),cS=Symbol.for("react.profiler"),uS=Symbol.for("react.provider"),dS=Symbol.for("react.context"),fS=Symbol.for("react.forward_ref"),hS=Symbol.for("react.suspense"),mS=Symbol.for("react.memo"),pS=Symbol.for("react.lazy"),dm=Symbol.iterator;function gS(e){return e===null||typeof e!="object"?null:(e=dm&&e[dm]||e["@@iterator"],typeof e=="function"?e:null)}var Ug={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wg=Object.assign,Hg={};function yo(e,t,n){this.props=e,this.context=t,this.refs=Hg,this.updater=n||Ug}yo.prototype.isReactComponent={};yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vg(){}Vg.prototype=yo.prototype;function uf(e,t,n){this.props=e,this.context=t,this.refs=Hg,this.updater=n||Ug}var df=uf.prototype=new Vg;df.constructor=uf;Wg(df,yo.prototype);df.isPureReactComponent=!0;var fm=Array.isArray,Kg=Object.prototype.hasOwnProperty,ff={current:null},Gg={key:!0,ref:!0,__self:!0,__source:!0};function Yg(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Kg.call(t,r)&&!Gg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ba,type:e,key:a,ref:i,props:s,_owner:ff.current}}function vS(e,t){return{$$typeof:Ba,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ba}function xS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hm=/\/+/g;function Oc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xS(""+e.key):t.toString(36)}function Ki(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ba:case aS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Oc(i,0):r,fm(s)?(n="",e!=null&&(n=e.replace(hm,"$&/")+"/"),Ki(s,t,n,"",function(u){return u})):s!=null&&(hf(s)&&(s=vS(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(hm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",fm(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Oc(a,l);i+=Ki(a,t,n,c,s)}else if(c=gS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Oc(a,l++),i+=Ki(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ui(e,t,n){if(e==null)return e;var r=[],s=0;return Ki(e,r,"","",function(a){return t.call(n,a,s++)}),r}function yS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},Gi={transition:null},wS={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Gi,ReactCurrentOwner:ff};function Xg(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:ui,forEach:function(e,t,n){ui(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ui(e,function(){t++}),t},toArray:function(e){return ui(e,function(t){return t})||[]},only:function(e){if(!hf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=yo;De.Fragment=iS;De.Profiler=cS;De.PureComponent=uf;De.StrictMode=lS;De.Suspense=hS;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wS;De.act=Xg;De.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wg({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ff.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Kg.call(t,c)&&!Gg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ba,type:e.type,key:s,ref:a,props:r,_owner:i}};De.createContext=function(e){return e={$$typeof:dS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uS,_context:e},e.Consumer=e};De.createElement=Yg;De.createFactory=function(e){var t=Yg.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:fS,render:e}};De.isValidElement=hf;De.lazy=function(e){return{$$typeof:pS,_payload:{_status:-1,_result:e},_init:yS}};De.memo=function(e,t){return{$$typeof:mS,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Gi.transition;Gi.transition={};try{e()}finally{Gi.transition=t}};De.unstable_act=Xg;De.useCallback=function(e,t){return Ft.current.useCallback(e,t)};De.useContext=function(e){return Ft.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};De.useEffect=function(e,t){return Ft.current.useEffect(e,t)};De.useId=function(){return Ft.current.useId()};De.useImperativeHandle=function(e,t,n){return Ft.current.useImperativeHandle(e,t,n)};De.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Ft.current.useMemo(e,t)};De.useReducer=function(e,t,n){return Ft.current.useReducer(e,t,n)};De.useRef=function(e){return Ft.current.useRef(e)};De.useState=function(e){return Ft.current.useState(e)};De.useSyncExternalStore=function(e,t,n){return Ft.current.useSyncExternalStore(e,t,n)};De.useTransition=function(){return Ft.current.useTransition()};De.version="18.3.1";Bg.exports=De;var d=Bg.exports;const ae=cf(d),qg=sS({__proto__:null,default:ae},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS=d,SS=Symbol.for("react.element"),NS=Symbol.for("react.fragment"),jS=Object.prototype.hasOwnProperty,CS=bS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kS={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)jS.call(t,r)&&!kS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:SS,type:e,key:a,ref:i,props:s,_owner:CS.current}}Yl.Fragment=NS;Yl.jsx=Qg;Yl.jsxs=Qg;Fg.exports=Yl;var o=Fg.exports,Mu={},Jg={exports:{}},an={},Zg={exports:{}},ev={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,L){var H=k.length;k.push(L);e:for(;0<H;){var le=H-1>>>1,K=k[le];if(0<s(K,L))k[le]=L,k[H]=K,H=le;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],H=k.pop();if(H!==L){k[0]=H;e:for(var le=0,K=k.length,ie=K>>>1;le<ie;){var se=2*(le+1)-1,de=k[se],Ee=se+1,$=k[Ee];if(0>s(de,H))Ee<K&&0>s($,de)?(k[le]=$,k[Ee]=H,le=Ee):(k[le]=de,k[se]=H,le=se);else if(Ee<K&&0>s($,H))k[le]=$,k[Ee]=H,le=Ee;else break e}}return L}function s(k,L){var H=k.sortIndex-L.sortIndex;return H!==0?H:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,h=null,m=3,p=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=k)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function S(k){if(x=!1,y(k),!w)if(n(c)!==null)w=!0,D(E);else{var L=n(u);L!==null&&O(S,L.startTime-k)}}function E(k,L){w=!1,x&&(x=!1,g(N),N=-1),p=!0;var H=m;try{for(y(L),h=n(c);h!==null&&(!(h.expirationTime>L)||k&&!C());){var le=h.callback;if(typeof le=="function"){h.callback=null,m=h.priorityLevel;var K=le(h.expirationTime<=L);L=e.unstable_now(),typeof K=="function"?h.callback=K:h===n(c)&&r(c),y(L)}else r(c);h=n(c)}if(h!==null)var ie=!0;else{var se=n(u);se!==null&&O(S,se.startTime-L),ie=!1}return ie}finally{h=null,m=H,p=!1}}var P=!1,T=null,N=-1,R=5,j=-1;function C(){return!(e.unstable_now()-j<R)}function A(){if(T!==null){var k=e.unstable_now();j=k;var L=!0;try{L=T(!0,k)}finally{L?_():(P=!1,T=null)}}else P=!1}var _;if(typeof v=="function")_=function(){v(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,I=M.port2;M.port1.onmessage=A,_=function(){I.postMessage(null)}}else _=function(){b(A,0)};function D(k){T=k,P||(P=!0,_())}function O(k,L){N=b(function(){k(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,D(E))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var H=m;m=L;try{return k()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=m;m=k;try{return L()}finally{m=H}},e.unstable_scheduleCallback=function(k,L,H){var le=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?le+H:le):H=le,k){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,k={id:f++,callback:L,priorityLevel:k,startTime:H,expirationTime:K,sortIndex:-1},H>le?(k.sortIndex=H,t(u,k),n(c)===null&&k===n(u)&&(x?(g(N),N=-1):x=!0,O(S,H-le))):(k.sortIndex=K,t(c,k),w||p||(w=!0,D(E))),k},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(k){var L=m;return function(){var H=m;m=L;try{return k.apply(this,arguments)}finally{m=H}}}})(ev);Zg.exports=ev;var ES=Zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS=d,on=ES;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tv=new Set,ma={};function Cs(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(ma[e]=t,e=0;e<t.length;e++)tv.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,RS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mm={},pm={};function PS(e){return Ou.call(pm,e)?!0:Ou.call(mm,e)?!1:RS.test(e)?pm[e]=!0:(mm[e]=!0,!1)}function _S(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AS(e,t,n,r){if(t===null||typeof t>"u"||_S(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var mf=/[\-:]([a-z])/g;function pf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mf,pf);Et[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mf,pf);Et[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mf,pf);Et[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function gf(e,t,n,r){var s=Et.hasOwnProperty(t)?Et[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AS(t,n,s,r)&&(n=null),r||s===null?PS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vr=TS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,di=Symbol.for("react.element"),Os=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),vf=Symbol.for("react.strict_mode"),$u=Symbol.for("react.profiler"),nv=Symbol.for("react.provider"),rv=Symbol.for("react.context"),xf=Symbol.for("react.forward_ref"),zu=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),sv=Symbol.for("react.offscreen"),gm=Symbol.iterator;function Lo(e){return e===null||typeof e!="object"?null:(e=gm&&e[gm]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,$c;function Xo(e){if($c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$c=t&&t[1]||""}return`
`+$c+e}var zc=!1;function Fc(e,t){if(!e||zc)return"";zc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{zc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xo(e):""}function IS(e){switch(e.tag){case 5:return Xo(e.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return e=Fc(e.type,!1),e;case 11:return e=Fc(e.type.render,!1),e;case 1:return e=Fc(e.type,!0),e;default:return""}}function Bu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $s:return"Fragment";case Os:return"Portal";case $u:return"Profiler";case vf:return"StrictMode";case zu:return"Suspense";case Fu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rv:return(e.displayName||"Context")+".Consumer";case nv:return(e._context.displayName||"Context")+".Provider";case xf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yf:return t=e.displayName||null,t!==null?t:Bu(e.type)||"Memo";case Tr:t=e._payload,e=e._init;try{return Bu(e(t))}catch{}}return null}function DS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bu(t);case 8:return t===vf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ov(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LS(e){var t=ov(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fi(e){e._valueTracker||(e._valueTracker=LS(e))}function av(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ov(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uu(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iv(e,t){t=t.checked,t!=null&&gf(e,"checked",t,!1)}function Wu(e,t){iv(e,t);var n=Kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hu(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hu(e,t,n){(t!=="number"||ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qo=Array.isArray;function qs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ym(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(qo(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kr(n)}}function lv(e,t){var n=Kr(t.value),r=Kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ku(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hi,uv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MS=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){MS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),na[t]=na[e]})});function dv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||na.hasOwnProperty(e)&&na[e]?(""+t).trim():t+"px"}function fv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var OS=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gu(e,t){if(t){if(OS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Yu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xu=null;function wf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qu=null,Qs=null,Js=null;function bm(e){if(e=Ha(e)){if(typeof qu!="function")throw Error(te(280));var t=e.stateNode;t&&(t=Zl(t),qu(e.stateNode,e.type,t))}}function hv(e){Qs?Js?Js.push(e):Js=[e]:Qs=e}function mv(){if(Qs){var e=Qs,t=Js;if(Js=Qs=null,bm(e),t)for(e=0;e<t.length;e++)bm(t[e])}}function pv(e,t){return e(t)}function gv(){}var Bc=!1;function vv(e,t,n){if(Bc)return e(t,n);Bc=!0;try{return pv(e,t,n)}finally{Bc=!1,(Qs!==null||Js!==null)&&(gv(),mv())}}function ga(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var Qu=!1;if(ur)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{Qu=!1}function $S(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ra=!1,dl=null,fl=!1,Ju=null,zS={onError:function(e){ra=!0,dl=e}};function FS(e,t,n,r,s,a,i,l,c){ra=!1,dl=null,$S.apply(zS,arguments)}function BS(e,t,n,r,s,a,i,l,c){if(FS.apply(this,arguments),ra){if(ra){var u=dl;ra=!1,dl=null}else throw Error(te(198));fl||(fl=!0,Ju=u)}}function ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sm(e){if(ks(e)!==e)throw Error(te(188))}function US(e){var t=e.alternate;if(!t){if(t=ks(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Sm(s),e;if(a===r)return Sm(s),t;a=a.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function yv(e){return e=US(e),e!==null?wv(e):null}function wv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wv(e);if(t!==null)return t;e=e.sibling}return null}var bv=on.unstable_scheduleCallback,Nm=on.unstable_cancelCallback,WS=on.unstable_shouldYield,HS=on.unstable_requestPaint,ct=on.unstable_now,VS=on.unstable_getCurrentPriorityLevel,bf=on.unstable_ImmediatePriority,Sv=on.unstable_UserBlockingPriority,hl=on.unstable_NormalPriority,KS=on.unstable_LowPriority,Nv=on.unstable_IdlePriority,Xl=null,Vn=null;function GS(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Xl,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:qS,YS=Math.log,XS=Math.LN2;function qS(e){return e>>>=0,e===0?32:31-(YS(e)/XS|0)|0}var mi=64,pi=4194304;function Qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Qo(l):(a&=i,a!==0&&(r=Qo(a)))}else i=n&~s,i!==0?r=Qo(i):a!==0&&(r=Qo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tn(t),s=1<<n,r|=e[n],t&=~s;return r}function QS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Tn(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=QS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Zu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jv(){var e=mi;return mi<<=1,!(mi&4194240)&&(mi=64),e}function Uc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ua(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=n}function ZS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Sf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ue=0;function Cv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kv,Nf,Ev,Tv,Rv,ed=!1,gi=[],Or=null,$r=null,zr=null,va=new Map,xa=new Map,_r=[],eN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function Oo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ha(t),t!==null&&Nf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tN(e,t,n,r,s){switch(t){case"focusin":return Or=Oo(Or,e,t,n,r,s),!0;case"dragenter":return $r=Oo($r,e,t,n,r,s),!0;case"mouseover":return zr=Oo(zr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return va.set(a,Oo(va.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xa.set(a,Oo(xa.get(a)||null,e,t,n,r,s)),!0}return!1}function Pv(e){var t=is(e.target);if(t!==null){var n=ks(t);if(n!==null){if(t=n.tag,t===13){if(t=xv(n),t!==null){e.blockedOn=t,Rv(e.priority,function(){Ev(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=td(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xu=r,n.target.dispatchEvent(r),Xu=null}else return t=Ha(n),t!==null&&Nf(t),e.blockedOn=n,!1;t.shift()}return!0}function Cm(e,t,n){Yi(e)&&n.delete(t)}function nN(){ed=!1,Or!==null&&Yi(Or)&&(Or=null),$r!==null&&Yi($r)&&($r=null),zr!==null&&Yi(zr)&&(zr=null),va.forEach(Cm),xa.forEach(Cm)}function $o(e,t){e.blockedOn===t&&(e.blockedOn=null,ed||(ed=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,nN)))}function ya(e){function t(s){return $o(s,e)}if(0<gi.length){$o(gi[0],e);for(var n=1;n<gi.length;n++){var r=gi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Or!==null&&$o(Or,e),$r!==null&&$o($r,e),zr!==null&&$o(zr,e),va.forEach(t),xa.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Pv(n),n.blockedOn===null&&_r.shift()}var Zs=vr.ReactCurrentBatchConfig,pl=!0;function rN(e,t,n,r){var s=Ue,a=Zs.transition;Zs.transition=null;try{Ue=1,jf(e,t,n,r)}finally{Ue=s,Zs.transition=a}}function sN(e,t,n,r){var s=Ue,a=Zs.transition;Zs.transition=null;try{Ue=4,jf(e,t,n,r)}finally{Ue=s,Zs.transition=a}}function jf(e,t,n,r){if(pl){var s=td(e,t,n,r);if(s===null)Jc(e,t,r,gl,n),jm(e,r);else if(tN(s,e,t,n,r))r.stopPropagation();else if(jm(e,r),t&4&&-1<eN.indexOf(e)){for(;s!==null;){var a=Ha(s);if(a!==null&&kv(a),a=td(e,t,n,r),a===null&&Jc(e,t,r,gl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Jc(e,t,r,null,n)}}var gl=null;function td(e,t,n,r){if(gl=null,e=wf(r),e=is(e),e!==null)if(t=ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function _v(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VS()){case bf:return 1;case Sv:return 4;case hl:case KS:return 16;case Nv:return 536870912;default:return 16}default:return 16}}var Lr=null,Cf=null,Xi=null;function Av(){if(Xi)return Xi;var e,t=Cf,n=t.length,r,s="value"in Lr?Lr.value:Lr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Xi=s.slice(e,1<r?1-r:void 0)}function qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function km(){return!1}function ln(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vi:km,this.isPropagationStopped=km,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kf=ln(wo),Wa=st({},wo,{view:0,detail:0}),oN=ln(Wa),Wc,Hc,zo,ql=st({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zo&&(zo&&e.type==="mousemove"?(Wc=e.screenX-zo.screenX,Hc=e.screenY-zo.screenY):Hc=Wc=0,zo=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),Em=ln(ql),aN=st({},ql,{dataTransfer:0}),iN=ln(aN),lN=st({},Wa,{relatedTarget:0}),Vc=ln(lN),cN=st({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),uN=ln(cN),dN=st({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fN=ln(dN),hN=st({},wo,{data:0}),Tm=ln(hN),mN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gN[e])?!!t[e]:!1}function Ef(){return vN}var xN=st({},Wa,{key:function(e){if(e.key){var t=mN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yN=ln(xN),wN=st({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rm=ln(wN),bN=st({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),SN=ln(bN),NN=st({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),jN=ln(NN),CN=st({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kN=ln(CN),EN=[9,13,27,32],Tf=ur&&"CompositionEvent"in window,sa=null;ur&&"documentMode"in document&&(sa=document.documentMode);var TN=ur&&"TextEvent"in window&&!sa,Iv=ur&&(!Tf||sa&&8<sa&&11>=sa),Pm=" ",_m=!1;function Dv(e,t){switch(e){case"keyup":return EN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function RN(e,t){switch(e){case"compositionend":return Lv(t);case"keypress":return t.which!==32?null:(_m=!0,Pm);case"textInput":return e=t.data,e===Pm&&_m?null:e;default:return null}}function PN(e,t){if(zs)return e==="compositionend"||!Tf&&Dv(e,t)?(e=Av(),Xi=Cf=Lr=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iv&&t.locale!=="ko"?null:t.data;default:return null}}var _N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_N[e.type]:t==="textarea"}function Mv(e,t,n,r){hv(r),t=vl(t,"onChange"),0<t.length&&(n=new kf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oa=null,wa=null;function AN(e){Gv(e,0)}function Ql(e){var t=Us(e);if(av(t))return e}function IN(e,t){if(e==="change")return t}var Ov=!1;if(ur){var Kc;if(ur){var Gc="oninput"in document;if(!Gc){var Im=document.createElement("div");Im.setAttribute("oninput","return;"),Gc=typeof Im.oninput=="function"}Kc=Gc}else Kc=!1;Ov=Kc&&(!document.documentMode||9<document.documentMode)}function Dm(){oa&&(oa.detachEvent("onpropertychange",$v),wa=oa=null)}function $v(e){if(e.propertyName==="value"&&Ql(wa)){var t=[];Mv(t,wa,e,wf(e)),vv(AN,t)}}function DN(e,t,n){e==="focusin"?(Dm(),oa=t,wa=n,oa.attachEvent("onpropertychange",$v)):e==="focusout"&&Dm()}function LN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ql(wa)}function MN(e,t){if(e==="click")return Ql(t)}function ON(e,t){if(e==="input"||e==="change")return Ql(t)}function $N(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:$N;function ba(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ou.call(t,s)||!_n(e[s],t[s]))return!1}return!0}function Lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mm(e,t){var n=Lm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lm(n)}}function zv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fv(){for(var e=window,t=ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ul(e.document)}return t}function Rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zN(e){var t=Fv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zv(n.ownerDocument.documentElement,n)){if(r!==null&&Rf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Mm(n,a);var i=Mm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FN=ur&&"documentMode"in document&&11>=document.documentMode,Fs=null,nd=null,aa=null,rd=!1;function Om(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rd||Fs==null||Fs!==ul(r)||(r=Fs,"selectionStart"in r&&Rf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&ba(aa,r)||(aa=r,r=vl(nd,"onSelect"),0<r.length&&(t=new kf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fs)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bs={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Yc={},Bv={};ur&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Jl(e){if(Yc[e])return Yc[e];if(!Bs[e])return e;var t=Bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bv)return Yc[e]=t[n];return e}var Uv=Jl("animationend"),Wv=Jl("animationiteration"),Hv=Jl("animationstart"),Vv=Jl("transitionend"),Kv=new Map,$m="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){Kv.set(e,t),Cs(t,[e])}for(var Xc=0;Xc<$m.length;Xc++){var qc=$m[Xc],BN=qc.toLowerCase(),UN=qc[0].toUpperCase()+qc.slice(1);Jr(BN,"on"+UN)}Jr(Uv,"onAnimationEnd");Jr(Wv,"onAnimationIteration");Jr(Hv,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(Vv,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function zm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BS(r,t,void 0,e),e.currentTarget=null}function Gv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;zm(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;zm(s,l,u),a=c}}}if(fl)throw e=Ju,fl=!1,Ju=null,e}function qe(e,t){var n=t[ld];n===void 0&&(n=t[ld]=new Set);var r=e+"__bubble";n.has(r)||(Yv(t,e,2,!1),n.add(r))}function Qc(e,t,n){var r=0;t&&(r|=4),Yv(n,e,r,t)}var yi="_reactListening"+Math.random().toString(36).slice(2);function Sa(e){if(!e[yi]){e[yi]=!0,tv.forEach(function(n){n!=="selectionchange"&&(WN.has(n)||Qc(n,!1,e),Qc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yi]||(t[yi]=!0,Qc("selectionchange",!1,t))}}function Yv(e,t,n,r){switch(_v(t)){case 1:var s=rN;break;case 4:s=sN;break;default:s=jf}n=s.bind(null,t,n,e),s=void 0,!Qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Jc(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=is(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}vv(function(){var u=a,f=wf(n),h=[];e:{var m=Kv.get(e);if(m!==void 0){var p=kf,w=e;switch(e){case"keypress":if(qi(n)===0)break e;case"keydown":case"keyup":p=yN;break;case"focusin":w="focus",p=Vc;break;case"focusout":w="blur",p=Vc;break;case"beforeblur":case"afterblur":p=Vc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SN;break;case Uv:case Wv:case Hv:p=uN;break;case Vv:p=jN;break;case"scroll":p=oN;break;case"wheel":p=kN;break;case"copy":case"cut":case"paste":p=fN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rm}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,y;v!==null;){y=v;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,g!==null&&(S=ga(v,g),S!=null&&x.push(Na(v,S,y)))),b)break;v=v.return}0<x.length&&(m=new p(m,w,null,n,f),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Xu&&(w=n.relatedTarget||n.fromElement)&&(is(w)||w[dr]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?is(w):null,w!==null&&(b=ks(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(x=Em,S="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Rm,S="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?m:Us(p),y=w==null?m:Us(w),m=new x(S,v+"leave",p,n,f),m.target=b,m.relatedTarget=y,S=null,is(f)===u&&(x=new x(g,v+"enter",w,n,f),x.target=y,x.relatedTarget=b,S=x),b=S,p&&w)t:{for(x=p,g=w,v=0,y=x;y;y=Is(y))v++;for(y=0,S=g;S;S=Is(S))y++;for(;0<v-y;)x=Is(x),v--;for(;0<y-v;)g=Is(g),y--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=Is(x),g=Is(g)}x=null}else x=null;p!==null&&Fm(h,m,p,x,!1),w!==null&&b!==null&&Fm(h,b,w,x,!0)}}e:{if(m=u?Us(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var E=IN;else if(Am(m))if(Ov)E=ON;else{E=LN;var P=DN}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=MN);if(E&&(E=E(e,u))){Mv(h,E,n,f);break e}P&&P(e,m,u),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Hu(m,"number",m.value)}switch(P=u?Us(u):window,e){case"focusin":(Am(P)||P.contentEditable==="true")&&(Fs=P,nd=u,aa=null);break;case"focusout":aa=nd=Fs=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Om(h,n,f);break;case"selectionchange":if(FN)break;case"keydown":case"keyup":Om(h,n,f)}var T;if(Tf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else zs?Dv(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Iv&&n.locale!=="ko"&&(zs||N!=="onCompositionStart"?N==="onCompositionEnd"&&zs&&(T=Av()):(Lr=f,Cf="value"in Lr?Lr.value:Lr.textContent,zs=!0)),P=vl(u,N),0<P.length&&(N=new Tm(N,e,null,n,f),h.push({event:N,listeners:P}),T?N.data=T:(T=Lv(n),T!==null&&(N.data=T)))),(T=TN?RN(e,n):PN(e,n))&&(u=vl(u,"onBeforeInput"),0<u.length&&(f=new Tm("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=T))}Gv(h,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ga(e,n),a!=null&&r.unshift(Na(e,a,s)),a=ga(e,t),a!=null&&r.push(Na(e,a,s))),e=e.return}return r}function Is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fm(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ga(n,a),c!=null&&i.unshift(Na(n,c,l))):s||(c=ga(n,a),c!=null&&i.push(Na(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var HN=/\r\n?/g,VN=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(HN,`
`).replace(VN,"")}function wi(e,t,n){if(t=Bm(t),Bm(e)!==t&&n)throw Error(te(425))}function xl(){}var sd=null,od=null;function ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var id=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(YN)}:id;function YN(e){setTimeout(function(){throw e})}function Zc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ya(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ya(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Un="__reactFiber$"+bo,ja="__reactProps$"+bo,dr="__reactContainer$"+bo,ld="__reactEvents$"+bo,XN="__reactListeners$"+bo,qN="__reactHandles$"+bo;function is(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dr]||n[Un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wm(e);e!==null;){if(n=e[Un])return n;e=Wm(e)}return t}e=n,n=e.parentNode}return null}function Ha(e){return e=e[Un]||e[dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function Zl(e){return e[ja]||null}var cd=[],Ws=-1;function Zr(e){return{current:e}}function Qe(e){0>Ws||(e.current=cd[Ws],cd[Ws]=null,Ws--)}function Ke(e,t){Ws++,cd[Ws]=e.current,e.current=t}var Gr={},At=Zr(Gr),Xt=Zr(!1),ms=Gr;function io(e,t){var n=e.type.contextTypes;if(!n)return Gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qt(e){return e=e.childContextTypes,e!=null}function yl(){Qe(Xt),Qe(At)}function Hm(e,t,n){if(At.current!==Gr)throw Error(te(168));Ke(At,t),Ke(Xt,n)}function Xv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(te(108,DS(e)||"Unknown",s));return st({},n,r)}function wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,ms=At.current,Ke(At,e),Ke(Xt,Xt.current),!0}function Vm(e,t,n){var r=e.stateNode;if(!r)throw Error(te(169));n?(e=Xv(e,t,ms),r.__reactInternalMemoizedMergedChildContext=e,Qe(Xt),Qe(At),Ke(At,e)):Qe(Xt),Ke(Xt,n)}var sr=null,ec=!1,eu=!1;function qv(e){sr===null?sr=[e]:sr.push(e)}function QN(e){ec=!0,qv(e)}function es(){if(!eu&&sr!==null){eu=!0;var e=0,t=Ue;try{var n=sr;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sr=null,ec=!1}catch(s){throw sr!==null&&(sr=sr.slice(e+1)),bv(bf,es),s}finally{Ue=t,eu=!1}}return null}var Hs=[],Vs=0,bl=null,Sl=0,un=[],dn=0,ps=null,or=1,ar="";function ss(e,t){Hs[Vs++]=Sl,Hs[Vs++]=bl,bl=e,Sl=t}function Qv(e,t,n){un[dn++]=or,un[dn++]=ar,un[dn++]=ps,ps=e;var r=or;e=ar;var s=32-Tn(r)-1;r&=~(1<<s),n+=1;var a=32-Tn(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,or=1<<32-Tn(t)+s|n<<s|r,ar=a+e}else or=1<<a|n<<s|r,ar=e}function Pf(e){e.return!==null&&(ss(e,1),Qv(e,1,0))}function _f(e){for(;e===bl;)bl=Hs[--Vs],Hs[Vs]=null,Sl=Hs[--Vs],Hs[Vs]=null;for(;e===ps;)ps=un[--dn],un[dn]=null,ar=un[--dn],un[dn]=null,or=un[--dn],un[dn]=null}var rn=null,nn=null,et=!1,En=null;function Jv(e,t){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Km(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rn=e,nn=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rn=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ps!==null?{id:or,overflow:ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rn=e,nn=null,!0):!1;default:return!1}}function ud(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dd(e){if(et){var t=nn;if(t){var n=t;if(!Km(e,t)){if(ud(e))throw Error(te(418));t=Fr(n.nextSibling);var r=rn;t&&Km(e,t)?Jv(r,n):(e.flags=e.flags&-4097|2,et=!1,rn=e)}}else{if(ud(e))throw Error(te(418));e.flags=e.flags&-4097|2,et=!1,rn=e}}}function Gm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function bi(e){if(e!==rn)return!1;if(!et)return Gm(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ad(e.type,e.memoizedProps)),t&&(t=nn)){if(ud(e))throw Zv(),Error(te(418));for(;t;)Jv(e,t),t=Fr(t.nextSibling)}if(Gm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nn=Fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=rn?Fr(e.stateNode.nextSibling):null;return!0}function Zv(){for(var e=nn;e;)e=Fr(e.nextSibling)}function lo(){nn=rn=null,et=!1}function Af(e){En===null?En=[e]:En.push(e)}var JN=vr.ReactCurrentBatchConfig;function Fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function Si(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ym(e){var t=e._init;return t(e._payload)}function ex(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Hr(g,v),g.index=0,g.sibling=null,g}function a(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,y,S){return v===null||v.tag!==6?(v=iu(y,g.mode,S),v.return=g,v):(v=s(v,y),v.return=g,v)}function c(g,v,y,S){var E=y.type;return E===$s?f(g,v,y.props.children,S,y.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tr&&Ym(E)===v.type)?(S=s(v,y.props),S.ref=Fo(g,v,y),S.return=g,S):(S=rl(y.type,y.key,y.props,null,g.mode,S),S.ref=Fo(g,v,y),S.return=g,S)}function u(g,v,y,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=lu(y,g.mode,S),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function f(g,v,y,S,E){return v===null||v.tag!==7?(v=hs(y,g.mode,S,E),v.return=g,v):(v=s(v,y),v.return=g,v)}function h(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=iu(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case di:return y=rl(v.type,v.key,v.props,null,g.mode,y),y.ref=Fo(g,null,v),y.return=g,y;case Os:return v=lu(v,g.mode,y),v.return=g,v;case Tr:var S=v._init;return h(g,S(v._payload),y)}if(qo(v)||Lo(v))return v=hs(v,g.mode,y,null),v.return=g,v;Si(g,v)}return null}function m(g,v,y,S){var E=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(g,v,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case di:return y.key===E?c(g,v,y,S):null;case Os:return y.key===E?u(g,v,y,S):null;case Tr:return E=y._init,m(g,v,E(y._payload),S)}if(qo(y)||Lo(y))return E!==null?null:f(g,v,y,S,null);Si(g,y)}return null}function p(g,v,y,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(y)||null,l(v,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case di:return g=g.get(S.key===null?y:S.key)||null,c(v,g,S,E);case Os:return g=g.get(S.key===null?y:S.key)||null,u(v,g,S,E);case Tr:var P=S._init;return p(g,v,y,P(S._payload),E)}if(qo(S)||Lo(S))return g=g.get(y)||null,f(v,g,S,E,null);Si(v,S)}return null}function w(g,v,y,S){for(var E=null,P=null,T=v,N=v=0,R=null;T!==null&&N<y.length;N++){T.index>N?(R=T,T=null):R=T.sibling;var j=m(g,T,y[N],S);if(j===null){T===null&&(T=R);break}e&&T&&j.alternate===null&&t(g,T),v=a(j,v,N),P===null?E=j:P.sibling=j,P=j,T=R}if(N===y.length)return n(g,T),et&&ss(g,N),E;if(T===null){for(;N<y.length;N++)T=h(g,y[N],S),T!==null&&(v=a(T,v,N),P===null?E=T:P.sibling=T,P=T);return et&&ss(g,N),E}for(T=r(g,T);N<y.length;N++)R=p(T,g,N,y[N],S),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?N:R.key),v=a(R,v,N),P===null?E=R:P.sibling=R,P=R);return e&&T.forEach(function(C){return t(g,C)}),et&&ss(g,N),E}function x(g,v,y,S){var E=Lo(y);if(typeof E!="function")throw Error(te(150));if(y=E.call(y),y==null)throw Error(te(151));for(var P=E=null,T=v,N=v=0,R=null,j=y.next();T!==null&&!j.done;N++,j=y.next()){T.index>N?(R=T,T=null):R=T.sibling;var C=m(g,T,j.value,S);if(C===null){T===null&&(T=R);break}e&&T&&C.alternate===null&&t(g,T),v=a(C,v,N),P===null?E=C:P.sibling=C,P=C,T=R}if(j.done)return n(g,T),et&&ss(g,N),E;if(T===null){for(;!j.done;N++,j=y.next())j=h(g,j.value,S),j!==null&&(v=a(j,v,N),P===null?E=j:P.sibling=j,P=j);return et&&ss(g,N),E}for(T=r(g,T);!j.done;N++,j=y.next())j=p(T,g,N,j.value,S),j!==null&&(e&&j.alternate!==null&&T.delete(j.key===null?N:j.key),v=a(j,v,N),P===null?E=j:P.sibling=j,P=j);return e&&T.forEach(function(A){return t(g,A)}),et&&ss(g,N),E}function b(g,v,y,S){if(typeof y=="object"&&y!==null&&y.type===$s&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case di:e:{for(var E=y.key,P=v;P!==null;){if(P.key===E){if(E=y.type,E===$s){if(P.tag===7){n(g,P.sibling),v=s(P,y.props.children),v.return=g,g=v;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tr&&Ym(E)===P.type){n(g,P.sibling),v=s(P,y.props),v.ref=Fo(g,P,y),v.return=g,g=v;break e}n(g,P);break}else t(g,P);P=P.sibling}y.type===$s?(v=hs(y.props.children,g.mode,S,y.key),v.return=g,g=v):(S=rl(y.type,y.key,y.props,null,g.mode,S),S.ref=Fo(g,v,y),S.return=g,g=S)}return i(g);case Os:e:{for(P=y.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=lu(y,g.mode,S),v.return=g,g=v}return i(g);case Tr:return P=y._init,b(g,v,P(y._payload),S)}if(qo(y))return w(g,v,y,S);if(Lo(y))return x(g,v,y,S);Si(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,y),v.return=g,g=v):(n(g,v),v=iu(y,g.mode,S),v.return=g,g=v),i(g)):n(g,v)}return b}var co=ex(!0),tx=ex(!1),Nl=Zr(null),jl=null,Ks=null,If=null;function Df(){If=Ks=jl=null}function Lf(e){var t=Nl.current;Qe(Nl),e._currentValue=t}function fd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function eo(e,t){jl=e,If=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(If!==e)if(e={context:e,memoizedValue:t,next:null},Ks===null){if(jl===null)throw Error(te(308));Ks=e,jl.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return t}var ls=null;function Mf(e){ls===null?ls=[e]:ls.push(e)}function nx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Mf(t)):(n.next=s.next,s.next=n),t.interleaved=n,fr(e,r)}function fr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,fr(e,n)}return s=r.interleaved,s===null?(t.next=t,Mf(r)):(t.next=s.next,s.next=t),r.interleaved=t,fr(e,n)}function Qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sf(e,n)}}function Xm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,r){var s=e.updateQueue;Rr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,f=u=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=st({},h,m);break e;case 2:Rr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=h):f=f.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);vs|=i,e.lanes=i,e.memoizedState=h}}function qm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var Va={},Kn=Zr(Va),Ca=Zr(Va),ka=Zr(Va);function cs(e){if(e===Va)throw Error(te(174));return e}function $f(e,t){switch(Ke(ka,t),Ke(Ca,e),Ke(Kn,Va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ku(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ku(t,e)}Qe(Kn),Ke(Kn,t)}function uo(){Qe(Kn),Qe(Ca),Qe(ka)}function sx(e){cs(ka.current);var t=cs(Kn.current),n=Ku(t,e.type);t!==n&&(Ke(Ca,e),Ke(Kn,n))}function zf(e){Ca.current===e&&(Qe(Kn),Qe(Ca))}var nt=Zr(0);function kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tu=[];function Ff(){for(var e=0;e<tu.length;e++)tu[e]._workInProgressVersionPrimary=null;tu.length=0}var Ji=vr.ReactCurrentDispatcher,nu=vr.ReactCurrentBatchConfig,gs=0,rt=null,xt=null,Nt=null,El=!1,ia=!1,Ea=0,ZN=0;function Tt(){throw Error(te(321))}function Bf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}function Uf(e,t,n,r,s,a){if(gs=a,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ji.current=e===null||e.memoizedState===null?rj:sj,e=n(r,s),ia){a=0;do{if(ia=!1,Ea=0,25<=a)throw Error(te(301));a+=1,Nt=xt=null,t.updateQueue=null,Ji.current=oj,e=n(r,s)}while(ia)}if(Ji.current=Tl,t=xt!==null&&xt.next!==null,gs=0,Nt=xt=rt=null,El=!1,t)throw Error(te(300));return e}function Wf(){var e=Ea!==0;return Ea=0,e}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?rt.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function gn(){if(xt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Nt===null?rt.memoizedState:Nt.next;if(t!==null)Nt=t,xt=e;else{if(e===null)throw Error(te(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Nt===null?rt.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Ta(e,t){return typeof t=="function"?t(e):t}function ru(e){var t=gn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=xt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var f=u.lane;if((gs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,rt.lanes|=f,vs|=f}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,_n(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,rt.lanes|=a,vs|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function su(e){var t=gn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);_n(a,t.memoizedState)||(Gt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ox(){}function ax(e,t){var n=rt,r=gn(),s=t(),a=!_n(r.memoizedState,s);if(a&&(r.memoizedState=s,Gt=!0),r=r.queue,Hf(cx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Ra(9,lx.bind(null,n,r,s,t),void 0,null),jt===null)throw Error(te(349));gs&30||ix(n,t,s)}return s}function ix(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lx(e,t,n,r){t.value=n,t.getSnapshot=r,ux(t)&&dx(e)}function cx(e,t,n){return n(function(){ux(t)&&dx(e)})}function ux(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_n(e,n)}catch{return!0}}function dx(e){var t=fr(e,1);t!==null&&Rn(t,e,1,-1)}function Qm(e){var t=Bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=nj.bind(null,rt,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fx(){return gn().memoizedState}function Zi(e,t,n,r){var s=Bn();rt.flags|=e,s.memoizedState=Ra(1|t,n,void 0,r===void 0?null:r)}function tc(e,t,n,r){var s=gn();r=r===void 0?null:r;var a=void 0;if(xt!==null){var i=xt.memoizedState;if(a=i.destroy,r!==null&&Bf(r,i.deps)){s.memoizedState=Ra(t,n,a,r);return}}rt.flags|=e,s.memoizedState=Ra(1|t,n,a,r)}function Jm(e,t){return Zi(8390656,8,e,t)}function Hf(e,t){return tc(2048,8,e,t)}function hx(e,t){return tc(4,2,e,t)}function mx(e,t){return tc(4,4,e,t)}function px(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gx(e,t,n){return n=n!=null?n.concat([e]):null,tc(4,4,px.bind(null,t,e),n)}function Vf(){}function vx(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xx(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yx(e,t,n){return gs&21?(_n(n,t)||(n=jv(),rt.lanes|=n,vs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function ej(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=nu.transition;nu.transition={};try{e(!1),t()}finally{Ue=n,nu.transition=r}}function wx(){return gn().memoizedState}function tj(e,t,n){var r=Wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bx(e))Sx(t,n);else if(n=nx(e,t,n,r),n!==null){var s=$t();Rn(n,e,r,s),Nx(n,t,r)}}function nj(e,t,n){var r=Wr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bx(e))Sx(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,_n(l,i)){var c=t.interleaved;c===null?(s.next=s,Mf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=nx(e,t,s,r),n!==null&&(s=$t(),Rn(n,e,r,s),Nx(n,t,r))}}function bx(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function Sx(e,t){ia=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sf(e,n)}}var Tl={readContext:pn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},rj={readContext:pn,useCallback:function(e,t){return Bn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:Jm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zi(4194308,4,px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zi(4,2,e,t)},useMemo:function(e,t){var n=Bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tj.bind(null,rt,e),[r.memoizedState,e]},useRef:function(e){var t=Bn();return e={current:e},t.memoizedState=e},useState:Qm,useDebugValue:Vf,useDeferredValue:function(e){return Bn().memoizedState=e},useTransition:function(){var e=Qm(!1),t=e[0];return e=ej.bind(null,e[1]),Bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=rt,s=Bn();if(et){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),jt===null)throw Error(te(349));gs&30||ix(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Jm(cx.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,lx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Bn(),t=jt.identifierPrefix;if(et){var n=ar,r=or;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sj={readContext:pn,useCallback:vx,useContext:pn,useEffect:Hf,useImperativeHandle:gx,useInsertionEffect:hx,useLayoutEffect:mx,useMemo:xx,useReducer:ru,useRef:fx,useState:function(){return ru(Ta)},useDebugValue:Vf,useDeferredValue:function(e){var t=gn();return yx(t,xt.memoizedState,e)},useTransition:function(){var e=ru(Ta)[0],t=gn().memoizedState;return[e,t]},useMutableSource:ox,useSyncExternalStore:ax,useId:wx,unstable_isNewReconciler:!1},oj={readContext:pn,useCallback:vx,useContext:pn,useEffect:Hf,useImperativeHandle:gx,useInsertionEffect:hx,useLayoutEffect:mx,useMemo:xx,useReducer:su,useRef:fx,useState:function(){return su(Ta)},useDebugValue:Vf,useDeferredValue:function(e){var t=gn();return xt===null?t.memoizedState=e:yx(t,xt.memoizedState,e)},useTransition:function(){var e=su(Ta)[0],t=gn().memoizedState;return[e,t]},useMutableSource:ox,useSyncExternalStore:ax,useId:wx,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:st({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nc={isMounted:function(e){return(e=e._reactInternals)?ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$t(),s=Wr(e),a=ir(r,s);a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(Rn(t,e,s,r),Qi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$t(),s=Wr(e),a=ir(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(Rn(t,e,s,r),Qi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$t(),r=Wr(e),s=ir(n,r);s.tag=2,t!=null&&(s.callback=t),t=Br(e,s,r),t!==null&&(Rn(t,e,r,n),Qi(t,e,r))}};function Zm(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ba(n,r)||!ba(s,a):!0}function jx(e,t,n){var r=!1,s=Gr,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(s=qt(t)?ms:At.current,r=t.contextTypes,a=(r=r!=null)?io(e,s):Gr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ep(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nc.enqueueReplaceState(t,t.state,null)}function md(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Of(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pn(a):(a=qt(t)?ms:At.current,s.context=io(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(hd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&nc.enqueueReplaceState(s,s.state,null),Cl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do n+=IS(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function ou(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aj=typeof WeakMap=="function"?WeakMap:Map;function Cx(e,t,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pl||(Pl=!0,Cd=r),pd(e,t)},n}function kx(e,t,n){n=ir(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){pd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){pd(e,t),typeof r!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function tp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new aj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=wj.bind(null,e,t,n),t.then(e,e))}function np(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ir(-1,1),t.tag=2,Br(n,t,1))),n.lanes|=1),e)}var ij=vr.ReactCurrentOwner,Gt=!1;function Lt(e,t,n,r){t.child=e===null?tx(t,null,n,r):co(t,e.child,n,r)}function sp(e,t,n,r,s){n=n.render;var a=t.ref;return eo(t,s),r=Uf(e,t,n,r,a,s),n=Wf(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(et&&n&&Pf(t),t.flags|=1,Lt(e,t,r,s),t.child)}function op(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Zf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ex(e,t,a,r,s)):(e=rl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ba,n(i,r)&&e.ref===t.ref)return hr(e,t,s)}return t.flags|=1,e=Hr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ex(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ba(a,r)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,hr(e,t,s)}return gd(e,t,n,r,s)}function Tx(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ys,Zt),Zt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(Ys,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ke(Ys,Zt),Zt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ke(Ys,Zt),Zt|=r;return Lt(e,t,s,n),t.child}function Rx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gd(e,t,n,r,s){var a=qt(n)?ms:At.current;return a=io(t,a),eo(t,s),n=Uf(e,t,n,r,a,s),r=Wf(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(et&&r&&Pf(t),t.flags|=1,Lt(e,t,n,s),t.child)}function ap(e,t,n,r,s){if(qt(n)){var a=!0;wl(t)}else a=!1;if(eo(t,s),t.stateNode===null)el(e,t),jx(t,n,r),md(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=qt(n)?ms:At.current,u=io(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ep(t,i,r,u),Rr=!1;var m=t.memoizedState;i.state=m,Cl(t,r,i,s),c=t.memoizedState,l!==r||m!==c||Xt.current||Rr?(typeof f=="function"&&(hd(t,n,f,r),c=t.memoizedState),(l=Rr||Zm(t,n,l,r,m,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,rx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cn(t.type,l),i.props=u,h=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=qt(n)?ms:At.current,c=io(t,c));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||m!==c)&&ep(t,i,r,c),Rr=!1,m=t.memoizedState,i.state=m,Cl(t,r,i,s);var w=t.memoizedState;l!==h||m!==w||Xt.current||Rr?(typeof p=="function"&&(hd(t,n,p,r),w=t.memoizedState),(u=Rr||Zm(t,n,u,r,m,w,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return vd(e,t,n,r,a,s)}function vd(e,t,n,r,s,a){Rx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Vm(t,n,!1),hr(e,t,a);r=t.stateNode,ij.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=co(t,e.child,null,a),t.child=co(t,null,l,a)):Lt(e,t,l,a),t.memoizedState=r.state,s&&Vm(t,n,!0),t.child}function Px(e){var t=e.stateNode;t.pendingContext?Hm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hm(e,t.context,!1),$f(e,t.containerInfo)}function ip(e,t,n,r,s){return lo(),Af(s),t.flags|=256,Lt(e,t,n,r),t.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function yd(e){return{baseLanes:e,cachePool:null,transitions:null}}function _x(e,t,n){var r=t.pendingProps,s=nt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ke(nt,s&1),e===null)return dd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=oc(i,r,0,null),e=hs(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=yd(n),t.memoizedState=xd,e):Kf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lj(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Hr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Hr(l,a):(a=hs(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?yd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=xd,r}return a=e.child,e=a.sibling,r=Hr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kf(e,t){return t=oc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ni(e,t,n,r){return r!==null&&Af(r),co(t,e.child,null,n),e=Kf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lj(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=ou(Error(te(422))),Ni(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=oc({mode:"visible",children:r.children},s,0,null),a=hs(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&co(t,e.child,null,i),t.child.memoizedState=yd(i),t.memoizedState=xd,a);if(!(t.mode&1))return Ni(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(te(419)),r=ou(a,r,void 0),Ni(e,t,i,r)}if(l=(i&e.childLanes)!==0,Gt||l){if(r=jt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,fr(e,s),Rn(r,e,s,-1))}return Jf(),r=ou(Error(te(421))),Ni(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bj.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,nn=Fr(s.nextSibling),rn=t,et=!0,En=null,e!==null&&(un[dn++]=or,un[dn++]=ar,un[dn++]=ps,or=e.id,ar=e.overflow,ps=t),t=Kf(t,r.children),t.flags|=4096,t)}function lp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fd(e.return,t,n)}function au(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Ax(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Lt(e,t,r.children,n),r=nt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lp(e,n,t);else if(e.tag===19)lp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(nt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&kl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),au(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}au(t,!0,n,null,a);break;case"together":au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=Hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cj(e,t,n){switch(t.tag){case 3:Px(t),lo();break;case 5:sx(t);break;case 1:qt(t.type)&&wl(t);break;case 4:$f(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ke(Nl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ke(nt,nt.current&1),t.flags|=128,null):n&t.child.childLanes?_x(e,t,n):(Ke(nt,nt.current&1),e=hr(e,t,n),e!==null?e.sibling:null);Ke(nt,nt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ax(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(nt,nt.current),r)break;return null;case 22:case 23:return t.lanes=0,Tx(e,t,n)}return hr(e,t,n)}var Ix,wd,Dx,Lx;Ix=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wd=function(){};Dx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,cs(Kn.current);var a=null;switch(n){case"input":s=Uu(e,s),r=Uu(e,r),a=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),a=[];break;case"textarea":s=Vu(e,s),r=Vu(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xl)}Gu(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ma.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ma.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Lx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bo(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uj(e,t,n){var r=t.pendingProps;switch(_f(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return qt(t.type)&&yl(),Rt(t),null;case 3:return r=t.stateNode,uo(),Qe(Xt),Qe(At),Ff(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(Td(En),En=null))),wd(e,t),Rt(t),null;case 5:zf(t);var s=cs(ka.current);if(n=t.type,e!==null&&t.stateNode!=null)Dx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(te(166));return Rt(t),null}if(e=cs(Kn.current),bi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Un]=t,r[ja]=a,e=(t.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<Jo.length;s++)qe(Jo[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":vm(r,a),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qe("invalid",r);break;case"textarea":ym(r,a),qe("invalid",r)}Gu(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&wi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&wi(r.textContent,l,e),s=["children",""+l]):ma.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&qe("scroll",r)}switch(n){case"input":fi(r),xm(r,a,!0);break;case"textarea":fi(r),wm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Un]=t,e[ja]=r,Ix(e,t,!1,!1),t.stateNode=e;e:{switch(i=Yu(n,r),n){case"dialog":qe("cancel",e),qe("close",e),s=r;break;case"iframe":case"object":case"embed":qe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Jo.length;s++)qe(Jo[s],e);s=r;break;case"source":qe("error",e),s=r;break;case"img":case"image":case"link":qe("error",e),qe("load",e),s=r;break;case"details":qe("toggle",e),s=r;break;case"input":vm(e,r),s=Uu(e,r),qe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),qe("invalid",e);break;case"textarea":ym(e,r),s=Vu(e,r),qe("invalid",e);break;default:s=r}Gu(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?fv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uv(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pa(e,c):typeof c=="number"&&pa(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ma.hasOwnProperty(a)?c!=null&&a==="onScroll"&&qe("scroll",e):c!=null&&gf(e,a,c,i))}switch(n){case"input":fi(e),xm(e,r,!1);break;case"textarea":fi(e),wm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?qs(e,!!r.multiple,a,!1):r.defaultValue!=null&&qs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)Lx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(te(166));if(n=cs(ka.current),cs(Kn.current),bi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Un]=t,(a=r.nodeValue!==n)&&(e=rn,e!==null))switch(e.tag){case 3:wi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=t,t.stateNode=r}return Rt(t),null;case 13:if(Qe(nt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&nn!==null&&t.mode&1&&!(t.flags&128))Zv(),lo(),t.flags|=98560,a=!1;else if(a=bi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(te(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[Un]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),a=!1}else En!==null&&(Td(En),En=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?yt===0&&(yt=3):Jf())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return uo(),wd(e,t),e===null&&Sa(t.stateNode.containerInfo),Rt(t),null;case 10:return Lf(t.type._context),Rt(t),null;case 17:return qt(t.type)&&yl(),Rt(t),null;case 19:if(Qe(nt),a=t.memoizedState,a===null)return Rt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Bo(a,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=kl(e),i!==null){for(t.flags|=128,Bo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(nt,nt.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>ho&&(t.flags|=128,r=!0,Bo(a,!1),t.lanes=4194304)}else{if(!r)if(e=kl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!et)return Rt(t),null}else 2*ct()-a.renderingStartTime>ho&&n!==1073741824&&(t.flags|=128,r=!0,Bo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,n=nt.current,Ke(nt,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return Qf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zt&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function dj(e,t){switch(_f(t),t.tag){case 1:return qt(t.type)&&yl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),Qe(Xt),Qe(At),Ff(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zf(t),null;case 13:if(Qe(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(nt),null;case 4:return uo(),null;case 10:return Lf(t.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var ji=!1,Pt=!1,fj=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function bd(e,t,n){try{n()}catch(r){ot(e,t,r)}}var cp=!1;function hj(e,t){if(sd=pl,e=Fv(),Rf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=i+s),h!==a||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=i),m===a&&++f===r&&(c=i),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(od={focusedElem:e,selectionRange:n},pl=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Cn(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(S){ot(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return w=cp,cp=!1,w}function la(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&bd(t,n,a)}s=s.next}while(s!==r)}}function rc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mx(e){var t=e.alternate;t!==null&&(e.alternate=null,Mx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[ja],delete t[ld],delete t[XN],delete t[qN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ox(e){return e.tag===5||e.tag===3||e.tag===4}function up(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ox(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xl));else if(r!==4&&(e=e.child,e!==null))for(Nd(e,t,n),e=e.sibling;e!==null;)Nd(e,t,n),e=e.sibling}function jd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jd(e,t,n),e=e.sibling;e!==null;)jd(e,t,n),e=e.sibling}var Ct=null,kn=!1;function jr(e,t,n){for(n=n.child;n!==null;)$x(e,t,n),n=n.sibling}function $x(e,t,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 5:Pt||Gs(n,t);case 6:var r=Ct,s=kn;Ct=null,jr(e,t,n),Ct=r,kn=s,Ct!==null&&(kn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(kn?(e=Ct,n=n.stateNode,e.nodeType===8?Zc(e.parentNode,n):e.nodeType===1&&Zc(e,n),ya(e)):Zc(Ct,n.stateNode));break;case 4:r=Ct,s=kn,Ct=n.stateNode.containerInfo,kn=!0,jr(e,t,n),Ct=r,kn=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&bd(n,t,i),s=s.next}while(s!==r)}jr(e,t,n);break;case 1:if(!Pt&&(Gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ot(n,t,l)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,jr(e,t,n),Pt=r):jr(e,t,n);break;default:jr(e,t,n)}}function dp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fj),t.forEach(function(r){var s=Sj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,kn=!1;break e;case 3:Ct=l.stateNode.containerInfo,kn=!0;break e;case 4:Ct=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(Ct===null)throw Error(te(160));$x(a,i,s),Ct=null,kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ot(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zx(t,e),t=t.sibling}function zx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),Fn(e),r&4){try{la(3,e,e.return),rc(3,e)}catch(x){ot(e,e.return,x)}try{la(5,e,e.return)}catch(x){ot(e,e.return,x)}}break;case 1:wn(t,e),Fn(e),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(wn(t,e),Fn(e),r&512&&n!==null&&Gs(n,n.return),e.flags&32){var s=e.stateNode;try{pa(s,"")}catch(x){ot(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&iv(s,a),Yu(l,i);var u=Yu(l,a);for(i=0;i<c.length;i+=2){var f=c[i],h=c[i+1];f==="style"?fv(s,h):f==="dangerouslySetInnerHTML"?uv(s,h):f==="children"?pa(s,h):gf(s,f,h,u)}switch(l){case"input":Wu(s,a);break;case"textarea":lv(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?qs(s,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?qs(s,!!a.multiple,a.defaultValue,!0):qs(s,!!a.multiple,a.multiple?[]:"",!1))}s[ja]=a}catch(x){ot(e,e.return,x)}}break;case 6:if(wn(t,e),Fn(e),r&4){if(e.stateNode===null)throw Error(te(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){ot(e,e.return,x)}}break;case 3:if(wn(t,e),Fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(x){ot(e,e.return,x)}break;case 4:wn(t,e),Fn(e);break;case 13:wn(t,e),Fn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Xf=ct())),r&4&&dp(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||f,wn(t,e),Pt=u):wn(t,e),Fn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ue=e,f=e.child;f!==null;){for(h=ue=f;ue!==null;){switch(m=ue,p=m.child,m.tag){case 0:case 11:case 14:case 15:la(4,m,m.return);break;case 1:Gs(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){ot(r,n,x)}}break;case 5:Gs(m,m.return);break;case 22:if(m.memoizedState!==null){hp(h);continue}}p!==null?(p.return=m,ue=p):hp(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dv("display",i))}catch(x){ot(e,e.return,x)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ot(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wn(t,e),Fn(e),r&4&&dp(e);break;case 21:break;default:wn(t,e),Fn(e)}}function Fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ox(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pa(s,""),r.flags&=-33);var a=up(e);jd(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=up(e);Nd(e,l,i);break;default:throw Error(te(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mj(e,t,n){ue=e,Fx(e)}function Fx(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var s=ue,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ji;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=ji;var u=Pt;if(ji=i,(Pt=c)&&!u)for(ue=s;ue!==null;)i=ue,c=i.child,i.tag===22&&i.memoizedState!==null?mp(s):c!==null?(c.return=i,ue=c):mp(s);for(;a!==null;)ue=a,Fx(a),a=a.sibling;ue=s,ji=l,Pt=u}fp(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ue=a):fp(e)}}function fp(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||rc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Cn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&qm(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qm(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&ya(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Pt||t.flags&512&&Sd(t)}catch(m){ot(t,t.return,m)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function hp(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function mp(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){ot(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ot(t,s,c)}}var a=t.return;try{Sd(t)}catch(c){ot(t,a,c)}break;case 5:var i=t.return;try{Sd(t)}catch(c){ot(t,i,c)}}}catch(c){ot(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var pj=Math.ceil,Rl=vr.ReactCurrentDispatcher,Gf=vr.ReactCurrentOwner,mn=vr.ReactCurrentBatchConfig,Me=0,jt=null,gt=null,kt=0,Zt=0,Ys=Zr(0),yt=0,Pa=null,vs=0,sc=0,Yf=0,ca=null,Ht=null,Xf=0,ho=1/0,rr=null,Pl=!1,Cd=null,Ur=null,Ci=!1,Mr=null,_l=0,ua=0,kd=null,tl=-1,nl=0;function $t(){return Me&6?ct():tl!==-1?tl:tl=ct()}function Wr(e){return e.mode&1?Me&2&&kt!==0?kt&-kt:JN.transition!==null?(nl===0&&(nl=jv()),nl):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:_v(e.type)),e):1}function Rn(e,t,n,r){if(50<ua)throw ua=0,kd=null,Error(te(185));Ua(e,n,r),(!(Me&2)||e!==jt)&&(e===jt&&(!(Me&2)&&(sc|=n),yt===4&&Ar(e,kt)),Qt(e,r),n===1&&Me===0&&!(t.mode&1)&&(ho=ct()+500,ec&&es()))}function Qt(e,t){var n=e.callbackNode;JS(e,t);var r=ml(e,e===jt?kt:0);if(r===0)n!==null&&Nm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nm(n),t===1)e.tag===0?QN(pp.bind(null,e)):qv(pp.bind(null,e)),GN(function(){!(Me&6)&&es()}),n=null;else{switch(Cv(r)){case 1:n=bf;break;case 4:n=Sv;break;case 16:n=hl;break;case 536870912:n=Nv;break;default:n=hl}n=Yx(n,Bx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bx(e,t){if(tl=-1,nl=0,Me&6)throw Error(te(327));var n=e.callbackNode;if(to()&&e.callbackNode!==n)return null;var r=ml(e,e===jt?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Al(e,r);else{t=r;var s=Me;Me|=2;var a=Wx();(jt!==e||kt!==t)&&(rr=null,ho=ct()+500,fs(e,t));do try{xj();break}catch(l){Ux(e,l)}while(!0);Df(),Rl.current=a,Me=s,gt!==null?t=0:(jt=null,kt=0,t=yt)}if(t!==0){if(t===2&&(s=Zu(e),s!==0&&(r=s,t=Ed(e,s))),t===1)throw n=Pa,fs(e,0),Ar(e,r),Qt(e,ct()),n;if(t===6)Ar(e,r);else{if(s=e.current.alternate,!(r&30)&&!gj(s)&&(t=Al(e,r),t===2&&(a=Zu(e),a!==0&&(r=a,t=Ed(e,a))),t===1))throw n=Pa,fs(e,0),Ar(e,r),Qt(e,ct()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(te(345));case 2:os(e,Ht,rr);break;case 3:if(Ar(e,r),(r&130023424)===r&&(t=Xf+500-ct(),10<t)){if(ml(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){$t(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=id(os.bind(null,e,Ht,rr),t);break}os(e,Ht,rr);break;case 4:if(Ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Tn(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pj(r/1960))-r,10<r){e.timeoutHandle=id(os.bind(null,e,Ht,rr),r);break}os(e,Ht,rr);break;case 5:os(e,Ht,rr);break;default:throw Error(te(329))}}}return Qt(e,ct()),e.callbackNode===n?Bx.bind(null,e):null}function Ed(e,t){var n=ca;return e.current.memoizedState.isDehydrated&&(fs(e,t).flags|=256),e=Al(e,t),e!==2&&(t=Ht,Ht=n,t!==null&&Td(t)),e}function Td(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function gj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!_n(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ar(e,t){for(t&=~Yf,t&=~sc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tn(t),r=1<<n;e[n]=-1,t&=~r}}function pp(e){if(Me&6)throw Error(te(327));to();var t=ml(e,0);if(!(t&1))return Qt(e,ct()),null;var n=Al(e,t);if(e.tag!==0&&n===2){var r=Zu(e);r!==0&&(t=r,n=Ed(e,r))}if(n===1)throw n=Pa,fs(e,0),Ar(e,t),Qt(e,ct()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,Ht,rr),Qt(e,ct()),null}function qf(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(ho=ct()+500,ec&&es())}}function xs(e){Mr!==null&&Mr.tag===0&&!(Me&6)&&to();var t=Me;Me|=1;var n=mn.transition,r=Ue;try{if(mn.transition=null,Ue=1,e)return e()}finally{Ue=r,mn.transition=n,Me=t,!(Me&6)&&es()}}function Qf(){Zt=Ys.current,Qe(Ys)}function fs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KN(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(_f(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yl();break;case 3:uo(),Qe(Xt),Qe(At),Ff();break;case 5:zf(r);break;case 4:uo();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:Lf(r.type._context);break;case 22:case 23:Qf()}n=n.return}if(jt=e,gt=e=Hr(e.current,null),kt=Zt=t,yt=0,Pa=null,Yf=sc=vs=0,Ht=ca=null,ls!==null){for(t=0;t<ls.length;t++)if(n=ls[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}ls=null}return e}function Ux(e,t){do{var n=gt;try{if(Df(),Ji.current=Tl,El){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}El=!1}if(gs=0,Nt=xt=rt=null,ia=!1,Ea=0,Gf.current=null,n===null||n.return===null){yt=1,Pa=t,gt=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=np(i);if(p!==null){p.flags&=-257,rp(p,i,l,a,t),p.mode&1&&tp(a,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){tp(a,u,t),Jf();break e}c=Error(te(426))}}else if(et&&l.mode&1){var b=np(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),rp(b,i,l,a,t),Af(fo(c,l));break e}}a=c=fo(c,l),yt!==4&&(yt=2),ca===null?ca=[a]:ca.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Cx(a,c,t);Xm(a,g);break e;case 1:l=c;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ur===null||!Ur.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=kx(a,l,t);Xm(a,S);break e}}a=a.return}while(a!==null)}Vx(n)}catch(E){t=E,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function Wx(){var e=Rl.current;return Rl.current=Tl,e===null?Tl:e}function Jf(){(yt===0||yt===3||yt===2)&&(yt=4),jt===null||!(vs&268435455)&&!(sc&268435455)||Ar(jt,kt)}function Al(e,t){var n=Me;Me|=2;var r=Wx();(jt!==e||kt!==t)&&(rr=null,fs(e,t));do try{vj();break}catch(s){Ux(e,s)}while(!0);if(Df(),Me=n,Rl.current=r,gt!==null)throw Error(te(261));return jt=null,kt=0,yt}function vj(){for(;gt!==null;)Hx(gt)}function xj(){for(;gt!==null&&!WS();)Hx(gt)}function Hx(e){var t=Gx(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?Vx(e):gt=t,Gf.current=null}function Vx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dj(n,t),n!==null){n.flags&=32767,gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,gt=null;return}}else if(n=uj(n,t,Zt),n!==null){gt=n;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);yt===0&&(yt=5)}function os(e,t,n){var r=Ue,s=mn.transition;try{mn.transition=null,Ue=1,yj(e,t,n,r)}finally{mn.transition=s,Ue=r}return null}function yj(e,t,n,r){do to();while(Mr!==null);if(Me&6)throw Error(te(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ZS(e,a),e===jt&&(gt=jt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ci||(Ci=!0,Yx(hl,function(){return to(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=mn.transition,mn.transition=null;var i=Ue;Ue=1;var l=Me;Me|=4,Gf.current=null,hj(e,n),zx(n,e),zN(od),pl=!!sd,od=sd=null,e.current=n,mj(n),HS(),Me=l,Ue=i,mn.transition=a}else e.current=n;if(Ci&&(Ci=!1,Mr=e,_l=s),a=e.pendingLanes,a===0&&(Ur=null),GS(n.stateNode),Qt(e,ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pl)throw Pl=!1,e=Cd,Cd=null,e;return _l&1&&e.tag!==0&&to(),a=e.pendingLanes,a&1?e===kd?ua++:(ua=0,kd=e):ua=0,es(),null}function to(){if(Mr!==null){var e=Cv(_l),t=mn.transition,n=Ue;try{if(mn.transition=null,Ue=16>e?16:e,Mr===null)var r=!1;else{if(e=Mr,Mr=null,_l=0,Me&6)throw Error(te(331));var s=Me;for(Me|=4,ue=e.current;ue!==null;){var a=ue,i=a.child;if(ue.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ue=u;ue!==null;){var f=ue;switch(f.tag){case 0:case 11:case 15:la(8,f,a)}var h=f.child;if(h!==null)h.return=f,ue=h;else for(;ue!==null;){f=ue;var m=f.sibling,p=f.return;if(Mx(f),f===u){ue=null;break}if(m!==null){m.return=p,ue=m;break}ue=p}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ue=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ue=i;else e:for(;ue!==null;){if(a=ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:la(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ue=g;break e}ue=a.return}}var v=e.current;for(ue=v;ue!==null;){i=ue;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,ue=y;else e:for(i=v;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rc(9,l)}}catch(E){ot(l,l.return,E)}if(l===i){ue=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ue=S;break e}ue=l.return}}if(Me=s,es(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Xl,e)}catch{}r=!0}return r}finally{Ue=n,mn.transition=t}}return!1}function gp(e,t,n){t=fo(n,t),t=Cx(e,t,1),e=Br(e,t,1),t=$t(),e!==null&&(Ua(e,1,t),Qt(e,t))}function ot(e,t,n){if(e.tag===3)gp(e,e,n);else for(;t!==null;){if(t.tag===3){gp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ur===null||!Ur.has(r))){e=fo(n,e),e=kx(t,e,1),t=Br(t,e,1),e=$t(),t!==null&&(Ua(t,1,e),Qt(t,e));break}}t=t.return}}function wj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(kt&n)===n&&(yt===4||yt===3&&(kt&130023424)===kt&&500>ct()-Xf?fs(e,0):Yf|=n),Qt(e,t)}function Kx(e,t){t===0&&(e.mode&1?(t=pi,pi<<=1,!(pi&130023424)&&(pi=4194304)):t=1);var n=$t();e=fr(e,t),e!==null&&(Ua(e,t,n),Qt(e,n))}function bj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kx(e,n)}function Sj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(t),Kx(e,n)}var Gx;Gx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,cj(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,et&&t.flags&1048576&&Qv(t,Sl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var s=io(t,At.current);eo(t,n),s=Uf(null,t,r,e,s,n);var a=Wf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(r)?(a=!0,wl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Of(t),s.updater=nc,t.stateNode=s,s._reactInternals=t,md(t,r,e,n),t=vd(null,t,r,!0,a,n)):(t.tag=0,et&&a&&Pf(t),Lt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=jj(r),e=Cn(r,e),s){case 0:t=gd(null,t,r,e,n);break e;case 1:t=ap(null,t,r,e,n);break e;case 11:t=sp(null,t,r,e,n);break e;case 14:t=op(null,t,r,Cn(r.type,e),n);break e}throw Error(te(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),gd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),ap(e,t,r,s,n);case 3:e:{if(Px(t),e===null)throw Error(te(387));r=t.pendingProps,a=t.memoizedState,s=a.element,rx(e,t),Cl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=fo(Error(te(423)),t),t=ip(e,t,r,n,s);break e}else if(r!==s){s=fo(Error(te(424)),t),t=ip(e,t,r,n,s);break e}else for(nn=Fr(t.stateNode.containerInfo.firstChild),rn=t,et=!0,En=null,n=tx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===s){t=hr(e,t,n);break e}Lt(e,t,r,n)}t=t.child}return t;case 5:return sx(t),e===null&&dd(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,ad(r,s)?i=null:a!==null&&ad(r,a)&&(t.flags|=32),Rx(e,t),Lt(e,t,i,n),t.child;case 6:return e===null&&dd(t),null;case 13:return _x(e,t,n);case 4:return $f(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=co(t,null,r,n):Lt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),sp(e,t,r,s,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Ke(Nl,r._currentValue),r._currentValue=i,a!==null)if(_n(a.value,i)){if(a.children===s.children&&!Xt.current){t=hr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ir(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),fd(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(te(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),fd(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Lt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,eo(t,n),s=pn(s),r=r(s),t.flags|=1,Lt(e,t,r,n),t.child;case 14:return r=t.type,s=Cn(r,t.pendingProps),s=Cn(r.type,s),op(e,t,r,s,n);case 15:return Ex(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),el(e,t),t.tag=1,qt(r)?(e=!0,wl(t)):e=!1,eo(t,n),jx(t,r,s),md(t,r,s,n),vd(null,t,r,!0,e,n);case 19:return Ax(e,t,n);case 22:return Tx(e,t,n)}throw Error(te(156,t.tag))};function Yx(e,t){return bv(e,t)}function Nj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,t,n,r){return new Nj(e,t,n,r)}function Zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jj(e){if(typeof e=="function")return Zf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xf)return 11;if(e===yf)return 14}return 2}function Hr(e,t){var n=e.alternate;return n===null?(n=hn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Zf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case $s:return hs(n.children,s,a,t);case vf:i=8,s|=8;break;case $u:return e=hn(12,n,t,s|2),e.elementType=$u,e.lanes=a,e;case zu:return e=hn(13,n,t,s),e.elementType=zu,e.lanes=a,e;case Fu:return e=hn(19,n,t,s),e.elementType=Fu,e.lanes=a,e;case sv:return oc(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nv:i=10;break e;case rv:i=9;break e;case xf:i=11;break e;case yf:i=14;break e;case Tr:i=16,r=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=hn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function hs(e,t,n,r){return e=hn(7,e,r,t),e.lanes=n,e}function oc(e,t,n,r){return e=hn(22,e,r,t),e.elementType=sv,e.lanes=n,e.stateNode={isHidden:!1},e}function iu(e,t,n){return e=hn(6,e,null,t),e.lanes=n,e}function lu(e,t,n){return t=hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cj(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function eh(e,t,n,r,s,a,i,l,c){return e=new Cj(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=hn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(a),e}function kj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Xx(e){if(!e)return Gr;e=e._reactInternals;e:{if(ks(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(qt(n))return Xv(e,n,t)}return t}function qx(e,t,n,r,s,a,i,l,c){return e=eh(n,r,!0,e,s,a,i,l,c),e.context=Xx(null),n=e.current,r=$t(),s=Wr(n),a=ir(r,s),a.callback=t??null,Br(n,a,s),e.current.lanes=s,Ua(e,s,r),Qt(e,r),e}function ac(e,t,n,r){var s=t.current,a=$t(),i=Wr(s);return n=Xx(n),t.context===null?t.context=n:t.pendingContext=n,t=ir(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Br(s,t,i),e!==null&&(Rn(e,s,i,a),Qi(e,s,i)),i}function Il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function th(e,t){vp(e,t),(e=e.alternate)&&vp(e,t)}function Ej(){return null}var Qx=typeof reportError=="function"?reportError:function(e){console.error(e)};function nh(e){this._internalRoot=e}ic.prototype.render=nh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));ac(e,t,null,null)};ic.prototype.unmount=nh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xs(function(){ac(null,e,null,null)}),t[dr]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&Pv(e)}};function rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xp(){}function Tj(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Il(i);a.call(u)}}var i=qx(t,r,e,0,null,!1,!1,"",xp);return e._reactRootContainer=i,e[dr]=i.current,Sa(e.nodeType===8?e.parentNode:e),xs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Il(c);l.call(u)}}var c=eh(e,0,!1,null,null,!1,!1,"",xp);return e._reactRootContainer=c,e[dr]=c.current,Sa(e.nodeType===8?e.parentNode:e),xs(function(){ac(t,c,n,r)}),c}function cc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Il(i);l.call(c)}}ac(t,i,e,s)}else i=Tj(n,t,e,s,r);return Il(i)}kv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qo(t.pendingLanes);n!==0&&(Sf(t,n|1),Qt(t,ct()),!(Me&6)&&(ho=ct()+500,es()))}break;case 13:xs(function(){var r=fr(e,1);if(r!==null){var s=$t();Rn(r,e,1,s)}}),th(e,1)}};Nf=function(e){if(e.tag===13){var t=fr(e,134217728);if(t!==null){var n=$t();Rn(t,e,134217728,n)}th(e,134217728)}};Ev=function(e){if(e.tag===13){var t=Wr(e),n=fr(e,t);if(n!==null){var r=$t();Rn(n,e,t,r)}th(e,t)}};Tv=function(){return Ue};Rv=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};qu=function(e,t,n){switch(t){case"input":if(Wu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Zl(r);if(!s)throw Error(te(90));av(r),Wu(r,s)}}}break;case"textarea":lv(e,n);break;case"select":t=n.value,t!=null&&qs(e,!!n.multiple,t,!1)}};pv=qf;gv=xs;var Rj={usingClientEntryPoint:!1,Events:[Ha,Us,Zl,hv,mv,qf]},Uo={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pj={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yv(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Ej,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{Xl=ki.inject(Pj),Vn=ki}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rj;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rh(t))throw Error(te(200));return kj(e,t,null,n)};an.createRoot=function(e,t){if(!rh(e))throw Error(te(299));var n=!1,r="",s=Qx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=eh(e,1,!1,null,null,n,!1,r,s),e[dr]=t.current,Sa(e.nodeType===8?e.parentNode:e),new nh(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=yv(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return xs(e)};an.hydrate=function(e,t,n){if(!lc(t))throw Error(te(200));return cc(null,e,t,!0,n)};an.hydrateRoot=function(e,t,n){if(!rh(e))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=Qx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=qx(t,null,e,1,n??null,s,!1,a,i),e[dr]=t.current,Sa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ic(t)};an.render=function(e,t,n){if(!lc(t))throw Error(te(200));return cc(null,e,t,!1,n)};an.unmountComponentAtNode=function(e){if(!lc(e))throw Error(te(40));return e._reactRootContainer?(xs(function(){cc(null,null,e,!1,function(){e._reactRootContainer=null,e[dr]=null})}),!0):!1};an.unstable_batchedUpdates=qf;an.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lc(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return cc(e,t,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function Jx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jx)}catch(e){console.error(e)}}Jx(),Jg.exports=an;var So=Jg.exports;const Zx=cf(So);var yp=So;Mu.createRoot=yp.createRoot,Mu.hydrateRoot=yp.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wp="popstate";function _j(e={}){function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return Rd("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_a(s)}return Ij(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function An(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Aj(){return Math.random().toString(36).substring(2,10)}function bp(e,t){return{usr:e.state,key:e.key,idx:t}}function Rd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ka(t):t,state:n,key:t&&t.key||r||Aj()}}function _a({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ka(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ij(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l="POP",c=null,u=f();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function f(){return(i.state||{idx:null}).idx}function h(){l="POP";let b=f(),g=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:g})}function m(b,g){l="PUSH";let v=Rd(x.location,b,g);u=f()+1;let y=bp(v,u),S=x.createHref(v);try{i.pushState(y,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}a&&c&&c({action:l,location:x.location,delta:1})}function p(b,g){l="REPLACE";let v=Rd(x.location,b,g);u=f();let y=bp(v,u),S=x.createHref(v);i.replaceState(y,"",S),a&&c&&c({action:l,location:x.location,delta:0})}function w(b){return Dj(b)}let x={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(wp,h),c=b,()=>{s.removeEventListener(wp,h),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:p,go(b){return i.go(b)}};return x}function Dj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_a(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function e0(e,t,n="/"){return Lj(e,t,n,!1)}function Lj(e,t,n,r){let s=typeof t=="string"?Ka(t):t,a=mr(s.pathname||"/",n);if(a==null)return null;let i=t0(e);Mj(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Gj(a);l=Vj(i[c],u,r)}return l}function t0(e,t=[],n=[],r=""){let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(wt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=lr([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(wt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),t0(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Wj(u,a.index),routesMeta:f})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of n0(a.path))s(a,i,c)}),t}function n0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=n0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Mj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Oj=/^:[\w-]+$/,$j=3,zj=2,Fj=1,Bj=10,Uj=-2,Sp=e=>e==="*";function Wj(e,t){let n=e.split("/"),r=n.length;return n.some(Sp)&&(r+=Uj),t&&(r+=zj),n.filter(s=>!Sp(s)).reduce((s,a)=>s+(Oj.test(a)?$j:a===""?Fj:Bj),r)}function Hj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Vj(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=Dl({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Dl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:lr([a,h.pathname]),pathnameBase:Qj(lr([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=lr([a,h.pathnameBase]))}return i}function Dl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Kj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},m)=>{if(f==="*"){let w=l[m]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Kj(e,t=!1,n=!0){An(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Gj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return An(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Yj(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ka(e):e;return{pathname:n?n.startsWith("/")?n:Xj(n,t):t,search:Jj(r),hash:Zj(s)}}function Xj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cu(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r0(e){let t=qj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function s0(e,t,n,r=!1){let s;typeof e=="string"?s=Ka(e):(s={...e},wt(!s.pathname||!s.pathname.includes("?"),cu("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),cu("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),cu("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Yj(s,l),u=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var lr=e=>e.join("/").replace(/\/\/+/g,"/"),Qj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function e2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var o0=["POST","PUT","PATCH","DELETE"];new Set(o0);var t2=["GET",...o0];new Set(t2);var No=d.createContext(null);No.displayName="DataRouter";var uc=d.createContext(null);uc.displayName="DataRouterState";d.createContext(!1);var a0=d.createContext({isTransitioning:!1});a0.displayName="ViewTransition";var n2=d.createContext(new Map);n2.displayName="Fetchers";var r2=d.createContext(null);r2.displayName="Await";var Zn=d.createContext(null);Zn.displayName="Navigation";var dc=d.createContext(null);dc.displayName="Location";var xr=d.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var sh=d.createContext(null);sh.displayName="RouteError";function s2(e,{relative:t}={}){wt(Ga(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Zn),{hash:s,pathname:a,search:i}=Ya(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:lr([n,a])),r.createHref({pathname:l,search:i,hash:s})}function Ga(){return d.useContext(dc)!=null}function yr(){return wt(Ga(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(dc).location}var i0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l0(e){d.useContext(Zn).static||d.useLayoutEffect(e)}function c0(){let{isDataRoute:e}=d.useContext(xr);return e?v2():o2()}function o2(){wt(Ga(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(No),{basename:t,navigator:n}=d.useContext(Zn),{matches:r}=d.useContext(xr),{pathname:s}=yr(),a=JSON.stringify(r0(r)),i=d.useRef(!1);return l0(()=>{i.current=!0}),d.useCallback((c,u={})=>{if(An(i.current,i0),!i.current)return;if(typeof c=="number"){n.go(c);return}let f=s0(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:lr([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,a,s,e])}d.createContext(null);function Ya(e,{relative:t}={}){let{matches:n}=d.useContext(xr),{pathname:r}=yr(),s=JSON.stringify(r0(n));return d.useMemo(()=>s0(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function a2(e,t,n,r){wt(Ga(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=d.useContext(Zn),{matches:a}=d.useContext(xr),i=a[a.length-1],l=i?i.params:{},c=i?i.pathname:"/",u=i?i.pathnameBase:"/",f=i&&i.route;{let g=f&&f.path||"";u0(c,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=yr(),m;m=h;let p=m.pathname||"/",w=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=e0(e,{pathname:w});return An(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),An(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),d2(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:lr([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:lr([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r)}function i2(){let e=g2(),t=e2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=d.createElement(d.Fragment,null,d.createElement("p",null," Hey developer "),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:a},"ErrorBoundary")," or"," ",d.createElement("code",{style:a},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,i)}var l2=d.createElement(i2,null),c2=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?d.createElement(xr.Provider,{value:this.props.routeContext},d.createElement(sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u2({routeContext:e,match:t,children:n}){let r=d.useContext(No);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(xr.Provider,{value:e},n)}function d2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);wt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let i=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,m=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||m){i=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,m=!1,p=null,w=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||l2,i&&(l<0&&f===0?(u0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===f&&(m=!0,w=u.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,f+1)),b=()=>{let g;return h?g=p:m?g=w:u.route.Component?g=d.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,d.createElement(u2,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?d.createElement(c2,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function oh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f2(e){let t=d.useContext(No);return wt(t,oh(e)),t}function h2(e){let t=d.useContext(uc);return wt(t,oh(e)),t}function m2(e){let t=d.useContext(xr);return wt(t,oh(e)),t}function ah(e){let t=m2(e),n=t.matches[t.matches.length-1];return wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function p2(){return ah("useRouteId")}function g2(){var r;let e=d.useContext(sh),t=h2("useRouteError"),n=ah("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function v2(){let{router:e}=f2("useNavigate"),t=ah("useNavigate"),n=d.useRef(!1);return l0(()=>{n.current=!0}),d.useCallback(async(s,a={})=>{An(n.current,i0),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Np={};function u0(e,t,n){!t&&!Np[e]&&(Np[e]=!0,An(!1,n))}d.memo(x2);function x2({routes:e,future:t,state:n}){return a2(e,void 0,n,t)}function y2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){wt(!Ga(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof n=="string"&&(n=Ka(n));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:m="default"}=n,p=d.useMemo(()=>{let w=mr(c,i);return w==null?null:{location:{pathname:w,search:u,hash:f,state:h,key:m},navigationType:r}},[i,c,u,f,h,m,r]);return An(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(Zn.Provider,{value:l},d.createElement(dc.Provider,{children:t,value:p}))}var sl="get",ol="application/x-www-form-urlencoded";function fc(e){return e!=null&&typeof e.tagName=="string"}function w2(e){return fc(e)&&e.tagName.toLowerCase()==="button"}function b2(e){return fc(e)&&e.tagName.toLowerCase()==="form"}function S2(e){return fc(e)&&e.tagName.toLowerCase()==="input"}function N2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function j2(e,t){return e.button===0&&(!t||t==="_self")&&!N2(e)}function Pd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function C2(e,t){let n=Pd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var Ei=null;function k2(){if(Ei===null)try{new FormData(document.createElement("form"),0),Ei=!1}catch{Ei=!0}return Ei}var E2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uu(e){return e!=null&&!E2.has(e)?(An(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ol}"`),null):e}function T2(e,t){let n,r,s,a,i;if(b2(e)){let l=e.getAttribute("action");r=l?mr(l,t):null,n=e.getAttribute("method")||sl,s=uu(e.getAttribute("enctype"))||ol,a=new FormData(e)}else if(w2(e)||S2(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?mr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||sl,s=uu(e.getAttribute("formenctype"))||uu(l.getAttribute("enctype"))||ol,a=new FormData(l,e),!k2()){let{name:u,type:f,value:h}=e;if(f==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,h)}}else{if(fc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sl,r=null,s=ol,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ih(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R2(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&mr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function P2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function A2(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await P2(a,n);return i.links?i.links():[]}return[]}));return M2(r.flat(1).filter(_2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function jp(e,t,n,r,s,a){let i=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var f;return n[u].pathname!==c.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var h;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function I2(e,t,{includeHydrateFallback:n}={}){return D2(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function D2(e){return[...new Set(e)]}function L2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function M2(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(L2(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function d0(){let e=d.useContext(No);return ih(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function O2(){let e=d.useContext(uc);return ih(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lh=d.createContext(void 0);lh.displayName="FrameworkContext";function f0(){let e=d.useContext(lh);return ih(e,"You must render this element inside a <HydratedRouter> element"),e}function $2(e,t){let n=d.useContext(lh),[r,s]=d.useState(!1),[a,i]=d.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=t,m=d.useRef(null);d.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=g=>{g.forEach(v=>{i(v.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[e]),d.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{s(!0)},w=()=>{s(!1),i(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:Wo(l,p),onBlur:Wo(c,w),onMouseEnter:Wo(u,p),onMouseLeave:Wo(f,w),onTouchStart:Wo(h,p)}]:[!1,m,{}]}function Wo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function z2({page:e,...t}){let{router:n}=d0(),r=d.useMemo(()=>e0(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?d.createElement(B2,{page:e,matches:r,...t}):null}function F2(e){let{manifest:t,routeModules:n}=f0(),[r,s]=d.useState([]);return d.useEffect(()=>{let a=!1;return A2(e,t,n).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,n]),r}function B2({page:e,matches:t,...n}){let r=yr(),{manifest:s,routeModules:a}=f0(),{basename:i}=d0(),{loaderData:l,matches:c}=O2(),u=d.useMemo(()=>jp(e,t,c,s,r,"data"),[e,t,c,s,r]),f=d.useMemo(()=>jp(e,t,c,s,r,"assets"),[e,t,c,s,r]),h=d.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(t.forEach(g=>{var y;let v=s.routes[g.route.id];!v||!v.hasLoader||(!u.some(S=>S.route.id===g.route.id)&&g.route.id in l&&((y=a[g.route.id])!=null&&y.shouldRevalidate)||v.hasClientLoader?x=!0:w.add(g.route.id))}),w.size===0)return[];let b=R2(e,i,"data");return x&&w.size>0&&b.searchParams.set("_routes",t.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[i,l,r,s,u,t,e,a]),m=d.useMemo(()=>I2(f,s),[f,s]),p=F2(f);return d.createElement(d.Fragment,null,h.map(w=>d.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),m.map(w=>d.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),p.map(({key:w,link:x})=>d.createElement("link",{key:w,...x})))}function U2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h0&&(window.__reactRouterVersion="7.7.0")}catch{}function W2({basename:e,children:t,window:n}){let r=d.useRef();r.current==null&&(r.current=_j({window:n,v5Compat:!0}));let s=r.current,[a,i]=d.useState({action:s.action,location:s.location}),l=d.useCallback(c=>{d.startTransition(()=>i(c))},[i]);return d.useLayoutEffect(()=>s.listen(l),[s,l]),d.createElement(y2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p0=d.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h,...m},p){let{basename:w}=d.useContext(Zn),x=typeof u=="string"&&m0.test(u),b,g=!1;if(typeof u=="string"&&x&&(b=u,h0))try{let R=new URL(window.location.href),j=u.startsWith("//")?new URL(R.protocol+u):new URL(u),C=mr(j.pathname,w);j.origin===R.origin&&C!=null?u=C+j.search+j.hash:g=!0}catch{An(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=s2(u,{relative:s}),[y,S,E]=$2(r,m),P=G2(u,{replace:i,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:h});function T(R){t&&t(R),R.defaultPrevented||P(R)}let N=d.createElement("a",{...m,...E,href:b||v,onClick:g||a?t:T,ref:U2(p,S),target:c,"data-discover":!x&&n==="render"?"true":void 0});return y&&!x?d.createElement(d.Fragment,null,N,d.createElement(z2,{page:v})):N});p0.displayName="Link";var H2=d.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:i,viewTransition:l,children:c,...u},f){let h=Ya(i,{relative:u.relative}),m=yr(),p=d.useContext(uc),{navigator:w,basename:x}=d.useContext(Zn),b=p!=null&&Z2(h)&&l===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,v=m.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&x&&(y=mr(y,x)||y);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=v===g||!s&&v.startsWith(g)&&v.charAt(S)==="/",P=y!=null&&(y===g||!s&&y.startsWith(g)&&y.charAt(g.length)==="/"),T={isActive:E,isPending:P,isTransitioning:b},N=E?t:void 0,R;typeof r=="function"?R=r(T):R=[r,E?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(T):a;return d.createElement(p0,{...u,"aria-current":N,className:R,ref:f,style:j,to:i,viewTransition:l},typeof c=="function"?c(T):c)});H2.displayName="NavLink";var V2=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:i=sl,action:l,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:h,...m},p)=>{let w=Q2(),x=J2(l,{relative:u}),b=i.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&m0.test(l),v=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let S=y.nativeEvent.submitter,E=(S==null?void 0:S.getAttribute("formmethod"))||i;w(S||y.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:s,state:a,relative:u,preventScrollReset:f,viewTransition:h})};return d.createElement("form",{ref:p,method:b,action:x,onSubmit:r?c:v,...m,"data-discover":!g&&e==="render"?"true":void 0})});V2.displayName="Form";function K2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g0(e){let t=d.useContext(No);return wt(t,K2(e)),t}function G2(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=c0(),c=yr(),u=Ya(e,{relative:a});return d.useCallback(f=>{if(j2(f,t)){f.preventDefault();let h=n!==void 0?n:_a(c)===_a(u);l(e,{replace:h,state:r,preventScrollReset:s,relative:a,viewTransition:i})}},[c,l,u,n,r,t,e,s,a,i])}function Y2(e){An(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=d.useRef(Pd(e)),n=d.useRef(!1),r=yr(),s=d.useMemo(()=>C2(r.search,n.current?null:t.current),[r.search]),a=c0(),i=d.useCallback((l,c)=>{const u=Pd(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,i]}var X2=0,q2=()=>`__${String(++X2)}__`;function Q2(){let{router:e}=g0("useSubmit"),{basename:t}=d.useContext(Zn),n=p2();return d.useCallback(async(r,s={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=T2(r,t);if(s.navigate===!1){let f=s.fetcherKey||q2();await e.fetch(f,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function J2(e,{relative:t}={}){let{basename:n}=d.useContext(Zn),r=d.useContext(xr);wt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ya(e||".",{relative:t})},i=yr();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:lr([n,a.pathname])),_a(a)}function Z2(e,t={}){let n=d.useContext(a0);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g0("useViewTransitionState"),s=Ya(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=mr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=mr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dl(s.pathname,i)!=null||Dl(s.pathname,a)!=null}var eC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nC=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:l,...c},u)=>d.createElement("svg",{ref:u,...eC,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${tC(e)}`,...c},[...t.map(([f,h])=>d.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var ve=nC;const jo=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),rC=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),ch=ve("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),v0=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Aa=ve("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),x0=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),da=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Pr=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sC=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Cp=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),no=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xs=ve("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),oC=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),_d=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),aC=ve("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),Ll=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),ys=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),y0=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),iC=ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),du=ve("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Vt=ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ml=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),lC=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),cC=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),uC=ve("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Ad=ve("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),w0=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),dC=ve("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),fC=ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),b0=ve("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),hC=ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),kp=ve("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),zt=ve("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Yt=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Es=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),uh=ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),mC=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pC=ve("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),gC=ve("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),vC=ve("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),xC=ve("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Yr=ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ep=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ia=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),dh=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),yC=ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),wC=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),S0=ve("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),N0=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Tp=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ot=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),bC=ve("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),SC=ve("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),NC=ve("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),jC=ve("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),CC=ve("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),In=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var kC=e=>{switch(e){case"success":return RC;case"info":return _C;case"warning":return PC;case"error":return AC;default:return null}},EC=Array(12).fill(0),TC=({visible:e,className:t})=>ae.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ae.createElement("div",{className:"sonner-spinner"},EC.map((n,r)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),RC=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PC=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_C=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AC=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IC=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DC=()=>{let[e,t]=ae.useState(document.hidden);return ae.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Id=1,LC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Id++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,i=r.then(async c=>{if(a=["resolve",c],ae.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(OC(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:f})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Id++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wt=new LC,MC=(e,t)=>{let n=(t==null?void 0:t.id)||Id++;return Wt.addToast({title:e,...t,id:n}),n},OC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$C=MC,zC=()=>Wt.toasts,FC=()=>Wt.getActiveToasts(),Ho=Object.assign($C,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:zC,getToasts:FC});function BC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}BC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ti(e){return e.label!==void 0}var UC=3,WC="32px",HC="16px",Rp=4e3,VC=356,KC=14,GC=20,YC=200;function bn(...e){return e.filter(Boolean).join(" ")}function XC(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var qC=e=>{var t,n,r,s,a,i,l,c,u,f,h;let{invert:m,toast:p,unstyled:w,interacting:x,setHeights:b,visibleToasts:g,heights:v,index:y,toasts:S,expanded:E,removeToast:P,defaultRichColors:T,closeButton:N,style:R,cancelButtonStyle:j,actionButtonStyle:C,className:A="",descriptionClassName:_="",duration:M,position:I,gap:D,loadingIcon:O,expandByDefault:k,classNames:L,icons:H,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:K}=e,[ie,se]=ae.useState(null),[de,Ee]=ae.useState(null),[$,z]=ae.useState(!1),[Z,X]=ae.useState(!1),[oe,he]=ae.useState(!1),[ce,we]=ae.useState(!1),[Ne,B]=ae.useState(!1),[F,ne]=ae.useState(0),[Q,W]=ae.useState(0),J=ae.useRef(p.duration||M||Rp),fe=ae.useRef(null),ee=ae.useRef(null),me=y===0,Pe=y+1<=g,Te=p.type,ge=p.dismissible!==!1,_e=p.className||"",at=p.descriptionClassName||"",Ut=ae.useMemo(()=>v.findIndex(ye=>ye.toastId===p.id)||0,[v,p.id]),tt=ae.useMemo(()=>{var ye;return(ye=p.closeButton)!=null?ye:N},[p.closeButton,N]),Be=ae.useMemo(()=>p.duration||M||Rp,[p.duration,M]),ht=ae.useRef(0),bt=ae.useRef(0),Jt=ae.useRef(0),Ye=ae.useRef(null),[Y,xe]=I.split("-"),Fe=ae.useMemo(()=>v.reduce((ye,pe,ke)=>ke>=Ut?ye:ye+pe.height,0),[v,Ut]),Ce=DC(),Re=p.invert||m,Dt=Te==="loading";bt.current=ae.useMemo(()=>Ut*D+Fe,[Ut,Fe]),ae.useEffect(()=>{J.current=Be},[Be]),ae.useEffect(()=>{z(!0)},[]),ae.useEffect(()=>{let ye=ee.current;if(ye){let pe=ye.getBoundingClientRect().height;return W(pe),b(ke=>[{toastId:p.id,height:pe,position:p.position},...ke]),()=>b(ke=>ke.filter($e=>$e.toastId!==p.id))}},[b,p.id]),ae.useLayoutEffect(()=>{if(!$)return;let ye=ee.current,pe=ye.style.height;ye.style.height="auto";let ke=ye.getBoundingClientRect().height;ye.style.height=pe,W(ke),b($e=>$e.find(We=>We.toastId===p.id)?$e.map(We=>We.toastId===p.id?{...We,height:ke}:We):[{toastId:p.id,height:ke,position:p.position},...$e])},[$,p.title,p.description,b,p.id]);let St=ae.useCallback(()=>{X(!0),ne(bt.current),b(ye=>ye.filter(pe=>pe.toastId!==p.id)),setTimeout(()=>{P(p)},YC)},[p,P,b,bt]);ae.useEffect(()=>{if(p.promise&&Te==="loading"||p.duration===1/0||p.type==="loading")return;let ye;return E||x||K&&Ce?(()=>{if(Jt.current<ht.current){let pe=new Date().getTime()-ht.current;J.current=J.current-pe}Jt.current=new Date().getTime()})():J.current!==1/0&&(ht.current=new Date().getTime(),ye=setTimeout(()=>{var pe;(pe=p.onAutoClose)==null||pe.call(p,p),St()},J.current)),()=>clearTimeout(ye)},[E,x,p,Te,K,Ce,St]),ae.useEffect(()=>{p.delete&&St()},[St,p.delete]);function it(){var ye,pe,ke;return H!=null&&H.loading?ae.createElement("div",{className:bn(L==null?void 0:L.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Te==="loading"},H.loading):O?ae.createElement("div",{className:bn(L==null?void 0:L.loader,(pe=p==null?void 0:p.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":Te==="loading"},O):ae.createElement(TC,{className:bn(L==null?void 0:L.loader,(ke=p==null?void 0:p.classNames)==null?void 0:ke.loader),visible:Te==="loading"})}return ae.createElement("li",{tabIndex:0,ref:ee,className:bn(A,_e,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[Te],(n=p==null?void 0:p.classNames)==null?void 0:n[Te]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:T,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":$,"data-promise":!!p.promise,"data-swiped":Ne,"data-removed":Z,"data-visible":Pe,"data-y-position":Y,"data-x-position":xe,"data-index":y,"data-front":me,"data-swiping":oe,"data-dismissible":ge,"data-type":Te,"data-invert":Re,"data-swipe-out":ce,"data-swipe-direction":de,"data-expanded":!!(E||k&&$),style:{"--index":y,"--toasts-before":y,"--z-index":S.length-y,"--offset":`${Z?F:bt.current}px`,"--initial-height":k?"auto":`${Q}px`,...R,...p.style},onDragEnd:()=>{he(!1),se(null),Ye.current=null},onPointerDown:ye=>{Dt||!ge||(fe.current=new Date,ne(bt.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(he(!0),Ye.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,pe,ke,$e;if(ce||!ge)return;Ye.current=null;let We=Number(((ye=ee.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ve=Number(((pe=ee.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),He=new Date().getTime()-((ke=fe.current)==null?void 0:ke.getTime()),Je=ie==="x"?We:Ve,mt=Math.abs(Je)/He;if(Math.abs(Je)>=GC||mt>.11){ne(bt.current),($e=p.onDismiss)==null||$e.call(p,p),Ee(ie==="x"?We>0?"right":"left":Ve>0?"down":"up"),St(),we(!0),B(!1);return}he(!1),se(null)},onPointerMove:ye=>{var pe,ke,$e,We;if(!Ye.current||!ge||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;let Ve=ye.clientY-Ye.current.y,He=ye.clientX-Ye.current.x,Je=(ke=e.swipeDirections)!=null?ke:XC(I);!ie&&(Math.abs(He)>1||Math.abs(Ve)>1)&&se(Math.abs(He)>Math.abs(Ve)?"x":"y");let mt={x:0,y:0};ie==="y"?(Je.includes("top")||Je.includes("bottom"))&&(Je.includes("top")&&Ve<0||Je.includes("bottom")&&Ve>0)&&(mt.y=Ve):ie==="x"&&(Je.includes("left")||Je.includes("right"))&&(Je.includes("left")&&He<0||Je.includes("right")&&He>0)&&(mt.x=He),(Math.abs(mt.x)>0||Math.abs(mt.y)>0)&&B(!0),($e=ee.current)==null||$e.style.setProperty("--swipe-amount-x",`${mt.x}px`),(We=ee.current)==null||We.style.setProperty("--swipe-amount-y",`${mt.y}px`)}},tt&&!p.jsx?ae.createElement("button",{"aria-label":le,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!ge?()=>{}:()=>{var ye;St(),(ye=p.onDismiss)==null||ye.call(p,p)},className:bn(L==null?void 0:L.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=H==null?void 0:H.close)!=null?a:IC):null,p.jsx||d.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ae.createElement(ae.Fragment,null,Te||p.icon||p.promise?ae.createElement("div",{"data-icon":"",className:bn(L==null?void 0:L.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||it():null,p.type!=="loading"?p.icon||(H==null?void 0:H[Te])||kC(Te):null):null,ae.createElement("div",{"data-content":"",className:bn(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},ae.createElement("div",{"data-title":"",className:bn(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ae.createElement("div",{"data-description":"",className:bn(_,at,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),d.isValidElement(p.cancel)?p.cancel:p.cancel&&Ti(p.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||j,onClick:ye=>{var pe,ke;Ti(p.cancel)&&ge&&((ke=(pe=p.cancel).onClick)==null||ke.call(pe,ye),St())},className:bn(L==null?void 0:L.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,d.isValidElement(p.action)?p.action:p.action&&Ti(p.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||C,onClick:ye=>{var pe,ke;Ti(p.action)&&((ke=(pe=p.action).onClick)==null||ke.call(pe,ye),!ye.defaultPrevented&&St())},className:bn(L==null?void 0:L.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function Pp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function QC(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?HC:WC;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var JC=d.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:h,duration:m,style:p,visibleToasts:w=UC,toastOptions:x,dir:b=Pp(),gap:g=KC,loadingIcon:v,icons:y,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:E}=e,[P,T]=ae.useState([]),N=ae.useMemo(()=>Array.from(new Set([r].concat(P.filter(K=>K.position).map(K=>K.position)))),[P,r]),[R,j]=ae.useState([]),[C,A]=ae.useState(!1),[_,M]=ae.useState(!1),[I,D]=ae.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=ae.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=ae.useRef(null),H=ae.useRef(!1),le=ae.useCallback(K=>{T(ie=>{var se;return(se=ie.find(de=>de.id===K.id))!=null&&se.delete||Wt.dismiss(K.id),ie.filter(({id:de})=>de!==K.id)})},[]);return ae.useEffect(()=>Wt.subscribe(K=>{if(K.dismiss){T(ie=>ie.map(se=>se.id===K.id?{...se,delete:!0}:se));return}setTimeout(()=>{Zx.flushSync(()=>{T(ie=>{let se=ie.findIndex(de=>de.id===K.id);return se!==-1?[...ie.slice(0,se),{...ie[se],...K},...ie.slice(se+1)]:[K,...ie]})})})}),[]),ae.useEffect(()=>{if(f!=="system"){D(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:ie})=>{D(ie?"dark":"light")})}catch{K.addListener(({matches:se})=>{try{D(se?"dark":"light")}catch(de){console.error(de)}})}},[f]),ae.useEffect(()=>{P.length<=1&&A(!1)},[P]),ae.useEffect(()=>{let K=ie=>{var se,de;s.every(Ee=>ie[Ee]||ie.code===Ee)&&(A(!0),(se=O.current)==null||se.focus()),ie.code==="Escape"&&(document.activeElement===O.current||(de=O.current)!=null&&de.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[s]),ae.useEffect(()=>{if(O.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,H.current=!1)}},[O.current]),ae.createElement("section",{ref:t,"aria-label":`${S} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((K,ie)=>{var se;let[de,Ee]=K.split("-");return P.length?ae.createElement("ol",{key:K,dir:b==="auto"?Pp():b,tabIndex:-1,ref:O,className:l,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":de,"data-lifted":C&&P.length>1&&!a,"data-x-position":Ee,style:{"--front-toast-height":`${((se=R[0])==null?void 0:se.height)||0}px`,"--width":`${VC}px`,"--gap":`${g}px`,...p,...QC(c,u)},onBlur:$=>{H.current&&!$.currentTarget.contains($.relatedTarget)&&(H.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||H.current||(H.current=!0,L.current=$.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{_||A(!1)},onDragEnd:()=>A(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},P.filter($=>!$.position&&ie===0||$.position===K).map(($,z)=>{var Z,X;return ae.createElement(qC,{key:$.id,icons:y,index:z,toast:$,defaultRichColors:h,duration:(Z=x==null?void 0:x.duration)!=null?Z:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:w,closeButton:(X=x==null?void 0:x.closeButton)!=null?X:i,interacting:_,position:K,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:le,toasts:P.filter(oe=>oe.position==$.position),heights:R.filter(oe=>oe.position==$.position),setHeights:j,expandByDefault:a,gap:g,loadingIcon:v,expanded:C,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});function _p(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function j0(...e){return t=>{let n=!1;const r=e.map(s=>{const a=_p(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():_p(e[s],null)}}}}function Ie(...e){return d.useCallback(j0(...e),e)}function mo(e){const t=ZC(e),n=d.forwardRef((r,s)=>{const{children:a,...i}=r,l=d.Children.toArray(a),c=l.find(tk);if(c){const u=c.props.children,f=l.map(h=>h===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,f):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var C0=mo("Slot");function ZC(e){const t=d.forwardRef((n,r)=>{const{children:s,...a}=n;if(d.isValidElement(s)){const i=rk(s),l=nk(a,s.props);return s.type!==d.Fragment&&(l.ref=r?j0(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var k0=Symbol("radix.slottable");function ek(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=k0,t}function tk(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===k0}function nk(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function rk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function E0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=E0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function T0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=E0(e))&&(r&&(r+=" "),r+=t);return r}const Ap=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ip=T0,R0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ip(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=a==null?void 0:a[u];if(f===null)return null;const m=Ap(f)||Ap(h);return s[u][m]}),l=n&&Object.entries(n).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...a,...l}[x]):{...a,...l}[x]===b})?[...u,h,m]:u},[]);return Ip(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};function sk(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=P0(t))&&(r&&(r+=" "),r+=n);return r}function P0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=P0(e[r]))&&(n&&(n+=" "),n+=t);return n}var fh="-";function ok(e){var t=ik(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(fh);return c[0]===""&&c.length!==1&&c.shift(),_0(c,t)||ak(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function _0(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?_0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(fh);return(i=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:i.classGroupId}}var Dp=/^\[(.+)\]$/;function ak(e){if(Dp.test(e)){var t=Dp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function ik(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=ck(Object.entries(e.classGroups),n);return s.forEach(function(a){var i=a[0],l=a[1];Dd(l,r,i,t)}),r}function Dd(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:Lp(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(lk(s)){Dd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Dd(c,Lp(t,l),n,r)})})}function Lp(e,t){var n=e;return t.split(fh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function lk(e){return e.isThemeGetter}function ck(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,a]}):e}function uk(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,i){n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var A0="!";function dk(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,f,h=0;h<i.length;h++){var m=i[h];if(c===0){if(m===r&&(n||i.slice(h,h+s)===t)){l.push(i.slice(u,h)),u=h+s;continue}if(m==="/"){f=h;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(A0),x=w?p.substring(1):p,b=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:b}}}function fk(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function hk(e){return{cache:uk(e.cacheSize),splitModifiers:dk(e),...ok(e)}}var mk=/\s+/;function pk(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(mk).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,f=l.baseClassName,h=l.maybePostfixModifierPosition,m=r(h?f.substring(0,h):f),p=!!h;if(!m){if(!h)return{isTailwindClass:!1,originalClassName:i};if(m=r(f),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=fk(c).join(":"),x=u?w+A0:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,f=l+c;return a.has(f)?!1:(a.add(f),s(c,u).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function gk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,i=l;function l(u){var f=t[0],h=t.slice(1),m=h.reduce(function(p,w){return w(p)},f());return r=hk(m),s=r.cache.get,a=r.cache.set,i=c,c(u)}function c(u){var f=s(u);if(f)return f;var h=pk(u,r);return a(u,h),h}return function(){return i(sk.apply(null,arguments))}}function Xe(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var I0=/^\[(?:([a-z-]+):)?(.+)\]$/i,vk=/^\d+\/\d+$/,xk=new Set(["px","full","screen"]),yk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bk=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Sn(e){return us(e)||xk.has(e)||vk.test(e)||Ld(e)}function Ld(e){return Ts(e,"length",Ek)}function Sk(e){return Ts(e,"size",D0)}function Nk(e){return Ts(e,"position",D0)}function jk(e){return Ts(e,"url",Tk)}function Ri(e){return Ts(e,"number",us)}function us(e){return!Number.isNaN(Number(e))}function Ck(e){return e.endsWith("%")&&us(e.slice(0,-1))}function Vo(e){return Mp(e)||Ts(e,"number",Mp)}function Le(e){return I0.test(e)}function Ko(){return!0}function Cr(e){return yk.test(e)}function kk(e){return Ts(e,"",Rk)}function Ts(e,t,n){var r=I0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Ek(e){return wk.test(e)}function D0(){return!1}function Tk(e){return e.startsWith("url(")}function Mp(e){return Number.isInteger(Number(e))}function Rk(e){return bk.test(e)}function Pk(){var e=Xe("colors"),t=Xe("spacing"),n=Xe("blur"),r=Xe("brightness"),s=Xe("borderColor"),a=Xe("borderRadius"),i=Xe("borderSpacing"),l=Xe("borderWidth"),c=Xe("contrast"),u=Xe("grayscale"),f=Xe("hueRotate"),h=Xe("invert"),m=Xe("gap"),p=Xe("gradientColorStops"),w=Xe("gradientColorStopPositions"),x=Xe("inset"),b=Xe("margin"),g=Xe("opacity"),v=Xe("padding"),y=Xe("saturate"),S=Xe("scale"),E=Xe("sepia"),P=Xe("skew"),T=Xe("space"),N=Xe("translate"),R=function(){return["auto","contain","none"]},j=function(){return["auto","hidden","clip","visible","scroll"]},C=function(){return["auto",Le,t]},A=function(){return[Le,t]},_=function(){return["",Sn]},M=function(){return["auto",us,Le]},I=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},D=function(){return["solid","dashed","dotted","double","none"]},O=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},k=function(){return["start","end","center","between","around","evenly","stretch"]},L=function(){return["","0",Le]},H=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},le=function(){return[us,Ri]},K=function(){return[us,Le]};return{cacheSize:500,theme:{colors:[Ko],spacing:[Sn],blur:["none","",Cr,Le],brightness:le(),borderColor:[e],borderRadius:["none","","full",Cr,Le],borderSpacing:A(),borderWidth:_(),contrast:le(),grayscale:L(),hueRotate:K(),invert:L(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Ck,Ld],inset:C(),margin:C(),opacity:le(),padding:A(),saturate:le(),scale:le(),sepia:L(),skew:K(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Cr]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(I(),[Le])}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vo]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Vo]}],"grid-cols":[{"grid-cols":[Ko]}],"col-start-end":[{col:["auto",{span:["full",Vo]},Le]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Ko]}],"row-start-end":[{row:["auto",{span:[Vo]},Le]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(k())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(k(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(k(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Le,t]}],"min-w":[{"min-w":["min","max","fit",Le,Sn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Cr]},Cr,Le]}],h:[{h:[Le,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Le,Sn]}],"max-h":[{"max-h":[Le,t,"min","max","fit"]}],"font-size":[{text:["base",Cr,Ld]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ri]}],"font-family":[{font:[Ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",us,Ri]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Le,Sn]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(D(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn]}],"underline-offset":[{"underline-offset":["auto",Le,Sn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(I(),[Nk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(D(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:D()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(D())}],"outline-offset":[{"outline-offset":[Le,Sn]}],"outline-w":[{outline:[Sn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Sn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cr,kk]}],"shadow-color":[{shadow:[Ko]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":O()}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cr,Le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Vo,Le]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,Ri]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var _k=gk(Pk);function Ae(...e){return _k(T0(e))}const hh=R0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function V({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?C0:"button";return o.jsx(a,{"data-slot":"button",className:Ae(hh({variant:t,size:n,className:e})),...s})}function Ak(e,t){const n=d.createContext(t),r=a=>{const{children:i,...l}=a,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function On(e,t=[]){let n=[];function r(a,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=h=>{var g;const{scope:m,children:p,...w}=h,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:b,children:p})};u.displayName=a+"Provider";function f(h,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,f]}const s=()=>{const a=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Ik(s,...t)]}function Ik(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function _t(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var vt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Dk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=Dk.reduce((e,t)=>{const n=mo(`Primitive.${t}`),r=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Lk(e,t){e&&So.flushSync(()=>e.dispatchEvent(t))}var L0={exports:{}},M0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=d;function Mk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ok=typeof Object.is=="function"?Object.is:Mk,$k=po.useState,zk=po.useEffect,Fk=po.useLayoutEffect,Bk=po.useDebugValue;function Uk(e,t){var n=t(),r=$k({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return Fk(function(){s.value=n,s.getSnapshot=t,fu(s)&&a({inst:s})},[e,n,t]),zk(function(){return fu(s)&&a({inst:s}),e(function(){fu(s)&&a({inst:s})})},[e]),Bk(n),n}function fu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ok(e,n)}catch{return!0}}function Wk(e,t){return t()}var Hk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wk:Uk;M0.useSyncExternalStore=po.useSyncExternalStore!==void 0?po.useSyncExternalStore:Hk;L0.exports=M0;var Vk=L0.exports;function Kk(){return Vk.useSyncExternalStore(Gk,()=>!0,()=>!1)}function Gk(){return()=>{}}var mh="Avatar",[Yk,N5]=On(mh),[Xk,O0]=Yk(mh),$0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=d.useState("idle");return o.jsx(Xk,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(Se.span,{...r,ref:t})})});$0.displayName=mh;var z0="AvatarImage",F0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=O0(z0,n),l=qk(r,a),c=_t(u=>{s(u),i.onImageLoadingStatusChange(u)});return vt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Se.img,{...a,ref:t,src:r}):null});F0.displayName=z0;var B0="AvatarFallback",U0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=O0(B0,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(Se.span,{...s,ref:t}):null});U0.displayName=B0;function Op(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qk(e,{referrerPolicy:t,crossOrigin:n}){const r=Kk(),s=d.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>Op(a,e));return vt(()=>{l(Op(a,e))},[a,e]),vt(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),f=c("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,n,t]),i}var Qk=$0,Jk=F0,Zk=U0;function ut({className:e,...t}){return o.jsx(Qk,{"data-slot":"avatar",className:Ae("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function dt({className:e,...t}){return o.jsx(Jk,{"data-slot":"avatar-image",className:Ae("aspect-square size-full",e),...t})}function ft({className:e,...t}){return o.jsx(Zk,{"data-slot":"avatar-fallback",className:Ae("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class eE{constructor(){pt(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const tE=new eE;var Md={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,a=n.XMLHttpRequest,i=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,f=n.Promise,h=n.fetch,m=n.Response,p=n.TextDecoder,w=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(B){u.readyState="complete"},!1)),a==null&&l!=null&&(a=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(B){function F(){}return F.prototype=B,new F}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var b=h;h=function(B,F){var ne=F.signal;return b(B,{headers:F.headers,credentials:F.credentials,cache:F.cache}).then(function(Q){var W=Q.body.getReader();return ne._reader=W,ne._aborted&&ne._reader.cancel(),{status:Q.status,statusText:Q.statusText,headers:Q.headers,body:{getReader:function(){return W}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(B){function F(Pe,Te,ge){if(ge===1)return Pe>=128>>Te&&Pe<<Te<=2047;if(ge===2)return Pe>=2048>>Te&&Pe<<Te<=55295||Pe>=57344>>Te&&Pe<<Te<=65535;if(ge===3)return Pe>=65536>>Te&&Pe<<Te<=1114111;throw new Error}function ne(Pe,Te){if(Pe===6*1)return Te>>6>15?3:Te>31?2:1;if(Pe===6*2)return Te>15?3:2;if(Pe===6*3)return 3;throw new Error}for(var Q=65533,W="",J=this.bitsNeeded,fe=this.codePoint,ee=0;ee<B.length;ee+=1){var me=B[ee];J!==0&&(me<128||me>191||!F(fe<<6|me&63,J-6,ne(J,fe)))&&(J=0,fe=Q,W+=String.fromCharCode(fe)),J===0?(me>=0&&me<=127?(J=0,fe=me):me>=192&&me<=223?(J=6*1,fe=me&31):me>=224&&me<=239?(J=6*2,fe=me&15):me>=240&&me<=247?(J=6*3,fe=me&7):(J=0,fe=Q),J!==0&&!F(fe,J,ne(J,fe))&&(J=0,fe=Q)):(J-=6,fe=fe<<6|me&63),J===0&&(fe<=65535?W+=String.fromCharCode(fe):(W+=String.fromCharCode(55296+(fe-65535-1>>10)),W+=String.fromCharCode(56320+(fe-65535-1&1023))))}return this.bitsNeeded=J,this.codePoint=fe,W};var v=function(){try{return new p().decode(new w().encode("test"),{stream:!0})==="test"}catch(B){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+B)}return!1};(p==null||w==null||!v())&&(p=g);var y=function(){};function S(B){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onload=y,this.onerror=y,this.onreadystatechange=y,this._contentType="",this._xhr=B,this._sendTimeout=0,this._abort=y}S.prototype.open=function(B,F){this._abort(!0);var ne=this,Q=this._xhr,W=1,J=0;this._abort=function(ge){ne._sendTimeout!==0&&(s(ne._sendTimeout),ne._sendTimeout=0),(W===1||W===2||W===3)&&(W=4,Q.onload=y,Q.onerror=y,Q.onabort=y,Q.onprogress=y,Q.onreadystatechange=y,Q.abort(),J!==0&&(s(J),J=0),ge||(ne.readyState=4,ne.onabort(null),ne.onreadystatechange())),W=0};var fe=function(){if(W===1){var ge=0,_e="",at=void 0;if("contentType"in Q)ge=200,_e="OK",at=Q.contentType;else try{ge=Q.status,_e=Q.statusText,at=Q.getResponseHeader("Content-Type")}catch{ge=0,_e="",at=void 0}ge!==0&&(W=2,ne.readyState=2,ne.status=ge,ne.statusText=_e,ne._contentType=at,ne.onreadystatechange())}},ee=function(){if(fe(),W===2||W===3){W=3;var ge="";try{ge=Q.responseText}catch{}ne.readyState=3,ne.responseText=ge,ne.onprogress()}},me=function(ge,_e){if((_e==null||_e.preventDefault==null)&&(_e={preventDefault:y}),ee(),W===1||W===2||W===3){if(W=4,J!==0&&(s(J),J=0),ne.readyState=4,ge==="load")ne.onload(_e);else if(ge==="error")ne.onerror(_e);else if(ge==="abort")ne.onabort(_e);else throw new TypeError;ne.onreadystatechange()}},Pe=function(ge){Q!=null&&(Q.readyState===4?(!("onload"in Q)||!("onerror"in Q)||!("onabort"in Q))&&me(Q.responseText===""?"error":"load",ge):Q.readyState===3?"onprogress"in Q||ee():Q.readyState===2&&fe())},Te=function(){J=r(function(){Te()},500),Q.readyState===3&&ee()};"onload"in Q&&(Q.onload=function(ge){me("load",ge)}),"onerror"in Q&&(Q.onerror=function(ge){me("error",ge)}),"onabort"in Q&&(Q.onabort=function(ge){me("abort",ge)}),"onprogress"in Q&&(Q.onprogress=ee),"onreadystatechange"in Q&&(Q.onreadystatechange=function(ge){Pe(ge)}),("contentType"in Q||!("ontimeout"in a.prototype))&&(F+=(F.indexOf("?")===-1?"?":"&")+"padding=true"),Q.open(B,F,!0),"readyState"in Q&&(J=r(function(){Te()},0))},S.prototype.abort=function(){this._abort(!1)},S.prototype.getResponseHeader=function(B){return this._contentType},S.prototype.setRequestHeader=function(B,F){var ne=this._xhr;"setRequestHeader"in ne&&ne.setRequestHeader(B,F)},S.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},S.prototype.send=function(){if((!("ontimeout"in a.prototype)||!("sendAsBinary"in a.prototype)&&!("mozAnon"in a.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var B=this;B._sendTimeout=r(function(){B._sendTimeout=0,B.send()},4);return}var F=this._xhr;"withCredentials"in F&&(F.withCredentials=this.withCredentials);try{F.send(void 0)}catch(ne){throw ne}};function E(B){return B.replace(/[A-Z]/g,function(F){return String.fromCharCode(F.charCodeAt(0)+32)})}function P(B){for(var F=Object.create(null),ne=B.split(`\r
`),Q=0;Q<ne.length;Q+=1){var W=ne[Q],J=W.split(": "),fe=J.shift(),ee=J.join(": ");F[E(fe)]=ee}this._map=F}P.prototype.get=function(B){return this._map[E(B)]},a!=null&&a.HEADERS_RECEIVED==null&&(a.HEADERS_RECEIVED=2);function T(){}T.prototype.open=function(B,F,ne,Q,W,J,fe){B.open("GET",W);var ee=0;B.onprogress=function(){var Pe=B.responseText,Te=Pe.slice(ee);ee+=Te.length,ne(Te)},B.onerror=function(Pe){Pe.preventDefault(),Q(new Error("NetworkError"))},B.onload=function(){Q(null)},B.onabort=function(){Q(null)},B.onreadystatechange=function(){if(B.readyState===a.HEADERS_RECEIVED){var Pe=B.status,Te=B.statusText,ge=B.getResponseHeader("Content-Type"),_e=B.getAllResponseHeaders();F(Pe,Te,ge,new P(_e))}},B.withCredentials=J;for(var me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&B.setRequestHeader(me,fe[me]);return B.send(),B};function N(B){this._headers=B}N.prototype.get=function(B){return this._headers.get(B)};function R(){}R.prototype.open=function(B,F,ne,Q,W,J,fe){var ee=null,me=new x,Pe=me.signal,Te=new p;return h(W,{headers:fe,credentials:J?"include":"same-origin",signal:Pe,cache:"no-store"}).then(function(ge){return ee=ge.body.getReader(),F(ge.status,ge.statusText,ge.headers.get("Content-Type"),new N(ge.headers)),new f(function(_e,at){var Ut=function(){ee.read().then(function(tt){if(tt.done)_e(void 0);else{var Be=Te.decode(tt.value,{stream:!0});ne(Be),Ut()}}).catch(function(tt){at(tt)})};Ut()})}).catch(function(ge){if(ge.name!=="AbortError")return ge}).then(function(ge){Q(ge)}),{abort:function(){ee!=null&&ee.cancel(),me.abort()}}};function j(){this._listeners=Object.create(null)}function C(B){r(function(){throw B},0)}j.prototype.dispatchEvent=function(B){B.target=this;var F=this._listeners[B.type];if(F!=null)for(var ne=F.length,Q=0;Q<ne;Q+=1){var W=F[Q];try{typeof W.handleEvent=="function"?W.handleEvent(B):W.call(this,B)}catch(J){C(J)}}},j.prototype.addEventListener=function(B,F){B=String(B);var ne=this._listeners,Q=ne[B];Q==null&&(Q=[],ne[B]=Q);for(var W=!1,J=0;J<Q.length;J+=1)Q[J]===F&&(W=!0);W||Q.push(F)},j.prototype.removeEventListener=function(B,F){B=String(B);var ne=this._listeners,Q=ne[B];if(Q!=null){for(var W=[],J=0;J<Q.length;J+=1)Q[J]!==F&&W.push(Q[J]);W.length===0?delete ne[B]:ne[B]=W}};function A(B){this.type=B,this.target=void 0}function _(B,F){A.call(this,B),this.data=F.data,this.lastEventId=F.lastEventId}_.prototype=Object.create(A.prototype);function M(B,F){A.call(this,B),this.status=F.status,this.statusText=F.statusText,this.headers=F.headers}M.prototype=Object.create(A.prototype);function I(B,F){A.call(this,B),this.error=F.error}I.prototype=Object.create(A.prototype);var D=-1,O=0,k=1,L=2,H=-1,le=0,K=1,ie=2,se=3,de=/^text\/event\-stream(;.*)?$/i,Ee=1e3,$=18e6,z=function(B,F){var ne=B==null?F:parseInt(B,10);return ne!==ne&&(ne=F),Z(ne)},Z=function(B){return Math.min(Math.max(B,Ee),$)},X=function(B,F,ne){try{typeof F=="function"&&F.call(B,ne)}catch(Q){C(Q)}};function oe(B,F){j.call(this),F=F||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,we(this,B,F)}function he(){return a!=null&&"withCredentials"in a.prototype||i==null?new a:new i}var ce=h!=null&&m!=null&&"body"in m.prototype;function we(B,F,ne){F=String(F);var Q=!!ne.withCredentials,W=ne.lastEventIdQueryParameterName||"lastEventId",J=Z(1e3),fe=z(ne.heartbeatTimeout,45e3),ee="",me=J,Pe=!1,Te=0,ge=ne.headers||{},_e=ne.Transport,at=ce&&_e==null?void 0:new S(_e!=null?new _e:he()),Ut=_e!=null&&typeof _e!="string"?new _e:at==null?new R:new T,tt=void 0,Be=0,ht=D,bt="",Jt="",Ye="",Y="",xe=le,Fe=0,Ce=0,Re=function(pe,ke,$e,We){if(ht===O)if(pe===200&&$e!=null&&de.test($e)){ht=k,Pe=Date.now(),me=J,B.readyState=k;var Ve=new M("open",{status:pe,statusText:ke,headers:We});B.dispatchEvent(Ve),X(B,B.onopen,Ve)}else{var He="";pe!==200?(ke&&(ke=ke.replace(/\s+/g," ")),He="EventSource's response has a status "+pe+" "+ke+" that is not 200. Aborting the connection."):He="EventSource's response has a Content-Type specifying an unsupported type: "+($e==null?"-":$e.replace(/\s+/g," "))+". Aborting the connection.",it();var Ve=new M("error",{status:pe,statusText:ke,headers:We});B.dispatchEvent(Ve),X(B,B.onerror,Ve),console.error(He)}},Dt=function(pe){if(ht===k){for(var ke=-1,$e=0;$e<pe.length;$e+=1){var We=pe.charCodeAt($e);(We===10||We===13)&&(ke=$e)}var Ve=(ke!==-1?Y:"")+pe.slice(0,ke+1);Y=(ke===-1?Y:"")+pe.slice(ke+1),pe!==""&&(Pe=Date.now(),Te+=pe.length);for(var He=0;He<Ve.length;He+=1){var We=Ve.charCodeAt(He);if(xe===H&&We===10)xe=le;else if(xe===H&&(xe=le),We===13||We===10){if(xe!==le){xe===K&&(Ce=He+1);var Je=Ve.slice(Fe,Ce-1),mt=Ve.slice(Ce+(Ce<He&&Ve.charCodeAt(Ce)===32?1:0),He);Je==="data"?(bt+=`
`,bt+=mt):Je==="id"?Jt=mt:Je==="event"?Ye=mt:Je==="retry"?(J=z(mt,J),me=J):Je==="heartbeatTimeout"&&(fe=z(mt,fe),Be!==0&&(s(Be),Be=r(function(){ye()},fe)))}if(xe===le){if(bt!==""){ee=Jt,Ye===""&&(Ye="message");var Nr=new _(Ye,{data:bt.slice(1),lastEventId:Jt});if(B.dispatchEvent(Nr),Ye==="open"?X(B,B.onopen,Nr):Ye==="message"?X(B,B.onmessage,Nr):Ye==="error"&&X(B,B.onerror,Nr),ht===L)return}bt="",Ye=""}xe=We===13?H:le}else xe===le&&(Fe=He,xe=K),xe===K?We===58&&(Ce=He+1,xe=ie):xe===ie&&(xe=se)}}},St=function(pe){if(ht===k||ht===O){ht=D,Be!==0&&(s(Be),Be=0),Be=r(function(){ye()},me),me=Z(Math.min(J*16,me*2)),B.readyState=O;var ke=new I("error",{error:pe});B.dispatchEvent(ke),X(B,B.onerror,ke),pe!=null&&console.error(pe)}},it=function(){ht=L,tt!=null&&(tt.abort(),tt=void 0),Be!==0&&(s(Be),Be=0),B.readyState=L},ye=function(){if(Be=0,ht!==D){if(!Pe&&tt!=null)St(new Error("No activity within "+fe+" milliseconds. "+(ht===O?"No response received.":Te+" chars received.")+" Reconnecting.")),tt!=null&&(tt.abort(),tt=void 0);else{var pe=Math.max((Pe||Date.now())+fe-Date.now(),1);Pe=!1,Be=r(function(){ye()},pe)}return}Pe=!1,Te=0,Be=r(function(){ye()},fe),ht=O,bt="",Ye="",Jt=ee,Y="",Fe=0,Ce=0,xe=le;var ke=F;if(F.slice(0,5)!=="data:"&&F.slice(0,5)!=="blob:"&&ee!==""){var $e=F.indexOf("?");ke=$e===-1?F:F.slice(0,$e+1)+F.slice($e+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(mt,Nr){return Nr===W?"":mt}),ke+=(F.indexOf("?")===-1?"?":"&")+W+"="+encodeURIComponent(ee)}var We=B.withCredentials,Ve={};Ve.Accept="text/event-stream";var He=B.headers;if(He!=null)for(var Je in He)Object.prototype.hasOwnProperty.call(He,Je)&&(Ve[Je]=He[Je]);try{tt=Ut.open(at,Re,Dt,St,ke,We,Ve)}catch(mt){throw it(),mt}};B.url=F,B.readyState=O,B.withCredentials=Q,B.headers=ge,B._close=it,ye()}oe.prototype=Object.create(j.prototype),oe.prototype.CONNECTING=O,oe.prototype.OPEN=k,oe.prototype.CLOSED=L,oe.prototype.close=function(){this._close()},oe.CONNECTING=O,oe.OPEN=k,oe.CLOSED=L,oe.prototype.withCredentials=void 0;var Ne=c;a!=null&&(c==null||!("withCredentials"in c.prototype))&&(Ne=oe),function(B){{var F=B(t);F!==void 0&&(e.exports=F)}}(function(B){B.EventSourcePolyfill=oe,B.NativeEventSource=c,B.EventSource=Ne})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:oS:globalThis)})(Md,Md.exports);var Go=Md.exports;class nE{constructor(t){pt(this,"_userId");pt(this,"apiBaseUrl");pt(this,"maxReconnectAttempts");pt(this,"eventSource",null);pt(this,"reconnectAttempts",0);pt(this,"reconnectTimeout",null);pt(this,"isManualDisconnect",!1);pt(this,"onNotification");pt(this,"onAuthRequired");pt(this,"onConnectionOpen");pt(this,"onConnectionError");pt(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===Go.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}this.startSSEConnection(t)}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;try{console.log("SSE  :",n),this.eventSource=new Go.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE  "),this.reconnectAttempts=0,(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.onerror=r=>{var s,a,i,l;console.error("SSE  :",{error:r,readyState:(s=this.eventSource)==null?void 0:s.readyState,url:n}),(a=this.onConnectionError)==null||a.call(this,r),((i=this.eventSource)==null?void 0:i.readyState)===Go.EventSourcePolyfill.CLOSED?(console.log("SSE  ."),this.eventSource=null,this.handleReconnect()):((l=this.eventSource)==null?void 0:l.readyState)===Go.EventSourcePolyfill.CONNECTING&&console.log("SSE  ...")},this.eventSource.addEventListener("dm_received",r=>{console.log(" dm_received   ( )"),this.handleMessage(r)}),this.eventSource.addEventListener("auth-error",r=>{var s;console.warn(" :",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("   "),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()})}catch(r){console.error("SSE    :",r),this.handleReconnect()}}handleMessage(t){var n;if(console.log(" SSE  :",{type:t.type,event:t.event,lastEventId:t.lastEventId,data:t.data}),!(t.data==="ping"||t.data==="heartbeat"))try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;t.type==="dm_received"&&(console.log(" DM    (  )"),r.notificationType="DM_RECEIVED"),console.log(" SSE  :",r),(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE   :",r,"Raw data:",t.data)}}async refreshTokenAndConnect(){try{console.log("     ..."),await this.refreshToken()?(console.log("  , SSE  ..."),this.connect()):(console.error("   -  "),this.handleAuthRequired())}catch(t){console.error("    :",t),this.handleAuthRequired()}}handleReconnect(){if(this.isManualDisconnect){console.log("     .");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("  ...");const n=this.getValidToken();!n||this.isTokenExpired(n)?(console.log("  .    ."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("    .  ."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch{return!0}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("   :",t),null}try{console.log("   ...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const r=(await t.text()).replace(/"/g,"");if(r&&r!=="null")return localStorage.setItem("accessToken",r),console.log("  "),r}else console.error(`  : ${t.status} ${t.statusText}`),t.status===401&&localStorage.removeItem("accessToken");return null}catch(t){return console.error("   :",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("   ..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.isTokenExpired(t)?(console.log(" :    "),await this.refreshTokenAndConnect()):(console.log(" :   "),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===Go.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}getUserId(){return this._userId}}const rE=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0,disabled:f=!1}=e,h=d.useRef(null),[m,p]=d.useState(!1),[w,x]=d.useState(0),b=d.useRef({onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{b.current={onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c}});const g=d.useCallback(()=>{var R,j;p(!0),x(0),(j=(R=b.current).onConnectionOpen)==null||j.call(R)},[]),v=d.useCallback(R=>{var j,C;p(!1),(C=(j=b.current).onConnectionError)==null||C.call(j,R)},[]),y=d.useCallback(R=>{var j,C;(C=(j=b.current).onNotification)==null||C.call(j,R)},[]),S=d.useCallback(()=>{var R,j;p(!1),(j=(R=b.current).onAuthRequired)==null||j.call(R)},[]),E=d.useCallback(()=>{h.current&&t&&!f&&h.current.connect()},[t,f]),P=d.useCallback(()=>{h.current&&(h.current.disconnect(),p(!1),x(0))},[]),T=d.useCallback(()=>{h.current&&h.current.reconnect()},[]),N=d.useCallback(()=>{h.current&&h.current.forceReconnect()},[]);return d.useEffect(()=>{if(t&&!f){const R={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:y,onAuthRequired:S,onConnectionOpen:g,onConnectionError:v,onTokenRefresh:b.current.onTokenRefresh};h.current=new nE(R),u&&setTimeout(()=>{var A;(A=h.current)==null||A.connect()},1e3);const C=setInterval(()=>{h.current&&(p(h.current.isConnected()),x(h.current.getReconnectAttempts()))},2e3);return()=>{var A;clearInterval(C),(A=h.current)==null||A.disconnect(),h.current=null}}else h.current&&(h.current.disconnect(),h.current=null),p(!1),x(0)},[t,f,n,r,u,y,S,g,v]),d.useEffect(()=>{h.current&&t&&h.current.updateUserId(t)},[t]),{isConnected:m,reconnectAttempts:w,connect:E,disconnect:P,reconnect:T,forceReconnect:N}};function sE({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:a,authenticatedFetch:i,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:f,refreshAccessToken:h,isSharedAccess:m,onDMReceived:p,onPlaylistRefresh:w}){const[x,b]=d.useState([]),[g,v]=d.useState(!1),[y,S]=d.useState(!1),[E,P]=d.useState(null),[T,N]=d.useState(null),[R,j]=d.useState(!0),[C,A]=d.useState(!1),_=d.useRef(null);d.useEffect(()=>{!l||m||(b([]),N(null),j(!0),k())},[l]),rE({userId:l,disabled:m,onNotification:$=>{if($.notificationType==="CONNECTED")return;const z=$.notificationType;console.log("   -    :",z),z==="DM_RECEIVED"||z==="dm_received"?(console.log(" DM    - DM   :",z),p?p():console.error(" onDMReceived  !")):z==="NEW_DM_ROOM"||z==="new_dm_room"?(console.log("  DM    - DM   :",z),p&&p()):z==="FOLLOWED"||z==="followed"?(console.log("    -    :",z),c&&c()):z==="PLAYLIST_SUBSCRIBED"||z==="playlist_subscribed"?(console.log("     -   :",z),w&&w()):(z==="FOLLOWING_POSTED_PLAYLIST"||z==="following_posted_playlist")&&(console.log("      -   :",z),w&&w());const Z=M($);b(X=>[Z,...X])},onAuthRequired:()=>{if(m){console.log("     - SSE   ");return}console.warn("SSE    -      "),h().then($=>{$?console.log("SSE    -   "):(console.error("SSE     "),a())}).catch($=>{console.error("SSE    :",$),a()})},onTokenRefresh:async()=>await h()});const M=$=>{const z=X=>{switch(X.toLowerCase()){case"dm_received":return" DM ";case"new_dm_room":return" DM  ";case"followed":return"";case"playlist_subscribed":return" ";case"following_posted_playlist":return" ";default:return""}},Z=X=>{const oe=new Date(X),ce=new Date().getTime()-oe.getTime(),we=Math.floor(ce/(1e3*60)),Ne=Math.floor(ce/(1e3*60*60)),B=Math.floor(ce/(1e3*60*60*24));return we<1?" ":we<60?`${we} `:Ne<24?`${Ne} `:B===1?"":`${B} `};return{id:$.id,type:z($.notificationType),content:$.content,createdAt:Z($.createdAt),isRead:!1}},I=$=>{const z=X=>{switch(X.toLowerCase()){case"dm_received":return" DM ";case"new_dm_room":return" DM  ";case"followed":return"";case"playlist_subscribed":return" ";case"following_posted_playlist":return" ";default:return""}},Z=X=>{const oe=new Date(X),ce=new Date().getTime()-oe.getTime(),we=Math.floor(ce/(1e3*60)),Ne=Math.floor(ce/(1e3*60*60)),B=Math.floor(ce/(1e3*60*60*24));return we<1?" ":we<60?`${we} `:Ne<24?`${Ne} `:B===1?"":`${B} `};return{id:$.id,type:z($.notificationType),content:$.content,createdAt:Z($.createdAt),isRead:$.isRead??!1}},D=async()=>{if(!l||m){console.log("       ID  -    ");return}try{const $=await tE.getUser(l);P($)}catch($){console.error("   :",$),$ instanceof Error&&($.message.includes("not found")||$.message.includes("401")||$.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a())}},O=async()=>{if(!l||m){console.log("       ID  -   ");return}try{const $=await i("http://localhost:8080/api/notifications");if(!$.ok){if($.status===401||$.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a();return}throw new Error(`   . (: ${$.status})`)}const z=await $.json(),Z=z.data||z;if(!Array.isArray(Z)){console.error("   :",z),b([]);return}const X=Z.map(I);b(oe=>{const he=[...X,...oe],ce=new Set;return he.filter(we=>ce.has(we.id)?!1:(ce.add(we.id),!0))})}catch($){console.error("   :",$),$ instanceof Error&&($.message.includes("401")||$.message.includes("403"))&&b([])}},k=d.useCallback(async()=>{if(!(!l||C||!R)){A(!0);try{const $=new URLSearchParams;T&&$.append("cursor",T),$.append("size","20");const z=await i(`http://localhost:8080/api/notifications?${$.toString()}`);if(!z.ok)throw new Error("   .");const{data:Z,nextCursor:X,hasNext:oe}=await z.json(),he=Z.map(I);b(ce=>{const we=new Set(ce.map(Ne=>Ne.id));return[...ce,...he.filter(Ne=>!we.has(Ne.id))]}),N(X),j(oe)}catch{}finally{A(!1)}}},[l,C,R,i,T]);d.useEffect(()=>{if(!g||!R||C)return;const $=new IntersectionObserver(z=>{z[0].isIntersecting&&k()},{threshold:1});return _.current&&$.observe(_.current),()=>{_.current&&$.unobserve(_.current)}},[R,C,k,g]),d.useEffect(()=>{l&&(D(),O())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=D),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const L=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],H=x.filter($=>!$.isRead).length;d.useEffect(()=>{const $=z=>{const Z=z.target;!Z.closest(".notification-container")&&!Z.closest(".profile-container")&&(v(!1),S(!1))};return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[]);const le=async $=>{try{await u($),b(z=>z.filter(Z=>Z.id!==$))}catch(z){console.error("  :",z)}},K=async $=>{try{await i(`http://localhost:8080/api/notifications/${$}`,{method:"POST"}),b(z=>z.map(Z=>Z.id===$?{...Z,isRead:!0}:Z))}catch(z){console.error("   :",z)}},ie=async()=>{try{if(!(await i("http://localhost:8080/api/notifications/",{method:"POST"})).ok)throw new Error("    ");await O(),b(z=>z.map(Z=>({...Z,isRead:!0})))}catch($){console.error("   :",$)}},se=$=>{s&&s(),t($)},de=$=>{$.stopPropagation(),s&&s(),v(!g),S(!1)},Ee=async()=>{try{if(!(await i("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");S(!1),a()}catch($){console.error(" :",$),S(!1),a()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>se("home"),children:""}),!m&&o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:L.map($=>o.jsx("li",{children:o.jsx("button",{onClick:()=>se($.id),className:`transition-colors hover:text-[#4ecdc4] ${e===$.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:$.label})},$.id))}),m&&o.jsx("div",{className:"text-white/60 text-sm",children:" "}),o.jsxs("div",{className:"flex items-center space-x-4",children:[!m&&o.jsxs("div",{className:"relative notification-container",children:[o.jsxs(V,{variant:"ghost",size:"sm",onClick:de,className:"relative p-2 hover:bg-white/10",children:[o.jsx(rC,{className:"w-5 h-5"}),H>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:H>9?"9+":H})]}),g&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[H>0&&o.jsx(V,{variant:"ghost",size:"sm",onClick:ie,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx(V,{variant:"ghost",size:"sm",onClick:async()=>{try{await f(),b([])}catch($){console.error("   :",$)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(Ia,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${x.length>4?"max-h-96":""}`,children:x.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsxs("div",{className:"p-2",children:[x.map($=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>K($.id),children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${$.isRead?"text-white/60":"font-medium"}`,children:$.type}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:$.createdAt})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:$.content})]}),o.jsx(V,{variant:"ghost",size:"sm",onClick:async z=>{z.stopPropagation(),await le($.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Ia,{className:"w-3 h-3"})}),!$.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},$.id)),o.jsx("div",{ref:_,style:{height:1}})]})})]})]}),m?o.jsx(V,{variant:"outline",size:"sm",onClick:()=>window.location.href="/",className:"border-[#4ecdc4] text-[#4ecdc4] hover:bg-[#4ecdc4] hover:text-black",children:""}):o.jsxs("div",{className:"relative profile-container",children:[o.jsxs(V,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),S(!y),v(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(ut,{className:"h-8 w-8",children:[o.jsx(dt,{src:(E==null?void 0:E.profileImage)||""}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:(E==null?void 0:E.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(E==null?void 0:E.name)||""})]}),y&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>{S(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Tp,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>{S(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Tp,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs(V,{variant:"ghost",size:"sm",onClick:Ee,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(lC,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function oE(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},n=[{name:"Github",icon:aC,href:"#github"},{name:"Twitter",icon:yC,href:"#twitter"},{name:"Instagram",icon:iC,href:"#instagram"},{name:"Email",icon:cC,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(a=>o.jsx("li",{children:o.jsx("a",{href:a.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:a.name})},a.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]})})})]})})}const Ge=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:Ae("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));Ge.displayName="Input";var aE="Label",W0=d.forwardRef((e,t)=>o.jsx(Se.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));W0.displayName=aE;var iE=W0;function Kt({className:e,...t}){return o.jsx(iE,{"data-slot":"label",className:Ae("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var lE="Separator",$p="horizontal",cE=["horizontal","vertical"],H0=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=$p,...s}=e,a=uE(r)?r:$p,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Se.div,{"data-orientation":a,...l,...s,ref:t})});H0.displayName=lE;function uE(e){return cE.includes(e)}var dE=H0;function fE({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(dE,{"data-slot":"separator-root",decorative:n,orientation:t,className:Ae("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function V0({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,a]=d.useState(null),i=c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];if(u){if(!u.type.startsWith("image/")){a("    .");return}if(u.size>5*1024*1024){a("  5MB  .");return}a(null),t(u)}},l=()=>{t(null),a(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),n&&o.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(In,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(ut,{className:"h-20 w-20",children:[o.jsx(dt,{src:URL.createObjectURL(e)}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx(V,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(In,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Ge,{type:"file",accept:"image/*",onChange:i,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(wC,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function hE({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,a]=d.useState(!1),[i,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[f,h]=d.useState(!1),[m,p]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(""),v=P=>{P?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(P)?g(""):g(" 8 , , ,   ."):g(" .")},y=()=>{console.log("    "),window.location.href="http://localhost:8080/oauth2/authorization/kakao"},S=()=>{window.location.href="http://localhost:8080/oauth2/authorization/google"},E=async P=>{P.preventDefault(),u(null),h(!0);try{if(r){if(!i.name.trim()){u(" .");return}if(i.name.length<3||i.name.length>50){u(" 3  50  .");return}if(!i.email.trim()){u(" .");return}if(!i.password.trim()){u(" .");return}if(!/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(i.password)){u(" 8 , , ,   .");return}if(i.password!==i.confirmPassword){u("  .");return}const N=new FormData;N.append("email",i.email),N.append("name",i.name),N.append("password",i.password),m&&N.append("profile",m);const R=await fetch("http://localhost:8080/api/users",{method:"POST",credentials:"include",body:N});if(!R.ok){let j=" .";const C=R.headers.get("content-type");if(C&&C.includes("application/json"))try{const A=await R.text();A&&(j=JSON.parse(A).message||j)}catch(A){console.error("Error parsing error response:",A)}throw new Error(j)}alert(" . ."),t()}else{const T={email:i.email,password:i.password},N=await fetch("http://localhost:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(T)});if(!N.ok){let j=" .";const C=N.headers.get("content-type");if(C&&C.includes("application/json"))try{const A=await N.text();A&&(j=JSON.parse(A).message||j)}catch(A){console.error("Error parsing error response:",A)}throw new Error(j)}const R=await N.text();if(!R||R.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const j=JSON.parse(R);e(j.accessToken,j.isTempPassword)}catch(j){throw console.error("Error parsing success response:",j),new Error("    .")}}}catch(T){u(T instanceof Error?T.message:"   .")}finally{h(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(Kt,{htmlFor:"name",className:"text-base",children:""}),o.jsx(Ge,{id:"name",type:"text",value:i.name,onChange:P=>l({...i,name:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Kt,{htmlFor:"email",className:"text-base",children:""}),o.jsx(Ge,{id:"email",type:"email",value:i.email,onChange:P=>l({...i,email:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(Kt,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(Ge,{id:"password",type:s?"text":"password",value:i.password,onChange:P=>{const T=P.target.value;l({...i,password:T}),r&&v(T)},className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(oC,{className:"w-5 h-5"}):o.jsx(_d,{className:"w-5 h-5"})})]}),r&&b&&o.jsx("p",{className:"text-red-500 text-sm mt-2",children:b})]}),r&&o.jsxs("div",{children:[o.jsx(Kt,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(Ge,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:P=>l({...i,confirmPassword:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(Kt,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(ut,{className:"h-16 w-16",children:[o.jsx(dt,{src:m?URL.createObjectURL(m):void 0}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:i.name.charAt(0)||"U"})]}),o.jsxs(V,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(v0,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(V0,{selectedImage:m,onImageSelect:p,onClose:()=>x(!1),userName:i.name})})]}),o.jsx(V,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:f,children:f?" ...":r?"":""})]}),o.jsx(fE,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(V,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:y,disabled:f,children:[" ",r?"":""]}),o.jsxs(V,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:S,disabled:f,children:["Google ",r?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:f,children:r?"":""})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:f,children:" "})]})]})]})]})}class mE{constructor(){pt(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const i=t.type.toUpperCase();n.append("contentType",i)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(n){throw console.error("   :",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const ds=new mE;class pE{constructor(){pt(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getWatchRooms(t){const n=new URL(this.baseUrl);t.query&&n.searchParams.append("searchKeyword",t.query),t.sortBy&&n.searchParams.append("sortBy",t.sortBy),t.direction&&n.searchParams.append("direction",t.direction),t.cursor&&n.searchParams.append("cursor",t.cursor),t.size&&n.searchParams.append("size",t.size.toString());const r=await this.authenticatedFetch(n.toString());if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async joinWatchRoom(t){var n,r;try{const s=await this.getWatchRoom(t);return{id:s.id,title:s.title,newUserId:"",playTime:0,isPlaying:!1,content:{id:((n=s.contentDto)==null?void 0:n.id)||s.contentId||"",title:((r=s.contentDto)==null?void 0:r.title)||s.contentTitle||"",titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:s.headCount}}}catch(s){throw console.error("  :",s),s}}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>{var a;return s.title.toLowerCase().includes(r)||(((a=s.contentDto)==null?void 0:a.title)||s.contentTitle||"").toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r)})}}const go=new pE;class gE{constructor(){pt(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getPlaylistById(t){const n=`${this.baseUrl}/${t}`,r={"Content-Type":"application/json"},s=localStorage.getItem("accessToken");s&&(r.Authorization=`Bearer ${s}`);const a=await fetch(n,{headers:r});if(!a.ok)throw new Error(`   (status: ${a.status})`);return await a.json()}async getAllPublic(){const t=await fetch(this.baseUrl);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async getAllSubscribed(){const t=await this.authenticatedFetch(`${this.baseUrl}/subscribed`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async subscribe(t,n){const s=await this.authenticatedFetch("http://localhost:8080/api/subscriptions",{method:"POST",body:JSON.stringify({userId:t,playlistId:n})});if(!s.ok)throw new Error(`  . Status: ${s.status}`);return await s.json()}async unsubscribe(t){const n=`http://localhost:8080/api/subscriptions/${t}`,r=await this.authenticatedFetch(n,{method:"DELETE"});if(!r.ok)throw new Error(`   . Status: ${r.status}`)}async getUserPlaylists(t){const n=await this.authenticatedFetch(`${this.baseUrl.replace("/playlists","")}/users/${t}/playlists`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}async getPlaylistByUser(){const t=await this.authenticatedFetch(`${this.baseUrl}/user`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async deletePlaylist(t){console.log(" PlaylistService:   :",t);const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(console.log(" PlaylistService:   :",n.status,n.statusText),!n.ok){const r=await n.text().catch(()=>"Unknown error");throw console.error(" PlaylistService:   :",r),new Error(`  . Status: ${n.status}, Message: ${r}`)}console.log(" PlaylistService:  ")}}const Ol=new gE;function Pi({onPageChange:e,onPlaylistOpen:t,onContentPlay:n,onJoinRoom:r,userId:s,refreshTrigger:a}){const[i,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState([]),[m,p]=d.useState(!0),[w,x]=d.useState(null),b=d.useRef(null),g=d.useRef(null),v=d.useRef(null),y=async()=>{try{const C=await go.getWatchRooms({size:9});Array.isArray(C.data)?l(C.data):(console.error("Live rooms data is not an array:",C.data),l([]))}catch(C){console.error("Failed to fetch live rooms:",C),l([])}},S=async()=>{try{const C=await ds.getContents({size:20});u(C.data)}catch(C){console.error("Failed to fetch featured content:",C)}},E=async()=>{try{const C=await Ol.getAllSubscribed();h(C.slice(0,4))}catch(C){console.error("Failed to fetch my playlists:",C),h([])}};d.useEffect(()=>{if(!s)return;p(!0),(async()=>{p(!0),await Promise.all([y(),S(),E()]),p(!1)})()},[s,a]);const P=async C=>{if(console.log("Dashboard - handleJoinRoom :",C.id,C.title),w){console.log("Dashboard -     :",w);return}x(C.id);try{console.log("Dashboard - onJoinRoom   "),r?(await r(C),console.log("Dashboard - onJoinRoom   ")):console.error("Dashboard - onJoinRoom  ")}catch(A){console.error("Dashboard -   :",A)}finally{x(null)}},T=()=>{e&&e("playlist")},N=C=>{t&&t(C)},R=C=>{C.current&&C.current.scrollBy({left:-288,behavior:"smooth"})},j=C=>{C.current&&C.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs(V,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(dh,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs(V,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:()=>e&&e("live"),children:[" ",o.jsx(Pr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(V,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(b),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>j(b),children:o.jsx(Pr,{className:"w-6 h-6"})}),o.jsx("div",{ref:b,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:m?Array(3).fill(0).map((C,A)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},A)):(Array.isArray(i)?i:[]).slice(0,9).map(C=>{var A,_,M;return o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(A=C.contentDto)!=null&&A.thumbnailUrl?o.jsx("img",{src:C.contentDto.thumbnailUrl,alt:C.contentDto.title,className:"w-full h-full object-cover",onError:I=>{var D;I.currentTarget.style.display="none",(D=I.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(_=C.contentDto)!=null&&_.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",C.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(V,{size:"sm",onClick:I=>{I.stopPropagation(),P(C)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!w,children:[w===C.id?o.jsx(Vt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(zt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(M=C.contentDto)==null?void 0:M.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[C.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(no,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[C.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",C.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},C.id)})})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Yr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(V,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:()=>e&&e("curation"),children:[" ",o.jsx(Pr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(V,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(g),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>j(g),children:o.jsx(Pr,{className:"w-6 h-6"})}),o.jsx("div",{ref:g,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:m?Array(6).fill(0).map((C,A)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},A)):c.slice(0,20).map(C=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:C.id,title:C.title,thumbnail:C.thumbnailUrl||C.url||"",type:C.contentType==="MOVIE"?"movie":C.contentType==="TV"?"tv":"sports",description:C.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[C.thumbnailUrl?o.jsx("img",{src:C.thumbnailUrl,alt:C.title,className:"w-full h-full object-cover",onError:A=>{var _;A.currentTarget.style.display="none",(_=A.currentTarget.nextElementSibling)==null||_.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${C.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:C.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(V,{size:"sm",onClick:A=>{A.stopPropagation(),n&&n({id:C.id,title:C.title,thumbnail:C.thumbnailUrl||C.url||"",type:C.contentType==="MOVIE"?"movie":C.contentType==="TV"?"tv":"sports",description:C.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(zt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(V,{size:"sm",variant:"outline",onClick:A=>{A.stopPropagation(),console.log("Add to playlist:",C.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:C.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:C.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:C.releaseDate?new Date(C.releaseDate).getFullYear():"2024"})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${C.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":C.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:C.contentType==="MOVIE"?"":C.contentType==="TV"?"TV/":""})})]})]},C.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(no,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(V,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:T,children:["",o.jsx(Pr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(V,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(v),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>j(v),children:o.jsx(Pr,{className:"w-6 h-6"})}),o.jsx("div",{ref:v,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:m?Array(4).fill(0).map((C,A)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},A)):f.map((C,A)=>{const _=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],M=_[A%_.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>N(C.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${M} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(fC,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:C.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(V,{size:"lg",onClick:I=>{I.stopPropagation(),N(C.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(zt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:C.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:C.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[C.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(no,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ch,{className:"w-3 h-3"}),o.jsx("span",{children:C.createdAt?new Date(C.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},C.id)})})]})]})]})}const vE=R0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Pn({className:e,variant:t,asChild:n=!1,...r}){const s=n?C0:"span";return o.jsx(s,{"data-slot":"badge",className:Ae(vE({variant:t}),e),...r})}class xE{constructor(){pt(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const _i=new xE,yE=e=>({id:e.id,title:e.title,thumbnail:e.thumbnailUrl||`https://via.placeholder.com/300x400/1a1a1a/ffffff?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function wE({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{b()},[]),d.useEffect(()=>{if(c.length>0&&!s){const R=c[0];a(R.id),g(R.id)}},[c,s]);const b=async()=>{try{if(!r){console.error(" ID .");return}const j=(await _i.getUserKeywords(r)).map(C=>({id:C.keywordId,label:C.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(j)}catch(R){console.error("   :",R),u([])}},g=async R=>{try{x(!0);const C=(await _i.getKeywordContents(R)).map(yE),A=c.find(O=>O.id===R),_=C.filter(O=>O.type==="movie"),M=C.filter(O=>O.type==="tv"),I=C.filter(O=>O.type==="sports"),D=[];_.length>0&&D.push({id:`${R}-movie`,title:`${(A==null?void 0:A.label)||""} `,items:_,category:""}),M.length>0&&D.push({id:`${R}-tv`,title:`${(A==null?void 0:A.label)||""} TV `,items:M,category:"TV"}),I.length>0&&D.push({id:`${R}-sports`,title:`${(A==null?void 0:A.label)||""} `,items:I,category:""}),l(D)}catch(j){console.error("  :",j),l([])}finally{x(!1)}},v=R=>{a(R),g(R)},y=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const R=await _i.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),j={id:R.keywordId,label:R.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(C=>[...C,j]),p(""),h(!1),alert(" !")}catch(R){console.error("  :",R),alert("  .")}}},S=async R=>{if(window.confirm("  ?"))try{if(await _i.deleteKeyword(R),u(j=>j.filter(C=>C.id!==R)),s===R){const j=c.filter(C=>C.id!==R);j.length>0?(a(j[0].id),g(j[0].id)):(a(""),l([]))}alert(" .")}catch(j){console.error("  :",j),alert("  .")}},E=R=>{const j=document.getElementById(R);j&&j.scrollBy({left:-400,behavior:"smooth"})},P=R=>{const j=document.getElementById(R);j&&j.scrollBy({left:400,behavior:"smooth"})},T=R=>R>=1e4?`${Math.floor(R/1e3)}K`:R.toLocaleString(),N=R=>{n==null||n(R),console.log(`Opening playlist modal for: ${R.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Ep,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(R=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx(V,{variant:s===R.id?"default":"outline",size:"sm",onClick:()=>v(R.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===R.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===R.id?R.color:void 0,backgroundColor:s===R.id?R.color:void 0},children:R.label}),o.jsx(V,{size:"sm",variant:"ghost",onClick:j=>{j.stopPropagation(),S(R.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(In,{className:"w-3 h-3"})})]},R.id)),f?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Ge,{value:m,onChange:R=>p(R.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:R=>R.key==="Enter"&&y(),autoFocus:!0}),o.jsx(V,{size:"sm",onClick:y,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(Aa,{className:"w-4 h-4"})}),o.jsx(V,{size:"sm",variant:"outline",onClick:()=>{h(!1),p("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(In,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs(V,{size:"sm",variant:"outline",onClick:()=>h(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:i.map(R=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[R.title,o.jsxs(Pn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(Ot,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(`section-${R.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(da,{className:"w-4 h-4"})}),o.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(`section-${R.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Pr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${R.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:R.items.map((j,C)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[R.id==="trending"&&C<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(Pn,{className:`
                              ${C===0?"bg-yellow-500 text-black":""}
                              ${C===1?"bg-gray-300 text-black":""}
                              ${C===2?"bg-amber-600 text-white":""}
                            `,children:["#",C+1]})}),o.jsx("img",{src:j.thumbnail,alt:j.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{const _=A.target;_.style.display="none";const M=_.parentElement;if(M&&!M.querySelector(".image-fallback")){const I=document.createElement("div");I.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",I.textContent=j.title.charAt(0).toUpperCase(),M.appendChild(I)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs(V,{size:"sm",onClick:()=>e(j),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(zt,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs(V,{size:"sm",variant:"outline",onClick:()=>t(j),className:"border-white/20 hover:bg-white/10",children:[o.jsx(_d,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(V,{size:"sm",variant:"outline",onClick:()=>N(j),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(dh,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:T(j.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:j.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:j.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yr,{className:`w-4 h-4 ${j.rating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:j.rating.toFixed(2)})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(w0,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:j.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.displayGenres.slice(0,2).map(A=>o.jsx(Pn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:A},A))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:j.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs(V,{size:"sm",onClick:()=>e(j),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(zt,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx(V,{size:"sm",variant:"outline",onClick:()=>t(j),className:"border-white/20 hover:bg-white/10",children:o.jsx(_d,{className:"w-4 h-4"})}),o.jsx(V,{size:"sm",variant:"outline",onClick:()=>N(j),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Yt,{className:"w-4 h-4"})})]})]})]})]},j.id))})]},R.id))}),!w&&i.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Ep,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function K0(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:a,style:i,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:i,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(y0,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:a,className:l,style:i,...c,onError:r})}function bE({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},i={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(K0,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${i[n]} font-medium text-white/80`,children:["+",s]})})]})})}function SE({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[a,i]=d.useState(""),[l,c]=d.useState(!0),[u,f]=d.useState(!1),h=async p=>{p.preventDefault(),r.trim()&&(f(!0),console.log("Creating playlist:",{title:r.trim(),description:a.trim(),isPublic:l,coverImage:null}),await new Promise(w=>setTimeout(w,1e3)),n({title:r.trim(),description:a.trim(),isPublic:l,coverImage:null}),s(""),i(""),c(!0),f(!1),t())},m=()=>{u||(s(""),i(""),c(!0),t())};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:m}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx(V,{variant:"ghost",size:"sm",onClick:m,className:"p-2 hover:bg-white/10",disabled:u,children:o.jsx(In,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Kt,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(Ge,{id:"title",value:r,onChange:p=>s(p.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Kt,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(Ll,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(Aa,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(Ml,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(Aa,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(V,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:m,disabled:u,children:""}),o.jsx(V,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||u,children:u?" ...":" "})]})]})]})]}):null}function zp({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:a,onUserProfileOpen:i,refreshTrigger:l}){const[c,u]=d.useState(""),[f,h]=d.useState([]),[m,p]=d.useState(!1),[w,x]=d.useState(!0),[b,g]=d.useState(null),[v,y]=d.useState("all"),S=M=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(M);d.useEffect(()=>{E()},[l]),d.useEffect(()=>{const M=setTimeout(()=>{E(c.trim()||void 0,v)},300);return()=>clearTimeout(M)},[c,v]);const E=async(M,I="all")=>{try{x(!0),g(null),console.log("   :",{searchKeyword:M,currentViewType:I});const D=await t(M,I);console.log("   :",D),h(D)}catch(D){console.error("Error loading playlists:",D),g("   .")}finally{x(!1)}},P=f,T=()=>{p(!0)},N=M=>{e&&e(M)},R=async M=>{try{await n({name:M.title,description:M.description,isPublic:M.isPublic}),console.log("     "),await E(c.trim()||void 0,v)}catch(I){console.error("Error creating playlist:",I),g("   .")}},j=M=>!M.subscriptions||!a?!1:M.subscriptions.some(I=>I.userId===a),C=M=>!M.subscriptions||!a?null:M.subscriptions.find(I=>I.userId===a),A=async M=>{if(console.log("    :",{playlistId:M,currentUserId:a}),!r||!s||!a){console.error("    ID :",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:a});return}const I=f.find(O=>O.id===M);if(!I){console.error("   :",M);return}const D=j(I);console.log("  :",{isSubscribed:D,subscriptions:I.subscriptions});try{if(D){const O=C(I);if(!O){console.error("    ");return}if(console.log("   - subscription  :",O),!O.subscriptionId){console.error("subscription.subscriptionId undefined:",O);return}console.log("  :",O.subscriptionId),await s(O.subscriptionId)}else console.log(" :",M),await r(M);await E(c.trim()||void 0,v)}catch(O){console.error("   :",O)}},_=M=>{const I="#4ECDC4",D=M.name;return o.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:I},children:D})};return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs(V,{onClick:T,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Ge,{placeholder:" ...",value:c,onChange:M=>u(M.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx(V,{variant:v==="all"?"default":"outline",onClick:()=>y("all"),className:v==="all"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:" "}),a&&o.jsxs(V,{variant:v==="subscribed"?"default":"outline",onClick:()=>y("subscribed"),className:v==="subscribed"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:[o.jsx(ys,{className:"w-4 h-4 mr-2"})," "]})]})]}),(console.log(" Playlist  :",{loading:w,error:b,playlistsLength:f.length,filteredLength:P.length}),w?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):b?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:b}),o.jsx(V,{onClick:()=>E(c.trim()||void 0,v),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):P.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:c?"  ":v==="subscribed"?"   ":" "}),!c&&v==="all"&&o.jsx(V,{onClick:T,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P.map(M=>{var I,D;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>N(M.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[_(M),M.userId&&M.userId!==a&&S(M.userId)&&r&&s&&o.jsx(V,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${j(M)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:O=>{O.stopPropagation(),A(M.id)},children:o.jsx(ys,{className:`w-4 h-4 ${j(M)?"fill-current":""}`})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:M.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:M.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(bE,{items:M.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[M.contentCount||((I=M.playlistContents)==null?void 0:I.length)||0," "]})]}),M.userId&&S(M.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${a&&M.userId!==a?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:O=>{O.stopPropagation(),i&&M.userId!==a?i(M.userId):a||alert("  .   .")},children:[M.userId!==a&&M.username&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:M.username.charAt(0).toUpperCase()}),o.jsxs("span",{className:"text-sm",children:[M.userId===a?"":M.username||"   "," ",M.userId===a&&""]})]})}),o.jsx("div",{className:"flex items-center justify-between text-xs text-white/60",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ch,{className:"w-3 h-3"}),o.jsx("span",{children:M.createdAt?new Date(M.createdAt).toLocaleDateString("ko-KR"):" "})]})}),o.jsxs("div",{className:"mt-2 flex justify-between items-center text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:""}),o.jsxs("span",{children:[((D=M.subscriptions)==null?void 0:D.length)??0," "]})]}),o.jsxs("button",{onClick:O=>{O.stopPropagation();const k=`${window.location.origin}/playlist?id=${M.id}`;navigator.clipboard.writeText(k).then(()=>alert("  !")).catch(()=>alert("  ."))},className:"flex items-center gap-1 px-3 py-1 rounded-full bg-white/10 hover:bg-[#4ecdc4]/80 hover:text-black text-white text-xs font-semibold transition",title:"",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12v.01M12 4v.01M12 20v.01M20 12v.01M7.75 7.75l.01.01M16.25 7.75l.01.01M7.75 16.25l.01.01M16.25 16.25l.01.01"})}),""]})]})]})]},M.id)})}))]}),o.jsx(SE,{isOpen:m,onClose:()=>p(!1),onCreatePlaylist:R})]})}function be(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var NE=qg[" useId ".trim().toString()]||(()=>{}),jE=0;function Vr(e){const[t,n]=d.useState(NE());return vt(()=>{n(r=>r??String(jE++))},[e]),e||(t?`radix-${t}`:"")}var CE=qg[" useInsertionEffect ".trim().toString()]||vt;function ws({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=kE({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const f=d.useRef(e!==void 0);d.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=d.useCallback(f=>{var h;if(l){const m=EE(f)?f(e):f;m!==e&&((h=i.current)==null||h.call(i,m))}else a(f)},[l,e,a,i]);return[c,u]}function kE({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),a=d.useRef(t);return CE(()=>{a.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function EE(e){return typeof e=="function"}function TE(e,t=globalThis==null?void 0:globalThis.document){const n=_t(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var RE="DismissableLayer",Od="dismissableLayer.update",PE="dismissableLayer.pointerDownOutside",_E="dismissableLayer.focusOutside",Fp,G0=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ph=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(G0),[f,h]=d.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),w=Ie(t,T=>h(T)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(b),v=f?x.indexOf(f):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=g,E=DE(T=>{const N=T.target,R=[...u.branches].some(j=>j.contains(N));!S||R||(s==null||s(T),i==null||i(T),T.defaultPrevented||l==null||l())},m),P=LE(T=>{const N=T.target;[...u.branches].some(j=>j.contains(N))||(a==null||a(T),i==null||i(T),T.defaultPrevented||l==null||l())},m);return TE(T=>{v===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},m),d.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fp=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Bp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Fp)}},[f,m,n,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Bp())},[f,u]),d.useEffect(()=>{const T=()=>p({});return document.addEventListener(Od,T),()=>document.removeEventListener(Od,T)},[]),o.jsx(Se.div,{...c,ref:w,style:{pointerEvents:y?S?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,P.onFocusCapture),onBlurCapture:be(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,E.onPointerDownCapture)})});ph.displayName=RE;var AE="DismissableLayerBranch",IE=d.forwardRef((e,t)=>{const n=d.useContext(G0),r=d.useRef(null),s=Ie(t,r);return d.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Se.div,{...e,ref:s})});IE.displayName=AE;function DE(e,t=globalThis==null?void 0:globalThis.document){const n=_t(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Y0(PE,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function LE(e,t=globalThis==null?void 0:globalThis.document){const n=_t(e),r=d.useRef(!1);return d.useEffect(()=>{const s=a=>{a.target&&!r.current&&Y0(_E,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bp(){const e=new CustomEvent(Od);document.dispatchEvent(e)}function Y0(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Lk(s,a):s.dispatchEvent(a)}var hu="focusScope.autoFocusOnMount",mu="focusScope.autoFocusOnUnmount",Up={bubbles:!1,cancelable:!0},ME="FocusScope",gh=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=d.useState(null),u=_t(s),f=_t(a),h=d.useRef(null),m=Ie(t,x=>c(x)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(y){if(p.paused||!l)return;const S=y.target;l.contains(S)?h.current=S:kr(h.current,{select:!0})},b=function(y){if(p.paused||!l)return;const S=y.relatedTarget;S!==null&&(l.contains(S)||kr(h.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&kr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[r,l,p.paused]),d.useEffect(()=>{if(l){Hp.add(p);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(hu,Up);l.addEventListener(hu,u),l.dispatchEvent(g),g.defaultPrevented||(OE(UE(X0(l)),{select:!0}),document.activeElement===x&&kr(l))}return()=>{l.removeEventListener(hu,u),setTimeout(()=>{const g=new CustomEvent(mu,Up);l.addEventListener(mu,f),l.dispatchEvent(g),g.defaultPrevented||kr(x??document.body,{select:!0}),l.removeEventListener(mu,f),Hp.remove(p)},0)}}},[l,u,f,p]);const w=d.useCallback(x=>{if(!n&&!r||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(b&&g){const v=x.currentTarget,[y,S]=$E(v);y&&S?!x.shiftKey&&g===S?(x.preventDefault(),n&&kr(y,{select:!0})):x.shiftKey&&g===y&&(x.preventDefault(),n&&kr(S,{select:!0})):g===v&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(Se.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});gh.displayName=ME;function OE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(kr(r,{select:t}),document.activeElement!==n)return}function $E(e){const t=X0(e),n=Wp(t,e),r=Wp(t.reverse(),e);return[n,r]}function X0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Wp(e,t){for(const n of e)if(!zE(n,{upTo:t}))return n}function zE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FE(e){return e instanceof HTMLInputElement&&"select"in e}function kr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&FE(e)&&t&&e.select()}}var Hp=BE();function BE(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Vp(e,t),e.unshift(t)},remove(t){var n;e=Vp(e,t),(n=e[0])==null||n.resume()}}}function Vp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function UE(e){return e.filter(t=>t.tagName!=="A")}var WE="Portal",vh=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=d.useState(!1);vt(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Zx.createPortal(o.jsx(Se.div,{...r,ref:t}),i):null});vh.displayName=WE;function HE(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var wr=e=>{const{present:t,children:n}=e,r=VE(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),a=Ie(r.ref,KE(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:a}):null};wr.displayName="Presence";function VE(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=HE(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Ai(r.current);a.current=l==="mounted"?u:"none"},[l]),vt(()=>{const u=r.current,f=s.current;if(f!==e){const m=a.current,p=Ai(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),vt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=p=>{const x=Ai(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(a.current=Ai(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ai(e){return(e==null?void 0:e.animationName)||"none"}function KE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pu=0;function q0(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Kp()),document.body.insertAdjacentElement("beforeend",e[1]??Kp()),pu++,()=>{pu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pu--}},[])}function Kp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wn=function(){return Wn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Wn.apply(this,arguments)};function Q0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function GE(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var al="right-scroll-bar-position",il="width-before-scroll-bar",YE="with-scroll-bars-hidden",XE="--removed-body-scroll-bar-size";function gu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qE(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var QE=typeof window<"u"?d.useLayoutEffect:d.useEffect,Gp=new WeakMap;function JE(e,t){var n=qE(null,function(r){return e.forEach(function(s){return gu(s,r)})});return QE(function(){var r=Gp.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||gu(l,null)}),a.forEach(function(l){s.has(l)||gu(l,i)})}Gp.set(n,e)},[e]),n}function ZE(e){return e}function eT(e,t){t===void 0&&(t=ZE);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var f=i;i=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return s}function tT(e){e===void 0&&(e={});var t=eT(null);return t.options=Wn({async:!0,ssr:!1},e),t}var J0=function(e){var t=e.sideCar,n=Q0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Wn({},n))};J0.isSideCarExport=!0;function nT(e,t){return e.useMedium(t),J0}var Z0=tT(),vu=function(){},hc=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:vu,onWheelCapture:vu,onTouchMoveCapture:vu}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,x=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,y=e.gapMode,S=Q0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,P=JE([n,t]),T=Wn(Wn({},S),s);return d.createElement(d.Fragment,null,f&&d.createElement(E,{sideCar:Z0,removeScrollBar:u,shards:h,noRelative:p,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:y}),i?d.cloneElement(d.Children.only(l),Wn(Wn({},T),{ref:P})):d.createElement(v,Wn({},T,{className:c,ref:P}),l))});hc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hc.classNames={fullWidth:il,zeroRight:al};var rT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rT();return t&&e.setAttribute("nonce",t),e}function oT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=sT())&&(oT(t,n),aT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lT=function(){var e=iT();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ey=function(){var e=lT(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},cT={left:0,top:0,right:0,gap:0},xu=function(e){return parseInt(e||"",10)||0},uT=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[xu(n),xu(r),xu(s)]},dT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cT;var t=uT(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},fT=ey(),ro="data-scroll-locked",hT=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(YE,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ro,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(al,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(il,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(al," .").concat(al,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(il," .").concat(il,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ro,`] {
    `).concat(XE,": ").concat(l,`px;
  }
`)},Yp=function(){var e=parseInt(document.body.getAttribute(ro)||"0",10);return isFinite(e)?e:0},mT=function(){d.useEffect(function(){return document.body.setAttribute(ro,(Yp()+1).toString()),function(){var e=Yp()-1;e<=0?document.body.removeAttribute(ro):document.body.setAttribute(ro,e.toString())}},[])},pT=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;mT();var a=d.useMemo(function(){return dT(s)},[s]);return d.createElement(fT,{styles:hT(a,!t,s,n?"":"!important")})},$d=!1;if(typeof window<"u")try{var Ii=Object.defineProperty({},"passive",{get:function(){return $d=!0,!0}});window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{$d=!1}var Ds=$d?{passive:!1}:!1,gT=function(e){return e.tagName==="TEXTAREA"},ty=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gT(e)&&n[t]==="visible")},vT=function(e){return ty(e,"overflowY")},xT=function(e){return ty(e,"overflowX")},Xp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ny(e,r);if(s){var a=ry(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yT=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},wT=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ny=function(e,t){return e==="v"?vT(t):xT(t)},ry=function(e,t){return e==="v"?yT(t):wT(t)},bT=function(e,t){return e==="h"&&t==="rtl"?-1:1},ST=function(e,t,n,r,s){var a=bT(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,f=i>0,h=0,m=0;do{if(!l)break;var p=ry(e,l),w=p[0],x=p[1],b=p[2],g=x-b-a*w;(w||g)&&ny(e,l)&&(h+=g,m+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(u=!0),u},Di=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qp=function(e){return[e.deltaX,e.deltaY]},Qp=function(e){return e&&"current"in e?e.current:e},NT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},CT=0,Ls=[];function kT(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(CT++)[0],a=d.useState(ey)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=GE([e.lockRef.current],(e.shards||[]).map(Qp),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var g=Di(x),v=n.current,y="deltaX"in x?x.deltaX:v[0]-g[0],S="deltaY"in x?x.deltaY:v[1]-g[1],E,P=x.target,T=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in x&&T==="h"&&P.type==="range")return!1;var N=Xp(T,P);if(!N)return!0;if(N?E=T:(E=T==="v"?"h":"v",N=Xp(T,P)),!N)return!1;if(!r.current&&"changedTouches"in x&&(y||S)&&(r.current=E),!E)return!0;var R=r.current||E;return ST(R,b,x,R==="h"?y:S)},[]),c=d.useCallback(function(x){var b=x;if(!(!Ls.length||Ls[Ls.length-1]!==a)){var g="deltaY"in b?qp(b):Di(b),v=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&NT(E.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(Qp).filter(Boolean).filter(function(E){return E.contains(b.target)}),S=y.length>0?l(b,y[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(x,b,g,v){var y={name:x,delta:b,target:g,should:v,shadowParent:ET(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),f=d.useCallback(function(x){n.current=Di(x),r.current=void 0},[]),h=d.useCallback(function(x){u(x.type,qp(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,Di(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return Ls.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ds),document.addEventListener("touchmove",c,Ds),document.addEventListener("touchstart",f,Ds),function(){Ls=Ls.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Ds),document.removeEventListener("touchmove",c,Ds),document.removeEventListener("touchstart",f,Ds)}},[]);var p=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(a,{styles:jT(s)}):null,p?d.createElement(pT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ET(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TT=nT(Z0,kT);var xh=d.forwardRef(function(e,t){return d.createElement(hc,Wn({},e,{ref:t,sideCar:TT}))});xh.classNames=hc.classNames;var RT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ms=new WeakMap,Li=new WeakMap,Mi={},yu=0,sy=function(e){return e&&(e.host||sy(e.parentNode))},PT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=sy(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_T=function(e,t,n,r){var s=PT(t,Array.isArray(e)?e:[e]);Mi[n]||(Mi[n]=new WeakMap);var a=Mi[n],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(r),w=p!==null&&p!=="false",x=(Ms.get(m)||0)+1,b=(a.get(m)||0)+1;Ms.set(m,x),a.set(m,b),i.push(m),x===1&&w&&Li.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return f(t),l.clear(),yu++,function(){i.forEach(function(h){var m=Ms.get(h)-1,p=a.get(h)-1;Ms.set(h,m),a.set(h,p),m||(Li.has(h)||h.removeAttribute(r),Li.delete(h)),p||h.removeAttribute(n)}),yu--,yu||(Ms=new WeakMap,Ms=new WeakMap,Li=new WeakMap,Mi={})}},oy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=RT(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),_T(r,s,n,"aria-hidden")):function(){return null}},mc="Dialog",[ay,iy]=On(mc),[AT,$n]=ay(mc),ly=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,f]=ws({prop:r,defaultProp:s??!1,onChange:a,caller:mc});return o.jsx(AT,{scope:t,triggerRef:l,contentRef:c,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:i,children:n})};ly.displayName=mc;var cy="DialogTrigger",uy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$n(cy,n),a=Ie(t,s.triggerRef);return o.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bh(s.open),...r,ref:a,onClick:be(e.onClick,s.onOpenToggle)})});uy.displayName=cy;var yh="DialogPortal",[IT,dy]=ay(yh,{forceMount:void 0}),fy=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=$n(yh,t);return o.jsx(IT,{scope:t,forceMount:n,children:d.Children.map(r,i=>o.jsx(wr,{present:n||a.open,children:o.jsx(vh,{asChild:!0,container:s,children:i})}))})};fy.displayName=yh;var $l="DialogOverlay",hy=d.forwardRef((e,t)=>{const n=dy($l,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=$n($l,e.__scopeDialog);return a.modal?o.jsx(wr,{present:r||a.open,children:o.jsx(LT,{...s,ref:t})}):null});hy.displayName=$l;var DT=mo("DialogOverlay.RemoveScroll"),LT=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$n($l,n);return o.jsx(xh,{as:DT,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Se.div,{"data-state":bh(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),bs="DialogContent",my=d.forwardRef((e,t)=>{const n=dy(bs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=$n(bs,e.__scopeDialog);return o.jsx(wr,{present:r||a.open,children:a.modal?o.jsx(MT,{...s,ref:t}):o.jsx(OT,{...s,ref:t})})});my.displayName=bs;var MT=d.forwardRef((e,t)=>{const n=$n(bs,e.__scopeDialog),r=d.useRef(null),s=Ie(t,n.contentRef,r);return d.useEffect(()=>{const a=r.current;if(a)return oy(a)},[]),o.jsx(py,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:be(e.onFocusOutside,a=>a.preventDefault())})}),OT=d.forwardRef((e,t)=>{const n=$n(bs,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(py,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),py=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=$n(bs,n),c=d.useRef(null),u=Ie(t,c);return q0(),o.jsxs(o.Fragment,{children:[o.jsx(gh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(ph,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bh(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(zT,{titleId:l.titleId}),o.jsx(BT,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wh="DialogTitle",gy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$n(wh,n);return o.jsx(Se.h2,{id:s.titleId,...r,ref:t})});gy.displayName=wh;var vy="DialogDescription",xy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$n(vy,n);return o.jsx(Se.p,{id:s.descriptionId,...r,ref:t})});xy.displayName=vy;var yy="DialogClose",wy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$n(yy,n);return o.jsx(Se.button,{type:"button",...r,ref:t,onClick:be(e.onClick,()=>s.onOpenChange(!1))})});wy.displayName=yy;function bh(e){return e?"open":"closed"}var by="DialogTitleWarning",[$T,Sy]=Ak(by,{contentName:bs,titleName:wh,docsSlug:"dialog"}),zT=({titleId:e})=>{const t=Sy(by),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},FT="DialogDescriptionWarning",BT=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Sy(FT).contentName}}.`;return d.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Ny=ly,UT=uy,jy=fy,Cy=hy,ky=my,Ey=gy,WT=xy,Sh=wy;function pc({...e}){return o.jsx(Ny,{"data-slot":"dialog",...e})}function HT({...e}){return o.jsx(jy,{"data-slot":"dialog-portal",...e})}function VT({className:e,...t}){return o.jsx(Cy,{"data-slot":"dialog-overlay",className:Ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function gc({className:e,children:t,...n}){return o.jsxs(HT,{"data-slot":"dialog-portal",children:[o.jsx(VT,{}),o.jsxs(ky,{"data-slot":"dialog-content",className:Ae("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(Sh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(In,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function vc({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Ae("flex flex-col gap-2 text-center sm:text-left",e),...t})}function xc({className:e,...t}){return o.jsx(Ey,{"data-slot":"dialog-title",className:Ae("text-lg leading-none font-semibold",e),...t})}function KT({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:a,deletePlaylist:i,currentUserId:l,isSharedAccess:c,refreshTrigger:u}){var Ne,B;const[f,h]=d.useState(null),[m,p]=d.useState([]),[w,x]=d.useState(!1),[b,g]=d.useState(null),[v,y]=d.useState(!0),[S,E]=d.useState(null),[P,T]=d.useState(!1),[N,R]=d.useState([]),[j,C]=d.useState([]),[A,_]=d.useState(""),[M,I]=d.useState(!1),[D,O]=d.useState(!1),[k,L]=d.useState([]),H=d.useCallback(async()=>{var F,ne,Q;try{y(!0),E(null),console.log("    :",e);const W=localStorage.getItem("accessToken");let J=null;if(W)try{const ee=W.split(".");if(ee.length===3){const me=JSON.parse(atob(ee[1]));J=me.userId||me.sub||me.id||null}}catch(ee){console.error("JWT   :",ee)}const fe=await r(e);if(console.log("   :",fe),!fe){console.error("   "),E("   .");return}if(h(fe),p(fe.playlistContents.map(ee=>(console.log(" : ",ee.thumbnailUrl),{id:ee.id,title:ee.title,thumbnailUrl:ee.thumbnailUrl,type:ee.contentType.toLowerCase(),genre:ee.genre,duration:ee.duration,year:ee.year,rating:ee.avgRating,addedDate:ee.addedDate,description:ee.description||""}))||[]),J&&fe.subscriptions){const ee=fe.subscriptions.find(me=>me.userId===J);x(!!ee),g((ee==null?void 0:ee.subscriptionId)||null)}console.log("    :",{playlist:fe,contents:fe.playlistContents||[],isSubscribed:!!J&&((F=fe.subscriptions)==null?void 0:F.some(ee=>ee.userId===J)),subscriptionId:(Q=(ne=fe.subscriptions)==null?void 0:ne.find(ee=>ee.userId===J))==null?void 0:Q.subscriptionId})}catch(W){console.error("    :",W),E("   .")}finally{y(!1)}},[e,r]),le=d.useCallback(async()=>{try{console.log("   :",{searchQuery:A}),I(!0);const F=await ds.getContents({size:20,query:A||void 0});console.log("   :",F),R(F.data||[]),console.log("   :",F.data||[])}catch(F){console.error("   :",F)}finally{I(!1)}},[A]);if(d.useEffect(()=>{H()},[H,u]),d.useEffect(()=>{let F;return P&&(F=setTimeout(()=>{le()},300)),()=>{F&&clearTimeout(F)}},[A,P,le]),v)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(S||!f)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:S||"   "}),o.jsx(V,{onClick:t,variant:"outline",children:""})]})});const K=async()=>{if(!l){alert(" .");return}try{if(w&&b)await Ol.unsubscribe(b),x(!1),g(null),console.log("   :",b);else{const F=await Ol.subscribe(l,e);x(!0),g(F.subscriptionId),console.log("  :",F)}await H()}catch(F){console.error("    :",F),alert("   .")}},ie=F=>{if(l!==f.userId){alert("     .");return}console.log(`Removing content ${F} from playlist ${e}`),p(ne=>ne.filter(Q=>Q.id!==F))},se=F=>{n?n({id:F.id,title:F.title,thumbnail:F.thumbnailUrl,type:F.type,duration:F.duration,description:F.description}):alert(`"${F.title}"  .`)},de=()=>{console.log(`Playing playlist: ${f.name}`),alert(`"${f.name}"   .`)},Ee=()=>{if(l!==f.userId){alert("     .");return}T(!0),le()},$=F=>{C(ne=>ne.includes(F)?ne.filter(Q=>Q!==F):[...ne,F])},z=async()=>{if(j.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,j),await s(e,j),await H(),T(!1),C([]),_(""),alert(`${j.length}   .`)}catch(F){console.error("  :",F),alert("  .")}},Z=()=>{console.log("    :",!D),O(!D),L([])},X=F=>{L(ne=>ne.includes(F)?ne.filter(Q=>Q!==F):[...ne,F])},oe=()=>{k.length===m.length?L([]):L(m.map(F=>F.id))},he=async()=>{if(l!==f.userId){alert("     .");return}if(k.length===0){alert("  .");return}if(confirm(` ${k.length}   ?`))try{await a(e,k),await H(),L([]),O(!1),alert(`${k.length}  .`)}catch(ne){console.error("  :",ne),alert("  .")}},ce=async()=>{try{const F=`${window.location.origin}/?playlist=${e}`;navigator.clipboard?(await navigator.clipboard.writeText(F),alert("    !")):prompt("   :",F),console.log("    :",F)}catch(F){console.error("   :",F),alert("   .")}},we=async()=>{if(console.log("   :",{deletePlaylist:!!i,currentUserId:l,playlistUserId:f==null?void 0:f.userId}),!i||!l){alert("  .");return}if(l!==(f==null?void 0:f.userId)){alert("    .");return}if(!confirm(` "${f==null?void 0:f.name}"  ?
    .`)){console.log("   ");return}try{console.log("   :",e),await i(e),console.log("   "),alert(" ."),t()}catch(F){console.error("   :",F),alert("  .")}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs(V,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(jo,{className:"w-5 h-5 mr-2"})," "]}),o.jsx("div",{className:"pl-4 flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:o.jsxs("div",{className:"flex-1 space-y-4 pt-5",children:[o.jsx("h1",{className:"text-5xl py-5 font-bold leading-tight",children:f.name}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ut,{className:"h-6 w-6",children:[o.jsx(dt,{src:(Ne=f.user)==null?void 0:Ne.profileImage}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black text-xs",children:((B=f.username)==null?void 0:B.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:f.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[m.length," "]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ch,{className:"w-4 h-4"}),o.jsx("span",{children:f.createdAt?new Date(f.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs(V,{size:"lg",onClick:de,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(zt,{className:"w-6 h-6 mr-2 fill-current"}),""]}),l?o.jsx(o.Fragment,{children:l===f.userId?o.jsxs(o.Fragment,{children:[o.jsxs(V,{size:"lg",variant:"outline",onClick:Ee,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs(V,{size:"lg",variant:"outline",onClick:Z,className:`border-white/20 hover:bg-white/10 ${D?"bg-white/10":""}`,children:[o.jsx(In,{className:"w-5 h-5 mr-2"}),D?" ":" "]})]}):null}):o.jsxs(V,{size:"lg",variant:"outline",onClick:()=>alert(c?"  .     !":"    ."),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]}),D&&o.jsxs(o.Fragment,{children:[o.jsx(V,{size:"lg",variant:"outline",onClick:oe,className:"border-white/20 hover:bg-white/10",children:k.length===m.length?" ":" "}),k.length>0&&o.jsxs(V,{size:"lg",variant:"destructive",onClick:he,className:"bg-red-600 hover:bg-red-700",children:["  (",k.length,")"]})]}),l&&o.jsx(V,{variant:"ghost",size:"lg",onClick:K,className:`p-3 hover:bg-white/10 ${w?"text-[#4ecdc4]":"text-white/60"}`,title:w?" ":"",children:o.jsx(ys,{className:`w-6 h-6 ${w?"fill-current":""}`})}),o.jsx(V,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",onClick:ce,children:o.jsx(pC,{className:"w-6 h-6"})}),l===(f==null?void 0:f.userId)&&i&&!c&&o.jsx(V,{variant:"ghost",size:"lg",className:"p-3 hover:bg-red-500/20 text-red-400 hover:text-red-300",onClick:we,title:" ",children:o.jsx(Ia,{className:"w-6 h-6"})})]})]})})]})]}),o.jsx("div",{className:"container mx-auto px-9 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-4",children:""})," ",o.jsx("div",{className:"col-span-6",children:""})," ",o.jsx("div",{className:"col-span-1"})," "]})}),o.jsx("div",{className:"divide-y divide-white/10",children:m.map((F,ne)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:D,contentId:F.id}),D)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>X(F.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${k.includes(F.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:k.includes(F.id)&&o.jsx(Yt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:ne+1}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>se(F),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(zt,{className:"w-4 h-4 fill-current"})})]})}),o.jsxs("div",{className:"col-span-4",children:[" ",o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(K0,{src:F.thumbnailUrl,alt:F.title,className:"w-full h-full object-cover"})}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:F.title})})]})]}),o.jsx("div",{className:"col-span-6 text-white/70 text-sm overflow-hidden",children:o.jsx("p",{className:"line-clamp-2-custom",children:F.description})}),o.jsx("div",{className:"col-span-1",children:l===f.userId&&o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>ie(F.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(In,{className:"w-4 h-4"})})})})]})},F.id))}),m.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),l===f.userId&&o.jsx(V,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:Ee,children:" "})]})]})}),o.jsx(pc,{open:P,onOpenChange:T,children:o.jsxs(gc,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(vc,{children:o.jsx(xc,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Ge,{placeholder:" ...",value:A,onChange:F=>_(F.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),j.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[j.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:M?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!N||N.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(N||[]).map(F=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${j.includes(F.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>$(F.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:F.thumbnailUrl||"/placeholder-content.jpg",alt:F.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:F.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:F.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(Pn,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:F.contentType}),F.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:F.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:j.includes(F.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Yt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},F.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx(V,{variant:"outline",onClick:()=>{T(!1),C([]),_("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx(V,{onClick:z,disabled:j.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:j.length>0?`${j.length} `:""})]})]})})]})}function Da(e,[t,n]){return Math.min(n,Math.max(t,e))}function Nh(e){const t=e+"CollectionProvider",[n,r]=On(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:g}=x,v=ae.useRef(null),y=ae.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:y,collectionRef:v,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=mo(l),u=ae.forwardRef((x,b)=>{const{scope:g,children:v}=x,y=a(l,g),S=Ie(b,y.collectionRef);return o.jsx(c,{ref:S,children:v})});u.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=mo(f),p=ae.forwardRef((x,b)=>{const{scope:g,children:v,...y}=x,S=ae.useRef(null),E=Ie(b,S),P=a(f,g);return ae.useEffect(()=>(P.itemMap.set(S,{ref:S,...y}),()=>void P.itemMap.delete(S))),o.jsx(m,{[h]:"",ref:E,children:v})});p.displayName=f;function w(x){const b=a(e+"CollectionConsumer",x);return ae.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((P,T)=>y.indexOf(P.ref.current)-y.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var GT=d.createContext(void 0);function Xa(e){const t=d.useContext(GT);return e||t||"ltr"}const YT=["top","right","bottom","left"],Xr=Math.min,tn=Math.max,zl=Math.round,Oi=Math.floor,Gn=e=>({x:e,y:e}),XT={left:"right",right:"left",bottom:"top",top:"bottom"},qT={start:"end",end:"start"};function zd(e,t,n){return tn(e,Xr(t,n))}function pr(e,t){return typeof e=="function"?e(t):e}function gr(e){return e.split("-")[0]}function Co(e){return e.split("-")[1]}function jh(e){return e==="x"?"y":"x"}function Ch(e){return e==="y"?"height":"width"}const QT=new Set(["top","bottom"]);function Hn(e){return QT.has(gr(e))?"y":"x"}function kh(e){return jh(Hn(e))}function JT(e,t,n){n===void 0&&(n=!1);const r=Co(e),s=kh(e),a=Ch(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Fl(i)),[i,Fl(i)]}function ZT(e){const t=Fl(e);return[Fd(e),t,Fd(t)]}function Fd(e){return e.replace(/start|end/g,t=>qT[t])}const Jp=["left","right"],Zp=["right","left"],e4=["top","bottom"],t4=["bottom","top"];function n4(e,t,n){switch(e){case"top":case"bottom":return n?t?Zp:Jp:t?Jp:Zp;case"left":case"right":return t?e4:t4;default:return[]}}function r4(e,t,n,r){const s=Co(e);let a=n4(gr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Fd)))),a}function Fl(e){return e.replace(/left|right|bottom|top/g,t=>XT[t])}function s4(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ty(e){return typeof e!="number"?s4(e):{top:e,right:e,bottom:e,left:e}}function Bl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function eg(e,t,n){let{reference:r,floating:s}=e;const a=Hn(t),i=kh(t),l=Ch(i),c=gr(t),u=a==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:r.y-s.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Co(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const o4=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=eg(u,r,c),m=r,p={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:g}=l[x],{x:v,y,data:S,reset:E}=await g({x:f,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});f=v??f,h=y??h,p={...p,[b]:{...p[b],...S}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(u=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:f,y:h}=eg(u,m,c)),x=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function La(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=pr(t,e),w=Ty(p),b=l[m?h==="floating"?"reference":"floating":h],g=Bl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),v=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},E=Bl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(g.top-E.top+w.top)/S.y,bottom:(E.bottom-g.bottom+w.bottom)/S.y,left:(g.left-E.left+w.left)/S.x,right:(E.right-g.right+w.right)/S.x}}const a4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=pr(e,t)||{};if(u==null)return{};const h=Ty(f),m={x:n,y:r},p=kh(s),w=Ch(p),x=await i.getDimensions(u),b=p==="y",g=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",S=a.reference[w]+a.reference[p]-m[p]-a.floating[w],E=m[p]-a.reference[p],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let T=P?P[y]:0;(!T||!await(i.isElement==null?void 0:i.isElement(P)))&&(T=l.floating[y]||a.floating[w]);const N=S/2-E/2,R=T/2-x[w]/2-1,j=Xr(h[g],R),C=Xr(h[v],R),A=j,_=T-x[w]-C,M=T/2-x[w]/2+N,I=zd(A,M,_),D=!c.arrow&&Co(s)!=null&&M!==I&&a.reference[w]/2-(M<A?j:C)-x[w]/2<0,O=D?M<A?M-A:M-_:0;return{[p]:m[p]+O,data:{[p]:I,centerOffset:M-I-O,...D&&{alignmentOffset:O}},reset:D}}}),i4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=pr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=gr(s),v=Hn(l),y=gr(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=m||(y||!x?[Fl(l)]:ZT(l)),P=w!=="none";!m&&P&&E.push(...r4(l,x,w,S));const T=[l,...E],N=await La(t,b),R=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&R.push(N[g]),h){const M=JT(s,i,S);R.push(N[M[0]],N[M[1]])}if(j=[...j,{placement:s,overflows:R}],!R.every(M=>M<=0)){var C,A;const M=(((C=a.flip)==null?void 0:C.index)||0)+1,I=T[M];if(I&&(!(h==="alignment"?v!==Hn(I):!1)||j.every(k=>k.overflows[0]>0&&Hn(k.placement)===v)))return{data:{index:M,overflows:j},reset:{placement:I}};let D=(A=j.filter(O=>O.overflows[0]<=0).sort((O,k)=>O.overflows[1]-k.overflows[1])[0])==null?void 0:A.placement;if(!D)switch(p){case"bestFit":{var _;const O=(_=j.filter(k=>{if(P){const L=Hn(k.placement);return L===v||L==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((k,L)=>k[1]-L[1])[0])==null?void 0:_[0];O&&(D=O);break}case"initialPlacement":D=l;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function tg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ng(e){return YT.some(t=>e[t]>=0)}const l4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=pr(e,t);switch(r){case"referenceHidden":{const a=await La(t,{...s,elementContext:"reference"}),i=tg(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ng(i)}}}case"escaped":{const a=await La(t,{...s,altBoundary:!0}),i=tg(a,n.floating);return{data:{escapedOffsets:i,escaped:ng(i)}}}default:return{}}}}},Ry=new Set(["left","top"]);async function c4(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=gr(n),l=Co(n),c=Hn(n)==="y",u=Ry.has(i)?-1:1,f=a&&c?-1:1,h=pr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*f,y:m*u}:{x:m*u,y:p*f}}const u4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await c4(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},d4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...c}=pr(e,t),u={x:n,y:r},f=await La(t,c),h=Hn(gr(s)),m=jh(h);let p=u[m],w=u[h];if(a){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",v=p+f[b],y=p-f[g];p=zd(v,p,y)}if(i){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=w+f[b],y=w-f[g];w=zd(v,w,y)}const x=l.fn({...t,[m]:p,[h]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[h]:i}}}}}},f4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pr(e,t),f={x:n,y:r},h=Hn(s),m=jh(h);let p=f[m],w=f[h];const x=pr(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const y=m==="y"?"height":"width",S=a.reference[m]-a.floating[y]+b.mainAxis,E=a.reference[m]+a.reference[y]-b.mainAxis;p<S?p=S:p>E&&(p=E)}if(u){var g,v;const y=m==="y"?"width":"height",S=Ry.has(gr(s)),E=a.reference[h]-a.floating[y]+(S&&((g=i.offset)==null?void 0:g[h])||0)+(S?0:b.crossAxis),P=a.reference[h]+a.reference[y]+(S?0:((v=i.offset)==null?void 0:v[h])||0)-(S?b.crossAxis:0);w<E?w=E:w>P&&(w=P)}return{[m]:p,[h]:w}}}},h4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=pr(e,t),f=await La(t,u),h=gr(s),m=Co(s),p=Hn(s)==="y",{width:w,height:x}=a.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,b=m==="end"?"top":"bottom");const v=x-f.top-f.bottom,y=w-f.left-f.right,S=Xr(x-f[b],v),E=Xr(w-f[g],y),P=!t.middlewareData.shift;let T=S,N=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=v),P&&!m){const j=tn(f.left,0),C=tn(f.right,0),A=tn(f.top,0),_=tn(f.bottom,0);p?N=w-2*(j!==0||C!==0?j+C:tn(f.left,f.right)):T=x-2*(A!==0||_!==0?A+_:tn(f.top,f.bottom))}await c({...t,availableWidth:N,availableHeight:T});const R=await i.getDimensions(l.floating);return w!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function yc(){return typeof window<"u"}function ko(e){return Py(e)?(e.nodeName||"").toLowerCase():"#document"}function sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function er(e){var t;return(t=(Py(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Py(e){return yc()?e instanceof Node||e instanceof sn(e).Node:!1}function Dn(e){return yc()?e instanceof Element||e instanceof sn(e).Element:!1}function qn(e){return yc()?e instanceof HTMLElement||e instanceof sn(e).HTMLElement:!1}function rg(e){return!yc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sn(e).ShadowRoot}const m4=new Set(["inline","contents"]);function qa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!m4.has(s)}const p4=new Set(["table","td","th"]);function g4(e){return p4.has(ko(e))}const v4=[":popover-open",":modal"];function wc(e){return v4.some(t=>{try{return e.matches(t)}catch{return!1}})}const x4=["transform","translate","scale","rotate","perspective"],y4=["transform","translate","scale","rotate","perspective","filter"],w4=["paint","layout","strict","content"];function Eh(e){const t=Th(),n=Dn(e)?Ln(e):e;return x4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||y4.some(r=>(n.willChange||"").includes(r))||w4.some(r=>(n.contain||"").includes(r))}function b4(e){let t=qr(e);for(;qn(t)&&!vo(t);){if(Eh(t))return t;if(wc(t))return null;t=qr(t)}return null}function Th(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const S4=new Set(["html","body","#document"]);function vo(e){return S4.has(ko(e))}function Ln(e){return sn(e).getComputedStyle(e)}function bc(e){return Dn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qr(e){if(ko(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rg(e)&&e.host||er(e);return rg(t)?t.host:t}function _y(e){const t=qr(e);return vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:qn(t)&&qa(t)?t:_y(t)}function Ma(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=_y(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=sn(s);if(a){const l=Bd(i);return t.concat(i,i.visualViewport||[],qa(s)?s:[],l&&n?Ma(l):[])}return t.concat(s,Ma(s,[],n))}function Bd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ay(e){const t=Ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=qn(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=zl(n)!==a||zl(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Rh(e){return Dn(e)?e:e.contextElement}function so(e){const t=Rh(e);if(!qn(t))return Gn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Ay(t);let i=(a?zl(n.width):n.width)/r,l=(a?zl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const N4=Gn(0);function Iy(e){const t=sn(e);return!Th()||!t.visualViewport?N4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function j4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sn(e)?!1:t}function Ss(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Rh(e);let i=Gn(1);t&&(r?Dn(r)&&(i=so(r)):i=so(e));const l=j4(a,n,r)?Iy(a):Gn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(a){const m=sn(a),p=r&&Dn(r)?sn(r):r;let w=m,x=Bd(w);for(;x&&r&&p!==w;){const b=so(x),g=x.getBoundingClientRect(),v=Ln(x),y=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,S=g.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,h*=b.y,c+=y,u+=S,w=sn(x),x=Bd(w)}}return Bl({width:f,height:h,x:c,y:u})}function Ph(e,t){const n=bc(e).scrollLeft;return t?t.left+n:Ss(er(e)).left+n}function Dy(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Ph(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function C4(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=er(r),l=t?wc(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Gn(1);const f=Gn(0),h=qn(r);if((h||!h&&!a)&&((ko(r)!=="body"||qa(i))&&(c=bc(r)),qn(r))){const p=Ss(r);u=so(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const m=i&&!h&&!a?Dy(i,c,!0):Gn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-c.scrollTop*u.y+f.y+m.y}}function k4(e){return Array.from(e.getClientRects())}function E4(e){const t=er(e),n=bc(e),r=e.ownerDocument.body,s=tn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=tn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ph(e);const l=-n.scrollTop;return Ln(r).direction==="rtl"&&(i+=tn(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function T4(e,t){const n=sn(e),r=er(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Th();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const R4=new Set(["absolute","fixed"]);function P4(e,t){const n=Ss(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=qn(e)?so(e):Gn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function sg(e,t,n){let r;if(t==="viewport")r=T4(e,n);else if(t==="document")r=E4(er(e));else if(Dn(t))r=P4(t,n);else{const s=Iy(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Bl(r)}function Ly(e,t){const n=qr(e);return n===t||!Dn(n)||vo(n)?!1:Ln(n).position==="fixed"||Ly(n,t)}function _4(e,t){const n=t.get(e);if(n)return n;let r=Ma(e,[],!1).filter(l=>Dn(l)&&ko(l)!=="body"),s=null;const a=Ln(e).position==="fixed";let i=a?qr(e):e;for(;Dn(i)&&!vo(i);){const l=Ln(i),c=Eh(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&R4.has(s.position)||qa(i)&&!c&&Ly(e,i))?r=r.filter(f=>f!==i):s=l,i=qr(i)}return t.set(e,r),r}function A4(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?wc(t)?[]:_4(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,f)=>{const h=sg(t,f,s);return u.top=tn(h.top,u.top),u.right=Xr(h.right,u.right),u.bottom=Xr(h.bottom,u.bottom),u.left=tn(h.left,u.left),u},sg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function I4(e){const{width:t,height:n}=Ay(e);return{width:t,height:n}}function D4(e,t,n){const r=qn(t),s=er(t),a=n==="fixed",i=Ss(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Gn(0);function u(){c.x=Ph(s)}if(r||!r&&!a)if((ko(t)!=="body"||qa(s))&&(l=bc(t)),r){const p=Ss(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!r&&s&&u();const f=s&&!r&&!a?Dy(s,l):Gn(0),h=i.left+l.scrollLeft-c.x-f.x,m=i.top+l.scrollTop-c.y-f.y;return{x:h,y:m,width:i.width,height:i.height}}function wu(e){return Ln(e).position==="static"}function og(e,t){if(!qn(e)||Ln(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return er(e)===n&&(n=n.ownerDocument.body),n}function My(e,t){const n=sn(e);if(wc(e))return n;if(!qn(e)){let s=qr(e);for(;s&&!vo(s);){if(Dn(s)&&!wu(s))return s;s=qr(s)}return n}let r=og(e,t);for(;r&&g4(r)&&wu(r);)r=og(r,t);return r&&vo(r)&&wu(r)&&!Eh(r)?n:r||b4(e)||n}const L4=async function(e){const t=this.getOffsetParent||My,n=this.getDimensions,r=await n(e.floating);return{reference:D4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function M4(e){return Ln(e).direction==="rtl"}const O4={convertOffsetParentRelativeRectToViewportRelativeRect:C4,getDocumentElement:er,getClippingRect:A4,getOffsetParent:My,getElementRects:L4,getClientRects:k4,getDimensions:I4,getScale:so,isElement:Dn,isRTL:M4};function Oy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $4(e,t){let n=null,r;const s=er(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=u;if(l||t(),!m||!p)return;const w=Oi(h),x=Oi(s.clientWidth-(f+m)),b=Oi(s.clientHeight-(h+p)),g=Oi(f),y={rootMargin:-w+"px "+-x+"px "+-b+"px "+-g+"px",threshold:tn(0,Xr(1,c))||1};let S=!0;function E(P){const T=P[0].intersectionRatio;if(T!==c){if(!S)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!Oy(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(E,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(e)}return i(!0),a}function z4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Rh(e),f=s||a?[...u?Ma(u):[],...Ma(t)]:[];f.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const h=u&&l?$4(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,x=c?Ss(e):null;c&&b();function b(){const g=Ss(e);x&&!Oy(x,g)&&n(),x=g,w=requestAnimationFrame(b)}return n(),()=>{var g;f.forEach(v=>{s&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const F4=u4,B4=d4,U4=i4,W4=h4,H4=l4,ag=a4,V4=f4,K4=(e,t,n)=>{const r=new Map,s={platform:O4,...n},a={...s.platform,_c:r};return o4(e,t,{...s,platform:a})};var G4=typeof document<"u",Y4=function(){},ll=G4?d.useLayoutEffect:Y4;function Ul(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ul(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Ul(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function $y(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ig(e,t){const n=$y(e);return Math.round(t*n)/n}function bu(e){const t=d.useRef(e);return ll(()=>{t.current=e}),t}function X4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,h]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=d.useState(r);Ul(m,r)||p(r);const[w,x]=d.useState(null),[b,g]=d.useState(null),v=d.useCallback(k=>{k!==P.current&&(P.current=k,x(k))},[]),y=d.useCallback(k=>{k!==T.current&&(T.current=k,g(k))},[]),S=a||w,E=i||b,P=d.useRef(null),T=d.useRef(null),N=d.useRef(f),R=c!=null,j=bu(c),C=bu(s),A=bu(u),_=d.useCallback(()=>{if(!P.current||!T.current)return;const k={placement:t,strategy:n,middleware:m};C.current&&(k.platform=C.current),K4(P.current,T.current,k).then(L=>{const H={...L,isPositioned:A.current!==!1};M.current&&!Ul(N.current,H)&&(N.current=H,So.flushSync(()=>{h(H)}))})},[m,t,n,C,A]);ll(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[u]);const M=d.useRef(!1);ll(()=>(M.current=!0,()=>{M.current=!1}),[]),ll(()=>{if(S&&(P.current=S),E&&(T.current=E),S&&E){if(j.current)return j.current(S,E,_);_()}},[S,E,_,j,R]);const I=d.useMemo(()=>({reference:P,floating:T,setReference:v,setFloating:y}),[v,y]),D=d.useMemo(()=>({reference:S,floating:E}),[S,E]),O=d.useMemo(()=>{const k={position:n,left:0,top:0};if(!D.floating)return k;const L=ig(D.floating,f.x),H=ig(D.floating,f.y);return l?{...k,transform:"translate("+L+"px, "+H+"px)",...$y(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:H}},[n,l,D.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:_,refs:I,elements:D,floatingStyles:O}),[f,_,I,D,O])}const q4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ag({element:r.current,padding:s}).fn(n):{}:r?ag({element:r,padding:s}).fn(n):{}}}},Q4=(e,t)=>({...F4(e),options:[e,t]}),J4=(e,t)=>({...B4(e),options:[e,t]}),Z4=(e,t)=>({...V4(e),options:[e,t]}),eR=(e,t)=>({...U4(e),options:[e,t]}),tR=(e,t)=>({...W4(e),options:[e,t]}),nR=(e,t)=>({...H4(e),options:[e,t]}),rR=(e,t)=>({...q4(e),options:[e,t]});var sR="Arrow",zy=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(Se.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});zy.displayName=sR;var oR=zy;function _h(e){const[t,n]=d.useState(void 0);return vt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ah="Popper",[Fy,By]=On(Ah),[aR,Uy]=Fy(Ah),Wy=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(aR,{scope:t,anchor:r,onAnchorChange:s,children:n})};Wy.displayName=Ah;var Hy="PopperAnchor",Vy=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Uy(Hy,n),i=d.useRef(null),l=Ie(t,i);return d.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(Se.div,{...s,ref:l})});Vy.displayName=Hy;var Ih="PopperContent",[iR,lR]=Fy(Ih),Ky=d.forwardRef((e,t)=>{var $,z,Z,X,oe,he;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,b=Uy(Ih,n),[g,v]=d.useState(null),y=Ie(t,ce=>v(ce)),[S,E]=d.useState(null),P=_h(S),T=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,R=r+(a!=="center"?"-"+a:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},C=Array.isArray(u)?u:[u],A=C.length>0,_={padding:j,boundary:C.filter(uR),altBoundary:A},{refs:M,floatingStyles:I,placement:D,isPositioned:O,middlewareData:k}=X4({strategy:"fixed",placement:R,whileElementsMounted:(...ce)=>z4(...ce,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[Q4({mainAxis:s+N,alignmentAxis:i}),c&&J4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Z4():void 0,..._}),c&&eR({..._}),tR({..._,apply:({elements:ce,rects:we,availableWidth:Ne,availableHeight:B})=>{const{width:F,height:ne}=we.reference,Q=ce.floating.style;Q.setProperty("--radix-popper-available-width",`${Ne}px`),Q.setProperty("--radix-popper-available-height",`${B}px`),Q.setProperty("--radix-popper-anchor-width",`${F}px`),Q.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),S&&rR({element:S,padding:l}),dR({arrowWidth:T,arrowHeight:N}),m&&nR({strategy:"referenceHidden",..._})]}),[L,H]=Xy(D),le=_t(w);vt(()=>{O&&(le==null||le())},[O,le]);const K=($=k.arrow)==null?void 0:$.x,ie=(z=k.arrow)==null?void 0:z.y,se=((Z=k.arrow)==null?void 0:Z.centerOffset)!==0,[de,Ee]=d.useState();return vt(()=>{g&&Ee(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:O?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(X=k.transformOrigin)==null?void 0:X.x,(oe=k.transformOrigin)==null?void 0:oe.y].join(" "),...((he=k.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(iR,{scope:n,placedSide:L,onArrowChange:E,arrowX:K,arrowY:ie,shouldHideArrow:se,children:o.jsx(Se.div,{"data-side":L,"data-align":H,...x,ref:y,style:{...x.style,animation:O?void 0:"none"}})})})});Ky.displayName=Ih;var Gy="PopperArrow",cR={top:"bottom",right:"left",bottom:"top",left:"right"},Yy=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=lR(Gy,r),i=cR[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(oR,{...s,ref:n,style:{...s.style,display:"block"}})})});Yy.displayName=Gy;function uR(e){return e!==null}var dR=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=Xy(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?h:`${m}px`,x=`${-c}px`):u==="top"?(w=i?h:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?h:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?h:`${p}px`),{data:{x:w,y:x}}}});function Xy(e){const[t,n="center"]=e.split("-");return[t,n]}var fR=Wy,hR=Vy,mR=Ky,pR=Yy;function Dh(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gR="VisuallyHidden",vR=d.forwardRef((e,t)=>o.jsx(Se.span,{...e,ref:t,style:{...qy,...e.style}}));vR.displayName=gR;var xR=[" ","Enter","ArrowUp","ArrowDown"],yR=[" ","Enter"],Ns="Select",[Sc,Nc,wR]=Nh(Ns),[Eo,j5]=On(Ns,[wR,By]),jc=By(),[bR,ts]=Eo(Ns),[SR,NR]=Eo(Ns),Qy=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:m,required:p,form:w}=e,x=jc(t),[b,g]=d.useState(null),[v,y]=d.useState(null),[S,E]=d.useState(!1),P=Xa(u),[T,N]=ws({prop:r,defaultProp:s??!1,onChange:a,caller:Ns}),[R,j]=ws({prop:i,defaultProp:l,onChange:c,caller:Ns}),C=d.useRef(null),A=b?w||!!b.closest("form"):!0,[_,M]=d.useState(new Set),I=Array.from(_).map(D=>D.props.value).join(";");return o.jsx(fR,{...x,children:o.jsxs(bR,{required:p,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Vr(),value:R,onValueChange:j,open:T,onOpenChange:N,dir:P,triggerPointerDownPosRef:C,disabled:m,children:[o.jsx(Sc.Provider,{scope:t,children:o.jsx(SR,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(D=>{M(O=>new Set(O).add(D))},[]),onNativeOptionRemove:d.useCallback(D=>{M(O=>{const k=new Set(O);return k.delete(D),k})},[]),children:n})}),A?o.jsxs(yw,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:R,onChange:D=>j(D.target.value),disabled:m,form:w,children:[R===void 0?o.jsx("option",{value:""}):null,Array.from(_)]},I):null]})})};Qy.displayName=Ns;var Jy="SelectTrigger",Zy=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=jc(n),i=ts(Jy,n),l=i.disabled||r,c=Ie(t,i.onTriggerChange),u=Nc(n),f=d.useRef("touch"),[h,m,p]=bw(x=>{const b=u().filter(y=>!y.disabled),g=b.find(y=>y.value===i.value),v=Sw(b,x,g);v!==void 0&&i.onValueChange(v.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(hR,{asChild:!0,...a,children:o.jsx(Se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ww(i.value)?"":void 0,...s,ref:c,onClick:be(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&w(x)}),onPointerDown:be(s.onPointerDown,x=>{f.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:be(s.onKeyDown,x=>{const b=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&xR.includes(x.key)&&(w(),x.preventDefault())})})})});Zy.displayName=Jy;var ew="SelectValue",tw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=ts(ew,n),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,h=Ie(t,c.onValueNodeChange);return vt(()=>{u(f)},[u,f]),o.jsx(Se.span,{...l,ref:h,style:{pointerEvents:"none"},children:ww(c.value)?o.jsx(o.Fragment,{children:i}):a})});tw.displayName=ew;var jR="SelectIcon",nw=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(Se.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});nw.displayName=jR;var CR="SelectPortal",rw=e=>o.jsx(vh,{asChild:!0,...e});rw.displayName=CR;var js="SelectContent",sw=d.forwardRef((e,t)=>{const n=ts(js,e.__scopeSelect),[r,s]=d.useState();if(vt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?So.createPortal(o.jsx(ow,{scope:e.__scopeSelect,children:o.jsx(Sc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(aw,{...e,ref:t})});sw.displayName=js;var Nn=10,[ow,ns]=Eo(js),kR="SelectContentImpl",ER=mo("SelectContent.RemoveScroll"),aw=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b,...g}=e,v=ts(js,n),[y,S]=d.useState(null),[E,P]=d.useState(null),T=Ie(t,$=>S($)),[N,R]=d.useState(null),[j,C]=d.useState(null),A=Nc(n),[_,M]=d.useState(!1),I=d.useRef(!1);d.useEffect(()=>{if(y)return oy(y)},[y]),q0();const D=d.useCallback($=>{const[z,...Z]=A().map(he=>he.ref.current),[X]=Z.slice(-1),oe=document.activeElement;for(const he of $)if(he===oe||(he==null||he.scrollIntoView({block:"nearest"}),he===z&&E&&(E.scrollTop=0),he===X&&E&&(E.scrollTop=E.scrollHeight),he==null||he.focus(),document.activeElement!==oe))return},[A,E]),O=d.useCallback(()=>D([N,y]),[D,N,y]);d.useEffect(()=>{_&&O()},[_,O]);const{onOpenChange:k,triggerPointerDownPosRef:L}=v;d.useEffect(()=>{if(y){let $={x:0,y:0};const z=X=>{var oe,he;$={x:Math.abs(Math.round(X.pageX)-(((oe=L.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(X.pageY)-(((he=L.current)==null?void 0:he.y)??0))}},Z=X=>{$.x<=10&&$.y<=10?X.preventDefault():y.contains(X.target)||k(!1),document.removeEventListener("pointermove",z),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",Z,{capture:!0})}}},[y,k,L]),d.useEffect(()=>{const $=()=>k(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[k]);const[H,le]=bw($=>{const z=A().filter(oe=>!oe.disabled),Z=z.find(oe=>oe.ref.current===document.activeElement),X=Sw(z,$,Z);X&&setTimeout(()=>X.ref.current.focus())}),K=d.useCallback(($,z,Z)=>{const X=!I.current&&!Z;(v.value!==void 0&&v.value===z||X)&&(R($),X&&(I.current=!0))},[v.value]),ie=d.useCallback(()=>y==null?void 0:y.focus(),[y]),se=d.useCallback(($,z,Z)=>{const X=!I.current&&!Z;(v.value!==void 0&&v.value===z||X)&&C($)},[v.value]),de=r==="popper"?Ud:iw,Ee=de===Ud?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return o.jsx(ow,{scope:n,content:y,viewport:E,onViewportChange:P,itemRefCallback:K,selectedItem:N,onItemLeave:ie,itemTextRefCallback:se,focusSelectedItem:O,selectedItemText:j,position:r,isPositioned:_,searchRef:H,children:o.jsx(xh,{as:ER,allowPinchZoom:!0,children:o.jsx(gh,{asChild:!0,trapped:v.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:be(s,$=>{var z;(z=v.trigger)==null||z.focus({preventScroll:!0}),$.preventDefault()}),children:o.jsx(ph,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(de,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:$=>$.preventDefault(),...g,...Ee,onPlaced:()=>M(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:be(g.onKeyDown,$=>{const z=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!z&&$.key.length===1&&le($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let X=A().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes($.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const oe=$.target,he=X.indexOf(oe);X=X.slice(he+1)}setTimeout(()=>D(X)),$.preventDefault()}})})})})})})});aw.displayName=kR;var TR="SelectItemAlignedPosition",iw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=ts(js,n),i=ns(js,n),[l,c]=d.useState(null),[u,f]=d.useState(null),h=Ie(t,T=>f(T)),m=Nc(n),p=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=i,y=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&b&&g){const T=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),j=g.getBoundingClientRect();if(a.dir!=="rtl"){const oe=j.left-N.left,he=R.left-oe,ce=T.left-he,we=T.width+ce,Ne=Math.max(we,N.width),B=window.innerWidth-Nn,F=Da(he,[Nn,Math.max(Nn,B-Ne)]);l.style.minWidth=we+"px",l.style.left=F+"px"}else{const oe=N.right-j.right,he=window.innerWidth-R.right-oe,ce=window.innerWidth-T.right-he,we=T.width+ce,Ne=Math.max(we,N.width),B=window.innerWidth-Nn,F=Da(he,[Nn,Math.max(Nn,B-Ne)]);l.style.minWidth=we+"px",l.style.right=F+"px"}const C=m(),A=window.innerHeight-Nn*2,_=x.scrollHeight,M=window.getComputedStyle(u),I=parseInt(M.borderTopWidth,10),D=parseInt(M.paddingTop,10),O=parseInt(M.borderBottomWidth,10),k=parseInt(M.paddingBottom,10),L=I+D+_+k+O,H=Math.min(b.offsetHeight*5,L),le=window.getComputedStyle(x),K=parseInt(le.paddingTop,10),ie=parseInt(le.paddingBottom,10),se=T.top+T.height/2-Nn,de=A-se,Ee=b.offsetHeight/2,$=b.offsetTop+Ee,z=I+D+$,Z=L-z;if(z<=se){const oe=C.length>0&&b===C[C.length-1].ref.current;l.style.bottom="0px";const he=u.clientHeight-x.offsetTop-x.offsetHeight,ce=Math.max(de,Ee+(oe?ie:0)+he+O),we=z+ce;l.style.height=we+"px"}else{const oe=C.length>0&&b===C[0].ref.current;l.style.top="0px";const ce=Math.max(se,I+x.offsetTop+(oe?K:0)+Ee)+Z;l.style.height=ce+"px",x.scrollTop=z-se+x.offsetTop}l.style.margin=`${Nn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,b,g,a.dir,r]);vt(()=>y(),[y]);const[S,E]=d.useState();vt(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const P=d.useCallback(T=>{T&&w.current===!0&&(y(),v==null||v(),w.current=!1)},[y,v]);return o.jsx(PR,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(Se.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});iw.displayName=TR;var RR="SelectPopperPosition",Ud=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Nn,...a}=e,i=jc(n);return o.jsx(mR,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ud.displayName=RR;var[PR,Lh]=Eo(js,{}),Wd="SelectViewport",lw=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=ns(Wd,n),i=Lh(Wd,n),l=Ie(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Sc.Slot,{scope:n,children:o.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:be(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const p=Math.abs(c.current-f.scrollTop);if(p>0){const w=window.innerHeight-Nn*2,x=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(x,b);if(g<w){const v=g+p,y=Math.min(w,v),S=v-y;h.style.height=y+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});lw.displayName=Wd;var cw="SelectGroup",[_R,AR]=Eo(cw),IR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Vr();return o.jsx(_R,{scope:n,id:s,children:o.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:t})})});IR.displayName=cw;var uw="SelectLabel",DR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=AR(uw,n);return o.jsx(Se.div,{id:s.id,...r,ref:t})});DR.displayName=uw;var Wl="SelectItem",[LR,dw]=Eo(Wl),fw=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=ts(Wl,n),c=ns(Wl,n),u=l.value===r,[f,h]=d.useState(a??""),[m,p]=d.useState(!1),w=Ie(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,r,s)}),x=Vr(),b=d.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(LR,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(v=>{h(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(Sc.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:o.jsx(Se.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:be(i.onFocus,()=>p(!0)),onBlur:be(i.onBlur,()=>p(!1)),onClick:be(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:be(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:be(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:be(i.onPointerMove,v=>{var y;b.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(i.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:be(i.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(yR.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});fw.displayName=Wl;var Zo="SelectItemText",hw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=ts(Zo,n),l=ns(Zo,n),c=dw(Zo,n),u=NR(Zo,n),[f,h]=d.useState(null),m=Ie(t,g=>h(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),p=f==null?void 0:f.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return vt(()=>(x(w),()=>b(w)),[x,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(Se.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?So.createPortal(a.children,i.valueNode):null]})});hw.displayName=Zo;var mw="SelectItemIndicator",pw=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return dw(mw,n).isSelected?o.jsx(Se.span,{"aria-hidden":!0,...r,ref:t}):null});pw.displayName=mw;var Hd="SelectScrollUpButton",gw=d.forwardRef((e,t)=>{const n=ns(Hd,e.__scopeSelect),r=Lh(Hd,e.__scopeSelect),[s,a]=d.useState(!1),i=Ie(t,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(xw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});gw.displayName=Hd;var Vd="SelectScrollDownButton",vw=d.forwardRef((e,t)=>{const n=ns(Vd,e.__scopeSelect),r=Lh(Vd,e.__scopeSelect),[s,a]=d.useState(!1),i=Ie(t,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(xw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});vw.displayName=Vd;var xw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=ns("SelectScrollButton",n),i=d.useRef(null),l=Nc(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),vt(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(Se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:be(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:be(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:be(s.onPointerLeave,()=>{c()})})}),MR="SelectSeparator",OR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(Se.div,{"aria-hidden":!0,...r,ref:t})});OR.displayName=MR;var Kd="SelectArrow",$R=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=jc(n),a=ts(Kd,n),i=ns(Kd,n);return a.open&&i.position==="popper"?o.jsx(pR,{...s,...r,ref:t}):null});$R.displayName=Kd;var zR="SelectBubbleInput",yw=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),a=Ie(r,s),i=Dh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const h=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[i,t]),o.jsx(Se.select,{...n,style:{...qy,...n.style},ref:a,defaultValue:t})});yw.displayName=zR;function ww(e){return e===""||e===void 0}function bw(e){const t=_t(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Sw(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=FR(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function FR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var BR=Qy,UR=Zy,WR=tw,HR=nw,VR=rw,KR=sw,GR=lw,YR=fw,XR=hw,qR=pw,QR=gw,JR=vw;function Nw({...e}){return o.jsx(BR,{"data-slot":"select",...e})}function jw({...e}){return o.jsx(WR,{"data-slot":"select-value",...e})}function Cw({className:e,size:t="default",children:n,...r}){return o.jsxs(UR,{"data-slot":"select-trigger","data-size":t,className:Ae("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(HR,{asChild:!0,children:o.jsx(x0,{className:"size-4 opacity-50"})})]})}function kw({className:e,children:t,position:n="popper",...r}){return o.jsx(VR,{children:o.jsxs(KR,{"data-slot":"select-content",className:Ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(ZR,{}),o.jsx(GR,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(eP,{})]})})}function fn({className:e,children:t,...n}){return o.jsxs(YR,{"data-slot":"select-item",className:Ae("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(qR,{children:o.jsx(Aa,{className:"size-4"})})}),o.jsx(XR,{children:t})]})}function ZR({className:e,...t}){return o.jsx(QR,{"data-slot":"select-scroll-up-button",className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(sC,{className:"size-4"})})}function eP({className:e,...t}){return o.jsx(JR,{"data-slot":"select-scroll-down-button",className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(x0,{className:"size-4"})})}const tP=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function Su({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,a]=d.useState(""),[i,l]=d.useState("RELEASE_AT-DESC"),[c,u]=d.useState([]),[f,h]=d.useState(!0),[m,p]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(),[v,y]=d.useState(!1),[S,E]=d.useState(0),P=tP(e),T=I=>{switch(I){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}};function N(I){const[D,O]=I.split("-");return{sortBy:D||"TITLE",direction:O||"DESC"}}const R=async(I=!1)=>{try{I?y(!0):h(!0),p(null);const{sortBy:D,direction:O}=N(i),k=await ds.getContents({type:T(e),query:s||void 0,sortBy:D==="RELEASE_AT"?"RELEASE_AT":D==="AVG_RATING"?"AVG_RATING":"TITLE",direction:O==="DESC"?"DESC":"ASC",cursor:I?b:void 0,size:20});u(I?L=>[...L,...k.data]:k.data),E(k.totalElements??0),x(k.hasNext),g(k.nextCursor)}catch(D){console.error("  :",D),p(D instanceof Error?D.message:"    .")}finally{h(!1),y(!1)}};d.useEffect(()=>{R(!1)},[e]),d.useEffect(()=>{const I=setTimeout(()=>{R(!1)},300);return()=>clearTimeout(I)},[s,i]);const j=()=>{w&&!f&&!v&&R(!0)},C=I=>({id:I.id,title:I.title,thumbnail:I.thumbnailUrl||I.thumbnail||"",type:I.contentType.toLowerCase(),duration:I.duration||"120",description:I.description||"",rating:I.avgRating,reviewCount:I.reviewCount,year:I.year||new Date(I.releaseDate).getFullYear()}),A=I=>{r==null||r(C(I))},_=I=>{t(C(I))},M=I=>{n==null||n(C(I))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:P}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Es,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ge,{placeholder:`${P} ...`,value:s,onChange:I=>a(I.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Nw,{value:i,onValueChange:l,children:[o.jsx(Cw,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(jw,{placeholder:""})}),o.jsxs(kw,{children:[o.jsx(fn,{value:"RELEASE_AT-DESC",children:""}),o.jsx(fn,{value:"RELEASE_AT-ASC",children:" "}),o.jsx(fn,{value:"TITLE-ASC",children:" "}),o.jsx(fn,{value:"TITLE-DESC",children:" "}),o.jsx(fn,{value:"AVG_RATING-DESC",children:"  "}),o.jsx(fn,{value:"AVG_RATING-ASC",children:"  "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:f?" ...":`${S}   ${c.length}`}),o.jsx(Pn,{variant:"outline",className:ds.getTypeColor(T(e)),children:P})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(V,{onClick:()=>R(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),f&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Vt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!f&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(I=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>M(I),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[I.thumbnailUrl?o.jsx("img",{src:I.thumbnailUrl,alt:I.title,className:"w-full h-full object-cover",onError:D=>{var O;D.currentTarget.style.display="none",(O=D.currentTarget.nextElementSibling)==null||O.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${I.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:I.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(V,{size:"sm",onClick:D=>{D.stopPropagation(),_(I)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(zt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(V,{size:"sm",variant:"outline",onClick:D=>{D.stopPropagation(),A(I)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:I.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:I.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[I.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yr,{className:`w-4 h-4 ${I.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:I.avgRating.toFixed(2)}),I.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",I.reviewCount,")"]})]}),I.year&&o.jsx("span",{className:"text-xs text-white/60",children:I.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:I.duration}),o.jsx(Pn,{variant:"outline",className:ds.getTypeColor(I.contentType),children:ds.getTypeLabel(I.contentType)})]})]})]},I.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx(V,{onClick:j,disabled:v,variant:"outline",className:"border-white/20 hover:bg-white/5",children:v?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!f&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(w0,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${P}  .`}),s&&o.jsxs(V,{variant:"outline",onClick:()=>a(""),className:"border-white/20 hover:bg-white/5",children:[" ",P," "]})]})]})]})})}function lg({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Ae("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}class nP{constructor(){pt(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok){console.log("HTTP  :",n.status),console.log("HTTP   :",n.statusText);let s=`  . Status: ${n.status}`,a=null;try{a=await n.json(),console.log("  :",a),s=a.message||s}catch(i){console.log("  JSON  :",i);try{const l=await n.text();console.log("  :",l),s=l||s}catch(l){console.log("    :",l)}}throw console.log("  :",s),n.status===409||n.status===400||s.includes("")||s.includes("")||s.includes("duplicate")||s.includes("already")||s.includes("DuplicateReview")?(console.log("   "),new Error("DUPLICATE_REVIEW")):new Error(s)}return await n.json()}catch(n){throw console.error("  :",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}}const $i=new nP,zi=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,a]=d.useState(0),i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,f)=>{if(!t||!r)return;const h=f.currentTarget.getBoundingClientRect(),m=f.clientX-h.left,p=h.width,x=m<p/2?u-.5:u;r(x)},c=(u,f)=>{if(!t)return;const h=f.currentTarget.getBoundingClientRect(),m=f.clientX-h.left,p=h.width,x=m<p/2?u-.5:u;a(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const f=s||e,h=u-.5<=f&&u>f,m=u<=f;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(Yr,{className:`${i[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?p=>l(u,p):void 0,onMouseMove:t?p=>c(u,p):void 0,onMouseLeave:t?()=>a(0):void 0}),(m||h)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${h?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(Yr,{className:`${i[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function rP({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,a]=d.useState(""),[i,l]=d.useState(0),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(null),[v,y]=d.useState(""),[S,E]=d.useState(0),[P,T]=d.useState(!1),[N,R]=d.useState(null),j=async()=>{h(!0);try{const L=(await $i.getReviewsByContentId(e.id)).map(H=>({...H,contentId:e.id,createdAt:new Date().toISOString(),user:{id:H.authorId,name:H.authorName,avatar:H.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(L)}catch(k){console.error("  :",k)}finally{h(!1)}},C=c.length>0?c.reduce((k,L)=>k+L.rating,0)/c.length:0,A=async()=>{if(!(!s.trim()||i===0||!r)){p(!0),x(null);try{const k={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:i},H={...await $i.createReview(k),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([H,...c]),a(""),l(0),Ho.success("  ")}catch(k){if(console.error("  :",k),console.log("Error type:",typeof k),console.log("Error message:",k instanceof Error?k.message:String(k)),k instanceof Error)if(k.message==="DUPLICATE_REVIEW"){const L="   .       .";x(L),alert(L),Ho.error("   ",{description:"      ."})}else if(k.message.includes("")||k.message.includes("")){const L="   .       .";x(L),alert(L),Ho.error("   ",{description:"      ."})}else{const L=k.message||"  .    .";x(L),alert(L),Ho.error("  ",{description:k.message||"   ."})}else{const L="  .    .";x(L),alert(L),Ho.error("  ",{description:"   ."})}}finally{p(!1)}}},_=k=>{g(k),y(k.comment),E(k.rating)},M=()=>{g(null),y(""),E(0)},I=async()=>{if(!(!b||!v.trim()||S===0)){T(!0);try{const k={title:v.trim().substring(0,100),comment:v.trim(),rating:S},L=await $i.updateReview(b.id,k);u(c.map(H=>H.id===b.id?{...H,...L}:H)),M()}catch(k){console.error("  :",k)}finally{T(!1)}}},D=async k=>{R(k);try{await $i.deleteReview(k),u(c.filter(L=>L.id!==k))}catch(L){console.error("  :",L)}finally{R(null)}};d.useEffect(()=>{e.id&&j()},[e.id]);const O=k=>{switch(k){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs(V,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(jo,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:e.thumbnail?o.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:O(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Pn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:O(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zi,{rating:C,size:"lg"}),o.jsx("span",{className:"text-xl",children:C%1===0?C.toFixed(0):C.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs(V,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(zt,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(zi,{rating:i,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(lg,{value:s,onChange:k=>{a(k.target.value),w&&x(null)},placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),w&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs(V,{onClick:A,disabled:!s.trim()||i===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(uh,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:f?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(k=>{var L,H,le,K;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(b==null?void 0:b.id)===k.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(ut,{children:[o.jsx(dt,{src:(L=k.user)==null?void 0:L.avatar}),o.jsx(ft,{children:((H=k.authorName)==null?void 0:H[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:k.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(zi,{rating:S,editable:!0,size:"lg",onChange:E})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(lg,{value:v,onChange:ie=>y(ie.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(V,{onClick:I,disabled:!v.trim()||S===0||P,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:P?" ...":" "}),o.jsx(V,{onClick:M,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(ut,{children:[o.jsx(dt,{src:(le=k.user)==null?void 0:le.avatar}),o.jsx(ft,{children:((K=k.authorName)==null?void 0:K[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:k.authorName||" "}),o.jsx(zi,{rating:k.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:k.createdAt?new Date(k.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:k.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&k.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>_(k),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(hC,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>D(k.id),disabled:N===k.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Ia,{className:"w-4 h-4 mr-1"}),N===k.id?" ...":""]})]})})]})]})},k.id)})}),!f&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function sP({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:a,refreshUserProfile:i,onPlaylistOpen:l}){const[c,u]=d.useState(""),[f,h]=d.useState("user@moplay.kr"),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(""),[v,y]=d.useState(!1),[S,E]=d.useState(null),[P,T]=d.useState(null),[N,R]=d.useState([]),[j,C]=d.useState([]),[A,_]=d.useState(!1),[M,I]=d.useState(!1),[D,O]=d.useState("profile"),[k,L]=d.useState([]),[H,le]=d.useState(""),[K,ie]=d.useState(""),[se,de]=d.useState(""),[Ee,$]=d.useState(""),z=r||n,Z=!!(r&&r!==n);d.useEffect(()=>{e&&(E(null),z?(X(),oe(),he(),Ne(),Z&&ce()):E("  .  ."))},[e,z,Z]);const X=async()=>{try{const W=await s(`http://localhost:8080/api/users/${z}`);if(!W.ok)throw new Error("   .");const J=await W.json();T(J),u(J.name),h(J.email)}catch(W){console.error("   :",W),E("   .")}},oe=async()=>{try{const W=await s(`http://localhost:8080/api/follows/${z}/followers`);if(!W.ok)throw new Error("   .");const J=await W.json();R(J)}catch(W){console.error("   :",W),R([])}},he=async()=>{try{const W=await s(`http://localhost:8080/api/follows/${z}/following`);if(!W.ok)throw new Error("   .");const J=await W.json();C(J)}catch(W){console.error("   :",W),C([])}},ce=async()=>{if(!(!n||!z))try{const W=await s(`http://localhost:8080/api/follows/${n}/is-following/${z}`);if(!W.ok)throw new Error("   .");const J=await W.json();_(J)}catch(W){console.error("   :",W),_(!1)}},we=async()=>{if(!(!n||!z)){I(!0);try{if(A){if(!(await s(`http://localhost:8080/api/follows/${z}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");_(!1),R(J=>J.filter(fe=>fe.id!==n))}else{const W=new FormData;if(W.append("followerId",n),W.append("followingId",z),!(await s("http://localhost:8080/api/follows",{method:"POST",body:W})).ok)throw new Error(" .");_(!0),P&&R(fe=>[...fe,{id:n,name:"",email:"",profileImage:""}])}}catch(W){console.error("  :",W),alert(W instanceof Error?W.message:"    .")}finally{I(!1)}}},Ne=async()=>{if(z)try{const W=await s(`http://localhost:8080/api/users/${z}/playlists`);if(!W.ok)throw new Error("   .");const J=await W.json(),fe=Z?J.filter(ee=>ee.isPublic):J;L(fe)}catch(W){console.error("   :",W),L([])}},B=W=>{a&&(t(),a(W))},F=W=>{W?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(W)?de(""):de(" 8 , , ,   ."):de("")},ne=W=>{$(W!==H?"  .":"")},Q=async()=>{y(!0),E(null);try{if(!n){E("  .  ."),y(!1);return}if(!b.trim()){E("     ."),y(!1);return}if(H){if(se||Ee){E("    ."),y(!1);return}if(!K){E("  ."),y(!1);return}if(H!==K){E("  ."),y(!1);return}}const W=new FormData,J={newName:c,currentPassword:b};H&&(J.newPassword=H),console.log("Request data:",J);const fe=new Blob([JSON.stringify(J)],{type:"application/json"});W.append("request",fe),w&&(W.append("profile",w),console.log("Profile image added:",w.name)),console.log("FormData entries:");for(let[Pe,Te]of W.entries())console.log(Pe,Te);const ee=await fetch(`http://localhost:8080/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:W});if(!ee.ok){const Pe=await ee.json();throw new Error(Pe.message||"  .")}const me=await ee.json();T(me),u(me.name),h(me.email),x(null),await X(),alert("  ."),i&&i(),g(""),t()}catch(W){console.error("  :",W),E(W instanceof Error?W.message:"    .")}finally{y(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:Z?`${(P==null?void 0:P.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[Z&&o.jsx(V,{onClick:we,disabled:M,className:`${A?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:M?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):A?o.jsxs(o.Fragment,{children:[o.jsx(S0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(N0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(In,{className:"w-5 h-5"})})]})]}),S&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:S}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(ut,{className:"h-20 w-20 mb-4",children:[o.jsx(dt,{src:w?URL.createObjectURL(w):P==null?void 0:P.profileImage}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!Z&&o.jsx(V,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>p(!m),children:o.jsx(v0,{className:"w-4 h-4"})})]}),m&&!Z&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(V0,{selectedImage:w,onImageSelect:x,onClose:()=>p(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:N.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:j.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx(V,{variant:D==="profile"?"default":"ghost",size:"sm",onClick:()=>O("profile"),className:D==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs(V,{variant:D==="followers"?"default":"ghost",size:"sm",onClick:()=>O("followers"),className:`${D==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Ot,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(V,{variant:D==="following"?"default":"ghost",size:"sm",onClick:()=>O("following"),className:`${D==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(ys,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(V,{variant:D==="playlists"?"default":"ghost",size:"sm",onClick:()=>O("playlists"),className:`${D==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(du,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[D==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Kt,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(Ge,{id:"name",value:c,onChange:W=>u(W.target.value),disabled:Z,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${Z?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Kt,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(Ge,{id:"email",value:f,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!Z&&o.jsxs("div",{children:[o.jsxs(Kt,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Ge,{id:"password",type:"password",value:b,onChange:W=>g(W.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"      ."}),!Z&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-4",children:[o.jsx(Kt,{htmlFor:"newPassword",className:"text-sm",children:"  ()"}),o.jsx(Ge,{id:"newPassword",type:"password",value:H,onChange:W=>{const J=W.target.value;le(J),F(J)},placeholder:"   ()",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),se&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:se})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Kt,{htmlFor:"confirmPassword",className:"text-sm",children:"  "}),o.jsx(Ge,{id:"confirmPassword",type:"password",value:K,onChange:W=>{const J=W.target.value;ie(J),ne(J)},placeholder:"   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),Ee&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:Ee})]})]})]})]}),D==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[N.map(W=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>W.id&&B(W.id),children:[o.jsxs(ut,{className:"h-10 w-10",children:[o.jsx(dt,{src:W.profileImage}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:W.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:W.name}),o.jsx("p",{className:"text-white/60 text-sm",children:W.email})]})]},W.id)),N.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ot,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),D==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[j.map(W=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>W.id&&B(W.id),children:[o.jsxs(ut,{className:"h-10 w-10",children:[o.jsx(dt,{src:W.profileImage}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:W.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:W.name}),o.jsx("p",{className:"text-white/60 text-sm",children:W.email})]})]},W.id)),j.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ys,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),D==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[k.map(W=>{var J;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l(W.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:W.thumbnail?o.jsx("img",{src:W.thumbnail,alt:W.title||W.name,className:"w-full h-full object-cover"}):o.jsx(du,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:W.title||W.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[W.contentCount||((J=W.playlistContents)==null?void 0:J.length)||0," ",W.isPublic?"  ":"  "]})]})]},W.id)}),k.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(du,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:Z?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(V,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:v,children:Z?"":""}),!Z&&o.jsx(V,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:Q,disabled:v||!n,children:v?" ...":""})]})]})]}):null}class oP{constructor(t){pt(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t="http://localhost:8080/api/dmRooms/";console.log("  DM   :",{url:t});const n=await this.authenticatedFetch(t);if(!n.ok)throw console.error(" DM   :",n.status,n.statusText),new Error(`Failed to fetch DM rooms: ${n.status} ${n.statusText}`);const r=await n.json();return console.log(" DM   :",r),r}async getRoom(t){const n=`http://localhost:8080/api/dmRooms/${t}`;console.log(" DM   :",{dmRoomId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM   :",r.status,r.statusText),new Error(`Failed to fetch DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM   :",s),s}async getOrCreateRoom(t){const n=`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`;console.log(" DM  / :",{userBId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM  / :",r.status,r.statusText),new Error(`Failed to get or create DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM  / :",s),s}async getDmMessages(t,n){const r=new URLSearchParams;n!=null&&n.cursor&&r.append("cursor",n.cursor),n!=null&&n.size&&r.append("size",n.size.toString());const s=`http://localhost:8080/api/dmRooms/${t}/dms${r.toString()?"?"+r.toString():""}`;console.log(" DM   :",{roomId:t,pagingDto:n,url:s});const a=await this.authenticatedFetch(s);if(!a.ok)throw console.error(" DM   :",a.status,a.statusText),new Error(`Failed to fetch DM messages: ${a.status} ${a.statusText}`);const i=await a.json();return console.log(" DM   :",i),i}async getFollowing(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}var Ew="AlertDialog",[aP,C5]=On(Ew,[iy]),br=iy(),Tw=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Ny,{...r,...n,modal:!0})};Tw.displayName=Ew;var iP="AlertDialogTrigger",lP=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(UT,{...s,...r,ref:t})});lP.displayName=iP;var cP="AlertDialogPortal",Rw=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(jy,{...r,...n})};Rw.displayName=cP;var uP="AlertDialogOverlay",Pw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Cy,{...s,...r,ref:t})});Pw.displayName=uP;var oo="AlertDialogContent",[dP,fP]=aP(oo),hP=ek("AlertDialogContent"),_w=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=br(n),i=d.useRef(null),l=Ie(t,i),c=d.useRef(null);return o.jsx($T,{contentName:oo,titleName:Aw,docsSlug:"alert-dialog",children:o.jsx(dP,{scope:n,cancelRef:c,children:o.jsxs(ky,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:be(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(hP,{children:r}),o.jsx(pP,{contentRef:i})]})})})});_w.displayName=oo;var Aw="AlertDialogTitle",Iw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Ey,{...s,...r,ref:t})});Iw.displayName=Aw;var Dw="AlertDialogDescription",Lw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(WT,{...s,...r,ref:t})});Lw.displayName=Dw;var mP="AlertDialogAction",Mw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Sh,{...s,...r,ref:t})});Mw.displayName=mP;var Ow="AlertDialogCancel",$w=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=fP(Ow,n),a=br(n),i=Ie(t,s);return o.jsx(Sh,{...a,...r,ref:i})});$w.displayName=Ow;var pP=({contentRef:e})=>{const t=`\`${oo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${oo}\` by passing a \`${Dw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},gP=Tw,vP=Rw,xP=Pw,yP=_w,wP=Mw,bP=$w,SP=Iw,NP=Lw;function Mh({...e}){return o.jsx(gP,{"data-slot":"alert-dialog",...e})}function jP({...e}){return o.jsx(vP,{"data-slot":"alert-dialog-portal",...e})}function CP({className:e,...t}){return o.jsx(xP,{"data-slot":"alert-dialog-overlay",className:Ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Oh({className:e,...t}){return o.jsxs(jP,{children:[o.jsx(CP,{}),o.jsx(yP,{"data-slot":"alert-dialog-content",className:Ae("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function $h({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:Ae("flex flex-col gap-2 text-center sm:text-left",e),...t})}function zh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:Ae("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Fh({className:e,...t}){return o.jsx(SP,{"data-slot":"alert-dialog-title",className:Ae("text-lg font-semibold",e),...t})}function Bh({className:e,...t}){return o.jsx(NP,{"data-slot":"alert-dialog-description",className:Ae("text-muted-foreground text-sm",e),...t})}function Uh({className:e,...t}){return o.jsx(wP,{className:Ae(hh(),e),...t})}function zw({className:e,...t}){return o.jsx(bP,{className:Ae(hh({variant:"outline"}),e),...t})}function kP({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:a,getOrCreateDmRoom:i,refreshTrigger:l}){const[c,u]=d.useState(""),[f,h]=d.useState(!1),[m,p]=d.useState([]),[w,x]=d.useState([]),[b,g]=d.useState(!1),[v,y]=d.useState(null),[S,E]=d.useState(!1),[P,T]=d.useState(null),[N,R]=d.useState(!1),j=new oP(r),C=m.filter(K=>K.name.toLowerCase().includes(c.toLowerCase())),A=w.filter(K=>K.name.toLowerCase().includes(c.toLowerCase())),_=K=>{console.log(`Opening conversation with ${K.name}`),n({id:K.userId,name:K.name,avatar:K.avatar,isOnline:K.isOnline,roomId:K.id})},M=()=>{h(!0),u("")},I=()=>{h(!1),u("")},D=async K=>{try{g(!0);const ie=await i(K.id);console.log(`Starting new conversation with ${K.name}, room: ${ie}`),n({id:K.id,name:K.name,avatar:K.avatar,isOnline:K.isOnline,roomId:ie}),h(!1),u("")}catch(ie){console.error("Error starting conversation:",ie),y("   .")}finally{g(!1)}},O=(K,ie)=>{K.stopPropagation(),T(ie),E(!0)},k=async()=>{if(P)try{if(R(!0),!(await r(`http://localhost:8080/api/dmRooms/${P}`,{method:"DELETE"})).ok)throw new Error("DM   ");await H(),E(!1),T(null)}catch(K){console.error("Error deleting DM room:",K),y("   .")}finally{R(!1)}},L=()=>{E(!1),T(null)};d.useEffect(()=>{e&&s&&(H(),le())},[e,s]),d.useEffect(()=>{console.log("DMList - refreshTrigger  :",l),e&&s&&l!==void 0&&l>0&&(console.log("DMList - DM     - :",l),g(!0),y(null),H().then(()=>{console.log(" DM    ")}).catch(K=>{console.error(" DM    :",K)}))},[l,e,s]);const H=async()=>{try{g(!0),y(null);const ie=(await a()).map(se=>{const de=se.senderId===s?{id:se.receiverId,name:se.receiverName,avatar:"",isOnline:!1}:{id:se.senderId,name:se.senderName,avatar:"",isOnline:!1},Ee=$=>{const z=new Date($),X=new Date().getTime()-z.getTime(),oe=Math.floor(X/(1e3*60)),he=Math.floor(X/(1e3*60*60)),ce=Math.floor(X/(1e3*60*60*24));return oe<1?" ":oe<60?`${oe} `:he<24?`${he} `:ce===1?"":`${ce} `};return{id:se.id,userId:(de==null?void 0:de.id)||"",name:(de==null?void 0:de.name)||"   ",avatar:(de==null?void 0:de.avatar)||"",lastMessage:se.lastMessage||"  ",timestamp:se.lastMessage?Ee(se.lastMessageAt||se.createdAt):Ee(se.createdAt),unreadCount:se.newMessageCount||0,isOnline:(de==null?void 0:de.isOnline)||!1,lastMessageAt:se.lastMessageAt||se.createdAt}});ie.sort((se,de)=>{const Ee=new Date(se.lastMessageAt).getTime();return new Date(de.lastMessageAt).getTime()-Ee}),p(ie)}catch(K){console.error("Error loading DM rooms:",K),y("    .")}finally{g(!1)}},le=async()=>{if(s)try{const ie=(await j.getFollowing(s)).map(se=>({id:se.id,name:se.name||"   ",avatar:se.profileImage||"",isOnline:!1,mutualFriends:0}));x(ie)}catch(K){console.error("Error loading chat partners:",K)}};return e?o.jsxs("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[f&&o.jsx(V,{variant:"ghost",size:"sm",onClick:I,className:"p-1 hover:bg-white/10",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:f?" ":""})]}),o.jsx(V,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(In,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Ge,{placeholder:" ...",value:c,onChange:K=>u(K.target.value),className:"pl-12 pr-4 h-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:f?o.jsx(o.Fragment,{children:A.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:c?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:A.map(K=>o.jsxs("div",{onClick:()=>D(K),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(ut,{className:"h-14 w-14",children:[o.jsx(dt,{src:K.avatar}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:K.name.charAt(0)})]}),K.isOnline&&o.jsx(Cp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:K.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",K.mutualFriends,""]})]})]},K.id))})}):o.jsxs(o.Fragment,{children:[b&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),v&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:v}),!b&&!v&&C.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:c?"  ":" "}),!b&&!v&&C.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:C.map(K=>o.jsxs("div",{onClick:()=>_(K),className:"group flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(ut,{className:"h-14 w-14",children:[o.jsx(dt,{src:K.avatar}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:K.name.charAt(0)})]}),K.isOnline&&o.jsx(Cp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:K.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:K.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:K.lastMessage}),K.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:K.unreadCount>9?"9+":K.unreadCount})]})]}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:o.jsx(V,{variant:"ghost",size:"sm",onClick:ie=>O(ie,K.id),className:"p-2 hover:bg-red-500/20 text-white/60 hover:text-red-400",children:o.jsx(Ia,{className:"w-4 h-4"})})})]},K.id))})]})}),!f&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs(V,{onClick:M,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Ot,{className:"w-5 h-5 mr-2"})," "]})})]}),o.jsx(Mh,{open:S,onOpenChange:E,children:o.jsxs(Oh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs($h,{children:[o.jsx(Fh,{className:"text-white",children:" "}),o.jsx(Bh,{className:"text-white/70",children:" ?     ."})]}),o.jsxs(zh,{children:[o.jsx(zw,{onClick:L,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:""}),o.jsx(Uh,{onClick:k,disabled:N,className:"bg-red-600 hover:bg-red-700 text-white",children:N?" ...":""})]})]})})]}):null}function EP(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Wh="ScrollArea",[Fw,k5]=On(Wh),[TP,xn]=Fw(Wh),Bw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,f]=d.useState(null),[h,m]=d.useState(null),[p,w]=d.useState(null),[x,b]=d.useState(null),[g,v]=d.useState(0),[y,S]=d.useState(0),[E,P]=d.useState(!1),[T,N]=d.useState(!1),R=Ie(t,C=>c(C)),j=Xa(s);return o.jsx(TP,{scope:n,type:r,dir:j,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:N,onCornerWidthChange:v,onCornerHeightChange:S,children:o.jsx(Se.div,{dir:j,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});Bw.displayName=Wh;var Uw="ScrollAreaViewport",Ww=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=xn(Uw,n),l=d.useRef(null),c=Ie(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Se.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Ww.displayName=Uw;var tr="ScrollAreaScrollbar",Hw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xn(tr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(RP,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(PP,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(Vw,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(Hh,{...r,ref:t}):null});Hw.displayName=tr;var RP=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xn(tr,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(wr,{present:n||a,children:o.jsx(Vw,{"data-state":a?"visible":"hidden",...r,ref:t})})}),PP=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xn(tr,e.__scopeScrollArea),a=e.orientation==="horizontal",i=kc(()=>c("SCROLL_END"),100),[l,c]=EP("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,f=a?"scrollLeft":"scrollTop";if(u){let h=u[f];const m=()=>{const p=u[f];h!==p&&(c("SCROLL"),i()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(wr,{present:n||l!=="hidden",children:o.jsx(Hh,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Vw=d.forwardRef((e,t)=>{const n=xn(tr,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=kc(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:f)}},10);return xo(n.viewport,c),xo(n.content,c),o.jsx(wr,{present:r||a,children:o.jsx(Hh,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Hh=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=xn(tr,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=qw(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,p){return MP(m,i.current,l,p)}return n==="horizontal"?o.jsx(_P,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=cg(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?o.jsx(AP,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=cg(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),_P=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=xn(tr,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Ie(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Gw,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cc(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),Jw(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Vl(i.paddingLeft),paddingEnd:Vl(i.paddingRight)}})}})}),AP=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=xn(tr,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Ie(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Gw,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cc(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(a.viewport){const m=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),Jw(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Vl(i.paddingTop),paddingEnd:Vl(i.paddingBottom)}})}})}),[IP,Kw]=Fw(tr),Gw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...m}=e,p=xn(tr,n),[w,x]=d.useState(null),b=Ie(t,R=>x(R)),g=d.useRef(null),v=d.useRef(""),y=p.viewport,S=r.content-r.viewport,E=_t(f),P=_t(c),T=kc(h,10);function N(R){if(g.current){const j=R.clientX-g.current.left,C=R.clientY-g.current.top;u({x:j,y:C})}}return d.useEffect(()=>{const R=j=>{const C=j.target;(w==null?void 0:w.contains(C))&&E(j,S)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[y,w,S,E]),d.useEffect(P,[r,P]),xo(w,T),xo(p.content,T),o.jsx(IP,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:_t(a),onThumbPointerUp:_t(i),onThumbPositionChange:P,onThumbPointerDown:_t(l),children:o.jsx(Se.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:be(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(R))}),onPointerMove:be(e.onPointerMove,N),onPointerUp:be(e.onPointerUp,R=>{const j=R.target;j.hasPointerCapture(R.pointerId)&&j.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),Hl="ScrollAreaThumb",Yw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kw(Hl,e.__scopeScrollArea);return o.jsx(wr,{present:n||s.hasThumb,children:o.jsx(DP,{ref:t,...r})})}),DP=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=xn(Hl,n),i=Kw(Hl,n),{onThumbPositionChange:l}=i,c=Ie(t,h=>i.onThumbChange(h)),u=d.useRef(void 0),f=kc(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(f(),!u.current){const p=OP(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,f,l]),o.jsx(Se.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,x=h.clientY-p.top;i.onThumbPointerDown({x:w,y:x})}),onPointerUp:be(e.onPointerUp,i.onThumbPointerUp)})});Yw.displayName=Hl;var Vh="ScrollAreaCorner",Xw=d.forwardRef((e,t)=>{const n=xn(Vh,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(LP,{...e,ref:t}):null});Xw.displayName=Vh;var LP=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=xn(Vh,n),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return xo(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),xo(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),u?o.jsx(Se.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Vl(e){return e?parseInt(e,10):0}function qw(e,t){const n=e/t;return isNaN(n)?0:n}function Cc(e){const t=qw(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function MP(e,t,n,r="ltr"){const s=Cc(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return Qw([c,u],h)(e)}function cg(e,t,n="ltr"){const r=Cc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Da(e,c);return Qw([0,i],[0,l])(u)}function Qw(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Jw(e,t){return e>0&&e<t}var OP=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function kc(e,t){const n=_t(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function xo(e,t){const n=_t(t);vt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var $P=Bw,zP=Ww,FP=Xw;function BP({className:e,children:t,...n}){return o.jsxs($P,{"data-slot":"scroll-area",className:Ae("relative",e),...n,children:[o.jsx(zP,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(UP,{}),o.jsx(FP,{})]})}function UP({className:e,orientation:t="vertical",...n}){return o.jsx(Hw,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ae("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(Yw,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function WP(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=i=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),a==null||a.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const ea={LF:`
`,NULL:"\0"};class Ir{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=a=>a.replace(/^\s+|\s+$/g,"");for(const a of t.headers.reverse()){a.indexOf(":");const i=s(a[0]);let l=s(a[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=Ir.hdrValueUnEscape(l)),r[i]=l}return new Ir({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Ir.toUnit8Array(t,this._binaryBody).buffer:t+this._body+ea.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${Ir.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(ea.LF)+ea.LF+ea.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),a=new Uint8Array(r.length+n.length+s.length);return a.set(r),a.set(n,r.length),a.set(s,r.length+n.length),a}static marshall(t){return new Ir(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const ug=0,Fi=10,Bi=13,HP=58;class VP{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const a=r[s];this._onByte(a)}}_collectFrame(t){if(t!==ug&&t!==Bi){if(t===Fi){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Bi){if(t===Fi){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Bi){if(t===Fi){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===HP){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Bi){if(t===Fi){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===ug){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Dr;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Dr||(Dr={}));var jn;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(jn||(jn={}));var Kl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Kl||(Kl={}));var Oa;(function(e){e.Interval="interval",e.Worker="worker"})(Oa||(Oa={}));class KP{constructor(t,n=Oa.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Oa.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Mt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Mt.V1_0="1.0";Mt.V1_1="1.1";Mt.V1_2="1.2";Mt.default=new Mt([Mt.V1_2,Mt.V1_1,Mt.V1_0]);class GP{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Mt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const a=s.headers.subscription,i=this._subscriptions[a]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===Mt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(f={})=>c.ack(u,a,f),l.nack=(f={})=>c.nack(u,a,f),i(l)},RECEIPT:s=>{const a=this._receiptWatchers[s.headers["receipt-id"]];a?(a(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new VP(n=>{const r=Ir.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==Mt.V1_1&&t.version!==Mt.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new KP(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Dr.OPEN&&(this._webSocket.send(ea.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>s*2&&(this.debug(`did not receive server activity for the last ${a}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Dr.CONNECTING||this._webSocket.readyState===Dr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&WP(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=new Ir({command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const f=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(f),this.debug(`chunk sent = ${f.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Dr.CONNECTING||this._webSocket.readyState===Dr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:a,skipContentLengthHeader:i})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(a){return s.unsubscribe(r.id,a)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===Mt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===Mt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class Zw{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===jn.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=Mt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Kl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Oa.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=jn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(jn.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===jn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new GP(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===jn.DEACTIVATING&&this._changeState(jn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Kl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var a;const n=t.force||!1,r=this.active;let s;if(this.state===jn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(jn.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Dr.CLOSED){const i=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState(jn.INACTIVE),Promise.resolve();return n?(a=this._stompHandler)==null||a.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var eb={exports:{}},Gd={};globalThis.crypto&&globalThis.crypto.getRandomValues?Gd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Gd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var YP=Gd,dg="abcdefghijklmnopqrstuvwxyz012345",To={string:function(e){for(var t=dg.length,n=YP.randomBytes(e),r=[],s=0;s<e;s++)r.push(dg.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=To,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,l),globalThis.attachEvent("on"+i,l))},detachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,l),globalThis.detachEvent("on"+i,l))},unloadAdd:function(i){if(s)return null;var l=t.string(8);return n[l]=i,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in n&&delete n[i]},triggerUnloadCallbacks:function(){for(var i in n)n[i](),delete n[i]}};var a=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)})(eb);var rs=eb.exports,XP=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},Kh={},qP=Object.prototype.hasOwnProperty,QP;function fg(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function hg(e){try{return encodeURIComponent(e)}catch{return null}}function JP(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=fg(r[1]),a=fg(r[2]);s===null||a===null||s in n||(n[s]=a)}return n}function ZP(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(qP.call(e,s)){if(r=e[s],!r&&(r===null||r===QP||isNaN(r))&&(r=""),s=hg(s),r=hg(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}Kh.stringify=ZP;Kh.parse=JP;var tb=XP,Ec=Kh,e_=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,nb=/[\n\r\t]/g,t_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,rb=/:\d+$/,n_=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,r_=/^[a-zA-Z]:/;function Gh(e){return(e||"").toString().replace(e_,"")}var Yd=[["#","hash"],["?","query"],function(t,n){return Yn(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],mg={hash:1,query:1};function sb(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,a;if(e.protocol==="blob:")r=new Qn(unescape(e.pathname),{});else if(s==="string"){r=new Qn(e,{});for(a in mg)delete r[a]}else if(s==="object"){for(a in e)a in mg||(r[a]=e[a]);r.slashes===void 0&&(r.slashes=t_.test(e.href))}return r}function Yn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function ob(e,t){e=Gh(e),e=e.replace(nb,""),t=t||{};var n=n_.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],a=!!n[3],i=0,l;return s?a?(l=n[2]+n[3]+n[4],i=n[2].length+n[3].length):(l=n[2]+n[4],i=n[2].length):a?(l=n[3]+n[4],i=n[3].length):l=n[4],r==="file:"?i>=2&&(l=l.slice(2)):Yn(r)?l=n[4]:r?s&&(l=l.slice(2)):i>=2&&Yn(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||Yn(r),slashesCount:i,rest:l}}function s_(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],a=!1,i=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),i++):i&&(r===0&&(a=!0),n.splice(r,1),i--);return a&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function Qn(e,t,n){if(e=Gh(e),e=e.replace(nb,""),!(this instanceof Qn))return new Qn(e,t,n);var r,s,a,i,l,c,u=Yd.slice(),f=typeof t,h=this,m=0;for(f!=="object"&&f!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Ec.parse),t=sb(t),s=ob(e||"",t),r=!s.protocol&&!s.slashes,h.slashes=s.slashes||r&&t.slashes,h.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||r_.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Yn(h.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(i=u[m],typeof i=="function"){e=i(e,h);continue}a=i[0],c=i[1],a!==a?h[c]=e:typeof a=="string"?(l=a==="@"?e.lastIndexOf(a):e.indexOf(a),~l&&(typeof i[2]=="number"?(h[c]=e.slice(0,l),e=e.slice(l+i[2])):(h[c]=e.slice(l),e=e.slice(0,l)))):(l=a.exec(e))&&(h[c]=l[1],e=e.slice(0,l.index)),h[c]=h[c]||r&&i[3]&&t[c]||"",i[4]&&(h[c]=h[c].toLowerCase())}n&&(h.query=n(h.query)),r&&t.slashes&&h.pathname.charAt(0)!=="/"&&(h.pathname!==""||t.pathname!=="")&&(h.pathname=s_(h.pathname,t.pathname)),h.pathname.charAt(0)!=="/"&&Yn(h.protocol)&&(h.pathname="/"+h.pathname),tb(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(l=h.auth.indexOf(":"),~l?(h.username=h.auth.slice(0,l),h.username=encodeURIComponent(decodeURIComponent(h.username)),h.password=h.auth.slice(l+1),h.password=encodeURIComponent(decodeURIComponent(h.password))):h.username=encodeURIComponent(decodeURIComponent(h.auth)),h.auth=h.password?h.username+":"+h.password:h.username),h.origin=h.protocol!=="file:"&&Yn(h.protocol)&&h.host?h.protocol+"//"+h.host:"null",h.href=h.toString()}function o_(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Ec.parse)(t)),r[e]=t;break;case"port":r[e]=t,tb(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,rb.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(r.username=t.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var i=0;i<Yd.length;i++){var l=Yd[i];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&Yn(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function a_(e){(!e||typeof e!="function")&&(e=Ec.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var a=s+(n.protocol&&n.slashes||Yn(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):n.protocol!=="file:"&&Yn(n.protocol)&&!r&&n.pathname!=="/"&&(a+="@"),(r[r.length-1]===":"||rb.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(a+=n.hash),a}Qn.prototype={set:o_,toString:a_};Qn.extractProtocol=ob;Qn.location=sb;Qn.trimLeft=Gh;Qn.qs=Ec;var ab=Qn,i_=ab,yn={getOrigin:function(e){if(!e)return null;var t=new i_(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Xd={exports:{}};typeof Object.create=="function"?Xd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Xd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var ze=Xd.exports,It={};function Tc(){this._listeners={}}Tc.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};Tc.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};Tc.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var ib=Tc,l_=ze,Rc=ib;function Qr(){Rc.call(this)}l_(Qr,Rc);Qr.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Qr.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Qr.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var a=0;a<t.length;a++)t[a].apply(this,r)}};Qr.prototype.on=Qr.prototype.addListener=Rc.prototype.addEventListener;Qr.prototype.removeListener=Rc.prototype.removeEventListener;It.EventEmitter=Qr;var qd={exports:{}},pg=globalThis.WebSocket||globalThis.MozWebSocket;pg?qd.exports=function(t){return new pg(t)}:qd.exports=void 0;var c_=qd.exports,lb=rs,u_=yn,d_=ze,cb=It.EventEmitter,ub=c_,gg=function(){};function Sr(e,t,n){if(!Sr.enabled())throw new Error("Transport created when disabled");cb.call(this);var r=this,s=u_.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new ub(this.url,[],n),this.ws.onmessage=function(a){gg("message event",a.data),r.emit("message",a.data)},this.unloadRef=lb.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(a){gg("close event",a.code,a.reason),r.emit("close",a.code,a.reason),r._cleanup()},this.ws.onerror=function(a){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}d_(Sr,cb);Sr.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};Sr.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};Sr.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),lb.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Sr.enabled=function(){return!!ub};Sr.transportName="websocket";Sr.roundTrips=2;var f_=Sr,h_=ze,db=It.EventEmitter,m_=function(){};function Rs(e,t){db.call(this),this.sendBuffer=[],this.sender=t,this.url=e}h_(Rs,db);Rs.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};Rs.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};Rs.prototype.sendSchedule=function(){m_("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};Rs.prototype._cleanup=function(){this.removeAllListeners()};Rs.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var p_=Rs,g_=ze,fb=It.EventEmitter,v_=function(){};function Pc(e,t,n){fb.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}g_(Pc,fb);Pc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){v_("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};Pc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var x_=Pc,y_=ze,w_=yn,Yh=p_,b_=x_;function Xh(e,t,n,r,s){var a=w_.addPath(e,t),i=this;Yh.call(this,e,n),this.poll=new b_(r,a,s),this.poll.on("message",function(l){i.emit("message",l)}),this.poll.once("close",function(l,c){i.poll=null,i.emit("close",l,c),i.close()})}y_(Xh,Yh);Xh.prototype.close=function(){Yh.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var hb=Xh,S_=ze,N_=yn,mb=hb;function j_(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var a=N_.addPath(t,"/xhr_send"),i=new e("POST",a,n,s);return i.once("finish",function(l){if(i=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){i.close(),i=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function pb(e,t,n,r){mb.call(this,e,t,j_(r),n,r)}S_(pb,mb);var Ro=pb,C_=ze,gb=It.EventEmitter;function Qa(e,t){gb.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var a=r===200?"network":"permanent";n.emit("close",null,a),n._cleanup()})}C_(Qa,gb);Qa.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};Qa.prototype._cleanup=function(){this.removeAllListeners()};Qa.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var _c=Qa,vb=It.EventEmitter,k_=ze,xb=rs,E_=yn,$a=globalThis.XMLHttpRequest,Nu=function(){};function Jn(e,t,n,r){var s=this;vb.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}k_(Jn,vb);Jn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new $a}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=E_.addQuery(t,"t="+ +new Date),this.unloadRef=xb.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Nu("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Jn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var a in r.headers)this.xhr.setRequestHeader(a,r.headers[a]);this.xhr.onreadystatechange=function(){if(s.xhr){var i=s.xhr,l,c;switch(Nu("readyState",i.readyState),i.readyState){case 3:try{c=i.status,l=i.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=i.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Nu("finish",c,i.responseText),s.emit("finish",c,i.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Jn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),xb.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Jn.prototype.close=function(){this._cleanup(!0)};Jn.enabled=!!$a;var vg=["Active"].concat("Object").join("X");!Jn.enabled&&vg in globalThis&&($a=function(){try{return new globalThis[vg]("Microsoft.XMLHTTP")}catch{return null}},Jn.enabled=!!new $a);var yb=!1;try{yb="withCredentials"in new $a}catch{}Jn.supportsCORS=yb;var wb=Jn,T_=ze,Gl=wb;function qh(e,t,n,r){Gl.call(this,e,t,n,r)}T_(qh,Gl);qh.enabled=Gl.enabled&&Gl.supportsCORS;var Ac=qh,R_=ze,Qh=wb;function Jh(e,t,n){Qh.call(this,e,t,n,{noCredentials:!0})}R_(Jh,Qh);Jh.enabled=Qh.enabled;var Ja=Jh,Za={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},P_=ze,bb=Ro,__=_c,Qd=Ac,A_=Ja,I_=Za;function Po(e){if(!A_.enabled&&!Qd.enabled)throw new Error("Transport created when disabled");bb.call(this,e,"/xhr_streaming",__,Qd)}P_(Po,bb);Po.enabled=function(e){return e.nullOrigin||I_.isOpera()?!1:Qd.enabled};Po.transportName="xhr-streaming";Po.roundTrips=2;Po.needBody=!!globalThis.document;var D_=Po,Sb=It.EventEmitter,L_=ze,Nb=rs,M_=Za,O_=yn,$_=function(){};function Ps(e,t,n){var r=this;Sb.call(this),setTimeout(function(){r._start(e,t,n)},0)}L_(Ps,Sb);Ps.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=O_.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){$_("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=Nb.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};Ps.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};Ps.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Nb.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};Ps.prototype.close=function(){this._cleanup(!0)};Ps.enabled=!!(globalThis.XDomainRequest&&M_.hasDomain());var Zh=Ps,z_=ze,jb=Ro,F_=_c,Jd=Zh;function ei(e){if(!Jd.enabled)throw new Error("Transport created when disabled");jb.call(this,e,"/xhr_streaming",F_,Jd)}z_(ei,jb);ei.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Jd.enabled&&e.sameScheme};ei.transportName="xdr-streaming";ei.roundTrips=2;var Cb=ei,kb=globalThis.EventSource,B_=ze,Eb=It.EventEmitter,U_=kb,xg=function(){};function ti(e){Eb.call(this);var t=this,n=this.es=new U_(e);n.onmessage=function(r){xg("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){xg("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}B_(ti,Eb);ti.prototype.abort=function(){this._cleanup(),this._close("user")};ti.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};ti.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var W_=ti,H_=ze,Tb=Ro,V_=W_,K_=Ac,G_=kb;function _o(e){if(!_o.enabled())throw new Error("Transport created when disabled");Tb.call(this,e,"/eventsource",V_,K_)}H_(_o,Tb);_o.enabled=function(){return!!G_};_o.transportName="eventsource";_o.roundTrips=2;var yg=_o,ju,wg;function Rb(){return wg||(wg=1,ju="1.6.1"),ju}var Pb={exports:{}};(function(e){var t=rs,n=Za;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var a=globalThis.document.createElement("iframe"),i,l,c=function(){clearTimeout(i);try{a.onload=null}catch{}a.onerror=null},u=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},f=function(m){a&&(u(),s(m))},h=function(m,p){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(m,p)}catch{}},0)};return a.src=r,a.style.display="none",a.style.position="absolute",a.onerror=function(){f("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){f("onload timeout")},2e3)},globalThis.document.body.appendChild(a),i=setTimeout(function(){f("timeout")},15e3),l=t.unloadAdd(u),{post:h,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var a=["Active"].concat("Object").join("X"),i=new globalThis[a]("htmlfile"),l,c,u,f=function(){clearTimeout(l),u.onerror=null},h=function(){i&&(f(),t.unloadDel(c),u.parentNode.removeChild(u),u=i=null,CollectGarbage())},m=function(x){i&&(h(),s(x))},p=function(x,b){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,b)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=i.createElement("div");return i.body.appendChild(w),u=i.createElement("iframe"),w.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(h),{post:p,cleanup:h,loaded:f}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(Pb);var ni=Pb.exports,Y_=ze,_b=It.EventEmitter,X_=Rb(),Zd=yn,Ab=ni,Ib=rs,q_=To,Yo=function(){};function nr(e,t,n){if(!nr.enabled())throw new Error("Transport created when disabled");_b.call(this);var r=this;this.origin=Zd.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=q_.string(8);var s=Zd.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Ab.createIframe(s,function(a){r.emit("close",1006,"Unable to load an iframe ("+a+")"),r.close()}),this.onmessageCallback=this._message.bind(this),Ib.attachEvent("message",this.onmessageCallback)}Y_(nr,_b);nr.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){Ib.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};nr.prototype._message=function(e){if(Yo("message",e.data),!Zd.isOriginEqual(e.origin,this.origin)){Yo("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Yo("bad json",e.data);return}if(t.windowId!==this.windowId){Yo("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([X_,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Yo("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};nr.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};nr.prototype.send=function(e){this.postMessage("m",e)};nr.enabled=function(){return Ab.iframeEnabled};nr.transportName="iframe";nr.roundTrips=2;var Db=nr,em={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},Q_=ze,Ui=Db,J_=em,Cu=function(e){function t(n,r){Ui.call(this,e.transportName,n,r)}return Q_(t,Ui),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=J_.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&Ui.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Ui.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},Z_=ze,as=ni,eA=yn,Lb=It.EventEmitter,tA=To,nA=function(){};function Mn(e){Lb.call(this);var t=this;as.polluteGlobalNamespace(),this.id="a"+tA.string(6),e=eA.addQuery(e,"c="+decodeURIComponent(as.WPrefix+"."+this.id)),nA("using htmlfile",Mn.htmlfileEnabled);var n=Mn.htmlfileEnabled?as.createHtmlfile:as.createIframe;globalThis[as.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}Z_(Mn,Lb);Mn.prototype.abort=function(){this._cleanup(),this._close("user")};Mn.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[as.WPrefix][this.id]};Mn.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};Mn.htmlfileEnabled=!1;var bg=["Active"].concat("Object").join("X");if(bg in globalThis)try{Mn.htmlfileEnabled=!!new globalThis[bg]("htmlfile")}catch{}Mn.enabled=Mn.htmlfileEnabled||as.iframeEnabled;var rA=Mn,sA=ze,ef=rA,oA=Ja,Mb=Ro;function ri(e){if(!ef.enabled)throw new Error("Transport created when disabled");Mb.call(this,e,"/htmlfile",ef,oA)}sA(ri,Mb);ri.enabled=function(e){return ef.enabled&&e.sameOrigin};ri.transportName="htmlfile";ri.roundTrips=2;var Sg=ri,aA=ze,Ob=Ro,iA=_c,tf=Ac,$b=Ja;function si(e){if(!$b.enabled&&!tf.enabled)throw new Error("Transport created when disabled");Ob.call(this,e,"/xhr",iA,tf)}aA(si,Ob);si.enabled=function(e){return e.nullOrigin?!1:$b.enabled&&e.sameOrigin?!0:tf.enabled};si.transportName="xhr-polling";si.roundTrips=2;var Ng=si,lA=ze,zb=Ro,cA=Cb,uA=_c,jg=Zh;function oi(e){if(!jg.enabled)throw new Error("Transport created when disabled");zb.call(this,e,"/xhr",uA,jg)}lA(oi,zb);oi.enabled=cA.enabled;oi.transportName="xdr-polling";oi.roundTrips=2;var dA=oi,fa=ni,Fb=To,fA=Za,hA=yn,mA=ze,Bb=It.EventEmitter,pA=function(){};function vn(e){var t=this;Bb.call(this),fa.polluteGlobalNamespace(),this.id="a"+Fb.string(6);var n=hA.addQuery(e,"c="+encodeURIComponent(fa.WPrefix+"."+this.id));globalThis[fa.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},vn.timeout)}mA(vn,Bb);vn.prototype.abort=function(){if(globalThis[fa.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};vn.timeout=35e3;vn.scriptErrorTimeout=1e3;vn.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};vn.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};vn.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[fa.WPrefix][this.id]};vn.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},vn.scriptErrorTimeout))};vn.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+Fb.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(pA("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(fA.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var gA=vn,vA=To,Cg=yn,xA=function(){},en,ha;function yA(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function wA(){en=globalThis.document.createElement("form"),en.style.display="none",en.style.position="absolute",en.method="POST",en.enctype="application/x-www-form-urlencoded",en.acceptCharset="UTF-8",ha=globalThis.document.createElement("textarea"),ha.name="d",en.appendChild(ha),globalThis.document.body.appendChild(en)}var bA=function(e,t,n){en||wA();var r="a"+vA.string(8);en.target=r,en.action=Cg.addQuery(Cg.addPath(e,"/jsonp_send"),"i="+r);var s=yA(r);s.id=r,s.style.display="none",en.appendChild(s);try{ha.value=t}catch{}en.submit();var a=function(i){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),ha.value="",n(i))};return s.onerror=function(){a()},s.onload=function(){a()},s.onreadystatechange=function(i){xA("onreadystatechange",r,s.readyState),s.readyState==="complete"&&a()},function(){a(new Error("Aborted"))}},SA=ze,Ub=hb,NA=gA,jA=bA;function _s(e){if(!_s.enabled())throw new Error("Transport created when disabled");Ub.call(this,e,"/jsonp",jA,NA)}SA(_s,Ub);_s.enabled=function(){return!!globalThis.document};_s.transportName="jsonp-polling";_s.roundTrips=1;_s.needBody=!0;var CA=_s,kA=[f_,D_,Cb,yg,Cu(yg),Sg,Cu(Sg),Ng,dA,Cu(Ng),CA],za=Array.prototype,tm=Object.prototype,EA=Function.prototype,Fa=String.prototype,ku=za.slice,nm=tm.toString,Wb=function(e){return tm.toString.call(e)==="[object Function]"},TA=function(t){return nm.call(t)==="[object Array]"},Hb=function(t){return nm.call(t)==="[object String]"},RA=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),nf;RA?nf=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:nf=function(e,t,n,r){!r&&t in e||(e[t]=n)};var ai=function(e,t,n){for(var r in t)tm.hasOwnProperty.call(t,r)&&nf(e,r,t[r],n)},Vb=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function PA(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function _A(e){return e>>>0}function Eu(){}ai(EA,{bind:function(t){var n=this;if(!Wb(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=ku.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(ku.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(ku.call(arguments)))},a=Math.max(0,n.length-r.length),i=[],l=0;l<a;l++)i.push("$"+l);var c=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(Eu.prototype=n.prototype,c.prototype=new Eu,Eu.prototype=null),c}});ai(Array,{isArray:TA});var kg=Object("a"),Kb=kg[0]!=="a"||!(0 in kg),AA=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,a,i){typeof i!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};ai(za,{forEach:function(t){var n=Vb(this),r=Kb&&Hb(this)?this.split(""):n,s=arguments[1],a=-1,i=r.length>>>0;if(!Wb(t))throw new TypeError;for(;++a<i;)a in r&&t.call(s,r[a],a,n)}},!AA(za.forEach));var IA=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;ai(za,{indexOf:function(t){var n=Kb&&Hb(this)?this.split(""):Vb(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=PA(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},IA);var Eg=Fa.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;Fa.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(nm.call(t)!=="[object RegExp]")return Eg.call(this,t,n);var s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),i=0,l,c,u,f;for(t=new RegExp(t.source,a+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",a)),n=n===void 0?-1>>>0:_A(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>i&&(s.push(r.slice(i,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(c[h]=void 0)}),c.length>1&&c.index<r.length&&za.push.apply(s,c.slice(1)),f=c[0].length,i=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return i===r.length?(f||!t.test(""))&&s.push(""):s.push(r.slice(i)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&(Fa.split=function(t,n){return t===void 0&&n===0?[]:Eg.call(this,t,n)});var DA=Fa.substr,LA="".substr&&"0b".substr(-1)!=="b";ai(Fa,{substr:function(t,n){return DA.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},LA);var Wi=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Tu,MA=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},OA={quote:function(e){var t=JSON.stringify(e);return Wi.lastIndex=0,Wi.test(t)?(Tu||(Tu=MA(Wi)),t.replace(Wi,function(n){return Tu[n]})):t}},Ru=function(){},$A=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Ru("not in whitelist",s.transportName);return}s.enabled(n)?(Ru("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):Ru("disabled",s.transportName)}}),r}}},rf={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}rf[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:rf.log});var zA=rf;function As(e){this.type=e}As.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};As.prototype.stopPropagation=function(){};As.prototype.preventDefault=function(){};As.CAPTURING_PHASE=1;As.AT_TARGET=2;As.BUBBLING_PHASE=3;var rm=As,Gb=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},FA=ze,Yb=rm;function Xb(){Yb.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}FA(Xb,Yb);var BA=Xb,UA=ze,qb=rm;function Qb(e){qb.call(this),this.initEvent("message",!1,!1),this.data=e}UA(Qb,qb);var WA=Qb,Jb=It.EventEmitter,HA=ze;function ii(){var e=this;Jb.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},ii.timeout)}HA(ii,Jb);ii.prototype.close=function(){clearTimeout(this.to)};ii.timeout=2e3;var VA=ii,Zb=It.EventEmitter,KA=ze,GA=em;function sm(e,t){Zb.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,a){var i,l;if(s===200){if(l=+new Date-r,a)try{i=JSON.parse(a)}catch{}GA.isObject(i)||(i={})}n.emit("finish",i,l),n.removeAllListeners()})}KA(sm,Zb);sm.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var e1=sm,Pu,Tg;function t1(){if(Tg)return Pu;Tg=1;var e=ze,t=It.EventEmitter,n=Ja,r=e1;function s(a){var i=this;t.call(this),this.ir=new r(a,n),this.ir.once("finish",function(l,c){i.ir=null,i.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Pu=s,Pu}var n1=It.EventEmitter,YA=ze,XA=rs,r1=Db,qA=t1();function Ic(e,t){var n=this;n1.call(this);var r=function(){var s=n.ifr=new r1(qA.transportName,t,e);s.once("message",function(a){if(a){var i;try{i=JSON.parse(a)}catch{n.emit("finish"),n.close();return}var l=i[0],c=i[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():XA.attachEvent("load",r)}YA(Ic,n1);Ic.enabled=function(){return r1.enabled()};Ic.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var QA=Ic,s1=It.EventEmitter,JA=ze,ZA=yn,Rg=Zh,Pg=Ac,e3=Ja,t3=VA,_g=QA,Hi=e1;function cr(e,t){var n=this;s1.call(this),setTimeout(function(){n.doXhr(e,t)},0)}JA(cr,s1);cr._getReceiver=function(e,t,n){return n.sameOrigin?new Hi(t,e3):Pg.enabled?new Hi(t,Pg):Rg.enabled&&n.sameScheme?new Hi(t,Rg):_g.enabled()?new _g(e,t):new Hi(t,t3)};cr.prototype.doXhr=function(e,t){var n=this,r=ZA.addPath(e,"/info");this.xo=cr._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},cr.timeout),this.xo.once("finish",function(s,a){n._cleanup(!0),n.emit("finish",s,a)})};cr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};cr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};cr.timeout=8e3;var n3=cr,_u,Ag;function r3(){if(Ag)return _u;Ag=1;var e=ni;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},_u=t,_u}var Au,Ig;function s3(){if(Ig)return Au;Ig=1;var e=yn,t=rs,n=r3(),r=t1(),s=ni,a=Gb,i=function(){};return Au=function(l,c){var u={};c.forEach(function(h){h.facadeTransport&&(u[h.facadeTransport.transportName]=h.facadeTransport)}),u[r.transportName]=r;var f;l.bootstrap_iframe=function(){var h;s.currentWindowId=a.hash.slice(1);var m=function(p){if(p.source===parent&&(typeof f>"u"&&(f=p.origin),p.origin===f)){var w;try{w=JSON.parse(p.data)}catch{i("bad json",p.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{i("bad json",w.data);break}var b=x[0],g=x[1],v=x[2],y=x[3];if(b!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+b+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(v,a.href)||!e.isOriginEqual(y,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+v+", "+y+")");h=new n(new u[g](v,y));break;case"m":h._send(w.data);break;case"c":h&&h._close(),h=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},Au}var o3=ab,a3=ze,Dg=To,i3=OA,ta=yn,l3=rs,c3=$A,u3=em,d3=Za,f3=zA,om=rm,o1=ib,Vi=Gb,h3=BA,Lg=WA,m3=n3,Xn=function(){},a1;function Oe(e,t,n){if(!(this instanceof Oe))return new Oe(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");o1.call(this),this.readyState=Oe.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&f3.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Dg.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Dg.numberString(1e3);var s=new o3(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a=s.protocol==="https:";if(Vi.protocol==="https:"&&!a&&!ta.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var i=t.sort();i.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<i.length-1&&c===i[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=ta.getOrigin(Vi.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Xn("using url",this.url),this._urlInfo={nullOrigin:!d3.hasDomain(),sameOrigin:ta.isOriginEqual(this.url,Vi.href),sameScheme:ta.isSchemeEqual(this.url,Vi.href)},this._ir=new m3(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}a3(Oe,o1);function i1(e){return e===1e3||e>=3e3&&e<=4999}Oe.prototype.close=function(e,t){if(e&&!i1(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Oe.CLOSING||this.readyState===Oe.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};Oe.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===Oe.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Oe.OPEN&&this._transport.send(i3.quote(e))};Oe.version=Rb();Oe.CONNECTING=0;Oe.OPEN=1;Oe.CLOSING=2;Oe.CLOSED=3;Oe.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=u3.extend(e,this._urlInfo);var n=a1.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,Xn(this._transports.length+" enabled transports"),this._connect()};Oe.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Xn("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),l3.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=ta.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};Oe.prototype._transportTimeout=function(){this.readyState===Oe.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Oe.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new om("heartbeat")),Xn("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(a){Xn("message",t.transport),t.dispatchEvent(new Lg(a))});break;case"m":Xn("message",this.transport),this.dispatchEvent(new Lg(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};Oe.prototype._transportClose=function(e,t){if(Xn("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!i1(e)&&e!==2e3&&this.readyState===Oe.CONNECTING){this._connect();return}this._close(e,t)};Oe.prototype._open=function(){Xn("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Oe.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Oe.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new om("open")),Xn("connected",this.transport)):this._close(1006,"Server lost session")};Oe.prototype._close=function(e,t,n){Xn("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Oe.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Oe.CLOSING,setTimeout((function(){this.readyState=Oe.CLOSED,r&&this.dispatchEvent(new om("error"));var s=new h3;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Oe.prototype.countRTO=function(e){return e>100?4*e:300+e};var p3=function(e){return a1=c3(e),s3()(Oe,e),Oe},g3=kA,v3=p3(g3);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const l1=cf(v3),x3=({roomId:e,userId:t,onMessageReceived:n,onError:r})=>{const[s,a]=d.useState(!1),[i,l]=d.useState("disconnected"),c=d.useRef(null),u=d.useRef(null),f=d.useRef(null),[h,m]=d.useState(0),p=3,[w,x]=d.useState(0),b=T=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(T),g=()=>localStorage.getItem("accessToken"),v=d.useCallback(()=>{var R;if(console.log(" WebSocket connect()  !"),console.log("    :",{hasClient:!!c.current,clientConnected:(R=c.current)==null?void 0:R.connected,connectionStatus:i,roomId:e,userId:t,hasToken:!!g(),timestamp:new Date().toISOString()}),c.current&&c.current.connected){console.log("   -   ");return}if(i==="connecting"){console.log("    -   ");return}if(c.current&&!c.current.connected&&i!=="disconnected"&&(console.log("    "),c.current.deactivate(),c.current=null),!e||!t){console.log("   :",{roomId:e,userId:t}),l("error");return}const T=g();if(console.log("WebSocket   - :",T?"":""),!T){console.error("   .   ."),r==null||r(" .  ."),l("error");return}if(T.length<10){console.error("    ."),r==null||r("   .  ."),l("error");return}l("connecting"),x(j=>j+1),console.log(` WebSocket   #${w+1}`,{roomId:e,userId:t,currentStatus:i,reconnectAttempt:h+1,url:"http://localhost:8080/ws"}),console.log(" SockJS   ..."),console.log("     :"),console.log("   - WebSocket   (101 Switching Protocols)"),console.log("   - SockJS   ");const N=new Zw({webSocketFactory:()=>(console.log(" WebSocket Factory  - SockJS  !"),new l1("http://localhost:8080/ws")),connectHeaders:T?{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" DM WebSocket   ... :",T?{Authorization:`Bearer ${T.substring(0,10)}...`}:{token:"none"})},debug:j=>{console.log("STOMP Debug:",j)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" DM WebSocket  !",{roomId:e,userId:t}),a(!0),l("connected"),m(0);const j=g();if(!j){console.error("    .     ."),r==null||r("    .");return}console.log(" DM   :",`/topic/dm/${e}`),N.subscribe(`/topic/dm/${e}`,C=>{try{const A=JSON.parse(C.body);console.log(" DM  :",A),n(A)}catch(A){console.error(" DM   :",A)}},{Authorization:`Bearer ${j}`}),console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:j.substring(0,10)+"..."}),N.publish({destination:`/app/dmRooms/${e}/enter`,headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({})}),console.log(" DM WebSocket  ")},onDisconnect:()=>{console.log(" DM WebSocket  ",{roomId:e,userId:t}),a(!1),l("disconnected")},onStompError:j=>{console.error(" STOMP :",{message:j.headers.message,body:j.body,headers:j.headers});const C=j.headers.message||"";if(C.includes("Unauthorized")||C.includes("Authentication")||C.includes("Token")||C.includes("401")||C.includes("Forbidden")||C.includes("403")){console.error("   -   "),r==null||r(" .  ."),l("error");return}else C.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),r==null||r("   .    .")):r==null||r(` : ${C}`);l("error"),!C.includes("Unauthorized")&&!C.includes("Authentication")&&!C.includes("Token")&&!C.includes("401")&&!C.includes("Forbidden")&&!C.includes("403")?h<p&&(m(A=>A+1),u.current=setTimeout(()=>{v()},5e3*h)):console.log("      .")},onWebSocketError:j=>{console.error(" WebSocket :",j),l("error"),r==null||r("WebSocket   ."),c.current&&(c.current.deactivate(),c.current=null)}});c.current=N,N.activate()},[e,t,n,r,h,i]),y=d.useCallback(()=>{var N;const T=g();if(!T){console.error("   :   ."),r==null||r(" .  .");return}if(!((N=c.current)!=null&&N.connected)){console.error("   : WebSocket  .");return}if(!e){console.error("   : roomId .");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:T.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/enter`,headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({})})},[e,r]),S=d.useCallback(()=>{var N;const T=g();if(!T){console.error("   :   .");return}if(!((N=c.current)!=null&&N.connected)){console.error("   : WebSocket  .");return}if(!e){console.error("   : roomId .");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:T.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/exit`,headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({})})},[e]),E=d.useCallback(()=>{var T;if((T=c.current)!=null&&T.connected&&e){const N=g();N&&b(e)&&(console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:N.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/exit`,headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify({})}))}c.current&&(c.current.deactivate(),c.current=null),u.current&&(clearTimeout(u.current),u.current=null),a(!1),l("disconnected"),m(0)},[e]),P=d.useCallback(T=>{var j;const N=g();if(!N){console.error("   :   ."),r==null||r(" .  .");return}if(!((j=c.current)!=null&&j.connected)){r==null||r("WebSocket  .");return}if(!e||!t){console.error("Cannot send message: missing roomId or userId");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}if(!b(t)){console.error("   :   senderId UUID :",{userId:t});return}const R={senderId:t,roomId:e,content:T};console.log(" DM   (with Auth):",{dmRequest:R,hasToken:!0,tokenPrefix:N.substring(0,10)+"..."}),c.current.publish({destination:`/app/dm/${e}`,headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify(R)})},[e,t,r]);return d.useEffect(()=>{console.log(" useDmWebSocket useEffect :",{roomId:e,userId:t,hasRoomId:!!e,hasUserId:!!t}),e&&t?(console.log("   -   "),v()):(console.log("   -   :",{roomId:e,userId:t}),E())},[e,t]),d.useEffect(()=>{const T=g();f.current!==T&&(console.log("    -  :",{oldToken:f.current?"existed":"none",newToken:T?"exists":"none",roomId:e,userId:t}),f.current=T,c.current&&e&&t&&(console.log("      "),E(),T?setTimeout(()=>{console.log("    "),v()},1e3):console.log("    ")))},[]),d.useEffect(()=>()=>{E()},[E]),{isConnected:s,connectionStatus:i,connect:v,disconnect:E,enterRoom:y,exitRoom:S,sendMessage:P,reconnectAttempts:h,connectionAttempts:w}};function y3({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:a,refreshTrigger:i}){const[l,c]=d.useState([]),[u,f]=d.useState(""),[h]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(!1),[b,g]=d.useState(null),[v,y]=d.useState(null),[S,E]=d.useState(!0),[P,T]=d.useState(null),N=d.useRef(null),R=d.useRef(null),j=d.useRef(null),C=d.useRef(0),A=d.useRef(null),_=d.useRef(!1),M=d.useRef(!1),I=d.useRef(!1),D=d.useRef(!1),O=d.useRef(!1),k=d.useRef(null),{isConnected:L,sendMessage:H}=x3({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:z=>{const Z={id:z.id,senderId:z.senderId,senderName:z.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:z.content,timestamp:le(z.createdAt||new Date().toISOString()),type:"text",isOwnMessage:z.senderId===s};c(X=>X.some(he=>he.id===Z.id)?X:[...X,Z])},onError:z=>{console.error(" DM WebSocket :",z),z.includes("")||z.includes("")||z.includes("Authentication")?(y(z),g(null)):(g(z),y(null))}});d.useEffect(()=>{var z;(z=N.current)==null||z.scrollIntoView({behavior:"smooth"})},[l]),d.useEffect(()=>{if(!m&&l.length>0&&_.current){O.current=!0;const z=setTimeout(()=>{var X;(X=N.current)==null||X.scrollIntoView({behavior:"auto"}),_.current=!1,O.current=!1;const Z=setTimeout(()=>{I.current=!0},300);return()=>clearTimeout(Z)},150);return()=>clearTimeout(z)}},[m,l.length]),d.useEffect(()=>{if(l.length>0&&j.current){const z=j.current.querySelector("[data-radix-scroll-area-viewport]");if(z){const{scrollTop:Z,scrollHeight:X,clientHeight:oe}=z;if(Z+oe>=X-100){O.current=!0;const ce=setTimeout(()=>{var we;(we=N.current)==null||we.scrollIntoView({behavior:"smooth"}),O.current=!1},50);return()=>clearTimeout(ce)}}}},[l]),d.useEffect(()=>{e&&R.current&&R.current.focus(),e||(M.current=!1,I.current=!1,O.current=!1,D.current=!1)},[e]),d.useEffect(()=>{if(!(r!=null&&r.roomId)||!e)return;const z=r.roomId;M.current||(A.current=z,_.current=!0,K())},[r==null?void 0:r.roomId,e]),d.useEffect(()=>{!(r!=null&&r.roomId)||!e||!i||i===0||M.current||K()},[i,r==null?void 0:r.roomId,e]),d.useEffect(()=>()=>{M.current=!1,I.current=!1,O.current=!1,D.current=!1},[r==null?void 0:r.roomId]),d.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const le=z=>{const Z=new Date(z);return isNaN(Z.getTime())?(console.warn("Invalid date string provided:",z),"  "):Z.toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0})},K=async()=>{if(!(M.current||m||w||D.current)){M.current=!0;try{c([]),T(null),E(!0),g(null),y(null),await ie()}catch(z){console.error(" resetAndLoadMessages :",z),g("   .")}finally{M.current=!1}}},ie=async()=>{if(r!=null&&r.roomId&&!m)try{p(!0),g(null);const z=await a(r.roomId,{size:20}),Z=z.data.sort((X,oe)=>new Date(X.createdAt).getTime()-new Date(oe.createdAt).getTime()).map(X=>({id:X.id,senderId:X.senderId,senderName:X.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:X.content,timestamp:le(X.createdAt||new Date().toISOString()),type:"text",isOwnMessage:X.senderId===s}));c(Z),E(z.hasNext),T(z.nextCursor)}catch(z){console.error("    :",z),g("    .")}finally{p(!1)}},se=d.useCallback(async()=>{var Z;if(!(r!=null&&r.roomId)||!P||!S||D.current)return;D.current=!0,x(!0),g(null);const z=(Z=j.current)==null?void 0:Z.querySelector("[data-radix-scroll-area-viewport]");z&&(C.current=z.scrollHeight);try{const X={size:20,cursor:P},oe=await a(r.roomId,X),he=oe.data.sort((ce,we)=>new Date(ce.createdAt).getTime()-new Date(we.createdAt).getTime()).map(ce=>({id:ce.id,senderId:ce.senderId,senderName:ce.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:ce.content,timestamp:le(ce.createdAt||new Date().toISOString()),type:"text",isOwnMessage:ce.senderId===s}));c(ce=>{const we=new Set(ce.map(B=>B.id));return[...he.filter(B=>!we.has(B.id)),...ce]}),E(oe.hasNext),T(oe.nextCursor)}catch(X){console.error("    :",X),g("    .")}finally{x(!1),D.current=!1}},[r==null?void 0:r.roomId,P,S,s,a]);d.useEffect(()=>{if(!w&&C.current>0&&j.current){const z=j.current.querySelector("[data-radix-scroll-area-viewport]");if(z){O.current=!0;const X=z.scrollHeight-C.current;z.scrollTop=X,C.current=0;const oe=setTimeout(()=>{O.current=!1},150);return()=>clearTimeout(oe)}}},[l,w]);const de=d.useCallback(z=>{const Z=z.currentTarget,{scrollTop:X,scrollHeight:oe,clientHeight:he}=Z,ce=!O.current,we=I.current,Ne=X<=10,B=S,F=!D.current,ne=!m,Q=l.length>=20||oe>he;ce&&we&&Ne&&B&&F&&ne&&Q?(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{se(),k.current=null},100)):k.current&&(clearTimeout(k.current),k.current=null)},[S,m,se,l.length]),Ee=()=>{if(!u.trim()||!r||!L){console.warn("   :",{hasMessage:!!u.trim(),hasUser:!!r,isConnected:L,roomId:r==null?void 0:r.roomId,userId:s});return}console.log(" ChatRoom  :",{content:u.trim(),roomId:r.roomId,userId:s,isConnected:L}),H(u.trim()),f("")},$=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),Ee())};return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(ut,{className:"h-8 w-8",children:[o.jsx(dt,{src:r.avatar}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsx("p",{className:"text-xs text-white/60"})]})]})]}),o.jsx(V,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(In,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(BP,{ref:j,className:"h-full",onScrollCapture:de,children:o.jsxs("div",{className:"p-4 space-y-4",children:[w&&o.jsxs("div",{className:"flex items-center justify-center py-2 text-white/60",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white/60 rounded-full animate-spin"}),o.jsx("span",{className:"text-sm",children:"   ..."})]}),!S&&l.length>0&&!m&&o.jsx("div",{className:"flex items-center justify-center py-2 text-white/40",children:o.jsx("span",{className:"text-sm",children:" "})}),m&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),b&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:b}),v&&o.jsx("div",{className:"flex items-center justify-center h-32 text-orange-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-3",children:v}),o.jsx(V,{onClick:()=>{y(null)},size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:" "})]})}),!m&&!b&&!v&&l.length===0&&!w&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),l.map((z,Z)=>{const X=l[Z-1];let oe=!0;Z>0&&X&&X.senderId===z.senderId&&X.timestamp===z.timestamp&&(oe=!1);const he=l[Z+1];return(!he||he.senderId!==z.senderId||he.timestamp!==z.timestamp)&&(oe=!0),o.jsx("div",{className:`flex ${z.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${z.isOwnMessage?"order-2":"order-1"}`,children:[!z.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(ut,{className:"h-6 w-6",children:[o.jsx(dt,{src:r.avatar}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:z.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${z.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:z.content})}),oe&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${z.isOwnMessage?"text-right":"text-left"}`,children:z.timestamp})]})},z.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ut,{className:"h-6 w-6",children:[o.jsx(dt,{src:r.avatar}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:N})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(V,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(y0,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ge,{ref:R,value:u,onChange:z=>f(z.target.value),onKeyPress:$,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(xC,{className:"w-4 h-4"})})]}),o.jsx(V,{onClick:Ee,disabled:!u.trim()||!L,size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(uh,{className:"w-4 h-4"})})]})})]})})}function w3({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:a,onError:i}){const[l,c]=d.useState(!1),[u,f]=d.useState("disconnected"),h=d.useRef(null),m=d.useRef(),[p,w]=d.useState(0),x=3,b=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(h.current&&(h.current.connected||u==="connecting"))return;const E=b();console.log("WebSocket   - :",E?"":""),E||console.warn("      ()"),f("connecting"),console.log("WebSocket  :",{url:"http://localhost:8080/ws",token:E?`${E.substring(0,10)}...`:"null"});const P=new Zw({webSocketFactory:()=>new l1("http://localhost:8080/ws"),connectHeaders:E?{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",E?{Authorization:`Bearer ${E.substring(0,10)}...`}:{token:"none"})},debug:T=>{console.log("STOMP Debug:",T)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),f("connected"),w(0),P.subscribe(`/topic/rooms/${e}/chat`,T=>{try{const N=JSON.parse(T.body);n==null||n(N)}catch(N){console.error("   :",N)}}),P.subscribe(`/topic/rooms/${e}/participants`,T=>{try{const N=JSON.parse(T.body);r==null||r(N),f("connected"),c(!0)}catch(N){console.error("   :",N)}}),P.subscribe(`/topic/rooms/${e}/video`,T=>{try{const N=JSON.parse(T.body);s==null||s(N)}catch(N){console.error("    :",N)}}),P.subscribe("/user/queue/sync",T=>{try{const N=JSON.parse(T.body);(!("participantsInfoDto"in N)||!N.participantsInfoDto)&&(N.participantsInfoDto={participantDtoList:[],participantCount:0}),a==null||a(N),f("connected"),c(!0)}catch(N){console.error("    :",N)}}),P.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),f("disconnected")},onStompError:T=>{var N;console.error(" STOMP :",{message:T.headers.message,body:T.body,headers:T.headers}),(N=T.headers.message)!=null&&N.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),i==null||i("    .  .")):i==null||i(` : ${T.headers.message}`),f("error"),p<x&&(w(R=>R+1),m.current=setTimeout(()=>{g()},5e3*p))},onWebSocketError:T=>{console.error(" WebSocket :",T),f("error"),i==null||i("WebSocket   ."),h.current&&(h.current.deactivate(),h.current=null)}});h.current=P,P.activate()},[e,t,n,r,s,a,i]),v=d.useCallback(()=>{h.current&&(h.current.connected&&h.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),h.current.deactivate(),h.current=null),m.current&&clearTimeout(m.current),c(!1),f("disconnected"),w(0)},[e,t]),y=d.useCallback(E=>{var T;if(!((T=h.current)!=null&&T.connected)){i==null||i("WebSocket  .");return}const P={chatRoomId:e,content:E};h.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(P)})},[e,i]),S=d.useCallback(E=>{var P;if(!((P=h.current)!=null&&P.connected)){console.error(" Cannot send video control: WebSocket not connected"),i==null||i("WebSocket  .");return}console.log(" Sending video control to backend:",{action:E.videoControlAction,currentTime:E.currentTime,destination:`/app/rooms/${e}/video-control`}),h.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(E)})},[e,i]);return d.useEffect(()=>{const E=T=>{if(l)return T.preventDefault(),T.returnValue=" ?"," ?"},P=()=>{v()};return window.addEventListener("beforeunload",E),window.addEventListener("unload",P),()=>{window.removeEventListener("beforeunload",E),window.removeEventListener("unload",P)}},[l,v]),d.useEffect(()=>()=>{v()},[v]),{isConnected:l,connectionStatus:u,connect:g,disconnect:v,sendChatMessage:y,sendVideoControl:S,reconnectAttempts:p}}function b3(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(a=>({...a,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const a=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(a))},100);setTimeout(()=>{clearInterval(a),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API  "})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API   ")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API   "})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var c1=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(c1||{}),cl=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(cl||{});function S3({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s,onTimeUpdate:a}){const[i,l]=d.useState(null),[c,u]=d.useState(!1),f=d.useRef(null),h=d.useRef(!1),m=d.useRef(null),p=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:N=>{console.log("YouTube Player Ready - verifying functionality"),f.current=N.target,l(N.target);const R=()=>{try{const j=typeof N.target.getPlayerState=="function",C=typeof N.target.getCurrentTime=="function",A=N.target.getPlayerState();j&&C&&A!==void 0?(console.log(" Player functionality verified, setting ready"),u(!0)):(console.log(" Player not fully ready, retrying in 200ms..."),setTimeout(R,200))}catch(j){console.log(" Player verification failed, retrying in 200ms...",j),setTimeout(R,200)}};R()},onStateChange:N=>{const R=N.data,j=N.target.getCurrentTime(),C=Math.round(j*100)/100;let A=null,_=!1;switch(m.current&&(clearInterval(m.current),m.current=null),R){case window.YT.PlayerState.PLAYING:A=cl.PLAY,_=!0,m.current=setInterval(()=>{N.target.getPlayerState()===window.YT.PlayerState.PLAYING?a==null||a(N.target.getCurrentTime()):(clearInterval(m.current),m.current=null)},500);break;case window.YT.PlayerState.PAUSED:A=cl.PAUSE,_=!1;break;case window.YT.PlayerState.ENDED:A=cl.PAUSE,_=!1;break;default:return}console.log(" YouTube Player State Change:",{state:R,rawTime:j,currentTime:C,isPlaying:_,isHost:n,isHostControl:h.current}),console.log(" Updating local UI state only"),r==null||r(_,C,A)},onError:N=>{console.error("YouTube Player Error:",N.data);let R="YouTube   .";switch(N.data){case 2:R="  ID.";break;case 5:R="HTML5   .";break;case 100:R="   .";break;case 101:case 150:R="   .";break}s==null||s(R)}}})}catch(N){console.error("YouTube Player  :",N),s==null||s("YouTube    .")}},[e,t,n,r,s,a]);d.useEffect(()=>{e&&(f.current&&f.current.getVideoUrl()!==e&&(console.log(" videoId    "),f.current.destroy(),f.current=null,l(null),u(!1),m.current&&(clearInterval(m.current),m.current=null)),!f.current&&window.YT&&window.YT.Player&&p())},[e,p]);const w=d.useCallback(()=>{var N,R,j,C;if(console.log(" YouTube play() called:",{playerExists:!!f.current,isReady:c,playerState:(R=(N=f.current)==null?void 0:N.getPlayerState)==null?void 0:R.call(N),currentTime:(C=(j=f.current)==null?void 0:j.getCurrentTime)==null?void 0:C.call(j)}),f.current&&c){try{h.current=!0;const A=f.current.playVideo();console.log(" playVideo() result:",A),setTimeout(()=>{var M,I;const _=(I=(M=f.current)==null?void 0:M.getPlayerState)==null?void 0:I.call(M);console.log(" Player state after play():",_)},500)}catch(A){console.error(" playVideo() error:",A)}setTimeout(()=>{h.current=!1},100)}else console.error(" Cannot play: player not ready:",{playerExists:!!f.current,isReady:c})},[c]),x=d.useCallback(()=>{var N,R,j,C;if(console.log(" YouTube pause() called:",{playerExists:!!f.current,isReady:c,playerState:(R=(N=f.current)==null?void 0:N.getPlayerState)==null?void 0:R.call(N),currentTime:(C=(j=f.current)==null?void 0:j.getCurrentTime)==null?void 0:C.call(j)}),f.current&&c){try{h.current=!0;const A=f.current.pauseVideo();console.log(" pauseVideo() result:",A),setTimeout(()=>{var M,I;const _=(I=(M=f.current)==null?void 0:M.getPlayerState)==null?void 0:I.call(M);console.log(" Player state after pause():",_)},500)}catch(A){console.error(" pauseVideo() error:",A)}setTimeout(()=>{h.current=!1},100)}else console.error(" Cannot pause: player not ready:",{playerExists:!!f.current,isReady:c})},[c]),b=d.useCallback(N=>{f.current&&c&&(h.current=!0,f.current.seekTo(N,!0),setTimeout(()=>{h.current=!1},100))},[c]),g=d.useCallback(()=>{var R,j,C,A;let N=0;try{if(f.current&&c){const _=f.current.getCurrentTime();N=Math.round(_*100)/100,console.log(" getCurrentTime called:",{rawTime:_,preciseTime:N,isReady:c,playerExists:!!f.current,playerState:(j=(R=f.current)==null?void 0:R.getPlayerState)==null?void 0:j.call(R)}),(N>1e4||N<0||isNaN(N))&&console.warn(" ABNORMAL TIME FROM YOUTUBE PLAYER:",{rawTime:_,preciseTime:N,playerState:(A=(C=f.current)==null?void 0:C.getPlayerState)==null?void 0:A.call(C)})}else console.log(" getCurrentTime called but player not ready")}catch(_){console.error(" getCurrentTime error:",_)}return N},[c]),v=d.useCallback(()=>f.current&&c?Math.floor(f.current.getDuration()):0,[c]),y=d.useCallback(()=>{var N;return{target:f.current,data:((N=f.current)==null?void 0:N.getPlayerState())??c1.UNSTARTED}},[c]),S=d.useCallback(N=>{f.current&&c&&f.current.setVolume(N)},[c]),E=d.useCallback(()=>f.current&&c?f.current.getVolume():0,[c]),P=d.useCallback(()=>{f.current&&(f.current.destroy(),f.current=null,l(null),u(!1)),m.current&&(clearInterval(m.current),m.current=null)},[]),T=d.useCallback((N,R=0)=>{if(console.log("[syncVideo] Called:",{isReady:c,retryCount:R,hasPlayer:!!f.current}),f.current==null)return console.error("  ."),!1;if(h.current=!0,f.current.seekTo(N.currentTime,!0),f.current.pauseVideo(),N.action==="PLAY"||N.isPlaying===!0){const j=f.current.getVolume();f.current.setVolume(0),f.current.playVideo(),console.log("    ()"),setTimeout(()=>{f.current&&(f.current.setVolume(j),console.log("  ( ):",j))},120)}return setTimeout(()=>{h.current=!1},100),!0},[c]);return d.useEffect(()=>{if(f.current&&c){console.log(" Starting player status monitoring");const N=setInterval(()=>{var R,j,C,A,_,M,I,D,O,k,L,H;try{const le=!!f.current,K=typeof((R=f.current)==null?void 0:R.getPlayerState)=="function",ie=typeof((j=f.current)==null?void 0:j.getCurrentTime)=="function",se=(A=(C=f.current)==null?void 0:C.getPlayerState)==null?void 0:A.call(C),de={isReady:c,playerExists:le,canGetState:K,canGetTime:ie,state:se,currentTime:Math.floor(((M=(_=f.current)==null?void 0:_.getCurrentTime)==null?void 0:M.call(_))||0),duration:Math.floor(((D=(I=f.current)==null?void 0:I.getDuration)==null?void 0:D.call(I))||0),volume:(k=(O=f.current)==null?void 0:O.getVolume)==null?void 0:k.call(O),playbackRate:(H=(L=f.current)==null?void 0:L.getPlaybackRate)==null?void 0:H.call(L),wouldSyncPass:c&&le&&ie&&se!==void 0&&se!==null};console.log(" Player Status:",de)}catch(le){console.error(" Error checking player status:",le)}},5e3);return()=>{console.log(" Stopping player status monitoring"),clearInterval(N)}}},[c]),d.useEffect(()=>()=>{P(),m.current&&(clearInterval(m.current),m.current=null)},[P]),{player:i,isReady:c,play:w,pause:x,seekTo:b,getCurrentTime:g,getDuration:v,getPlayerState:y,setVolume:S,getVolume:E,destroy:P,syncVideo:T}}var u1=["PageUp","PageDown"],d1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],f1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ao="Slider",[sf,N3,j3]=Nh(Ao),[h1,E5]=On(Ao,[j3]),[C3,Dc]=h1(Ao),m1=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:w,...x}=e,b=d.useRef(new Set),g=d.useRef(0),y=i==="horizontal"?k3:E3,[S=[],E]=ws({prop:f,defaultProp:u,onChange:C=>{var _;(_=[...b.current][g.current])==null||_.focus(),h(C)}}),P=d.useRef(S);function T(C){const A=A3(S,C);j(C,A)}function N(C){j(C,g.current)}function R(){const C=P.current[g.current];S[g.current]!==C&&m(S)}function j(C,A,{commit:_}={commit:!1}){const M=M3(a),I=O3(Math.round((C-r)/a)*a+r,M),D=Da(I,[r,s]);E((O=[])=>{const k=P3(O,D,A);if(L3(k,c*a)){g.current=k.indexOf(D);const L=String(k)!==String(O);return L&&_&&m(k),L?k:O}else return O})}return o.jsx(C3,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:g,thumbs:b.current,values:S,orientation:i,form:w,children:o.jsx(sf.Provider,{scope:e.__scopeSlider,children:o.jsx(sf.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:be(x.onPointerDown,()=>{l||(P.current=S)}),min:r,max:s,inverted:p,onSlideStart:l?void 0:T,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:R,onHomeKeyDown:()=>!l&&j(r,0,{commit:!0}),onEndKeyDown:()=>!l&&j(s,S.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:A})=>{if(!l){const I=u1.includes(C.key)||C.shiftKey&&d1.includes(C.key)?10:1,D=g.current,O=S[D],k=a*I*A;j(O+k,D,{commit:!0})}}})})})})});m1.displayName=Ao;var[p1,g1]=h1(Ao,{startEdge:"left",endEdge:"right",size:"width",direction:1}),k3=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[h,m]=d.useState(null),p=Ie(t,y=>m(y)),w=d.useRef(void 0),x=Xa(s),b=x==="ltr",g=b&&!a||!b&&a;function v(y){const S=w.current||h.getBoundingClientRect(),E=[0,S.width],T=am(E,g?[n,r]:[r,n]);return w.current=S,T(y-S.left)}return o.jsx(p1,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(v1,{dir:x,"data-orientation":"horizontal",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const S=v(y.clientX);i==null||i(S)},onSlideMove:y=>{const S=v(y.clientX);l==null||l(S)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const E=f1[g?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:E?-1:1})}})})}),E3=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=d.useRef(null),h=Ie(t,f),m=d.useRef(void 0),p=!s;function w(x){const b=m.current||f.current.getBoundingClientRect(),g=[0,b.height],y=am(g,p?[r,n]:[n,r]);return m.current=b,y(x-b.top)}return o.jsx(p1,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(v1,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=w(x.clientY);a==null||a(b)},onSlideMove:x=>{const b=w(x.clientY);i==null||i(b)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=f1[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),v1=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=Dc(Ao,n);return o.jsx(Se.span,{...u,ref:t,onKeyDown:be(e.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):u1.concat(d1).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:be(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():r(h)}),onPointerMove:be(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:be(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),a(h))})})}),x1="SliderTrack",y1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Dc(x1,n);return o.jsx(Se.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});y1.displayName=x1;var of="SliderRange",w1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Dc(of,n),a=g1(of,n),i=d.useRef(null),l=Ie(t,i),c=s.values.length,u=s.values.map(m=>N1(m,s.min,s.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return o.jsx(Se.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:f+"%",[a.endEdge]:h+"%"}})});w1.displayName=of;var af="SliderThumb",b1=d.forwardRef((e,t)=>{const n=N3(e.__scopeSlider),[r,s]=d.useState(null),a=Ie(t,l=>s(l)),i=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(T3,{...e,ref:a,index:i})}),T3=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,i=Dc(af,n),l=g1(af,n),[c,u]=d.useState(null),f=Ie(t,v=>u(v)),h=c?i.form||!!c.closest("form"):!0,m=_h(c),p=i.values[r],w=p===void 0?0:N1(p,i.min,i.max),x=_3(r,i.values.length),b=m==null?void 0:m[l.size],g=b?I3(b,w,l.direction):0;return d.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(sf.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Se.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:f,style:p===void 0?{display:"none"}:e.style,onFocus:be(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),h&&o.jsx(S1,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},r)]})});b1.displayName=af;var R3="RadioBubbleInput",S1=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),a=Ie(s,r),i=Dh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const h=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[i,t]),o.jsx(Se.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});S1.displayName=R3;function P3(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function N1(e,t,n){const a=100/(n-t)*(e-t);return Da(a,[0,100])}function _3(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function A3(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function I3(e,t,n){const r=e/2,a=am([0,50],[0,r]);return(r-a(t)*n)*n}function D3(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function L3(e,t){if(t>0){const n=D3(e);return Math.min(...n)>=t}return!0}function am(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function M3(e){return(String(e).split(".")[1]||"").length}function O3(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var $3=m1,z3=y1,F3=w1,B3=b1;function Mg({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...a}){const i=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs($3,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:Ae("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[o.jsx(z3,{"data-slot":"slider-track",className:Ae("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(F3,{"data-slot":"slider-range",className:Ae("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(l,c)=>o.jsx(B3,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function U3({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:a,onSeek:i,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:f=!1,onPermissionDenied:h}){const[m,p]=d.useState([80]),[w,x]=d.useState(!1),[b,g]=d.useState(!1),[v,y]=d.useState(!1),[S,E]=d.useState(0),P=d.useRef();d.useEffect(()=>{if(e.isReady){const O=e.getVolume();p([O]),x(O===0)}},[e.isReady]),d.useEffect(()=>(b&&(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{g(!1)},3e3)),()=>{P.current&&clearTimeout(P.current)}),[b,m]);const T=()=>{if(b){x(!w);const O=w?m[0]:0;e.setVolume(O),l(O)}else g(!0)},N=O=>{p(O);const k=O[0];x(k===0),e.setVolume(k),l(k)},R=()=>{y(!0),E(r)},j=O=>{v&&E(O[0])},C=()=>{v&&t&&(i(S),y(!1))},A=()=>{if(t){const O=Math.max(0,r-10);i(O)}else h==null||h()},_=()=>{if(t){const O=Math.min(s,r+10);i(O)}else h==null||h()},M=()=>{t?a():h==null||h()},I=()=>w||m[0]===0?o.jsx(NC,{className:"w-5 h-5"}):m[0]<50?o.jsx(bC,{className:"w-5 h-5"}):o.jsx(SC,{className:"w-5 h-5"}),D=O=>{const k=Math.floor(O/3600),L=Math.floor(O%3600/60),H=O%60;return k>0?`${k}:${L.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`:`${L}:${H.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(Mg,{value:[v?S:r],onValueChange:j,onPointerDown:R,onPointerUp:C,max:s,step:1,disabled:f||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:D(Math.floor(v?S:r))}),o.jsx("span",{children:D(Math.floor(s))})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:A,disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(gC,{className:"w-5 h-5"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{console.log("    !",{isHost:t,disabled:f||!t}),M()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"":"":"  ",children:n?o.jsx(b0,{className:"w-5 h-5"}):o.jsx(zt,{className:"w-5 h-5"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:_,disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(vC,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:T,className:"hover:bg-white/10",title:" ",children:I()}),b&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(Mg,{value:m,onValueChange:N,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[m[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(Xs,{className:"w-4 h-4 mr-1"}),"  "]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(V,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"",children:o.jsx(mC,{className:"w-5 h-5"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?" ":"",children:u?o.jsx(dC,{className:"w-5 h-5"}):o.jsx(uC,{className:"w-5 h-5"})})]})]})]})}function W3({open:e,onClose:t}){return o.jsx(Mh,{open:e,onOpenChange:t,children:o.jsxs(Oh,{className:"bg-[#1a1a1a] border-white/20 text-white",children:[o.jsxs($h,{children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center",children:o.jsx(Xs,{className:"w-8 h-8 text-yellow-400"})})}),o.jsx(Fh,{className:"text-center text-xl font-medium",children:"  "}),o.jsxs(Bh,{className:"text-center text-white/70",children:["    .",o.jsx("br",{}),", ,    ."]})]}),o.jsx(zh,{children:o.jsx(Uh,{onClick:t,className:"w-full teal-gradient hover:opacity-80 text-black font-medium",children:""})})]})})}var Er=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Er||{});function H3(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function V3({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var ht,bt,Jt,Ye;const[a,i]=d.useState(!1),{isLoaded:l}=b3(!0),[c,u]=d.useState(!0),[f,h]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1),[b,g]=d.useState(!1),[v,y]=d.useState(null),[S,E]=d.useState(null),[P,T]=d.useState(null),[N,R]=d.useState([]),[j,C]=d.useState([]),[A,_]=d.useState(!1),[M,I]=d.useState(!0),[D,O]=d.useState(null),[k,L]=d.useState(null),[H,le]=d.useState(!1),[K,ie]=d.useState(0),[se,de]=d.useState(null),Ee=d.useRef(null),$=d.useRef(!1),z=d.useRef(null),Z=K>0?K:P!=null&&P.duration?parseInt(P.duration):0,[X,oe]=d.useState(!1),[he,ce]=d.useState(0),we=k?H3(k):null;d.useEffect(()=>{console.log(" YouTube URL/ID :",{youtubeUrl:k,youtubeVideoId:we,extractedFrom:k})},[k,we]);const{isConnected:Ne,connectionStatus:B,connect:F,disconnect:ne,sendChatMessage:Q,sendVideoControl:W,reconnectAttempts:J}=w3({roomId:e,userId:n,onChatMessage:d.useCallback(Y=>{C(xe=>[...xe,Y])},[]),onParticipantsUpdate:d.useCallback(Y=>{console.log(" Participants updated:",Y);const xe=(Y.participantDtoList??[]).map(Re=>({userId:Re.id,userName:Re.username,userAvatar:Re.profile,isHost:Re.isOwner,isOnline:Re.isOnline??!0,joinedAt:Re.joinedAt??""}));R(xe);const Fe=xe.find(Re=>Re.userId===n),Ce=(Fe==null?void 0:Fe.isHost)||!1;console.log(" Host status check:",{currentUserId:n,currentUserParticipant:Fe,newIsHost:Ce,allParticipants:xe}),_(Ce)},[n]),onVideoSync:d.useCallback(Y=>{console.log(" Video sync received:",{action:Y.videoControlAction,currentTime:Y.currentTime,isPlaying:Y.isPlaying,timestamp:Y.timestamp,timestampAge:Date.now()-Y.timestamp,isHost:A});const xe=Y.timestamp===0||Date.now()-Y.timestamp<1e4;xe&&ee&&ee.syncVideo?(console.log(" Executing video sync"),ee.syncVideo({action:Y.videoControlAction,currentTime:Y.currentTime,isPlaying:Y.isPlaying}),console.log(" Video sync successful")):console.log(" Video sync ignored:",{isValidTimestamp:xe,hasPlayerController:!!ee}),oe(Y.isPlaying),ce(Y.currentTime)},[A]),onRoomSync:d.useCallback(Y=>{var St;console.log(" Room sync received:",Y);const xe={id:Y.id,title:Y.title,contentDto:Y.content,ownerId:"",ownerName:"",createdAt:"",headCount:Y.participantsInfoDto.participantsCount||Y.participantsInfoDto.participantCount,contentTitle:Y.content.title,contentId:Y.content.id};E(xe),T(Y.content);const Ce=(Y.participantsInfoDto.participantDtoList||[]).map(it=>({userId:it.id,userName:it.username,userAvatar:it.profile,isHost:it.isOwner,isOnline:it.isOnline??!0,joinedAt:it.joinedAt??""}));R(Ce),C(Y.chatMessages??[]);const Re=Ce.find(it=>it.userId===n),Dt=(Re==null?void 0:Re.isHost)||!1;if(console.log(" Host status check (room sync):",{currentUserId:n,currentUserParticipant:Re,newIsHost:Dt,allParticipants:Ce}),_(Dt),(St=Y.content)!=null&&St.youtubeUrl?(console.log(" Setting YouTube URL from content.youtubeUrl:",Y.content.youtubeUrl),L(Y.content.youtubeUrl)):(console.warn(" No content.youtubeUrl provided"),L(null)),Y.playTime!==void 0&&Y.isPlaying!==void 0){console.log(" Storing initial sync data from roomInfo:",{playTime:Y.playTime,isPlaying:Y.isPlaying});const it={videoControlAction:Y.isPlaying?Er.PLAY:Er.PAUSE,currentTime:Y.playTime,isPlaying:Y.isPlaying,timestamp:Date.now()};de(it)}else Y.videoSyncDto?(console.log(" Fallback: Storing initial videoSyncDto:",Y.videoSyncDto),de(Y.videoSyncDto)):de(null);I(!1)},[n]),onError:d.useCallback(Y=>{O(Y)},[])}),fe=d.useCallback((Y,xe,Fe)=>{const Ce=typeof xe=="number"?Math.round(xe*100)/100:0;console.log(" Video state changed:",{isPlaying:Y,currentTime:Ce,action:Fe,isHost:A,isConnected:Ne,rawCurrentTime:xe}),oe(Y),ce(Ce)},[A,Ne]),ee=S3({videoId:we||"",containerId:"youtube-player-container",isHost:A,onStateChange:fe,onError:d.useCallback(Y=>{console.error("YouTube Player Error:",Y),O(Y)},[]),onTimeUpdate:d.useCallback(Y=>{ce(Math.round(Y*100)/100)},[])}),me=!!(we&&l);d.useEffect(()=>{const Y=async()=>{var Fe;if($.current){console.log(" loadInitialData   ,   ");return}$.current=!0,console.log(" loadInitialData  :",{roomId:e,userId:n}),I(!0),O(null);try{console.log("    :",e);const Ce=await go.getWatchRoom(e);y(Ce),console.log("      ",{headCount:Ce.headCount});const Re=await go.joinWatchRoom(e);console.log(" Room info loaded:",Re);const Dt={id:Re.id,title:Re.title,contentDto:Re.content,ownerId:"",ownerName:"",createdAt:"",headCount:Re.participantsInfoDto.participantsCount||Re.participantsInfoDto.participantCount,contentTitle:Re.content.title,contentId:Re.content.id};if(E(Dt),T(Re.content),console.log(" Initial host status set to false (will be updated via WebSocket)"),_(!1),oe(!1),ce(0),C([]),(Fe=Re.content)!=null&&Fe.youtubeUrl?(console.log(" Initial: Setting YouTube URL from content.youtubeUrl:",Re.content.youtubeUrl),L(Re.content.youtubeUrl)):(console.warn(" Initial: No content.youtubeUrl provided"),L(null)),Re.playTime!==void 0&&Re.isPlaying!==void 0){console.log(" Initial: Storing initial sync data from roomInfo:",{playTime:Re.playTime,isPlaying:Re.isPlaying});const St={videoControlAction:Re.isPlaying?Er.PLAY:Er.PAUSE,currentTime:Re.playTime,isPlaying:Re.isPlaying,timestamp:Date.now()};de(St)}else Re.videoSyncDto?(console.log(" Initial: Fallback: Storing initial videoSyncDto:",Re.videoSyncDto),de(Re.videoSyncDto)):de(null);console.log(" loadInitialData "),r&&F()}catch(Ce){console.error("Failed to load room data:",Ce),O(Ce instanceof Error?Ce.message:"     .")}finally{I(!1),$.current=!1}},xe=setTimeout(()=>{Y()},0);return()=>{clearTimeout(xe)}},[e,n,r]),d.useEffect(()=>{if(ee!=null&&ee.isReady&&ee.syncVideo&&se){console.log(" Applying initial video sync now that player is ready:",se);const Y={action:se.videoControlAction,currentTime:se.currentTime,isPlaying:se.isPlaying};ee.syncVideo(Y),oe(se.isPlaying),ce(se.currentTime),de(null)}},[ee,se]),d.useEffect(()=>{var Y;(Y=Ee.current)==null||Y.scrollIntoView({behavior:"smooth"})},[j]),d.useEffect(()=>{if(ee!=null&&ee.isReady&&K===0)try{const Y=ee.getDuration();console.log(" YouTube  :",Y,""),Y>0&&ie(Math.floor(Y))}catch(Y){console.error("    :",Y)}},[ee==null?void 0:ee.isReady,K,ee]),d.useEffect(()=>{var Y;console.log(" Host Status Debug:",{isHost:A,userId:n,participants:N.map(xe=>({userId:xe.userId,userName:xe.userName,isHost:xe.isHost})),canUsePlayer:me,isConnected:Ne,currentUserIsHost:((Y=N.find(xe=>xe.userId===n))==null?void 0:Y.isHost)||!1})},[A,n,N,me,Ne]);const Pe=()=>{if(!A||!me||!Ne){console.log(" Cannot control video:",{isHost:A,canUsePlayer:me,isConnected:Ne}),A||le(!0);return}const Y=X?Er.PAUSE:Er.PLAY,xe=(ee==null?void 0:ee.getCurrentTime())||0;console.log(" Host sending video control:",{action:Y,currentTime:xe,isPlaying:X}),W({videoControlAction:Y,currentTime:xe})},Te=()=>{g(!0)},ge=()=>{g(!1),ne(),t()},_e=Y=>{var xe;if(console.log(" Seek requested:",{isHost:A,seconds:Y,isConnected:Ne,canUsePlayer:me}),!A){console.log(" Not host, cannot seek video"),le(!0);return}if(!me){console.log(" Player not ready, cannot seek video");return}try{const Fe=((xe=ee==null?void 0:ee.getDuration)==null?void 0:xe.call(ee))||Z;let Ce=Y;Fe&&Y>Fe&&(Ce=Fe,console.warn(" SEEK    ,  :",{requested:Y,adjusted:Ce,maxDuration:Fe})),Ce<0&&(Ce=0),console.log(" SEEK -   :",{originalSeconds:Y,validSeekTime:Ce,maxDuration:Fe}),W({videoControlAction:Er.SEEK,currentTime:Ce})}catch(Fe){console.error(" SEEK   :",Fe)}},at=Y=>{ee.setVolume(Y),console.log(`Volume changed to: ${Y}%`)},Ut=()=>{i(!a),u(!!a)},tt=()=>{!m.trim()||!Ne||(Q(m),console.log("Sending message:",m),p(""))},Be=Y=>new Date(Y).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return M?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Vt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!r&&!Ne?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:((ht=S==null?void 0:S.contentDto)==null?void 0:ht.title)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ot,{className:"w-4 h-4"}),o.jsxs("span",{children:[(v==null?void 0:v.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ad,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(V,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs(V,{onClick:F,className:"teal-gradient hover:opacity-80 text-black",children:[B==="connecting"?o.jsx(Vt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(Ot,{className:"w-4 h-4 mr-2"})," "]})]})]})}):D?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:D}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(V,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx(V,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):S?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!a&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(V,{variant:"ghost",onClick:Te,className:"hover:bg-white/10",children:[o.jsx(jo,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:S.title}),A&&o.jsxs(Pn,{variant:"secondary",className:"text-xs",children:[o.jsx(Xs,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:P?P.title:(bt=S.contentDto)==null?void 0:bt.title}),P&&P.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:P.contentType})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ot,{className:"w-4 h-4"}),o.jsxs("span",{children:[N.filter(Y=>Y.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[Ne?o.jsx(CC,{className:"w-4 h-4 text-green-400"}):o.jsx(jC,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:Ne?"text-green-400":"text-yellow-400",children:Ne?"":B==="connecting"?" ":" "}),J>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",J,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(V,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(Ad,{className:"w-5 h-5"}),c?o.jsx(Pr,{className:"w-4 h-4 ml-1"}):o.jsx(da,{className:"w-4 h-4 ml-1"})]})})]}),!Ne&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:B==="connecting"?"   ...":B==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{ref:z,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Vt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API  ..."})]})}),l&&!we&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[P&&P.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:P.thumbnailUrl,alt:P.title,className:"w-full h-full object-cover",onError:Y=>{const xe=Y.target;xe.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(zt,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60 mb-2",children:P?P.title:"   ..."}),k?o.jsxs("p",{className:"text-white/40 text-sm",children:["YouTube  ID   ",o.jsx("br",{}),"URL: ",k]}):o.jsx("p",{className:"text-white/40 text-sm",children:" YouTube URL  "})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:me?"block":"none",position:"relative",zIndex:1,pointerEvents:"auto"}}),!me&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((Ye=(Jt=S==null?void 0:S.contentDto)==null?void 0:Jt.title)==null?void 0:Ye.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:`absolute inset-0 bg-black/30 flex items-center justify-center transition-opacity duration-300 ${X&&!w?"opacity-0":"opacity-100"}`,style:{zIndex:10,pointerEvents:X&&!w?"none":"auto"},children:[o.jsx(V,{size:"lg",onClick:()=>{console.log("    !",{isHost:A,disabled:!A}),Pe()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:!A,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${A?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,style:{position:"relative",zIndex:20,pointerEvents:A?"auto":"none"},children:X?o.jsx(b0,{className:"w-10 h-10 fill-current"}):o.jsx(zt,{className:"w-10 h-10 fill-current ml-1"})}),!A&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(Xs,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 bg-black/50 backdrop-blur-sm
                        transition-opacity duration-300 z-50
                        ${X&&!w&&!a?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}
                        ${a?"hidden":""} `,children:o.jsx(U3,{playerController:ee,isHost:A,isPlaying:X,currentTime:he,totalDuration:Z,onPlayPause:Pe,onSeek:_e,onVolumeChange:at,onFullscreenToggle:Ut,isFullscreen:a,disabled:!Ne||!me,onPermissionDenied:()=>le(!0)})}),a&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>h(!f),className:"p-1 hover:bg-white/10",children:o.jsx(Ot,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[N.filter(Y=>Y.isOnline).length,"  "]})]}),f&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${N.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:N.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):N.map(Y=>{var xe;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ut,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{Y.userId!==n&&s&&s(Y.userId)},children:[o.jsx(dt,{src:Y.userAvatar}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black text-xs",children:((xe=Y.userName)==null?void 0:xe.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${Y.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{Y.userId!==n&&s&&s(Y.userId)},children:Y.userName}),Y.isHost&&o.jsxs(Pn,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(Xs,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${Y.isOnline?"bg-green-400":"bg-gray-400"}`})]},Y.userId+Y.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[M&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),j.map(Y=>{var xe,Fe;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(ut,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(dt,{src:(xe=N.find(Ce=>Ce.userId===Y.senderId))==null?void 0:xe.userAvatar}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black text-xs",children:Y.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:Y.senderName}),((Fe=N.find(Ce=>Ce.userId===Y.senderId))==null?void 0:Fe.isHost)&&o.jsx(Xs,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:Be(Y.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:Y.content})]})]})},Y.id)}),o.jsx("div",{ref:Ee})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Ge,{placeholder:Ne?" ...":"  ...",value:m,onChange:Y=>p(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&tt(),disabled:!Ne,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx(V,{onClick:tt,disabled:!m.trim()||!Ne,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(uh,{className:"w-4 h-4"})})]})})]})})]}),o.jsx(W3,{open:H,onClose:()=>le(!1)}),o.jsx(Mh,{open:b,onOpenChange:g,children:o.jsxs(Oh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs($h,{children:[o.jsx(Fh,{className:"text-white",children:" "}),o.jsx(Bh,{className:"text-white/70",children:A?N.length>=2?"  .  ?":"   .  ?":" ?"})]}),o.jsxs(zh,{children:[o.jsx(zw,{onClick:()=>g(!1),className:"border-white/20 hover:bg-white/5 text-white",children:""}),o.jsx(Uh,{onClick:ge,className:"bg-red-600 hover:bg-red-700 text-white",children:""})]})]})})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function K3({onJoinRoom:e,onCreateRoom:t,currentUserId:n}){const[r,s]=d.useState(""),[a,i]=d.useState("participants_desc"),[l,c]=d.useState([]),[u,f]=d.useState(!0),[h,m]=d.useState(null),[p,w]=d.useState(!1),[x,b]=d.useState(null),[g,v]=d.useState(null),[y,S]=d.useState(!0),[E,P]=d.useState(!1),[T,N]=d.useState(0),R=I=>{switch(I){case"participants_desc":return{sortBy:"participantCount",direction:"desc"};case"participants_asc":return{sortBy:"participantCount",direction:"asc"};case"latest":return{sortBy:"createdAt",direction:"desc"};case"oldest":return{sortBy:"createdAt",direction:"asc"};case"title_asc":return{sortBy:"title",direction:"asc"};case"title_desc":return{sortBy:"title",direction:"desc"};default:return{sortBy:"participantCount",direction:"desc"}}},j=async(I=!0,D=!1)=>{try{I?(f(!0),v(null)):D?P(!0):w(!0),m(null);const{sortBy:O,direction:k}=R(a),L=await go.getWatchRooms({query:r,sortBy:O,direction:k,cursor:I?null:g,size:20});c(I||!D?L.data:H=>[...H,...L.data]),v(L.nextCursor),S(L.hasNext),N(L.totalElements)}catch(O){console.error("   :",O),m(O instanceof Error?O.message:"     .")}finally{f(!1),w(!1),P(!1)}},C=async()=>{!y||E||u||await j(!1,!0)};d.useEffect(()=>{const I=setTimeout(()=>{v(null),S(!0),j(!0,!1)},300);return()=>clearTimeout(I)},[r,a]),d.useEffect(()=>{j(!0)},[]),d.useEffect(()=>{const I=()=>{if(u||E||!y)return;const D=window.pageYOffset||document.documentElement.scrollTop,O=window.innerHeight,k=document.documentElement.scrollHeight;D+O>=k-100&&C()};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[u,E,y,g]);const A=l.filter(I=>I.headCount>=10),_=l,M=async I=>{if(!x){b(I.id);try{await(e==null?void 0:e(I))}finally{b(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(V,{onClick:()=>{v(null),S(!0),j(!1,!1)},disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[p?o.jsx(Vt,{className:"w-4 h-4 animate-spin"}):o.jsx(no,{className:"w-4 h-4"}),""]}),o.jsxs(V,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Es,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ge,{placeholder:" , ,  ...",value:r,onChange:I=>s(I.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Nw,{value:a,onValueChange:I=>i(I),children:[o.jsx(Cw,{className:"w-48 bg-white/5 border-white/20",children:o.jsx(jw,{placeholder:""})}),o.jsxs(kw,{children:[o.jsx(fn,{value:"participants_desc",children:"  "}),o.jsx(fn,{value:"participants_asc",children:"  "}),o.jsx(fn,{value:"latest",children:""}),o.jsx(fn,{value:"oldest",children:" "}),o.jsx(fn,{value:"title_asc",children:" "}),o.jsx(fn,{value:"title_desc",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:T>0?`${_.length} /  ${T} `:` ${_.length}  `}),o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4] border border-[#4ecdc4]/30",children:[o.jsx(Ot,{className:"w-3 h-3 mr-1 inline"}),""]})]})]}),h&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:h}),o.jsx(V,{onClick:()=>{v(null),S(!0),j(!0,!1)},variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Vt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!u&&!h&&o.jsxs(o.Fragment,{children:[!r&&A.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(dh,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(I=>{var D,O;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(D=I.contentDto)!=null&&D.thumbnailUrl?o.jsx("img",{src:I.contentDto.thumbnailUrl,alt:I.contentDto.title,className:"w-full h-full object-cover",onError:k=>{var L;k.currentTarget.style.display="none",(L=k.currentTarget.nextElementSibling)==null||L.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(O=I.contentDto)!=null&&O.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",I.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(V,{size:"sm",onClick:k=>{k.stopPropagation(),M(I)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===I.id?o.jsx(Vt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(zt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:I.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[I.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(no,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[I.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",I.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},I.id)})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:_.map(I=>{var D,O;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(D=I.contentDto)!=null&&D.thumbnailUrl?o.jsx("img",{src:I.contentDto.thumbnailUrl,alt:I.contentDto.title,className:"w-full h-full object-cover",onError:k=>{var L;k.currentTarget.style.display="none",(L=k.currentTarget.nextElementSibling)==null||L.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(O=I.contentDto)!=null&&O.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",I.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(V,{size:"sm",onClick:k=>{k.stopPropagation(),M(I)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===I.id?o.jsx(Vt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(zt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:I.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[I.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(no,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[I.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",I.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},I.id)})}),_.length>0&&o.jsxs("div",{className:"text-center py-6",children:[E&&o.jsxs("div",{className:"flex items-center justify-center mb-4",children:[o.jsx(Vt,{className:"w-6 h-6 animate-spin text-[#4ecdc4] mr-2"}),o.jsx("span",{className:"text-white/60",children:"    ..."})]}),!E&&y&&o.jsx(V,{onClick:C,variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4] hover:bg-[#4ecdc4]/10",disabled:u,children:"   "}),!y&&_.length>0&&o.jsx("p",{className:"text-white/40 text-sm",children:"  ."})]})]}),_.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ot,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:r?"  .":n?"   .":"      ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[r&&o.jsx(V,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"  "}),n?o.jsxs(V,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"  "]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/40 text-sm mb-2",children:"   "}),o.jsx(V,{variant:"outline",onClick:()=>window.location.reload(),className:"border-[#4ecdc4]/30 text-[#4ecdc4] hover:bg-[#4ecdc4]/10",children:""})]})]})]})]})]})})}var Lc="Switch",[G3,T5]=On(Lc),[Y3,X3]=G3(Lc),j1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[m,p]=d.useState(null),w=Ie(t,y=>p(y)),x=d.useRef(!1),b=m?f||!!m.closest("form"):!0,[g,v]=ws({prop:s,defaultProp:a??!1,onChange:u,caller:Lc});return o.jsxs(Y3,{scope:n,checked:g,disabled:l,children:[o.jsx(Se.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":T1(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:be(e.onClick,y=>{v(S=>!S),b&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),b&&o.jsx(E1,{control:m,bubbles:!x.current,name:r,value:c,checked:g,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});j1.displayName=Lc;var C1="SwitchThumb",k1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=X3(C1,n);return o.jsx(Se.span,{"data-state":T1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});k1.displayName=C1;var q3="SwitchBubbleInput",E1=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=d.useRef(null),l=Ie(i,a),c=Dh(n),u=_h(t);return d.useEffect(()=>{const f=i.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(f,n),f.dispatchEvent(w)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E1.displayName=q3;function T1(e){return e?"checked":"unchecked"}var Q3=j1,J3=k1;function Z3({className:e,...t}){return o.jsx(Q3,{"data-slot":"switch",className:Ae("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(J3,{"data-slot":"switch-thumb",className:Ae("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Og({isOpen:e,onClose:t,onCreateWatchParty:n,content:r}){const[s,a]=d.useState(!0),[i,l]=d.useState("");d.useEffect(()=>{r&&e&&l(`${r.title} `)},[r,e]);const c=()=>{const u={isPublic:s,roomName:i||`${r==null?void 0:r.title} `};n(u)};return r?o.jsx(pc,{open:e,onOpenChange:t,children:o.jsxs(gc,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(vc,{children:o.jsxs(xc,{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:" "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover",onError:u=>{const f=u.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:r.title}),o.jsx("p",{className:"text-sm text-white/60",children:r.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:r.description})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Ot,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Kt,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(Ge,{id:"roomName",value:i,onChange:u=>l(u.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[s?o.jsx(Ll,{className:"w-4 h-4 text-green-400"}):o.jsx(Ml,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Kt,{htmlFor:"isPublic",className:"text-sm",children:s?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:s?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(Z3,{id:"isPublic",checked:s,onCheckedChange:a,disabled:!0})})]})}),o.jsxs(V,{onClick:c,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!i.trim(),children:[o.jsx(Ot,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})]})}):null}function $g({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:a}){const[i,l]=d.useState(""),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(""),[b,g]=d.useState(!0),[v,y]=d.useState([]),[S,E]=d.useState(!1);d.useEffect(()=>{e&&P()},[e]);const P=async()=>{try{E(!0);const _=await r();y(_)}catch(_){console.error("Error loading playlists:",_)}finally{E(!1)}},T=v.filter(_=>_.title.toLowerCase().includes(i.toLowerCase())||_.description.toLowerCase().includes(i.toLowerCase())),N=_=>{u(M=>M.includes(_)?M.filter(I=>I!==_):[...M,_])},R=async()=>{if(n)try{const _=c.map(M=>a(M,[n.id]));await Promise.all(_),alert(`"${n.title}"() ${c.length}  .`),u([]),l(""),t()}catch(_){console.error("   :",_),alert("     .")}},j=async()=>{if(!(!m.trim()||!n))try{const _=await s({name:m,description:w,isPublic:b});await a(_.id,[n.id]),alert(`  "${m}"()  "${n.title}"() .`),p(""),x(""),g(!0),h(!1),t()}catch(_){console.error("Error creating playlist:",_),alert("    .")}},C=()=>{u([]),l(""),h(!1),p(""),x(""),g(!0)},A=()=>{C(),t()};return n?o.jsx(pc,{open:e,onOpenChange:A,children:o.jsxs(gc,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(vc,{children:o.jsx(xc,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(ut,{className:"h-12 w-12 rounded-lg",children:[o.jsx(dt,{src:n.thumbnail,className:"object-cover"}),o.jsx(ft,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"":n.type==="tv"?"TV":"","  ",n.year]})]})]}),f?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ge,{placeholder:" ",value:m,onChange:_=>p(_.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Ge,{placeholder:" ()",value:w,onChange:_=>x(_.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[b?o.jsx(Ll,{className:"w-4 h-4 text-green-400"}):o.jsx(Ml,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:b?"":""})]}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(!b),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(V,{variant:"outline",onClick:()=>h(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx(V,{onClick:j,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Ge,{placeholder:" ...",value:i,onChange:_=>l(_.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(V,{variant:"outline",onClick:()=>h(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:S?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):T.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:i?"  ":" "}):T.map(_=>o.jsxs("div",{onClick:()=>N(_.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(_.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(ut,{className:"h-10 w-10 rounded-lg",children:[o.jsx(dt,{src:_.thumbnail,className:"object-cover"}),o.jsx(ft,{children:_.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:_.title}),_.isPublic?o.jsx(Ll,{className:"w-3 h-3 text-green-400"}):o.jsx(Ml,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[_.contentCount," "]})]}),c.includes(_.id)&&o.jsx(Aa,{className:"w-5 h-5 text-[#4ecdc4]"})]},_.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(V,{variant:"outline",onClick:A,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs(V,{onClick:R,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function zg({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState(null),[c,u]=d.useState(""),[f,h]=d.useState("select"),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState([]),[v,y]=d.useState(!1),[S,E]=d.useState(!1),[P,T]=d.useState(),[N,R]=d.useState(!1),j=async(D=!1)=>{try{D?R(!0):y(!0),x(null);const O=await ds.getContents({query:s||void 0,cursor:D?P:void 0,size:20});g(D?k=>[...k,...O.data]:O.data),E(O.hasNext),T(O.nextCursor)}catch(O){console.error("  :",O),x(O instanceof Error?O.message:"    .")}finally{y(!1),R(!1)}};d.useEffect(()=>{e&&j(!1)},[e]),d.useEffect(()=>{if(!e)return;const D=setTimeout(()=>{j(!1)},300);return()=>clearTimeout(D)},[s,e]);const C=()=>{S&&!v&&!N&&j(!0)},A=D=>{l(D),u(`${D.title} `),h("create"),x(null)},_=async()=>{if(!i||!c.trim()){x("  .");return}p(!0),x(null);try{const D={contentId:i.id,ownerId:r,title:c.trim()},O=await go.createWatchRoom(D),k=`room-content-${O.id}`;localStorage.setItem(k,JSON.stringify({contentId:i.id,contentData:i,savedAt:Date.now()})),n(O),M()}catch(D){console.error("  :",D),x(D instanceof Error?D.message:"    .")}finally{p(!1)}},M=()=>{a(""),l(null),u(""),h("select"),p(!1),x(null),g([]),y(!1),E(!1),T(void 0),R(!1),t()},I=D=>{switch(D){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:f,selectedContent:i,loading:v}),o.jsx(pc,{open:e,onOpenChange:M,children:o.jsxs(gc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(vc,{children:o.jsx(xc,{className:"text-xl",children:f==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),f==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Es,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ge,{placeholder:" ...",value:s,onChange:D=>a(D.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),v&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Vt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),w&&!v&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:w}),o.jsx(V,{onClick:()=>j(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!v&&!w&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[b.map(D=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>A(D),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:D.thumbnail||D.thumbnailUrl,alt:D.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:O=>{const k=O.target;k.style.display="none";const L=k.parentElement;if(L&&!L.querySelector(".image-fallback")){const H=document.createElement("div");H.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",H.textContent=D.title.charAt(0).toUpperCase(),L.appendChild(H)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(V,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:m,children:[o.jsx(zt,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:D.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:D.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[D.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yr,{className:`w-3 h-3 ${D.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-xs",children:D.avgRating.toFixed(2)})]}),o.jsx(Pn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:I(D.contentType)})]})]})]},D.id)),S&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx(V,{onClick:C,disabled:N||m,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:N?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!v&&!w&&b.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx(V,{variant:"outline",onClick:()=>{a("")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[i&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:i.thumbnail||i.thumbnailUrl,alt:i.title,className:"w-full h-full object-cover",onError:D=>{const O=D.target;O.style.display="none";const k=O.parentElement;if(k&&!k.querySelector(".image-fallback")){const L=document.createElement("div");L.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",L.textContent=i.title.charAt(0).toUpperCase(),k.appendChild(L)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:i.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:i.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[i.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yr,{className:`w-4 h-4 ${i.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:i.avgRating.toFixed(2)})]}),o.jsx(Pn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:I(i.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:" "}),o.jsx(Ge,{id:"room-title",placeholder:"  ...",value:c,onChange:D=>u(D.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[c.length,"/50"]})]}),w&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(V,{variant:"outline",onClick:()=>{h("select"),l(null),u(""),x(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:m,children:""}),o.jsx(V,{onClick:_,disabled:!i||!c.trim()||m,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:m?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var Iu="rovingFocusGroup.onEntryFocus",e5={bubbles:!1,cancelable:!0},li="RovingFocusGroup",[lf,R1,t5]=Nh(li),[n5,P1]=On(li,[t5]),[r5,s5]=n5(li),_1=d.forwardRef((e,t)=>o.jsx(lf.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(lf.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(o5,{...e,ref:t})})}));_1.displayName=li;var o5=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,m=d.useRef(null),p=Ie(t,m),w=Xa(a),[x,b]=ws({prop:i,defaultProp:l??null,onChange:c,caller:li}),[g,v]=d.useState(!1),y=_t(u),S=R1(n),E=d.useRef(!1),[P,T]=d.useState(0);return d.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(Iu,y),()=>N.removeEventListener(Iu,y)},[y]),o.jsx(r5,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(N=>b(N),[b]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>T(N=>N+1),[]),onFocusableItemRemove:d.useCallback(()=>T(N=>N-1),[]),children:o.jsx(Se.div,{tabIndex:g||P===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{E.current=!0}),onFocus:be(e.onFocus,N=>{const R=!E.current;if(N.target===N.currentTarget&&R&&!g){const j=new CustomEvent(Iu,e5);if(N.currentTarget.dispatchEvent(j),!j.defaultPrevented){const C=S().filter(D=>D.focusable),A=C.find(D=>D.active),_=C.find(D=>D.id===x),I=[A,_,...C].filter(Boolean).map(D=>D.ref.current);D1(I,f)}}E.current=!1}),onBlur:be(e.onBlur,()=>v(!1))})})}),A1="RovingFocusGroupItem",I1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Vr(),u=a||c,f=s5(A1,n),h=f.currentTabStopId===u,m=R1(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:x}=f;return d.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),o.jsx(lf.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Se.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:be(e.onMouseDown,b=>{r?f.onItemFocus(u):b.preventDefault()}),onFocus:be(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:be(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=l5(b,f.orientation,f.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=m().filter(S=>S.focusable).map(S=>S.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const S=y.indexOf(b.currentTarget);y=f.loop?c5(y,S+1):y.slice(S+1)}setTimeout(()=>D1(y))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:x!=null}):i})})});I1.displayName=A1;var a5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function l5(e,t,n){const r=i5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return a5[r]}function D1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function c5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var u5=_1,d5=I1,Mc="Tabs",[f5,R5]=On(Mc,[P1]),L1=P1(),[h5,im]=f5(Mc),M1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Xa(l),[h,m]=ws({prop:r,onChange:s,defaultProp:a??"",caller:Mc});return o.jsx(h5,{scope:n,baseId:Vr(),value:h,onValueChange:m,orientation:i,dir:f,activationMode:c,children:o.jsx(Se.div,{dir:f,"data-orientation":i,...u,ref:t})})});M1.displayName=Mc;var O1="TabsList",$1=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=im(O1,n),i=L1(n);return o.jsx(u5,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(Se.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});$1.displayName=O1;var z1="TabsTrigger",F1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=im(z1,n),l=L1(n),c=W1(i.baseId,r),u=H1(i.baseId,r),f=r===i.value;return o.jsx(d5,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(Se.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:be(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:be(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:be(e.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(r)})})})});F1.displayName=z1;var B1="TabsContent",U1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=im(B1,n),c=W1(l.baseId,r),u=H1(l.baseId,r),f=r===l.value,h=d.useRef(f);return d.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(wr,{present:s||f,children:({present:m})=>o.jsx(Se.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});U1.displayName=B1;function W1(e,t){return`${e}-trigger-${t}`}function H1(e,t){return`${e}-content-${t}`}var m5=M1,p5=$1,g5=F1,v5=U1;function x5({className:e,...t}){return o.jsx(m5,{"data-slot":"tabs",className:Ae("flex flex-col gap-2",e),...t})}function y5({className:e,...t}){return o.jsx(p5,{"data-slot":"tabs-list",className:Ae("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Du({className:e,...t}){return o.jsx(g5,{"data-slot":"tabs-trigger",className:Ae("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Lu({className:e,...t}){return o.jsx(v5,{"data-slot":"tabs-content",className:Ae("flex-1 outline-none",e),...t})}function w5({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s,onPlaylistOpen:a}){const[i,l]=d.useState(null),[c,u]=d.useState([]),[f,h]=d.useState([]),[m,p]=d.useState([]),[w,x]=d.useState(!1),[b,g]=d.useState(!0),[v,y]=d.useState(null),[S,E]=d.useState(!1),P=e===t,T=async()=>{try{console.log("   :",e);const _=await r(`http://localhost:8080/api/users/${e}`);if(console.log("   :",{status:_.status,statusText:_.statusText,headers:Object.fromEntries(_.headers.entries())}),!_.ok){const I=await _.text();throw console.error("   :",{status:_.status,statusText:_.statusText,errorText:I}),new Error(`   . (${_.status})`)}const M=await _.json();console.log("   :",M),l(M)}catch(_){console.error("   :",_),y(_ instanceof Error?_.message:"    .")}},N=async()=>{try{const _=await r(`http://localhost:8080/api/follows/${e}/followers`);if(!_.ok)throw new Error("   .");const M=await _.json();u(M)}catch(_){console.error("   :",_)}},R=async()=>{try{const _=await r(`http://localhost:8080/api/follows/${e}/following`);if(!_.ok)throw new Error("   .");const M=await _.json();h(M)}catch(_){console.error("   :",_)}},j=async()=>{try{const _=await r(`http://localhost:8080/api/users/${e}/playlists`);if(!_.ok)throw new Error("  .");const M=await _.json();p(M)}catch(_){console.error("  :",_),p([])}},C=async()=>{if(!(!t||P))try{const _=await r(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!_.ok)throw new Error("   .");const M=await _.json();x(M)}catch(_){console.error("   :",_),x(!1)}},A=async()=>{if(!(!t||P)){E(!0);try{if(w){if(!(await r(`http://localhost:8080/api/follows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");x(!1),u(M=>M.filter(I=>I.id!==t))}else{const _=new FormData;if(_.append("followerId",t),_.append("followingId",e),!(await r(`http://localhost:8080/api/follows/${e}`,{method:"POST"})).ok)throw new Error(" .");x(!0),i&&u(I=>[...I,{id:t,name:"",email:"",profileImage:""}])}}catch(_){console.error("  :",_),alert(_ instanceof Error?_.message:"    .")}finally{E(!1)}}};return d.useEffect(()=>{e&&(async()=>{g(!0),y(null),await Promise.allSettled([T(),N(),R(),t?C():Promise.resolve(),j()]),g(!1)})()},[e,t]),b?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):v?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:v}),o.jsx(V,{onClick:n,variant:"outline",children:""})]})}):i?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs(V,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(jo,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(ut,{className:"h-32 w-32",children:[o.jsx(dt,{src:i.profileImage}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black text-2xl",children:i.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:i.name}),o.jsx("p",{className:"text-white/60 mb-4",children:i.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:c.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:f.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:m.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!P&&o.jsx(V,{onClick:A,disabled:S,className:`${w?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:S?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):w?o.jsxs(o.Fragment,{children:[o.jsx(S0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(N0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(x5,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(y5,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(Du,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(kp,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Du,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Du,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(ys,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(Lu,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(_=>{var M;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",onClick:()=>a(_.id),children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),!_.isPublic&&o.jsxs("div",{className:"absolute top-3 right-3",children:[" ",o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/20 text-black/50",children:""})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:_.name||_.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:_.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((M=_.contents)==null?void 0:M.length)||_.itemCount||0," "]})]})]},_.id)})}),m.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(kp,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(Lu,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(_=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{_.id&&s&&s(_.id)},children:[o.jsxs(ut,{className:"h-12 w-12",children:[o.jsx(dt,{src:_.profileImage}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:_.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:_.name}),o.jsx("p",{className:"text-white/60 text-sm",children:_.email})]})]},_.id))}),c.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ot,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(Lu,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(_=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{_.id&&s&&s(_.id)},children:[o.jsxs(ut,{className:"h-12 w-12",children:[o.jsx(dt,{src:_.profileImage}),o.jsx(ft,{className:"bg-[#4ecdc4] text-black",children:_.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:_.name}),o.jsx("p",{className:"text-white/60 text-sm",children:_.email})]})]},_.id))}),f.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ys,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx(V,{onClick:n,variant:"outline",children:""})]})})}function b5(){const[e,t]=d.useState(!1),[n,r]=d.useState(null),s=yr(),[a]=Y2(),i=s.pathname,l=window.location.pathname==="/oauth/callback",c=a.get("id"),u=i.startsWith("/playlist")&&!!c,[f,h]=d.useState(()=>{if(u)return console.log("   : playlist-detail ( )"),"playlist-detail";const U=localStorage.getItem("currentPage")||"home";return console.log("   :",U),U}),m=U=>{try{if(!U||typeof U!="string")return console.error("  :",U),null;const G=U.split(".");if(G.length!==3)return console.error(" JWT :",U),null;const q=JSON.parse(atob(G[1])),re=q.userId||q.sub||q.id||null;return re||console.error("  ID   :",q),re}catch(G){return console.error("JWT   :",G,"Token:",U),null}},p=U=>{try{const G=JSON.parse(atob(U.split(".")[1])),q=Date.now()/1e3,re=G.exp,je=5,Ze=re<q+je;return console.log("  :",{currentTime:q,expTime:re,bufferTime:je,isExpired:Ze,timeUntilExpiry:re-q,payload:{...G,userId:G.userId||G.sub||G.id}}),Ze}catch(G){return console.error("   :",G),!0}},w=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),h("home")},x=(U,G=300)=>{try{const q=JSON.parse(atob(U.split(".")[1])),re=Date.now()/1e3,je=q.iat;return je&&re-je<G}catch(q){return console.error("    :",q),!1}},b=d.useRef(null),g=async()=>b.current?(console.log("    .   ."),b.current):(b.current=(async()=>{try{console.log("  ");const U=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",credentials:"include"});if(!U.ok)return console.log(`  : ${U.status} ${U.statusText}`),U.status===401?console.log("Refresh token ."):U.status===500&&console.log("    "),null;const G=await U.text();if(!G||G.trim()==="")return console.log("    "),null;const q=G.replace(/"/g,"");return console.log("  "),q}catch(U){return console.error("Token refresh :",U),null}finally{b.current=null}})(),b.current),v=async(U,G={})=>{let q=localStorage.getItem("accessToken");const re=q?m(q):null;if(console.log("authenticatedFetch :",{url:U,accessToken:q?" ":" ",userIdFromToken:re,currentUserId:n}),!q)throw console.error("  .  ."),w(),new Error("  .");if(p(q)&&!x(q)){console.log("   .");const cn=await g();if(cn){localStorage.setItem("accessToken",cn),q=cn;const Do=m(cn);Do&&r(Do)}else throw w(),new Error(" .  .")}else p(q)&&x(q)&&console.log("    .");const zn={"Content-Type":"application/json",...["http://localhost:8080/api/auth/login","http://localhost:8080/api/auth/refresh","http://localhost:8080/api/auth/change-password","http://localhost:8080/api/auth/temp-password","http://localhost:8080/api/users"].some(cn=>U.startsWith(cn))?{}:{Authorization:`Bearer ${q}`},...G.headers||{}},ci=await fetch(U,{...G,headers:zn,credentials:"include"});if(ci.status===401){console.log("401  ,   ");const cn=await g();if(cn){localStorage.setItem("accessToken",cn),q=cn;const Do=m(cn);Do&&r(Do),console.log("  ,  ");const tS={...zn,Authorization:`Bearer ${cn}`};return fetch(U,{...G,headers:tS,credentials:"include"})}else throw console.log("  ,  "),w(),new Error(" .  .")}if(ci.status===403)throw console.log(" ."),new Error("    .");if(ci.status===404)throw new Error("    .");return ci},y=async U=>{try{await v(`http://localhost:8080/api/notifications/${U}`,{method:"DELETE"})}catch(G){throw console.error("  :",G),G}},S=async()=>{try{await v("http://localhost:8080/api/notifications",{method:"DELETE"})}catch(U){throw console.error("   :",U),U}},E=async()=>{try{const U=await v("http://localhost:8080/api/dmRooms/");if(!U.ok)throw new Error("DM    ");return await U.json()}catch(U){throw console.error("DM    :",U),U}},P=async U=>{try{const G=await v(`http://localhost:8080/api/dmRooms/userRoom?userB=${U}`);if(!G.ok)throw new Error("DM  / ");return await G.json()}catch(G){throw console.error("DM  / :",G),G}},T=async(U,G)=>{try{const q=new URLSearchParams;G!=null&&G.cursor&&q.append("cursor",G.cursor),G!=null&&G.size&&q.append("size",G.size.toString());const re=await v(`http://localhost:8080/api/dmRooms/${U}/dms?${q}`);if(!re.ok)throw new Error("DM    ");return await re.json()}catch(q){throw console.error("DM    :",q),q}},N=async(U,G="all")=>{try{let q,re;if(G==="subscribed")q="http://localhost:8080/api/playlists/subscribed";else if(U&&U.trim()!==""){const Ze=new URLSearchParams;Ze.append("keyword",U.trim()),q=`http://localhost:8080/api/playlists/search?${Ze}`}else q="http://localhost:8080/api/playlists";if(console.log(" API :",q),re=await v(q),console.log("  :",re.status,re.statusText),!re.ok){let Ze="   ";try{const lt=await re.text();console.error("  :",lt),Ze=`${re.status} ${re.statusText}: ${lt}`}catch(lt){console.error("   :",lt)}throw new Error(Ze)}const je=await re.json();return console.log("  :",{url:q,status:re.status,dataType:Array.isArray(je)?` (: ${je.length})`:typeof je,data:Array.isArray(je)&&je.length>0?je.slice(0,2):je,headers:Object.fromEntries(re.headers.entries())}),Array.isArray(je)&&U&&U.trim()!==""?je.filter(lt=>lt.userId===n?!0:lt.isPublic===!0):je}catch(q){throw console.error("    :",q),q}},R=async U=>{try{const G=`http://localhost:8080/api/playlists/${U}`,q=u;console.log("   API :",G,{isSharedAccess:q,isSharedPlaylistPage:u});let re;if(q?(console.log("      "),re=await fetch(G)):re=await v(G),console.log("  :",re.status,re.statusText),!re.ok){let Ze="  ";if(q&&re.status===401)throw console.log("    "),new Error(" .   .");try{const lt=await re.text();console.error("  :",lt),Ze=`${re.status} ${re.statusText}: ${lt}`}catch(lt){console.error("   :",lt)}throw new Error(Ze)}const je=await re.json();return console.log("   :",{url:G,status:re.status,data:je}),je}catch(G){throw console.error("   :",G),G}},j=async U=>{var G,q;try{if(!U.name||U.name.trim()==="")throw new Error("  .");if(!n)throw new Error(" .");const re={name:U.name.trim(),description:U.description||"",isPublic:U.isPublic??!0};console.log("   :",re);const je=await v("http://localhost:8080/api/playlists",{method:"POST",body:JSON.stringify(re)});if(console.log("    :",je.status,je.statusText),!je.ok){let lt="  ";try{const zn=await je.json();console.error("   :",zn),lt=zn.message||lt}catch(zn){console.error("Error parsing error response:",zn)}throw new Error(lt)}const Ze=await je.json();return console.log("   :",{createdPlaylist:Ze,createdBy:(G=Ze.user)==null?void 0:G.id,createdByName:(q=Ze.user)==null?void 0:q.name,currentUserId:n}),Ze}catch(re){throw console.error("  :",re),re}},C=async U=>{try{if(!n)throw new Error(" .");console.log("   :",U),await Ol.deletePlaylist(U),console.log("   :",U)}catch(G){throw console.error("   :",G),G}},A=async(U,G)=>{try{if(!G||G.length===0)throw new Error("  .");const q={contentIds:G},re=await v(`http://localhost:8080/api/playlists/${U}/contents`,{method:"POST",body:JSON.stringify(q)});if(!re.ok){let lt="   ";try{lt=(await re.json()).message||lt}catch(zn){console.error("Error parsing error response:",zn)}throw new Error(lt)}let je=null;const Ze=await re.text();return Ze&&(je=JSON.parse(Ze)),console.log("   :",je),je}catch(q){throw console.error("   :",q),q}},_=async(U,G)=>{try{if(!G||G.length===0)throw new Error("  .");const q={contentIds:G},re=await v(`http://localhost:8080/api/playlists/${U}/contents`,{method:"DELETE",body:JSON.stringify(q)});if(!re.ok){let je="   ";try{je=(await re.json()).message||je}catch(Ze){console.error("Error parsing error response:",Ze)}throw new Error(je)}console.log("   ")}catch(q){throw console.error("   :",q),q}},M=async U=>{try{if(!n)throw new Error(" ");console.log("   :",{userId:n,playlistId:U});const G={userId:n,playlistId:U};console.log("   :",G);const q=await v("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("   :",q.status,q.statusText),!q.ok){let re="  ";try{re=(await q.json()).message||re}catch(je){console.error("Error parsing error response:",je)}throw new Error(re)}console.log("  ")}catch(G){throw console.error("  :",G),G}},I=async U=>{try{console.log("    :",{subscriptionId:U});const G=await v(`http://localhost:8080/api/subscriptions/${U}`,{method:"DELETE"});if(console.log("    :",G.status,G.statusText),!G.ok){let q="   ";try{q=(await G.json()).message||q}catch(re){console.error("Error parsing error response:",re)}throw new Error(q)}console.log("   ")}catch(G){throw console.error("   :",G),G}},[D,O]=d.useState(()=>u?a.get("id"):null),[k,L]=d.useState(null),[H,le]=d.useState(null),[K,ie]=d.useState(!1),[se,de]=d.useState(!1),[Ee,$]=d.useState(null),[z,Z]=d.useState(!1),[X,oe]=d.useState(!1),[he,ce]=d.useState(null),[we,Ne]=d.useState(0),[B,F]=d.useState(0),[ne,Q]=d.useState(!1),[W,J]=d.useState(null),[fe,ee]=d.useState(!1),[me,Pe]=d.useState(null),[Te,ge]=d.useState(!1),[_e,at]=d.useState(null),[Ut,tt]=d.useState(!1),Be=u,ht=()=>{const U=new URL(window.location.href);if(U.pathname==="/oauth/callback"){const q=U.searchParams.get("access_token");q?(Jt(q),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}},bt=()=>{const G=new URLSearchParams(window.location.search).get("playlist");G&&(console.log("    :",G),h("playlist-detail"),O(G),localStorage.setItem("currentPage","playlist-detail"),window.history.replaceState({},document.title,"/"),console.log("     "))};d.useEffect(()=>{(async()=>{ht(),bt();const G=localStorage.getItem("accessToken");if(G){if(p(G)){console.log("  ,      "),w();return}const q=m(G);q?(r(q),t(!0)):(console.log("  ID  "),localStorage.removeItem("accessToken"),w())}})()},[]),d.useEffect(()=>{if(!e)return;const G=setInterval(async()=>{const q=localStorage.getItem("accessToken");if(q&&p(q)){console.log("  ,  ");const re=await g();if(re){localStorage.setItem("accessToken",re);const je=m(re);je&&r(je),console.log("  ")}else console.log("  ,  "),w()}},3e4);return()=>clearInterval(G)},[e]);const Jt=U=>{localStorage.setItem("accessToken",U);const G=m(U);G?(r(G),t(!0)):(localStorage.removeItem("accessToken"),t(!1)),t(!0)},Ye=U=>{if(console.log("  :",U),U==="create-room"){ge(!0);return}h(U),localStorage.setItem("currentPage",U);const G={page:U,selectedPlaylistId:D,selectedContentDetail:k,selectedUserId:H,currentWatchRoomId:_e};window.history.pushState(G,"",window.location.pathname),console.log("   :",G),U!=="playlist-detail"&&O(null),U!=="watch-party"&&at(null),U!=="content-detail"&&L(null),U!=="user-profile"&&le(null)};d.useEffect(()=>{localStorage.setItem("currentPage",f)},[f]),d.useEffect(()=>{const U=q=>{if(console.log(" popstate  :",q.state),q.state){console.log("    :",q.state);const re=q.state.page||"home";["watch-party","content-detail","user-profile"].includes(re)?re==="watch-party"&&!q.state.currentWatchRoomId?(console.log("    ID    "),h("live"),localStorage.setItem("currentPage","live")):re==="content-detail"&&!q.state.selectedContentDetail?(console.log("       "),h("home"),localStorage.setItem("currentPage","home")):re==="user-profile"&&!q.state.selectedUserId?(console.log("     ID   "),h("home"),localStorage.setItem("currentPage","home")):(h(re),localStorage.setItem("currentPage",re)):(h(re),localStorage.setItem("currentPage",re)),O(q.state.selectedPlaylistId||null),L(q.state.selectedContentDetail||null),le(q.state.selectedUserId||null),at(q.state.currentWatchRoomId||null)}else{const re=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",re),["watch-party","content-detail","user-profile"].includes(re)?(console.log("       "),h("home"),localStorage.setItem("currentPage","home")):h(re),O(null),L(null),le(null),at(null)}};return(()=>{const q=["watch-party","content-detail","user-profile"];let re=f;u?re="playlist-detail":q.includes(f)&&(f==="watch-party"&&!_e||f==="content-detail"&&!k||f==="user-profile"&&!H)&&(re="home");const je={page:re,selectedPlaylistId:u?a.get("id"):D,selectedContentDetail:k,selectedUserId:H,currentWatchRoomId:_e};re!==f&&(h(re),localStorage.setItem("currentPage",re),console.log("     :",f,"->",re)),window.history.replaceState(je,"",window.location.pathname),console.log("    :",je)})(),window.addEventListener("popstate",U),()=>{window.removeEventListener("popstate",U)}},[]),d.useLayoutEffect(()=>{if(!e&&u){const U=a.get("id");if(U){console.log("      playlist-detail "),O(U),console.log(" setSelectedPlaylistId   (id):",U),console.log(" setSelectedPlaylistId  selectedPlaylistId:",D),h("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const G={page:"playlist-detail",selectedPlaylistId:U,selectedContentDetail:k,selectedUserId:H,currentWatchRoomId:_e};window.history.replaceState(G,"",window.location.pathname),console.log("     :",G)}}},[e,u,a]);const Y=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),h("home")},xe=()=>{ie(!K)},Fe=async()=>{const U=prompt("    :");if(!(U!=null&&U.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U.trim())){alert("   .");return}try{const q=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:U.trim()})});if(!q.ok){let re="   .";try{re=(await q.json()).message||re}catch(je){console.error("Error parsing error response:",je)}throw new Error(re)}alert(`${U}   .
       .`)}catch(q){console.error("   :",q),alert(q instanceof Error?q.message:"     .")}},Ce=U=>{O(U),h("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const G={page:"playlist-detail",selectedPlaylistId:U,selectedContentDetail:k,selectedUserId:H,currentWatchRoomId:_e};window.history.pushState(G,"",window.location.pathname),console.log("     :",G)},Re=()=>{O(null),h("playlist"),localStorage.setItem("currentPage","playlist");const U={page:"playlist",selectedPlaylistId:null,selectedContentDetail:k,selectedUserId:H,currentWatchRoomId:_e};window.history.pushState(U,"",window.location.pathname),console.log("    :",U)},Dt=U=>{L(U),h("content-detail"),localStorage.setItem("currentPage","content-detail");const G={page:"content-detail",selectedPlaylistId:D,selectedContentDetail:U,selectedUserId:H,currentWatchRoomId:_e};window.history.pushState(G,"",window.location.pathname),console.log("     :",G)},St=()=>{let U="home";k&&(U={movie:"movies",tv:"tv",sports:"sports"}[k.type]||"home"),L(null),h(U),localStorage.setItem("currentPage",U);const G={page:U,selectedPlaylistId:D,selectedContentDetail:null,selectedUserId:H,currentWatchRoomId:_e};window.history.pushState(G,"",window.location.pathname),console.log("     :",G)},it=U=>{const G={...U,year:U.year||2024,rating:U.rating||4};Pe(G),ee(!0)},ye=()=>{ee(!1),Pe(null)},pe=U=>{J(U),Q(!0)},ke=async U=>{if(!W)return;const G=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",U),console.log("Room code:",G);try{if(console.log("  :",{config:U,selectedContent:W}),!n){alert(" .");return}const q={contentId:W.id,ownerId:n,title:U.roomName},re=await go.createWatchRoom(q);console.log("  :",re),at(re.id),tt(!0),h("watch-party"),localStorage.setItem("currentPage","watch-party"),console.log("  :",{roomId:re.id})}catch(q){console.error("  :",q),alert("  .  .")}Q(!1),J(null)},$e=U=>{at(U.id),tt(!1),h("watch-party"),localStorage.setItem("currentPage","watch-party");const G={page:"watch-party",selectedPlaylistId:D,selectedContentDetail:k,selectedUserId:H,currentWatchRoomId:U.id};window.history.pushState(G,"",window.location.pathname),console.log("    :",G)},We=U=>{at(U.id),tt(!0),ge(!1),h("watch-party"),localStorage.setItem("currentPage","watch-party");const G={page:"watch-party",selectedPlaylistId:D,selectedContentDetail:k,selectedUserId:H,currentWatchRoomId:U.id};window.history.pushState(G,"",window.location.pathname),console.log("    :",G)},Ve=()=>{at(null),tt(!1),h("live"),localStorage.setItem("currentPage","live");const U={page:"live",selectedPlaylistId:D,selectedContentDetail:k,selectedUserId:H,currentWatchRoomId:null};window.history.pushState(U,"",window.location.pathname),console.log("    :",U)},He=()=>{ge(!0)},Je=()=>{ge(!1)},mt=()=>{$(null),de(!0)},Nr=()=>{de(!1),$(null)},lm=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Io=U=>{le(U),h("user-profile"),localStorage.setItem("currentPage","user-profile");const G={page:"user-profile",selectedPlaylistId:D,selectedContentDetail:k,selectedUserId:U,currentWatchRoomId:_e};window.history.pushState(G,"",window.location.pathname),console.log("     :",G)},V1=()=>{n&&Io(n)},K1=()=>{le(null),h("home"),localStorage.setItem("currentPage","home");const U={page:"home",selectedPlaylistId:D,selectedContentDetail:k,selectedUserId:null,currentWatchRoomId:_e};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},G1=()=>{X?(oe(!1),ce(null),Z(!0)):Z(!z)},Y1=()=>{Z(!1)},cm=()=>{Z(!1),oe(!1),ce(null)},X1=U=>{ce(U),Z(!1),oe(!0)},q1=()=>{oe(!1),ce(null)},Q1=()=>{oe(!1),ce(null),Z(!0)},J1=()=>{(z||X)&&cm()},Z1=()=>{console.log("App.tsx - handleDMReceived "),console.log(" DM   - DM    "),Ne(U=>{const G=U+1;return console.log(`dmRefreshTrigger : ${U} -> ${G}`),G})},eS=()=>{console.log("    -     "),F(U=>{const G=U+1;return console.log(`playlistRefreshTrigger : ${U} -> ${G}`),G}),f==="playlist"&&console.log("    -   ")};if(console.log(" isLoggedIn:",e),console.log(" pathname:",i),console.log(" searchParams:",a.toString()),console.log(" isSharedPlaylistPage:",u),!e&&!l&&!u)return console.log("   :",{isLoggedIn:e,accessToken:localStorage.getItem("accessToken"),userId:n}),o.jsx("div",{children:o.jsx(hE,{onLogin:Jt,onToggleAuth:xe,onForgotPassword:Fe,isRegister:K})});const um=()=>{switch(console.log("  :",f),f){case"curation":return o.jsx(wE,{onContentPlay:pe,onContentDetail:Dt,onAddToPlaylist:it,userId:n||void 0});case"movies":return o.jsx(Su,{category:"movies",onContentPlay:pe,onContentDetail:Dt,onAddToPlaylist:it});case"tv":return o.jsx(Su,{category:"tv",onContentPlay:pe,onContentDetail:Dt,onAddToPlaylist:it});case"sports":return o.jsx(Su,{category:"sports",onContentPlay:pe,onContentDetail:Dt,onAddToPlaylist:it});case"playlist":return o.jsx(zp,{onPlaylistOpen:Ce,getPlaylists:N,createPlaylist:j,subscribePlaylist:M,unsubscribePlaylist:I,deletePlaylist:C,currentUserId:n||void 0,onUserProfileOpen:Io,refreshTrigger:B});case"playlist-detail":return console.log(" renderCurrentPage - playlist-detail , selectedPlaylistId:",D),console.log(" renderCurrentPage - playlist-detail  ",{selectedPlaylistId:D,isSharedPlaylistPage:u}),u&&!D?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"  ..."}):D?o.jsx(KT,{playlistId:D,onBack:Re,onContentPlay:pe,getPlaylistById:R,addPlaylistContents:A,deletePlaylistContents:_,deletePlaylist:C,currentUserId:n||void 0,isSharedAccess:Be,refreshTrigger:B}):o.jsx(zp,{onPlaylistOpen:Ce,getPlaylists:N,createPlaylist:j,refreshTrigger:B});case"content-detail":return k?o.jsx(rP,{content:k,onBack:St,onPlay:pe,currentUser:n?{id:n,name:"",avatar:void 0}:void 0}):Be?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Pi,{onPageChange:Ye,onPlaylistOpen:Ce,onContentPlay:pe,onJoinRoom:$e,userId:n||void 0});case"watch-party":return _e&&n?o.jsx(V3,{roomId:_e,userId:n,onBack:Ve,shouldConnect:Ut,onUserProfileOpen:Io}):Be?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Pi,{onPageChange:Ye,onPlaylistOpen:Ce,onContentPlay:pe,onJoinRoom:$e,userId:n||void 0,refreshTrigger:B});case"user-profile":return H?o.jsx(w5,{userId:H,currentUserId:n,onBack:K1,authenticatedFetch:v,onUserProfileOpen:Io,onPlaylistOpen:Ce},H):Be?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Pi,{onPageChange:Ye,onPlaylistOpen:Ce,onContentPlay:pe,onJoinRoom:$e,userId:n||void 0,refreshTrigger:B});case"live":return o.jsx(K3,{onJoinRoom:$e,onCreateRoom:He,currentUserId:n});default:return Be?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Pi,{onPageChange:Ye,onPlaylistOpen:Ce,onContentPlay:pe,onJoinRoom:$e,userId:n||void 0,refreshTrigger:B})}};return f==="watch-party"||f==="content-detail"||f==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[um(),o.jsx(Og,{isOpen:ne,onClose:()=>Q(!1),onCreateWatchParty:ke,content:W}),o.jsx($g,{isOpen:fe,onClose:ye,content:me,getPlaylists:N,createPlaylist:j,addPlaylistContents:A}),o.jsx(zg,{isOpen:Te,onClose:Je,onCreateRoom:We,userId:n||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(sE,{currentPage:f,onPageChange:Ye,onProfileClick:mt,onMyProfileClick:V1,onCloseDM:cm,onLogout:Y,authenticatedFetch:v,userId:n,refreshUserProfile:lm,deleteNotification:y,deleteAllNotifications:S,refreshAccessToken:g,isSharedAccess:Be,onDMReceived:Z1,onPlaylistRefresh:eS}),o.jsx("main",{className:"flex-1",onClick:J1,children:um()}),o.jsx(oE,{}),o.jsx(sP,{isOpen:se,onClose:Nr,userId:n,targetUserId:Ee,authenticatedFetch:v,onUserProfileOpen:Io,refreshUserProfile:lm,onPlaylistOpen:Ce}),!Be&&o.jsxs(o.Fragment,{children:[o.jsx(kP,{isOpen:z,onClose:Y1,onOpenChat:X1,authenticatedFetch:v,currentUserId:n,getDmRooms:E,getOrCreateDmRoom:P,refreshTrigger:we}),o.jsx(y3,{isOpen:X,onClose:q1,onBack:Q1,user:he,currentUserId:n,getDmMessages:T,refreshTrigger:we})]}),o.jsx(Og,{isOpen:ne,onClose:()=>Q(!1),onCreateWatchParty:ke,content:W}),o.jsx($g,{isOpen:fe,onClose:ye,content:me,getPlaylists:N,createPlaylist:j,addPlaylistContents:A}),o.jsx(zg,{isOpen:Te,onClose:Je,onCreateRoom:We,userId:n||""}),!Be&&o.jsx(V,{size:"lg",onClick:G1,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${z||X?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(Ad,{className:"w-6 h-6"})}),o.jsx(JC,{richColors:!0,position:"top-center"})]})}Mu.createRoot(document.getElementById("root")).render(o.jsx(ae.StrictMode,{children:o.jsx(W2,{children:o.jsx(b5,{})})}));
