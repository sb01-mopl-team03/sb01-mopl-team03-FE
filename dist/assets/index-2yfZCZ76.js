var eb=Object.defineProperty;var tb=(e,t,r)=>t in e?eb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sn=(e,t,r)=>tb(e,typeof t!="symbol"?t+"":t,r);function rb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hp={exports:{}},wl={},Vp={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=Symbol.for("react.element"),sb=Symbol.for("react.portal"),ob=Symbol.for("react.fragment"),ib=Symbol.for("react.strict_mode"),ab=Symbol.for("react.profiler"),lb=Symbol.for("react.provider"),cb=Symbol.for("react.context"),ub=Symbol.for("react.forward_ref"),db=Symbol.for("react.suspense"),fb=Symbol.for("react.memo"),hb=Symbol.for("react.lazy"),jh=Symbol.iterator;function mb(e){return e===null||typeof e!="object"?null:(e=jh&&e[jh]||e["@@iterator"],typeof e=="function"?e:null)}var Kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gp=Object.assign,Xp={};function to(e,t,r){this.props=e,this.context=t,this.refs=Xp,this.updater=r||Kp}to.prototype.isReactComponent={};to.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};to.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qp(){}qp.prototype=to.prototype;function Pd(e,t,r){this.props=e,this.context=t,this.refs=Xp,this.updater=r||Kp}var Rd=Pd.prototype=new qp;Rd.constructor=Pd;Gp(Rd,to.prototype);Rd.isPureReactComponent=!0;var Nh=Array.isArray,Qp=Object.prototype.hasOwnProperty,Id={current:null},Yp={key:!0,ref:!0,__self:!0,__source:!0};function Jp(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Qp.call(t,n)&&!Yp.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:yi,type:e,key:i,ref:a,props:s,_owner:Id.current}}function pb(e,t){return{$$typeof:yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ad(e){return typeof e=="object"&&e!==null&&e.$$typeof===yi}function gb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sh=/\/+/g;function lc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gb(""+e.key):t.toString(36)}function wa(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case yi:case sb:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+lc(a,0):n,Nh(s)?(r="",e!=null&&(r=e.replace(Sh,"$&/")+"/"),wa(s,t,r,"",function(u){return u})):s!=null&&(Ad(s)&&(s=pb(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Sh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Nh(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+lc(i,l);a+=wa(i,t,r,c,s)}else if(c=mb(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+lc(i,l++),a+=wa(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function zi(e,t,r){if(e==null)return e;var n=[],s=0;return wa(e,n,"","",function(i){return t.call(r,i,s++)}),n}function vb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},ba={transition:null},xb={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:ba,ReactCurrentOwner:Id};function Zp(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:zi,forEach:function(e,t,r){zi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zi(e,function(){t++}),t},toArray:function(e){return zi(e,function(t){return t})||[]},only:function(e){if(!Ad(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=to;ge.Fragment=ob;ge.Profiler=ab;ge.PureComponent=Pd;ge.StrictMode=ib;ge.Suspense=db;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xb;ge.act=Zp;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Gp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Id.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Qp.call(t,c)&&!Yp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:yi,type:e.type,key:s,ref:i,props:n,_owner:a}};ge.createContext=function(e){return e={$$typeof:cb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lb,_context:e},e.Consumer=e};ge.createElement=Jp;ge.createFactory=function(e){var t=Jp.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:ub,render:e}};ge.isValidElement=Ad;ge.lazy=function(e){return{$$typeof:hb,_payload:{_status:-1,_result:e},_init:vb}};ge.memo=function(e,t){return{$$typeof:fb,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=ba.transition;ba.transition={};try{e()}finally{ba.transition=t}};ge.unstable_act=Zp;ge.useCallback=function(e,t){return St.current.useCallback(e,t)};ge.useContext=function(e){return St.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return St.current.useDeferredValue(e)};ge.useEffect=function(e,t){return St.current.useEffect(e,t)};ge.useId=function(){return St.current.useId()};ge.useImperativeHandle=function(e,t,r){return St.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return St.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return St.current.useReducer(e,t,r)};ge.useRef=function(e){return St.current.useRef(e)};ge.useState=function(e){return St.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return St.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return St.current.useTransition()};ge.version="18.3.1";Vp.exports=ge;var d=Vp.exports;const Wr=_d(d),eg=rb({__proto__:null,default:Wr},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=d,wb=Symbol.for("react.element"),bb=Symbol.for("react.fragment"),jb=Object.prototype.hasOwnProperty,Nb=yb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sb={key:!0,ref:!0,__self:!0,__source:!0};function tg(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)jb.call(t,n)&&!Sb.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:wb,type:e,key:i,ref:a,props:s,_owner:Nb.current}}wl.Fragment=bb;wl.jsx=tg;wl.jsxs=tg;Hp.exports=wl;var o=Hp.exports,ou={},rg={exports:{}},Bt={},ng={exports:{}},sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,H){var Q=R.length;R.push(H);e:for(;0<Q;){var A=Q-1>>>1,q=R[A];if(0<s(q,H))R[A]=H,R[Q]=q,Q=A;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var H=R[0],Q=R.pop();if(Q!==H){R[0]=Q;e:for(var A=0,q=R.length,J=q>>>1;A<J;){var he=2*(A+1)-1,fe=R[he],ye=he+1,te=R[ye];if(0>s(fe,Q))ye<q&&0>s(te,fe)?(R[A]=te,R[ye]=Q,A=ye):(R[A]=fe,R[he]=Q,A=he);else if(ye<q&&0>s(te,Q))R[A]=te,R[ye]=Q,A=ye;else break e}}return H}function s(R,H){var Q=R.sortIndex-H.sortIndex;return Q!==0?Q:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,y=!1,w=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=R)n(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(u)}}function b(R){if(x=!1,v(R),!w)if(r(c)!==null)w=!0,I(j);else{var H=r(u);H!==null&&W(b,H.startTime-R)}}function j(R,H){w=!1,x&&(x=!1,g(k),k=-1),y=!0;var Q=m;try{for(v(H),f=r(c);f!==null&&(!(f.expirationTime>H)||R&&!F());){var A=f.callback;if(typeof A=="function"){f.callback=null,m=f.priorityLevel;var q=A(f.expirationTime<=H);H=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(c)&&n(c),v(H)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var he=r(u);he!==null&&W(b,he.startTime-H),J=!1}return J}finally{f=null,m=Q,y=!1}}var T=!1,C=null,k=-1,_=5,P=-1;function F(){return!(e.unstable_now()-P<_)}function S(){if(C!==null){var R=e.unstable_now();P=R;var H=!0;try{H=C(!0,R)}finally{H?E():(T=!1,C=null)}}else T=!1}var E;if(typeof p=="function")E=function(){p(S)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=S,E=function(){G.postMessage(null)}}else E=function(){N(S,0)};function I(R){C=R,T||(T=!0,E())}function W(R,H){k=N(function(){R(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,I(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var Q=m;m=H;try{return R()}finally{m=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Q=m;m=R;try{return H()}finally{m=Q}},e.unstable_scheduleCallback=function(R,H,Q){var A=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?A+Q:A):Q=A,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,R={id:h++,callback:H,priorityLevel:R,startTime:Q,expirationTime:q,sortIndex:-1},Q>A?(R.sortIndex=Q,t(u,R),r(c)===null&&R===r(u)&&(x?(g(k),k=-1):x=!0,W(b,Q-A))):(R.sortIndex=q,t(c,R),w||y||(w=!0,I(j))),R},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(R){var H=m;return function(){var Q=m;m=H;try{return R.apply(this,arguments)}finally{m=Q}}}})(sg);ng.exports=sg;var Cb=ng.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb=d,Ft=Cb;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var og=new Set,Xo={};function ls(e,t){Hs(e,t),Hs(e+"Capture",t)}function Hs(e,t){for(Xo[e]=t,e=0;e<t.length;e++)og.add(t[e])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=Object.prototype.hasOwnProperty,Eb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},kh={};function Tb(e){return iu.call(kh,e)?!0:iu.call(Ch,e)?!1:Eb.test(e)?kh[e]=!0:(Ch[e]=!0,!1)}function _b(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pb(e,t,r,n){if(t===null||typeof t>"u"||_b(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ut[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ut[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ut[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ut[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ut[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ut[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ut[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ut[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ut[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Od=/[\-:]([a-z])/g;function Ld(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Od,Ld);ut[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Od,Ld);ut[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Od,Ld);ut[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ut[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ut[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Md(e,t,r,n){var s=ut.hasOwnProperty(t)?ut[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pb(t,r,s,n)&&(r=null),n||s===null?Tb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var tn=kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fi=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),au=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),ag=Symbol.for("react.context"),$d=Symbol.for("react.forward_ref"),lu=Symbol.for("react.suspense"),cu=Symbol.for("react.suspense_list"),zd=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),lg=Symbol.for("react.offscreen"),Eh=Symbol.iterator;function vo(e){return e===null||typeof e!="object"?null:(e=Eh&&e[Eh]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,cc;function _o(e){if(cc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cc=t&&t[1]||""}return`
`+cc+e}var uc=!1;function dc(e,t){if(!e||uc)return"";uc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{uc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_o(e):""}function Rb(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=dc(e.type,!1),e;case 11:return e=dc(e.type.render,!1),e;case 1:return e=dc(e.type,!0),e;default:return""}}function uu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ss:return"Fragment";case Ns:return"Portal";case au:return"Profiler";case Dd:return"StrictMode";case lu:return"Suspense";case cu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ag:return(e.displayName||"Context")+".Consumer";case ig:return(e._context.displayName||"Context")+".Provider";case $d:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zd:return t=e.displayName||null,t!==null?t:uu(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return uu(e(t))}catch{}}return null}function Ib(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uu(t);case 8:return t===Dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function En(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ab(e){var t=cg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bi(e){e._valueTracker||(e._valueTracker=Ab(e))}function ug(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=cg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function du(e,t){var r=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Th(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=En(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dg(e,t){t=t.checked,t!=null&&Md(e,"checked",t,!1)}function fu(e,t){dg(e,t);var r=En(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hu(e,t.type,r):t.hasOwnProperty("defaultValue")&&hu(e,t.type,En(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _h(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hu(e,t,r){(t!=="number"||Ma(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Po=Array.isArray;function Ls(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+En(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ph(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(Po(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:En(r)}}function fg(e,t){var r=En(t.value),n=En(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Rh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wi,mg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ob=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(e){Ob.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mo[t]=Mo[e]})});function pg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mo.hasOwnProperty(e)&&Mo[e]?(""+t).trim():t+"px"}function gg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Lb=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gu(e,t){if(t){if(Lb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function vu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=null;function Fd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yu=null,Ms=null,Ds=null;function Ih(e){if(e=ji(e)){if(typeof yu!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Cl(t),yu(e.stateNode,e.type,t))}}function vg(e){Ms?Ds?Ds.push(e):Ds=[e]:Ms=e}function xg(){if(Ms){var e=Ms,t=Ds;if(Ds=Ms=null,Ih(e),t)for(e=0;e<t.length;e++)Ih(t[e])}}function yg(e,t){return e(t)}function wg(){}var fc=!1;function bg(e,t,r){if(fc)return e(t,r);fc=!0;try{return yg(e,t,r)}finally{fc=!1,(Ms!==null||Ds!==null)&&(wg(),xg())}}function Qo(e,t){var r=e.stateNode;if(r===null)return null;var n=Cl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var wu=!1;if(qr)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){wu=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{wu=!1}function Mb(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Do=!1,Da=null,$a=!1,bu=null,Db={onError:function(e){Do=!0,Da=e}};function $b(e,t,r,n,s,i,a,l,c){Do=!1,Da=null,Mb.apply(Db,arguments)}function zb(e,t,r,n,s,i,a,l,c){if($b.apply(this,arguments),Do){if(Do){var u=Da;Do=!1,Da=null}else throw Error(V(198));$a||($a=!0,bu=u)}}function cs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ah(e){if(cs(e)!==e)throw Error(V(188))}function Fb(e){var t=e.alternate;if(!t){if(t=cs(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ah(s),e;if(i===n)return Ah(s),t;i=i.sibling}throw Error(V(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function Ng(e){return e=Fb(e),e!==null?Sg(e):null}function Sg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sg(e);if(t!==null)return t;e=e.sibling}return null}var Cg=Ft.unstable_scheduleCallback,Oh=Ft.unstable_cancelCallback,Bb=Ft.unstable_shouldYield,Wb=Ft.unstable_requestPaint,Ge=Ft.unstable_now,Ub=Ft.unstable_getCurrentPriorityLevel,Bd=Ft.unstable_ImmediatePriority,kg=Ft.unstable_UserBlockingPriority,za=Ft.unstable_NormalPriority,Hb=Ft.unstable_LowPriority,Eg=Ft.unstable_IdlePriority,bl=null,Er=null;function Vb(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(bl,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Xb,Kb=Math.log,Gb=Math.LN2;function Xb(e){return e>>>=0,e===0?32:31-(Kb(e)/Gb|0)|0}var Ui=64,Hi=4194304;function Ro(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ro(l):(i&=a,i!==0&&(n=Ro(i)))}else a=r&~s,a!==0?n=Ro(a):i!==0&&(n=Ro(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fr(t),s=1<<r,n|=e[r],t&=~s;return n}function qb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-fr(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=qb(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tg(){var e=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),e}function hc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fr(t),e[t]=r}function Yb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Wd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ee=0;function _g(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pg,Ud,Rg,Ig,Ag,Nu=!1,Vi=[],xn=null,yn=null,wn=null,Yo=new Map,Jo=new Map,fn=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(t.pointerId)}}function yo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ji(t),t!==null&&Ud(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zb(e,t,r,n,s){switch(t){case"focusin":return xn=yo(xn,e,t,r,n,s),!0;case"dragenter":return yn=yo(yn,e,t,r,n,s),!0;case"mouseover":return wn=yo(wn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Yo.set(i,yo(Yo.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Jo.set(i,yo(Jo.get(i)||null,e,t,r,n,s)),!0}return!1}function Og(e){var t=Hn(e.target);if(t!==null){var r=cs(t);if(r!==null){if(t=r.tag,t===13){if(t=jg(r),t!==null){e.blockedOn=t,Ag(e.priority,function(){Rg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ja(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Su(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xu=n,r.target.dispatchEvent(n),xu=null}else return t=ji(r),t!==null&&Ud(t),e.blockedOn=r,!1;t.shift()}return!0}function Mh(e,t,r){ja(e)&&r.delete(t)}function e1(){Nu=!1,xn!==null&&ja(xn)&&(xn=null),yn!==null&&ja(yn)&&(yn=null),wn!==null&&ja(wn)&&(wn=null),Yo.forEach(Mh),Jo.forEach(Mh)}function wo(e,t){e.blockedOn===t&&(e.blockedOn=null,Nu||(Nu=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,e1)))}function Zo(e){function t(s){return wo(s,e)}if(0<Vi.length){wo(Vi[0],e);for(var r=1;r<Vi.length;r++){var n=Vi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xn!==null&&wo(xn,e),yn!==null&&wo(yn,e),wn!==null&&wo(wn,e),Yo.forEach(t),Jo.forEach(t),r=0;r<fn.length;r++)n=fn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fn.length&&(r=fn[0],r.blockedOn===null);)Og(r),r.blockedOn===null&&fn.shift()}var $s=tn.ReactCurrentBatchConfig,Ba=!0;function t1(e,t,r,n){var s=Ee,i=$s.transition;$s.transition=null;try{Ee=1,Hd(e,t,r,n)}finally{Ee=s,$s.transition=i}}function r1(e,t,r,n){var s=Ee,i=$s.transition;$s.transition=null;try{Ee=4,Hd(e,t,r,n)}finally{Ee=s,$s.transition=i}}function Hd(e,t,r,n){if(Ba){var s=Su(e,t,r,n);if(s===null)Nc(e,t,n,Wa,r),Lh(e,n);else if(Zb(s,e,t,r,n))n.stopPropagation();else if(Lh(e,n),t&4&&-1<Jb.indexOf(e)){for(;s!==null;){var i=ji(s);if(i!==null&&Pg(i),i=Su(e,t,r,n),i===null&&Nc(e,t,n,Wa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Nc(e,t,n,null,r)}}var Wa=null;function Su(e,t,r,n){if(Wa=null,e=Fd(n),e=Hn(e),e!==null)if(t=cs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wa=e,null}function Lg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ub()){case Bd:return 1;case kg:return 4;case za:case Hb:return 16;case Eg:return 536870912;default:return 16}default:return 16}}var gn=null,Vd=null,Na=null;function Mg(){if(Na)return Na;var e,t=Vd,r=t.length,n,s="value"in gn?gn.value:gn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Na=s.slice(e,1<n?1-n:void 0)}function Sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function Dh(){return!1}function Wt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ki:Dh,this.isPropagationStopped=Dh,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),t}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=Wt(ro),bi=Ue({},ro,{view:0,detail:0}),n1=Wt(bi),mc,pc,bo,jl=Ue({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bo&&(bo&&e.type==="mousemove"?(mc=e.screenX-bo.screenX,pc=e.screenY-bo.screenY):pc=mc=0,bo=e),mc)},movementY:function(e){return"movementY"in e?e.movementY:pc}}),$h=Wt(jl),s1=Ue({},jl,{dataTransfer:0}),o1=Wt(s1),i1=Ue({},bi,{relatedTarget:0}),gc=Wt(i1),a1=Ue({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=Wt(a1),c1=Ue({},ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u1=Wt(c1),d1=Ue({},ro,{data:0}),zh=Wt(d1),f1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m1[e])?!!t[e]:!1}function Gd(){return p1}var g1=Ue({},bi,{key:function(e){if(e.key){var t=f1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(e){return e.type==="keypress"?Sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v1=Wt(g1),x1=Ue({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=Wt(x1),y1=Ue({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),w1=Wt(y1),b1=Ue({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),j1=Wt(b1),N1=Ue({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=Wt(N1),C1=[9,13,27,32],Xd=qr&&"CompositionEvent"in window,$o=null;qr&&"documentMode"in document&&($o=document.documentMode);var k1=qr&&"TextEvent"in window&&!$o,Dg=qr&&(!Xd||$o&&8<$o&&11>=$o),Bh=" ",Wh=!1;function $g(e,t){switch(e){case"keyup":return C1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cs=!1;function E1(e,t){switch(e){case"compositionend":return zg(t);case"keypress":return t.which!==32?null:(Wh=!0,Bh);case"textInput":return e=t.data,e===Bh&&Wh?null:e;default:return null}}function T1(e,t){if(Cs)return e==="compositionend"||!Xd&&$g(e,t)?(e=Mg(),Na=Vd=gn=null,Cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dg&&t.locale!=="ko"?null:t.data;default:return null}}var _1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_1[e.type]:t==="textarea"}function Fg(e,t,r,n){vg(n),t=Ua(t,"onChange"),0<t.length&&(r=new Kd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zo=null,ei=null;function P1(e){Yg(e,0)}function Nl(e){var t=Ts(e);if(ug(t))return e}function R1(e,t){if(e==="change")return t}var Bg=!1;if(qr){var vc;if(qr){var xc="oninput"in document;if(!xc){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),xc=typeof Hh.oninput=="function"}vc=xc}else vc=!1;Bg=vc&&(!document.documentMode||9<document.documentMode)}function Vh(){zo&&(zo.detachEvent("onpropertychange",Wg),ei=zo=null)}function Wg(e){if(e.propertyName==="value"&&Nl(ei)){var t=[];Fg(t,ei,e,Fd(e)),bg(P1,t)}}function I1(e,t,r){e==="focusin"?(Vh(),zo=t,ei=r,zo.attachEvent("onpropertychange",Wg)):e==="focusout"&&Vh()}function A1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(ei)}function O1(e,t){if(e==="click")return Nl(t)}function L1(e,t){if(e==="input"||e==="change")return Nl(t)}function M1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:M1;function ti(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!iu.call(t,s)||!mr(e[s],t[s]))return!1}return!0}function Kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gh(e,t){var r=Kh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kh(r)}}function Ug(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ug(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hg(){for(var e=window,t=Ma();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ma(e.document)}return t}function qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function D1(e){var t=Hg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ug(r.ownerDocument.documentElement,r)){if(n!==null&&qd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Gh(r,i);var a=Gh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $1=qr&&"documentMode"in document&&11>=document.documentMode,ks=null,Cu=null,Fo=null,ku=!1;function Xh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ku||ks==null||ks!==Ma(n)||(n=ks,"selectionStart"in n&&qd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fo&&ti(Fo,n)||(Fo=n,n=Ua(Cu,"onSelect"),0<n.length&&(t=new Kd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ks)))}function Gi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Es={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},yc={},Vg={};qr&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Sl(e){if(yc[e])return yc[e];if(!Es[e])return e;var t=Es[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vg)return yc[e]=t[r];return e}var Kg=Sl("animationend"),Gg=Sl("animationiteration"),Xg=Sl("animationstart"),qg=Sl("transitionend"),Qg=new Map,qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Qg.set(e,t),ls(t,[e])}for(var wc=0;wc<qh.length;wc++){var bc=qh[wc],z1=bc.toLowerCase(),F1=bc[0].toUpperCase()+bc.slice(1);On(z1,"on"+F1)}On(Kg,"onAnimationEnd");On(Gg,"onAnimationIteration");On(Xg,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(qg,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Qh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zb(n,t,void 0,e),e.currentTarget=null}function Yg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Qh(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Qh(s,l,u),i=c}}}if($a)throw e=bu,$a=!1,bu=null,e}function Ae(e,t){var r=t[Ru];r===void 0&&(r=t[Ru]=new Set);var n=e+"__bubble";r.has(n)||(Jg(t,e,2,!1),r.add(n))}function jc(e,t,r){var n=0;t&&(n|=4),Jg(r,e,n,t)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function ri(e){if(!e[Xi]){e[Xi]=!0,og.forEach(function(r){r!=="selectionchange"&&(B1.has(r)||jc(r,!1,e),jc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xi]||(t[Xi]=!0,jc("selectionchange",!1,t))}}function Jg(e,t,r,n){switch(Lg(t)){case 1:var s=t1;break;case 4:s=r1;break;default:s=Hd}r=s.bind(null,t,r,e),s=void 0,!wu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Nc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Hn(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}bg(function(){var u=i,h=Fd(r),f=[];e:{var m=Qg.get(e);if(m!==void 0){var y=Kd,w=e;switch(e){case"keypress":if(Sa(r)===0)break e;case"keydown":case"keyup":y=v1;break;case"focusin":w="focus",y=gc;break;case"focusout":w="blur",y=gc;break;case"beforeblur":case"afterblur":y=gc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=w1;break;case Kg:case Gg:case Xg:y=l1;break;case qg:y=j1;break;case"scroll":y=n1;break;case"wheel":y=S1;break;case"copy":case"cut":case"paste":y=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Fh}var x=(t&4)!==0,N=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=Qo(p,g),b!=null&&x.push(ni(p,b,v)))),N)break;p=p.return}0<x.length&&(m=new y(m,w,null,r,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==xu&&(w=r.relatedTarget||r.fromElement)&&(Hn(w)||w[Qr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?Hn(w):null,w!==null&&(N=cs(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=$h,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Fh,b="onPointerLeave",g="onPointerEnter",p="pointer"),N=y==null?m:Ts(y),v=w==null?m:Ts(w),m=new x(b,p+"leave",y,r,h),m.target=N,m.relatedTarget=v,b=null,Hn(h)===u&&(x=new x(g,p+"enter",w,r,h),x.target=v,x.relatedTarget=N,b=x),N=b,y&&w)t:{for(x=y,g=w,p=0,v=x;v;v=ys(v))p++;for(v=0,b=g;b;b=ys(b))v++;for(;0<p-v;)x=ys(x),p--;for(;0<v-p;)g=ys(g),v--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=ys(x),g=ys(g)}x=null}else x=null;y!==null&&Yh(f,m,y,x,!1),w!==null&&N!==null&&Yh(f,N,w,x,!0)}}e:{if(m=u?Ts(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var j=R1;else if(Uh(m))if(Bg)j=L1;else{j=A1;var T=I1}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=O1);if(j&&(j=j(e,u))){Fg(f,j,r,h);break e}T&&T(e,m,u),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&hu(m,"number",m.value)}switch(T=u?Ts(u):window,e){case"focusin":(Uh(T)||T.contentEditable==="true")&&(ks=T,Cu=u,Fo=null);break;case"focusout":Fo=Cu=ks=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Xh(f,r,h);break;case"selectionchange":if($1)break;case"keydown":case"keyup":Xh(f,r,h)}var C;if(Xd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Cs?$g(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Dg&&r.locale!=="ko"&&(Cs||k!=="onCompositionStart"?k==="onCompositionEnd"&&Cs&&(C=Mg()):(gn=h,Vd="value"in gn?gn.value:gn.textContent,Cs=!0)),T=Ua(u,k),0<T.length&&(k=new zh(k,e,null,r,h),f.push({event:k,listeners:T}),C?k.data=C:(C=zg(r),C!==null&&(k.data=C)))),(C=k1?E1(e,r):T1(e,r))&&(u=Ua(u,"onBeforeInput"),0<u.length&&(h=new zh("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=C))}Yg(f,t)})}function ni(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ua(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qo(e,r),i!=null&&n.unshift(ni(e,i,s)),i=Qo(e,t),i!=null&&n.push(ni(e,i,s))),e=e.return}return n}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yh(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Qo(r,i),c!=null&&a.unshift(ni(r,c,l))):s||(c=Qo(r,i),c!=null&&a.push(ni(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var W1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Jh(e){return(typeof e=="string"?e:""+e).replace(W1,`
`).replace(U1,"")}function qi(e,t,r){if(t=Jh(t),Jh(e)!==t&&r)throw Error(V(425))}function Ha(){}var Eu=null,Tu=null;function _u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pu=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(e){return Zh.resolve(null).then(e).catch(K1)}:Pu;function K1(e){setTimeout(function(){throw e})}function Sc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Zo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Zo(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),Nr="__reactFiber$"+no,si="__reactProps$"+no,Qr="__reactContainer$"+no,Ru="__reactEvents$"+no,G1="__reactListeners$"+no,X1="__reactHandles$"+no;function Hn(e){var t=e[Nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qr]||r[Nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=em(e);e!==null;){if(r=e[Nr])return r;e=em(e)}return t}e=r,r=e.parentNode}return null}function ji(e){return e=e[Nr]||e[Qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Cl(e){return e[si]||null}var Iu=[],_s=-1;function Ln(e){return{current:e}}function Oe(e){0>_s||(e.current=Iu[_s],Iu[_s]=null,_s--)}function Pe(e,t){_s++,Iu[_s]=e.current,e.current=t}var Tn={},vt=Ln(Tn),Pt=Ln(!1),Jn=Tn;function Vs(e,t){var r=e.type.contextTypes;if(!r)return Tn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rt(e){return e=e.childContextTypes,e!=null}function Va(){Oe(Pt),Oe(vt)}function tm(e,t,r){if(vt.current!==Tn)throw Error(V(168));Pe(vt,t),Pe(Pt,r)}function Zg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(V(108,Ib(e)||"Unknown",s));return Ue({},r,n)}function Ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tn,Jn=vt.current,Pe(vt,e),Pe(Pt,Pt.current),!0}function rm(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=Zg(e,t,Jn),n.__reactInternalMemoizedMergedChildContext=e,Oe(Pt),Oe(vt),Pe(vt,e)):Oe(Pt),Pe(Pt,r)}var Hr=null,kl=!1,Cc=!1;function ev(e){Hr===null?Hr=[e]:Hr.push(e)}function q1(e){kl=!0,ev(e)}function Mn(){if(!Cc&&Hr!==null){Cc=!0;var e=0,t=Ee;try{var r=Hr;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hr=null,kl=!1}catch(s){throw Hr!==null&&(Hr=Hr.slice(e+1)),Cg(Bd,Mn),s}finally{Ee=t,Cc=!1}}return null}var Ps=[],Rs=0,Ga=null,Xa=0,Kt=[],Gt=0,Zn=null,Vr=1,Kr="";function Bn(e,t){Ps[Rs++]=Xa,Ps[Rs++]=Ga,Ga=e,Xa=t}function tv(e,t,r){Kt[Gt++]=Vr,Kt[Gt++]=Kr,Kt[Gt++]=Zn,Zn=e;var n=Vr;e=Kr;var s=32-fr(n)-1;n&=~(1<<s),r+=1;var i=32-fr(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Vr=1<<32-fr(t)+s|r<<s|n,Kr=i+e}else Vr=1<<i|r<<s|n,Kr=e}function Qd(e){e.return!==null&&(Bn(e,1),tv(e,1,0))}function Yd(e){for(;e===Ga;)Ga=Ps[--Rs],Ps[Rs]=null,Xa=Ps[--Rs],Ps[Rs]=null;for(;e===Zn;)Zn=Kt[--Gt],Kt[Gt]=null,Kr=Kt[--Gt],Kt[Gt]=null,Vr=Kt[--Gt],Kt[Gt]=null}var $t=null,Dt=null,Me=!1,ur=null;function rv(e,t){var r=Xt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function nm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Dt=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zn!==null?{id:Vr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$t=e,Dt=null,!0):!1;default:return!1}}function Au(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ou(e){if(Me){var t=Dt;if(t){var r=t;if(!nm(e,t)){if(Au(e))throw Error(V(418));t=bn(r.nextSibling);var n=$t;t&&nm(e,t)?rv(n,r):(e.flags=e.flags&-4097|2,Me=!1,$t=e)}}else{if(Au(e))throw Error(V(418));e.flags=e.flags&-4097|2,Me=!1,$t=e}}}function sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function Qi(e){if(e!==$t)return!1;if(!Me)return sm(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_u(e.type,e.memoizedProps)),t&&(t=Dt)){if(Au(e))throw nv(),Error(V(418));for(;t;)rv(e,t),t=bn(t.nextSibling)}if(sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dt=bn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=$t?bn(e.stateNode.nextSibling):null;return!0}function nv(){for(var e=Dt;e;)e=bn(e.nextSibling)}function Ks(){Dt=$t=null,Me=!1}function Jd(e){ur===null?ur=[e]:ur.push(e)}var Q1=tn.ReactCurrentBatchConfig;function jo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function Yi(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function om(e){var t=e._init;return t(e._payload)}function sv(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Cn(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,v,b){return p===null||p.tag!==6?(p=Ic(v,g.mode,b),p.return=g,p):(p=s(p,v),p.return=g,p)}function c(g,p,v,b){var j=v.type;return j===Ss?h(g,p,v.props.children,b,v.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===cn&&om(j)===p.type)?(b=s(p,v.props),b.ref=jo(g,p,v),b.return=g,b):(b=Ra(v.type,v.key,v.props,null,g.mode,b),b.ref=jo(g,p,v),b.return=g,b)}function u(g,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Ac(v,g.mode,b),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function h(g,p,v,b,j){return p===null||p.tag!==7?(p=Qn(v,g.mode,b,j),p.return=g,p):(p=s(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ic(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Fi:return v=Ra(p.type,p.key,p.props,null,g.mode,v),v.ref=jo(g,null,p),v.return=g,v;case Ns:return p=Ac(p,g.mode,v),p.return=g,p;case cn:var b=p._init;return f(g,b(p._payload),v)}if(Po(p)||vo(p))return p=Qn(p,g.mode,v,null),p.return=g,p;Yi(g,p)}return null}function m(g,p,v,b){var j=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(g,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fi:return v.key===j?c(g,p,v,b):null;case Ns:return v.key===j?u(g,p,v,b):null;case cn:return j=v._init,m(g,p,j(v._payload),b)}if(Po(v)||vo(v))return j!==null?null:h(g,p,v,b,null);Yi(g,v)}return null}function y(g,p,v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,l(p,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fi:return g=g.get(b.key===null?v:b.key)||null,c(p,g,b,j);case Ns:return g=g.get(b.key===null?v:b.key)||null,u(p,g,b,j);case cn:var T=b._init;return y(g,p,v,T(b._payload),j)}if(Po(b)||vo(b))return g=g.get(v)||null,h(p,g,b,j,null);Yi(p,b)}return null}function w(g,p,v,b){for(var j=null,T=null,C=p,k=p=0,_=null;C!==null&&k<v.length;k++){C.index>k?(_=C,C=null):_=C.sibling;var P=m(g,C,v[k],b);if(P===null){C===null&&(C=_);break}e&&C&&P.alternate===null&&t(g,C),p=i(P,p,k),T===null?j=P:T.sibling=P,T=P,C=_}if(k===v.length)return r(g,C),Me&&Bn(g,k),j;if(C===null){for(;k<v.length;k++)C=f(g,v[k],b),C!==null&&(p=i(C,p,k),T===null?j=C:T.sibling=C,T=C);return Me&&Bn(g,k),j}for(C=n(g,C);k<v.length;k++)_=y(C,g,k,v[k],b),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?k:_.key),p=i(_,p,k),T===null?j=_:T.sibling=_,T=_);return e&&C.forEach(function(F){return t(g,F)}),Me&&Bn(g,k),j}function x(g,p,v,b){var j=vo(v);if(typeof j!="function")throw Error(V(150));if(v=j.call(v),v==null)throw Error(V(151));for(var T=j=null,C=p,k=p=0,_=null,P=v.next();C!==null&&!P.done;k++,P=v.next()){C.index>k?(_=C,C=null):_=C.sibling;var F=m(g,C,P.value,b);if(F===null){C===null&&(C=_);break}e&&C&&F.alternate===null&&t(g,C),p=i(F,p,k),T===null?j=F:T.sibling=F,T=F,C=_}if(P.done)return r(g,C),Me&&Bn(g,k),j;if(C===null){for(;!P.done;k++,P=v.next())P=f(g,P.value,b),P!==null&&(p=i(P,p,k),T===null?j=P:T.sibling=P,T=P);return Me&&Bn(g,k),j}for(C=n(g,C);!P.done;k++,P=v.next())P=y(C,g,k,P.value,b),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),p=i(P,p,k),T===null?j=P:T.sibling=P,T=P);return e&&C.forEach(function(S){return t(g,S)}),Me&&Bn(g,k),j}function N(g,p,v,b){if(typeof v=="object"&&v!==null&&v.type===Ss&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fi:e:{for(var j=v.key,T=p;T!==null;){if(T.key===j){if(j=v.type,j===Ss){if(T.tag===7){r(g,T.sibling),p=s(T,v.props.children),p.return=g,g=p;break e}}else if(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===cn&&om(j)===T.type){r(g,T.sibling),p=s(T,v.props),p.ref=jo(g,T,v),p.return=g,g=p;break e}r(g,T);break}else t(g,T);T=T.sibling}v.type===Ss?(p=Qn(v.props.children,g.mode,b,v.key),p.return=g,g=p):(b=Ra(v.type,v.key,v.props,null,g.mode,b),b.ref=jo(g,p,v),b.return=g,g=b)}return a(g);case Ns:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Ac(v,g.mode,b),p.return=g,g=p}return a(g);case cn:return T=v._init,N(g,p,T(v._payload),b)}if(Po(v))return w(g,p,v,b);if(vo(v))return x(g,p,v,b);Yi(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,v),p.return=g,g=p):(r(g,p),p=Ic(v,g.mode,b),p.return=g,g=p),a(g)):r(g,p)}return N}var Gs=sv(!0),ov=sv(!1),qa=Ln(null),Qa=null,Is=null,Zd=null;function ef(){Zd=Is=Qa=null}function tf(e){var t=qa.current;Oe(qa),e._currentValue=t}function Lu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function zs(e,t){Qa=e,Zd=Is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(Zd!==e)if(e={context:e,memoizedValue:t,next:null},Is===null){if(Qa===null)throw Error(V(308));Is=e,Qa.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var Vn=null;function rf(e){Vn===null?Vn=[e]:Vn.push(e)}function iv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,rf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Yr(e,n)}function Yr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var un=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function av(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Yr(e,r)}return s=n.interleaved,s===null?(t.next=t,rf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Yr(e,r)}function Ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wd(e,r)}}function im(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ya(e,t,r,n){var s=e.updateQueue;un=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,y=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(y,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(y,f,m):w,m==null)break e;f=Ue({},f,m);break e;case 2:un=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ts|=a,e.lanes=a,e.memoizedState=f}}function am(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(V(191,s));s.call(n)}}}var Ni={},Tr=Ln(Ni),oi=Ln(Ni),ii=Ln(Ni);function Kn(e){if(e===Ni)throw Error(V(174));return e}function sf(e,t){switch(Pe(ii,t),Pe(oi,e),Pe(Tr,Ni),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pu(t,e)}Oe(Tr),Pe(Tr,t)}function Xs(){Oe(Tr),Oe(oi),Oe(ii)}function lv(e){Kn(ii.current);var t=Kn(Tr.current),r=pu(t,e.type);t!==r&&(Pe(oi,e),Pe(Tr,r))}function of(e){oi.current===e&&(Oe(Tr),Oe(oi))}var Fe=Ln(0);function Ja(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kc=[];function af(){for(var e=0;e<kc.length;e++)kc[e]._workInProgressVersionPrimary=null;kc.length=0}var ka=tn.ReactCurrentDispatcher,Ec=tn.ReactCurrentBatchConfig,es=0,We=null,Ze=null,tt=null,Za=!1,Bo=!1,ai=0,Y1=0;function ht(){throw Error(V(321))}function lf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mr(e[r],t[r]))return!1;return!0}function cf(e,t,r,n,s,i){if(es=i,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ka.current=e===null||e.memoizedState===null?tj:rj,e=r(n,s),Bo){i=0;do{if(Bo=!1,ai=0,25<=i)throw Error(V(301));i+=1,tt=Ze=null,t.updateQueue=null,ka.current=nj,e=r(n,s)}while(Bo)}if(ka.current=el,t=Ze!==null&&Ze.next!==null,es=0,tt=Ze=We=null,Za=!1,t)throw Error(V(300));return e}function uf(){var e=ai!==0;return ai=0,e}function jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?We.memoizedState=tt=e:tt=tt.next=e,tt}function Jt(){if(Ze===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=tt===null?We.memoizedState:tt.next;if(t!==null)tt=t,Ze=e;else{if(e===null)throw Error(V(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},tt===null?We.memoizedState=tt=e:tt=tt.next=e}return tt}function li(e,t){return typeof t=="function"?t(e):t}function Tc(e){var t=Jt(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=Ze,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((es&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,We.lanes|=h,ts|=h}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,mr(n,t.memoizedState)||(_t=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,We.lanes|=i,ts|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _c(e){var t=Jt(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);mr(i,t.memoizedState)||(_t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function cv(){}function uv(e,t){var r=We,n=Jt(),s=t(),i=!mr(n.memoizedState,s);if(i&&(n.memoizedState=s,_t=!0),n=n.queue,df(hv.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,ci(9,fv.bind(null,r,n,s,t),void 0,null),rt===null)throw Error(V(349));es&30||dv(r,t,s)}return s}function dv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fv(e,t,r,n){t.value=r,t.getSnapshot=n,mv(t)&&pv(e)}function hv(e,t,r){return r(function(){mv(t)&&pv(e)})}function mv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mr(e,r)}catch{return!0}}function pv(e){var t=Yr(e,1);t!==null&&hr(t,e,1,-1)}function lm(e){var t=jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t.queue=e,e=e.dispatch=ej.bind(null,We,e),[t.memoizedState,e]}function ci(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gv(){return Jt().memoizedState}function Ea(e,t,r,n){var s=jr();We.flags|=e,s.memoizedState=ci(1|t,r,void 0,n===void 0?null:n)}function El(e,t,r,n){var s=Jt();n=n===void 0?null:n;var i=void 0;if(Ze!==null){var a=Ze.memoizedState;if(i=a.destroy,n!==null&&lf(n,a.deps)){s.memoizedState=ci(t,r,i,n);return}}We.flags|=e,s.memoizedState=ci(1|t,r,i,n)}function cm(e,t){return Ea(8390656,8,e,t)}function df(e,t){return El(2048,8,e,t)}function vv(e,t){return El(4,2,e,t)}function xv(e,t){return El(4,4,e,t)}function yv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wv(e,t,r){return r=r!=null?r.concat([e]):null,El(4,4,yv.bind(null,t,e),r)}function ff(){}function bv(e,t){var r=Jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jv(e,t){var r=Jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Nv(e,t,r){return es&21?(mr(r,t)||(r=Tg(),We.lanes|=r,ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=r)}function J1(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=Ec.transition;Ec.transition={};try{e(!1),t()}finally{Ee=r,Ec.transition=n}}function Sv(){return Jt().memoizedState}function Z1(e,t,r){var n=Sn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cv(e))kv(t,r);else if(r=iv(e,t,r,n),r!==null){var s=jt();hr(r,e,n,s),Ev(r,t,n)}}function ej(e,t,r){var n=Sn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cv(e))kv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,mr(l,a)){var c=t.interleaved;c===null?(s.next=s,rf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=iv(e,t,s,n),r!==null&&(s=jt(),hr(r,e,n,s),Ev(r,t,n))}}function Cv(e){var t=e.alternate;return e===We||t!==null&&t===We}function kv(e,t){Bo=Za=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ev(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wd(e,r)}}var el={readContext:Yt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},tj={readContext:Yt,useCallback:function(e,t){return jr().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:cm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ea(4194308,4,yv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ea(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ea(4,2,e,t)},useMemo:function(e,t){var r=jr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Z1.bind(null,We,e),[n.memoizedState,e]},useRef:function(e){var t=jr();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:ff,useDeferredValue:function(e){return jr().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=J1.bind(null,e[1]),jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=We,s=jr();if(Me){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),rt===null)throw Error(V(349));es&30||dv(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,cm(hv.bind(null,n,i,e),[e]),n.flags|=2048,ci(9,fv.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=jr(),t=rt.identifierPrefix;if(Me){var r=Kr,n=Vr;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ai++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Y1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rj={readContext:Yt,useCallback:bv,useContext:Yt,useEffect:df,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:xv,useMemo:jv,useReducer:Tc,useRef:gv,useState:function(){return Tc(li)},useDebugValue:ff,useDeferredValue:function(e){var t=Jt();return Nv(t,Ze.memoizedState,e)},useTransition:function(){var e=Tc(li)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:cv,useSyncExternalStore:uv,useId:Sv,unstable_isNewReconciler:!1},nj={readContext:Yt,useCallback:bv,useContext:Yt,useEffect:df,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:xv,useMemo:jv,useReducer:_c,useRef:gv,useState:function(){return _c(li)},useDebugValue:ff,useDeferredValue:function(e){var t=Jt();return Ze===null?t.memoizedState=e:Nv(t,Ze.memoizedState,e)},useTransition:function(){var e=_c(li)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:cv,useSyncExternalStore:uv,useId:Sv,unstable_isNewReconciler:!1};function lr(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tl={isMounted:function(e){return(e=e._reactInternals)?cs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jt(),s=Sn(e),i=Gr(n,s);i.payload=t,r!=null&&(i.callback=r),t=jn(e,i,s),t!==null&&(hr(t,e,s,n),Ca(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jt(),s=Sn(e),i=Gr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=jn(e,i,s),t!==null&&(hr(t,e,s,n),Ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jt(),n=Sn(e),s=Gr(r,n);s.tag=2,t!=null&&(s.callback=t),t=jn(e,s,n),t!==null&&(hr(t,e,n,r),Ca(t,e,n))}};function um(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ti(r,n)||!ti(s,i):!0}function Tv(e,t,r){var n=!1,s=Tn,i=t.contextType;return typeof i=="object"&&i!==null?i=Yt(i):(s=Rt(t)?Jn:vt.current,n=t.contextTypes,i=(n=n!=null)?Vs(e,s):Tn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function dm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Tl.enqueueReplaceState(t,t.state,null)}function Du(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},nf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Yt(i):(i=Rt(t)?Jn:vt.current,s.context=Vs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Tl.enqueueReplaceState(s,s.state,null),Ya(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qs(e,t){try{var r="",n=t;do r+=Rb(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Pc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $u(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sj=typeof WeakMap=="function"?WeakMap:Map;function _v(e,t,r){r=Gr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rl||(rl=!0,Xu=n),$u(e,t)},r}function Pv(e,t,r){r=Gr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){$u(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$u(e,t),typeof n!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function fm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=xj.bind(null,e,t,r),t.then(e,e))}function hm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gr(-1,1),t.tag=2,jn(r,t,1))),r.lanes|=1),e)}var oj=tn.ReactCurrentOwner,_t=!1;function wt(e,t,r,n){t.child=e===null?ov(t,null,r,n):Gs(t,e.child,r,n)}function pm(e,t,r,n,s){r=r.render;var i=t.ref;return zs(t,s),n=cf(e,t,r,n,i,s),r=uf(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jr(e,t,s)):(Me&&r&&Qd(t),t.flags|=1,wt(e,t,n,s),t.child)}function gm(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!wf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Rv(e,t,i,n,s)):(e=Ra(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ti,r(a,n)&&e.ref===t.ref)return Jr(e,t,s)}return t.flags|=1,e=Cn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Rv(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ti(i,n)&&e.ref===t.ref)if(_t=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Jr(e,t,s)}return zu(e,t,r,n,s)}function Iv(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Os,Ot),Ot|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Os,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Pe(Os,Ot),Ot|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Pe(Os,Ot),Ot|=n;return wt(e,t,s,r),t.child}function Av(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zu(e,t,r,n,s){var i=Rt(r)?Jn:vt.current;return i=Vs(t,i),zs(t,s),r=cf(e,t,r,n,i,s),n=uf(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jr(e,t,s)):(Me&&n&&Qd(t),t.flags|=1,wt(e,t,r,s),t.child)}function vm(e,t,r,n,s){if(Rt(r)){var i=!0;Ka(t)}else i=!1;if(zs(t,s),t.stateNode===null)Ta(e,t),Tv(t,r,n),Du(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Yt(u):(u=Rt(r)?Jn:vt.current,u=Vs(t,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&dm(t,a,n,u),un=!1;var m=t.memoizedState;a.state=m,Ya(t,n,a,s),c=t.memoizedState,l!==n||m!==c||Pt.current||un?(typeof h=="function"&&(Mu(t,r,h,n),c=t.memoizedState),(l=un||um(t,r,l,n,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,av(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:lr(t.type,l),a.props=u,f=t.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Yt(c):(c=Rt(r)?Jn:vt.current,c=Vs(t,c));var y=r.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&dm(t,a,n,c),un=!1,m=t.memoizedState,a.state=m,Ya(t,n,a,s);var w=t.memoizedState;l!==f||m!==w||Pt.current||un?(typeof y=="function"&&(Mu(t,r,y,n),w=t.memoizedState),(u=un||um(t,r,u,n,m,w,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Fu(e,t,r,n,i,s)}function Fu(e,t,r,n,s,i){Av(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&rm(t,r,!1),Jr(e,t,i);n=t.stateNode,oj.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Gs(t,e.child,null,i),t.child=Gs(t,null,l,i)):wt(e,t,l,i),t.memoizedState=n.state,s&&rm(t,r,!0),t.child}function Ov(e){var t=e.stateNode;t.pendingContext?tm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tm(e,t.context,!1),sf(e,t.containerInfo)}function xm(e,t,r,n,s){return Ks(),Jd(s),t.flags|=256,wt(e,t,r,n),t.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lv(e,t,r){var n=t.pendingProps,s=Fe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pe(Fe,s&1),e===null)return Ou(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Rl(a,n,0,null),e=Qn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wu(r),t.memoizedState=Bu,e):hf(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ij(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Cn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Cn(l,i):(i=Qn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Wu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Bu,n}return i=e.child,e=i.sibling,n=Cn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hf(e,t){return t=Rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ji(e,t,r,n){return n!==null&&Jd(n),Gs(t,e.child,null,r),e=hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ij(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Pc(Error(V(422))),Ji(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Rl({mode:"visible",children:n.children},s,0,null),i=Qn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Gs(t,e.child,null,a),t.child.memoizedState=Wu(a),t.memoizedState=Bu,i);if(!(t.mode&1))return Ji(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(V(419)),n=Pc(i,n,void 0),Ji(e,t,a,n)}if(l=(a&e.childLanes)!==0,_t||l){if(n=rt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yr(e,s),hr(n,e,s,-1))}return yf(),n=Pc(Error(V(421))),Ji(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Dt=bn(s.nextSibling),$t=t,Me=!0,ur=null,e!==null&&(Kt[Gt++]=Vr,Kt[Gt++]=Kr,Kt[Gt++]=Zn,Vr=e.id,Kr=e.overflow,Zn=t),t=hf(t,n.children),t.flags|=4096,t)}function ym(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lu(e.return,t,r)}function Rc(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Mv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(wt(e,t,n.children,r),n=Fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,r,t);else if(e.tag===19)ym(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pe(Fe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ja(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Rc(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ja(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Rc(t,!0,r,null,i);break;case"together":Rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=Cn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aj(e,t,r){switch(t.tag){case 3:Ov(t),Ks();break;case 5:lv(t);break;case 1:Rt(t.type)&&Ka(t);break;case 4:sf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Pe(qa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pe(Fe,Fe.current&1),t.flags|=128,null):r&t.child.childLanes?Lv(e,t,r):(Pe(Fe,Fe.current&1),e=Jr(e,t,r),e!==null?e.sibling:null);Pe(Fe,Fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Mv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,Iv(e,t,r)}return Jr(e,t,r)}var Dv,Uu,$v,zv;Dv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uu=function(){};$v=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Kn(Tr.current);var i=null;switch(r){case"input":s=du(e,s),n=du(e,n),i=[];break;case"select":s=Ue({},s,{value:void 0}),n=Ue({},n,{value:void 0}),i=[];break;case"textarea":s=mu(e,s),n=mu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ha)}gu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ae("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};zv=function(e,t,r,n){r!==n&&(t.flags|=4)};function No(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lj(e,t,r){var n=t.pendingProps;switch(Yd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return Rt(t.type)&&Va(),mt(t),null;case 3:return n=t.stateNode,Xs(),Oe(Pt),Oe(vt),af(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ur!==null&&(Yu(ur),ur=null))),Uu(e,t),mt(t),null;case 5:of(t);var s=Kn(ii.current);if(r=t.type,e!==null&&t.stateNode!=null)$v(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return mt(t),null}if(e=Kn(Tr.current),Qi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Nr]=t,n[si]=i,e=(t.mode&1)!==0,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(s=0;s<Io.length;s++)Ae(Io[s],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Th(n,i),Ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",n);break;case"textarea":Ph(n,i),Ae("invalid",n)}gu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&qi(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qi(n.textContent,l,e),s=["children",""+l]):Xo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ae("scroll",n)}switch(r){case"input":Bi(n),_h(n,i,!0);break;case"textarea":Bi(n),Rh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ha)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Nr]=t,e[si]=n,Dv(e,t,!1,!1),t.stateNode=e;e:{switch(a=vu(r,n),r){case"dialog":Ae("cancel",e),Ae("close",e),s=n;break;case"iframe":case"object":case"embed":Ae("load",e),s=n;break;case"video":case"audio":for(s=0;s<Io.length;s++)Ae(Io[s],e);s=n;break;case"source":Ae("error",e),s=n;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),s=n;break;case"details":Ae("toggle",e),s=n;break;case"input":Th(e,n),s=du(e,n),Ae("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ue({},n,{value:void 0}),Ae("invalid",e);break;case"textarea":Ph(e,n),s=mu(e,n),Ae("invalid",e);break;default:s=n}gu(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?gg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mg(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qo(e,c):typeof c=="number"&&qo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ae("scroll",e):c!=null&&Md(e,i,c,a))}switch(r){case"input":Bi(e),_h(e,n,!1);break;case"textarea":Bi(e),Rh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+En(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ls(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ls(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ha)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)zv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=Kn(ii.current),Kn(Tr.current),Qi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nr]=t,(i=n.nodeValue!==r)&&(e=$t,e!==null))switch(e.tag){case 3:qi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nr]=t,t.stateNode=n}return mt(t),null;case 13:if(Oe(Fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Dt!==null&&t.mode&1&&!(t.flags&128))nv(),Ks(),t.flags|=98560,i=!1;else if(i=Qi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Nr]=t}else Ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),i=!1}else ur!==null&&(Yu(ur),ur=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?et===0&&(et=3):yf())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return Xs(),Uu(e,t),e===null&&ri(t.stateNode.containerInfo),mt(t),null;case 10:return tf(t.type._context),mt(t),null;case 17:return Rt(t.type)&&Va(),mt(t),null;case 19:if(Oe(Fe),i=t.memoizedState,i===null)return mt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)No(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ja(e),a!==null){for(t.flags|=128,No(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pe(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>Qs&&(t.flags|=128,n=!0,No(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ja(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),No(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Me)return mt(t),null}else 2*Ge()-i.renderingStartTime>Qs&&r!==1073741824&&(t.flags|=128,n=!0,No(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,r=Fe.current,Pe(Fe,n?r&1|2:r&1),t):(mt(t),null);case 22:case 23:return xf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ot&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function cj(e,t){switch(Yd(t),t.tag){case 1:return Rt(t.type)&&Va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xs(),Oe(Pt),Oe(vt),af(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return of(t),null;case 13:if(Oe(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Fe),null;case 4:return Xs(),null;case 10:return tf(t.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Zi=!1,pt=!1,uj=typeof WeakSet=="function"?WeakSet:Set,ne=null;function As(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Hu(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var wm=!1;function dj(e,t){if(Eu=Ba,e=Hg(),qd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=a),m===i&&++h===n&&(c=a),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tu={focusedElem:e,selectionRange:r},Ba=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,N=w.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:lr(t.type,x),N);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(b){Ve(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return w=wm,wm=!1,w}function Wo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hu(t,r,i)}s=s.next}while(s!==n)}}function _l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Vu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Fv(e){var t=e.alternate;t!==null&&(e.alternate=null,Fv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[si],delete t[Ru],delete t[G1],delete t[X1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bv(e){return e.tag===5||e.tag===3||e.tag===4}function bm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ku(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ha));else if(n!==4&&(e=e.child,e!==null))for(Ku(e,t,r),e=e.sibling;e!==null;)Ku(e,t,r),e=e.sibling}function Gu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Gu(e,t,r),e=e.sibling;e!==null;)Gu(e,t,r),e=e.sibling}var it=null,cr=!1;function on(e,t,r){for(r=r.child;r!==null;)Wv(e,t,r),r=r.sibling}function Wv(e,t,r){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(bl,r)}catch{}switch(r.tag){case 5:pt||As(r,t);case 6:var n=it,s=cr;it=null,on(e,t,r),it=n,cr=s,it!==null&&(cr?(e=it,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):it.removeChild(r.stateNode));break;case 18:it!==null&&(cr?(e=it,r=r.stateNode,e.nodeType===8?Sc(e.parentNode,r):e.nodeType===1&&Sc(e,r),Zo(e)):Sc(it,r.stateNode));break;case 4:n=it,s=cr,it=r.stateNode.containerInfo,cr=!0,on(e,t,r),it=n,cr=s;break;case 0:case 11:case 14:case 15:if(!pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Hu(r,t,a),s=s.next}while(s!==n)}on(e,t,r);break;case 1:if(!pt&&(As(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ve(r,t,l)}on(e,t,r);break;case 21:on(e,t,r);break;case 22:r.mode&1?(pt=(n=pt)||r.memoizedState!==null,on(e,t,r),pt=n):on(e,t,r);break;default:on(e,t,r)}}function jm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uj),t.forEach(function(n){var s=wj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function sr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:it=l.stateNode,cr=!1;break e;case 3:it=l.stateNode.containerInfo,cr=!0;break e;case 4:it=l.stateNode.containerInfo,cr=!0;break e}l=l.return}if(it===null)throw Error(V(160));Wv(i,a,s),it=null,cr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uv(t,e),t=t.sibling}function Uv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sr(t,e),br(e),n&4){try{Wo(3,e,e.return),_l(3,e)}catch(x){Ve(e,e.return,x)}try{Wo(5,e,e.return)}catch(x){Ve(e,e.return,x)}}break;case 1:sr(t,e),br(e),n&512&&r!==null&&As(r,r.return);break;case 5:if(sr(t,e),br(e),n&512&&r!==null&&As(r,r.return),e.flags&32){var s=e.stateNode;try{qo(s,"")}catch(x){Ve(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dg(s,i),vu(l,a);var u=vu(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?gg(s,f):h==="dangerouslySetInnerHTML"?mg(s,f):h==="children"?qo(s,f):Md(s,h,f,u)}switch(l){case"input":fu(s,i);break;case"textarea":fg(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ls(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ls(s,!!i.multiple,i.defaultValue,!0):Ls(s,!!i.multiple,i.multiple?[]:"",!1))}s[si]=i}catch(x){Ve(e,e.return,x)}}break;case 6:if(sr(t,e),br(e),n&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ve(e,e.return,x)}}break;case 3:if(sr(t,e),br(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zo(t.containerInfo)}catch(x){Ve(e,e.return,x)}break;case 4:sr(t,e),br(e);break;case 13:sr(t,e),br(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gf=Ge())),n&4&&jm(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(pt=(u=pt)||h,sr(t,e),pt=u):sr(t,e),br(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(ne=e,h=e.child;h!==null;){for(f=ne=h;ne!==null;){switch(m=ne,y=m.child,m.tag){case 0:case 11:case 14:case 15:Wo(4,m,m.return);break;case 1:As(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ve(n,r,x)}}break;case 5:As(m,m.return);break;case 22:if(m.memoizedState!==null){Sm(f);continue}}y!==null?(y.return=m,ne=y):Sm(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=pg("display",a))}catch(x){Ve(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ve(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sr(t,e),br(e),n&4&&jm(e);break;case 21:break;default:sr(t,e),br(e)}}function br(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bv(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qo(s,""),n.flags&=-33);var i=bm(e);Gu(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=bm(e);Ku(e,l,a);break;default:throw Error(V(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fj(e,t,r){ne=e,Hv(e)}function Hv(e,t,r){for(var n=(e.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Zi;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pt;l=Zi;var u=pt;if(Zi=a,(pt=c)&&!u)for(ne=s;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?Cm(s):c!==null?(c.return=a,ne=c):Cm(s);for(;i!==null;)ne=i,Hv(i),i=i.sibling;ne=s,Zi=l,pt=u}Nm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):Nm(e)}}function Nm(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||_l(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:lr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&am(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}am(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Zo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}pt||t.flags&512&&Vu(t)}catch(m){Ve(t,t.return,m)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Sm(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Cm(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_l(4,t)}catch(c){Ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ve(t,s,c)}}var i=t.return;try{Vu(t)}catch(c){Ve(t,i,c)}break;case 5:var a=t.return;try{Vu(t)}catch(c){Ve(t,a,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ne=l;break}ne=t.return}}var hj=Math.ceil,tl=tn.ReactCurrentDispatcher,mf=tn.ReactCurrentOwner,qt=tn.ReactCurrentBatchConfig,be=0,rt=null,Qe=null,ct=0,Ot=0,Os=Ln(0),et=0,ui=null,ts=0,Pl=0,pf=0,Uo=null,Et=null,gf=0,Qs=1/0,Ur=null,rl=!1,Xu=null,Nn=null,ea=!1,vn=null,nl=0,Ho=0,qu=null,_a=-1,Pa=0;function jt(){return be&6?Ge():_a!==-1?_a:_a=Ge()}function Sn(e){return e.mode&1?be&2&&ct!==0?ct&-ct:Q1.transition!==null?(Pa===0&&(Pa=Tg()),Pa):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Lg(e.type)),e):1}function hr(e,t,r,n){if(50<Ho)throw Ho=0,qu=null,Error(V(185));wi(e,r,n),(!(be&2)||e!==rt)&&(e===rt&&(!(be&2)&&(Pl|=r),et===4&&hn(e,ct)),It(e,n),r===1&&be===0&&!(t.mode&1)&&(Qs=Ge()+500,kl&&Mn()))}function It(e,t){var r=e.callbackNode;Qb(e,t);var n=Fa(e,e===rt?ct:0);if(n===0)r!==null&&Oh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Oh(r),t===1)e.tag===0?q1(km.bind(null,e)):ev(km.bind(null,e)),V1(function(){!(be&6)&&Mn()}),r=null;else{switch(_g(n)){case 1:r=Bd;break;case 4:r=kg;break;case 16:r=za;break;case 536870912:r=Eg;break;default:r=za}r=Jv(r,Vv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vv(e,t){if(_a=-1,Pa=0,be&6)throw Error(V(327));var r=e.callbackNode;if(Fs()&&e.callbackNode!==r)return null;var n=Fa(e,e===rt?ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sl(e,n);else{t=n;var s=be;be|=2;var i=Gv();(rt!==e||ct!==t)&&(Ur=null,Qs=Ge()+500,qn(e,t));do try{gj();break}catch(l){Kv(e,l)}while(!0);ef(),tl.current=i,be=s,Qe!==null?t=0:(rt=null,ct=0,t=et)}if(t!==0){if(t===2&&(s=ju(e),s!==0&&(n=s,t=Qu(e,s))),t===1)throw r=ui,qn(e,0),hn(e,n),It(e,Ge()),r;if(t===6)hn(e,n);else{if(s=e.current.alternate,!(n&30)&&!mj(s)&&(t=sl(e,n),t===2&&(i=ju(e),i!==0&&(n=i,t=Qu(e,i))),t===1))throw r=ui,qn(e,0),hn(e,n),It(e,Ge()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:Wn(e,Et,Ur);break;case 3:if(hn(e,n),(n&130023424)===n&&(t=gf+500-Ge(),10<t)){if(Fa(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){jt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pu(Wn.bind(null,e,Et,Ur),t);break}Wn(e,Et,Ur);break;case 4:if(hn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-fr(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hj(n/1960))-n,10<n){e.timeoutHandle=Pu(Wn.bind(null,e,Et,Ur),n);break}Wn(e,Et,Ur);break;case 5:Wn(e,Et,Ur);break;default:throw Error(V(329))}}}return It(e,Ge()),e.callbackNode===r?Vv.bind(null,e):null}function Qu(e,t){var r=Uo;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=sl(e,t),e!==2&&(t=Et,Et=r,t!==null&&Yu(t)),e}function Yu(e){Et===null?Et=e:Et.push.apply(Et,e)}function mj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!mr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hn(e,t){for(t&=~pf,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fr(t),n=1<<r;e[r]=-1,t&=~n}}function km(e){if(be&6)throw Error(V(327));Fs();var t=Fa(e,0);if(!(t&1))return It(e,Ge()),null;var r=sl(e,t);if(e.tag!==0&&r===2){var n=ju(e);n!==0&&(t=n,r=Qu(e,n))}if(r===1)throw r=ui,qn(e,0),hn(e,t),It(e,Ge()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wn(e,Et,Ur),It(e,Ge()),null}function vf(e,t){var r=be;be|=1;try{return e(t)}finally{be=r,be===0&&(Qs=Ge()+500,kl&&Mn())}}function rs(e){vn!==null&&vn.tag===0&&!(be&6)&&Fs();var t=be;be|=1;var r=qt.transition,n=Ee;try{if(qt.transition=null,Ee=1,e)return e()}finally{Ee=n,qt.transition=r,be=t,!(be&6)&&Mn()}}function xf(){Ot=Os.current,Oe(Os)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,H1(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(Yd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Va();break;case 3:Xs(),Oe(Pt),Oe(vt),af();break;case 5:of(n);break;case 4:Xs();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:tf(n.type._context);break;case 22:case 23:xf()}r=r.return}if(rt=e,Qe=e=Cn(e.current,null),ct=Ot=t,et=0,ui=null,pf=Pl=ts=0,Et=Uo=null,Vn!==null){for(t=0;t<Vn.length;t++)if(r=Vn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Vn=null}return e}function Kv(e,t){do{var r=Qe;try{if(ef(),ka.current=el,Za){for(var n=We.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Za=!1}if(es=0,tt=Ze=We=null,Bo=!1,ai=0,mf.current=null,r===null||r.return===null){et=1,ui=t,Qe=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=hm(a);if(y!==null){y.flags&=-257,mm(y,a,l,i,t),y.mode&1&&fm(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){fm(i,u,t),yf();break e}c=Error(V(426))}}else if(Me&&l.mode&1){var N=hm(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),mm(N,a,l,i,t),Jd(qs(c,l));break e}}i=c=qs(c,l),et!==4&&(et=2),Uo===null?Uo=[i]:Uo.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=_v(i,c,t);im(i,g);break e;case 1:l=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Nn===null||!Nn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Pv(i,l,t);im(i,b);break e}}i=i.return}while(i!==null)}qv(r)}catch(j){t=j,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function Gv(){var e=tl.current;return tl.current=el,e===null?el:e}function yf(){(et===0||et===3||et===2)&&(et=4),rt===null||!(ts&268435455)&&!(Pl&268435455)||hn(rt,ct)}function sl(e,t){var r=be;be|=2;var n=Gv();(rt!==e||ct!==t)&&(Ur=null,qn(e,t));do try{pj();break}catch(s){Kv(e,s)}while(!0);if(ef(),be=r,tl.current=n,Qe!==null)throw Error(V(261));return rt=null,ct=0,et}function pj(){for(;Qe!==null;)Xv(Qe)}function gj(){for(;Qe!==null&&!Bb();)Xv(Qe)}function Xv(e){var t=Yv(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?qv(e):Qe=t,mf.current=null}function qv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cj(r,t),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Qe=null;return}}else if(r=lj(r,t,Ot),r!==null){Qe=r;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);et===0&&(et=5)}function Wn(e,t,r){var n=Ee,s=qt.transition;try{qt.transition=null,Ee=1,vj(e,t,r,n)}finally{qt.transition=s,Ee=n}return null}function vj(e,t,r,n){do Fs();while(vn!==null);if(be&6)throw Error(V(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Yb(e,i),e===rt&&(Qe=rt=null,ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ea||(ea=!0,Jv(za,function(){return Fs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qt.transition,qt.transition=null;var a=Ee;Ee=1;var l=be;be|=4,mf.current=null,dj(e,r),Uv(r,e),D1(Tu),Ba=!!Eu,Tu=Eu=null,e.current=r,fj(r),Wb(),be=l,Ee=a,qt.transition=i}else e.current=r;if(ea&&(ea=!1,vn=e,nl=s),i=e.pendingLanes,i===0&&(Nn=null),Vb(r.stateNode),It(e,Ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(rl)throw rl=!1,e=Xu,Xu=null,e;return nl&1&&e.tag!==0&&Fs(),i=e.pendingLanes,i&1?e===qu?Ho++:(Ho=0,qu=e):Ho=0,Mn(),null}function Fs(){if(vn!==null){var e=_g(nl),t=qt.transition,r=Ee;try{if(qt.transition=null,Ee=16>e?16:e,vn===null)var n=!1;else{if(e=vn,vn=null,nl=0,be&6)throw Error(V(331));var s=be;for(be|=4,ne=e.current;ne!==null;){var i=ne,a=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Wo(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var m=h.sibling,y=h.return;if(Fv(h),h===u){ne=null;break}if(m!==null){m.return=y,ne=m;break}ne=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}ne=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ne=a;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ne=g;break e}ne=i.return}}var p=e.current;for(ne=p;ne!==null;){a=ne;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,ne=v;else e:for(a=p;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_l(9,l)}}catch(j){Ve(l,l.return,j)}if(l===a){ne=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ne=b;break e}ne=l.return}}if(be=s,Mn(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(bl,e)}catch{}n=!0}return n}finally{Ee=r,qt.transition=t}}return!1}function Em(e,t,r){t=qs(r,t),t=_v(e,t,1),e=jn(e,t,1),t=jt(),e!==null&&(wi(e,1,t),It(e,t))}function Ve(e,t,r){if(e.tag===3)Em(e,e,r);else for(;t!==null;){if(t.tag===3){Em(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nn===null||!Nn.has(n))){e=qs(r,e),e=Pv(t,e,1),t=jn(t,e,1),e=jt(),t!==null&&(wi(t,1,e),It(t,e));break}}t=t.return}}function xj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(ct&r)===r&&(et===4||et===3&&(ct&130023424)===ct&&500>Ge()-gf?qn(e,0):pf|=r),It(e,t)}function Qv(e,t){t===0&&(e.mode&1?(t=Hi,Hi<<=1,!(Hi&130023424)&&(Hi=4194304)):t=1);var r=jt();e=Yr(e,t),e!==null&&(wi(e,t,r),It(e,r))}function yj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Qv(e,r)}function wj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),Qv(e,r)}var Yv;Yv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)_t=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _t=!1,aj(e,t,r);_t=!!(e.flags&131072)}else _t=!1,Me&&t.flags&1048576&&tv(t,Xa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ta(e,t),e=t.pendingProps;var s=Vs(t,vt.current);zs(t,r),s=cf(null,t,n,e,s,r);var i=uf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(n)?(i=!0,Ka(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nf(t),s.updater=Tl,t.stateNode=s,s._reactInternals=t,Du(t,n,e,r),t=Fu(null,t,n,!0,i,r)):(t.tag=0,Me&&i&&Qd(t),wt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ta(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=jj(n),e=lr(n,e),s){case 0:t=zu(null,t,n,e,r);break e;case 1:t=vm(null,t,n,e,r);break e;case 11:t=pm(null,t,n,e,r);break e;case 14:t=gm(null,t,n,lr(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),zu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),vm(e,t,n,s,r);case 3:e:{if(Ov(t),e===null)throw Error(V(387));n=t.pendingProps,i=t.memoizedState,s=i.element,av(e,t),Ya(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=qs(Error(V(423)),t),t=xm(e,t,n,r,s);break e}else if(n!==s){s=qs(Error(V(424)),t),t=xm(e,t,n,r,s);break e}else for(Dt=bn(t.stateNode.containerInfo.firstChild),$t=t,Me=!0,ur=null,r=ov(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),n===s){t=Jr(e,t,r);break e}wt(e,t,n,r)}t=t.child}return t;case 5:return lv(t),e===null&&Ou(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,_u(n,s)?a=null:i!==null&&_u(n,i)&&(t.flags|=32),Av(e,t),wt(e,t,a,r),t.child;case 6:return e===null&&Ou(t),null;case 13:return Lv(e,t,r);case 4:return sf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gs(t,null,n,r):wt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),pm(e,t,n,s,r);case 7:return wt(e,t,t.pendingProps,r),t.child;case 8:return wt(e,t,t.pendingProps.children,r),t.child;case 12:return wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Pe(qa,n._currentValue),n._currentValue=a,i!==null)if(mr(i.value,a)){if(i.children===s.children&&!Pt.current){t=Jr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Gr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Lu(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(V(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Lu(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}wt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,zs(t,r),s=Yt(s),n=n(s),t.flags|=1,wt(e,t,n,r),t.child;case 14:return n=t.type,s=lr(n,t.pendingProps),s=lr(n.type,s),gm(e,t,n,s,r);case 15:return Rv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),Ta(e,t),t.tag=1,Rt(n)?(e=!0,Ka(t)):e=!1,zs(t,r),Tv(t,n,s),Du(t,n,s,r),Fu(null,t,n,!0,e,r);case 19:return Mv(e,t,r);case 22:return Iv(e,t,r)}throw Error(V(156,t.tag))};function Jv(e,t){return Cg(e,t)}function bj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,r,n){return new bj(e,t,r,n)}function wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jj(e){if(typeof e=="function")return wf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$d)return 11;if(e===zd)return 14}return 2}function Cn(e,t){var r=e.alternate;return r===null?(r=Xt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ra(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")wf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ss:return Qn(r.children,s,i,t);case Dd:a=8,s|=8;break;case au:return e=Xt(12,r,t,s|2),e.elementType=au,e.lanes=i,e;case lu:return e=Xt(13,r,t,s),e.elementType=lu,e.lanes=i,e;case cu:return e=Xt(19,r,t,s),e.elementType=cu,e.lanes=i,e;case lg:return Rl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ig:a=10;break e;case ag:a=9;break e;case $d:a=11;break e;case zd:a=14;break e;case cn:a=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Xt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Qn(e,t,r,n){return e=Xt(7,e,n,t),e.lanes=r,e}function Rl(e,t,r,n){return e=Xt(22,e,n,t),e.elementType=lg,e.lanes=r,e.stateNode={isHidden:!1},e}function Ic(e,t,r){return e=Xt(6,e,null,t),e.lanes=r,e}function Ac(e,t,r){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hc(0),this.expirationTimes=hc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bf(e,t,r,n,s,i,a,l,c){return e=new Nj(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(i),e}function Sj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Zv(e){if(!e)return Tn;e=e._reactInternals;e:{if(cs(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(Rt(r))return Zg(e,r,t)}return t}function ex(e,t,r,n,s,i,a,l,c){return e=bf(r,n,!0,e,s,i,a,l,c),e.context=Zv(null),r=e.current,n=jt(),s=Sn(r),i=Gr(n,s),i.callback=t??null,jn(r,i,s),e.current.lanes=s,wi(e,s,n),It(e,n),e}function Il(e,t,r,n){var s=t.current,i=jt(),a=Sn(s);return r=Zv(r),t.context===null?t.context=r:t.pendingContext=r,t=Gr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=jn(s,t,a),e!==null&&(hr(e,s,a,i),Ca(e,s,a)),a}function ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jf(e,t){Tm(e,t),(e=e.alternate)&&Tm(e,t)}function Cj(){return null}var tx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nf(e){this._internalRoot=e}Al.prototype.render=Nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Il(e,t,null,null)};Al.prototype.unmount=Nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rs(function(){Il(null,e,null,null)}),t[Qr]=null}};function Al(e){this._internalRoot=e}Al.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ig();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fn.length&&t!==0&&t<fn[r].priority;r++);fn.splice(r,0,e),r===0&&Og(e)}};function Sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _m(){}function kj(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ol(a);i.call(u)}}var a=ex(t,n,e,0,null,!1,!1,"",_m);return e._reactRootContainer=a,e[Qr]=a.current,ri(e.nodeType===8?e.parentNode:e),rs(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ol(c);l.call(u)}}var c=bf(e,0,!1,null,null,!1,!1,"",_m);return e._reactRootContainer=c,e[Qr]=c.current,ri(e.nodeType===8?e.parentNode:e),rs(function(){Il(t,c,r,n)}),c}function Ll(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ol(a);l.call(c)}}Il(t,a,e,s)}else a=kj(r,t,e,s,n);return ol(a)}Pg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ro(t.pendingLanes);r!==0&&(Wd(t,r|1),It(t,Ge()),!(be&6)&&(Qs=Ge()+500,Mn()))}break;case 13:rs(function(){var n=Yr(e,1);if(n!==null){var s=jt();hr(n,e,1,s)}}),jf(e,1)}};Ud=function(e){if(e.tag===13){var t=Yr(e,134217728);if(t!==null){var r=jt();hr(t,e,134217728,r)}jf(e,134217728)}};Rg=function(e){if(e.tag===13){var t=Sn(e),r=Yr(e,t);if(r!==null){var n=jt();hr(r,e,t,n)}jf(e,t)}};Ig=function(){return Ee};Ag=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};yu=function(e,t,r){switch(t){case"input":if(fu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Cl(n);if(!s)throw Error(V(90));ug(n),fu(n,s)}}}break;case"textarea":fg(e,r);break;case"select":t=r.value,t!=null&&Ls(e,!!r.multiple,t,!1)}};yg=vf;wg=rs;var Ej={usingClientEntryPoint:!1,Events:[ji,Ts,Cl,vg,xg,vf]},So={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tj={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ng(e),e===null?null:e.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||Cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{bl=ta.inject(Tj),Er=ta}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ej;Bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(t))throw Error(V(200));return Sj(e,t,null,r)};Bt.createRoot=function(e,t){if(!Sf(e))throw Error(V(299));var r=!1,n="",s=tx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=bf(e,1,!1,null,null,r,!1,n,s),e[Qr]=t.current,ri(e.nodeType===8?e.parentNode:e),new Nf(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Ng(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return rs(e)};Bt.hydrate=function(e,t,r){if(!Ol(t))throw Error(V(200));return Ll(null,e,t,!0,r)};Bt.hydrateRoot=function(e,t,r){if(!Sf(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=tx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=ex(t,null,e,1,r??null,s,!1,i,a),e[Qr]=t.current,ri(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Al(t)};Bt.render=function(e,t,r){if(!Ol(t))throw Error(V(200));return Ll(null,e,t,!1,r)};Bt.unmountComponentAtNode=function(e){if(!Ol(e))throw Error(V(40));return e._reactRootContainer?(rs(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[Qr]=null})}),!0):!1};Bt.unstable_batchedUpdates=vf;Bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ol(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Ll(e,t,r,!1,n)};Bt.version="18.3.1-next-f1338f8080-20240426";function rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rx)}catch(e){console.error(e)}}rx(),rg.exports=Bt;var so=rg.exports;const _j=_d(so);var Pm=so;ou.createRoot=Pm.createRoot,ou.hydrateRoot=Pm.hydrateRoot;var Pj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ij=(e,t)=>{const r=d.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>d.createElement("svg",{ref:u,...Pj,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Rj(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var ie=Ij;const oo=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Rm=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Cf=ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),nx=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Bs=ie("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),sx=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vo=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),dn=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Aj=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Im=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Yn=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ra=ie("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Oj=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),di=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Lj=ie("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),il=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),_n=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),kf=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Mj=ie("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Oc=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),dr=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),al=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Dj=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),$j=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zj=ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Ia=ie("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Ef=ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Fj=ie("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ox=ie("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),ll=ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Am=ie("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Bj=ie("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Om=ie("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Nt=ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Qt=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),us=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Tf=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Wj=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Uj=ie("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Hj=ie("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Vj=ie("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Pn=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Lm=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ju=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),_f=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Kj=ie("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Gj=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ix=ie("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Pf=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Mm=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),lt=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Xj=ie("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),qj=ie("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Qj=ie("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Yj=ie("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Jj=ie("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),pr=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Dm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ax(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Dm(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Dm(e[s],null)}}}}function xe(...e){return d.useCallback(ax(...e),e)}function Ys(e){const t=Zj(e),r=d.forwardRef((n,s)=>{const{children:i,...a}=n,l=d.Children.toArray(i),c=l.find(tN);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var lx=Ys("Slot");function Zj(e){const t=d.forwardRef((r,n)=>{const{children:s,...i}=r;if(d.isValidElement(s)){const a=nN(s),l=rN(i,s.props);return s.type!==d.Fragment&&(l.ref=n?ax(n,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eN=Symbol("radix.slottable");function tN(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eN}function rN(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function nN(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function cx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=cx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ux(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=cx(e))&&(n&&(n+=" "),n+=t);return n}const $m=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zm=ux,dx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return zm(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],f=i==null?void 0:i[u];if(h===null)return null;const m=$m(h)||$m(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(w=>{let[x,N]=w;return Array.isArray(N)?N.includes({...i,...l}[x]):{...i,...l}[x]===N})?[...u,f,m]:u},[]);return zm(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};function sN(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=fx(t))&&(n&&(n+=" "),n+=r);return n}function fx(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=fx(e[n]))&&(r&&(r+=" "),r+=t);return r}var Rf="-";function oN(e){var t=aN(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,s=n===void 0?{}:n;function i(l){var c=l.split(Rf);return c[0]===""&&c.length!==1&&c.shift(),hx(c,t)||iN(l)}function a(l,c){var u=r[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function hx(e,t){var a;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),s=n?hx(e.slice(1),n):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Rf);return(a=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:a.classGroupId}}var Fm=/^\[(.+)\]$/;function iN(e){if(Fm.test(e)){var t=Fm.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function aN(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},s=cN(Object.entries(e.classGroups),r);return s.forEach(function(i){var a=i[0],l=i[1];Zu(l,n,a,t)}),n}function Zu(e,t,r,n){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:Bm(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(lN(s)){Zu(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(a){var l=a[0],c=a[1];Zu(c,Bm(t,l),r,n)})})}function Bm(e,t){var r=e;return t.split(Rf).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function lN(e){return e.isThemeGetter}function cN(e,t){return t?e.map(function(r){var n=r[0],s=r[1],i=s.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):a});return[n,i]}):e}function uN(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function s(i,a){r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(a){var l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return s(a,l),l},set:function(a,l){r.has(a)?r.set(a,l):s(a,l)}}}var mx="!";function dN(e){var t=e.separator||":",r=t.length===1,n=t[0],s=t.length;return function(a){for(var l=[],c=0,u=0,h,f=0;f<a.length;f++){var m=a[f];if(c===0){if(m===n&&(r||a.slice(f,f+s)===t)){l.push(a.slice(u,f)),u=f+s;continue}if(m==="/"){h=f;continue}}m==="["?c++:m==="]"&&c--}var y=l.length===0?a:a.substring(u),w=y.startsWith(mx),x=w?y.substring(1):y,N=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:N}}}function fN(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var s=n[0]==="[";s?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function hN(e){return{cache:uN(e.cacheSize),splitModifiers:dN(e),...oN(e)}}var mN=/\s+/;function pN(e,t){var r=t.splitModifiers,n=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(mN).map(function(a){var l=r(a),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,m=n(f?h.substring(0,f):h),y=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:a};if(m=n(h),!m)return{isTailwindClass:!1,originalClassName:a};y=!1}var w=fN(c).join(":"),x=u?w+mx:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:a,hasPostfixModifier:y}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,h=l+c;return i.has(h)?!1:(i.add(h),s(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function gN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,s,i,a=l;function l(u){var h=t[0],f=t.slice(1),m=f.reduce(function(y,w){return w(y)},h());return n=hN(m),s=n.cache.get,i=n.cache.set,a=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=pN(u,n);return i(u,f),f}return function(){return a(sN.apply(null,arguments))}}function Ie(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var px=/^\[(?:([a-z-]+):)?(.+)\]$/i,vN=/^\d+\/\d+$/,xN=new Set(["px","full","screen"]),yN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function or(e){return Gn(e)||xN.has(e)||vN.test(e)||ed(e)}function ed(e){return ds(e,"length",EN)}function jN(e){return ds(e,"size",gx)}function NN(e){return ds(e,"position",gx)}function SN(e){return ds(e,"url",TN)}function na(e){return ds(e,"number",Gn)}function Gn(e){return!Number.isNaN(Number(e))}function CN(e){return e.endsWith("%")&&Gn(e.slice(0,-1))}function Co(e){return Wm(e)||ds(e,"number",Wm)}function ve(e){return px.test(e)}function ko(){return!0}function an(e){return yN.test(e)}function kN(e){return ds(e,"",_N)}function ds(e,t,r){var n=px.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function EN(e){return wN.test(e)}function gx(){return!1}function TN(e){return e.startsWith("url(")}function Wm(e){return Number.isInteger(Number(e))}function _N(e){return bN.test(e)}function PN(){var e=Ie("colors"),t=Ie("spacing"),r=Ie("blur"),n=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),a=Ie("borderSpacing"),l=Ie("borderWidth"),c=Ie("contrast"),u=Ie("grayscale"),h=Ie("hueRotate"),f=Ie("invert"),m=Ie("gap"),y=Ie("gradientColorStops"),w=Ie("gradientColorStopPositions"),x=Ie("inset"),N=Ie("margin"),g=Ie("opacity"),p=Ie("padding"),v=Ie("saturate"),b=Ie("scale"),j=Ie("sepia"),T=Ie("skew"),C=Ie("space"),k=Ie("translate"),_=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},F=function(){return["auto",ve,t]},S=function(){return[ve,t]},E=function(){return["",or]},z=function(){return["auto",Gn,ve]},G=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},I=function(){return["solid","dashed","dotted","double","none"]},W=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},R=function(){return["start","end","center","between","around","evenly","stretch"]},H=function(){return["","0",ve]},Q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},A=function(){return[Gn,na]},q=function(){return[Gn,ve]};return{cacheSize:500,theme:{colors:[ko],spacing:[or],blur:["none","",an,ve],brightness:A(),borderColor:[e],borderRadius:["none","","full",an,ve],borderSpacing:S(),borderWidth:E(),contrast:A(),grayscale:H(),hueRotate:q(),invert:H(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[CN,ed],inset:F(),margin:F(),opacity:A(),padding:S(),saturate:A(),scale:A(),sepia:H(),skew:q(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(G(),[ve])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Co]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Co]}],"grid-cols":[{"grid-cols":[ko]}],"col-start-end":[{col:["auto",{span:["full",Co]},ve]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ko]}],"row-start-end":[{row:["auto",{span:[Co]},ve]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(R())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(R(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(R(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ve,t]}],"min-w":[{"min-w":["min","max","fit",ve,or]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[an]},an,ve]}],h:[{h:[ve,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ve,or]}],"max-h":[{"max-h":[ve,t,"min","max","fit"]}],"font-size":[{text:["base",an,ed]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",na]}],"font-family":[{font:[ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Gn,na]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ve,or]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(I(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",or]}],"underline-offset":[{"underline-offset":["auto",ve,or]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(G(),[NN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(I(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(I())}],"outline-offset":[{"outline-offset":[ve,or]}],"outline-w":[{outline:[or]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[or]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",an,kN]}],"shadow-color":[{shadow:[ko]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",an,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Co,ve]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[or,na]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var RN=gN(PN);function Ce(...e){return RN(ux(e))}const IN=dx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function $({className:e,variant:t,size:r,asChild:n=!1,...s}){const i=n?lx:"button";return o.jsx(i,{"data-slot":"button",className:Ce(IN({variant:t,size:r,className:e})),...s})}function AN(e,t){const r=d.createContext(t),n=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=d.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Lr(e,t=[]){let r=[];function n(i,a){const l=d.createContext(a),c=r.length;r=[...r,a];const u=f=>{var g;const{scope:m,children:y,...w}=f,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,N=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:N,children:y})};u.displayName=i+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=r.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,ON(s,...t)]}function ON(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function gt(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Ye=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},LN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=LN.reduce((e,t)=>{const r=Ys(`Primitive.${t}`),n=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function MN(e,t){e&&so.flushSync(()=>e.dispatchEvent(t))}var vx={exports:{}},xx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=d;function DN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $N=typeof Object.is=="function"?Object.is:DN,zN=Js.useState,FN=Js.useEffect,BN=Js.useLayoutEffect,WN=Js.useDebugValue;function UN(e,t){var r=t(),n=zN({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return BN(function(){s.value=r,s.getSnapshot=t,Lc(s)&&i({inst:s})},[e,r,t]),FN(function(){return Lc(s)&&i({inst:s}),e(function(){Lc(s)&&i({inst:s})})},[e]),WN(r),r}function Lc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$N(e,r)}catch{return!0}}function HN(e,t){return t()}var VN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HN:UN;xx.useSyncExternalStore=Js.useSyncExternalStore!==void 0?Js.useSyncExternalStore:VN;vx.exports=xx;var KN=vx.exports;function GN(){return KN.useSyncExternalStore(XN,()=>!0,()=>!1)}function XN(){return()=>{}}var If="Avatar",[qN,iP]=Lr(If),[QN,yx]=qN(If),wx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=d.useState("idle");return o.jsx(QN,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(ce.span,{...n,ref:t})})});wx.displayName=If;var bx="AvatarImage",jx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=yx(bx,r),l=YN(n,i),c=gt(u=>{s(u),a.onImageLoadingStatusChange(u)});return Ye(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ce.img,{...i,ref:t,src:n}):null});jx.displayName=bx;var Nx="AvatarFallback",Sx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=yx(Nx,r),[a,l]=d.useState(n===void 0);return d.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ce.span,{...s,ref:t}):null});Sx.displayName=Nx;function Um(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function YN(e,{referrerPolicy:t,crossOrigin:r}){const n=GN(),s=d.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=d.useState(()=>Um(i,e));return Ye(()=>{l(Um(i,e))},[i,e]),Ye(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),h=c("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,r,t]),a}var JN=wx,ZN=jx,eS=Sx;function De({className:e,...t}){return o.jsx(JN,{"data-slot":"avatar",className:Ce("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function $e({className:e,...t}){return o.jsx(ZN,{"data-slot":"avatar-image",className:Ce("aspect-square size-full",e),...t})}function ze({className:e,...t}){return o.jsx(eS,{"data-slot":"avatar-fallback",className:Ce("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}var td={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(r){var n=r.setTimeout,s=r.clearTimeout,i=r.XMLHttpRequest,a=r.XDomainRequest,l=r.ActiveXObject,c=r.EventSource,u=r.document,h=r.Promise,f=r.fetch,m=r.Response,y=r.TextDecoder,w=r.TextEncoder,x=r.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(L){u.readyState="complete"},!1)),i==null&&l!=null&&(i=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(L){function X(){}return X.prototype=L,new X}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var N=f;f=function(L,X){var Z=X.signal;return N(L,{headers:X.headers,credentials:X.credentials,cache:X.cache}).then(function(O){var Y=O.body.getReader();return Z._reader=Y,Z._aborted&&Z._reader.cancel(),{status:O.status,statusText:O.statusText,headers:O.headers,body:{getReader:function(){return Y}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(L){function X(Ne,we,de){if(de===1)return Ne>=128>>we&&Ne<<we<=2047;if(de===2)return Ne>=2048>>we&&Ne<<we<=55295||Ne>=57344>>we&&Ne<<we<=65535;if(de===3)return Ne>=65536>>we&&Ne<<we<=1114111;throw new Error}function Z(Ne,we){if(Ne===6*1)return we>>6>15?3:we>31?2:1;if(Ne===6*2)return we>15?3:2;if(Ne===6*3)return 3;throw new Error}for(var O=65533,Y="",ee=this.bitsNeeded,re=this.codePoint,ke=0;ke<L.length;ke+=1){var le=L[ke];ee!==0&&(le<128||le>191||!X(re<<6|le&63,ee-6,Z(ee,re)))&&(ee=0,re=O,Y+=String.fromCharCode(re)),ee===0?(le>=0&&le<=127?(ee=0,re=le):le>=192&&le<=223?(ee=6*1,re=le&31):le>=224&&le<=239?(ee=6*2,re=le&15):le>=240&&le<=247?(ee=6*3,re=le&7):(ee=0,re=O),ee!==0&&!X(re,ee,Z(ee,re))&&(ee=0,re=O)):(ee-=6,re=re<<6|le&63),ee===0&&(re<=65535?Y+=String.fromCharCode(re):(Y+=String.fromCharCode(55296+(re-65535-1>>10)),Y+=String.fromCharCode(56320+(re-65535-1&1023))))}return this.bitsNeeded=ee,this.codePoint=re,Y};var p=function(){try{return new y().decode(new w().encode("test"),{stream:!0})==="test"}catch(L){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+L)}return!1};(y==null||w==null||!p())&&(y=g);var v=function(){};function b(L){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=L,this._sendTimeout=0,this._abort=v}b.prototype.open=function(L,X){this._abort(!0);var Z=this,O=this._xhr,Y=1,ee=0;this._abort=function(de){Z._sendTimeout!==0&&(s(Z._sendTimeout),Z._sendTimeout=0),(Y===1||Y===2||Y===3)&&(Y=4,O.onload=v,O.onerror=v,O.onabort=v,O.onprogress=v,O.onreadystatechange=v,O.abort(),ee!==0&&(s(ee),ee=0),de||(Z.readyState=4,Z.onabort(null),Z.onreadystatechange())),Y=0};var re=function(){if(Y===1){var de=0,Te="",rr=void 0;if("contentType"in O)de=200,Te="OK",rr=O.contentType;else try{de=O.status,Te=O.statusText,rr=O.getResponseHeader("Content-Type")}catch{de=0,Te="",rr=void 0}de!==0&&(Y=2,Z.readyState=2,Z.status=de,Z.statusText=Te,Z._contentType=rr,Z.onreadystatechange())}},ke=function(){if(re(),Y===2||Y===3){Y=3;var de="";try{de=O.responseText}catch{}Z.readyState=3,Z.responseText=de,Z.onprogress()}},le=function(de,Te){if((Te==null||Te.preventDefault==null)&&(Te={preventDefault:v}),ke(),Y===1||Y===2||Y===3){if(Y=4,ee!==0&&(s(ee),ee=0),Z.readyState=4,de==="load")Z.onload(Te);else if(de==="error")Z.onerror(Te);else if(de==="abort")Z.onabort(Te);else throw new TypeError;Z.onreadystatechange()}},Ne=function(de){O!=null&&(O.readyState===4?(!("onload"in O)||!("onerror"in O)||!("onabort"in O))&&le(O.responseText===""?"error":"load",de):O.readyState===3?"onprogress"in O||ke():O.readyState===2&&re())},we=function(){ee=n(function(){we()},500),O.readyState===3&&ke()};"onload"in O&&(O.onload=function(de){le("load",de)}),"onerror"in O&&(O.onerror=function(de){le("error",de)}),"onabort"in O&&(O.onabort=function(de){le("abort",de)}),"onprogress"in O&&(O.onprogress=ke),"onreadystatechange"in O&&(O.onreadystatechange=function(de){Ne(de)}),("contentType"in O||!("ontimeout"in i.prototype))&&(X+=(X.indexOf("?")===-1?"?":"&")+"padding=true"),O.open(L,X,!0),"readyState"in O&&(ee=n(function(){we()},0))},b.prototype.abort=function(){this._abort(!1)},b.prototype.getResponseHeader=function(L){return this._contentType},b.prototype.setRequestHeader=function(L,X){var Z=this._xhr;"setRequestHeader"in Z&&Z.setRequestHeader(L,X)},b.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},b.prototype.send=function(){if((!("ontimeout"in i.prototype)||!("sendAsBinary"in i.prototype)&&!("mozAnon"in i.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var L=this;L._sendTimeout=n(function(){L._sendTimeout=0,L.send()},4);return}var X=this._xhr;"withCredentials"in X&&(X.withCredentials=this.withCredentials);try{X.send(void 0)}catch(Z){throw Z}};function j(L){return L.replace(/[A-Z]/g,function(X){return String.fromCharCode(X.charCodeAt(0)+32)})}function T(L){for(var X=Object.create(null),Z=L.split(`\r
`),O=0;O<Z.length;O+=1){var Y=Z[O],ee=Y.split(": "),re=ee.shift(),ke=ee.join(": ");X[j(re)]=ke}this._map=X}T.prototype.get=function(L){return this._map[j(L)]},i!=null&&i.HEADERS_RECEIVED==null&&(i.HEADERS_RECEIVED=2);function C(){}C.prototype.open=function(L,X,Z,O,Y,ee,re){L.open("GET",Y);var ke=0;L.onprogress=function(){var Ne=L.responseText,we=Ne.slice(ke);ke+=we.length,Z(we)},L.onerror=function(Ne){Ne.preventDefault(),O(new Error("NetworkError"))},L.onload=function(){O(null)},L.onabort=function(){O(null)},L.onreadystatechange=function(){if(L.readyState===i.HEADERS_RECEIVED){var Ne=L.status,we=L.statusText,de=L.getResponseHeader("Content-Type"),Te=L.getAllResponseHeaders();X(Ne,we,de,new T(Te))}},L.withCredentials=ee;for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&L.setRequestHeader(le,re[le]);return L.send(),L};function k(L){this._headers=L}k.prototype.get=function(L){return this._headers.get(L)};function _(){}_.prototype.open=function(L,X,Z,O,Y,ee,re){var ke=null,le=new x,Ne=le.signal,we=new y;return f(Y,{headers:re,credentials:ee?"include":"same-origin",signal:Ne,cache:"no-store"}).then(function(de){return ke=de.body.getReader(),X(de.status,de.statusText,de.headers.get("Content-Type"),new k(de.headers)),new h(function(Te,rr){var wr=function(){ke.read().then(function(dt){if(dt.done)Te(void 0);else{var _e=we.decode(dt.value,{stream:!0});Z(_e),wr()}}).catch(function(dt){rr(dt)})};wr()})}).catch(function(de){if(de.name!=="AbortError")return de}).then(function(de){O(de)}),{abort:function(){ke!=null&&ke.cancel(),le.abort()}}};function P(){this._listeners=Object.create(null)}function F(L){n(function(){throw L},0)}P.prototype.dispatchEvent=function(L){L.target=this;var X=this._listeners[L.type];if(X!=null)for(var Z=X.length,O=0;O<Z;O+=1){var Y=X[O];try{typeof Y.handleEvent=="function"?Y.handleEvent(L):Y.call(this,L)}catch(ee){F(ee)}}},P.prototype.addEventListener=function(L,X){L=String(L);var Z=this._listeners,O=Z[L];O==null&&(O=[],Z[L]=O);for(var Y=!1,ee=0;ee<O.length;ee+=1)O[ee]===X&&(Y=!0);Y||O.push(X)},P.prototype.removeEventListener=function(L,X){L=String(L);var Z=this._listeners,O=Z[L];if(O!=null){for(var Y=[],ee=0;ee<O.length;ee+=1)O[ee]!==X&&Y.push(O[ee]);Y.length===0?delete Z[L]:Z[L]=Y}};function S(L){this.type=L,this.target=void 0}function E(L,X){S.call(this,L),this.data=X.data,this.lastEventId=X.lastEventId}E.prototype=Object.create(S.prototype);function z(L,X){S.call(this,L),this.status=X.status,this.statusText=X.statusText,this.headers=X.headers}z.prototype=Object.create(S.prototype);function G(L,X){S.call(this,L),this.error=X.error}G.prototype=Object.create(S.prototype);var I=-1,W=0,R=1,H=2,Q=-1,A=0,q=1,J=2,he=3,fe=/^text\/event\-stream(;.*)?$/i,ye=1e3,te=18e6,ae=function(L,X){var Z=L==null?X:parseInt(L,10);return Z!==Z&&(Z=X),pe(Z)},pe=function(L){return Math.min(Math.max(L,ye),te)},B=function(L,X,Z){try{typeof X=="function"&&X.call(L,Z)}catch(O){F(O)}};function D(L,X){P.call(this),X=X||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,He(this,L,X)}function oe(){return i!=null&&"withCredentials"in i.prototype||a==null?new i:new a}var Le=f!=null&&m!=null&&"body"in m.prototype;function He(L,X,Z){X=String(X);var O=!!Z.withCredentials,Y=Z.lastEventIdQueryParameterName||"lastEventId",ee=pe(1e3),re=ae(Z.heartbeatTimeout,45e3),ke="",le=ee,Ne=!1,we=0,de=Z.headers||{},Te=Z.Transport,rr=Le&&Te==null?void 0:new b(Te!=null?new Te:oe()),wr=Te!=null&&typeof Te!="string"?new Te:rr==null?new _:new C,dt=void 0,_e=0,kt=I,zr="",gs="",Ut="",vs="",nt=A,xs=0,Fr=0,ac=function(qe,Ke,ft,yt){if(kt===W)if(qe===200&&ft!=null&&fe.test(ft)){kt=R,Ne=Date.now(),le=ee,L.readyState=R;var st=new z("open",{status:qe,statusText:Ke,headers:yt});L.dispatchEvent(st),B(L,L.onopen,st)}else{var Je="";qe!==200?(Ke&&(Ke=Ke.replace(/\s+/g," ")),Je="EventSource's response has a status "+qe+" "+Ke+" that is not 200. Aborting the connection."):Je="EventSource's response has a Content-Type specifying an unsupported type: "+(ft==null?"-":ft.replace(/\s+/g," "))+". Aborting the connection.",po();var st=new z("error",{status:qe,statusText:Ke,headers:yt});L.dispatchEvent(st),B(L,L.onerror,st),console.error(Je)}},$i=function(qe){if(kt===R){for(var Ke=-1,ft=0;ft<qe.length;ft+=1){var yt=qe.charCodeAt(ft);(yt===10||yt===13)&&(Ke=ft)}var st=(Ke!==-1?vs:"")+qe.slice(0,Ke+1);vs=(Ke===-1?vs:"")+qe.slice(Ke+1),qe!==""&&(Ne=Date.now(),we+=qe.length);for(var Je=0;Je<st.length;Je+=1){var yt=st.charCodeAt(Je);if(nt===Q&&yt===10)nt=A;else if(nt===Q&&(nt=A),yt===13||yt===10){if(nt!==A){nt===q&&(Fr=Je+1);var nr=st.slice(xs,Fr-1),Ht=st.slice(Fr+(Fr<Je&&st.charCodeAt(Fr)===32?1:0),Je);nr==="data"?(zr+=`
`,zr+=Ht):nr==="id"?gs=Ht:nr==="event"?Ut=Ht:nr==="retry"?(ee=ae(Ht,ee),le=ee):nr==="heartbeatTimeout"&&(re=ae(Ht,re),_e!==0&&(s(_e),_e=n(function(){Fn()},re)))}if(nt===A){if(zr!==""){ke=gs,Ut===""&&(Ut="message");var M=new E(Ut,{data:zr.slice(1),lastEventId:gs});if(L.dispatchEvent(M),Ut==="open"?B(L,L.onopen,M):Ut==="message"?B(L,L.onmessage,M):Ut==="error"&&B(L,L.onerror,M),kt===H)return}zr="",Ut=""}nt=yt===13?Q:A}else nt===A&&(xs=Je,nt=q),nt===q?yt===58&&(Fr=Je+1,nt=J):nt===J&&(nt=he)}}},Br=function(qe){if(kt===R||kt===W){kt=I,_e!==0&&(s(_e),_e=0),_e=n(function(){Fn()},le),le=pe(Math.min(ee*16,le*2)),L.readyState=W;var Ke=new G("error",{error:qe});L.dispatchEvent(Ke),B(L,L.onerror,Ke),qe!=null&&console.error(qe)}},po=function(){kt=H,dt!=null&&(dt.abort(),dt=void 0),_e!==0&&(s(_e),_e=0),L.readyState=H},Fn=function(){if(_e=0,kt!==I){if(!Ne&&dt!=null)Br(new Error("No activity within "+re+" milliseconds. "+(kt===W?"No response received.":we+" chars received.")+" Reconnecting.")),dt!=null&&(dt.abort(),dt=void 0);else{var qe=Math.max((Ne||Date.now())+re-Date.now(),1);Ne=!1,_e=n(function(){Fn()},qe)}return}Ne=!1,we=0,_e=n(function(){Fn()},re),kt=W,zr="",Ut="",gs=ke,vs="",xs=0,Fr=0,nt=A;var Ke=X;if(X.slice(0,5)!=="data:"&&X.slice(0,5)!=="blob:"&&ke!==""){var ft=X.indexOf("?");Ke=ft===-1?X:X.slice(0,ft+1)+X.slice(ft+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Ht,M){return M===Y?"":Ht}),Ke+=(X.indexOf("?")===-1?"?":"&")+Y+"="+encodeURIComponent(ke)}var yt=L.withCredentials,st={};st.Accept="text/event-stream";var Je=L.headers;if(Je!=null)for(var nr in Je)Object.prototype.hasOwnProperty.call(Je,nr)&&(st[nr]=Je[nr]);try{dt=wr.open(rr,ac,$i,Br,Ke,yt,st)}catch(Ht){throw po(),Ht}};L.url=X,L.readyState=W,L.withCredentials=O,L.headers=de,L._close=po,Fn()}D.prototype=Object.create(P.prototype),D.prototype.CONNECTING=W,D.prototype.OPEN=R,D.prototype.CLOSED=H,D.prototype.close=function(){this._close()},D.CONNECTING=W,D.OPEN=R,D.CLOSED=H,D.prototype.withCredentials=void 0;var Xe=c;i!=null&&(c==null||!("withCredentials"in c.prototype))&&(Xe=D),function(L){{var X=L(t);X!==void 0&&(e.exports=X)}}(function(L){L.EventSourcePolyfill=D,L.NativeEventSource=c,L.EventSource=Xe})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:nb:globalThis)})(td,td.exports);var tS=td.exports;class rS{constructor(){sn(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getUser(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("   :",r),r}}}const nS=new rS;function sS({currentPage:e,onPageChange:t,onProfileClick:r,onMyProfileClick:n,onCloseDM:s,onLogout:i,authenticatedFetch:a,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h}){const[f,m]=d.useState([]),[y,w]=d.useState(!1),[x,N]=d.useState(!1),[,g]=d.useState([]),[p,v]=d.useState(null),b=A=>{const q=fe=>{switch(fe){case"DM_RECEIVED":case"NEW_DM_ROOM":return"message";case"FOLLOWED":return"follow";case"PLAYLIST_SUBSCRIBED":case"FOLLOWING_POSTED_PLAYLIST":return"like";default:return"notification"}},J=fe=>{switch(fe){case"DM_RECEIVED":return"  ";case"NEW_DM_ROOM":return"  ";case"FOLLOWED":return"  ";case"PLAYLIST_SUBSCRIBED":return" ";case"FOLLOWING_POSTED_PLAYLIST":return"   ";case"ROLE_CHANGED":return" ";default:return" "}},he=fe=>{const ye=new Date(fe),ae=new Date().getTime()-ye.getTime(),pe=Math.floor(ae/(1e3*60)),B=Math.floor(ae/(1e3*60*60)),D=Math.floor(ae/(1e3*60*60*24));return pe<1?" ":pe<60?`${pe} `:B<24?`${B} `:D===1?"":`${D} `};return{id:A.id,type:q(A.notificationType),title:J(A.notificationType),content:A.content,avatar:"",timestamp:he(A.createdAt),isRead:!1}},j=async()=>{if(l)try{const A=await nS.getUser(l);v(A)}catch(A){console.error("   :",A),A instanceof Error&&(A.message.includes("not found")||A.message.includes("401")||A.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i())}},T=async()=>{if(l)try{const A=await a("http://localhost:8080/api/notifications");if(!A.ok){if(A.status===401||A.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i();return}throw new Error(`   . (: ${A.status})`)}const J=(await A.json()).map(he=>({...b(he),isRead:!0}));m(J)}catch(A){console.error("   :",A),A instanceof Error&&(A.message.includes("401")||A.message.includes("403"))&&m([])}},[C,k]=d.useState(0),_=5,P=2e3,F=()=>{if(!l)return;const A=localStorage.getItem("accessToken");if(!A){console.warn("accessToken . SSE  ");return}if(C>=_){console.warn("SSE     ,  ");return}g(q=>{if(q.length>=1)return console.log(" SSE  ."),q;console.log(`SSE   ... (${C+1}/${_})`);const J=new tS.EventSourcePolyfill("http://localhost:8080/api/notifications/subscribe",{headers:{Authorization:`Bearer ${A}`},withCredentials:!0,heartbeatTimeout:45e3});return J.onopen=()=>{console.log("SSE  ."),k(0)},J.onmessage=he=>{if(he.data!=="ping"&&he.type!=="heartbeat")try{const fe=JSON.parse(he.data);if(fe.notificationType==="CONNECTED")return;const ye=b(fe);m(te=>[ye,...te])}catch(fe){console.error("SSE   :",fe)}},J.onerror=he=>{if(console.error("SSE  :",he),g(fe=>fe.filter(ye=>ye!==J)),J.close(),C<_){const fe=P*Math.pow(2,C);console.log(`${fe}ms  SSE  ... (${C+1}/${_})`),k(ye=>ye+1),setTimeout(()=>{l&&localStorage.getItem("accessToken")&&F()},fe)}else console.error("SSE     ")},[...q,J]})};d.useEffect(()=>{if(l){k(0),j(),T();const A=setTimeout(()=>{F()},2e3);return()=>{clearTimeout(A),g(q=>(q.forEach(J=>{J.readyState!==EventSource.CLOSED&&J.close()}),[]))}}else k(0)},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=j),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const S=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],E=f.filter(A=>!A.isRead).length;d.useEffect(()=>{const A=q=>{const J=q.target;!J.closest(".notification-container")&&!J.closest(".profile-container")&&(w(!1),N(!1))};return document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[]);const z=A=>{switch(A){case"message":return o.jsx(Ef,{className:"w-4 h-4"});case"follow":return o.jsx(Pf,{className:"w-4 h-4"});case"like":return o.jsx(_n,{className:"w-4 h-4"});case"watch":return o.jsx(Nt,{className:"w-4 h-4"});default:return o.jsx(Rm,{className:"w-4 h-4"})}},G=async A=>{try{await u(A),m(q=>q.filter(J=>J.id!==A))}catch(q){console.error("  :",q)}},I=A=>{m(q=>q.map(J=>J.id===A?{...J,isRead:!0}:J))},W=async()=>{try{await T(),m(A=>A.map(q=>({...q,isRead:!0})))}catch(A){console.error("   :",A)}},R=A=>{s&&s(),t(A)},H=A=>{A.stopPropagation(),s&&s(),w(!y),N(!1)},Q=async()=>{try{if(!(await a("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");N(!1),i()}catch(A){console.error(" :",A),N(!1),i()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>R("home"),children:""}),o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:S.map(A=>o.jsx("li",{children:o.jsx("button",{onClick:()=>R(A.id),className:`transition-colors hover:text-[#4ecdc4] ${e===A.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:A.label})},A.id))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative notification-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:H,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Rm,{className:"w-5 h-5"}),E>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:E>9?"9+":E})]}),y&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[E>0&&o.jsx($,{variant:"ghost",size:"sm",onClick:W,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx($,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),m([])}catch(A){console.error("   :",A)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(Ju,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${f.length>4?"max-h-96":""}`,children:f.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:f.map(A=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>I(A.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(De,{className:"h-12 w-12",children:[o.jsx($e,{src:A.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:A.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:z(A.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${A.isRead?"text-white/60":"font-medium"}`,children:A.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:A.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:A.content})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:async q=>{q.stopPropagation(),await G(A.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Ju,{className:"w-3 h-3"})}),!A.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},A.id))})})]})]}),o.jsxs("div",{className:"relative profile-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:A=>{A.stopPropagation(),N(!x),w(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(De,{className:"h-8 w-8",children:[o.jsx($e,{src:(p==null?void 0:p.profileImage)||""}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:(p==null?void 0:p.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(p==null?void 0:p.name)||""})]}),x&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{N(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Mm,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{N(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Mm,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs($,{variant:"ghost",size:"sm",onClick:Q,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(Dj,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function oS(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},r=[{name:"Github",icon:Lj,href:"#github"},{name:"Twitter",icon:Kj,href:"#twitter"},{name:"Instagram",icon:Mj,href:"#instagram"},{name:"Email",icon:$j,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:r.map(n=>{const s=n.icon;return o.jsx("a",{href:n.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":n.name,children:o.jsx(s,{className:"w-5 h-5"})},n.name)})})]}),Object.entries(t).map(([n,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:n}),o.jsx("ul",{className:"space-y-3",children:s.map(i=>o.jsx("li",{children:o.jsx("a",{href:i.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:i.name})},i.name))})]},n))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(_n,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const Be=d.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,"data-slot":"input",className:Ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:n,...r}));Be.displayName="Input";var iS="Label",Cx=d.forwardRef((e,t)=>o.jsx(ce.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Cx.displayName=iS;var aS=Cx;function Tt({className:e,...t}){return o.jsx(aS,{"data-slot":"label",className:Ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var lS="Separator",Hm="horizontal",cS=["horizontal","vertical"],kx=d.forwardRef((e,t)=>{const{decorative:r,orientation:n=Hm,...s}=e,i=uS(n)?n:Hm,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ce.div,{"data-orientation":i,...l,...s,ref:t})});kx.displayName=lS;function uS(e){return cS.includes(e)}var dS=kx;function fS({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return o.jsx(dS,{"data-slot":"separator-root",decorative:r,orientation:t,className:Ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function Ex({selectedImage:e,onImageSelect:t,onClose:r,userName:n}){const[s,i]=d.useState(null),a=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){i("    .");return}if(u.size>5*1024*1024){i("  5MB  .");return}i(null),t(u)}},l=()=>{t(null),i(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),r&&o.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:r,className:"p-1 hover:bg-white/10",children:o.jsx(pr,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(De,{className:"h-20 w-20",children:[o.jsx($e,{src:URL.createObjectURL(e)}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:(n==null?void 0:n.charAt(0))||"U"})]}),o.jsx($,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(pr,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Be,{type:"file",accept:"image/*",onChange:a,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(Gj,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function hS({onLogin:e,onToggleAuth:t,onForgotPassword:r,isRegister:n}){const[s,i]=d.useState(!1),[a,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,y]=d.useState(null),[w,x]=d.useState(!1),N=()=>{window.location.href="http://localhost:8080/api/oauth2/login/kakao"},g=()=>{window.location.href="http://localhost:8080/api/oauth2/login/google"},p=async v=>{v.preventDefault(),u(null),f(!0);try{if(n){if(!a.name.trim()){u(" .");return}if(a.name.length<3||a.name.length>50){u(" 3  50  .");return}if(!a.email.trim()){u(" .");return}if(!a.password.trim()){u(" .");return}if(a.password!==a.confirmPassword){u("  .");return}const b=new FormData;b.append("email",a.email),b.append("name",a.name),b.append("password",a.password),m&&b.append("profile",m);const j=await fetch("http://localhost:8080/api/users",{method:"POST",body:b});if(!j.ok){let T=" .";const C=j.headers.get("content-type");if(C&&C.includes("application/json"))try{const k=await j.text();k&&(T=JSON.parse(k).message||T)}catch(k){console.error("Error parsing error response:",k)}throw new Error(T)}alert(" . ."),t()}else{const b={email:a.email,password:a.password},j=await fetch("http://localhost:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!j.ok){let C=" .";const k=j.headers.get("content-type");if(k&&k.includes("application/json"))try{const _=await j.text();_&&(C=JSON.parse(_).message||C)}catch(_){console.error("Error parsing error response:",_)}throw new Error(C)}const T=await j.text();if(!T||T.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const C=JSON.parse(T);e(C.accessToken,C.isTempPassword)}catch(C){throw console.error("Error parsing success response:",C),new Error("    .")}}}catch(b){u(b instanceof Error?b.message:"   .")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:n?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n&&o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"name",className:"text-base",children:""}),o.jsx(Be,{id:"name",type:"text",value:a.name,onChange:v=>l({...a,name:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"email",className:"text-base",children:""}),o.jsx(Be,{id:"email",type:"email",value:a.email,onChange:v=>l({...a,email:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(Be,{id:"password",type:s?"text":"password",value:a.password,onChange:v=>l({...a,password:v.target.value}),className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(Oj,{className:"w-5 h-5"}):o.jsx(di,{className:"w-5 h-5"})})]})]}),n&&o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(Be,{id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:v=>l({...a,confirmPassword:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),n&&o.jsxs("div",{children:[o.jsx(Tt,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(De,{className:"h-16 w-16",children:[o.jsx($e,{src:m?URL.createObjectURL(m):void 0}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:a.name.charAt(0)||"U"})]}),o.jsxs($,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(nx,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(Ex,{selectedImage:m,onImageSelect:y,onClose:()=>x(!1),userName:a.name})})]}),o.jsx($,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?" ...":n?"":""})]}),o.jsx(fS,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:N,disabled:h,children:[" ",n?"":""]}),o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:g,disabled:h,children:["Google ",n?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[n?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:n?"":""})]}),!n&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:r,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:" "})]})]})]})]})}class mS{constructor(){sn(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getContents(t){try{const r=new URLSearchParams;if(t!=null&&t.query&&r.append("title",t.query),t!=null&&t.type){const a=t.type.toUpperCase();r.append("contentType",a)}t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.direction&&r.append("direction",t.direction),t!=null&&t.cursor&&r.append("cursor",t.cursor),t!=null&&t.size&&r.append("size",t.size.toString());const n=`${this.baseUrl}?${r.toString()}`,s=await this.authenticatedFetch(n);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(r){throw console.error("   :",r),r}}async getContent(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async getContentsByType(t,r){return this.getContents({...r,type:t})}async searchContents(t,r){return this.getContents({...r,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const Xn=new mS;class pS{constructor(){sn(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getWatchRooms(t){try{const r=new URLSearchParams;t!=null&&t.query&&r.append("query",t.query),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.offset&&r.append("offset",t.offset.toString());const n=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,s=await this.authenticatedFetch(n);if(!s.ok)throw new Error(`   . Status: ${s.status}`);const i=await s.json();return t!=null&&t.sortBy?this.sortWatchRooms(i,t.sortBy):i}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async getWatchRoom(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async joinWatchRoom(t){try{const r=await this.getWatchRoom(t);return{id:r.id,title:r.title,newUserId:"",contentTitle:r.contentTitle,participantsInfoDto:{participantDtoList:[],participantsCount:0}}}catch(r){throw console.error("  :",r),r}}async searchWatchRooms(t,r="participants"){return this.getWatchRooms({query:t,sortBy:r})}sortWatchRooms(t,r){return[...t].sort((n,s)=>{switch(r){case"participants":return s.headCount-n.headCount;case"latest":return s.headCount-n.headCount;case"oldest":return n.headCount-s.headCount;default:return s.headCount-n.headCount}})}filterWatchRooms(t,r){if(!r.trim())return t;const n=r.toLowerCase();return t.filter(s=>s.title.toLowerCase().includes(n)||s.contentTitle.toLowerCase().includes(n)||s.ownerName.toLowerCase().includes(n))}}const Ml=new pS;class gS{constructor(){sn(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getPlaylistByUser(){try{const t=await this.authenticatedFetch(this.baseUrl);if(!t.ok)throw new Error(`   . Status: ${t.status}`);return await t.json()}catch(t){throw console.error("   :",t),t}}}const vS=new gS;function sa({onPageChange:e,onPlaylistOpen:t,onContentPlay:r}){const[n,s]=d.useState([]),[i,a]=d.useState([]),[l,c]=d.useState([]),[u,h]=d.useState(!0),f=d.useRef(null),m=d.useRef(null),y=d.useRef(null),w=async()=>{try{const j=await Ml.getWatchRooms({limit:9});s(j)}catch(j){console.error("Failed to fetch live rooms:",j)}},x=async()=>{try{const j=await Xn.getContents({size:20});a(j.data)}catch(j){console.error("Failed to fetch featured content:",j)}},N=async()=>{try{const j=await vS.getPlaylistByUser();c(j.slice(0,4))}catch(j){console.error("Failed to fetch my playlists:",j),c([])}};d.useEffect(()=>{(async()=>{h(!0),await Promise.all([w(),x(),N()]),h(!1)})()},[]);const g=()=>{e&&e("playlist")},p=j=>{t&&t(j)},v=j=>{j.current&&j.current.scrollBy({left:-288,behavior:"smooth"})},b=j=>{j.current&&j.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs($,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Qt,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(_f,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(dn,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(f),children:o.jsx(Vo,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>b(f),children:o.jsx(dn,{className:"w-6 h-6"})}),o.jsx("div",{ref:f,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(3).fill(0).map((j,T)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},T)):n.slice(0,9).map(j=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",j.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs($,{size:"sm",onClick:T=>{T.stopPropagation(),console.log("Joining room:",j.id)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:j.contentTitle}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[j.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yn,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[j.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",j.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},j.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Pn,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(dn,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(m),children:o.jsx(Vo,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>b(m),children:o.jsx(dn,{className:"w-6 h-6"})}),o.jsx("div",{ref:m,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(6).fill(0).map((j,T)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},T)):i.slice(0,20).map(j=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>r&&r({id:j.id,title:j.title,thumbnail:j.url,type:j.contentType==="MOVIE"?"movie":j.contentType==="TV"?"tv":"sports",duration:"120",description:j.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:j.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:T=>{T.stopPropagation(),r&&r({id:j.id,title:j.title,thumbnail:j.url,type:j.contentType==="MOVIE"?"movie":j.contentType==="TV"?"tv":"sports",duration:"120",description:j.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx($,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),console.log("Add to playlist:",j.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Qt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:j.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:j.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:j.releaseDate?new Date(j.releaseDate).getFullYear():"2024"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:"120"}),o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${j.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":j.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:j.contentType==="MOVIE"?"":j.contentType==="TV"?"TV/":""})]})]})]},j.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Yn,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:g,children:["",o.jsx(dn,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>v(y),children:o.jsx(Vo,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>b(y),children:o.jsx(dn,{className:"w-6 h-6"})}),o.jsx("div",{ref:y,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(4).fill(0).map((j,T)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},T)):l.map((j,T)=>{const C=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],k=C[T%C.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>p(j.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${k} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(ll,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:j.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:_=>{_.stopPropagation(),p(j.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Nt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:j.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:j.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[j.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Yn,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Cf,{className:"w-3 h-3"}),o.jsx("span",{children:j.createdAt?new Date(j.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},j.id)})})]})]})]})}const xS=dx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function at({className:e,variant:t,asChild:r=!1,...n}){const s=r?lx:"span";return o.jsx(s,{"data-slot":"badge",className:Ce(xS({variant:t}),e),...n})}class yS{constructor(){sn(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async createKeyword(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteKeyword(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!r.ok)throw new Error(`  . Status: ${r.status}`)}catch(r){throw console.error("  :",r),r}}async getKeywordContents(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("   :",r),r}}async getUserKeywords(t){try{const r=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("   :",r),r}}}const oa=new yS,wS=e=>({id:e.id,title:e.title,thumbnail:`/api/placeholder/300/400?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function bS({onContentPlay:e,onContentDetail:t,onAddToPlaylist:r,userId:n}){const[s,i]=d.useState(""),[a,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{N()},[]),d.useEffect(()=>{if(c.length>0&&!s){const _=c[0];i(_.id),g(_.id)}},[c,s]);const N=async()=>{try{if(!n){console.error(" ID .");return}const P=(await oa.getUserKeywords(n)).map(F=>({id:F.keywordId,label:F.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(P)}catch(_){console.error("   :",_),u([])}},g=async _=>{try{x(!0);const F=(await oa.getKeywordContents(_)).map(wS),S=c.find(W=>W.id===_),E=F.filter(W=>W.type==="movie"),z=F.filter(W=>W.type==="tv"),G=F.filter(W=>W.type==="sports"),I=[];E.length>0&&I.push({id:`${_}-movie`,title:`${(S==null?void 0:S.label)||""} `,items:E,category:""}),z.length>0&&I.push({id:`${_}-tv`,title:`${(S==null?void 0:S.label)||""} TV `,items:z,category:"TV"}),G.length>0&&I.push({id:`${_}-sports`,title:`${(S==null?void 0:S.label)||""} `,items:G,category:""}),l(I)}catch(P){console.error("  :",P),l([])}finally{x(!1)}},p=_=>{i(_),g(_)},v=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const _=await oa.createKeyword({userId:n||"temp-user-id",keyword:m.trim()}),P={id:_.keywordId,label:_.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(F=>[...F,P]),y(""),f(!1),alert(" !")}catch(_){console.error("  :",_),alert("  .")}}},b=async _=>{if(window.confirm("  ?"))try{if(await oa.deleteKeyword(_),u(P=>P.filter(F=>F.id!==_)),s===_){const P=c.filter(F=>F.id!==_);P.length>0?(i(P[0].id),g(P[0].id)):(i(""),l([]))}alert(" .")}catch(P){console.error("  :",P),alert("  .")}},j=_=>{const P=document.getElementById(_);P&&P.scrollBy({left:-400,behavior:"smooth"})},T=_=>{const P=document.getElementById(_);P&&P.scrollBy({left:400,behavior:"smooth"})},C=_=>_>=1e4?`${Math.floor(_/1e3)}K`:_.toLocaleString(),k=_=>{r==null||r(_),console.log(`Opening playlist modal for: ${_.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Lm,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(_=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx($,{variant:s===_.id?"default":"outline",size:"sm",onClick:()=>p(_.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===_.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===_.id?_.color:void 0,backgroundColor:s===_.id?_.color:void 0},children:_.label}),o.jsx($,{size:"sm",variant:"ghost",onClick:P=>{P.stopPropagation(),b(_.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(pr,{className:"w-3 h-3"})})]},_.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Be,{value:m,onChange:_=>y(_.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:_=>_.key==="Enter"&&v(),autoFocus:!0}),o.jsx($,{size:"sm",onClick:v,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(Bs,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>{f(!1),y("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(pr,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:a.map(_=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[_.title,o.jsxs(at,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(lt,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx($,{size:"sm",variant:"outline",onClick:()=>j(`section-${_.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Vo,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>T(`section-${_.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(dn,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${_.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:_.items.map((P,F)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[_.id==="trending"&&F<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(at,{className:`
                              ${F===0?"bg-yellow-500 text-black":""}
                              ${F===1?"bg-gray-300 text-black":""}
                              ${F===2?"bg-amber-600 text-white":""}
                            `,children:["#",F+1]})}),o.jsx("img",{src:P.thumbnail,alt:P.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:S=>{const E=S.target;E.style.display="none";const z=E.parentElement;if(z&&!z.querySelector(".image-fallback")){const G=document.createElement("div");G.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",G.textContent=P.title.charAt(0).toUpperCase(),z.appendChild(G)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs($,{size:"sm",onClick:()=>e(P),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>t(P),className:"border-white/20 hover:bg-white/10",children:[o.jsx(di,{className:"w-4 h-4 mr-1"}),""]}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>k(P),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Qt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(_f,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:C(P.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:P.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:P.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:P.rating})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(Ef,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:P.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:P.displayGenres.slice(0,2).map(S=>o.jsx(at,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:S},S))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:P.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs($,{size:"sm",onClick:()=>e(P),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx($,{size:"sm",variant:"outline",onClick:()=>t(P),className:"border-white/20 hover:bg-white/10",children:o.jsx(di,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>k(P),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Qt,{className:"w-4 h-4"})})]})]})]})]},P.id))})]},_.id))}),!w&&a.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Lm,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function cl(e){const[t,r]=d.useState(!1),n=()=>{r(!0)},{src:s,alt:i,style:a,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:a,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(kf,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:i,className:l,style:a,...c,onError:n})}function jS({items:e=[],maxVisible:t=4,size:r="md"}){const n=e.slice(0,t),s=Math.max(0,e.length-t),i={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},a={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[n.map((l,c)=>o.jsx("div",{className:`${i[r]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(cl,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${i[r]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${a[r]} font-medium text-white/80`,children:["+",s]})})]})})}function rd({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Ce("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Eo=[null];function NS({isOpen:e,onClose:t,onCreatePlaylist:r}){const[n,s]=d.useState(""),[i,a]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,m]=d.useState(!1),[y,w]=d.useState(!1),x=async v=>{v.preventDefault(),n.trim()&&(w(!0),console.log("Creating playlist:",{title:n.trim(),description:i.trim(),isPublic:l,coverImage:Eo[u]}),await new Promise(b=>setTimeout(b,1e3)),r({title:n.trim(),description:i.trim(),isPublic:l,coverImage:Eo[u]}),s(""),a(""),c(!0),h(0),m(!1),w(!1),t())},N=()=>{y||(s(""),a(""),c(!0),h(0),m(!1),t())},g=()=>{const v=Eo[u];return v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(ll,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})}):o.jsx("img",{src:v,alt:" ",className:"w-full h-full object-cover"})},p=(v,b)=>v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(ll,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:v,alt:`  ${b+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:N}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx($,{variant:"ghost",size:"sm",onClick:N,className:"p-2 hover:bg-white/10",disabled:y,children:o.jsx(pr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Tt,{className:"text-sm mb-3 block",children:" "}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[g(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs($,{type:"button",variant:"ghost",onClick:()=>m(!f),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(kf,{className:"w-4 h-4 mr-2"}),Eo[u]===null?" ":" "]})})]}),f&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:Eo.map((v,b)=>o.jsxs("button",{type:"button",onClick:()=>{h(b),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===b?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[p(v,b),u===b&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Bs,{className:"w-3 h-3 text-[#4ecdc4]"})})]},b))})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(Be,{id:"title",value:n,onChange:v=>s(v.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[n.length,"/50"]})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"description",className:"text-sm",children:""}),o.jsx(rd,{id:"description",value:i,onChange:v=>a(v.target.value),placeholder:"   ...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[i.length,"/200"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Tt,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(il,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(Bs,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(al,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(Bs,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx($,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:N,disabled:y,children:""}),o.jsx($,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!n.trim()||y,children:y?" ...":" "})]})]})]})]}):null}function Vm({onPlaylistOpen:e,getPlaylists:t,createPlaylist:r,subscribePlaylist:n,unsubscribePlaylist:s,currentUserId:i,onUserProfileOpen:a}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,m]=d.useState(!1),[y,w]=d.useState(!0),[x,N]=d.useState(null),g=S=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(S);d.useEffect(()=>{p()},[]),d.useEffect(()=>{const S=setTimeout(()=>{p(l.trim()||void 0)},300);return()=>clearTimeout(S)},[l]);const p=async S=>{try{w(!0),N(null),console.log("   :",{searchKeyword:S});const E=await t(S);console.log("   :",E),h(E)}catch(E){console.error("Error loading playlists:",E),N("   .")}finally{w(!1)}},v=u,b=S=>{console.log(`Starting playlist with ID: ${S}`)},j=()=>{m(!0)},T=S=>{e&&e(S)},C=async S=>{try{await r({name:S.title,description:S.description,isPublic:S.isPublic}),console.log("     "),await p(l.trim()||void 0)}catch(E){console.error("Error creating playlist:",E),N("   .")}},k=S=>!S.subscriptions||!i?!1:S.subscriptions.some(E=>E.userId===i),_=S=>!S.subscriptions||!i?null:S.subscriptions.find(E=>E.userId===i),P=async S=>{if(console.log("    :",{playlistId:S,currentUserId:i}),!n||!s||!i){console.error("    ID :",{subscribePlaylist:!!n,unsubscribePlaylist:!!s,currentUserId:i});return}const E=u.find(G=>G.id===S);if(!E){console.error("   :",S);return}const z=k(E);console.log("  :",{isSubscribed:z,subscriptions:E.subscriptions});try{if(z){const G=_(E);if(!G){console.error("    ");return}console.log("  :",G.id),await s(G.id)}else console.log(" :",S),await n(S);await p()}catch(G){console.error("   :",G)}},F=S=>S.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(ll,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:S.name.charAt(0)})]})}):o.jsx(cl,{src:S.thumbnail,alt:S.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs($,{onClick:j,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Qt,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Be,{placeholder:" ...",value:l,onChange:S=>c(S.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.filter(S=>S.isPublic).length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]})]}),(console.log(" Playlist  :",{loading:y,error:x,playlistsLength:u.length,filteredLength:v.length}),y?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx($,{onClick:()=>p(l.trim()||void 0),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):v.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":" "}),!l&&o.jsx($,{onClick:j,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(S=>{var E;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>T(S.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[F(S),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:z=>{z.stopPropagation(),b(S.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Nt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:S.isPublic?"":""})}),S.userId&&S.userId!==i&&g(S.userId)&&n&&s&&o.jsx($,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${k(S)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:z=>{z.stopPropagation(),P(S.id)},children:o.jsx(_n,{className:`w-4 h-4 ${k(S)?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:z=>z.stopPropagation(),children:o.jsx(ox,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:S.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(jS,{items:S.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[S.contentCount||((E=S.playlistContents)==null?void 0:E.length)||0," "]})]}),S.userId&&S.userId!==i&&g(S.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:z=>{z.stopPropagation(),a==null||a(S.userId)},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:S.username?S.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:S.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Yn,{className:"w-3 h-3"}),o.jsx("span",{children:S.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Cf,{className:"w-3 h-3"}),o.jsx("span",{children:S.createdAt?new Date(S.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},S.id)})}))]}),o.jsx(NS,{isOpen:f,onClose:()=>m(!1),onCreatePlaylist:C})]})}function ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var SS=eg[" useId ".trim().toString()]||(()=>{}),CS=0;function kn(e){const[t,r]=d.useState(SS());return Ye(()=>{r(n=>n??String(CS++))},[e]),e||(t?`radix-${t}`:"")}var kS=eg[" useInsertionEffect ".trim().toString()]||Ye;function ns({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=ES({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=d.useCallback(h=>{var f;if(l){const m=TS(h)?h(e):h;m!==e&&((f=a.current)==null||f.call(a,m))}else i(h)},[l,e,i,a]);return[c,u]}function ES({defaultProp:e,onChange:t}){const[r,n]=d.useState(e),s=d.useRef(r),i=d.useRef(t);return kS(()=>{i.current=t},[t]),d.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function TS(e){return typeof e=="function"}function _S(e,t=globalThis==null?void 0:globalThis.document){const r=gt(e);d.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var PS="DismissableLayer",nd="dismissableLayer.update",RS="dismissableLayer.pointerDownOutside",IS="dismissableLayer.focusOutside",Km,Tx=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Af=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=d.useContext(Tx),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=d.useState({}),w=xe(t,C=>f(C)),x=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(N),p=h?x.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,b=p>=g,j=LS(C=>{const k=C.target,_=[...u.branches].some(P=>P.contains(k));!b||_||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),T=MS(C=>{const k=C.target;[...u.branches].some(P=>P.contains(k))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return _S(C=>{p===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Km=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Gm(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Km)}},[h,m,r,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Gm())},[h,u]),d.useEffect(()=>{const C=()=>y({});return document.addEventListener(nd,C),()=>document.removeEventListener(nd,C)},[]),o.jsx(ce.div,{...c,ref:w,style:{pointerEvents:v?b?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,j.onPointerDownCapture)})});Af.displayName=PS;var AS="DismissableLayerBranch",OS=d.forwardRef((e,t)=>{const r=d.useContext(Tx),n=d.useRef(null),s=xe(t,n);return d.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(ce.div,{...e,ref:s})});OS.displayName=AS;function LS(e,t=globalThis==null?void 0:globalThis.document){const r=gt(e),n=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){_x(RS,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function MS(e,t=globalThis==null?void 0:globalThis.document){const r=gt(e),n=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!n.current&&_x(IS,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Gm(){const e=new CustomEvent(nd);document.dispatchEvent(e)}function _x(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?MN(s,i):s.dispatchEvent(i)}var Mc="focusScope.autoFocusOnMount",Dc="focusScope.autoFocusOnUnmount",Xm={bubbles:!1,cancelable:!0},DS="FocusScope",Of=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=d.useState(null),u=gt(s),h=gt(i),f=d.useRef(null),m=xe(t,x=>c(x)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let x=function(v){if(y.paused||!l)return;const b=v.target;l.contains(b)?f.current=b:ln(f.current,{select:!0})},N=function(v){if(y.paused||!l)return;const b=v.relatedTarget;b!==null&&(l.contains(b)||ln(f.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const j of v)j.removedNodes.length>0&&ln(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",N);const p=new MutationObserver(g);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",N),p.disconnect()}}},[n,l,y.paused]),d.useEffect(()=>{if(l){Qm.add(y);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(Mc,Xm);l.addEventListener(Mc,u),l.dispatchEvent(g),g.defaultPrevented||($S(US(Px(l)),{select:!0}),document.activeElement===x&&ln(l))}return()=>{l.removeEventListener(Mc,u),setTimeout(()=>{const g=new CustomEvent(Dc,Xm);l.addEventListener(Dc,h),l.dispatchEvent(g),g.defaultPrevented||ln(x??document.body,{select:!0}),l.removeEventListener(Dc,h),Qm.remove(y)},0)}}},[l,u,h,y]);const w=d.useCallback(x=>{if(!r&&!n||y.paused)return;const N=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(N&&g){const p=x.currentTarget,[v,b]=zS(p);v&&b?!x.shiftKey&&g===b?(x.preventDefault(),r&&ln(v,{select:!0})):x.shiftKey&&g===v&&(x.preventDefault(),r&&ln(b,{select:!0})):g===p&&x.preventDefault()}},[r,n,y.paused]);return o.jsx(ce.div,{tabIndex:-1,...a,ref:m,onKeyDown:w})});Of.displayName=DS;function $S(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ln(n,{select:t}),document.activeElement!==r)return}function zS(e){const t=Px(e),r=qm(t,e),n=qm(t.reverse(),e);return[r,n]}function Px(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qm(e,t){for(const r of e)if(!FS(r,{upTo:t}))return r}function FS(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function BS(e){return e instanceof HTMLInputElement&&"select"in e}function ln(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&BS(e)&&t&&e.select()}}var Qm=WS();function WS(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ym(e,t),e.unshift(t)},remove(t){var r;e=Ym(e,t),(r=e[0])==null||r.resume()}}}function Ym(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function US(e){return e.filter(t=>t.tagName!=="A")}var HS="Portal",Lf=d.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=d.useState(!1);Ye(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?_j.createPortal(o.jsx(ce.div,{...n,ref:t}),a):null});Lf.displayName=HS;function VS(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=KS(t),s=typeof r=="function"?r({present:n.isPresent}):d.Children.only(r),i=xe(n.ref,GS(s));return typeof r=="function"||n.isPresent?d.cloneElement(s,{ref:i}):null};rn.displayName="Presence";function KS(e){const[t,r]=d.useState(),n=d.useRef(null),s=d.useRef(e),i=d.useRef("none"),a=e?"mounted":"unmounted",[l,c]=VS(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=ia(n.current);i.current=l==="mounted"?u:"none"},[l]),Ye(()=>{const u=n.current,h=s.current;if(h!==e){const m=i.current,y=ia(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ye(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=y=>{const x=ia(n.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},m=y=>{y.target===t&&(i.current=ia(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ia(e){return(e==null?void 0:e.animationName)||"none"}function GS(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $c=0;function Rx(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jm()),document.body.insertAdjacentElement("beforeend",e[1]??Jm()),$c++,()=>{$c===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$c--}},[])}function Jm(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sr=function(){return Sr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Sr.apply(this,arguments)};function Ix(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function XS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Aa="right-scroll-bar-position",Oa="width-before-scroll-bar",qS="with-scroll-bars-hidden",QS="--removed-body-scroll-bar-size";function zc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YS(e,t){var r=d.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var JS=typeof window<"u"?d.useLayoutEffect:d.useEffect,Zm=new WeakMap;function ZS(e,t){var r=YS(null,function(n){return e.forEach(function(s){return zc(s,n)})});return JS(function(){var n=Zm.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||zc(l,null)}),i.forEach(function(l){s.has(l)||zc(l,a)})}Zm.set(r,e)},[e]),r}function e2(e){return e}function t2(e,t){t===void 0&&(t=e2);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),r}}}};return s}function r2(e){e===void 0&&(e={});var t=t2(null);return t.options=Sr({async:!0,ssr:!1},e),t}var Ax=function(e){var t=e.sideCar,r=Ix(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return d.createElement(n,Sr({},r))};Ax.isSideCarExport=!0;function n2(e,t){return e.useMedium(t),Ax}var Ox=r2(),Fc=function(){},Dl=d.forwardRef(function(e,t){var r=d.useRef(null),n=d.useState({onScrollCapture:Fc,onWheelCapture:Fc,onTouchMoveCapture:Fc}),s=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,N=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,v=e.gapMode,b=Ix(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,T=ZS([r,t]),C=Sr(Sr({},b),s);return d.createElement(d.Fragment,null,h&&d.createElement(j,{sideCar:Ox,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:x,setCallbacks:i,allowPinchZoom:!!N,lockRef:r,gapMode:v}),a?d.cloneElement(d.Children.only(l),Sr(Sr({},C),{ref:T})):d.createElement(p,Sr({},C,{className:c,ref:T}),l))});Dl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dl.classNames={fullWidth:Oa,zeroRight:Aa};var s2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=s2();return t&&e.setAttribute("nonce",t),e}function i2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function a2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var l2=function(){var e=0,t=null;return{add:function(r){e==0&&(t=o2())&&(i2(t,r),a2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c2=function(){var e=l2();return function(t,r){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Lx=function(){var e=c2(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},u2={left:0,top:0,right:0,gap:0},Bc=function(e){return parseInt(e||"",10)||0},d2=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bc(r),Bc(n),Bc(s)]},f2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u2;var t=d2(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},h2=Lx(),Ws="data-scroll-locked",m2=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qS,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ws,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Aa,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Oa,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Aa," .").concat(Aa,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Oa," .").concat(Oa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ws,`] {
    `).concat(QS,": ").concat(l,`px;
  }
`)},ep=function(){var e=parseInt(document.body.getAttribute(Ws)||"0",10);return isFinite(e)?e:0},p2=function(){d.useEffect(function(){return document.body.setAttribute(Ws,(ep()+1).toString()),function(){var e=ep()-1;e<=0?document.body.removeAttribute(Ws):document.body.setAttribute(Ws,e.toString())}},[])},g2=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;p2();var i=d.useMemo(function(){return f2(s)},[s]);return d.createElement(h2,{styles:m2(i,!t,s,r?"":"!important")})},sd=!1;if(typeof window<"u")try{var aa=Object.defineProperty({},"passive",{get:function(){return sd=!0,!0}});window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{sd=!1}var ws=sd?{passive:!1}:!1,v2=function(e){return e.tagName==="TEXTAREA"},Mx=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!v2(e)&&r[t]==="visible")},x2=function(e){return Mx(e,"overflowY")},y2=function(e){return Mx(e,"overflowX")},tp=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Dx(e,n);if(s){var i=$x(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},w2=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},b2=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Dx=function(e,t){return e==="v"?x2(t):y2(t)},$x=function(e,t){return e==="v"?w2(t):b2(t)},j2=function(e,t){return e==="h"&&t==="rtl"?-1:1},N2=function(e,t,r,n,s){var i=j2(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),u=!1,h=a>0,f=0,m=0;do{if(!l)break;var y=$x(e,l),w=y[0],x=y[1],N=y[2],g=x-N-i*w;(w||g)&&Dx(e,l)&&(f+=g,m+=w);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},la=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rp=function(e){return[e.deltaX,e.deltaY]},np=function(e){return e&&"current"in e?e.current:e},S2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},k2=0,bs=[];function E2(e){var t=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),s=d.useState(k2++)[0],i=d.useState(Lx)[0],a=d.useRef(e);d.useEffect(function(){a.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=XS([e.lockRef.current],(e.shards||[]).map(np),!0).filter(Boolean);return x.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,N){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var g=la(x),p=r.current,v="deltaX"in x?x.deltaX:p[0]-g[0],b="deltaY"in x?x.deltaY:p[1]-g[1],j,T=x.target,C=Math.abs(v)>Math.abs(b)?"h":"v";if("touches"in x&&C==="h"&&T.type==="range")return!1;var k=tp(C,T);if(!k)return!0;if(k?j=C:(j=C==="v"?"h":"v",k=tp(C,T)),!k)return!1;if(!n.current&&"changedTouches"in x&&(v||b)&&(n.current=j),!j)return!0;var _=n.current||j;return N2(_,N,x,_==="h"?v:b)},[]),c=d.useCallback(function(x){var N=x;if(!(!bs.length||bs[bs.length-1]!==i)){var g="deltaY"in N?rp(N):la(N),p=t.current.filter(function(j){return j.name===N.type&&(j.target===N.target||N.target===j.shadowParent)&&S2(j.delta,g)})[0];if(p&&p.should){N.cancelable&&N.preventDefault();return}if(!p){var v=(a.current.shards||[]).map(np).filter(Boolean).filter(function(j){return j.contains(N.target)}),b=v.length>0?l(N,v[0]):!a.current.noIsolation;b&&N.cancelable&&N.preventDefault()}}},[]),u=d.useCallback(function(x,N,g,p){var v={name:x,delta:N,target:g,should:p,shadowParent:T2(g)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(b){return b!==v})},1)},[]),h=d.useCallback(function(x){r.current=la(x),n.current=void 0},[]),f=d.useCallback(function(x){u(x.type,rp(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,la(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return bs.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ws),document.addEventListener("touchmove",c,ws),document.addEventListener("touchstart",h,ws),function(){bs=bs.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,ws),document.removeEventListener("touchmove",c,ws),document.removeEventListener("touchstart",h,ws)}},[]);var y=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(i,{styles:C2(s)}):null,y?d.createElement(g2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function T2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _2=n2(Ox,E2);var Mf=d.forwardRef(function(e,t){return d.createElement(Dl,Sr({},e,{ref:t,sideCar:_2}))});Mf.classNames=Dl.classNames;var P2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},js=new WeakMap,ca=new WeakMap,ua={},Wc=0,zx=function(e){return e&&(e.host||zx(e.parentNode))},R2=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=zx(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},I2=function(e,t,r,n){var s=R2(t,Array.isArray(e)?e:[e]);ua[r]||(ua[r]=new WeakMap);var i=ua[r],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(n),w=y!==null&&y!=="false",x=(js.get(m)||0)+1,N=(i.get(m)||0)+1;js.set(m,x),i.set(m,N),a.push(m),x===1&&w&&ca.set(m,!0),N===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return h(t),l.clear(),Wc++,function(){a.forEach(function(f){var m=js.get(f)-1,y=i.get(f)-1;js.set(f,m),i.set(f,y),m||(ca.has(f)||f.removeAttribute(n),ca.delete(f)),y||f.removeAttribute(r)}),Wc--,Wc||(js=new WeakMap,js=new WeakMap,ca=new WeakMap,ua={})}},Fx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=P2(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),I2(n,s,r,"aria-hidden")):function(){return null}},$l="Dialog",[Bx,aP]=Lr($l),[A2,yr]=Bx($l),Wx=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=ns({prop:n,defaultProp:s??!1,onChange:i,caller:$l});return o.jsx(A2,{scope:t,triggerRef:l,contentRef:c,contentId:kn(),titleId:kn(),descriptionId:kn(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:a,children:r})};Wx.displayName=$l;var Ux="DialogTrigger",O2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(Ux,r),i=xe(t,s.triggerRef);return o.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zf(s.open),...n,ref:i,onClick:ue(e.onClick,s.onOpenToggle)})});O2.displayName=Ux;var Df="DialogPortal",[L2,Hx]=Bx(Df,{forceMount:void 0}),Vx=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=yr(Df,t);return o.jsx(L2,{scope:t,forceMount:r,children:d.Children.map(n,a=>o.jsx(rn,{present:r||i.open,children:o.jsx(Lf,{asChild:!0,container:s,children:a})}))})};Vx.displayName=Df;var ul="DialogOverlay",Kx=d.forwardRef((e,t)=>{const r=Hx(ul,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=yr(ul,e.__scopeDialog);return i.modal?o.jsx(rn,{present:n||i.open,children:o.jsx(D2,{...s,ref:t})}):null});Kx.displayName=ul;var M2=Ys("DialogOverlay.RemoveScroll"),D2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(ul,r);return o.jsx(Mf,{as:M2,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ce.div,{"data-state":zf(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ss="DialogContent",Gx=d.forwardRef((e,t)=>{const r=Hx(ss,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=yr(ss,e.__scopeDialog);return o.jsx(rn,{present:n||i.open,children:i.modal?o.jsx($2,{...s,ref:t}):o.jsx(z2,{...s,ref:t})})});Gx.displayName=ss;var $2=d.forwardRef((e,t)=>{const r=yr(ss,e.__scopeDialog),n=d.useRef(null),s=xe(t,r.contentRef,n);return d.useEffect(()=>{const i=n.current;if(i)return Fx(i)},[]),o.jsx(Xx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault())})}),z2=d.forwardRef((e,t)=>{const r=yr(ss,e.__scopeDialog),n=d.useRef(!1),s=d.useRef(!1);return o.jsx(Xx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Xx=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=yr(ss,r),c=d.useRef(null),u=xe(t,c);return Rx(),o.jsxs(o.Fragment,{children:[o.jsx(Of,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Af,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zf(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(B2,{titleId:l.titleId}),o.jsx(U2,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$f="DialogTitle",qx=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr($f,r);return o.jsx(ce.h2,{id:s.titleId,...n,ref:t})});qx.displayName=$f;var Qx="DialogDescription",F2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(Qx,r);return o.jsx(ce.p,{id:s.descriptionId,...n,ref:t})});F2.displayName=Qx;var Yx="DialogClose",Jx=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=yr(Yx,r);return o.jsx(ce.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>s.onOpenChange(!1))})});Jx.displayName=Yx;function zf(e){return e?"open":"closed"}var Zx="DialogTitleWarning",[lP,e0]=AN(Zx,{contentName:ss,titleName:$f,docsSlug:"dialog"}),B2=({titleId:e})=>{const t=e0(Zx),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},W2="DialogDescriptionWarning",U2=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e0(W2).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},H2=Wx,V2=Vx,K2=Kx,G2=Gx,X2=qx,q2=Jx;function zl({...e}){return o.jsx(H2,{"data-slot":"dialog",...e})}function Q2({...e}){return o.jsx(V2,{"data-slot":"dialog-portal",...e})}function Y2({className:e,...t}){return o.jsx(K2,{"data-slot":"dialog-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function Fl({className:e,children:t,...r}){return o.jsxs(Q2,{"data-slot":"dialog-portal",children:[o.jsx(Y2,{}),o.jsxs(G2,{"data-slot":"dialog-content",className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,o.jsxs(q2,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(pr,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Bl({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Ce("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Wl({className:e,...t}){return o.jsx(X2,{"data-slot":"dialog-title",className:Ce("text-lg leading-none font-semibold",e),...t})}function J2({playlistId:e,onBack:t,onContentPlay:r,getPlaylistById:n,addPlaylistContents:s,deletePlaylistContents:i}){var ae,pe;const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!0),[w,x]=d.useState(null),[N,g]=d.useState(!1),[p,v]=d.useState([]),[b,j]=d.useState([]),[T,C]=d.useState(""),[k,_]=d.useState(!1),[P,F]=d.useState(!1),[S,E]=d.useState([]),z=d.useCallback(async()=>{try{y(!0),x(null),console.log("    :",e);const B=await n(e);if(console.log("   :",B),!B){console.error("   "),x("   .");return}l(B),u(B.playlistContents||[]),console.log("    :",{playlist:B,contents:B.playlistContents||[]})}catch(B){console.error("    :",B),x("   .")}finally{y(!1)}},[e,n]),G=d.useCallback(async()=>{try{console.log("   :",{searchQuery:T}),_(!0);const B=await Xn.getContents({size:20,query:T||void 0});console.log("   :",B),v(B.data||[]),console.log("   :",B.data||[])}catch(B){console.error("   :",B)}finally{_(!1)}},[T]);if(d.useEffect(()=>{z()},[z]),d.useEffect(()=>{let B;return N&&(B=setTimeout(()=>{G()},300)),()=>{B&&clearTimeout(B)}},[T,N,G]),m)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(w||!a)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:w||"   "}),o.jsx($,{onClick:t,variant:"outline",children:""})]})});const I=B=>{console.log(`Removing content ${B} from playlist ${e}`),u(D=>D.filter(oe=>oe.id!==B))},W=B=>{r?r({id:B.id,title:B.title,thumbnail:B.thumbnail,type:B.type,duration:B.duration,description:B.description}):alert(`"${B.title}"  .`)},R=()=>{console.log(`Playing playlist: ${a.name}`),alert(`"${a.name}"   .`)},H=()=>{console.log(`Shuffling playlist: ${a.name}`),alert(`"${a.name}"   .`)},Q=()=>{g(!0),G()},A=B=>{j(D=>D.includes(B)?D.filter(oe=>oe!==B):[...D,B])},q=async()=>{if(b.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,b),await s(e,b),await z(),g(!1),j([]),C(""),alert(`${b.length}   .`)}catch(B){console.error("  :",B),alert("  .")}},J=()=>{console.log("    :",!P),F(!P),E([])},he=B=>{E(D=>D.includes(B)?D.filter(oe=>oe!==B):[...D,B])},fe=()=>{S.length===c.length?E([]):E(c.map(B=>B.id))},ye=async()=>{if(S.length===0){alert("  .");return}if(confirm(` ${S.length}   ?`))try{await i(e,S),await z(),E([]),F(!1),alert(`${S.length}  .`)}catch(D){console.error("  :",D),alert("  .")}},te=()=>a.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:a.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:""})]})}):o.jsx(cl,{src:a.coverImage,alt:a.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs($,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(oo,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:te()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(at,{variant:"secondary",className:"bg-white/10 text-white",children:""}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:a.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:a.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(De,{className:"h-6 w-6",children:[o.jsx($e,{src:(ae=a.user)==null?void 0:ae.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:((pe=a.username)==null?void 0:pe.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:a.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[c.length," "]}),o.jsx("span",{children:""}),o.jsx("span",{children:a.totalDuration||"0"}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Cf,{className:"w-4 h-4"}),o.jsx("span",{children:a.createdAt?new Date(a.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs($,{size:"lg",onClick:R,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(Nt,{className:"w-6 h-6 mr-2 fill-current"}),""]}),o.jsxs($,{size:"lg",variant:"outline",onClick:H,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Hj,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs($,{size:"lg",variant:"outline",onClick:J,className:`border-white/20 hover:bg-white/10 ${P?"bg-white/10":""}`,children:[o.jsx(pr,{className:"w-5 h-5 mr-2"}),P?" ":" "]}),P&&o.jsxs(o.Fragment,{children:[o.jsx($,{size:"lg",variant:"outline",onClick:fe,className:"border-white/20 hover:bg-white/10",children:S.length===c.length?" ":" "}),S.length>0&&o.jsxs($,{size:"lg",variant:"destructive",onClick:ye,className:"bg-red-600 hover:bg-red-700",children:["  (",S.length,")"]})]}),o.jsx($,{variant:"ghost",size:"lg",onClick:()=>f(!h),className:`p-3 hover:bg-white/10 ${h?"text-[#4ecdc4]":"text-white/60"}`,children:o.jsx(_n,{className:`w-6 h-6 ${h?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(Uj,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(ox,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:""}),o.jsx("div",{className:"col-span-2",children:""}),o.jsx("div",{className:"col-span-2",children:" "}),o.jsx("div",{className:"col-span-1",children:o.jsx(Yn,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:c.map((B,D)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:P,contentId:B.id}),P)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>he(B.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${S.includes(B.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:S.includes(B.id)&&o.jsx(Qt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:D+1}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>W(B),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(Nt,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(cl,{src:B.thumbnail,alt:B.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:B.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[B.year,"  ",B.type==="movie"?"":B.type==="tv"?"":""]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:B.genre&&Array.isArray(B.genre)?B.genre.slice(0,2).join(", "):B.genre||" "})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(B.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:B.duration})}),o.jsx("div",{className:"col-span-1",children:o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx($,{variant:"ghost",size:"sm",onClick:()=>I(B.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(pr,{className:"w-4 h-4"})})})})]})},B.id))}),c.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),o.jsx($,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:Q,children:" "})]})]})}),o.jsx(zl,{open:N,onOpenChange:g,children:o.jsxs(Fl,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(Bl,{children:o.jsx(Wl,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Be,{placeholder:" ...",value:T,onChange:B=>C(B.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),b.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[b.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:k?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!p||p.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(p||[]).map(B=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${b.includes(B.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>A(B.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:B.thumbnail||"/placeholder-content.jpg",alt:B.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:B.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:B.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(at,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:B.contentType}),B.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:B.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:b.includes(B.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Qt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},B.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{g(!1),j([]),C("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx($,{onClick:q,disabled:b.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:b.length>0?`${b.length} `:""})]})]})})]})}function fi(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ff(e){const t=e+"CollectionProvider",[r,n]=Lr(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:N,children:g}=x,p=Wr.useRef(null),v=Wr.useRef(new Map).current;return o.jsx(s,{scope:N,itemMap:v,collectionRef:p,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=Ys(l),u=Wr.forwardRef((x,N)=>{const{scope:g,children:p}=x,v=i(l,g),b=xe(N,v.collectionRef);return o.jsx(c,{ref:b,children:p})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ys(h),y=Wr.forwardRef((x,N)=>{const{scope:g,children:p,...v}=x,b=Wr.useRef(null),j=xe(N,b),T=i(h,g);return Wr.useEffect(()=>(T.itemMap.set(b,{ref:b,...v}),()=>void T.itemMap.delete(b))),o.jsx(m,{[f]:"",ref:j,children:p})});y.displayName=h;function w(x){const N=i(e+"CollectionConsumer",x);return Wr.useCallback(()=>{const p=N.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(N.itemMap.values()).sort((T,C)=>v.indexOf(T.ref.current)-v.indexOf(C.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:a,Slot:u,ItemSlot:y},w,n]}var Z2=d.createContext(void 0);function Si(e){const t=d.useContext(Z2);return e||t||"ltr"}const eC=["top","right","bottom","left"],Rn=Math.min,Mt=Math.max,dl=Math.round,da=Math.floor,_r=e=>({x:e,y:e}),tC={left:"right",right:"left",bottom:"top",top:"bottom"},rC={start:"end",end:"start"};function od(e,t,r){return Mt(e,Rn(t,r))}function Zr(e,t){return typeof e=="function"?e(t):e}function en(e){return e.split("-")[0]}function io(e){return e.split("-")[1]}function Bf(e){return e==="x"?"y":"x"}function Wf(e){return e==="y"?"height":"width"}const nC=new Set(["top","bottom"]);function Cr(e){return nC.has(en(e))?"y":"x"}function Uf(e){return Bf(Cr(e))}function sC(e,t,r){r===void 0&&(r=!1);const n=io(e),s=Uf(e),i=Wf(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=fl(a)),[a,fl(a)]}function oC(e){const t=fl(e);return[id(e),t,id(t)]}function id(e){return e.replace(/start|end/g,t=>rC[t])}const sp=["left","right"],op=["right","left"],iC=["top","bottom"],aC=["bottom","top"];function lC(e,t,r){switch(e){case"top":case"bottom":return r?t?op:sp:t?sp:op;case"left":case"right":return t?iC:aC;default:return[]}}function cC(e,t,r,n){const s=io(e);let i=lC(en(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(id)))),i}function fl(e){return e.replace(/left|right|bottom|top/g,t=>tC[t])}function uC(e){return{top:0,right:0,bottom:0,left:0,...e}}function t0(e){return typeof e!="number"?uC(e):{top:e,right:e,bottom:e,left:e}}function hl(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function ip(e,t,r){let{reference:n,floating:s}=e;const i=Cr(t),a=Uf(t),l=Wf(a),c=en(t),u=i==="y",h=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-s.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-s.width,y:f};break;default:y={x:n.x,y:n.y}}switch(io(t)){case"start":y[a]-=m*(r&&u?-1:1);break;case"end":y[a]+=m*(r&&u?-1:1);break}return y}const dC=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=ip(u,n,c),m=n,y={},w=0;for(let x=0;x<l.length;x++){const{name:N,fn:g}=l[x],{x:p,y:v,data:b,reset:j}=await g({x:h,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:y,rects:u,platform:a,elements:{reference:e,floating:t}});h=p??h,f=v??f,y={...y,[N]:{...y[N],...b}},j&&w<=50&&(w++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:h,y:f}=ip(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function hi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Zr(t,e),w=t0(y),N=l[m?f==="floating"?"reference":"floating":f],g=hl(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(N)))==null||r?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),p=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},j=hl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(g.top-j.top+w.top)/b.y,bottom:(j.bottom-g.bottom+w.bottom)/b.y,left:(g.left-j.left+w.left)/b.x,right:(j.right-g.right+w.right)/b.x}}const fC=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=Zr(e,t)||{};if(u==null)return{};const f=t0(h),m={x:r,y:n},y=Uf(s),w=Wf(y),x=await a.getDimensions(u),N=y==="y",g=N?"top":"left",p=N?"bottom":"right",v=N?"clientHeight":"clientWidth",b=i.reference[w]+i.reference[y]-m[y]-i.floating[w],j=m[y]-i.reference[y],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=T?T[v]:0;(!C||!await(a.isElement==null?void 0:a.isElement(T)))&&(C=l.floating[v]||i.floating[w]);const k=b/2-j/2,_=C/2-x[w]/2-1,P=Rn(f[g],_),F=Rn(f[p],_),S=P,E=C-x[w]-F,z=C/2-x[w]/2+k,G=od(S,z,E),I=!c.arrow&&io(s)!=null&&z!==G&&i.reference[w]/2-(z<S?P:F)-x[w]/2<0,W=I?z<S?z-S:z-E:0;return{[y]:m[y]+W,data:{[y]:G,centerOffset:z-G-W,...I&&{alignmentOffset:W}},reset:I}}}),hC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...N}=Zr(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=en(s),p=Cr(l),v=en(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(v||!x?[fl(l)]:oC(l)),T=w!=="none";!m&&T&&j.push(...cC(l,x,w,b));const C=[l,...j],k=await hi(t,N),_=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&_.push(k[g]),f){const z=sC(s,a,b);_.push(k[z[0]],k[z[1]])}if(P=[...P,{placement:s,overflows:_}],!_.every(z=>z<=0)){var F,S;const z=(((F=i.flip)==null?void 0:F.index)||0)+1,G=C[z];if(G&&(!(f==="alignment"?p!==Cr(G):!1)||P.every(R=>R.overflows[0]>0&&Cr(R.placement)===p)))return{data:{index:z,overflows:P},reset:{placement:G}};let I=(S=P.filter(W=>W.overflows[0]<=0).sort((W,R)=>W.overflows[1]-R.overflows[1])[0])==null?void 0:S.placement;if(!I)switch(y){case"bestFit":{var E;const W=(E=P.filter(R=>{if(T){const H=Cr(R.placement);return H===p||H==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(H=>H>0).reduce((H,Q)=>H+Q,0)]).sort((R,H)=>R[1]-H[1])[0])==null?void 0:E[0];W&&(I=W);break}case"initialPlacement":I=l;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function ap(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lp(e){return eC.some(t=>e[t]>=0)}const mC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Zr(e,t);switch(n){case"referenceHidden":{const i=await hi(t,{...s,elementContext:"reference"}),a=ap(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lp(a)}}}case"escaped":{const i=await hi(t,{...s,altBoundary:!0}),a=ap(i,r.floating);return{data:{escapedOffsets:a,escaped:lp(a)}}}default:return{}}}}},r0=new Set(["left","top"]);async function pC(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=en(r),l=io(r),c=Cr(r)==="y",u=r0.has(a)?-1:1,h=i&&c?-1:1,f=Zr(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:m*u}:{x:m*u,y:y*h}}const gC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await pC(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},vC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:N=>{let{x:g,y:p}=N;return{x:g,y:p}}},...c}=Zr(e,t),u={x:r,y:n},h=await hi(t,c),f=Cr(en(s)),m=Bf(f);let y=u[m],w=u[f];if(i){const N=m==="y"?"top":"left",g=m==="y"?"bottom":"right",p=y+h[N],v=y-h[g];y=od(p,y,v)}if(a){const N=f==="y"?"top":"left",g=f==="y"?"bottom":"right",p=w+h[N],v=w-h[g];w=od(p,w,v)}const x=l.fn({...t,[m]:y,[f]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:i,[f]:a}}}}}},xC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zr(e,t),h={x:r,y:n},f=Cr(s),m=Bf(f);let y=h[m],w=h[f];const x=Zr(l,t),N=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",b=i.reference[m]-i.floating[v]+N.mainAxis,j=i.reference[m]+i.reference[v]-N.mainAxis;y<b?y=b:y>j&&(y=j)}if(u){var g,p;const v=m==="y"?"width":"height",b=r0.has(en(s)),j=i.reference[f]-i.floating[v]+(b&&((g=a.offset)==null?void 0:g[f])||0)+(b?0:N.crossAxis),T=i.reference[f]+i.reference[v]+(b?0:((p=a.offset)==null?void 0:p[f])||0)-(b?N.crossAxis:0);w<j?w=j:w>T&&(w=T)}return{[m]:y,[f]:w}}}},yC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Zr(e,t),h=await hi(t,u),f=en(s),m=io(s),y=Cr(s)==="y",{width:w,height:x}=i.floating;let N,g;f==="top"||f==="bottom"?(N=f,g=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,N=m==="end"?"top":"bottom");const p=x-h.top-h.bottom,v=w-h.left-h.right,b=Rn(x-h[N],p),j=Rn(w-h[g],v),T=!t.middlewareData.shift;let C=b,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=p),T&&!m){const P=Mt(h.left,0),F=Mt(h.right,0),S=Mt(h.top,0),E=Mt(h.bottom,0);y?k=w-2*(P!==0||F!==0?P+F:Mt(h.left,h.right)):C=x-2*(S!==0||E!==0?S+E:Mt(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:C});const _=await a.getDimensions(l.floating);return w!==_.width||x!==_.height?{reset:{rects:!0}}:{}}}};function Ul(){return typeof window<"u"}function ao(e){return n0(e)?(e.nodeName||"").toLowerCase():"#document"}function zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mr(e){var t;return(t=(n0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function n0(e){return Ul()?e instanceof Node||e instanceof zt(e).Node:!1}function gr(e){return Ul()?e instanceof Element||e instanceof zt(e).Element:!1}function Ir(e){return Ul()?e instanceof HTMLElement||e instanceof zt(e).HTMLElement:!1}function cp(e){return!Ul()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zt(e).ShadowRoot}const wC=new Set(["inline","contents"]);function Ci(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!wC.has(s)}const bC=new Set(["table","td","th"]);function jC(e){return bC.has(ao(e))}const NC=[":popover-open",":modal"];function Hl(e){return NC.some(t=>{try{return e.matches(t)}catch{return!1}})}const SC=["transform","translate","scale","rotate","perspective"],CC=["transform","translate","scale","rotate","perspective","filter"],kC=["paint","layout","strict","content"];function Hf(e){const t=Vf(),r=gr(e)?vr(e):e;return SC.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||CC.some(n=>(r.willChange||"").includes(n))||kC.some(n=>(r.contain||"").includes(n))}function EC(e){let t=In(e);for(;Ir(t)&&!Zs(t);){if(Hf(t))return t;if(Hl(t))return null;t=In(t)}return null}function Vf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TC=new Set(["html","body","#document"]);function Zs(e){return TC.has(ao(e))}function vr(e){return zt(e).getComputedStyle(e)}function Vl(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function In(e){if(ao(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cp(e)&&e.host||Mr(e);return cp(t)?t.host:t}function s0(e){const t=In(e);return Zs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ir(t)&&Ci(t)?t:s0(t)}function mi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=s0(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=zt(s);if(i){const l=ad(a);return t.concat(a,a.visualViewport||[],Ci(s)?s:[],l&&r?mi(l):[])}return t.concat(s,mi(s,[],r))}function ad(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function o0(e){const t=vr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ir(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=dl(r)!==i||dl(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function Kf(e){return gr(e)?e:e.contextElement}function Us(e){const t=Kf(e);if(!Ir(t))return _r(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=o0(t);let a=(i?dl(r.width):r.width)/n,l=(i?dl(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const _C=_r(0);function i0(e){const t=zt(e);return!Vf()||!t.visualViewport?_C:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PC(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zt(e)?!1:t}function os(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Kf(e);let a=_r(1);t&&(n?gr(n)&&(a=Us(n)):a=Us(e));const l=PC(i,r,n)?i0(i):_r(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=zt(i),y=n&&gr(n)?zt(n):n;let w=m,x=ad(w);for(;x&&n&&y!==w;){const N=Us(x),g=x.getBoundingClientRect(),p=vr(x),v=g.left+(x.clientLeft+parseFloat(p.paddingLeft))*N.x,b=g.top+(x.clientTop+parseFloat(p.paddingTop))*N.y;c*=N.x,u*=N.y,h*=N.x,f*=N.y,c+=v,u+=b,w=zt(x),x=ad(w)}}return hl({width:h,height:f,x:c,y:u})}function Gf(e,t){const r=Vl(e).scrollLeft;return t?t.left+r:os(Mr(e)).left+r}function a0(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Gf(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function RC(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=Mr(n),l=t?Hl(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=_r(1);const h=_r(0),f=Ir(n);if((f||!f&&!i)&&((ao(n)!=="body"||Ci(a))&&(c=Vl(n)),Ir(n))){const y=os(n);u=Us(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const m=a&&!f&&!i?a0(a,c,!0):_r(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:r.y*u.y-c.scrollTop*u.y+h.y+m.y}}function IC(e){return Array.from(e.getClientRects())}function AC(e){const t=Mr(e),r=Vl(e),n=e.ownerDocument.body,s=Mt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Mt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Gf(e);const l=-r.scrollTop;return vr(n).direction==="rtl"&&(a+=Mt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function OC(e,t){const r=zt(e),n=Mr(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Vf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const LC=new Set(["absolute","fixed"]);function MC(e,t){const r=os(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ir(e)?Us(e):_r(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function up(e,t,r){let n;if(t==="viewport")n=OC(e,r);else if(t==="document")n=AC(Mr(e));else if(gr(t))n=MC(t,r);else{const s=i0(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return hl(n)}function l0(e,t){const r=In(e);return r===t||!gr(r)||Zs(r)?!1:vr(r).position==="fixed"||l0(r,t)}function DC(e,t){const r=t.get(e);if(r)return r;let n=mi(e,[],!1).filter(l=>gr(l)&&ao(l)!=="body"),s=null;const i=vr(e).position==="fixed";let a=i?In(e):e;for(;gr(a)&&!Zs(a);){const l=vr(a),c=Hf(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&LC.has(s.position)||Ci(a)&&!c&&l0(e,a))?n=n.filter(h=>h!==a):s=l,a=In(a)}return t.set(e,n),n}function $C(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?Hl(t)?[]:DC(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,h)=>{const f=up(t,h,s);return u.top=Mt(f.top,u.top),u.right=Rn(f.right,u.right),u.bottom=Rn(f.bottom,u.bottom),u.left=Mt(f.left,u.left),u},up(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zC(e){const{width:t,height:r}=o0(e);return{width:t,height:r}}function FC(e,t,r){const n=Ir(t),s=Mr(t),i=r==="fixed",a=os(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=_r(0);function u(){c.x=Gf(s)}if(n||!n&&!i)if((ao(t)!=="body"||Ci(s))&&(l=Vl(t)),n){const y=os(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();i&&!n&&s&&u();const h=s&&!n&&!i?a0(s,l):_r(0),f=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Uc(e){return vr(e).position==="static"}function dp(e,t){if(!Ir(e)||vr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Mr(e)===r&&(r=r.ownerDocument.body),r}function c0(e,t){const r=zt(e);if(Hl(e))return r;if(!Ir(e)){let s=In(e);for(;s&&!Zs(s);){if(gr(s)&&!Uc(s))return s;s=In(s)}return r}let n=dp(e,t);for(;n&&jC(n)&&Uc(n);)n=dp(n,t);return n&&Zs(n)&&Uc(n)&&!Hf(n)?r:n||EC(e)||r}const BC=async function(e){const t=this.getOffsetParent||c0,r=this.getDimensions,n=await r(e.floating);return{reference:FC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WC(e){return vr(e).direction==="rtl"}const UC={convertOffsetParentRelativeRectToViewportRelativeRect:RC,getDocumentElement:Mr,getClippingRect:$C,getOffsetParent:c0,getElementRects:BC,getClientRects:IC,getDimensions:zC,getScale:Us,isElement:gr,isRTL:WC};function u0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HC(e,t){let r=null,n;const s=Mr(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=u;if(l||t(),!m||!y)return;const w=da(f),x=da(s.clientWidth-(h+m)),N=da(s.clientHeight-(f+y)),g=da(h),v={rootMargin:-w+"px "+-x+"px "+-N+"px "+-g+"px",threshold:Mt(0,Rn(1,c))||1};let b=!0;function j(T){const C=T[0].intersectionRatio;if(C!==c){if(!b)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!u0(u,e.getBoundingClientRect())&&a(),b=!1}try{r=new IntersectionObserver(j,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,v)}r.observe(e)}return a(!0),i}function VC(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Kf(e),h=s||i?[...u?mi(u):[],...mi(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?HC(u,r):null;let m=-1,y=null;a&&(y=new ResizeObserver(g=>{let[p]=g;p&&p.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let w,x=c?os(e):null;c&&N();function N(){const g=os(e);x&&!u0(x,g)&&r(),x=g,w=requestAnimationFrame(N)}return r(),()=>{var g;h.forEach(p=>{s&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),f==null||f(),(g=y)==null||g.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const KC=gC,GC=vC,XC=hC,qC=yC,QC=mC,fp=fC,YC=xC,JC=(e,t,r)=>{const n=new Map,s={platform:UC,...r},i={...s.platform,_c:n};return dC(e,t,{...s,platform:i})};var ZC=typeof document<"u",ek=function(){},La=ZC?d.useLayoutEffect:ek;function ml(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ml(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!ml(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function d0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hp(e,t){const r=d0(e);return Math.round(t*r)/r}function Hc(e){const t=d.useRef(e);return La(()=>{t.current=e}),t}function tk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=d.useState(n);ml(m,n)||y(n);const[w,x]=d.useState(null),[N,g]=d.useState(null),p=d.useCallback(R=>{R!==T.current&&(T.current=R,x(R))},[]),v=d.useCallback(R=>{R!==C.current&&(C.current=R,g(R))},[]),b=i||w,j=a||N,T=d.useRef(null),C=d.useRef(null),k=d.useRef(h),_=c!=null,P=Hc(c),F=Hc(s),S=Hc(u),E=d.useCallback(()=>{if(!T.current||!C.current)return;const R={placement:t,strategy:r,middleware:m};F.current&&(R.platform=F.current),JC(T.current,C.current,R).then(H=>{const Q={...H,isPositioned:S.current!==!1};z.current&&!ml(k.current,Q)&&(k.current=Q,so.flushSync(()=>{f(Q)}))})},[m,t,r,F,S]);La(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const z=d.useRef(!1);La(()=>(z.current=!0,()=>{z.current=!1}),[]),La(()=>{if(b&&(T.current=b),j&&(C.current=j),b&&j){if(P.current)return P.current(b,j,E);E()}},[b,j,E,P,_]);const G=d.useMemo(()=>({reference:T,floating:C,setReference:p,setFloating:v}),[p,v]),I=d.useMemo(()=>({reference:b,floating:j}),[b,j]),W=d.useMemo(()=>{const R={position:r,left:0,top:0};if(!I.floating)return R;const H=hp(I.floating,h.x),Q=hp(I.floating,h.y);return l?{...R,transform:"translate("+H+"px, "+Q+"px)",...d0(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:Q}},[r,l,I.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:E,refs:G,elements:I,floatingStyles:W}),[h,E,G,I,W])}const rk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?fp({element:n.current,padding:s}).fn(r):{}:n?fp({element:n,padding:s}).fn(r):{}}}},nk=(e,t)=>({...KC(e),options:[e,t]}),sk=(e,t)=>({...GC(e),options:[e,t]}),ok=(e,t)=>({...YC(e),options:[e,t]}),ik=(e,t)=>({...XC(e),options:[e,t]}),ak=(e,t)=>({...qC(e),options:[e,t]}),lk=(e,t)=>({...QC(e),options:[e,t]}),ck=(e,t)=>({...rk(e),options:[e,t]});var uk="Arrow",f0=d.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(ce.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});f0.displayName=uk;var dk=f0;function Xf(e){const[t,r]=d.useState(void 0);return Ye(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var qf="Popper",[h0,m0]=Lr(qf),[fk,p0]=h0(qf),g0=e=>{const{__scopePopper:t,children:r}=e,[n,s]=d.useState(null);return o.jsx(fk,{scope:t,anchor:n,onAnchorChange:s,children:r})};g0.displayName=qf;var v0="PopperAnchor",x0=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=p0(v0,r),a=d.useRef(null),l=xe(t,a);return d.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(ce.div,{...s,ref:l})});x0.displayName=v0;var Qf="PopperContent",[hk,mk]=h0(Qf),y0=d.forwardRef((e,t)=>{var te,ae,pe,B,D,oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,N=p0(Qf,r),[g,p]=d.useState(null),v=xe(t,Le=>p(Le)),[b,j]=d.useState(null),T=Xf(b),C=(T==null?void 0:T.width)??0,k=(T==null?void 0:T.height)??0,_=n+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},F=Array.isArray(u)?u:[u],S=F.length>0,E={padding:P,boundary:F.filter(gk),altBoundary:S},{refs:z,floatingStyles:G,placement:I,isPositioned:W,middlewareData:R}=tk({strategy:"fixed",placement:_,whileElementsMounted:(...Le)=>VC(...Le,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[nk({mainAxis:s+k,alignmentAxis:a}),c&&sk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ok():void 0,...E}),c&&ik({...E}),ak({...E,apply:({elements:Le,rects:He,availableWidth:Xe,availableHeight:L})=>{const{width:X,height:Z}=He.reference,O=Le.floating.style;O.setProperty("--radix-popper-available-width",`${Xe}px`),O.setProperty("--radix-popper-available-height",`${L}px`),O.setProperty("--radix-popper-anchor-width",`${X}px`),O.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),b&&ck({element:b,padding:l}),vk({arrowWidth:C,arrowHeight:k}),m&&lk({strategy:"referenceHidden",...E})]}),[H,Q]=j0(I),A=gt(w);Ye(()=>{W&&(A==null||A())},[W,A]);const q=(te=R.arrow)==null?void 0:te.x,J=(ae=R.arrow)==null?void 0:ae.y,he=((pe=R.arrow)==null?void 0:pe.centerOffset)!==0,[fe,ye]=d.useState();return Ye(()=>{g&&ye(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(B=R.transformOrigin)==null?void 0:B.x,(D=R.transformOrigin)==null?void 0:D.y].join(" "),...((oe=R.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(hk,{scope:r,placedSide:H,onArrowChange:j,arrowX:q,arrowY:J,shouldHideArrow:he,children:o.jsx(ce.div,{"data-side":H,"data-align":Q,...x,ref:v,style:{...x.style,animation:W?void 0:"none"}})})})});y0.displayName=Qf;var w0="PopperArrow",pk={top:"bottom",right:"left",bottom:"top",left:"right"},b0=d.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=mk(w0,n),a=pk[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(dk,{...s,ref:r,style:{...s.style,display:"block"}})})});b0.displayName=w0;function gk(e){return e!==null}var vk=e=>({name:"transformOrigin",options:e,fn(t){var N,g,p;const{placement:r,rects:n,middlewareData:s}=t,a=((N=s.arrow)==null?void 0:N.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,h]=j0(r),f={start:"0%",center:"50%",end:"100%"}[h],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,y=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=a?f:`${m}px`,x=`${-c}px`):u==="top"?(w=a?f:`${m}px`,x=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=a?f:`${y}px`):u==="left"&&(w=`${n.floating.width+c}px`,x=a?f:`${y}px`),{data:{x:w,y:x}}}});function j0(e){const[t,r="center"]=e.split("-");return[t,r]}var xk=g0,yk=x0,wk=y0,bk=b0;function Yf(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var N0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jk="VisuallyHidden",Nk=d.forwardRef((e,t)=>o.jsx(ce.span,{...e,ref:t,style:{...N0,...e.style}}));Nk.displayName=jk;var Sk=[" ","Enter","ArrowUp","ArrowDown"],Ck=[" ","Enter"],is="Select",[Kl,Gl,kk]=Ff(is),[lo,cP]=Lr(is,[kk,m0]),Xl=m0(),[Ek,Dn]=lo(is),[Tk,_k]=lo(is),S0=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:y,form:w}=e,x=Xl(t),[N,g]=d.useState(null),[p,v]=d.useState(null),[b,j]=d.useState(!1),T=Si(u),[C,k]=ns({prop:n,defaultProp:s??!1,onChange:i,caller:is}),[_,P]=ns({prop:a,defaultProp:l,onChange:c,caller:is}),F=d.useRef(null),S=N?w||!!N.closest("form"):!0,[E,z]=d.useState(new Set),G=Array.from(E).map(I=>I.props.value).join(";");return o.jsx(xk,{...x,children:o.jsxs(Ek,{required:y,scope:t,trigger:N,onTriggerChange:g,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:j,contentId:kn(),value:_,onValueChange:P,open:C,onOpenChange:k,dir:T,triggerPointerDownPosRef:F,disabled:m,children:[o.jsx(Kl.Provider,{scope:t,children:o.jsx(Tk,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(I=>{z(W=>new Set(W).add(I))},[]),onNativeOptionRemove:d.useCallback(I=>{z(W=>{const R=new Set(W);return R.delete(I),R})},[]),children:r})}),S?o.jsxs(K0,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:_,onChange:I=>P(I.target.value),disabled:m,form:w,children:[_===void 0?o.jsx("option",{value:""}):null,Array.from(E)]},G):null]})})};S0.displayName=is;var C0="SelectTrigger",k0=d.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Xl(r),a=Dn(C0,r),l=a.disabled||n,c=xe(t,a.onTriggerChange),u=Gl(r),h=d.useRef("touch"),[f,m,y]=X0(x=>{const N=u().filter(v=>!v.disabled),g=N.find(v=>v.value===a.value),p=q0(N,x,g);p!==void 0&&a.onValueChange(p.value)}),w=x=>{l||(a.onOpenChange(!0),y()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(yk,{asChild:!0,...i,children:o.jsx(ce.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":G0(a.value)?"":void 0,...s,ref:c,onClick:ue(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:ue(s.onPointerDown,x=>{h.current=x.pointerType;const N=x.target;N.hasPointerCapture(x.pointerId)&&N.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:ue(s.onKeyDown,x=>{const N=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(N&&x.key===" ")&&Sk.includes(x.key)&&(w(),x.preventDefault())})})})});k0.displayName=C0;var E0="SelectValue",T0=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=e,c=Dn(E0,r),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=xe(t,c.onValueNodeChange);return Ye(()=>{u(h)},[u,h]),o.jsx(ce.span,{...l,ref:f,style:{pointerEvents:"none"},children:G0(c.value)?o.jsx(o.Fragment,{children:a}):i})});T0.displayName=E0;var Pk="SelectIcon",_0=d.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(ce.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});_0.displayName=Pk;var Rk="SelectPortal",P0=e=>o.jsx(Lf,{asChild:!0,...e});P0.displayName=Rk;var as="SelectContent",R0=d.forwardRef((e,t)=>{const r=Dn(as,e.__scopeSelect),[n,s]=d.useState();if(Ye(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?so.createPortal(o.jsx(I0,{scope:e.__scopeSelect,children:o.jsx(Kl.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(A0,{...e,ref:t})});R0.displayName=as;var ir=10,[I0,$n]=lo(as),Ik="SelectContentImpl",Ak=Ys("SelectContent.RemoveScroll"),A0=d.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:N,...g}=e,p=Dn(as,r),[v,b]=d.useState(null),[j,T]=d.useState(null),C=xe(t,te=>b(te)),[k,_]=d.useState(null),[P,F]=d.useState(null),S=Gl(r),[E,z]=d.useState(!1),G=d.useRef(!1);d.useEffect(()=>{if(v)return Fx(v)},[v]),Rx();const I=d.useCallback(te=>{const[ae,...pe]=S().map(oe=>oe.ref.current),[B]=pe.slice(-1),D=document.activeElement;for(const oe of te)if(oe===D||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===ae&&j&&(j.scrollTop=0),oe===B&&j&&(j.scrollTop=j.scrollHeight),oe==null||oe.focus(),document.activeElement!==D))return},[S,j]),W=d.useCallback(()=>I([k,v]),[I,k,v]);d.useEffect(()=>{E&&W()},[E,W]);const{onOpenChange:R,triggerPointerDownPosRef:H}=p;d.useEffect(()=>{if(v){let te={x:0,y:0};const ae=B=>{var D,oe;te={x:Math.abs(Math.round(B.pageX)-(((D=H.current)==null?void 0:D.x)??0)),y:Math.abs(Math.round(B.pageY)-(((oe=H.current)==null?void 0:oe.y)??0))}},pe=B=>{te.x<=10&&te.y<=10?B.preventDefault():v.contains(B.target)||R(!1),document.removeEventListener("pointermove",ae),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",pe,{capture:!0})}}},[v,R,H]),d.useEffect(()=>{const te=()=>R(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[R]);const[Q,A]=X0(te=>{const ae=S().filter(D=>!D.disabled),pe=ae.find(D=>D.ref.current===document.activeElement),B=q0(ae,te,pe);B&&setTimeout(()=>B.ref.current.focus())}),q=d.useCallback((te,ae,pe)=>{const B=!G.current&&!pe;(p.value!==void 0&&p.value===ae||B)&&(_(te),B&&(G.current=!0))},[p.value]),J=d.useCallback(()=>v==null?void 0:v.focus(),[v]),he=d.useCallback((te,ae,pe)=>{const B=!G.current&&!pe;(p.value!==void 0&&p.value===ae||B)&&F(te)},[p.value]),fe=n==="popper"?ld:O0,ye=fe===ld?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:N}:{};return o.jsx(I0,{scope:r,content:v,viewport:j,onViewportChange:T,itemRefCallback:q,selectedItem:k,onItemLeave:J,itemTextRefCallback:he,focusSelectedItem:W,selectedItemText:P,position:n,isPositioned:E,searchRef:Q,children:o.jsx(Mf,{as:Ak,allowPinchZoom:!0,children:o.jsx(Of,{asChild:!0,trapped:p.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ue(s,te=>{var ae;(ae=p.trigger)==null||ae.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(Af,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:o.jsx(fe,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:te=>te.preventDefault(),...g,...ye,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ue(g.onKeyDown,te=>{const ae=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ae&&te.key.length===1&&A(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let B=S().filter(D=>!D.disabled).map(D=>D.ref.current);if(["ArrowUp","End"].includes(te.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const D=te.target,oe=B.indexOf(D);B=B.slice(oe+1)}setTimeout(()=>I(B)),te.preventDefault()}})})})})})})});A0.displayName=Ik;var Ok="SelectItemAlignedPosition",O0=d.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Dn(as,r),a=$n(as,r),[l,c]=d.useState(null),[u,h]=d.useState(null),f=xe(t,C=>h(C)),m=Gl(r),y=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:N,selectedItemText:g,focusSelectedItem:p}=a,v=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&N&&g){const C=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),P=g.getBoundingClientRect();if(i.dir!=="rtl"){const D=P.left-k.left,oe=_.left-D,Le=C.left-oe,He=C.width+Le,Xe=Math.max(He,k.width),L=window.innerWidth-ir,X=fi(oe,[ir,Math.max(ir,L-Xe)]);l.style.minWidth=He+"px",l.style.left=X+"px"}else{const D=k.right-P.right,oe=window.innerWidth-_.right-D,Le=window.innerWidth-C.right-oe,He=C.width+Le,Xe=Math.max(He,k.width),L=window.innerWidth-ir,X=fi(oe,[ir,Math.max(ir,L-Xe)]);l.style.minWidth=He+"px",l.style.right=X+"px"}const F=m(),S=window.innerHeight-ir*2,E=x.scrollHeight,z=window.getComputedStyle(u),G=parseInt(z.borderTopWidth,10),I=parseInt(z.paddingTop,10),W=parseInt(z.borderBottomWidth,10),R=parseInt(z.paddingBottom,10),H=G+I+E+R+W,Q=Math.min(N.offsetHeight*5,H),A=window.getComputedStyle(x),q=parseInt(A.paddingTop,10),J=parseInt(A.paddingBottom,10),he=C.top+C.height/2-ir,fe=S-he,ye=N.offsetHeight/2,te=N.offsetTop+ye,ae=G+I+te,pe=H-ae;if(ae<=he){const D=F.length>0&&N===F[F.length-1].ref.current;l.style.bottom="0px";const oe=u.clientHeight-x.offsetTop-x.offsetHeight,Le=Math.max(fe,ye+(D?J:0)+oe+W),He=ae+Le;l.style.height=He+"px"}else{const D=F.length>0&&N===F[0].ref.current;l.style.top="0px";const Le=Math.max(he,G+x.offsetTop+(D?q:0)+ye)+pe;l.style.height=Le+"px",x.scrollTop=ae-he+x.offsetTop}l.style.margin=`${ir}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=S+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,N,g,i.dir,n]);Ye(()=>v(),[v]);const[b,j]=d.useState();Ye(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const T=d.useCallback(C=>{C&&w.current===!0&&(v(),p==null||p(),w.current=!1)},[v,p]);return o.jsx(Mk,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:o.jsx(ce.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});O0.displayName=Ok;var Lk="SelectPopperPosition",ld=d.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ir,...i}=e,a=Xl(r);return o.jsx(wk,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ld.displayName=Lk;var[Mk,Jf]=lo(as,{}),cd="SelectViewport",L0=d.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=$n(cd,r),a=Jf(cd,r),l=xe(t,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Kl.Slot,{scope:r,children:o.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const w=window.innerHeight-ir*2,x=parseFloat(f.style.minHeight),N=parseFloat(f.style.height),g=Math.max(x,N);if(g<w){const p=g+y,v=Math.min(w,p),b=p-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});L0.displayName=cd;var M0="SelectGroup",[Dk,$k]=lo(M0),zk=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=kn();return o.jsx(Dk,{scope:r,id:s,children:o.jsx(ce.div,{role:"group","aria-labelledby":s,...n,ref:t})})});zk.displayName=M0;var D0="SelectLabel",Fk=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=$k(D0,r);return o.jsx(ce.div,{id:s.id,...n,ref:t})});Fk.displayName=D0;var pl="SelectItem",[Bk,$0]=lo(pl),z0=d.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,l=Dn(pl,r),c=$n(pl,r),u=l.value===n,[h,f]=d.useState(i??""),[m,y]=d.useState(!1),w=xe(t,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,n,s)}),x=kn(),N=d.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Bk,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(p=>{f(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:o.jsx(Kl.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:o.jsx(ce.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:ue(a.onFocus,()=>y(!0)),onBlur:ue(a.onBlur,()=>y(!1)),onClick:ue(a.onClick,()=>{N.current!=="mouse"&&g()}),onPointerUp:ue(a.onPointerUp,()=>{N.current==="mouse"&&g()}),onPointerDown:ue(a.onPointerDown,p=>{N.current=p.pointerType}),onPointerMove:ue(a.onPointerMove,p=>{var v;N.current=p.pointerType,s?(v=c.onItemLeave)==null||v.call(c):N.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(a.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ue(a.onKeyDown,p=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(Ck.includes(p.key)&&g(),p.key===" "&&p.preventDefault())})})})})});z0.displayName=pl;var Ao="SelectItemText",F0=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=Dn(Ao,r),l=$n(Ao,r),c=$0(Ao,r),u=_k(Ao,r),[h,f]=d.useState(null),m=xe(t,g=>f(g),c.onItemTextChange,g=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,g,c.value,c.disabled)}),y=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:N}=u;return Ye(()=>(x(w),()=>N(w)),[x,N,w]),o.jsxs(o.Fragment,{children:[o.jsx(ce.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?so.createPortal(i.children,a.valueNode):null]})});F0.displayName=Ao;var B0="SelectItemIndicator",W0=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return $0(B0,r).isSelected?o.jsx(ce.span,{"aria-hidden":!0,...n,ref:t}):null});W0.displayName=B0;var ud="SelectScrollUpButton",U0=d.forwardRef((e,t)=>{const r=$n(ud,e.__scopeSelect),n=Jf(ud,e.__scopeSelect),[s,i]=d.useState(!1),a=xe(t,n.onScrollButtonChange);return Ye(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(V0,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});U0.displayName=ud;var dd="SelectScrollDownButton",H0=d.forwardRef((e,t)=>{const r=$n(dd,e.__scopeSelect),n=Jf(dd,e.__scopeSelect),[s,i]=d.useState(!1),a=xe(t,n.onScrollButtonChange);return Ye(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(V0,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});H0.displayName=dd;var V0=d.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=$n("SelectScrollButton",r),a=d.useRef(null),l=Gl(r),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Ye(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(ce.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ue(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{c()})})}),Wk="SelectSeparator",Uk=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ce.div,{"aria-hidden":!0,...n,ref:t})});Uk.displayName=Wk;var fd="SelectArrow",Hk=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Xl(r),i=Dn(fd,r),a=$n(fd,r);return i.open&&a.position==="popper"?o.jsx(bk,{...s,...n,ref:t}):null});Hk.displayName=fd;var Vk="SelectBubbleInput",K0=d.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=d.useRef(null),i=xe(n,s),a=Yf(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ce.select,{...r,style:{...N0,...r.style},ref:i,defaultValue:t})});K0.displayName=Vk;function G0(e){return e===""||e===void 0}function X0(e){const t=gt(e),r=d.useRef(""),n=d.useRef(0),s=d.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function q0(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=Kk(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Kk(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Gk=S0,Xk=k0,qk=T0,Qk=_0,Yk=P0,Jk=R0,Zk=L0,eE=z0,tE=F0,rE=W0,nE=U0,sE=H0;function Zf({...e}){return o.jsx(Gk,{"data-slot":"select",...e})}function eh({...e}){return o.jsx(qk,{"data-slot":"select-value",...e})}function th({className:e,size:t="default",children:r,...n}){return o.jsxs(Xk,{"data-slot":"select-trigger","data-size":t,className:Ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,o.jsx(Qk,{asChild:!0,children:o.jsx(sx,{className:"size-4 opacity-50"})})]})}function rh({className:e,children:t,position:r="popper",...n}){return o.jsx(Yk,{children:o.jsxs(Jk,{"data-slot":"select-content",className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(oE,{}),o.jsx(Zk,{className:Ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(iE,{})]})})}function kr({className:e,children:t,...r}){return o.jsxs(eE,{"data-slot":"select-item",className:Ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(rE,{children:o.jsx(Bs,{className:"size-4"})})}),o.jsx(tE,{children:t})]})}function oE({className:e,...t}){return o.jsx(nE,{"data-slot":"select-scroll-up-button",className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Aj,{className:"size-4"})})}function iE({className:e,...t}){return o.jsx(sE,{"data-slot":"select-scroll-down-button",className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(sx,{className:"size-4"})})}const aE=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function Vc({category:e,onContentPlay:t,onContentDetail:r,onAddToPlaylist:n}){const[s,i]=d.useState(""),[a,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,y]=d.useState(null),[w,x]=d.useState(!1),[N,g]=d.useState(),[p,v]=d.useState(!1),b=aE(e),j=S=>{switch(S){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},T=async(S=!1)=>{try{S?v(!0):f(!0),y(null);const E=await Xn.getContents({type:j(e),query:s||void 0,sortBy:a==="latest"||a==="rating"?"RELEASE_AT":a==="title"?"TITLE":"RELEASE_AT",direction:a==="title"?"ASC":"DESC",cursor:S?N:void 0,size:20});u(S?z=>[...z,...E.data]:E.data),x(E.hasNext),g(E.nextCursor)}catch(E){console.error("  :",E),y(E instanceof Error?E.message:"    .")}finally{f(!1),v(!1)}};d.useEffect(()=>{T(!1)},[e]),d.useEffect(()=>{const S=setTimeout(()=>{T(!1)},300);return()=>clearTimeout(S)},[s,a]);const C=()=>{w&&!h&&!p&&T(!0)},k=S=>({id:S.id,title:S.title,thumbnail:S.thumbnail||"",type:S.contentType.toLowerCase(),duration:S.duration||"120",description:S.description||"",rating:S.rating,reviewCount:S.reviewCount,year:S.year||new Date(S.releaseDate).getFullYear()}),_=S=>{n==null||n(k(S))},P=S=>{t(k(S))},F=S=>{r==null||r(k(S))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:b}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(us,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Be,{placeholder:`${b} ...`,value:s,onChange:S=>i(S.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Zf,{value:a,onValueChange:l,children:[o.jsx(th,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(eh,{placeholder:""})}),o.jsxs(rh,{children:[o.jsx(kr,{value:"latest",children:""}),o.jsx(kr,{value:"rating",children:"  "}),o.jsx(kr,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?" ...":`${c.length} `}),o.jsx(at,{variant:"outline",className:Xn.getTypeColor(j(e)),children:b})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx($,{onClick:()=>T(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(dr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(S=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>F(S),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:S.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:E=>{E.stopPropagation(),P(S)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx($,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),_(S)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Qt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:S.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:S.rating}),S.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",S.reviewCount,")"]})]}),S.year&&o.jsx("span",{className:"text-xs text-white/60",children:S.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:S.duration}),o.jsx(at,{variant:"outline",className:Xn.getTypeColor(S.contentType),children:Xn.getTypeLabel(S.contentType)})]})]})]},S.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx($,{onClick:C,disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:p?o.jsxs(o.Fragment,{children:[o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ef,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${b}  .`}),s&&o.jsxs($,{variant:"outline",onClick:()=>i(""),className:"border-white/20 hover:bg-white/5",children:[" ",b," "]})]})]})]})})}class lE{constructor(){sn(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getReviewsByContentId(t){try{const r=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("   :",r),r}}async getReviewById(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async createReview(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async updateReview(t,r){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(r)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteReview(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!r.ok)throw new Error(`  . Status: ${r.status}`)}catch(r){throw console.error("  :",r),r}}async getReviewsByUserId(t){try{const r=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!r.ok)throw new Error(`    . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("    :",r),r}}}const fa=new lE,ha=({rating:e,editable:t=!1,size:r="md",onChange:n})=>{const[s,i]=d.useState(0),a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return o.jsx("div",{className:"star-rating",children:[1,2,3,4,5].map(l=>o.jsx(Pn,{className:`${a[r]} ${l<=(s||e)?"star filled":"star"} ${t?"cursor-pointer":"cursor-default"}`,onClick:t?()=>n==null?void 0:n(l):void 0,onMouseEnter:t?()=>i(l):void 0,onMouseLeave:t?()=>i(0):void 0},l))})};function cE({content:e,onBack:t,onPlay:r,currentUser:n}){const[s,i]=d.useState(""),[a,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!1),[w,x]=d.useState(null),[N,g]=d.useState(""),[p,v]=d.useState(0),[b,j]=d.useState(!1),[T,C]=d.useState(null),k=async()=>{f(!0);try{const W=(await fa.getReviewsByContentId(e.id)).map(R=>({...R,contentId:e.id,createdAt:new Date().toISOString(),user:{id:R.authorId,name:R.authorName,avatar:R.authorId===(n==null?void 0:n.id)?n.avatar:void 0}}));u(W)}catch(I){console.error("  :",I)}finally{f(!1)}},_=c.length>0?c.reduce((I,W)=>I+W.rating,0)/c.length:0,P=async()=>{if(!(!s.trim()||a===0||!n)){y(!0);try{const I={userId:n.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:a},R={...await fa.createReview(I),contentId:e.id,createdAt:new Date().toISOString(),user:{id:n.id,name:n.name,avatar:n.avatar}};u([R,...c]),i(""),l(0)}catch(I){console.error("  :",I)}finally{y(!1)}}},F=I=>{x(I),g(I.comment),v(I.rating)},S=()=>{x(null),g(""),v(0)},E=async()=>{if(!(!w||!N.trim()||p===0)){j(!0);try{const I={title:N.trim().substring(0,100),comment:N.trim(),rating:p},W=await fa.updateReview(w.id,I);u(c.map(R=>R.id===w.id?{...R,...W}:R)),S()}catch(I){console.error("  :",I)}finally{j(!1)}}},z=async I=>{C(I);try{await fa.deleteReview(I),u(c.filter(W=>W.id!==I))}catch(W){console.error("  :",W)}finally{C(null)}};d.useEffect(()=>{e.id&&k()},[e.id]);const G=I=>{switch(I){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs($,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(oo,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:G(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(at,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:G(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ha,{rating:_,size:"lg"}),o.jsx("span",{className:"text-xl",children:_.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs($,{size:"lg",onClick:()=>r(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(Nt,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),n&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(ha,{rating:a,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(rd,{value:s,onChange:I=>i(I.target.value),placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs($,{onClick:P,disabled:!s.trim()||a===0||m||!n,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Tf,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(I=>{var W,R,H,Q;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(w==null?void 0:w.id)===I.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(De,{children:[o.jsx($e,{src:(W=I.user)==null?void 0:W.avatar}),o.jsx(ze,{children:((R=I.authorName)==null?void 0:R[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:I.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(ha,{rating:p,editable:!0,size:"lg",onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(rd,{value:N,onChange:A=>g(A.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($,{onClick:E,disabled:!N.trim()||p===0||b,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:b?" ...":" "}),o.jsx($,{onClick:S,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(De,{children:[o.jsx($e,{src:(H=I.user)==null?void 0:H.avatar}),o.jsx(ze,{children:((Q=I.authorName)==null?void 0:Q[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:I.authorName||" "}),o.jsx(ha,{rating:I.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:I.createdAt?new Date(I.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:I.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:n&&I.authorId===n.id&&o.jsxs(o.Fragment,{children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>F(I),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(Bj,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>z(I.id),disabled:T===I.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Ju,{className:"w-4 h-4 mr-1"}),T===I.id?" ...":""]})]})})]})]})},I.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function uE({isOpen:e,onClose:t,userId:r,targetUserId:n,authenticatedFetch:s,onUserProfileOpen:i,refreshUserProfile:a,getPlaylists:l,onPlaylistOpen:c}){const[u,h]=d.useState(""),[f,m]=d.useState("user@moplay.kr"),[y,w]=d.useState(!1),[x,N]=d.useState(null),[g,p]=d.useState(""),[v,b]=d.useState(!1),[j,T]=d.useState(null),[C,k]=d.useState(null),[_,P]=d.useState([]),[F,S]=d.useState([]),[E,z]=d.useState(!1),[G,I]=d.useState(!1),[W,R]=d.useState("profile"),[H,Q]=d.useState([]),A=n||r,q=!!(n&&n!==r);d.useEffect(()=>{e&&(T(null),A?(J(),he(),fe(),ae(),q&&ye()):T("  .  ."))},[e,A,q]);const J=async()=>{try{const D=await fetch(`http://localhost:8080/api/users/${A}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!D.ok)throw new Error("   .");const oe=await D.json();k(oe),h(oe.name),m(oe.email)}catch(D){console.error("   :",D),T("   .")}},he=async()=>{try{const D=await s(`http://localhost:8080/api/follows/${A}/followers`);if(!D.ok)throw new Error("   .");const oe=await D.json();P(oe)}catch(D){console.error("   :",D)}},fe=async()=>{try{const D=await s(`http://localhost:8080/api/follows/${A}/following`);if(!D.ok)throw new Error("   .");const oe=await D.json();S(oe)}catch(D){console.error("   :",D)}},ye=async()=>{if(!(!r||!A))try{const D=await s(`http://localhost:8080/api/follows/${r}/is-following/${A}`);if(!D.ok)throw new Error("   .");const oe=await D.json();z(oe)}catch(D){console.error("   :",D)}},te=async()=>{if(!(!r||!A)){I(!0);try{if(E){if(!(await s("http://localhost:8080/api/follows/unfollow",{method:"DELETE",body:JSON.stringify({followerId:r,followingId:A})})).ok)throw new Error(" .");z(!1),P(oe=>oe.filter(Le=>Le.id!==r))}else{if(!(await s("http://localhost:8080/api/follows/follow",{method:"POST",body:JSON.stringify({followerId:r,followingId:A})})).ok)throw new Error(" .");z(!0),C&&P(oe=>[...oe,{id:r,name:"",email:"",profileImage:""}])}}catch(D){console.error("  :",D),alert(D instanceof Error?D.message:"    .")}finally{I(!1)}}},ae=async()=>{if(l)try{const D=await l();Q(D)}catch(D){console.error("   :",D)}},pe=D=>{i&&(t(),i(D))},B=async()=>{b(!0),T(null);try{if(!r){T("  .  ."),b(!1);return}if(!g.trim()){T("     ."),b(!1);return}const D=new FormData,oe={newName:u,newPassword:g};console.log("Request data:",oe);const Le=new Blob([JSON.stringify(oe)],{type:"application/json"});D.append("request",Le),x&&(D.append("profile",x),console.log("Profile image added:",x.name)),console.log("FormData entries:");for(let[L,X]of D.entries())console.log(L,X);const He=await fetch(`http://localhost:8080/api/users/${r}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:D});if(!He.ok){const L=await He.json();throw new Error(L.message||"  .")}const Xe=await He.json();k(Xe),h(Xe.name),m(Xe.email),N(null),await J(),alert("  ."),a&&a(),p(""),t()}catch(D){console.error("  :",D),T(D instanceof Error?D.message:"    .")}finally{b(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:q?`${(C==null?void 0:C.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[q&&o.jsx($,{onClick:te,disabled:G,className:`${E?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:G?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):E?o.jsxs(o.Fragment,{children:[o.jsx(ix,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Pf,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(pr,{className:"w-5 h-5"})})]})]}),j&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:j}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(De,{className:"h-20 w-20 mb-4",children:[o.jsx($e,{src:x?URL.createObjectURL(x):C==null?void 0:C.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xl",children:u.charAt(0)})]}),!q&&o.jsx($,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>w(!y),children:o.jsx(nx,{className:"w-4 h-4"})})]}),y&&!q&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(Ex,{selectedImage:x,onImageSelect:N,onClose:()=>w(!1),userName:u})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:_.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:F.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx($,{variant:W==="profile"?"default":"ghost",size:"sm",onClick:()=>R("profile"),className:W==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs($,{variant:W==="followers"?"default":"ghost",size:"sm",onClick:()=>R("followers"),className:`${W==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs($,{variant:W==="following"?"default":"ghost",size:"sm",onClick:()=>R("following"),className:`${W==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs($,{variant:W==="playlists"?"default":"ghost",size:"sm",onClick:()=>R("playlists"),className:`${W==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Oc,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[W==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(Be,{id:"name",value:u,onChange:D=>h(D.target.value),disabled:q,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${q?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(Be,{id:"email",value:f,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!q&&o.jsxs("div",{children:[o.jsxs(Tt,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Be,{id:"password",type:"password",value:g,onChange:D=>p(D.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"     ."})]})]}),W==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[_.map(D=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>D.id&&pe(D.id),children:[o.jsxs(De,{className:"h-10 w-10",children:[o.jsx($e,{src:D.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:D.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:D.name}),o.jsx("p",{className:"text-white/60 text-sm",children:D.email})]})]},D.id)),_.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(lt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),W==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[F.map(D=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>D.id&&pe(D.id),children:[o.jsxs(De,{className:"h-10 w-10",children:[o.jsx($e,{src:D.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:D.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:D.name}),o.jsx("p",{className:"text-white/60 text-sm",children:D.email})]})]},D.id)),F.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(_n,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),W==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[H.map(D=>{var oe;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{c&&(t(),c(D.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:D.thumbnail?o.jsx("img",{src:D.thumbnail,alt:D.title||D.name,className:"w-full h-full object-cover"}):o.jsx(Oc,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:D.title||D.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[D.contentCount||((oe=D.playlistContents)==null?void 0:oe.length)||0," ",D.isPublic?"  ":"  "]})]})]},D.id)}),H.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Oc,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:q?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx($,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:v,children:q?"":""}),!q&&o.jsx($,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:B,disabled:v||!r,children:v?" ...":""})]})]})]}):null}class dE{constructor(t){sn(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t=await this.authenticatedFetch("http://localhost:8080/api/dmRooms/");if(!t.ok)throw new Error("Failed to fetch DM rooms");return t.json()}async getRoom(t){const r=await this.authenticatedFetch(`http://localhost:8080/api/dmRooms/${t}`);if(!r.ok)throw new Error("Failed to fetch DM room");return r.json()}async getOrCreateRoom(t){const r=await this.authenticatedFetch(`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`);if(!r.ok)throw new Error("Failed to get or create DM room");return r.json()}async getDmMessages(t){const r=await this.authenticatedFetch(`http://localhost:8080/api/dm/${t}`);if(!r.ok)throw new Error("Failed to fetch DM messages");return r.json()}async getFollowing(t){const r=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!r.ok)throw new Error("Failed to fetch following list");return r.json()}}function fE({isOpen:e,onClose:t,onOpenChat:r,authenticatedFetch:n,currentUserId:s,getDmRooms:i,getOrCreateDmRoom:a}){const[l,c]=d.useState(""),[u,h]=d.useState(!1),[f,m]=d.useState([]),[y,w]=d.useState([]),[x,N]=d.useState(!1),[g,p]=d.useState(null),v=new dE(n),b=f.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())),j=y.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())),T=S=>{console.log(`Opening conversation with ${S.name}`),r({id:S.userId,name:S.name,avatar:S.avatar,isOnline:S.isOnline,roomId:S.id})},C=()=>{h(!0),c("")},k=()=>{h(!1),c("")},_=async S=>{try{N(!0);const E=await a(S.id);console.log(`Starting new conversation with ${S.name}, room: ${E}`),r({id:S.id,name:S.name,avatar:S.avatar,isOnline:S.isOnline,roomId:E}),h(!1),c("")}catch(E){console.error("Error starting conversation:",E),p("   .")}finally{N(!1)}};d.useEffect(()=>{e&&s&&(P(),F())},[e,s]);const P=async()=>{try{N(!0),p(null);const E=(await i()).map(z=>{const G=z.senderId===s?{id:z.receiverId,name:z.receiverName,avatar:"",isOnline:!1}:{id:z.senderId,name:z.senderName,avatar:"",isOnline:!1},I=W=>{const R=new Date(W),Q=new Date().getTime()-R.getTime(),A=Math.floor(Q/(1e3*60)),q=Math.floor(Q/(1e3*60*60)),J=Math.floor(Q/(1e3*60*60*24));return A<1?" ":A<60?`${A} `:q<24?`${q} `:J===1?"":`${J} `};return{id:z.id,userId:(G==null?void 0:G.id)||"",name:(G==null?void 0:G.name)||"   ",avatar:(G==null?void 0:G.avatar)||"",lastMessage:z.lastMessage||"  ",timestamp:(z.lastMessage,I(z.createdAt)),unreadCount:z.newMessageCount||0,isOnline:(G==null?void 0:G.isOnline)||!1}});m(E)}catch(S){console.error("Error loading DM rooms:",S),p("    .")}finally{N(!1)}},F=async()=>{if(s)try{const E=(await v.getFollowing(s)).map(z=>({id:z.id,name:z.name||"   ",avatar:z.profileImage||"",isOnline:!1,mutualFriends:0}));w(E)}catch(S){console.error("Error loading chat partners:",S)}};return e?o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[u&&o.jsx($,{variant:"ghost",size:"sm",onClick:k,className:"p-1 hover:bg-white/10",children:o.jsx(oo,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:u?" ":""})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(pr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Be,{placeholder:" ...",value:l,onChange:S=>c(S.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u?o.jsx(o.Fragment,{children:j.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:j.map(S=>o.jsxs("div",{onClick:()=>_(S),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(De,{className:"h-14 w-14",children:[o.jsx($e,{src:S.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:S.name.charAt(0)})]}),S.isOnline&&o.jsx(Im,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:S.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",S.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:S.isOnline?"":""})]},S.id))})}):o.jsxs(o.Fragment,{children:[x&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),g&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:g}),!x&&!g&&b.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}),!x&&!g&&b.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:b.map(S=>o.jsxs("div",{onClick:()=>T(S),className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(De,{className:"h-14 w-14",children:[o.jsx($e,{src:S.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:S.name.charAt(0)})]}),S.isOnline&&o.jsx(Im,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:S.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:S.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:S.lastMessage}),S.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:S.unreadCount>9?"9+":S.unreadCount})]})]})]},S.id))})]})}),!u&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs($,{onClick:C,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(lt,{className:"w-5 h-5 mr-2"})," "]})})]})}):null}function hE(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var nh="ScrollArea",[Q0,uP]=Lr(nh),[mE,er]=Q0(nh),Y0=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[y,w]=d.useState(null),[x,N]=d.useState(null),[g,p]=d.useState(0),[v,b]=d.useState(0),[j,T]=d.useState(!1),[C,k]=d.useState(!1),_=xe(t,F=>c(F)),P=Si(s);return o.jsx(mE,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:j,onScrollbarXEnabledChange:T,scrollbarY:x,onScrollbarYChange:N,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:p,onCornerHeightChange:b,children:o.jsx(ce.div,{dir:P,...a,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});Y0.displayName=nh;var J0="ScrollAreaViewport",Z0=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=er(J0,r),l=d.useRef(null),c=xe(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(ce.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Z0.displayName=J0;var Dr="ScrollAreaScrollbar",ey=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=er(Dr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(pE,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(gE,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(ty,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(sh,{...n,ref:t}):null});ey.displayName=Dr;var pE=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=er(Dr,e.__scopeScrollArea),[i,a]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(rn,{present:r||i,children:o.jsx(ty,{"data-state":i?"visible":"hidden",...n,ref:t})})}),gE=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=er(Dr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Ql(()=>c("SCROLL_END"),100),[l,c]=hE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const y=u[h];f!==y&&(c("SCROLL"),a()),f=y};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,i,c,a]),o.jsx(rn,{present:r||l!=="hidden",children:o.jsx(sh,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ty=d.forwardRef((e,t)=>{const r=er(Dr,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=d.useState(!1),l=e.orientation==="horizontal",c=Ql(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:h)}},10);return eo(r.viewport,c),eo(r.content,c),o.jsx(rn,{present:n||i,children:o.jsx(sh,{"data-state":i?"visible":"hidden",...s,ref:t})})}),sh=d.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=er(Dr,e.__scopeScrollArea),i=d.useRef(null),a=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=iy(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,y){return jE(m,a.current,l,y)}return r==="horizontal"?o.jsx(vE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,y=mp(m,l,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?o.jsx(xE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,y=mp(m,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),vE=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=er(Dr,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=xe(t,c,i.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(ny,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ql(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),ly(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vl(a.paddingLeft),paddingEnd:vl(a.paddingRight)}})}})}),xE=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=er(Dr,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=xe(t,c,i.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(ny,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ql(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),ly(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vl(a.paddingTop),paddingEnd:vl(a.paddingBottom)}})}})}),[yE,ry]=Q0(Dr),ny=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,y=er(Dr,r),[w,x]=d.useState(null),N=xe(t,_=>x(_)),g=d.useRef(null),p=d.useRef(""),v=y.viewport,b=n.content-n.viewport,j=gt(h),T=gt(c),C=Ql(f,10);function k(_){if(g.current){const P=_.clientX-g.current.left,F=_.clientY-g.current.top;u({x:P,y:F})}}return d.useEffect(()=>{const _=P=>{const F=P.target;(w==null?void 0:w.contains(F))&&j(P,b)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[v,w,b,j]),d.useEffect(T,[n,T]),eo(w,C),eo(y.content,C),o.jsx(yE,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:gt(i),onThumbPointerUp:gt(a),onThumbPositionChange:T,onThumbPointerDown:gt(l),children:o.jsx(ce.div,{...m,ref:N,style:{position:"absolute",...m.style},onPointerDown:ue(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),g.current=w.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(_))}),onPointerMove:ue(e.onPointerMove,k),onPointerUp:ue(e.onPointerUp,_=>{const P=_.target;P.hasPointerCapture(_.pointerId)&&P.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=p.current,y.viewport&&(y.viewport.style.scrollBehavior=""),g.current=null})})})}),gl="ScrollAreaThumb",sy=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=ry(gl,e.__scopeScrollArea);return o.jsx(rn,{present:r||s.hasThumb,children:o.jsx(wE,{ref:t,...n})})}),wE=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=er(gl,r),a=ry(gl,r),{onThumbPositionChange:l}=a,c=xe(t,f=>a.onThumbChange(f)),u=d.useRef(void 0),h=Ql(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!u.current){const y=NE(f,l);u.current=y,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,l]),o.jsx(ce.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ue(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,x=f.clientY-y.top;a.onThumbPointerDown({x:w,y:x})}),onPointerUp:ue(e.onPointerUp,a.onThumbPointerUp)})});sy.displayName=gl;var oh="ScrollAreaCorner",oy=d.forwardRef((e,t)=>{const r=er(oh,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(bE,{...e,ref:t}):null});oy.displayName=oh;var bE=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=er(oh,r),[i,a]=d.useState(0),[l,c]=d.useState(0),u=!!(i&&l);return eo(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),eo(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),u?o.jsx(ce.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vl(e){return e?parseInt(e,10):0}function iy(e,t){const r=e/t;return isNaN(r)?0:r}function ql(e){const t=iy(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function jE(e,t,r,n="ltr"){const s=ql(r),i=s/2,a=t||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=n==="ltr"?[0,h]:[h*-1,0];return ay([c,u],f)(e)}function mp(e,t,r="ltr"){const n=ql(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,a]:[a*-1,0],u=fi(e,c);return ay([0,a],[0,l])(u)}function ay(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ly(e,t){return e>0&&e<t}var NE=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Ql(e,t){const r=gt(e),n=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),d.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function eo(e,t){const r=gt(t);Ye(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var SE=Y0,CE=Z0,kE=oy;function EE({className:e,children:t,...r}){return o.jsxs(SE,{"data-slot":"scroll-area",className:Ce("relative",e),...r,children:[o.jsx(CE,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(TE,{}),o.jsx(kE,{})]})}function TE({className:e,orientation:t="vertical",...r}){return o.jsx(ey,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ce("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:o.jsx(sy,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function _E(e,t){e.terminate=function(){const r=()=>{};this.onerror=r,this.onmessage=r,this.onopen=r;const n=new Date,s=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const l=new Date().getTime()-n.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Oo={LF:`
`,NULL:"\0"};class mn{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:r,headers:n,body:s,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:l}=t;this.command=r,this.headers=Object.assign({},n||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,r){const n={},s=i=>i.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const a=s(i[0]);let l=s(i[1]);r&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=mn.hdrValueUnEscape(l)),n[a]=l}return new mn({command:t.command,headers:n,binaryBody:t.binaryBody,escapeHeaderValues:r})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?mn.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Oo.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const r of Object.keys(this.headers||{})){const n=this.headers[r];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${r}:${mn.hdrValueEscape(`${n}`)}`):t.push(`${r}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Oo.LF)+Oo.LF+Oo.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,r){const n=new TextEncoder().encode(t),s=new Uint8Array([0]),i=new Uint8Array(n.length+r.length+s.length);return i.set(n),i.set(r,n.length),i.set(s,n.length+r.length),i}static marshall(t){return new mn(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const pp=0,ma=10,pa=13,PE=58;class RE{constructor(t,r){this.onFrame=t,this.onIncomingPing=r,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,r=!1){let n;if(typeof t=="string"?n=this._encoder.encode(t):n=new Uint8Array(t),r&&n[n.length-1]!==0){const s=new Uint8Array(n.length+1);s.set(n,0),s[n.length]=0,n=s}for(let s=0;s<n.length;s++){const i=n[s];this._onByte(i)}}_collectFrame(t){if(t!==pp&&t!==pa){if(t===ma){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==pa){if(t===ma){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==pa){if(t===ma){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===PE){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==pa){if(t===ma){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(r=>r[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===pp){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var pn;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(pn||(pn={}));var ar;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(ar||(ar={}));var xl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(xl||(xl={}));var pi;(function(e){e.Interval="interval",e.Worker="worker"})(pi||(pi={}));class IE{constructor(t,r=pi.Interval,n){this._interval=t,this._strategy=r,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===pi.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=r=>t(r.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const r=Date.now();this._timer=setInterval(()=>{t(Date.now()-r)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class bt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}bt.V1_0="1.0";bt.V1_1="1.1";bt.V1_2="1.2";bt.default=new bt([bt.V1_2,bt.V1_1,bt.V1_0]);class AE{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,r,n){this._client=t,this._webSocket=r,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===bt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const i=s.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===bt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,i,h),l.nack=(h={})=>c.nack(u,i,h),a(l)},RECEIPT:s=>{const i=this._receiptWatchers[s.headers["receipt-id"]];i?(i(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}start(){const t=new RE(r=>{const n=mn.fromRawFrame(r,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=r=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data;this.debug(`<<< ${n}`)}t.parseChunk(r.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=r=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(r)},this._webSocket.onerror=r=>{this.onWebSocketError(r)},this._webSocket.onopen=()=>{const r=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),r["accept-version"]=this.stompVersions.supportedVersions(),r["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:r})}}_setupHeartbeat(t){if(t.version!==bt.V1_1&&t.version!==bt.V1_2||!t["heart-beat"])return;const[r,n]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&n!==0){const s=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${s}ms`),this._pinger=new IE(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===pn.OPEN&&(this._webSocket.send(Oo.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&r!==0){const s=Math.max(this.heartbeatIncoming,r);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>s*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===pn.CONNECTING||this._webSocket.readyState===pn.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&_E(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:r,headers:n,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=new mn({command:r,headers:n,body:s,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,r=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(r)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===pn.CONNECTING||this._webSocket.readyState===pn.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:r,headers:n,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=Object.assign({destination:r},n);this._transmit({command:"SEND",headers:l,body:s,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(t,r){this._receiptWatchers[t]=r}subscribe(t,r,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=t,this._subscriptions[n.id]=r,this._transmit({command:"SUBSCRIBE",headers:n});const s=this;return{id:n.id,unsubscribe(i){return s.unsubscribe(n.id,i)}}}unsubscribe(t,r={}){r=Object.assign({},r),delete this._subscriptions[t],r.id=t,this._transmit({command:"UNSUBSCRIBE",headers:r})}begin(t){const r=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:r}});const n=this;return{id:r,commit(){n.commit(r)},abort(){n.abort(r)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,r,n={}){n=Object.assign({},n),this._connectedVersion===bt.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"ACK",headers:n})}nack(t,r,n={}){return n=Object.assign({},n),this._connectedVersion===bt.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"NACK",headers:n})}}class cy{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===ar.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=bt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=xl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=pi.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=ar.INACTIVE;const r=()=>{};this.debug=r,this.beforeConnect=r,this.onConnect=r,this.onDisconnect=r,this.onUnhandledMessage=r,this.onUnhandledReceipt=r,this.onUnhandledFrame=r,this.onStompError=r,this.onWebSocketClose=r,this.onWebSocketError=r,this.logRawCommunication=!1,this.onChangeState=r,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(ar.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===ar.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new AE(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:r=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(r)},onDisconnect:r=>{this.onDisconnect(r)},onStompError:r=>{this.onStompError(r)},onWebSocketClose:r=>{this._stompHandler=void 0,this.state===ar.DEACTIVATING&&this._changeState(ar.INACTIVE),this.onWebSocketClose(r),this.active&&this._schedule_reconnect()},onWebSocketError:r=>{this.onWebSocketError(r)},onUnhandledMessage:r=>{this.onUnhandledMessage(r)},onUnhandledReceipt:r=>{this.onUnhandledReceipt(r)},onUnhandledFrame:r=>{this.onUnhandledFrame(r)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===xl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var i;const r=t.force||!1,n=this.active;let s;if(this.state===ar.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(ar.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==pn.CLOSED){const a=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{a(u),l()}})}else return this._changeState(ar.INACTIVE),Promise.resolve();return r?(i=this._stompHandler)==null||i.discardWebsocket():n&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,r){this._checkConnection(),this._stompHandler.watchForReceipt(t,r)}subscribe(t,r,n={}){return this._checkConnection(),this._stompHandler.subscribe(t,r,n)}unsubscribe(t,r={}){this._checkConnection(),this._stompHandler.unsubscribe(t,r)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,r,n={}){this._checkConnection(),this._stompHandler.ack(t,r,n)}nack(t,r,n={}){this._checkConnection(),this._stompHandler.nack(t,r,n)}}const OE=({roomId:e,userId:t,onMessageReceived:r})=>{const[n,s]=d.useState(!1),[i,a]=d.useState(!1),l=d.useRef(null),c=d.useRef(null),u=d.useRef(0),h=5,f=d.useCallback(()=>{if(u.current>=h){console.error("Max reconnection attempts reached");return}const x=Math.min(1e3*Math.pow(2,u.current),3e4);console.log(`Scheduling reconnect attempt ${u.current+1} in ${x}ms`),c.current=setTimeout(()=>{u.current++,m()},x)},[]),m=d.useCallback(()=>{if(!e||!t||i||n)return;const x=localStorage.getItem("accessToken");if(!x){console.error("No access token found for WebSocket connection");return}console.log("Connecting to DM WebSocket for room:",e,"Attempt:",u.current+1),a(!0);const N=new cy({brokerURL:"ws://localhost:8080/ws",connectHeaders:{Authorization:`Bearer ${x}`},debug:g=>{console.log("STOMP Debug:",g)},onConnect:()=>{console.log("DM WebSocket connected for room:",e),s(!0),a(!1),u.current=0,N.subscribe(`/topic/dm.room.${e}`,g=>{try{const p=JSON.parse(g.body);console.log("Received DM message:",p),r(p)}catch(p){console.error("Error parsing DM message:",p)}})},onDisconnect:()=>{console.log("DM WebSocket disconnected"),s(!1),a(!1),l.current&&u.current<h&&f()},onStompError:g=>{console.error("STOMP Error:",g),s(!1),a(!1),u.current<h&&f()}});l.current=N,N.activate()},[e,t,i,n,r,f]),y=d.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),u.current=0,l.current&&(console.log("Disconnecting DM WebSocket"),l.current.deactivate(),l.current=null,s(!1),a(!1))},[]),w=d.useCallback(x=>{if(!l.current||!n||!e||!t){console.error("Cannot send message: WebSocket not connected or missing required data");return}const N={senderId:t,roomId:e,content:x,isRead:!1,createdAt:new Date().toISOString()};console.log("Sending DM message:",N),l.current.publish({destination:"/app/dm.send",body:JSON.stringify(N)})},[e,t,n]);return d.useEffect(()=>(e&&t?m():y(),()=>{c.current&&(clearTimeout(c.current),c.current=null),y()}),[e,t,m,y]),{isConnected:n,isConnecting:i,sendMessage:w,connect:m,disconnect:y}};function LE({isOpen:e,onClose:t,onBack:r,user:n,currentUserId:s,getDmMessages:i}){const[a,l]=d.useState([]),[c,u]=d.useState(""),[h]=d.useState(!1),[f,m]=d.useState(!1),[y,w]=d.useState(null),x=d.useRef(null),N=d.useRef(null),{isConnected:g,sendMessage:p}=OE({roomId:(n==null?void 0:n.roomId)||null,userId:s,onMessageReceived:k=>{const _={id:k.id,senderId:k.senderId,senderName:k.senderId===s?"":(n==null?void 0:n.name)||"Unknown",content:k.content,timestamp:v(k.createdAt),type:"text",isOwnMessage:k.senderId===s};l(P=>[...P,_])}});d.useEffect(()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})},[a]),d.useEffect(()=>{e&&N.current&&N.current.focus()},[e]),d.useEffect(()=>{n!=null&&n.roomId&&b()},[n==null?void 0:n.roomId]);const v=k=>new Date(k).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),b=async()=>{if(n!=null&&n.roomId)try{m(!0),w(null);const _=(await i(n.roomId)).data.map(P=>({id:P.id,senderId:P.senderId,senderName:P.senderId===s?"":(n==null?void 0:n.name)||"Unknown",content:P.content,timestamp:v(P.createdAt),type:"text",isOwnMessage:P.senderId===s}));l(_)}catch(k){console.error("Error loading messages:",k),w("   .")}finally{m(!1)}},j=()=>{!c.trim()||!n||!g||(console.log("Sending message via WebSocket:",c.trim()),p(c.trim()),u(""))},T=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),j())},C=k=>k;return!e||!n?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:r,className:"p-1 hover:bg-white/10",children:o.jsx(oo,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(De,{className:"h-8 w-8",children:[o.jsx($e,{src:n.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-sm",children:n.name.charAt(0)})]}),n.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:n.name}),o.jsx("p",{className:"text-xs text-white/60",children:n.isOnline?"":""})]})]})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(pr,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(EE,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[f&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),y&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:y}),!f&&!y&&a.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),a.map((k,_)=>{const P=_===0||a[_-1].timestamp!==k.timestamp||a[_-1].isOwnMessage!==k.isOwnMessage;return o.jsx("div",{className:`flex ${k.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${k.isOwnMessage?"order-2":"order-1"}`,children:[!k.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(De,{className:"h-6 w-6",children:[o.jsx($e,{src:n.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:n.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:k.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${k.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:k.content})}),P&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${k.isOwnMessage?"text-right":"text-left"}`,children:C(k.timestamp)})]})},k.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(De,{className:"h-6 w-6",children:[o.jsx($e,{src:n.avatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:n.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:x})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(kf,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Be,{ref:N,value:c,onChange:k=>u(k.target.value),onKeyPress:T,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(Vj,{className:"w-4 h-4"})})]}),o.jsx($,{onClick:j,disabled:!c.trim(),size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(Tf,{className:"w-4 h-4"})})]})})]})})}var uy=["PageUp","PageDown"],dy=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fy={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},co="Slider",[hd,ME,DE]=Ff(co),[hy,dP]=Lr(co,[DE]),[$E,Yl]=hy(co),my=d.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:w,...x}=e,N=d.useRef(new Set),g=d.useRef(0),v=a==="horizontal"?zE:FE,[b=[],j]=ns({prop:h,defaultProp:u,onChange:F=>{var E;(E=[...N.current][g.current])==null||E.focus(),f(F)}}),T=d.useRef(b);function C(F){const S=VE(b,F);P(F,S)}function k(F){P(F,g.current)}function _(){const F=T.current[g.current];b[g.current]!==F&&m(b)}function P(F,S,{commit:E}={commit:!1}){const z=qE(i),G=QE(Math.round((F-n)/i)*i+n,z),I=fi(G,[n,s]);j((W=[])=>{const R=UE(W,I,S);if(XE(R,c*i)){g.current=R.indexOf(I);const H=String(R)!==String(W);return H&&E&&m(R),H?R:W}else return W})}return o.jsx($E,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:g,thumbs:N.current,values:b,orientation:a,form:w,children:o.jsx(hd.Provider,{scope:e.__scopeSlider,children:o.jsx(hd.Slot,{scope:e.__scopeSlider,children:o.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:ue(x.onPointerDown,()=>{l||(T.current=b)}),min:n,max:s,inverted:y,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:_,onHomeKeyDown:()=>!l&&P(n,0,{commit:!0}),onEndKeyDown:()=>!l&&P(s,b.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:S})=>{if(!l){const G=uy.includes(F.key)||F.shiftKey&&dy.includes(F.key)?10:1,I=g.current,W=b[I],R=i*G*S;P(W+R,I,{commit:!0})}}})})})})});my.displayName=co;var[py,gy]=hy(co,{startEdge:"left",endEdge:"right",size:"width",direction:1}),zE=d.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,m]=d.useState(null),y=xe(t,v=>m(v)),w=d.useRef(void 0),x=Si(s),N=x==="ltr",g=N&&!i||!N&&i;function p(v){const b=w.current||f.getBoundingClientRect(),j=[0,b.width],C=ih(j,g?[r,n]:[n,r]);return w.current=b,C(v-b.left)}return o.jsx(py,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(vy,{dir:x,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const b=p(v.clientX);a==null||a(b)},onSlideMove:v=>{const b=p(v.clientX);l==null||l(b)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:v=>{const j=fy[g?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:j?-1:1})}})})}),FE=d.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=xe(t,h),m=d.useRef(void 0),y=!s;function w(x){const N=m.current||h.current.getBoundingClientRect(),g=[0,N.height],v=ih(g,y?[n,r]:[r,n]);return m.current=N,v(x-N.top)}return o.jsx(py,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(vy,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const N=w(x.clientY);i==null||i(N)},onSlideMove:x=>{const N=w(x.clientY);a==null||a(N)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=fy[y?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),vy=d.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=Yl(co,r);return o.jsx(ce.span,{...u,ref:t,onKeyDown:ue(e.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):uy.concat(dy).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ue(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():n(f)}),onPointerMove:ue(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ue(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),xy="SliderTrack",yy=d.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Yl(xy,r);return o.jsx(ce.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});yy.displayName=xy;var md="SliderRange",wy=d.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Yl(md,r),i=gy(md,r),a=d.useRef(null),l=xe(t,a),c=s.values.length,u=s.values.map(m=>Ny(m,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(ce.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});wy.displayName=md;var pd="SliderThumb",by=d.forwardRef((e,t)=>{const r=ME(e.__scopeSlider),[n,s]=d.useState(null),i=xe(t,l=>s(l)),a=d.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(BE,{...e,ref:i,index:a})}),BE=d.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...i}=e,a=Yl(pd,r),l=gy(pd,r),[c,u]=d.useState(null),h=xe(t,p=>u(p)),f=c?a.form||!!c.closest("form"):!0,m=Xf(c),y=a.values[n],w=y===void 0?0:Ny(y,a.min,a.max),x=HE(n,a.values.length),N=m==null?void 0:m[l.size],g=N?KE(N,w,l.direction):0;return d.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(hd.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(ce.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:ue(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),f&&o.jsx(jy,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:y},n)]})});by.displayName=pd;var WE="RadioBubbleInput",jy=d.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=d.useRef(null),i=xe(s,n),a=Yf(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ce.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});jy.displayName=WE;function UE(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,i)=>s-i)}function Ny(e,t,r){const i=100/(r-t)*(e-t);return fi(i,[0,100])}function HE(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function VE(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function KE(e,t,r){const n=e/2,i=ih([0,50],[0,n]);return(n-i(t)*r)*r}function GE(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function XE(e,t){if(t>0){const r=GE(e);return Math.min(...r)>=t}return!0}function ih(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function qE(e){return(String(e).split(".")[1]||"").length}function QE(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var YE=my,JE=yy,ZE=wy,e4=by;function t4({className:e,defaultValue:t,value:r,min:n=0,max:s=100,...i}){const a=d.useMemo(()=>Array.isArray(r)?r:Array.isArray(t)?t:[n,s],[r,t,n,s]);return o.jsxs(YE,{"data-slot":"slider",defaultValue:t,value:r,min:n,max:s,className:Ce("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[o.jsx(JE,{"data-slot":"slider-track",className:Ce("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(ZE,{"data-slot":"slider-range",className:Ce("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(l,c)=>o.jsx(e4,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}var Sy={exports:{}},gd={};globalThis.crypto&&globalThis.crypto.getRandomValues?gd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:gd.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t};var r4=gd,gp="abcdefghijklmnopqrstuvwxyz012345",uo={string:function(e){for(var t=gp.length,r=r4.randomBytes(e),n=[],s=0;s<e;s++)n.push(gp.substr(r[s]%t,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,r=new Array(t+1).join("0");return(r+this.number(e)).slice(-t)}};(function(e){var t=uo,r={},n=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(a,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+a,l),globalThis.attachEvent("on"+a,l))},detachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(a,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+a,l),globalThis.detachEvent("on"+a,l))},unloadAdd:function(a){if(s)return null;var l=t.string(8);return r[l]=a,n&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(a){a in r&&delete r[a]},triggerUnloadCallbacks:function(){for(var a in r)r[a](),delete r[a]}};var i=function(){n||(n=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",i)})(Sy);var zn=Sy.exports,n4=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},ah={},s4=Object.prototype.hasOwnProperty,o4;function vp(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function xp(e){try{return encodeURIComponent(e)}catch{return null}}function i4(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var s=vp(n[1]),i=vp(n[2]);s===null||i===null||s in r||(r[s]=i)}return r}function a4(e,t){t=t||"";var r=[],n,s;typeof t!="string"&&(t="?");for(s in e)if(s4.call(e,s)){if(n=e[s],!n&&(n===null||n===o4||isNaN(n))&&(n=""),s=xp(s),n=xp(n),s===null||n===null)continue;r.push(s+"="+n)}return r.length?t+r.join("&"):""}ah.stringify=a4;ah.parse=i4;var Cy=n4,Jl=ah,l4=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ky=/[\n\r\t]/g,c4=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Ey=/:\d+$/,u4=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d4=/^[a-zA-Z]:/;function lh(e){return(e||"").toString().replace(l4,"")}var vd=[["#","hash"],["?","query"],function(t,r){return Pr(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],yp={hash:1,query:1};function Ty(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},s=typeof e,i;if(e.protocol==="blob:")n=new Ar(unescape(e.pathname),{});else if(s==="string"){n=new Ar(e,{});for(i in yp)delete n[i]}else if(s==="object"){for(i in e)i in yp||(n[i]=e[i]);n.slashes===void 0&&(n.slashes=c4.test(e.href))}return n}function Pr(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function _y(e,t){e=lh(e),e=e.replace(ky,""),t=t||{};var r=u4.exec(e),n=r[1]?r[1].toLowerCase():"",s=!!r[2],i=!!r[3],a=0,l;return s?i?(l=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(l=r[2]+r[4],a=r[2].length):i?(l=r[3]+r[4],a=r[3].length):l=r[4],n==="file:"?a>=2&&(l=l.slice(2)):Pr(n)?l=r[4]:n?s&&(l=l.slice(2)):a>=2&&Pr(t.protocol)&&(l=r[4]),{protocol:n,slashes:s||Pr(n),slashesCount:a,rest:l}}function f4(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,s=r[n-1],i=!1,a=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),a++):a&&(n===0&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),(s==="."||s==="..")&&r.push(""),r.join("/")}function Ar(e,t,r){if(e=lh(e),e=e.replace(ky,""),!(this instanceof Ar))return new Ar(e,t,r);var n,s,i,a,l,c,u=vd.slice(),h=typeof t,f=this,m=0;for(h!=="object"&&h!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=Jl.parse),t=Ty(t),s=_y(e||"",t),n=!s.protocol&&!s.slashes,f.slashes=s.slashes||n&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||d4.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Pr(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(a=u[m],typeof a=="function"){e=a(e,f);continue}i=a[0],c=a[1],i!==i?f[c]=e:typeof i=="string"?(l=i==="@"?e.lastIndexOf(i):e.indexOf(i),~l&&(typeof a[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+a[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=i.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||n&&a[3]&&t[c]||"",a[4]&&(f[c]=f[c].toLowerCase())}r&&(f.query=r(f.query)),n&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=f4(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&Pr(f.protocol)&&(f.pathname="/"+f.pathname),Cy(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&Pr(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function h4(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||Jl.parse)(t)),n[e]=t;break;case"port":n[e]=t,Cy(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,Ey.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==s?s+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(n.username=t.slice(0,i),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(i+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<vd.length;a++){var l=vd[a];l[4]&&(n[l[1]]=n[l[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&Pr(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function m4(e){(!e||typeof e!="function")&&(e=Jl.stringify);var t,r=this,n=r.host,s=r.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var i=s+(r.protocol&&r.slashes||Pr(r.protocol)?"//":"");return r.username?(i+=r.username,r.password&&(i+=":"+r.password),i+="@"):r.password?(i+=":"+r.password,i+="@"):r.protocol!=="file:"&&Pr(r.protocol)&&!n&&r.pathname!=="/"&&(i+="@"),(n[n.length-1]===":"||Ey.test(r.hostname)&&!r.port)&&(n+=":"),i+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(i+=r.hash),i}Ar.prototype={set:h4,toString:m4};Ar.extractProtocol=_y;Ar.location=Ty;Ar.trimLeft=lh;Ar.qs=Jl;var Py=Ar,p4=Py,tr={getOrigin:function(e){if(!e)return null;var t=new p4(e);if(t.protocol==="file:")return null;var r=t.port;return r||(r=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},xd={exports:{}};typeof Object.create=="function"?xd.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:xd.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Se=xd.exports,xt={};function Zl(){this._listeners={}}Zl.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];r.indexOf(t)===-1&&(r=r.concat([t])),this._listeners[e]=r};Zl.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var n=r.indexOf(t);if(n!==-1){r.length>1?this._listeners[e]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[e];return}}};Zl.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var n=this._listeners[t],s=0;s<n.length;s++)n[s].apply(this,r)};var Ry=Zl,g4=Se,ec=Ry;function An(){ec.call(this)}g4(An,ec);An.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};An.prototype.once=function(e,t){var r=this,n=!1;function s(){r.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}this.on(e,s)};An.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var r=arguments.length,n=new Array(r-1),s=1;s<r;s++)n[s-1]=arguments[s];for(var i=0;i<t.length;i++)t[i].apply(this,n)}};An.prototype.on=An.prototype.addListener=ec.prototype.addEventListener;An.prototype.removeListener=ec.prototype.removeEventListener;xt.EventEmitter=An;var yd={exports:{}},wp=globalThis.WebSocket||globalThis.MozWebSocket;wp?yd.exports=function(t){return new wp(t)}:yd.exports=void 0;var v4=yd.exports,Iy=zn,x4=tr,y4=Se,Ay=xt.EventEmitter,Oy=v4,bp=function(){};function nn(e,t,r){if(!nn.enabled())throw new Error("Transport created when disabled");Ay.call(this);var n=this,s=x4.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new Oy(this.url,[],r),this.ws.onmessage=function(i){bp("message event",i.data),n.emit("message",i.data)},this.unloadRef=Iy.unloadAdd(function(){n.ws.close()}),this.ws.onclose=function(i){bp("close event",i.code,i.reason),n.emit("close",i.code,i.reason),n._cleanup()},this.ws.onerror=function(i){n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}y4(nn,Ay);nn.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};nn.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};nn.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),Iy.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};nn.enabled=function(){return!!Oy};nn.transportName="websocket";nn.roundTrips=2;var w4=nn,b4=Se,Ly=xt.EventEmitter,j4=function(){};function fs(e,t){Ly.call(this),this.sendBuffer=[],this.sender=t,this.url=e}b4(fs,Ly);fs.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};fs.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};fs.prototype.sendSchedule=function(){j4("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(r){e.sendStop=null,r?(e.emit("close",r.code||1006,"Sending error: "+r),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};fs.prototype._cleanup=function(){this.removeAllListeners()};fs.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var N4=fs,S4=Se,My=xt.EventEmitter,C4=function(){};function tc(e,t,r){My.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=r,this._scheduleReceiver()}S4(tc,My);tc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(r){e.emit("message",r)}),t.once("close",function(r,n){C4("close",r,n,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(n==="network"?e._scheduleReceiver():(e.emit("close",r||1006,n),e.removeAllListeners()))})};tc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var k4=tc,E4=Se,T4=tr,ch=N4,_4=k4;function uh(e,t,r,n,s){var i=T4.addPath(e,t),a=this;ch.call(this,e,r),this.poll=new _4(n,i,s),this.poll.on("message",function(l){a.emit("message",l)}),this.poll.once("close",function(l,c){a.poll=null,a.emit("close",l,c),a.close()})}E4(uh,ch);uh.prototype.close=function(){ch.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var Dy=uh,P4=Se,R4=tr,$y=Dy;function I4(e){return function(t,r,n){var s={};typeof r=="string"&&(s.headers={"Content-type":"text/plain"});var i=R4.addPath(t,"/xhr_send"),a=new e("POST",i,r,s);return a.once("finish",function(l){if(a=null,l!==200&&l!==204)return n(new Error("http status "+l));n()}),function(){a.close(),a=null;var l=new Error("Aborted");l.code=1e3,n(l)}}}function zy(e,t,r,n){$y.call(this,e,t,I4(n),r,n)}P4(zy,$y);var fo=zy,A4=Se,Fy=xt.EventEmitter;function ki(e,t){Fy.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,s){r._chunkHandler(n,s),r.xo=null;var i=n===200?"network":"permanent";r.emit("close",null,i),r._cleanup()})}A4(ki,Fy);ki.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var r=-1;;this.bufferPosition+=r+1){var n=t.slice(this.bufferPosition);if(r=n.indexOf(`
`),r===-1)break;var s=n.slice(0,r);s&&this.emit("message",s)}};ki.prototype._cleanup=function(){this.removeAllListeners()};ki.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var rc=ki,By=xt.EventEmitter,O4=Se,Wy=zn,L4=tr,gi=globalThis.XMLHttpRequest,Kc=function(){};function Or(e,t,r,n){var s=this;By.call(this),setTimeout(function(){s._start(e,t,r,n)},0)}O4(Or,By);Or.prototype._start=function(e,t,r,n){var s=this;try{this.xhr=new gi}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=L4.addQuery(t,"t="+ +new Date),this.unloadRef=Wy.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Kc("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&Or.supportsCORS&&(this.xhr.withCredentials=!0),n&&n.headers)for(var i in n.headers)this.xhr.setRequestHeader(i,n.headers[i]);this.xhr.onreadystatechange=function(){if(s.xhr){var a=s.xhr,l,c;switch(Kc("readyState",a.readyState),a.readyState){case 3:try{c=a.status,l=a.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=a.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Kc("finish",c,a.responseText),s.emit("finish",c,a.responseText),s._cleanup(!1);break}}};try{s.xhr.send(r)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Or.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Wy.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Or.prototype.close=function(){this._cleanup(!0)};Or.enabled=!!gi;var jp=["Active"].concat("Object").join("X");!Or.enabled&&jp in globalThis&&(gi=function(){try{return new globalThis[jp]("Microsoft.XMLHTTP")}catch{return null}},Or.enabled=!!new gi);var Uy=!1;try{Uy="withCredentials"in new gi}catch{}Or.supportsCORS=Uy;var Hy=Or,M4=Se,yl=Hy;function dh(e,t,r,n){yl.call(this,e,t,r,n)}M4(dh,yl);dh.enabled=yl.enabled&&yl.supportsCORS;var nc=dh,D4=Se,fh=Hy;function hh(e,t,r){fh.call(this,e,t,r,{noCredentials:!0})}D4(hh,fh);hh.enabled=fh.enabled;var Ei=hh,Ti={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},$4=Se,Vy=fo,z4=rc,wd=nc,F4=Ei,B4=Ti;function ho(e){if(!F4.enabled&&!wd.enabled)throw new Error("Transport created when disabled");Vy.call(this,e,"/xhr_streaming",z4,wd)}$4(ho,Vy);ho.enabled=function(e){return e.nullOrigin||B4.isOpera()?!1:wd.enabled};ho.transportName="xhr-streaming";ho.roundTrips=2;ho.needBody=!!globalThis.document;var W4=ho,Ky=xt.EventEmitter,U4=Se,Gy=zn,H4=Ti,V4=tr,K4=function(){};function hs(e,t,r){var n=this;Ky.call(this),setTimeout(function(){n._start(e,t,r)},0)}U4(hs,Ky);hs.prototype._start=function(e,t,r){var n=this,s=new globalThis.XDomainRequest;t=V4.addQuery(t,"t="+ +new Date),s.onerror=function(){n._error()},s.ontimeout=function(){n._error()},s.onprogress=function(){K4("progress",s.responseText),n.emit("chunk",200,s.responseText)},s.onload=function(){n.emit("finish",200,s.responseText),n._cleanup(!1)},this.xdr=s,this.unloadRef=Gy.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};hs.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};hs.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Gy.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};hs.prototype.close=function(){this._cleanup(!0)};hs.enabled=!!(globalThis.XDomainRequest&&H4.hasDomain());var mh=hs,G4=Se,Xy=fo,X4=rc,bd=mh;function _i(e){if(!bd.enabled)throw new Error("Transport created when disabled");Xy.call(this,e,"/xhr_streaming",X4,bd)}G4(_i,Xy);_i.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:bd.enabled&&e.sameScheme};_i.transportName="xdr-streaming";_i.roundTrips=2;var qy=_i,Qy=globalThis.EventSource,q4=Se,Yy=xt.EventEmitter,Q4=Qy,Np=function(){};function Pi(e){Yy.call(this);var t=this,r=this.es=new Q4(e);r.onmessage=function(n){Np("message",n.data),t.emit("message",decodeURI(n.data))},r.onerror=function(n){Np("error",r.readyState);var s=r.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}q4(Pi,Yy);Pi.prototype.abort=function(){this._cleanup(),this._close("user")};Pi.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Pi.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var Y4=Pi,J4=Se,Jy=fo,Z4=Y4,eT=nc,tT=Qy;function mo(e){if(!mo.enabled())throw new Error("Transport created when disabled");Jy.call(this,e,"/eventsource",Z4,eT)}J4(mo,Jy);mo.enabled=function(){return!!tT};mo.transportName="eventsource";mo.roundTrips=2;var Sp=mo,Gc,Cp;function Zy(){return Cp||(Cp=1,Gc="1.6.1"),Gc}var ew={exports:{}};(function(e){var t=zn,r=Ti;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(n,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:n,data:s||""}),"*")},createIframe:function(n,s){var i=globalThis.document.createElement("iframe"),a,l,c=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},u=function(){i&&(c(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),t.unloadDel(l))},h=function(m){i&&(u(),s(m))},f=function(m,y){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(m,y)}catch{}},0)};return i.src=n,i.style.display="none",i.style.position="absolute",i.onerror=function(){h("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(i),a=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(n,s){var i=["Active"].concat("Object").join("X"),a=new globalThis[i]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){a&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=a=null,CollectGarbage())},m=function(x){a&&(f(),s(x))},y=function(x,N){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,N)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=a.createElement("div");return a.body.appendChild(w),u=a.createElement("iframe"),w.appendChild(u),u.src=n,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(f),{post:y,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!r.isKonqueror())})(ew);var Ri=ew.exports,rT=Se,tw=xt.EventEmitter,nT=Zy(),jd=tr,rw=Ri,nw=zn,sT=uo,To=function(){};function $r(e,t,r){if(!$r.enabled())throw new Error("Transport created when disabled");tw.call(this);var n=this;this.origin=jd.getOrigin(r),this.baseUrl=r,this.transUrl=t,this.transport=e,this.windowId=sT.string(8);var s=jd.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=rw.createIframe(s,function(i){n.emit("close",1006,"Unable to load an iframe ("+i+")"),n.close()}),this.onmessageCallback=this._message.bind(this),nw.attachEvent("message",this.onmessageCallback)}rT($r,tw);$r.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){nw.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};$r.prototype._message=function(e){if(To("message",e.data),!jd.isOriginEqual(e.origin,this.origin)){To("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{To("bad json",e.data);return}if(t.windowId!==this.windowId){To("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([nT,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=JSON.parse(t.data)}catch{To("bad json",t.data);return}this.emit("close",r[0],r[1]),this.close();break}};$r.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};$r.prototype.send=function(e){this.postMessage("m",e)};$r.enabled=function(){return rw.iframeEnabled};$r.transportName="iframe";$r.roundTrips=2;var sw=$r,ph={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}},oT=Se,ga=sw,iT=ph,Xc=function(e){function t(r,n){ga.call(this,e.transportName,r,n)}return oT(t,ga),t.enabled=function(r,n){if(!globalThis.document)return!1;var s=iT.extend({},n);return s.sameOrigin=!0,e.enabled(s)&&ga.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=ga.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},aT=Se,Un=Ri,lT=tr,ow=xt.EventEmitter,cT=uo,uT=function(){};function xr(e){ow.call(this);var t=this;Un.polluteGlobalNamespace(),this.id="a"+cT.string(6),e=lT.addQuery(e,"c="+decodeURIComponent(Un.WPrefix+"."+this.id)),uT("using htmlfile",xr.htmlfileEnabled);var r=xr.htmlfileEnabled?Un.createHtmlfile:Un.createIframe;globalThis[Un.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(n){t.emit("message",n)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=r(e,function(){t._cleanup(),t._close("permanent")})}aT(xr,ow);xr.prototype.abort=function(){this._cleanup(),this._close("user")};xr.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Un.WPrefix][this.id]};xr.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};xr.htmlfileEnabled=!1;var kp=["Active"].concat("Object").join("X");if(kp in globalThis)try{xr.htmlfileEnabled=!!new globalThis[kp]("htmlfile")}catch{}xr.enabled=xr.htmlfileEnabled||Un.iframeEnabled;var dT=xr,fT=Se,Nd=dT,hT=Ei,iw=fo;function Ii(e){if(!Nd.enabled)throw new Error("Transport created when disabled");iw.call(this,e,"/htmlfile",Nd,hT)}fT(Ii,iw);Ii.enabled=function(e){return Nd.enabled&&e.sameOrigin};Ii.transportName="htmlfile";Ii.roundTrips=2;var Ep=Ii,mT=Se,aw=fo,pT=rc,Sd=nc,lw=Ei;function Ai(e){if(!lw.enabled&&!Sd.enabled)throw new Error("Transport created when disabled");aw.call(this,e,"/xhr",pT,Sd)}mT(Ai,aw);Ai.enabled=function(e){return e.nullOrigin?!1:lw.enabled&&e.sameOrigin?!0:Sd.enabled};Ai.transportName="xhr-polling";Ai.roundTrips=2;var Tp=Ai,gT=Se,cw=fo,vT=qy,xT=rc,_p=mh;function Oi(e){if(!_p.enabled)throw new Error("Transport created when disabled");cw.call(this,e,"/xhr",xT,_p)}gT(Oi,cw);Oi.enabled=vT.enabled;Oi.transportName="xdr-polling";Oi.roundTrips=2;var yT=Oi,Ko=Ri,uw=uo,wT=Ti,bT=tr,jT=Se,dw=xt.EventEmitter,NT=function(){};function Zt(e){var t=this;dw.call(this),Ko.polluteGlobalNamespace(),this.id="a"+uw.string(6);var r=bT.addQuery(e,"c="+encodeURIComponent(Ko.WPrefix+"."+this.id));globalThis[Ko.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Zt.timeout)}jT(Zt,dw);Zt.prototype.abort=function(){if(globalThis[Ko.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};Zt.timeout=35e3;Zt.scriptErrorTimeout=1e3;Zt.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};Zt.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};Zt.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[Ko.WPrefix][this.id]};Zt.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},Zt.scriptErrorTimeout))};Zt.prototype._createScript=function(e){var t=this,r=this.script=globalThis.document.createElement("script"),n;if(r.id="a"+uw.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(NT("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){t.loadedOkay=!0;try{r.onclick()}catch{}}r&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&globalThis.document.attachEvent)if(wT.isOpera())n=this.script2=globalThis.document.createElement("script"),n.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=n.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild),n&&s.insertBefore(n,s.firstChild)};var ST=Zt,CT=uo,Pp=tr,kT=function(){},Lt,Go;function ET(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function TT(){Lt=globalThis.document.createElement("form"),Lt.style.display="none",Lt.style.position="absolute",Lt.method="POST",Lt.enctype="application/x-www-form-urlencoded",Lt.acceptCharset="UTF-8",Go=globalThis.document.createElement("textarea"),Go.name="d",Lt.appendChild(Go),globalThis.document.body.appendChild(Lt)}var _T=function(e,t,r){Lt||TT();var n="a"+CT.string(8);Lt.target=n,Lt.action=Pp.addQuery(Pp.addPath(e,"/jsonp_send"),"i="+n);var s=ET(n);s.id=n,s.style.display="none",Lt.appendChild(s);try{Go.value=t}catch{}Lt.submit();var i=function(a){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),Go.value="",r(a))};return s.onerror=function(){i()},s.onload=function(){i()},s.onreadystatechange=function(a){kT("onreadystatechange",n,s.readyState),s.readyState==="complete"&&i()},function(){i(new Error("Aborted"))}},PT=Se,fw=Dy,RT=ST,IT=_T;function ms(e){if(!ms.enabled())throw new Error("Transport created when disabled");fw.call(this,e,"/jsonp",IT,RT)}PT(ms,fw);ms.enabled=function(){return!!globalThis.document};ms.transportName="jsonp-polling";ms.roundTrips=1;ms.needBody=!0;var AT=ms,OT=[w4,W4,qy,Sp,Xc(Sp),Ep,Xc(Ep),Tp,yT,Xc(Tp),AT],vi=Array.prototype,gh=Object.prototype,LT=Function.prototype,xi=String.prototype,qc=vi.slice,vh=gh.toString,hw=function(e){return gh.toString.call(e)==="[object Function]"},MT=function(t){return vh.call(t)==="[object Array]"},mw=function(t){return vh.call(t)==="[object String]"},DT=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Cd;DT?Cd=function(e,t,r,n){!n&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:Cd=function(e,t,r,n){!n&&t in e||(e[t]=r)};var Li=function(e,t,r){for(var n in t)gh.hasOwnProperty.call(t,n)&&Cd(e,n,t[n],r)},pw=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function $T(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function zT(e){return e>>>0}function Qc(){}Li(LT,{bind:function(t){var r=this;if(!hw(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=qc.call(arguments,1),s=function(){if(this instanceof c){var u=r.apply(this,n.concat(qc.call(arguments)));return Object(u)===u?u:this}else return r.apply(t,n.concat(qc.call(arguments)))},i=Math.max(0,r.length-n.length),a=[],l=0;l<i;l++)a.push("$"+l);var c=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(s);return r.prototype&&(Qc.prototype=r.prototype,c.prototype=new Qc,Qc.prototype=null),c}});Li(Array,{isArray:MT});var Rp=Object("a"),gw=Rp[0]!=="a"||!(0 in Rp),FT=function(t){var r=!0,n=!0;return t&&(t.call("foo",function(s,i,a){typeof a!="object"&&(r=!1)}),t.call([1],function(){n=typeof this=="string"},"x")),!!t&&r&&n};Li(vi,{forEach:function(t){var r=pw(this),n=gw&&mw(this)?this.split(""):r,s=arguments[1],i=-1,a=n.length>>>0;if(!hw(t))throw new TypeError;for(;++i<a;)i in n&&t.call(s,n[i],i,r)}},!FT(vi.forEach));var BT=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Li(vi,{indexOf:function(t){var r=gw&&mw(this)?this.split(""):pw(this),n=r.length>>>0;if(!n)return-1;var s=0;for(arguments.length>1&&(s=$T(arguments[1])),s=s>=0?s:Math.max(0,n+s);s<n;s++)if(s in r&&r[s]===t)return s;return-1}},BT);var Ip=xi.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;xi.split=function(t,r){var n=this;if(t===void 0&&r===0)return[];if(vh.call(t)!=="[object RegExp]")return Ip.call(this,t,r);var s=[],i=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,l,c,u,h;for(t=new RegExp(t.source,i+"g"),n+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",i)),r=r===void 0?-1>>>0:zT(r);(c=t.exec(n))&&(u=c.index+c[0].length,!(u>a&&(s.push(n.slice(a,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<n.length&&vi.push.apply(s,c.slice(1)),h=c[0].length,a=u,s.length>=r)));)t.lastIndex===c.index&&t.lastIndex++;return a===n.length?(h||!t.test(""))&&s.push(""):s.push(n.slice(a)),s.length>r?s.slice(0,r):s}}():"0".split(void 0,0).length&&(xi.split=function(t,r){return t===void 0&&r===0?[]:Ip.call(this,t,r)});var WT=xi.substr,UT="".substr&&"0b".substr(-1)!=="b";Li(xi,{substr:function(t,r){return WT.call(this,t<0&&(t=this.length+t)<0?0:t,r)}},UT);var va=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Yc,HT=function(e){var t,r={},n=[];for(t=0;t<65536;t++)n.push(String.fromCharCode(t));return e.lastIndex=0,n.join("").replace(e,function(s){return r[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,r},VT={quote:function(e){var t=JSON.stringify(e);return va.lastIndex=0,va.test(t)?(Yc||(Yc=HT(va)),t.replace(va,function(r){return Yc[r]})):t}},Jc=function(){},KT=function(e){return{filterToEnabled:function(t,r){var n={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&r.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Jc("not in whitelist",s.transportName);return}s.enabled(r)?(Jc("enabled",s.transportName),n.main.push(s),s.facadeTransport&&n.facade.push(s.facadeTransport)):Jc("disabled",s.transportName)}}),n}}},kd={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}kd[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:kd.log});var GT=kd;function ps(e){this.type=e}ps.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this};ps.prototype.stopPropagation=function(){};ps.prototype.preventDefault=function(){};ps.CAPTURING_PHASE=1;ps.AT_TARGET=2;ps.BUBBLING_PHASE=3;var xh=ps,vw=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},XT=Se,xw=xh;function yw(){xw.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}XT(yw,xw);var qT=yw,QT=Se,ww=xh;function bw(e){ww.call(this),this.initEvent("message",!1,!1),this.data=e}QT(bw,ww);var YT=bw,jw=xt.EventEmitter,JT=Se;function Mi(){var e=this;jw.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Mi.timeout)}JT(Mi,jw);Mi.prototype.close=function(){clearTimeout(this.to)};Mi.timeout=2e3;var ZT=Mi,Nw=xt.EventEmitter,e_=Se,t_=ph;function yh(e,t){Nw.call(this);var r=this,n=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,i){var a,l;if(s===200){if(l=+new Date-n,i)try{a=JSON.parse(i)}catch{}t_.isObject(a)||(a={})}r.emit("finish",a,l),r.removeAllListeners()})}e_(yh,Nw);yh.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var Sw=yh,Zc,Ap;function Cw(){if(Ap)return Zc;Ap=1;var e=Se,t=xt.EventEmitter,r=Ei,n=Sw;function s(i){var a=this;t.call(this),this.ir=new n(i,r),this.ir.once("finish",function(l,c){a.ir=null,a.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Zc=s,Zc}var kw=xt.EventEmitter,r_=Se,n_=zn,Ew=sw,s_=Cw();function sc(e,t){var r=this;kw.call(this);var n=function(){var s=r.ifr=new Ew(s_.transportName,t,e);s.once("message",function(i){if(i){var a;try{a=JSON.parse(i)}catch{r.emit("finish"),r.close();return}var l=a[0],c=a[1];r.emit("finish",l,c)}r.close()}),s.once("close",function(){r.emit("finish"),r.close()})};globalThis.document.body?n():n_.attachEvent("load",n)}r_(sc,kw);sc.enabled=function(){return Ew.enabled()};sc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var o_=sc,Tw=xt.EventEmitter,i_=Se,a_=tr,Op=mh,Lp=nc,l_=Ei,c_=ZT,Mp=o_,xa=Sw;function Xr(e,t){var r=this;Tw.call(this),setTimeout(function(){r.doXhr(e,t)},0)}i_(Xr,Tw);Xr._getReceiver=function(e,t,r){return r.sameOrigin?new xa(t,l_):Lp.enabled?new xa(t,Lp):Op.enabled&&r.sameScheme?new xa(t,Op):Mp.enabled()?new Mp(e,t):new xa(t,c_)};Xr.prototype.doXhr=function(e,t){var r=this,n=a_.addPath(e,"/info");this.xo=Xr._getReceiver(e,n,t),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},Xr.timeout),this.xo.once("finish",function(s,i){r._cleanup(!0),r.emit("finish",s,i)})};Xr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};Xr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};Xr.timeout=8e3;var u_=Xr,eu,Dp;function d_(){if(Dp)return eu;Dp=1;var e=Ri;function t(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(r,n){e.postMessage("c",JSON.stringify([r,n]))},t.prototype._transportMessage=function(r){e.postMessage("t",r)},t.prototype._send=function(r){this._transport.send(r)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},eu=t,eu}var tu,$p;function f_(){if($p)return tu;$p=1;var e=tr,t=zn,r=d_(),n=Cw(),s=Ri,i=vw,a=function(){};return tu=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[n.transportName]=n;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=i.hash.slice(1);var m=function(y){if(y.source===parent&&(typeof h>"u"&&(h=y.origin),y.origin===h)){var w;try{w=JSON.parse(y.data)}catch{a("bad json",y.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{a("bad json",w.data);break}var N=x[0],g=x[1],p=x[2],v=x[3];if(N!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+N+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(p,i.href)||!e.isOriginEqual(v,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+p+", "+v+")");f=new r(new u[g](p,v));break;case"m":f._send(w.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},tu}var h_=Py,m_=Se,zp=uo,p_=VT,Lo=tr,g_=zn,v_=KT,x_=ph,y_=Ti,w_=GT,wh=xh,_w=Ry,ya=vw,b_=qT,Fp=YT,j_=u_,Rr=function(){},Pw;function je(e,t,r){if(!(this instanceof je))return new je(e,t,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");_w.call(this),this.readyState=je.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&w_.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return zp.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||zp.numberString(1e3);var s=new h_(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var i=s.protocol==="https:";if(ya.protocol==="https:"&&!i&&!Lo.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<a.length-1&&c===a[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Lo.getOrigin(ya.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Rr("using url",this.url),this._urlInfo={nullOrigin:!y_.hasDomain(),sameOrigin:Lo.isOriginEqual(this.url,ya.href),sameScheme:Lo.isSchemeEqual(this.url,ya.href)},this._ir=new j_(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}m_(je,_w);function Rw(e){return e===1e3||e>=3e3&&e<=4999}je.prototype.close=function(e,t){if(e&&!Rw(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===je.CLOSING||this.readyState===je.CLOSED)){var r=!0;this._close(e||1e3,t||"Normal closure",r)}};je.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===je.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===je.OPEN&&this._transport.send(p_.quote(e))};je.version=Zy();je.CONNECTING=0;je.OPEN=1;je.CLOSING=2;je.CLOSED=3;je.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=x_.extend(e,this._urlInfo);var r=Pw.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main,Rr(this._transports.length+" enabled transports"),this._connect()};je.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Rr("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),g_.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var r=Lo.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[e.transportName],s=new e(r,this._transUrl,n);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};je.prototype._transportTimeout=function(){this.readyState===je.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};je.prototype._transportMessage=function(e){var t=this,r=e.slice(0,1),n=e.slice(1),s;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new wh("heartbeat")),Rr("heartbeat",this.transport);return}if(n)try{s=JSON.parse(n)}catch{}if(!(typeof s>"u"))switch(r){case"a":Array.isArray(s)&&s.forEach(function(i){Rr("message",t.transport),t.dispatchEvent(new Fp(i))});break;case"m":Rr("message",this.transport),this.dispatchEvent(new Fp(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};je.prototype._transportClose=function(e,t){if(Rr("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Rw(e)&&e!==2e3&&this.readyState===je.CONNECTING){this._connect();return}this._close(e,t)};je.prototype._open=function(){Rr("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===je.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=je.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new wh("open")),Rr("connected",this.transport)):this._close(1006,"Server lost session")};je.prototype._close=function(e,t,r){Rr("_close",this.transport,e,t,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===je.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=je.CLOSING,setTimeout((function(){this.readyState=je.CLOSED,n&&this.dispatchEvent(new wh("error"));var s=new b_;s.wasClean=r||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};je.prototype.countRTO=function(e){return e>100?4*e:300+e};var N_=function(e){return Pw=v_(e),f_()(je,e),je},S_=OT,C_=N_(S_);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const k_=_d(C_);function E_({roomId:e,userId:t,onChatMessage:r,onParticipantsUpdate:n,onVideoSync:s,onRoomSync:i,onError:a}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),m=d.useRef(),[y,w]=d.useState(0),x=3,N=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const j=N();console.log("WebSocket   - :",j?"":""),j||console.warn("      ()"),h("connecting"),console.log("WebSocket  :",{url:"http://localhost:8080/ws",token:j?`${j.substring(0,10)}...`:"null"});const T=new cy({webSocketFactory:()=>new k_("http://localhost:8080/ws"),connectHeaders:j?{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",j?{Authorization:`Bearer ${j.substring(0,10)}...`}:{token:"none"})},debug:C=>{console.log("STOMP Debug:",C)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),h("connected"),w(0),T.subscribe(`/topic/rooms/${e}/chat`,C=>{try{const k=JSON.parse(C.body);r==null||r(k)}catch(k){console.error("   :",k)}}),T.subscribe(`/topic/rooms/${e}/participants`,C=>{try{const k=JSON.parse(C.body);n==null||n(k),h("connected"),c(!0)}catch(k){console.error("   :",k)}}),T.subscribe(`/topic/rooms/${e}/video`,C=>{try{const k=JSON.parse(C.body);s==null||s(k)}catch(k){console.error("    :",k)}}),T.subscribe("/user/queue/sync",C=>{try{const k=JSON.parse(C.body);(!("participantsInfoDto"in k)||!k.participantsInfoDto)&&(k.participantsInfoDto={participantDtoList:[],participantsCount:0}),i==null||i(k),h("connected"),c(!0)}catch(k){console.error("    :",k)}}),T.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),h("disconnected")},onStompError:C=>{var k;console.error(" STOMP :",{message:C.headers.message,body:C.body,headers:C.headers}),(k=C.headers.message)!=null&&k.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),a==null||a("    .  .")):a==null||a(` : ${C.headers.message}`),h("error"),y<x&&(w(_=>_+1),m.current=setTimeout(()=>{g()},5e3*y))},onWebSocketError:C=>{console.error(" WebSocket :",C),h("error"),a==null||a("WebSocket   ."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=T,T.activate()},[e,t,r,n,s,i,a]),p=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),m.current&&clearTimeout(m.current),c(!1),h("disconnected"),w(0)},[e,t]),v=d.useCallback(j=>{var C;if(!((C=f.current)!=null&&C.connected)){a==null||a("WebSocket  .");return}const T={chatRoomId:e,content:j};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(T)})},[e,a]),b=d.useCallback(j=>{var T;if(!((T=f.current)!=null&&T.connected)){a==null||a("WebSocket  .");return}f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(j)})},[e,a]);return d.useEffect(()=>{const j=C=>{if(l)return C.preventDefault(),C.returnValue=" ?"," ?"},T=()=>{p()};return window.addEventListener("beforeunload",j),window.addEventListener("unload",T),()=>{window.removeEventListener("beforeunload",j),window.removeEventListener("unload",T)}},[l,p]),d.useEffect(()=>()=>{p()},[p]),{isConnected:l,connectionStatus:u,connect:g,disconnect:p,sendChatMessage:v,sendVideoControl:b,reconnectAttempts:y}}var Ed=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Ed||{});function T_({roomId:e,onBack:t,userId:r,shouldConnect:n=!1,onUserProfileOpen:s}){var Z;const[i,a]=d.useState(!1),[l,c]=d.useState([80]),[u,h]=d.useState(!1),[f,m]=d.useState(!1),[y,w]=d.useState(!0),[x,N]=d.useState(!1),[g,p]=d.useState(""),[v,b]=d.useState(null),[j,T]=d.useState([]),[C,k]=d.useState([]),[_,P]=d.useState(!1),[F,S]=d.useState(!0),[E,z]=d.useState(null),G=d.useRef(null),I=d.useRef(),W=7200,[R,H]=d.useState(!1),[Q,A]=d.useState(0),{isConnected:q,connectionStatus:J,connect:he,disconnect:fe,sendChatMessage:ye,sendVideoControl:te,reconnectAttempts:ae}=E_({roomId:e,userId:r,onChatMessage:O=>{k(Y=>[...Y,O])},onParticipantsUpdate:O=>{const Y=(O.participantDtoList??[]).map(re=>({userId:re.userId??re.username??"",userName:re.userName??re.username??"",userAvatar:re.userAvatar??re.profile??"",isHost:re.isHost??re.isOwner??!1,isOnline:re.isOnline??!0,joinedAt:re.joinedAt??""}));T(Y);const ee=Y.find(re=>re.userId===r);P((ee==null?void 0:ee.isHost)||!1),!q&&typeof he=="function"&&he()},onVideoSync:O=>{Date.now()-O.timestamp<5e3&&!_&&(H(O.isPlaying),A(O.currentTime))},onRoomSync:O=>{const Y={id:O.id,title:O.title,contentTitle:O.contentTitle,ownerId:"",ownerName:"",createdAt:"",headCount:O.participantsInfoDto.participantsCount};b(Y);const re=(O.participantsInfoDto.participantDtoList||[]).map(le=>({userId:le.userId??le.username??"",userName:le.userName??le.username??"",userAvatar:le.userAvatar??le.profile??"",isHost:le.isHost??le.isOwner??!1,isOnline:le.isOnline??!0,joinedAt:le.joinedAt??""}));T(re),k(O.chatMessages??[]);const ke=re.find(le=>le.userId===r);P((ke==null?void 0:ke.isHost)||!1),S(!1)},onError:O=>{z(O)}});d.useEffect(()=>{(async()=>{S(!0),z(null);try{const Y=await Ml.joinWatchRoom(e),ee={id:Y.id,title:Y.title,contentTitle:Y.contentTitle,ownerId:"",ownerName:"",createdAt:"",headCount:Y.participantsInfoDto.participantsCount};b(ee),P(!1),H(!1),A(0),k([]),n&&he()}catch(Y){console.error("Failed to load room data:",Y),z(Y instanceof Error?Y.message:"     .")}finally{S(!1)}})()},[e,r]),d.useEffect(()=>()=>{fe()},[fe]),d.useEffect(()=>{var O;(O=G.current)==null||O.scrollIntoView({behavior:"smooth"})},[C]),d.useEffect(()=>{if(!R)return;const O=setInterval(()=>{A(Y=>Y+1)},1e3);return()=>clearInterval(O)},[R]),d.useEffect(()=>(u&&(I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{h(!1)},3e3)),()=>{I.current&&clearTimeout(I.current)}),[u,l]);const pe=()=>{if(!_)return;const O=!R;H(O),te({videoControlAction:O?Ed.PLAY:Ed.PAUSE,currentTime:Q})},B=()=>{u?a(!i):h(!0)},D=O=>{c(O),a(O[0]===0),console.log(`Volume changed to: ${O[0]}%`)},oe=()=>i||l[0]===0?o.jsx(Qj,{className:"w-5 h-5"}):l[0]<50?o.jsx(Xj,{className:"w-5 h-5"}):o.jsx(qj,{className:"w-5 h-5"}),Le=()=>{m(!f),w(!!f)},He=()=>{!g.trim()||!q||(ye(g),console.log("Sending message:",g),p(""))},Xe=O=>{const Y=Math.floor(O/3600),ee=Math.floor(O%3600/60),re=O%60;return Y>0?`${Y}:${ee.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`:`${ee}:${re.toString().padStart(2,"0")}`},L=O=>new Date(O).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),X=Q/W*100;return F?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(dr,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!n&&!q?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:(v==null?void 0:v.contentTitle)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsxs("span",{children:[(v==null?void 0:v.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ia,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs($,{onClick:he,className:"teal-gradient hover:opacity-80 text-black",children:[J==="connecting"?o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(lt,{className:"w-4 h-4 mr-2"})," "]})]})]})}):E?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:E}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx($,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):v?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!f&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs($,{variant:"ghost",onClick:t,className:"hover:bg-white/10",children:[o.jsx(oo,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:v.contentTitle}),_&&o.jsxs(at,{variant:"secondary",className:"text-xs",children:[o.jsx(ra,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsxs("span",{children:[": ",v.contentTitle]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsxs("span",{children:[j.filter(O=>O.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[q?o.jsx(Jj,{className:"w-4 h-4 text-green-400"}):o.jsx(Yj,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:q?"text-green-400":"text-yellow-400",children:q?"":J==="connecting"?" ":" "}),ae>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",ae,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs($,{variant:"ghost",onClick:()=>w(!y),className:"hover:bg-white/10",children:[o.jsx(Ia,{className:"w-5 h-5"}),y?o.jsx(dn,{className:"w-4 h-4 ml-1"}):o.jsx(Vo,{className:"w-4 h-4 ml-1"})]})})]}),!q&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:J==="connecting"?"   ...":J==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((Z=v==null?void 0:v.contentTitle)==null?void 0:Z.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center group",children:[o.jsx($,{size:"lg",onClick:pe,disabled:!_,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${_?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,children:R?o.jsx(Am,{className:"w-10 h-10 fill-current"}):o.jsx(Nt,{className:"w-10 h-10 fill-current ml-1"})}),!_&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(ra,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"w-full bg-white/20 rounded-full h-1 mb-2",children:o.jsx("div",{className:"bg-[#4ecdc4] h-1 rounded-full transition-all duration-300",style:{width:`${X}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:Xe(Q)}),o.jsx("span",{children:Xe(W)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:pe,className:"hover:bg-white/10",children:R?o.jsx(Am,{className:"w-5 h-5"}):o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:B,className:"hover:bg-white/10",children:oe()}),u&&o.jsxs("div",{className:"absolute left-12 bottom-0 flex items-center rounded-lg px-3 py-2",children:[o.jsx(t4,{value:l,onValueChange:D,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[l[0],"%"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"hover:bg-white/10",children:o.jsx(Wj,{className:"w-5 h-5"})}),f&&o.jsx($,{variant:"ghost",size:"sm",onClick:()=>w(!y),className:"hover:bg-white/10",children:o.jsx(Ia,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:Le,className:"hover:bg-white/10",children:f?o.jsx(Fj,{className:"w-5 h-5"}):o.jsx(zj,{className:"w-5 h-5"})})]})]})]}),f&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${y?"w-80":"w-0 overflow-hidden"}`,children:y&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>N(!x),className:"p-1 hover:bg-white/10",children:o.jsx(lt,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[j.filter(O=>O.isOnline).length,"  "]})]}),x&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${j.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:j.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):j.map(O=>{var Y;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(De,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{O.userId!==r&&s&&s(O.userId)},children:[o.jsx($e,{src:O.userAvatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:((Y=O.userName)==null?void 0:Y.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${O.userId!==r?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{O.userId!==r&&s&&s(O.userId)},children:O.userName}),O.isHost&&o.jsxs(at,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(ra,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${O.isOnline?"bg-green-400":"bg-gray-400"}`})]},O.userId+O.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[F&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),C.map(O=>{var Y,ee;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(De,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx($e,{src:(Y=j.find(re=>re.userId===O.senderId))==null?void 0:Y.userAvatar}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-xs",children:O.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:O.senderName}),((ee=j.find(re=>re.userId===O.senderId))==null?void 0:ee.isHost)&&o.jsx(ra,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:L(O.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:O.content})]})]})},O.id)}),o.jsx("div",{ref:G})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Be,{placeholder:q?" ...":"  ...",value:g,onChange:O=>p(O.target.value),onKeyPress:O=>O.key==="Enter"&&He(),disabled:!q,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx($,{onClick:He,disabled:!g.trim()||!q,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(Tf,{className:"w-4 h-4"})})]})})]})})]})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function __({onJoinRoom:e,onCreateRoom:t,onUserProfileOpen:r}){const[n,s]=d.useState(""),[i,a]=d.useState("participants"),[l,c]=d.useState([]),[u,h]=d.useState(!0),[f,m]=d.useState(null),[y,w]=d.useState(!1),[x,N]=d.useState(null),g=async(C=!0)=>{try{C?h(!0):w(!0),m(null);const k=await Ml.getWatchRooms({query:n,sortBy:i});c(k)}catch(k){console.error("   :",k),m(k instanceof Error?k.message:"     .")}finally{h(!1),w(!1)}};d.useEffect(()=>{const C=setTimeout(()=>{g(!1)},300);return()=>clearTimeout(C)},[n,i]),d.useEffect(()=>{g(!0)},[]);const p=C=>{switch(C){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}},v=C=>{switch(C){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}},b=l.filter(C=>C.headCount>=10),j=l,T=async C=>{if(!x){N(C.id);try{await(e==null?void 0:e(C))}finally{N(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs($,{onClick:()=>g(!1),disabled:y,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[y?o.jsx(dr,{className:"w-4 h-4 animate-spin"}):o.jsx(Yn,{className:"w-4 h-4"}),""]}),o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(us,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Be,{placeholder:" , ,  ...",value:n,onChange:C=>s(C.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Zf,{value:i,onValueChange:C=>a(C),children:[o.jsx(th,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(eh,{placeholder:""})}),o.jsxs(rh,{children:[o.jsx(kr,{value:"participants",children:"  "}),o.jsx(kr,{value:"latest",children:""}),o.jsx(kr,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",j.length,"  "]}),o.jsxs(at,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(lt,{className:"w-3 h-3 mr-1"}),""]})]})]}),f&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:f}),o.jsx($,{onClick:()=>g(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(dr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!u&&!f&&o.jsxs(o.Fragment,{children:[!n&&b.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(_f,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(C=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-[#4ecdc4]/30 hover:border-[#4ecdc4]/50 transition-all duration-300 group relative",children:[o.jsx("div",{className:"absolute top-3 left-3 z-10",children:o.jsxs(at,{className:"bg-[#4ecdc4] text-black",children:[o.jsx(Pn,{className:"w-3 h-3 mr-1"}),""]})}),o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:C.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{onClick:()=>T(C),className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===C.id?o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(lt,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/70 backdrop-blur-sm rounded-lg px-2 py-1 flex items-center gap-1",children:[o.jsx(di,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:C.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(at,{variant:"outline",className:v("movie"),children:p("movie")}),o.jsx("span",{className:"text-xs text-white/60",children:" "})]}),o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:C.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:C.contentTitle}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(De,{className:"w-6 h-6 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>r==null?void 0:r(C.ownerId),children:[o.jsx($e,{src:""}),o.jsx(ze,{children:C.ownerName[0]})]}),o.jsx("span",{className:"text-sm text-white/80 cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:()=>r==null?void 0:r(C.ownerId),children:C.ownerName})]})]})]},C.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(C=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:C.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{size:"sm",onClick:()=>T(C),className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===C.id?o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(lt,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(di,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:C.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(at,{variant:"outline",className:v("movie"),children:p("movie")}),C.headCount>=10&&o.jsx(at,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:""})]}),o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:C.title}),o.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-1",children:C.contentTitle}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(De,{className:"w-5 h-5 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>r==null?void 0:r(C.ownerId),children:[o.jsx($e,{src:""}),o.jsx(ze,{children:C.ownerName[0]})]}),o.jsx("span",{className:"text-xs text-white/80 truncate cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:()=>r==null?void 0:r(C.ownerId),children:C.ownerName})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60",children:[o.jsx(Yn,{className:"w-3 h-3"})," "]})]})]})]},C.id))})]}),j.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(lt,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:n?"  .":"   ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[n&&o.jsx($,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"  "}),o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"  "]})]})]})]})]})})}var oc="Switch",[P_,fP]=Lr(oc),[R_,I_]=P_(oc),Iw=d.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,y]=d.useState(null),w=xe(t,v=>y(v)),x=d.useRef(!1),N=m?h||!!m.closest("form"):!0,[g,p]=ns({prop:s,defaultProp:i??!1,onChange:u,caller:oc});return o.jsxs(R_,{scope:r,checked:g,disabled:l,children:[o.jsx(ce.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":Mw(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:ue(e.onClick,v=>{p(b=>!b),N&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),N&&o.jsx(Lw,{control:m,bubbles:!x.current,name:n,value:c,checked:g,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Iw.displayName=oc;var Aw="SwitchThumb",Ow=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=I_(Aw,r);return o.jsx(ce.span,{"data-state":Mw(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Ow.displayName=Aw;var A_="SwitchBubbleInput",Lw=d.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=d.useRef(null),l=xe(a,i),c=Yf(r),u=Xf(t);return d.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&y){const w=new Event("click",{bubbles:n});y.call(h,r),h.dispatchEvent(w)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Lw.displayName=A_;function Mw(e){return e?"checked":"unchecked"}var O_=Iw,L_=Ow;function M_({className:e,...t}){return o.jsx(O_,{"data-slot":"switch",className:Ce("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(L_,{"data-slot":"switch-thumb",className:Ce("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Bp({isOpen:e,onClose:t,onCreateWatchParty:r,onWatchAlone:n,content:s}){const[i,a]=d.useState(!1),[l,c]=d.useState("");d.useEffect(()=>{s&&e&&c(`${s.title} `)},[s,e]);const u=()=>{const h={isPublic:i,roomName:l||`${s==null?void 0:s.title} `};r(h)};return s?o.jsx(zl,{open:e,onOpenChange:t,children:o.jsxs(Fl,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(Bl,{children:o.jsxs(Wl,{className:"flex items-center space-x-2",children:[o.jsx(lt,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:"  "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover",onError:h=>{const f=h.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:s.title}),o.jsx("p",{className:"text-sm text-white/60",children:s.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:s.description})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx($,{onClick:n,variant:"outline",className:"w-full justify-start border-white/20 hover:bg-white/5 h-auto p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"  "})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(lt,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(Be,{id:"roomName",value:l,onChange:h=>c(h.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[i?o.jsx(il,{className:"w-4 h-4 text-green-400"}):o.jsx(al,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"isPublic",className:"text-sm",children:i?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:i?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(M_,{id:"isPublic",checked:i,onCheckedChange:a})})]})}),o.jsxs($,{onClick:u,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!l.trim(),children:[o.jsx(lt,{className:"w-4 h-4 mr-2"})," "]})]})]})]})]})]})}):null}function Wp({isOpen:e,onClose:t,content:r,getPlaylists:n,createPlaylist:s,addPlaylistContents:i}){const[a,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(""),[N,g]=d.useState(!0),[p,v]=d.useState([]),[b,j]=d.useState(!1);d.useEffect(()=>{e&&T()},[e]);const T=async()=>{try{j(!0);const E=await n();v(E)}catch(E){console.error("Error loading playlists:",E)}finally{j(!1)}},C=p.filter(E=>E.title.toLowerCase().includes(a.toLowerCase())||E.description.toLowerCase().includes(a.toLowerCase())),k=E=>{u(z=>z.includes(E)?z.filter(G=>G!==E):[...z,E])},_=async()=>{if(r)try{const E=c.map(z=>i(z,[r.id]));await Promise.all(E),alert(`"${r.title}"() ${c.length}  .`),u([]),l(""),t()}catch(E){console.error("   :",E),alert("     .")}},P=async()=>{if(!(!m.trim()||!r))try{const E=await s({name:m,description:w,isPublic:N});await i(E.id,[r.id]),alert(`  "${m}"()  "${r.title}"() .`),y(""),x(""),g(!0),f(!1),t()}catch(E){console.error("Error creating playlist:",E),alert("    .")}},F=()=>{u([]),l(""),f(!1),y(""),x(""),g(!0)},S=()=>{F(),t()};return r?o.jsx(zl,{open:e,onOpenChange:S,children:o.jsxs(Fl,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(Bl,{children:o.jsx(Wl,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(De,{className:"h-12 w-12 rounded-lg",children:[o.jsx($e,{src:r.thumbnail,className:"object-cover"}),o.jsx(ze,{children:r.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:r.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[r.type==="movie"?"":r.type==="tv"?"TV":"","  ",r.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Be,{placeholder:" ",value:m,onChange:E=>y(E.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Be,{placeholder:" ()",value:w,onChange:E=>x(E.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[N?o.jsx(il,{className:"w-4 h-4 text-green-400"}):o.jsx(al,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:N?"":""})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>g(!N),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx($,{onClick:P,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Be,{placeholder:" ...",value:a,onChange:E=>l(E.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs($,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:b?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):C.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:a?"  ":" "}):C.map(E=>o.jsxs("div",{onClick:()=>k(E.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(E.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(De,{className:"h-10 w-10 rounded-lg",children:[o.jsx($e,{src:E.thumbnail,className:"object-cover"}),o.jsx(ze,{children:E.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:E.title}),E.isPublic?o.jsx(il,{className:"w-3 h-3 text-green-400"}):o.jsx(al,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[E.contentCount," "]})]}),c.includes(E.id)&&o.jsx(Bs,{className:"w-5 h-5 text-[#4ecdc4]"})]},E.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:S,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs($,{onClick:_,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function Up({isOpen:e,onClose:t,onCreateRoom:r,userId:n}){const[s,i]=d.useState(""),[a,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState("select"),[m,y]=d.useState(!1),[w,x]=d.useState(null),[N,g]=d.useState([]),[p,v]=d.useState(!1),[b,j]=d.useState(!1),[T,C]=d.useState(),[k,_]=d.useState(!1),P=async(I=!1)=>{try{I?_(!0):v(!0),x(null);const W=await Xn.getContents({type:a==="all"?void 0:a.toUpperCase(),query:s||void 0,cursor:I?T:void 0,size:20});g(I?R=>[...R,...W.data]:W.data),j(W.hasNext),C(W.nextCursor)}catch(W){console.error("  :",W),x(W instanceof Error?W.message:"    .")}finally{v(!1),_(!1)}};d.useEffect(()=>{e&&P(!1)},[e]),d.useEffect(()=>{if(!e)return;const I=setTimeout(()=>{P(!1)},300);return()=>clearTimeout(I)},[s,a,e]);const F=()=>{b&&!p&&!k&&P(!0)},S=I=>{u(I),f("create"),x(null)},E=async()=>{if(c){y(!0),x(null);try{const I={contentId:c.id,ownerId:n},W=await Ml.createWatchRoom(I);r(W),z()}catch(I){console.error("  :",I),x(I instanceof Error?I.message:"    .")}finally{y(!1)}}},z=()=>{i(""),l("all"),u(null),f("select"),y(!1),x(null),g([]),v(!1),j(!1),C(void 0),_(!1),t()},G=I=>{switch(I){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:h,selectedContent:c,loading:p}),o.jsx(zl,{open:e,onOpenChange:z,children:o.jsxs(Fl,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(Bl,{children:o.jsx(Wl,{className:"text-xl",children:h==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),h==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(us,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Be,{placeholder:" ...",value:s,onChange:I=>i(I.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(Zf,{value:a,onValueChange:l,children:[o.jsx(th,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(eh,{placeholder:""})}),o.jsxs(rh,{children:[o.jsx(kr,{value:"all",children:""}),o.jsx(kr,{value:"movie",children:""}),o.jsx(kr,{value:"tv",children:"TV/"}),o.jsx(kr,{value:"sports",children:""})]})]})]}),p&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(dr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),w&&!p&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:w}),o.jsx($,{onClick:()=>P(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!p&&!w&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[N.map(I=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>S(I),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:I.thumbnail,alt:I.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:W=>{const R=W.target;R.style.display="none";const H=R.parentElement;if(H&&!H.querySelector(".image-fallback")){const Q=document.createElement("div");Q.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",Q.textContent=I.title.charAt(0).toUpperCase(),H.appendChild(Q)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:m,children:[o.jsx(Nt,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:I.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:I.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[I.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs",children:I.rating})]}),o.jsx(at,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:G(I.contentType)})]})]})]},I.id)),b&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx($,{onClick:F,disabled:k||m,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:k?o.jsxs(o.Fragment,{children:[o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!p&&!w&&N.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx($,{variant:"outline",onClick:()=>{i(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-full object-cover",onError:I=>{const W=I.target;W.style.display="none";const R=W.parentElement;if(R&&!R.querySelector(".image-fallback")){const H=document.createElement("div");H.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",H.textContent=c.title.charAt(0).toUpperCase(),R.appendChild(H)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[c.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:c.rating})]}),o.jsx(at,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:G(c.contentType)})]})]})]}),w&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{f("select"),u(null),x(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:m,children:""}),o.jsx($,{onClick:E,disabled:!c||m,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:m?o.jsxs(o.Fragment,{children:[o.jsx(dr,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var ru="rovingFocusGroup.onEntryFocus",D_={bubbles:!1,cancelable:!0},Di="RovingFocusGroup",[Td,Dw,$_]=Ff(Di),[z_,$w]=Lr(Di,[$_]),[F_,B_]=z_(Di),zw=d.forwardRef((e,t)=>o.jsx(Td.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Td.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(W_,{...e,ref:t})})}));zw.displayName=Di;var W_=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),y=xe(t,m),w=Si(i),[x,N]=ns({prop:a,defaultProp:l??null,onChange:c,caller:Di}),[g,p]=d.useState(!1),v=gt(u),b=Dw(r),j=d.useRef(!1),[T,C]=d.useState(0);return d.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(ru,v),()=>k.removeEventListener(ru,v)},[v]),o.jsx(F_,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(k=>N(k),[N]),onItemShiftTab:d.useCallback(()=>p(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>C(k=>k-1),[]),children:o.jsx(ce.div,{tabIndex:g||T===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:ue(e.onMouseDown,()=>{j.current=!0}),onFocus:ue(e.onFocus,k=>{const _=!j.current;if(k.target===k.currentTarget&&_&&!g){const P=new CustomEvent(ru,D_);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const F=b().filter(I=>I.focusable),S=F.find(I=>I.active),E=F.find(I=>I.id===x),G=[S,E,...F].filter(Boolean).map(I=>I.ref.current);Ww(G,h)}}j.current=!1}),onBlur:ue(e.onBlur,()=>p(!1))})})}),Fw="RovingFocusGroupItem",Bw=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=kn(),u=i||c,h=B_(Fw,r),f=h.currentTabStopId===u,m=Dw(r),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=h;return d.useEffect(()=>{if(n)return y(),()=>w()},[n,y,w]),o.jsx(Td.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(ce.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ue(e.onMouseDown,N=>{n?h.onItemFocus(u):N.preventDefault()}),onFocus:ue(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:ue(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const g=V_(N,h.orientation,h.dir);if(g!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let v=m().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const b=v.indexOf(N.currentTarget);v=h.loop?K_(v,b+1):v.slice(b+1)}setTimeout(()=>Ww(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});Bw.displayName=Fw;var U_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H_(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function V_(e,t,r){const n=H_(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return U_[n]}function Ww(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function K_(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var G_=zw,X_=Bw,ic="Tabs",[q_,hP]=Lr(ic,[$w]),Uw=$w(),[Q_,bh]=q_(ic),Hw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Si(l),[f,m]=ns({prop:n,onChange:s,defaultProp:i??"",caller:ic});return o.jsx(Q_,{scope:r,baseId:kn(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(ce.div,{dir:h,"data-orientation":a,...u,ref:t})})});Hw.displayName=ic;var Vw="TabsList",Kw=d.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=bh(Vw,r),a=Uw(r);return o.jsx(G_,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(ce.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Kw.displayName=Vw;var Gw="TabsTrigger",Xw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=bh(Gw,r),l=Uw(r),c=Yw(a.baseId,n),u=Jw(a.baseId,n),h=n===a.value;return o.jsx(X_,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(ce.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ue(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:ue(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:ue(e.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(n)})})})});Xw.displayName=Gw;var qw="TabsContent",Qw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=bh(qw,r),c=Yw(l.baseId,n),u=Jw(l.baseId,n),h=n===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(rn,{present:s||h,children:({present:m})=>o.jsx(ce.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});Qw.displayName=qw;function Yw(e,t){return`${e}-trigger-${t}`}function Jw(e,t){return`${e}-content-${t}`}var Y_=Hw,J_=Kw,Z_=Xw,eP=Qw;function tP({className:e,...t}){return o.jsx(Y_,{"data-slot":"tabs",className:Ce("flex flex-col gap-2",e),...t})}function rP({className:e,...t}){return o.jsx(J_,{"data-slot":"tabs-list",className:Ce("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function nu({className:e,...t}){return o.jsx(Z_,{"data-slot":"tabs-trigger",className:Ce("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function su({className:e,...t}){return o.jsx(eP,{"data-slot":"tabs-content",className:Ce("flex-1 outline-none",e),...t})}function nP({userId:e,currentUserId:t,onBack:r,authenticatedFetch:n,onUserProfileOpen:s,getPlaylists:i}){const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState([]),[m,y]=d.useState([]),[w,x]=d.useState(!1),[N,g]=d.useState(!0),[p,v]=d.useState(null),[b,j]=d.useState(!1),T=e===t,C=async()=>{try{const E=await n(`http://localhost:8080/api/users/${e}`);if(!E.ok)throw new Error("   .");const z=await E.json();l(z)}catch(E){console.error("   :",E),v("    .")}},k=async()=>{try{const E=await n(`http://localhost:8080/api/follows/${e}/followers`);if(!E.ok)throw new Error("   .");const z=await E.json();u(z)}catch(E){console.error("   :",E)}},_=async()=>{try{const E=await n(`http://localhost:8080/api/follows/${e}/following`);if(!E.ok)throw new Error("   .");const z=await E.json();f(z)}catch(E){console.error("   :",E)}},P=async()=>{try{if(i){const E=await n(`http://localhost:8080/api/users/${e}/playlists`);if(!E.ok)throw new Error("  .");const z=await E.json();y(z)}else y([])}catch(E){console.error("  :",E),y([])}},F=async()=>{if(!(!t||T))try{const E=await n(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!E.ok)throw new Error("   .");const z=await E.json();x(z)}catch(E){console.error("   :",E)}},S=async()=>{if(!(!t||T)){j(!0);try{if(w){if(!(await n("http://localhost:8080/api/follows/unfollow",{method:"DELETE",body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error(" .");x(!1),u(z=>z.filter(G=>G.id!==t))}else{if(!(await n("http://localhost:8080/api/follows/follow",{method:"POST",body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error(" .");x(!0),a&&u(z=>[...z,{id:t,name:"",email:"",profileImage:""}])}}catch(E){console.error("  :",E),alert(E instanceof Error?E.message:"    .")}finally{j(!1)}}};return d.useEffect(()=>{e&&(async()=>{g(!0),v(null),await Promise.all([C(),k(),_(),F(),P()]),g(!1)})()},[e,t]),N?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):p?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:p}),o.jsx($,{onClick:r,variant:"outline",children:""})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:r,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(oo,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(De,{className:"h-32 w-32",children:[o.jsx($e,{src:a.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:c.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:h.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:m.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!T&&o.jsx($,{onClick:S,disabled:b,className:`${w?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:b?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):w?o.jsxs(o.Fragment,{children:[o.jsx(ix,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Pf,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(tP,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(rP,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(nu,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Om,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(nu,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(nu,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(su,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(E=>{var z;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:E.name||E.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:E.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((z=E.contents)==null?void 0:z.length)||E.itemCount||0," "]})]})]},E.id)})}),m.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Om,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(su,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(De,{className:"h-12 w-12",children:[o.jsx($e,{src:E.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),c.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(lt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(su,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(De,{className:"h-12 w-12",children:[o.jsx($e,{src:E.profileImage}),o.jsx(ze,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),h.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(_n,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx($,{onClick:r,variant:"outline",children:""})]})})}function sP(){const[e,t]=d.useState(()=>{const M=localStorage.getItem("currentPage")||"home";return console.log("   :",M),M}),[r,n]=d.useState(!1),[s,i]=d.useState(null),a=M=>{try{if(!M||typeof M!="string")return console.error("  :",M),null;const U=M.split(".");if(U.length!==3)return console.error(" JWT :",M),null;const K=JSON.parse(atob(U[1])),se=K.userId||K.sub||K.id||null;return se||console.error("  ID   :",K),se}catch(U){return console.error("JWT   :",U,"Token:",M),null}},l=M=>{try{const U=JSON.parse(atob(M.split(".")[1])),K=Date.now()/1e3;return U.exp<K}catch(U){return console.error("   :",U),!0}},c=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),n(!1),t("home")},u=d.useRef(null),h=async()=>u.current?(console.log("    .   ."),u.current):(u.current=(async()=>{try{console.log("  ");const M=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",credentials:"include"});if(!M.ok)return console.log(`  : ${M.status} ${M.statusText}`),M.status===401?console.log("Refresh token ."):M.status===500&&console.log("    "),null;const U=await M.text();if(!U||U.trim()==="")return console.log("    "),null;const K=U.replace(/"/g,"");return console.log("  "),K}catch(M){return console.error("Token refresh :",M),null}finally{u.current=null}})(),u.current),f=async(M,U={})=>{let K=localStorage.getItem("accessToken");const se=K?a(K):null;if(console.log("authenticatedFetch :",{url:M,accessToken:K?" ":" ",userIdFromToken:se,currentUserId:s}),!K)throw console.error("  .  ."),c(),new Error("  .");if(l(K)){const Vt=await h();if(Vt){localStorage.setItem("accessToken",Vt),K=Vt;const go=a(Vt);go&&i(go)}else throw c(),new Error(" .  .")}const At={"Content-Type":"application/json",...["http://localhost:8080/api/auth/login","http://localhost:8080/api/auth/refresh","http://localhost:8080/api/auth/change-password","http://localhost:8080/api/auth/temp-password","http://localhost:8080/api/users"].some(Vt=>M.startsWith(Vt))?{}:{Authorization:`Bearer ${K}`},...U.headers||{}},ot=await fetch(M,{...U,headers:At});if(ot.status===401){console.log("401  ,   ");const Vt=await h();if(Vt){localStorage.setItem("accessToken",Vt),K=Vt;const go=a(Vt);go&&i(go),console.log("  ,  ");const Zw={...At,Authorization:`Bearer ${Vt}`};return fetch(M,{...U,headers:Zw})}else throw console.log("  ,  "),c(),new Error(" .  .")}if(ot.status===403)throw console.log(" ."),new Error("    .");if(ot.status===404)throw new Error("    .");return ot},m=async M=>{try{await f(`http://localhost:8080/api/notifications/${M}`,{method:"DELETE"})}catch(U){throw console.error("  :",U),U}},y=async()=>{try{await f("http://localhost:8080/api/notifications",{method:"DELETE"})}catch(M){throw console.error("   :",M),M}},w=async()=>{try{const M=await f("http://localhost:8080/api/dmRooms/");if(!M.ok)throw new Error("DM    ");return await M.json()}catch(M){throw console.error("DM    :",M),M}},x=async M=>{try{const U=await f(`http://localhost:8080/api/dmRooms/userRoom?userB=${M}`);if(!U.ok)throw new Error("DM  / ");return await U.text()}catch(U){throw console.error("DM  / :",U),U}},N=async(M,U)=>{try{const K=new URLSearchParams;U!=null&&U.cursor&&K.append("cursor",U.cursor),U!=null&&U.size&&K.append("size",U.size.toString());const se=await f(`http://localhost:8080/api/dm/${M}?${K}`);if(!se.ok)throw new Error("DM    ");return await se.json()}catch(K){throw console.error("DM    :",K),K}},g=async M=>{try{const U=M&&M.trim()!==""?M.trim():"",K=new URLSearchParams;K.append("keyword",U);const se=`http://localhost:8080/api/playlists/search?${K}`;console.log(" API :",se);const me=await f(se);if(console.log("  :",me.status,me.statusText),!me.ok){let At="   ";try{const ot=await me.text();console.error("  :",ot),At=`${me.status} ${me.statusText}: ${ot}`}catch(ot){console.error("   :",ot)}throw new Error(At)}const Re=await me.json();return console.log("  :",{url:se,status:me.status,dataType:Array.isArray(Re)?` (: ${Re.length})`:typeof Re,data:Array.isArray(Re)&&Re.length>0?Re.slice(0,2):Re,headers:Object.fromEntries(me.headers.entries())}),Re}catch(U){throw console.error("    :",U),U}},p=async M=>{try{const U=`http://localhost:8080/api/playlists/${M}`;console.log("   API :",U);const K=await f(U);if(console.log("  :",K.status,K.statusText),!K.ok){let me="  ";try{const Re=await K.text();console.error("  :",Re),me=`${K.status} ${K.statusText}: ${Re}`}catch(Re){console.error("   :",Re)}throw new Error(me)}const se=await K.json();return console.log("   :",{url:U,status:K.status,data:se}),se}catch(U){throw console.error("   :",U),U}},v=async M=>{var U,K;try{if(!M.name||M.name.trim()==="")throw new Error("  .");if(!s)throw new Error(" .");const se={name:M.name.trim(),description:M.description||"",isPublic:M.isPublic??!0};console.log("   :",se);const me=await f("http://localhost:8080/api/playlists",{method:"POST",body:JSON.stringify(se)});if(console.log("    :",me.status,me.statusText),!me.ok){let At="  ";try{const ot=await me.json();console.error("   :",ot),At=ot.message||At}catch(ot){console.error("Error parsing error response:",ot)}throw new Error(At)}const Re=await me.json();return console.log("   :",{createdPlaylist:Re,createdBy:(U=Re.user)==null?void 0:U.id,createdByName:(K=Re.user)==null?void 0:K.name,currentUserId:s}),Re}catch(se){throw console.error("  :",se),se}},b=async(M,U)=>{try{if(!U||U.length===0)throw new Error("  .");const K={contentIds:U},se=await f(`http://localhost:8080/api/playlists/${M}/contents`,{method:"POST",body:JSON.stringify(K)});if(!se.ok){let At="   ";try{At=(await se.json()).message||At}catch(ot){console.error("Error parsing error response:",ot)}throw new Error(At)}let me=null;const Re=await se.text();return Re&&(me=JSON.parse(Re)),console.log("   :",me),me}catch(K){throw console.error("   :",K),K}},j=async(M,U)=>{try{if(!U||U.length===0)throw new Error("  .");const K={contentIds:U},se=await f(`http://localhost:8080/api/playlists/${M}/contents`,{method:"DELETE",body:JSON.stringify(K)});if(!se.ok){let me="   ";try{me=(await se.json()).message||me}catch(Re){console.error("Error parsing error response:",Re)}throw new Error(me)}console.log("   ")}catch(K){throw console.error("   :",K),K}},T=async M=>{try{if(!s)throw new Error(" ");console.log("   :",{userId:s,playlistId:M});const U={userId:s,playlistId:M};console.log("   :",U);const K=await f("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("   :",K.status,K.statusText),!K.ok){let se="  ";try{se=(await K.json()).message||se}catch(me){console.error("Error parsing error response:",me)}throw new Error(se)}console.log("  ")}catch(U){throw console.error("  :",U),U}},C=async M=>{try{console.log("    :",{subscriptionId:M});const U=await f(`http://localhost:8080/api/subscriptions/${M}`,{method:"DELETE"});if(console.log("    :",U.status,U.statusText),!U.ok){let K="   ";try{K=(await U.json()).message||K}catch(se){console.error("Error parsing error response:",se)}throw new Error(K)}console.log("   ")}catch(U){throw console.error("   :",U),U}},[k,_]=d.useState(null),[P,F]=d.useState(null),[S,E]=d.useState(null),[z,G]=d.useState(!1),[I,W]=d.useState(!1),[R,H]=d.useState(null),[Q,A]=d.useState(!1),[q,J]=d.useState(!1),[he,fe]=d.useState(null),[ye,te]=d.useState(!1),[ae,pe]=d.useState(null),[B,D]=d.useState(!1),[oe,Le]=d.useState(null),[He,Xe]=d.useState(!1),[L,X]=d.useState(null),[Z,O]=d.useState(!1),Y=()=>{const M=new URL(window.location.href),U=M.pathname;if(U==="/oauth/success"){const K=M.searchParams.get("access_token");K?(ee(K),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}if(U==="/oauth/error"){const K=M.searchParams.get("message");if(K){const se=decodeURIComponent(K);se.includes("jwt_sessions_user_id_key")?alert(`  .

   .`):se.includes("users_name_key")?alert(`     .

     .`):se.includes("duplicate key value violates unique constraint")?alert(`   .

 .`):alert(se)}else alert("OAuth       .");window.history.replaceState({},document.title,"/")}};d.useEffect(()=>{(async()=>{Y();const U=localStorage.getItem("accessToken");if(U){if(l(U)){console.log("  ,      "),c();return}const K=a(U);K?(i(K),n(!0)):(console.log("  ID  "),localStorage.removeItem("accessToken"),c())}})()},[]),d.useEffect(()=>{if(!r)return;const U=setInterval(async()=>{const K=localStorage.getItem("accessToken");K&&l(K)&&(console.log(" ,      "),c())},3e4);return()=>clearInterval(U)},[r]);const ee=M=>{localStorage.setItem("accessToken",M);const U=a(M);U?i(U):(localStorage.removeItem("accessToken"),n(!1)),n(!0)},re=M=>{if(console.log("  :",M),M==="create-room"){Xe(!0);return}t(M),localStorage.setItem("currentPage",M);const U={page:M,selectedPlaylistId:k,selectedContentDetail:P,selectedUserId:S,currentWatchRoomId:L};window.history.pushState(U,"",window.location.pathname),console.log("   :",U),M!=="playlist-detail"&&_(null),M!=="watch-party"&&X(null),M!=="content-detail"&&F(null),M!=="user-profile"&&E(null)};d.useEffect(()=>{localStorage.setItem("currentPage",e)},[e]),d.useEffect(()=>{const M=K=>{if(console.log(" popstate  :",K.state),K.state){console.log("    :",K.state);const se=K.state.page||"home";["watch-party","content-detail","user-profile"].includes(se)?se==="watch-party"&&!K.state.currentWatchRoomId?(console.log("    ID    "),t("live"),localStorage.setItem("currentPage","live")):se==="content-detail"&&!K.state.selectedContentDetail?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):se==="user-profile"&&!K.state.selectedUserId?(console.log("     ID   "),t("home"),localStorage.setItem("currentPage","home")):(t(se),localStorage.setItem("currentPage",se)):(t(se),localStorage.setItem("currentPage",se)),_(K.state.selectedPlaylistId||null),F(K.state.selectedContentDetail||null),E(K.state.selectedUserId||null),X(K.state.currentWatchRoomId||null)}else{const se=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",se),["watch-party","content-detail","user-profile"].includes(se)?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):t(se),_(null),F(null),E(null),X(null)}};return(()=>{const K=["watch-party","content-detail","user-profile"];let se=e;K.includes(e)&&(e==="watch-party"&&!L||e==="content-detail"&&!P||e==="user-profile"&&!S)&&(se="home");const me={page:se,selectedPlaylistId:k,selectedContentDetail:P,selectedUserId:S,currentWatchRoomId:L};se!==e&&(t(se),localStorage.setItem("currentPage",se),console.log("     :",e,"->",se)),window.history.replaceState(me,"",window.location.pathname),console.log("    :",me)})(),window.addEventListener("popstate",M),()=>{window.removeEventListener("popstate",M)}},[]);const ke=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),n(!1),t("home")},le=()=>{G(!z)},Ne=async()=>{const M=prompt("    :");if(!(M!=null&&M.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M.trim())){alert("   .");return}try{const K=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:M.trim()})});if(!K.ok){let se="   .";try{se=(await K.json()).message||se}catch(me){console.error("Error parsing error response:",me)}throw new Error(se)}alert(`${M}   .
       .`)}catch(K){console.error("   :",K),alert(K instanceof Error?K.message:"     .")}},we=M=>{_(M),t("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const U={page:"playlist-detail",selectedPlaylistId:M,selectedContentDetail:P,selectedUserId:S,currentWatchRoomId:L};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},de=()=>{_(null),t("playlist"),localStorage.setItem("currentPage","playlist");const M={page:"playlist",selectedPlaylistId:null,selectedContentDetail:P,selectedUserId:S,currentWatchRoomId:L};window.history.pushState(M,"",window.location.pathname),console.log("    :",M)},Te=M=>{F(M),t("content-detail"),localStorage.setItem("currentPage","content-detail");const U={page:"content-detail",selectedPlaylistId:k,selectedContentDetail:M,selectedUserId:S,currentWatchRoomId:L};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},rr=()=>{let M="home";P&&(M={movie:"movies",tv:"tv",sports:"sports"}[P.type]||"home"),F(null),t(M),localStorage.setItem("currentPage",M);const U={page:M,selectedPlaylistId:k,selectedContentDetail:null,selectedUserId:S,currentWatchRoomId:L};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},wr=M=>{const U={...M,year:M.year||2024,rating:M.rating||4};Le(U),D(!0)},dt=()=>{D(!1),Le(null)},_e=M=>{pe(M),te(!0)},kt=()=>{te(!1),console.log(`Starting solo viewing for: ${ae==null?void 0:ae.title}`),alert(`"${ae==null?void 0:ae.title}"  .`),pe(null)},zr=M=>{if(!ae)return;const U=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",M),console.log("Room code:",U),alert("Watch party creation not implemented yet"),te(!1),pe(null)},gs=M=>{X(M.id),O(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const U={page:"watch-party",selectedPlaylistId:k,selectedContentDetail:P,selectedUserId:S,currentWatchRoomId:M.id};window.history.pushState(U,"",window.location.pathname),console.log("    :",U)},Ut=M=>{X(M.id),O(!0),Xe(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const U={page:"watch-party",selectedPlaylistId:k,selectedContentDetail:P,selectedUserId:S,currentWatchRoomId:M.id};window.history.pushState(U,"",window.location.pathname),console.log("    :",U)},vs=()=>{X(null),O(!1),t("live"),localStorage.setItem("currentPage","live");const M={page:"live",selectedPlaylistId:k,selectedContentDetail:P,selectedUserId:S,currentWatchRoomId:null};window.history.pushState(M,"",window.location.pathname),console.log("    :",M)},nt=()=>{Xe(!0)},xs=()=>{Xe(!1)},Fr=()=>{H(null),W(!0)},ac=()=>{W(!1),H(null)},$i=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Br=M=>{E(M),t("user-profile"),localStorage.setItem("currentPage","user-profile");const U={page:"user-profile",selectedPlaylistId:k,selectedContentDetail:P,selectedUserId:M,currentWatchRoomId:L};window.history.pushState(U,"",window.location.pathname),console.log("     :",U)},po=()=>{s&&Br(s)},Fn=()=>{E(null),t("home"),localStorage.setItem("currentPage","home");const M={page:"home",selectedPlaylistId:k,selectedContentDetail:P,selectedUserId:null,currentWatchRoomId:L};window.history.pushState(M,"",window.location.pathname),console.log("     :",M)},qe=()=>{q?(J(!1),fe(null),A(!0)):A(!Q)},Ke=()=>{A(!1)},ft=()=>{A(!1),J(!1),fe(null)},yt=M=>{fe(M),A(!1),J(!0)},st=()=>{J(!1),fe(null)},Je=()=>{J(!1),fe(null),A(!0)},nr=()=>{(Q||q)&&ft()};if(!r)return console.log("   :",{isLoggedIn:r,accessToken:localStorage.getItem("accessToken"),userId:s}),o.jsx("div",{children:o.jsx(hS,{onLogin:ee,onToggleAuth:le,onForgotPassword:Ne,isRegister:z})});const Ht=()=>{switch(console.log("  :",e),e){case"curation":return o.jsx(bS,{onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:wr,userId:s||void 0});case"movies":return o.jsx(Vc,{category:"movies",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:wr});case"tv":return o.jsx(Vc,{category:"tv",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:wr});case"sports":return o.jsx(Vc,{category:"sports",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:wr});case"playlist":return o.jsx(Vm,{onPlaylistOpen:we,getPlaylists:g,createPlaylist:v,subscribePlaylist:T,unsubscribePlaylist:C,currentUserId:s||void 0,onUserProfileOpen:Br});case"playlist-detail":return k?o.jsx(J2,{playlistId:k,onBack:de,onContentPlay:_e,getPlaylistById:p,addPlaylistContents:b,deletePlaylistContents:j}):o.jsx(Vm,{onPlaylistOpen:we,getPlaylists:g,createPlaylist:v});case"content-detail":return P?o.jsx(cE,{content:P,onBack:rr,onPlay:_e,currentUser:s?{id:s,name:"",avatar:void 0}:void 0}):o.jsx(sa,{onPageChange:re,onPlaylistOpen:we,onContentPlay:_e});case"watch-party":return L&&s?o.jsx(T_,{roomId:L,userId:s,onBack:vs,shouldConnect:Z,onUserProfileOpen:Br}):o.jsx(sa,{onPageChange:re,onPlaylistOpen:we,onContentPlay:_e});case"user-profile":return S?o.jsx(nP,{userId:S,currentUserId:s,onBack:Fn,authenticatedFetch:f,onUserProfileOpen:Br,getPlaylists:g},S):o.jsx(sa,{onPageChange:re,onPlaylistOpen:we,onContentPlay:_e});case"live":return o.jsx(__,{onJoinRoom:gs,onCreateRoom:nt,onUserProfileOpen:Br});default:return o.jsx(sa,{onPageChange:re,onPlaylistOpen:we,onContentPlay:_e})}};return e==="watch-party"||e==="content-detail"||e==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[Ht(),o.jsx(Bp,{isOpen:ye,onClose:()=>te(!1),onCreateWatchParty:zr,onWatchAlone:kt,content:ae}),o.jsx(Wp,{isOpen:B,onClose:dt,content:oe,getPlaylists:g,createPlaylist:v,addPlaylistContents:b}),o.jsx(Up,{isOpen:He,onClose:xs,onCreateRoom:Ut,userId:s||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(sS,{currentPage:e,onPageChange:re,onProfileClick:Fr,onMyProfileClick:po,onCloseDM:ft,onLogout:ke,authenticatedFetch:f,userId:s,refreshUserProfile:$i,deleteNotification:m,deleteAllNotifications:y}),o.jsx("main",{className:"flex-1",onClick:nr,children:Ht()}),o.jsx(oS,{}),o.jsx(uE,{isOpen:I,onClose:ac,userId:s,targetUserId:R,authenticatedFetch:f,onUserProfileOpen:Br,refreshUserProfile:$i,getPlaylists:g,onPlaylistOpen:we}),o.jsx(fE,{isOpen:Q,onClose:Ke,onOpenChat:yt,authenticatedFetch:f,currentUserId:s,getDmRooms:w,getOrCreateDmRoom:x}),o.jsx(LE,{isOpen:q,onClose:st,onBack:Je,user:he,currentUserId:s,getDmMessages:N}),o.jsx(Bp,{isOpen:ye,onClose:()=>te(!1),onCreateWatchParty:zr,onWatchAlone:kt,content:ae}),o.jsx(Wp,{isOpen:B,onClose:dt,content:oe,getPlaylists:g,createPlaylist:v,addPlaylistContents:b}),o.jsx(Up,{isOpen:He,onClose:xs,onCreateRoom:Ut,userId:s||""}),o.jsx($,{size:"lg",onClick:qe,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${Q||q?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(Ia,{className:"w-6 h-6"})})]})}ou.createRoot(document.getElementById("root")).render(o.jsx(Wr.StrictMode,{children:o.jsx(sP,{})}));
