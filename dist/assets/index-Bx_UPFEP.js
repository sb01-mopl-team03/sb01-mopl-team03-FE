var rS=Object.defineProperty;var sS=(e,t,n)=>t in e?rS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gt=(e,t,n)=>sS(e,typeof t!="symbol"?t+"":t,n);function oS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var aS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function lf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gg={exports:{}},Yl={},Xg={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),iS=Symbol.for("react.portal"),lS=Symbol.for("react.fragment"),cS=Symbol.for("react.strict_mode"),uS=Symbol.for("react.profiler"),dS=Symbol.for("react.provider"),fS=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),mS=Symbol.for("react.suspense"),pS=Symbol.for("react.memo"),gS=Symbol.for("react.lazy"),gm=Symbol.iterator;function vS(e){return e===null||typeof e!="object"?null:(e=gm&&e[gm]||e["@@iterator"],typeof e=="function"?e:null)}var qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qg=Object.assign,Jg={};function xo(e,t,n){this.props=e,this.context=t,this.refs=Jg,this.updater=n||qg}xo.prototype.isReactComponent={};xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zg(){}Zg.prototype=xo.prototype;function cf(e,t,n){this.props=e,this.context=t,this.refs=Jg,this.updater=n||qg}var uf=cf.prototype=new Zg;uf.constructor=cf;Qg(uf,xo.prototype);uf.isPureReactComponent=!0;var vm=Array.isArray,ev=Object.prototype.hasOwnProperty,df={current:null},tv={key:!0,ref:!0,__self:!0,__source:!0};function nv(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)ev.call(t,r)&&!tv.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:za,type:e,key:a,ref:i,props:s,_owner:df.current}}function xS(e,t){return{$$typeof:za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ff(e){return typeof e=="object"&&e!==null&&e.$$typeof===za}function yS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xm=/\/+/g;function Oc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yS(""+e.key):t.toString(36)}function Hi(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case za:case iS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Oc(i,0):r,vm(s)?(n="",e!=null&&(n=e.replace(xm,"$&/")+"/"),Hi(s,t,n,"",function(u){return u})):s!=null&&(ff(s)&&(s=xS(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(xm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",vm(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Oc(a,l);i+=Hi(a,t,n,c,s)}else if(c=vS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Oc(a,l++),i+=Hi(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ci(e,t,n){if(e==null)return e;var r=[],s=0;return Hi(e,r,"","",function(a){return t.call(n,a,s++)}),r}function wS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},Ki={transition:null},bS={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:df};function rv(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:ci,forEach:function(e,t,n){ci(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ci(e,function(){t++}),t},toArray:function(e){return ci(e,function(t){return t})||[]},only:function(e){if(!ff(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=xo;Pe.Fragment=lS;Pe.Profiler=uS;Pe.PureComponent=cf;Pe.StrictMode=cS;Pe.Suspense=mS;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bS;Pe.act=rv;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qg({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=df.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ev.call(t,c)&&!tv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:za,type:e.type,key:s,ref:a,props:r,_owner:i}};Pe.createContext=function(e){return e={$$typeof:fS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dS,_context:e},e.Consumer=e};Pe.createElement=nv;Pe.createFactory=function(e){var t=nv.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:hS,render:e}};Pe.isValidElement=ff;Pe.lazy=function(e){return{$$typeof:gS,_payload:{_status:-1,_result:e},_init:wS}};Pe.memo=function(e,t){return{$$typeof:pS,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Ki.transition;Ki.transition={};try{e()}finally{Ki.transition=t}};Pe.unstable_act=rv;Pe.useCallback=function(e,t){return Ft.current.useCallback(e,t)};Pe.useContext=function(e){return Ft.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return Ft.current.useEffect(e,t)};Pe.useId=function(){return Ft.current.useId()};Pe.useImperativeHandle=function(e,t,n){return Ft.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return Ft.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return Ft.current.useReducer(e,t,n)};Pe.useRef=function(e){return Ft.current.useRef(e)};Pe.useState=function(e){return Ft.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return Ft.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return Ft.current.useTransition()};Pe.version="18.3.1";Xg.exports=Pe;var d=Xg.exports;const re=lf(d),sv=oS({__proto__:null,default:re},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS=d,NS=Symbol.for("react.element"),jS=Symbol.for("react.fragment"),CS=Object.prototype.hasOwnProperty,kS=SS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ES={key:!0,ref:!0,__self:!0,__source:!0};function ov(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)CS.call(t,r)&&!ES.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:NS,type:e,key:a,ref:i,props:s,_owner:kS.current}}Yl.Fragment=jS;Yl.jsx=ov;Yl.jsxs=ov;Gg.exports=Yl;var o=Gg.exports,Lu={},av={exports:{}},on={},iv={exports:{}},lv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,A){var O=N.length;N.push(A);e:for(;0<O;){var te=O-1>>>1,$=N[te];if(0<s($,A))N[te]=A,N[O]=$,O=te;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var A=N[0],O=N.pop();if(O!==A){N[0]=O;e:for(var te=0,$=N.length,Z=$>>>1;te<Z;){var se=2*(te+1)-1,ce=N[se],Ee=se+1,J=N[Ee];if(0>s(ce,O))Ee<$&&0>s(J,ce)?(N[te]=J,N[Ee]=O,te=Ee):(N[te]=ce,N[se]=O,te=se);else if(Ee<$&&0>s(J,O))N[te]=J,N[Ee]=O,te=Ee;else break e}}return A}function s(N,A){var O=N.sortIndex-A.sortIndex;return O!==0?O:N.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,m=3,p=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=N)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function j(N){if(x=!1,y(N),!w)if(n(c)!==null)w=!0,U(E);else{var A=n(u);A!==null&&M(j,A.startTime-N)}}function E(N,A){w=!1,x&&(x=!1,g(T),T=-1),p=!0;var O=m;try{for(y(A),f=n(c);f!==null&&(!(f.expirationTime>A)||N&&!_());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var $=te(f.expirationTime<=A);A=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&r(c),y(A)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var se=n(u);se!==null&&M(j,se.startTime-A),Z=!1}return Z}finally{f=null,m=O,p=!1}}var P=!1,R=null,T=-1,S=5,k=-1;function _(){return!(e.unstable_now()-k<S)}function C(){if(R!==null){var N=e.unstable_now();k=N;var A=!0;try{A=R(!0,N)}finally{A?D():(P=!1,R=null)}}else P=!1}var D;if(typeof v=="function")D=function(){v(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,K=L.port2;L.port1.onmessage=C,D=function(){K.postMessage(null)}}else D=function(){b(C,0)};function U(N){R=N,P||(P=!0,D())}function M(N,A){T=b(function(){N(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,U(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var O=m;m=A;try{return N()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=m;m=N;try{return A()}finally{m=O}},e.unstable_scheduleCallback=function(N,A,O){var te=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?te+O:te):O=te,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=O+$,N={id:h++,callback:A,priorityLevel:N,startTime:O,expirationTime:$,sortIndex:-1},O>te?(N.sortIndex=O,t(u,N),n(c)===null&&N===n(u)&&(x?(g(T),T=-1):x=!0,M(j,O-te))):(N.sortIndex=$,t(c,N),w||p||(w=!0,U(E))),N},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(N){var A=m;return function(){var O=m;m=A;try{return N.apply(this,arguments)}finally{m=O}}}})(lv);iv.exports=lv;var TS=iv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS=d,sn=TS;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cv=new Set,fa={};function ks(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(fa[e]=t,e=0;e<t.length;e++)cv.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,PS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ym={},wm={};function _S(e){return Ou.call(wm,e)?!0:Ou.call(ym,e)?!1:PS.test(e)?wm[e]=!0:(ym[e]=!0,!1)}function AS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IS(e,t,n,r){if(t===null||typeof t>"u"||AS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var hf=/[\-:]([a-z])/g;function mf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hf,mf);Tt[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hf,mf);Tt[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hf,mf);Tt[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function pf(e,t,n,r){var s=Tt.hasOwnProperty(t)?Tt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IS(t,n,s,r)&&(n=null),r||s===null?_S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vr=RS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ui=Symbol.for("react.element"),$s=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),gf=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),uv=Symbol.for("react.provider"),dv=Symbol.for("react.context"),vf=Symbol.for("react.forward_ref"),$u=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),xf=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),fv=Symbol.for("react.offscreen"),bm=Symbol.iterator;function Io(e){return e===null||typeof e!="object"?null:(e=bm&&e[bm]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Mc;function Yo(e){if(Mc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||""}return`
`+Mc+e}var $c=!1;function zc(e,t){if(!e||$c)return"";$c=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{$c=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yo(e):""}function DS(e){switch(e.tag){case 5:return Yo(e.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return e=zc(e.type,!1),e;case 11:return e=zc(e.type.render,!1),e;case 1:return e=zc(e.type,!0),e;default:return""}}function Fu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case $s:return"Portal";case Mu:return"Profiler";case gf:return"StrictMode";case $u:return"Suspense";case zu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dv:return(e.displayName||"Context")+".Consumer";case uv:return(e._context.displayName||"Context")+".Provider";case vf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xf:return t=e.displayName||null,t!==null?t:Fu(e.type)||"Memo";case Tr:t=e._payload,e=e._init;try{return Fu(e(t))}catch{}}return null}function LS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fu(t);case 8:return t===gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OS(e){var t=hv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function di(e){e._valueTracker||(e._valueTracker=OS(e))}function mv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uu(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pv(e,t){t=t.checked,t!=null&&pf(e,"checked",t,!1)}function Bu(e,t){pv(e,t);var n=Kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wu(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wu(e,t,n){(t!=="number"||cl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Go=Array.isArray;function Qs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Go(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kr(n)}}function gv(e,t){var n=Kr(t.value),r=Kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fi,xv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MS=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(e){MS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ea[t]=ea[e]})});function yv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ea.hasOwnProperty(e)&&ea[e]?(""+t).trim():t+"px"}function wv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $S=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ku(e,t){if(t){if($S[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Yu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=null;function yf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xu=null,Js=null,Zs=null;function km(e){if(e=Ba(e)){if(typeof Xu!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Jl(t),Xu(e.stateNode,e.type,t))}}function bv(e){Js?Zs?Zs.push(e):Zs=[e]:Js=e}function Sv(){if(Js){var e=Js,t=Zs;if(Zs=Js=null,km(e),t)for(e=0;e<t.length;e++)km(t[e])}}function Nv(e,t){return e(t)}function jv(){}var Fc=!1;function Cv(e,t,n){if(Fc)return e(t,n);Fc=!0;try{return Nv(e,t,n)}finally{Fc=!1,(Js!==null||Zs!==null)&&(jv(),Sv())}}function ma(e,t){var n=e.stateNode;if(n===null)return null;var r=Jl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var qu=!1;if(ur)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{qu=!1}function zS(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var ta=!1,ul=null,dl=!1,Qu=null,FS={onError:function(e){ta=!0,ul=e}};function US(e,t,n,r,s,a,i,l,c){ta=!1,ul=null,zS.apply(FS,arguments)}function BS(e,t,n,r,s,a,i,l,c){if(US.apply(this,arguments),ta){if(ta){var u=ul;ta=!1,ul=null}else throw Error(q(198));dl||(dl=!0,Qu=u)}}function Es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Em(e){if(Es(e)!==e)throw Error(q(188))}function WS(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Em(s),e;if(a===r)return Em(s),t;a=a.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Ev(e){return e=WS(e),e!==null?Tv(e):null}function Tv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tv(e);if(t!==null)return t;e=e.sibling}return null}var Rv=sn.unstable_scheduleCallback,Tm=sn.unstable_cancelCallback,VS=sn.unstable_shouldYield,HS=sn.unstable_requestPaint,ft=sn.unstable_now,KS=sn.unstable_getCurrentPriorityLevel,wf=sn.unstable_ImmediatePriority,Pv=sn.unstable_UserBlockingPriority,fl=sn.unstable_NormalPriority,YS=sn.unstable_LowPriority,_v=sn.unstable_IdlePriority,Gl=null,Hn=null;function GS(e){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Gl,e,void 0,(e.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:QS,XS=Math.log,qS=Math.LN2;function QS(e){return e>>>=0,e===0?32:31-(XS(e)/qS|0)|0}var hi=64,mi=4194304;function Xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Xo(l):(a&=i,a!==0&&(r=Xo(a)))}else i=n&~s,i!==0?r=Xo(i):a!==0&&(r=Xo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-En(t),s=1<<n,r|=e[n],t&=~s;return r}function JS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-En(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=JS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Av(){var e=hi;return hi<<=1,!(hi&4194240)&&(hi=64),e}function Uc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-En(t),e[t]=n}function eN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-En(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function bf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-En(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Me=0;function Iv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dv,Sf,Lv,Ov,Mv,Zu=!1,pi=[],Mr=null,$r=null,zr=null,pa=new Map,ga=new Map,_r=[],tN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(t.pointerId)}}function Lo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ba(t),t!==null&&Sf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nN(e,t,n,r,s){switch(t){case"focusin":return Mr=Lo(Mr,e,t,n,r,s),!0;case"dragenter":return $r=Lo($r,e,t,n,r,s),!0;case"mouseover":return zr=Lo(zr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return pa.set(a,Lo(pa.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ga.set(a,Lo(ga.get(a)||null,e,t,n,r,s)),!0}return!1}function $v(e){var t=ls(e.target);if(t!==null){var n=Es(t);if(n!==null){if(t=n.tag,t===13){if(t=kv(n),t!==null){e.blockedOn=t,Mv(e.priority,function(){Lv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ed(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gu=r,n.target.dispatchEvent(r),Gu=null}else return t=Ba(n),t!==null&&Sf(t),e.blockedOn=n,!1;t.shift()}return!0}function Pm(e,t,n){Yi(e)&&n.delete(t)}function rN(){Zu=!1,Mr!==null&&Yi(Mr)&&(Mr=null),$r!==null&&Yi($r)&&($r=null),zr!==null&&Yi(zr)&&(zr=null),pa.forEach(Pm),ga.forEach(Pm)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,rN)))}function va(e){function t(s){return Oo(s,e)}if(0<pi.length){Oo(pi[0],e);for(var n=1;n<pi.length;n++){var r=pi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mr!==null&&Oo(Mr,e),$r!==null&&Oo($r,e),zr!==null&&Oo(zr,e),pa.forEach(t),ga.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)$v(n),n.blockedOn===null&&_r.shift()}var eo=vr.ReactCurrentBatchConfig,ml=!0;function sN(e,t,n,r){var s=Me,a=eo.transition;eo.transition=null;try{Me=1,Nf(e,t,n,r)}finally{Me=s,eo.transition=a}}function oN(e,t,n,r){var s=Me,a=eo.transition;eo.transition=null;try{Me=4,Nf(e,t,n,r)}finally{Me=s,eo.transition=a}}function Nf(e,t,n,r){if(ml){var s=ed(e,t,n,r);if(s===null)Qc(e,t,r,pl,n),Rm(e,r);else if(nN(s,e,t,n,r))r.stopPropagation();else if(Rm(e,r),t&4&&-1<tN.indexOf(e)){for(;s!==null;){var a=Ba(s);if(a!==null&&Dv(a),a=ed(e,t,n,r),a===null&&Qc(e,t,r,pl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Qc(e,t,r,null,n)}}var pl=null;function ed(e,t,n,r){if(pl=null,e=yf(r),e=ls(e),e!==null)if(t=Es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function zv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KS()){case wf:return 1;case Pv:return 4;case fl:case YS:return 16;case _v:return 536870912;default:return 16}default:return 16}}var Lr=null,jf=null,Gi=null;function Fv(){if(Gi)return Gi;var e,t=jf,n=t.length,r,s="value"in Lr?Lr.value:Lr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Gi=s.slice(e,1<r?1-r:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function _m(){return!1}function an(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gi:_m,this.isPropagationStopped=_m,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=an(yo),Ua=tt({},yo,{view:0,detail:0}),aN=an(Ua),Bc,Wc,Mo,Xl=tt({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mo&&(Mo&&e.type==="mousemove"?(Bc=e.screenX-Mo.screenX,Wc=e.screenY-Mo.screenY):Wc=Bc=0,Mo=e),Bc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),Am=an(Xl),iN=tt({},Xl,{dataTransfer:0}),lN=an(iN),cN=tt({},Ua,{relatedTarget:0}),Vc=an(cN),uN=tt({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),dN=an(uN),fN=tt({},yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hN=an(fN),mN=tt({},yo,{data:0}),Im=an(mN),pN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vN[e])?!!t[e]:!1}function kf(){return xN}var yN=tt({},Ua,{key:function(e){if(e.key){var t=pN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wN=an(yN),bN=tt({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=an(bN),SN=tt({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),NN=an(SN),jN=tt({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),CN=an(jN),kN=tt({},Xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EN=an(kN),TN=[9,13,27,32],Ef=ur&&"CompositionEvent"in window,na=null;ur&&"documentMode"in document&&(na=document.documentMode);var RN=ur&&"TextEvent"in window&&!na,Uv=ur&&(!Ef||na&&8<na&&11>=na),Lm=" ",Om=!1;function Bv(e,t){switch(e){case"keyup":return TN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function PN(e,t){switch(e){case"compositionend":return Wv(t);case"keypress":return t.which!==32?null:(Om=!0,Lm);case"textInput":return e=t.data,e===Lm&&Om?null:e;default:return null}}function _N(e,t){if(Fs)return e==="compositionend"||!Ef&&Bv(e,t)?(e=Fv(),Gi=jf=Lr=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uv&&t.locale!=="ko"?null:t.data;default:return null}}var AN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AN[e.type]:t==="textarea"}function Vv(e,t,n,r){bv(r),t=gl(t,"onChange"),0<t.length&&(n=new Cf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ra=null,xa=null;function IN(e){tx(e,0)}function ql(e){var t=Ws(e);if(mv(t))return e}function DN(e,t){if(e==="change")return t}var Hv=!1;if(ur){var Hc;if(ur){var Kc="oninput"in document;if(!Kc){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Kc=typeof $m.oninput=="function"}Hc=Kc}else Hc=!1;Hv=Hc&&(!document.documentMode||9<document.documentMode)}function zm(){ra&&(ra.detachEvent("onpropertychange",Kv),xa=ra=null)}function Kv(e){if(e.propertyName==="value"&&ql(xa)){var t=[];Vv(t,xa,e,yf(e)),Cv(IN,t)}}function LN(e,t,n){e==="focusin"?(zm(),ra=t,xa=n,ra.attachEvent("onpropertychange",Kv)):e==="focusout"&&zm()}function ON(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(xa)}function MN(e,t){if(e==="click")return ql(t)}function $N(e,t){if(e==="input"||e==="change")return ql(t)}function zN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pn=typeof Object.is=="function"?Object.is:zN;function ya(e,t){if(Pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ou.call(t,s)||!Pn(e[s],t[s]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,t){var n=Fm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fm(n)}}function Yv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gv(){for(var e=window,t=cl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cl(e.document)}return t}function Tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FN(e){var t=Gv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yv(n.ownerDocument.documentElement,n)){if(r!==null&&Tf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Um(n,a);var i=Um(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UN=ur&&"documentMode"in document&&11>=document.documentMode,Us=null,td=null,sa=null,nd=!1;function Bm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nd||Us==null||Us!==cl(r)||(r=Us,"selectionStart"in r&&Tf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sa&&ya(sa,r)||(sa=r,r=gl(td,"onSelect"),0<r.length&&(t=new Cf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Us)))}function vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bs={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},Yc={},Xv={};ur&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ql(e){if(Yc[e])return Yc[e];if(!Bs[e])return e;var t=Bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xv)return Yc[e]=t[n];return e}var qv=Ql("animationend"),Qv=Ql("animationiteration"),Jv=Ql("animationstart"),Zv=Ql("transitionend"),ex=new Map,Wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){ex.set(e,t),ks(t,[e])}for(var Gc=0;Gc<Wm.length;Gc++){var Xc=Wm[Gc],BN=Xc.toLowerCase(),WN=Xc[0].toUpperCase()+Xc.slice(1);Zr(BN,"on"+WN)}Zr(qv,"onAnimationEnd");Zr(Qv,"onAnimationIteration");Zr(Jv,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(Zv,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VN=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function Vm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BS(r,t,void 0,e),e.currentTarget=null}function tx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Vm(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Vm(s,l,u),a=c}}}if(dl)throw e=Qu,dl=!1,Qu=null,e}function Ke(e,t){var n=t[id];n===void 0&&(n=t[id]=new Set);var r=e+"__bubble";n.has(r)||(nx(t,e,2,!1),n.add(r))}function qc(e,t,n){var r=0;t&&(r|=4),nx(n,e,r,t)}var xi="_reactListening"+Math.random().toString(36).slice(2);function wa(e){if(!e[xi]){e[xi]=!0,cv.forEach(function(n){n!=="selectionchange"&&(VN.has(n)||qc(n,!1,e),qc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xi]||(t[xi]=!0,qc("selectionchange",!1,t))}}function nx(e,t,n,r){switch(zv(t)){case 1:var s=sN;break;case 4:s=oN;break;default:s=Nf}n=s.bind(null,t,n,e),s=void 0,!qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Qc(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ls(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}Cv(function(){var u=a,h=yf(n),f=[];e:{var m=ex.get(e);if(m!==void 0){var p=Cf,w=e;switch(e){case"keypress":if(Xi(n)===0)break e;case"keydown":case"keyup":p=wN;break;case"focusin":w="focus",p=Vc;break;case"focusout":w="blur",p=Vc;break;case"beforeblur":case"afterblur":p=Vc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NN;break;case qv:case Qv:case Jv:p=dN;break;case Zv:p=CN;break;case"scroll":p=aN;break;case"wheel":p=EN;break;case"copy":case"cut":case"paste":p=hN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dm}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,y;v!==null;){y=v;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,g!==null&&(j=ma(v,g),j!=null&&x.push(ba(v,j,y)))),b)break;v=v.return}0<x.length&&(m=new p(m,w,null,n,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Gu&&(w=n.relatedTarget||n.fromElement)&&(ls(w)||w[dr]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?ls(w):null,w!==null&&(b=Es(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(x=Am,j="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Dm,j="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?m:Ws(p),y=w==null?m:Ws(w),m=new x(j,v+"leave",p,n,h),m.target=b,m.relatedTarget=y,j=null,ls(h)===u&&(x=new x(g,v+"enter",w,n,h),x.target=y,x.relatedTarget=b,j=x),b=j,p&&w)t:{for(x=p,g=w,v=0,y=x;y;y=Ds(y))v++;for(y=0,j=g;j;j=Ds(j))y++;for(;0<v-y;)x=Ds(x),v--;for(;0<y-v;)g=Ds(g),y--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ds(x),g=Ds(g)}x=null}else x=null;p!==null&&Hm(f,m,p,x,!1),w!==null&&b!==null&&Hm(f,b,w,x,!0)}}e:{if(m=u?Ws(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var E=DN;else if(Mm(m))if(Hv)E=$N;else{E=ON;var P=LN}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=MN);if(E&&(E=E(e,u))){Vv(f,E,n,h);break e}P&&P(e,m,u),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Wu(m,"number",m.value)}switch(P=u?Ws(u):window,e){case"focusin":(Mm(P)||P.contentEditable==="true")&&(Us=P,td=u,sa=null);break;case"focusout":sa=td=Us=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Bm(f,n,h);break;case"selectionchange":if(UN)break;case"keydown":case"keyup":Bm(f,n,h)}var R;if(Ef)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Fs?Bv(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Uv&&n.locale!=="ko"&&(Fs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Fs&&(R=Fv()):(Lr=h,jf="value"in Lr?Lr.value:Lr.textContent,Fs=!0)),P=gl(u,T),0<P.length&&(T=new Im(T,e,null,n,h),f.push({event:T,listeners:P}),R?T.data=R:(R=Wv(n),R!==null&&(T.data=R)))),(R=RN?PN(e,n):_N(e,n))&&(u=gl(u,"onBeforeInput"),0<u.length&&(h=new Im("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=R))}tx(f,t)})}function ba(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ma(e,n),a!=null&&r.unshift(ba(e,a,s)),a=ma(e,t),a!=null&&r.push(ba(e,a,s))),e=e.return}return r}function Ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hm(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ma(n,a),c!=null&&i.unshift(ba(n,c,l))):s||(c=ma(n,a),c!=null&&i.push(ba(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var HN=/\r\n?/g,KN=/\u0000|\uFFFD/g;function Km(e){return(typeof e=="string"?e:""+e).replace(HN,`
`).replace(KN,"")}function yi(e,t,n){if(t=Km(t),Km(e)!==t&&n)throw Error(q(425))}function vl(){}var rd=null,sd=null;function od(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ad=typeof setTimeout=="function"?setTimeout:void 0,YN=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(XN)}:ad;function XN(e){setTimeout(function(){throw e})}function Jc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),va(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);va(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Un="__reactFiber$"+wo,Sa="__reactProps$"+wo,dr="__reactContainer$"+wo,id="__reactEvents$"+wo,qN="__reactListeners$"+wo,QN="__reactHandles$"+wo;function ls(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dr]||n[Un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gm(e);e!==null;){if(n=e[Un])return n;e=Gm(e)}return t}e=n,n=e.parentNode}return null}function Ba(e){return e=e[Un]||e[dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Jl(e){return e[Sa]||null}var ld=[],Vs=-1;function es(e){return{current:e}}function Ye(e){0>Vs||(e.current=ld[Vs],ld[Vs]=null,Vs--)}function We(e,t){Vs++,ld[Vs]=e.current,e.current=t}var Yr={},Dt=es(Yr),Gt=es(!1),gs=Yr;function io(e,t){var n=e.type.contextTypes;if(!n)return Yr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(e){return e=e.childContextTypes,e!=null}function xl(){Ye(Gt),Ye(Dt)}function Xm(e,t,n){if(Dt.current!==Yr)throw Error(q(168));We(Dt,t),We(Gt,n)}function rx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(q(108,LS(e)||"Unknown",s));return tt({},n,r)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,gs=Dt.current,We(Dt,e),We(Gt,Gt.current),!0}function qm(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=rx(e,t,gs),r.__reactInternalMemoizedMergedChildContext=e,Ye(Gt),Ye(Dt),We(Dt,e)):Ye(Gt),We(Gt,n)}var sr=null,Zl=!1,Zc=!1;function sx(e){sr===null?sr=[e]:sr.push(e)}function JN(e){Zl=!0,sx(e)}function ts(){if(!Zc&&sr!==null){Zc=!0;var e=0,t=Me;try{var n=sr;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sr=null,Zl=!1}catch(s){throw sr!==null&&(sr=sr.slice(e+1)),Rv(wf,ts),s}finally{Me=t,Zc=!1}}return null}var Hs=[],Ks=0,wl=null,bl=0,un=[],dn=0,vs=null,or=1,ar="";function os(e,t){Hs[Ks++]=bl,Hs[Ks++]=wl,wl=e,bl=t}function ox(e,t,n){un[dn++]=or,un[dn++]=ar,un[dn++]=vs,vs=e;var r=or;e=ar;var s=32-En(r)-1;r&=~(1<<s),n+=1;var a=32-En(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,or=1<<32-En(t)+s|n<<s|r,ar=a+e}else or=1<<a|n<<s|r,ar=e}function Rf(e){e.return!==null&&(os(e,1),ox(e,1,0))}function Pf(e){for(;e===wl;)wl=Hs[--Ks],Hs[Ks]=null,bl=Hs[--Ks],Hs[Ks]=null;for(;e===vs;)vs=un[--dn],un[dn]=null,ar=un[--dn],un[dn]=null,or=un[--dn],un[dn]=null}var nn=null,en=null,qe=!1,kn=null;function ax(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,en=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vs!==null?{id:or,overflow:ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nn=e,en=null,!0):!1;default:return!1}}function cd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ud(e){if(qe){var t=en;if(t){var n=t;if(!Qm(e,t)){if(cd(e))throw Error(q(418));t=Fr(n.nextSibling);var r=nn;t&&Qm(e,t)?ax(r,n):(e.flags=e.flags&-4097|2,qe=!1,nn=e)}}else{if(cd(e))throw Error(q(418));e.flags=e.flags&-4097|2,qe=!1,nn=e}}}function Jm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function wi(e){if(e!==nn)return!1;if(!qe)return Jm(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!od(e.type,e.memoizedProps)),t&&(t=en)){if(cd(e))throw ix(),Error(q(418));for(;t;)ax(e,t),t=Fr(t.nextSibling)}if(Jm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){en=Fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}en=null}}else en=nn?Fr(e.stateNode.nextSibling):null;return!0}function ix(){for(var e=en;e;)e=Fr(e.nextSibling)}function lo(){en=nn=null,qe=!1}function _f(e){kn===null?kn=[e]:kn.push(e)}var ZN=vr.ReactCurrentBatchConfig;function $o(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zm(e){var t=e._init;return t(e._payload)}function lx(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Vr(g,v),g.index=0,g.sibling=null,g}function a(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,y,j){return v===null||v.tag!==6?(v=au(y,g.mode,j),v.return=g,v):(v=s(v,y),v.return=g,v)}function c(g,v,y,j){var E=y.type;return E===zs?h(g,v,y.props.children,j,y.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tr&&Zm(E)===v.type)?(j=s(v,y.props),j.ref=$o(g,v,y),j.return=g,j):(j=nl(y.type,y.key,y.props,null,g.mode,j),j.ref=$o(g,v,y),j.return=g,j)}function u(g,v,y,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=iu(y,g.mode,j),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function h(g,v,y,j,E){return v===null||v.tag!==7?(v=ms(y,g.mode,j,E),v.return=g,v):(v=s(v,y),v.return=g,v)}function f(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=au(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ui:return y=nl(v.type,v.key,v.props,null,g.mode,y),y.ref=$o(g,null,v),y.return=g,y;case $s:return v=iu(v,g.mode,y),v.return=g,v;case Tr:var j=v._init;return f(g,j(v._payload),y)}if(Go(v)||Io(v))return v=ms(v,g.mode,y,null),v.return=g,v;bi(g,v)}return null}function m(g,v,y,j){var E=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(g,v,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:return y.key===E?c(g,v,y,j):null;case $s:return y.key===E?u(g,v,y,j):null;case Tr:return E=y._init,m(g,v,E(y._payload),j)}if(Go(y)||Io(y))return E!==null?null:h(g,v,y,j,null);bi(g,y)}return null}function p(g,v,y,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(y)||null,l(v,g,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ui:return g=g.get(j.key===null?y:j.key)||null,c(v,g,j,E);case $s:return g=g.get(j.key===null?y:j.key)||null,u(v,g,j,E);case Tr:var P=j._init;return p(g,v,y,P(j._payload),E)}if(Go(j)||Io(j))return g=g.get(y)||null,h(v,g,j,E,null);bi(v,j)}return null}function w(g,v,y,j){for(var E=null,P=null,R=v,T=v=0,S=null;R!==null&&T<y.length;T++){R.index>T?(S=R,R=null):S=R.sibling;var k=m(g,R,y[T],j);if(k===null){R===null&&(R=S);break}e&&R&&k.alternate===null&&t(g,R),v=a(k,v,T),P===null?E=k:P.sibling=k,P=k,R=S}if(T===y.length)return n(g,R),qe&&os(g,T),E;if(R===null){for(;T<y.length;T++)R=f(g,y[T],j),R!==null&&(v=a(R,v,T),P===null?E=R:P.sibling=R,P=R);return qe&&os(g,T),E}for(R=r(g,R);T<y.length;T++)S=p(R,g,T,y[T],j),S!==null&&(e&&S.alternate!==null&&R.delete(S.key===null?T:S.key),v=a(S,v,T),P===null?E=S:P.sibling=S,P=S);return e&&R.forEach(function(_){return t(g,_)}),qe&&os(g,T),E}function x(g,v,y,j){var E=Io(y);if(typeof E!="function")throw Error(q(150));if(y=E.call(y),y==null)throw Error(q(151));for(var P=E=null,R=v,T=v=0,S=null,k=y.next();R!==null&&!k.done;T++,k=y.next()){R.index>T?(S=R,R=null):S=R.sibling;var _=m(g,R,k.value,j);if(_===null){R===null&&(R=S);break}e&&R&&_.alternate===null&&t(g,R),v=a(_,v,T),P===null?E=_:P.sibling=_,P=_,R=S}if(k.done)return n(g,R),qe&&os(g,T),E;if(R===null){for(;!k.done;T++,k=y.next())k=f(g,k.value,j),k!==null&&(v=a(k,v,T),P===null?E=k:P.sibling=k,P=k);return qe&&os(g,T),E}for(R=r(g,R);!k.done;T++,k=y.next())k=p(R,g,T,k.value,j),k!==null&&(e&&k.alternate!==null&&R.delete(k.key===null?T:k.key),v=a(k,v,T),P===null?E=k:P.sibling=k,P=k);return e&&R.forEach(function(C){return t(g,C)}),qe&&os(g,T),E}function b(g,v,y,j){if(typeof y=="object"&&y!==null&&y.type===zs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:e:{for(var E=y.key,P=v;P!==null;){if(P.key===E){if(E=y.type,E===zs){if(P.tag===7){n(g,P.sibling),v=s(P,y.props.children),v.return=g,g=v;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tr&&Zm(E)===P.type){n(g,P.sibling),v=s(P,y.props),v.ref=$o(g,P,y),v.return=g,g=v;break e}n(g,P);break}else t(g,P);P=P.sibling}y.type===zs?(v=ms(y.props.children,g.mode,j,y.key),v.return=g,g=v):(j=nl(y.type,y.key,y.props,null,g.mode,j),j.ref=$o(g,v,y),j.return=g,g=j)}return i(g);case $s:e:{for(P=y.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=iu(y,g.mode,j),v.return=g,g=v}return i(g);case Tr:return P=y._init,b(g,v,P(y._payload),j)}if(Go(y))return w(g,v,y,j);if(Io(y))return x(g,v,y,j);bi(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,y),v.return=g,g=v):(n(g,v),v=au(y,g.mode,j),v.return=g,g=v),i(g)):n(g,v)}return b}var co=lx(!0),cx=lx(!1),Sl=es(null),Nl=null,Ys=null,Af=null;function If(){Af=Ys=Nl=null}function Df(e){var t=Sl.current;Ye(Sl),e._currentValue=t}function dd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function to(e,t){Nl=e,Af=Ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(Af!==e)if(e={context:e,memoizedValue:t,next:null},Ys===null){if(Nl===null)throw Error(q(308));Ys=e,Nl.dependencies={lanes:0,firstContext:e}}else Ys=Ys.next=e;return t}var cs=null;function Lf(e){cs===null?cs=[e]:cs.push(e)}function ux(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Lf(t)):(n.next=s.next,s.next=n),t.interleaved=n,fr(e,r)}function fr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,fr(e,n)}return s=r.interleaved,s===null?(t.next=t,Lf(r)):(t.next=s.next,s.next=t),r.interleaved=t,fr(e,n)}function qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bf(e,n)}}function ep(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,r){var s=e.updateQueue;Rr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,h=u=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(p,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(p,f,m):w,m==null)break e;f=tt({},f,m);break e;case 2:Rr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=f):h=h.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ys|=i,e.lanes=i,e.memoizedState=f}}function tp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Wa={},Kn=es(Wa),Na=es(Wa),ja=es(Wa);function us(e){if(e===Wa)throw Error(q(174));return e}function Mf(e,t){switch(We(ja,t),We(Na,e),We(Kn,Wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hu(t,e)}Ye(Kn),We(Kn,t)}function uo(){Ye(Kn),Ye(Na),Ye(ja)}function fx(e){us(ja.current);var t=us(Kn.current),n=Hu(t,e.type);t!==n&&(We(Na,e),We(Kn,n))}function $f(e){Na.current===e&&(Ye(Kn),Ye(Na))}var Ze=es(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eu=[];function zf(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var Qi=vr.ReactCurrentDispatcher,tu=vr.ReactCurrentBatchConfig,xs=0,et=null,wt=null,Nt=null,kl=!1,oa=!1,Ca=0,ej=0;function Pt(){throw Error(q(321))}function Ff(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pn(e[n],t[n]))return!1;return!0}function Uf(e,t,n,r,s,a){if(xs=a,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qi.current=e===null||e.memoizedState===null?sj:oj,e=n(r,s),oa){a=0;do{if(oa=!1,Ca=0,25<=a)throw Error(q(301));a+=1,Nt=wt=null,t.updateQueue=null,Qi.current=aj,e=n(r,s)}while(oa)}if(Qi.current=El,t=wt!==null&&wt.next!==null,xs=0,Nt=wt=et=null,kl=!1,t)throw Error(q(300));return e}function Bf(){var e=Ca!==0;return Ca=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?et.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function pn(){if(wt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Nt===null?et.memoizedState:Nt.next;if(t!==null)Nt=t,wt=e;else{if(e===null)throw Error(q(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Nt===null?et.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function ka(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=pn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=wt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((xs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,et.lanes|=h,ys|=h}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,Pn(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,et.lanes|=a,ys|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ru(e){var t=pn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Pn(a,t.memoizedState)||(Kt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function hx(){}function mx(e,t){var n=et,r=pn(),s=t(),a=!Pn(r.memoizedState,s);if(a&&(r.memoizedState=s,Kt=!0),r=r.queue,Wf(vx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Ea(9,gx.bind(null,n,r,s,t),void 0,null),jt===null)throw Error(q(349));xs&30||px(n,t,s)}return s}function px(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gx(e,t,n,r){t.value=n,t.getSnapshot=r,xx(t)&&yx(e)}function vx(e,t,n){return n(function(){xx(t)&&yx(e)})}function xx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pn(e,n)}catch{return!0}}function yx(e){var t=fr(e,1);t!==null&&Tn(t,e,1,-1)}function np(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=rj.bind(null,et,e),[t.memoizedState,e]}function Ea(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wx(){return pn().memoizedState}function Ji(e,t,n,r){var s=Fn();et.flags|=e,s.memoizedState=Ea(1|t,n,void 0,r===void 0?null:r)}function ec(e,t,n,r){var s=pn();r=r===void 0?null:r;var a=void 0;if(wt!==null){var i=wt.memoizedState;if(a=i.destroy,r!==null&&Ff(r,i.deps)){s.memoizedState=Ea(t,n,a,r);return}}et.flags|=e,s.memoizedState=Ea(1|t,n,a,r)}function rp(e,t){return Ji(8390656,8,e,t)}function Wf(e,t){return ec(2048,8,e,t)}function bx(e,t){return ec(4,2,e,t)}function Sx(e,t){return ec(4,4,e,t)}function Nx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jx(e,t,n){return n=n!=null?n.concat([e]):null,ec(4,4,Nx.bind(null,t,e),n)}function Vf(){}function Cx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ff(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ff(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ex(e,t,n){return xs&21?(Pn(n,t)||(n=Av(),et.lanes|=n,ys|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=n)}function tj(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=tu.transition;tu.transition={};try{e(!1),t()}finally{Me=n,tu.transition=r}}function Tx(){return pn().memoizedState}function nj(e,t,n){var r=Wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rx(e))Px(t,n);else if(n=ux(e,t,n,r),n!==null){var s=zt();Tn(n,e,r,s),_x(n,t,r)}}function rj(e,t,n){var r=Wr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rx(e))Px(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,Pn(l,i)){var c=t.interleaved;c===null?(s.next=s,Lf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=ux(e,t,s,r),n!==null&&(s=zt(),Tn(n,e,r,s),_x(n,t,r))}}function Rx(e){var t=e.alternate;return e===et||t!==null&&t===et}function Px(e,t){oa=kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _x(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bf(e,n)}}var El={readContext:mn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},sj={readContext:mn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:rp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ji(4194308,4,Nx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nj.bind(null,et,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:np,useDebugValue:Vf,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=np(!1),t=e[0];return e=tj.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=et,s=Fn();if(qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),jt===null)throw Error(q(349));xs&30||px(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,rp(vx.bind(null,r,a,e),[e]),r.flags|=2048,Ea(9,gx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fn(),t=jt.identifierPrefix;if(qe){var n=ar,r=or;n=(r&~(1<<32-En(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ca++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ej++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oj={readContext:mn,useCallback:Cx,useContext:mn,useEffect:Wf,useImperativeHandle:jx,useInsertionEffect:bx,useLayoutEffect:Sx,useMemo:kx,useReducer:nu,useRef:wx,useState:function(){return nu(ka)},useDebugValue:Vf,useDeferredValue:function(e){var t=pn();return Ex(t,wt.memoizedState,e)},useTransition:function(){var e=nu(ka)[0],t=pn().memoizedState;return[e,t]},useMutableSource:hx,useSyncExternalStore:mx,useId:Tx,unstable_isNewReconciler:!1},aj={readContext:mn,useCallback:Cx,useContext:mn,useEffect:Wf,useImperativeHandle:jx,useInsertionEffect:bx,useLayoutEffect:Sx,useMemo:kx,useReducer:ru,useRef:wx,useState:function(){return ru(ka)},useDebugValue:Vf,useDeferredValue:function(e){var t=pn();return wt===null?t.memoizedState=e:Ex(t,wt.memoizedState,e)},useTransition:function(){var e=ru(ka)[0],t=pn().memoizedState;return[e,t]},useMutableSource:hx,useSyncExternalStore:mx,useId:Tx,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tc={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zt(),s=Wr(e),a=ir(r,s);a.payload=t,n!=null&&(a.callback=n),t=Ur(e,a,s),t!==null&&(Tn(t,e,s,r),qi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zt(),s=Wr(e),a=ir(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ur(e,a,s),t!==null&&(Tn(t,e,s,r),qi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),r=Wr(e),s=ir(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ur(e,s,r),t!==null&&(Tn(t,e,r,n),qi(t,e,r))}};function sp(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ya(n,r)||!ya(s,a):!0}function Ax(e,t,n){var r=!1,s=Yr,a=t.contextType;return typeof a=="object"&&a!==null?a=mn(a):(s=Xt(t)?gs:Dt.current,r=t.contextTypes,a=(r=r!=null)?io(e,s):Yr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function op(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tc.enqueueReplaceState(t,t.state,null)}function hd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Of(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=mn(a):(a=Xt(t)?gs:Dt.current,s.context=io(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(fd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&tc.enqueueReplaceState(s,s.state,null),jl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do n+=DS(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function su(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function md(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function Ix(e,t,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,jd=r),md(e,t)},n}function Dx(e,t,n){n=ir(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){md(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){md(e,t),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ap(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ij;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bj.bind(null,e,t,n),t.then(e,e))}function ip(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ir(-1,1),t.tag=2,Ur(n,t,1))),n.lanes|=1),e)}var lj=vr.ReactCurrentOwner,Kt=!1;function Ot(e,t,n,r){t.child=e===null?cx(t,null,n,r):co(t,e.child,n,r)}function cp(e,t,n,r,s){n=n.render;var a=t.ref;return to(t,s),r=Uf(e,t,n,r,a,s),n=Bf(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(qe&&n&&Rf(t),t.flags|=1,Ot(e,t,r,s),t.child)}function up(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Jf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Lx(e,t,a,r,s)):(e=nl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(i,r)&&e.ref===t.ref)return hr(e,t,s)}return t.flags|=1,e=Vr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Lx(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ya(a,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,hr(e,t,s)}return pd(e,t,n,r,s)}function Ox(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Xs,Qt),Qt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Xs,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,We(Xs,Qt),Qt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,We(Xs,Qt),Qt|=r;return Ot(e,t,s,n),t.child}function Mx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pd(e,t,n,r,s){var a=Xt(n)?gs:Dt.current;return a=io(t,a),to(t,s),n=Uf(e,t,n,r,a,s),r=Bf(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(qe&&r&&Rf(t),t.flags|=1,Ot(e,t,n,s),t.child)}function dp(e,t,n,r,s){if(Xt(n)){var a=!0;yl(t)}else a=!1;if(to(t,s),t.stateNode===null)Zi(e,t),Ax(t,n,r),hd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=Xt(n)?gs:Dt.current,u=io(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&op(t,i,r,u),Rr=!1;var m=t.memoizedState;i.state=m,jl(t,r,i,s),c=t.memoizedState,l!==r||m!==c||Gt.current||Rr?(typeof h=="function"&&(fd(t,n,h,r),c=t.memoizedState),(l=Rr||sp(t,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,dx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jn(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=mn(c):(c=Xt(n)?gs:Dt.current,c=io(t,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&op(t,i,r,c),Rr=!1,m=t.memoizedState,i.state=m,jl(t,r,i,s);var w=t.memoizedState;l!==f||m!==w||Gt.current||Rr?(typeof p=="function"&&(fd(t,n,p,r),w=t.memoizedState),(u=Rr||sp(t,n,u,r,m,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return gd(e,t,n,r,a,s)}function gd(e,t,n,r,s,a){Mx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&qm(t,n,!1),hr(e,t,a);r=t.stateNode,lj.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=co(t,e.child,null,a),t.child=co(t,null,l,a)):Ot(e,t,l,a),t.memoizedState=r.state,s&&qm(t,n,!0),t.child}function $x(e){var t=e.stateNode;t.pendingContext?Xm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xm(e,t.context,!1),Mf(e,t.containerInfo)}function fp(e,t,n,r,s){return lo(),_f(s),t.flags|=256,Ot(e,t,n,r),t.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function xd(e){return{baseLanes:e,cachePool:null,transitions:null}}function zx(e,t,n){var r=t.pendingProps,s=Ze.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),We(Ze,s&1),e===null)return ud(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=sc(i,r,0,null),e=ms(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=xd(n),t.memoizedState=vd,e):Hf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cj(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Vr(l,a):(a=ms(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?xd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=vd,r}return a=e.child,e=a.sibling,r=Vr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hf(e,t){return t=sc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Si(e,t,n,r){return r!==null&&_f(r),co(t,e.child,null,n),e=Hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cj(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=su(Error(q(422))),Si(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=sc({mode:"visible",children:r.children},s,0,null),a=ms(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&co(t,e.child,null,i),t.child.memoizedState=xd(i),t.memoizedState=vd,a);if(!(t.mode&1))return Si(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(q(419)),r=su(a,r,void 0),Si(e,t,i,r)}if(l=(i&e.childLanes)!==0,Kt||l){if(r=jt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,fr(e,s),Tn(r,e,s,-1))}return Qf(),r=su(Error(q(421))),Si(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Sj.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,en=Fr(s.nextSibling),nn=t,qe=!0,kn=null,e!==null&&(un[dn++]=or,un[dn++]=ar,un[dn++]=vs,or=e.id,ar=e.overflow,vs=t),t=Hf(t,r.children),t.flags|=4096,t)}function hp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dd(e.return,t,n)}function ou(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Fx(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Ot(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,n,t);else if(e.tag===19)hp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ou(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ou(t,!0,n,null,a);break;case"together":ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ys|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=Vr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uj(e,t,n){switch(t.tag){case 3:$x(t),lo();break;case 5:fx(t);break;case 1:Xt(t.type)&&yl(t);break;case 4:Mf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;We(Sl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?zx(e,t,n):(We(Ze,Ze.current&1),e=hr(e,t,n),e!==null?e.sibling:null);We(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Ox(e,t,n)}return hr(e,t,n)}var Ux,yd,Bx,Wx;Ux=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yd=function(){};Bx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,us(Kn.current);var a=null;switch(n){case"input":s=Uu(e,s),r=Uu(e,r),a=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),a=[];break;case"textarea":s=Vu(e,s),r=Vu(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vl)}Ku(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fa.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ke("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Wx=function(e,t,n,r){n!==r&&(t.flags|=4)};function zo(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dj(e,t,n){var r=t.pendingProps;switch(Pf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Xt(t.type)&&xl(),_t(t),null;case 3:return r=t.stateNode,uo(),Ye(Gt),Ye(Dt),zf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kn!==null&&(Ed(kn),kn=null))),yd(e,t),_t(t),null;case 5:$f(t);var s=us(ja.current);if(n=t.type,e!==null&&t.stateNode!=null)Bx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return _t(t),null}if(e=us(Kn.current),wi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Un]=t,r[Sa]=a,e=(t.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<qo.length;s++)Ke(qo[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Sm(r,a),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ke("invalid",r);break;case"textarea":jm(r,a),Ke("invalid",r)}Ku(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&yi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&yi(r.textContent,l,e),s=["children",""+l]):fa.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ke("scroll",r)}switch(n){case"input":di(r),Nm(r,a,!0);break;case"textarea":di(r),Cm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Un]=t,e[Sa]=r,Ux(e,t,!1,!1),t.stateNode=e;e:{switch(i=Yu(n,r),n){case"dialog":Ke("cancel",e),Ke("close",e),s=r;break;case"iframe":case"object":case"embed":Ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<qo.length;s++)Ke(qo[s],e);s=r;break;case"source":Ke("error",e),s=r;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=r;break;case"details":Ke("toggle",e),s=r;break;case"input":Sm(e,r),s=Uu(e,r),Ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),Ke("invalid",e);break;case"textarea":jm(e,r),s=Vu(e,r),Ke("invalid",e);break;default:s=r}Ku(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?wv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xv(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ha(e,c):typeof c=="number"&&ha(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fa.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ke("scroll",e):c!=null&&pf(e,a,c,i))}switch(n){case"input":di(e),Nm(e,r,!1);break;case"textarea":di(e),Cm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Qs(e,!!r.multiple,a,!1):r.defaultValue!=null&&Qs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)Wx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=us(ja.current),us(Kn.current),wi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Un]=t,(a=r.nodeValue!==n)&&(e=nn,e!==null))switch(e.tag){case 3:yi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=t,t.stateNode=r}return _t(t),null;case 13:if(Ye(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&en!==null&&t.mode&1&&!(t.flags&128))ix(),lo(),t.flags|=98560,a=!1;else if(a=wi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[Un]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),a=!1}else kn!==null&&(Ed(kn),kn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?bt===0&&(bt=3):Qf())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return uo(),yd(e,t),e===null&&wa(t.stateNode.containerInfo),_t(t),null;case 10:return Df(t.type._context),_t(t),null;case 17:return Xt(t.type)&&xl(),_t(t),null;case 19:if(Ye(Ze),a=t.memoizedState,a===null)return _t(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)zo(a,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Cl(e),i!==null){for(t.flags|=128,zo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Ze,Ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&ft()>ho&&(t.flags|=128,r=!0,zo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!qe)return _t(t),null}else 2*ft()-a.renderingStartTime>ho&&n!==1073741824&&(t.flags|=128,r=!0,zo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ft(),t.sibling=null,n=Ze.current,We(Ze,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return qf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function fj(e,t){switch(Pf(t),t.tag){case 1:return Xt(t.type)&&xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),Ye(Gt),Ye(Dt),zf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $f(t),null;case 13:if(Ye(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(Ze),null;case 4:return uo(),null;case 10:return Df(t.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var Ni=!1,At=!1,hj=typeof WeakSet=="function"?WeakSet:Set,le=null;function Gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function wd(e,t,n){try{n()}catch(r){rt(e,t,r)}}var mp=!1;function mj(e,t){if(rd=ml,e=Gv(),Tf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=i),m===a&&++h===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sd={focusedElem:e,selectionRange:n},ml=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:jn(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){rt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return w=mp,mp=!1,w}function aa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&wd(t,n,a)}s=s.next}while(s!==r)}}function nc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vx(e){var t=e.alternate;t!==null&&(e.alternate=null,Vx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[Sa],delete t[id],delete t[qN],delete t[QN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hx(e){return e.tag===5||e.tag===3||e.tag===4}function pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vl));else if(r!==4&&(e=e.child,e!==null))for(Sd(e,t,n),e=e.sibling;e!==null;)Sd(e,t,n),e=e.sibling}function Nd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nd(e,t,n),e=e.sibling;e!==null;)Nd(e,t,n),e=e.sibling}var Ct=null,Cn=!1;function jr(e,t,n){for(n=n.child;n!==null;)Kx(e,t,n),n=n.sibling}function Kx(e,t,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:At||Gs(n,t);case 6:var r=Ct,s=Cn;Ct=null,jr(e,t,n),Ct=r,Cn=s,Ct!==null&&(Cn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Cn?(e=Ct,n=n.stateNode,e.nodeType===8?Jc(e.parentNode,n):e.nodeType===1&&Jc(e,n),va(e)):Jc(Ct,n.stateNode));break;case 4:r=Ct,s=Cn,Ct=n.stateNode.containerInfo,Cn=!0,jr(e,t,n),Ct=r,Cn=s;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&wd(n,t,i),s=s.next}while(s!==r)}jr(e,t,n);break;case 1:if(!At&&(Gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rt(n,t,l)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,jr(e,t,n),At=r):jr(e,t,n);break;default:jr(e,t,n)}}function gp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hj),t.forEach(function(r){var s=Nj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Cn=!1;break e;case 3:Ct=l.stateNode.containerInfo,Cn=!0;break e;case 4:Ct=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(Ct===null)throw Error(q(160));Kx(a,i,s),Ct=null,Cn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){rt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yx(t,e),t=t.sibling}function Yx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),zn(e),r&4){try{aa(3,e,e.return),nc(3,e)}catch(x){rt(e,e.return,x)}try{aa(5,e,e.return)}catch(x){rt(e,e.return,x)}}break;case 1:yn(t,e),zn(e),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(yn(t,e),zn(e),r&512&&n!==null&&Gs(n,n.return),e.flags&32){var s=e.stateNode;try{ha(s,"")}catch(x){rt(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&pv(s,a),Yu(l,i);var u=Yu(l,a);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?wv(s,f):h==="dangerouslySetInnerHTML"?xv(s,f):h==="children"?ha(s,f):pf(s,h,f,u)}switch(l){case"input":Bu(s,a);break;case"textarea":gv(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Qs(s,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?Qs(s,!!a.multiple,a.defaultValue,!0):Qs(s,!!a.multiple,a.multiple?[]:"",!1))}s[Sa]=a}catch(x){rt(e,e.return,x)}}break;case 6:if(yn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){rt(e,e.return,x)}}break;case 3:if(yn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{va(t.containerInfo)}catch(x){rt(e,e.return,x)}break;case 4:yn(t,e),zn(e);break;case 13:yn(t,e),zn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Gf=ft())),r&4&&gp(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(At=(u=At)||h,yn(t,e),At=u):yn(t,e),zn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(le=e,h=e.child;h!==null;){for(f=le=h;le!==null;){switch(m=le,p=m.child,m.tag){case 0:case 11:case 14:case 15:aa(4,m,m.return);break;case 1:Gs(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){rt(r,n,x)}}break;case 5:Gs(m,m.return);break;case 22:if(m.memoizedState!==null){xp(f);continue}}p!==null?(p.return=m,le=p):xp(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yv("display",i))}catch(x){rt(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){rt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(t,e),zn(e),r&4&&gp(e);break;case 21:break;default:yn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hx(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ha(s,""),r.flags&=-33);var a=pp(e);Nd(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=pp(e);Sd(e,l,i);break;default:throw Error(q(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pj(e,t,n){le=e,Gx(e)}function Gx(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var s=le,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ni;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||At;l=Ni;var u=At;if(Ni=i,(At=c)&&!u)for(le=s;le!==null;)i=le,c=i.child,i.tag===22&&i.memoizedState!==null?yp(s):c!==null?(c.return=i,le=c):yp(s);for(;a!==null;)le=a,Gx(a),a=a.sibling;le=s,Ni=l,At=u}vp(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,le=a):vp(e)}}function vp(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||nc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!At)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:jn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&tp(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tp(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&va(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}At||t.flags&512&&bd(t)}catch(m){rt(t,t.return,m)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function xp(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function yp(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nc(4,t)}catch(c){rt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){rt(t,s,c)}}var a=t.return;try{bd(t)}catch(c){rt(t,a,c)}break;case 5:var i=t.return;try{bd(t)}catch(c){rt(t,i,c)}}}catch(c){rt(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var gj=Math.ceil,Tl=vr.ReactCurrentDispatcher,Kf=vr.ReactCurrentOwner,hn=vr.ReactCurrentBatchConfig,Ae=0,jt=null,vt=null,kt=0,Qt=0,Xs=es(0),bt=0,Ta=null,ys=0,rc=0,Yf=0,ia=null,Vt=null,Gf=0,ho=1/0,rr=null,Rl=!1,jd=null,Br=null,ji=!1,Or=null,Pl=0,la=0,Cd=null,el=-1,tl=0;function zt(){return Ae&6?ft():el!==-1?el:el=ft()}function Wr(e){return e.mode&1?Ae&2&&kt!==0?kt&-kt:ZN.transition!==null?(tl===0&&(tl=Av()),tl):(e=Me,e!==0||(e=window.event,e=e===void 0?16:zv(e.type)),e):1}function Tn(e,t,n,r){if(50<la)throw la=0,Cd=null,Error(q(185));Fa(e,n,r),(!(Ae&2)||e!==jt)&&(e===jt&&(!(Ae&2)&&(rc|=n),bt===4&&Ar(e,kt)),qt(e,r),n===1&&Ae===0&&!(t.mode&1)&&(ho=ft()+500,Zl&&ts()))}function qt(e,t){var n=e.callbackNode;ZS(e,t);var r=hl(e,e===jt?kt:0);if(r===0)n!==null&&Tm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tm(n),t===1)e.tag===0?JN(wp.bind(null,e)):sx(wp.bind(null,e)),GN(function(){!(Ae&6)&&ts()}),n=null;else{switch(Iv(r)){case 1:n=wf;break;case 4:n=Pv;break;case 16:n=fl;break;case 536870912:n=_v;break;default:n=fl}n=n0(n,Xx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xx(e,t){if(el=-1,tl=0,Ae&6)throw Error(q(327));var n=e.callbackNode;if(no()&&e.callbackNode!==n)return null;var r=hl(e,e===jt?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_l(e,r);else{t=r;var s=Ae;Ae|=2;var a=Qx();(jt!==e||kt!==t)&&(rr=null,ho=ft()+500,hs(e,t));do try{yj();break}catch(l){qx(e,l)}while(!0);If(),Tl.current=a,Ae=s,vt!==null?t=0:(jt=null,kt=0,t=bt)}if(t!==0){if(t===2&&(s=Ju(e),s!==0&&(r=s,t=kd(e,s))),t===1)throw n=Ta,hs(e,0),Ar(e,r),qt(e,ft()),n;if(t===6)Ar(e,r);else{if(s=e.current.alternate,!(r&30)&&!vj(s)&&(t=_l(e,r),t===2&&(a=Ju(e),a!==0&&(r=a,t=kd(e,a))),t===1))throw n=Ta,hs(e,0),Ar(e,r),qt(e,ft()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:as(e,Vt,rr);break;case 3:if(Ar(e,r),(r&130023424)===r&&(t=Gf+500-ft(),10<t)){if(hl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ad(as.bind(null,e,Vt,rr),t);break}as(e,Vt,rr);break;case 4:if(Ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-En(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gj(r/1960))-r,10<r){e.timeoutHandle=ad(as.bind(null,e,Vt,rr),r);break}as(e,Vt,rr);break;case 5:as(e,Vt,rr);break;default:throw Error(q(329))}}}return qt(e,ft()),e.callbackNode===n?Xx.bind(null,e):null}function kd(e,t){var n=ia;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=_l(e,t),e!==2&&(t=Vt,Vt=n,t!==null&&Ed(t)),e}function Ed(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function vj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Pn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ar(e,t){for(t&=~Yf,t&=~rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-En(t),r=1<<n;e[n]=-1,t&=~r}}function wp(e){if(Ae&6)throw Error(q(327));no();var t=hl(e,0);if(!(t&1))return qt(e,ft()),null;var n=_l(e,t);if(e.tag!==0&&n===2){var r=Ju(e);r!==0&&(t=r,n=kd(e,r))}if(n===1)throw n=Ta,hs(e,0),Ar(e,t),qt(e,ft()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,as(e,Vt,rr),qt(e,ft()),null}function Xf(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(ho=ft()+500,Zl&&ts())}}function ws(e){Or!==null&&Or.tag===0&&!(Ae&6)&&no();var t=Ae;Ae|=1;var n=hn.transition,r=Me;try{if(hn.transition=null,Me=1,e)return e()}finally{Me=r,hn.transition=n,Ae=t,!(Ae&6)&&ts()}}function qf(){Qt=Xs.current,Ye(Xs)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YN(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Pf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:uo(),Ye(Gt),Ye(Dt),zf();break;case 5:$f(r);break;case 4:uo();break;case 13:Ye(Ze);break;case 19:Ye(Ze);break;case 10:Df(r.type._context);break;case 22:case 23:qf()}n=n.return}if(jt=e,vt=e=Vr(e.current,null),kt=Qt=t,bt=0,Ta=null,Yf=rc=ys=0,Vt=ia=null,cs!==null){for(t=0;t<cs.length;t++)if(n=cs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}cs=null}return e}function qx(e,t){do{var n=vt;try{if(If(),Qi.current=El,kl){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kl=!1}if(xs=0,Nt=wt=et=null,oa=!1,Ca=0,Kf.current=null,n===null||n.return===null){bt=1,Ta=t,vt=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ip(i);if(p!==null){p.flags&=-257,lp(p,i,l,a,t),p.mode&1&&ap(a,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){ap(a,u,t),Qf();break e}c=Error(q(426))}}else if(qe&&l.mode&1){var b=ip(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lp(b,i,l,a,t),_f(fo(c,l));break e}}a=c=fo(c,l),bt!==4&&(bt=2),ia===null?ia=[a]:ia.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Ix(a,c,t);ep(a,g);break e;case 1:l=c;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Br===null||!Br.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Dx(a,l,t);ep(a,j);break e}}a=a.return}while(a!==null)}Zx(n)}catch(E){t=E,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function Qx(){var e=Tl.current;return Tl.current=El,e===null?El:e}function Qf(){(bt===0||bt===3||bt===2)&&(bt=4),jt===null||!(ys&268435455)&&!(rc&268435455)||Ar(jt,kt)}function _l(e,t){var n=Ae;Ae|=2;var r=Qx();(jt!==e||kt!==t)&&(rr=null,hs(e,t));do try{xj();break}catch(s){qx(e,s)}while(!0);if(If(),Ae=n,Tl.current=r,vt!==null)throw Error(q(261));return jt=null,kt=0,bt}function xj(){for(;vt!==null;)Jx(vt)}function yj(){for(;vt!==null&&!VS();)Jx(vt)}function Jx(e){var t=t0(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?Zx(e):vt=t,Kf.current=null}function Zx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fj(n,t),n!==null){n.flags&=32767,vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,vt=null;return}}else if(n=dj(n,t,Qt),n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);bt===0&&(bt=5)}function as(e,t,n){var r=Me,s=hn.transition;try{hn.transition=null,Me=1,wj(e,t,n,r)}finally{hn.transition=s,Me=r}return null}function wj(e,t,n,r){do no();while(Or!==null);if(Ae&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(eN(e,a),e===jt&&(vt=jt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ji||(ji=!0,n0(fl,function(){return no(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var i=Me;Me=1;var l=Ae;Ae|=4,Kf.current=null,mj(e,n),Yx(n,e),FN(sd),ml=!!rd,sd=rd=null,e.current=n,pj(n),HS(),Ae=l,Me=i,hn.transition=a}else e.current=n;if(ji&&(ji=!1,Or=e,Pl=s),a=e.pendingLanes,a===0&&(Br=null),GS(n.stateNode),qt(e,ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rl)throw Rl=!1,e=jd,jd=null,e;return Pl&1&&e.tag!==0&&no(),a=e.pendingLanes,a&1?e===Cd?la++:(la=0,Cd=e):la=0,ts(),null}function no(){if(Or!==null){var e=Iv(Pl),t=hn.transition,n=Me;try{if(hn.transition=null,Me=16>e?16:e,Or===null)var r=!1;else{if(e=Or,Or=null,Pl=0,Ae&6)throw Error(q(331));var s=Ae;for(Ae|=4,le=e.current;le!==null;){var a=le,i=a.child;if(le.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(le=u;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:aa(8,h,a)}var f=h.child;if(f!==null)f.return=h,le=f;else for(;le!==null;){h=le;var m=h.sibling,p=h.return;if(Vx(h),h===u){le=null;break}if(m!==null){m.return=p,le=m;break}le=p}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}le=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,le=i;else e:for(;le!==null;){if(a=le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:aa(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,le=g;break e}le=a.return}}var v=e.current;for(le=v;le!==null;){i=le;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,le=y;else e:for(i=v;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nc(9,l)}}catch(E){rt(l,l.return,E)}if(l===i){le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,le=j;break e}le=l.return}}if(Ae=s,ts(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Gl,e)}catch{}r=!0}return r}finally{Me=n,hn.transition=t}}return!1}function bp(e,t,n){t=fo(n,t),t=Ix(e,t,1),e=Ur(e,t,1),t=zt(),e!==null&&(Fa(e,1,t),qt(e,t))}function rt(e,t,n){if(e.tag===3)bp(e,e,n);else for(;t!==null;){if(t.tag===3){bp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){e=fo(n,e),e=Dx(t,e,1),t=Ur(t,e,1),e=zt(),t!==null&&(Fa(t,1,e),qt(t,e));break}}t=t.return}}function bj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(kt&n)===n&&(bt===4||bt===3&&(kt&130023424)===kt&&500>ft()-Gf?hs(e,0):Yf|=n),qt(e,t)}function e0(e,t){t===0&&(e.mode&1?(t=mi,mi<<=1,!(mi&130023424)&&(mi=4194304)):t=1);var n=zt();e=fr(e,t),e!==null&&(Fa(e,t,n),qt(e,n))}function Sj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e0(e,n)}function Nj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),e0(e,n)}var t0;t0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kt=!1,uj(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,qe&&t.flags&1048576&&ox(t,bl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zi(e,t),e=t.pendingProps;var s=io(t,Dt.current);to(t,n),s=Uf(null,t,r,e,s,n);var a=Bf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(r)?(a=!0,yl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Of(t),s.updater=tc,t.stateNode=s,s._reactInternals=t,hd(t,r,e,n),t=gd(null,t,r,!0,a,n)):(t.tag=0,qe&&a&&Rf(t),Ot(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Cj(r),e=jn(r,e),s){case 0:t=pd(null,t,r,e,n);break e;case 1:t=dp(null,t,r,e,n);break e;case 11:t=cp(null,t,r,e,n);break e;case 14:t=up(null,t,r,jn(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jn(r,s),pd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jn(r,s),dp(e,t,r,s,n);case 3:e:{if($x(t),e===null)throw Error(q(387));r=t.pendingProps,a=t.memoizedState,s=a.element,dx(e,t),jl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=fo(Error(q(423)),t),t=fp(e,t,r,n,s);break e}else if(r!==s){s=fo(Error(q(424)),t),t=fp(e,t,r,n,s);break e}else for(en=Fr(t.stateNode.containerInfo.firstChild),nn=t,qe=!0,kn=null,n=cx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===s){t=hr(e,t,n);break e}Ot(e,t,r,n)}t=t.child}return t;case 5:return fx(t),e===null&&ud(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,od(r,s)?i=null:a!==null&&od(r,a)&&(t.flags|=32),Mx(e,t),Ot(e,t,i,n),t.child;case 6:return e===null&&ud(t),null;case 13:return zx(e,t,n);case 4:return Mf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=co(t,null,r,n):Ot(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jn(r,s),cp(e,t,r,s,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,We(Sl,r._currentValue),r._currentValue=i,a!==null)if(Pn(a.value,i)){if(a.children===s.children&&!Gt.current){t=hr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ir(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),dd(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(q(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),dd(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ot(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,to(t,n),s=mn(s),r=r(s),t.flags|=1,Ot(e,t,r,n),t.child;case 14:return r=t.type,s=jn(r,t.pendingProps),s=jn(r.type,s),up(e,t,r,s,n);case 15:return Lx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jn(r,s),Zi(e,t),t.tag=1,Xt(r)?(e=!0,yl(t)):e=!1,to(t,n),Ax(t,r,s),hd(t,r,s,n),gd(null,t,r,!0,e,n);case 19:return Fx(e,t,n);case 22:return Ox(e,t,n)}throw Error(q(156,t.tag))};function n0(e,t){return Rv(e,t)}function jj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,r){return new jj(e,t,n,r)}function Jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cj(e){if(typeof e=="function")return Jf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vf)return 11;if(e===xf)return 14}return 2}function Vr(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nl(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Jf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zs:return ms(n.children,s,a,t);case gf:i=8,s|=8;break;case Mu:return e=fn(12,n,t,s|2),e.elementType=Mu,e.lanes=a,e;case $u:return e=fn(13,n,t,s),e.elementType=$u,e.lanes=a,e;case zu:return e=fn(19,n,t,s),e.elementType=zu,e.lanes=a,e;case fv:return sc(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uv:i=10;break e;case dv:i=9;break e;case vf:i=11;break e;case xf:i=14;break e;case Tr:i=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=fn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ms(e,t,n,r){return e=fn(7,e,r,t),e.lanes=n,e}function sc(e,t,n,r){return e=fn(22,e,r,t),e.elementType=fv,e.lanes=n,e.stateNode={isHidden:!1},e}function au(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function iu(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kj(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zf(e,t,n,r,s,a,i,l,c){return e=new kj(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=fn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(a),e}function Ej(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function r0(e){if(!e)return Yr;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Xt(n))return rx(e,n,t)}return t}function s0(e,t,n,r,s,a,i,l,c){return e=Zf(n,r,!0,e,s,a,i,l,c),e.context=r0(null),n=e.current,r=zt(),s=Wr(n),a=ir(r,s),a.callback=t??null,Ur(n,a,s),e.current.lanes=s,Fa(e,s,r),qt(e,r),e}function oc(e,t,n,r){var s=t.current,a=zt(),i=Wr(s);return n=r0(n),t.context===null?t.context=n:t.pendingContext=n,t=ir(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ur(s,t,i),e!==null&&(Tn(e,s,i,a),qi(e,s,i)),i}function Al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eh(e,t){Sp(e,t),(e=e.alternate)&&Sp(e,t)}function Tj(){return null}var o0=typeof reportError=="function"?reportError:function(e){console.error(e)};function th(e){this._internalRoot=e}ac.prototype.render=th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));oc(e,t,null,null)};ac.prototype.unmount=th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){oc(null,e,null,null)}),t[dr]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&$v(e)}};function nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Np(){}function Rj(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Al(i);a.call(u)}}var i=s0(t,r,e,0,null,!1,!1,"",Np);return e._reactRootContainer=i,e[dr]=i.current,wa(e.nodeType===8?e.parentNode:e),ws(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Al(c);l.call(u)}}var c=Zf(e,0,!1,null,null,!1,!1,"",Np);return e._reactRootContainer=c,e[dr]=c.current,wa(e.nodeType===8?e.parentNode:e),ws(function(){oc(t,c,n,r)}),c}function lc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Al(i);l.call(c)}}oc(t,i,e,s)}else i=Rj(n,t,e,s,r);return Al(i)}Dv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xo(t.pendingLanes);n!==0&&(bf(t,n|1),qt(t,ft()),!(Ae&6)&&(ho=ft()+500,ts()))}break;case 13:ws(function(){var r=fr(e,1);if(r!==null){var s=zt();Tn(r,e,1,s)}}),eh(e,1)}};Sf=function(e){if(e.tag===13){var t=fr(e,134217728);if(t!==null){var n=zt();Tn(t,e,134217728,n)}eh(e,134217728)}};Lv=function(e){if(e.tag===13){var t=Wr(e),n=fr(e,t);if(n!==null){var r=zt();Tn(n,e,t,r)}eh(e,t)}};Ov=function(){return Me};Mv=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};Xu=function(e,t,n){switch(t){case"input":if(Bu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Jl(r);if(!s)throw Error(q(90));mv(r),Bu(r,s)}}}break;case"textarea":gv(e,n);break;case"select":t=n.value,t!=null&&Qs(e,!!n.multiple,t,!1)}};Nv=Xf;jv=ws;var Pj={usingClientEntryPoint:!1,Events:[Ba,Ws,Jl,bv,Sv,Xf]},Fo={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_j={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ev(e),e===null?null:e.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||Tj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{Gl=Ci.inject(_j),Hn=Ci}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pj;on.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nh(t))throw Error(q(200));return Ej(e,t,null,n)};on.createRoot=function(e,t){if(!nh(e))throw Error(q(299));var n=!1,r="",s=o0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zf(e,1,!1,null,null,n,!1,r,s),e[dr]=t.current,wa(e.nodeType===8?e.parentNode:e),new th(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Ev(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return ws(e)};on.hydrate=function(e,t,n){if(!ic(t))throw Error(q(200));return lc(null,e,t,!0,n)};on.hydrateRoot=function(e,t,n){if(!nh(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=o0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=s0(t,null,e,1,n??null,s,!1,a,i),e[dr]=t.current,wa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ac(t)};on.render=function(e,t,n){if(!ic(t))throw Error(q(200));return lc(null,e,t,!1,n)};on.unmountComponentAtNode=function(e){if(!ic(e))throw Error(q(40));return e._reactRootContainer?(ws(function(){lc(null,null,e,!1,function(){e._reactRootContainer=null,e[dr]=null})}),!0):!1};on.unstable_batchedUpdates=Xf;on.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return lc(e,t,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function a0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a0)}catch(e){console.error(e)}}a0(),av.exports=on;var bo=av.exports;const i0=lf(bo);var jp=bo;Lu.createRoot=jp.createRoot,Lu.hydrateRoot=jp.hydrateRoot;var rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.parse=$j;rh.serialize=zj;const Aj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Ij=/^[\u0021-\u003A\u003C-\u007E]*$/,Dj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Lj=/^[\u0020-\u003A\u003D-\u007E]*$/,Oj=Object.prototype.toString,Mj=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function $j(e,t){const n=new Mj,r=e.length;if(r<2)return n;const s=(t==null?void 0:t.decode)||Fj;let a=0;do{const i=e.indexOf("=",a);if(i===-1)break;const l=e.indexOf(";",a),c=l===-1?r:l;if(i>c){a=e.lastIndexOf(";",i-1)+1;continue}const u=Cp(e,a,i),h=kp(e,i,u),f=e.slice(u,h);if(n[f]===void 0){let m=Cp(e,i+1,c),p=kp(e,c,m);const w=s(e.slice(m,p));n[f]=w}a=c+1}while(a<r);return n}function Cp(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function kp(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function zj(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Aj.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=r(t);if(!Ij.test(s))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+s;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!Dj.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!Lj.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!Uj(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function Fj(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Uj(e){return Oj.call(e)==="[object Date]"}var Ep="popstate";function Bj(e={}){function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return Td("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ra(s)}return Vj(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wj(){return Math.random().toString(36).substring(2,10)}function Tp(e,t){return{usr:e.state,key:e.key,idx:t}}function Td(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Va(t):t,state:n,key:t&&t.key||r||Wj()}}function Ra({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Va(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Vj(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l="POP",c=null,u=h();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function h(){return(i.state||{idx:null}).idx}function f(){l="POP";let b=h(),g=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:g})}function m(b,g){l="PUSH";let v=Td(x.location,b,g);u=h()+1;let y=Tp(v,u),j=x.createHref(v);try{i.pushState(y,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(j)}a&&c&&c({action:l,location:x.location,delta:1})}function p(b,g){l="REPLACE";let v=Td(x.location,b,g);u=h();let y=Tp(v,u),j=x.createHref(v);i.replaceState(y,"",j),a&&c&&c({action:l,location:x.location,delta:0})}function w(b){return Hj(b)}let x={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ep,f),c=b,()=>{s.removeEventListener(Ep,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:p,go(b){return i.go(b)}};return x}function Hj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ra(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function l0(e,t,n="/"){return Kj(e,t,n,!1)}function Kj(e,t,n,r){let s=typeof t=="string"?Va(t):t,a=mr(s.pathname||"/",n);if(a==null)return null;let i=c0(e);Yj(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=s2(a);l=n2(i[c],u,r)}return l}function c0(e,t=[],n=[],r=""){let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=lr([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(St(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),c0(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:e2(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of u0(a.path))s(a,i,c)}),t}function u0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=u0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Yj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:t2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Gj=/^:[\w-]+$/,Xj=3,qj=2,Qj=1,Jj=10,Zj=-2,Rp=e=>e==="*";function e2(e,t){let n=e.split("/"),r=n.length;return n.some(Rp)&&(r+=Zj),t&&(r+=qj),n.filter(s=>!Rp(s)).reduce((s,a)=>s+(Gj.test(a)?Xj:a===""?Qj:Jj),r)}function t2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function n2(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",f=Il({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Il({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:lr([a,f.pathname]),pathnameBase:l2(lr([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=lr([a,f.pathnameBase]))}return i}function Il(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},m)=>{if(h==="*"){let w=l[m]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const p=l[m];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function r2(e,t=!1,n=!0){_n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function s2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function o2(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Va(e):e;return{pathname:n?n.startsWith("/")?n:a2(n,t):t,search:c2(r),hash:u2(s)}}function a2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lu(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function d0(e){let t=i2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function f0(e,t,n,r=!1){let s;typeof e=="string"?s=Va(e):(s={...e},St(!s.pathname||!s.pathname.includes("?"),lu("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),lu("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),lu("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=o2(s,l),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var lr=e=>e.join("/").replace(/\/\/+/g,"/"),l2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),c2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var h0=["POST","PUT","PATCH","DELETE"];new Set(h0);var f2=["GET",...h0];new Set(f2);var So=d.createContext(null);So.displayName="DataRouter";var cc=d.createContext(null);cc.displayName="DataRouterState";var m0=d.createContext({isTransitioning:!1});m0.displayName="ViewTransition";var h2=d.createContext(new Map);h2.displayName="Fetchers";var m2=d.createContext(null);m2.displayName="Await";var Zn=d.createContext(null);Zn.displayName="Navigation";var uc=d.createContext(null);uc.displayName="Location";var xr=d.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var sh=d.createContext(null);sh.displayName="RouteError";function p2(e,{relative:t}={}){St(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Zn),{hash:s,pathname:a,search:i}=Ka(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:lr([n,a])),r.createHref({pathname:l,search:i,hash:s})}function Ha(){return d.useContext(uc)!=null}function yr(){return St(Ha(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(uc).location}var p0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g0(e){d.useContext(Zn).static||d.useLayoutEffect(e)}function v0(){let{isDataRoute:e}=d.useContext(xr);return e?T2():g2()}function g2(){St(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(So),{basename:t,navigator:n}=d.useContext(Zn),{matches:r}=d.useContext(xr),{pathname:s}=yr(),a=JSON.stringify(d0(r)),i=d.useRef(!1);return g0(()=>{i.current=!0}),d.useCallback((c,u={})=>{if(_n(i.current,p0),!i.current)return;if(typeof c=="number"){n.go(c);return}let h=f0(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:lr([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,a,s,e])}d.createContext(null);function Ka(e,{relative:t}={}){let{matches:n}=d.useContext(xr),{pathname:r}=yr(),s=JSON.stringify(d0(n));return d.useMemo(()=>f0(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function v2(e,t,n,r){St(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=d.useContext(Zn),{matches:a}=d.useContext(xr),i=a[a.length-1],l=i?i.params:{},c=i?i.pathname:"/",u=i?i.pathnameBase:"/",h=i&&i.route;{let g=h&&h.path||"";x0(c,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=yr(),m;m=f;let p=m.pathname||"/",w=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=l0(e,{pathname:w});return _n(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),_n(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),S2(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:lr([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:lr([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r)}function x2(){let e=E2(),t=d2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=d.createElement(d.Fragment,null,d.createElement("p",null," Hey developer "),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:a},"ErrorBoundary")," or"," ",d.createElement("code",{style:a},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,i)}var y2=d.createElement(x2,null),w2=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?d.createElement(xr.Provider,{value:this.props.routeContext},d.createElement(sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b2({routeContext:e,match:t,children:n}){let r=d.useContext(So);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(xr.Provider,{value:e},n)}function S2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);St(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let i=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:h,errors:f}=n,m=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){i=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,h)=>{let f,m=!1,p=null,w=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||y2,i&&(l<0&&h===0?(x0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===h&&(m=!0,w=u.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,h+1)),b=()=>{let g;return f?g=p:m?g=w:u.route.Component?g=d.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,d.createElement(b2,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?d.createElement(w2,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function oh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N2(e){let t=d.useContext(So);return St(t,oh(e)),t}function j2(e){let t=d.useContext(cc);return St(t,oh(e)),t}function C2(e){let t=d.useContext(xr);return St(t,oh(e)),t}function ah(e){let t=C2(e),n=t.matches[t.matches.length-1];return St(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function k2(){return ah("useRouteId")}function E2(){var r;let e=d.useContext(sh),t=j2("useRouteError"),n=ah("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function T2(){let{router:e}=N2("useNavigate"),t=ah("useNavigate"),n=d.useRef(!1);return g0(()=>{n.current=!0}),d.useCallback(async(s,a={})=>{_n(n.current,p0),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Pp={};function x0(e,t,n){!t&&!Pp[e]&&(Pp[e]=!0,_n(!1,n))}d.memo(R2);function R2({routes:e,future:t,state:n}){return v2(e,void 0,n,t)}function P2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){St(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof n=="string"&&(n=Va(n));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:m="default"}=n,p=d.useMemo(()=>{let w=mr(c,i);return w==null?null:{location:{pathname:w,search:u,hash:h,state:f,key:m},navigationType:r}},[i,c,u,h,f,m,r]);return _n(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(Zn.Provider,{value:l},d.createElement(uc.Provider,{children:t,value:p}))}var rl="get",sl="application/x-www-form-urlencoded";function dc(e){return e!=null&&typeof e.tagName=="string"}function _2(e){return dc(e)&&e.tagName.toLowerCase()==="button"}function A2(e){return dc(e)&&e.tagName.toLowerCase()==="form"}function I2(e){return dc(e)&&e.tagName.toLowerCase()==="input"}function D2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L2(e,t){return e.button===0&&(!t||t==="_self")&&!D2(e)}function Rd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function O2(e,t){let n=Rd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var ki=null;function M2(){if(ki===null)try{new FormData(document.createElement("form"),0),ki=!1}catch{ki=!0}return ki}var $2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cu(e){return e!=null&&!$2.has(e)?(_n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):e}function z2(e,t){let n,r,s,a,i;if(A2(e)){let l=e.getAttribute("action");r=l?mr(l,t):null,n=e.getAttribute("method")||rl,s=cu(e.getAttribute("enctype"))||sl,a=new FormData(e)}else if(_2(e)||I2(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?mr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||rl,s=cu(e.getAttribute("formenctype"))||cu(l.getAttribute("enctype"))||sl,a=new FormData(l,e),!M2()){let{name:u,type:h,value:f}=e;if(h==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(dc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,r=null,s=sl,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}function ih(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function F2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function B2(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await F2(a,n);return i.links?i.links():[]}return[]}));return K2(r.flat(1).filter(U2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _p(e,t,n,r,s,a){let i=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function W2(e,t,{includeHydrateFallback:n}={}){return V2(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function V2(e){return[...new Set(e)]}function H2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function K2(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(H2(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y2=new Set([100,101,204,205]);function G2(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&mr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function y0(){let e=d.useContext(So);return ih(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function X2(){let e=d.useContext(cc);return ih(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lh=d.createContext(void 0);lh.displayName="FrameworkContext";function w0(){let e=d.useContext(lh);return ih(e,"You must render this element inside a <HydratedRouter> element"),e}function q2(e,t){let n=d.useContext(lh),[r,s]=d.useState(!1),[a,i]=d.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,m=d.useRef(null);d.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=g=>{g.forEach(v=>{i(v.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[e]),d.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{s(!0)},w=()=>{s(!1),i(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:Uo(l,p),onBlur:Uo(c,w),onMouseEnter:Uo(u,p),onMouseLeave:Uo(h,w),onTouchStart:Uo(f,p)}]:[!1,m,{}]}function Uo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Q2({page:e,...t}){let{router:n}=y0(),r=d.useMemo(()=>l0(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?d.createElement(Z2,{page:e,matches:r,...t}):null}function J2(e){let{manifest:t,routeModules:n}=w0(),[r,s]=d.useState([]);return d.useEffect(()=>{let a=!1;return B2(e,t,n).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,n]),r}function Z2({page:e,matches:t,...n}){let r=yr(),{manifest:s,routeModules:a}=w0(),{basename:i}=y0(),{loaderData:l,matches:c}=X2(),u=d.useMemo(()=>_p(e,t,c,s,r,"data"),[e,t,c,s,r]),h=d.useMemo(()=>_p(e,t,c,s,r,"assets"),[e,t,c,s,r]),f=d.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(t.forEach(g=>{var y;let v=s.routes[g.route.id];!v||!v.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in l&&((y=a[g.route.id])!=null&&y.shouldRevalidate)||v.hasClientLoader?x=!0:w.add(g.route.id))}),w.size===0)return[];let b=G2(e,i);return x&&w.size>0&&b.searchParams.set("_routes",t.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[i,l,r,s,u,t,e,a]),m=d.useMemo(()=>W2(h,s),[h,s]),p=J2(h);return d.createElement(d.Fragment,null,f.map(w=>d.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),m.map(w=>d.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),p.map(({key:w,link:x})=>d.createElement("link",{key:w,...x})))}function eC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var b0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b0&&(window.__reactRouterVersion="7.6.3")}catch{}function tC({basename:e,children:t,window:n}){let r=d.useRef();r.current==null&&(r.current=Bj({window:n,v5Compat:!0}));let s=r.current,[a,i]=d.useState({action:s.action,location:s.location}),l=d.useCallback(c=>{d.startTransition(()=>i(c))},[i]);return d.useLayoutEffect(()=>s.listen(l),[s,l]),d.createElement(P2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N0=d.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,...m},p){let{basename:w}=d.useContext(Zn),x=typeof u=="string"&&S0.test(u),b,g=!1;if(typeof u=="string"&&x&&(b=u,b0))try{let S=new URL(window.location.href),k=u.startsWith("//")?new URL(S.protocol+u):new URL(u),_=mr(k.pathname,w);k.origin===S.origin&&_!=null?u=_+k.search+k.hash:g=!0}catch{_n(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=p2(u,{relative:s}),[y,j,E]=q2(r,m),P=oC(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function R(S){t&&t(S),S.defaultPrevented||P(S)}let T=d.createElement("a",{...m,...E,href:b||v,onClick:g||a?t:R,ref:eC(p,j),target:c,"data-discover":!x&&n==="render"?"true":void 0});return y&&!x?d.createElement(d.Fragment,null,T,d.createElement(Q2,{page:v})):T});N0.displayName="Link";var nC=d.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:i,viewTransition:l,children:c,...u},h){let f=Ka(i,{relative:u.relative}),m=yr(),p=d.useContext(cc),{navigator:w,basename:x}=d.useContext(Zn),b=p!=null&&dC(f)&&l===!0,g=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,v=m.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&x&&(y=mr(y,x)||y);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=v===g||!s&&v.startsWith(g)&&v.charAt(j)==="/",P=y!=null&&(y===g||!s&&y.startsWith(g)&&y.charAt(g.length)==="/"),R={isActive:E,isPending:P,isTransitioning:b},T=E?t:void 0,S;typeof r=="function"?S=r(R):S=[r,E?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(R):a;return d.createElement(N0,{...u,"aria-current":T,className:S,ref:h,style:k,to:i,viewTransition:l},typeof c=="function"?c(R):c)});nC.displayName="NavLink";var rC=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:i=rl,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...m},p)=>{let w=cC(),x=uC(l,{relative:u}),b=i.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&S0.test(l),v=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let j=y.nativeEvent.submitter,E=(j==null?void 0:j.getAttribute("formmethod"))||i;w(j||y.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:s,state:a,relative:u,preventScrollReset:h,viewTransition:f})};return d.createElement("form",{ref:p,method:b,action:x,onSubmit:r?c:v,...m,"data-discover":!g&&e==="render"?"true":void 0})});rC.displayName="Form";function sC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(e){let t=d.useContext(So);return St(t,sC(e)),t}function oC(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=v0(),c=yr(),u=Ka(e,{relative:a});return d.useCallback(h=>{if(L2(h,t)){h.preventDefault();let f=n!==void 0?n:Ra(c)===Ra(u);l(e,{replace:f,state:r,preventScrollReset:s,relative:a,viewTransition:i})}},[c,l,u,n,r,t,e,s,a,i])}function aC(e){_n(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=d.useRef(Rd(e)),n=d.useRef(!1),r=yr(),s=d.useMemo(()=>O2(r.search,n.current?null:t.current),[r.search]),a=v0(),i=d.useCallback((l,c)=>{const u=Rd(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,i]}var iC=0,lC=()=>`__${String(++iC)}__`;function cC(){let{router:e}=j0("useSubmit"),{basename:t}=d.useContext(Zn),n=k2();return d.useCallback(async(r,s={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=z2(r,t);if(s.navigate===!1){let h=s.fetcherKey||lC();await e.fetch(h,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function uC(e,{relative:t}={}){let{basename:n}=d.useContext(Zn),r=d.useContext(xr);St(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ka(e||".",{relative:t})},i=yr();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:lr([n,a.pathname])),Ra(a)}function dC(e,t={}){let n=d.useContext(m0);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=j0("useViewTransitionState"),s=Ka(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=mr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=mr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Il(s.pathname,i)!=null||Il(s.pathname,a)!=null}[...Y2];var fC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mC=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:l,...c},u)=>d.createElement("svg",{ref:u,...fC,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${hC(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var de=mC;const No=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ap=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),ch=de("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),C0=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Pa=de("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),k0=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ca=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Pr=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pC=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ip=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ps=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),qs=de("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),gC=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Pd=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vC=de("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),Dl=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Gr=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),E0=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),xC=de("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),uu=de("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),tn=de("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ll=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),yC=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),wC=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),bC=de("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),_d=de("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),uh=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),SC=de("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),NC=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),T0=de("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),jC=de("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Dp=de("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Et=de("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Yt=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ts=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),dh=de("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),CC=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kC=de("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),EC=de("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),TC=de("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),RC=de("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Xr=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Lp=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),_a=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),fh=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),PC=de("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),_C=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),R0=de("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),hh=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Op=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),$t=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),AC=de("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),IC=de("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),DC=de("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),LC=de("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),OC=de("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),An=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var MC=e=>{switch(e){case"success":return FC;case"info":return BC;case"warning":return UC;case"error":return WC;default:return null}},$C=Array(12).fill(0),zC=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},$C.map((n,r)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),FC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HC=()=>{let[e,t]=re.useState(document.hidden);return re.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ad=1,KC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ad++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,i=r.then(async c=>{if(a=["resolve",c],re.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(GC(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Ad++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wt=new KC,YC=(e,t)=>{let n=(t==null?void 0:t.id)||Ad++;return Wt.addToast({title:e,...t,id:n}),n},GC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",XC=YC,qC=()=>Wt.toasts,QC=()=>Wt.getActiveToasts(),Bo=Object.assign(XC,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:qC,getToasts:QC});function JC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}JC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ei(e){return e.label!==void 0}var ZC=3,ek="32px",tk="16px",Mp=4e3,nk=356,rk=14,sk=20,ok=200;function wn(...e){return e.filter(Boolean).join(" ")}function ak(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var ik=e=>{var t,n,r,s,a,i,l,c,u,h,f;let{invert:m,toast:p,unstyled:w,interacting:x,setHeights:b,visibleToasts:g,heights:v,index:y,toasts:j,expanded:E,removeToast:P,defaultRichColors:R,closeButton:T,style:S,cancelButtonStyle:k,actionButtonStyle:_,className:C="",descriptionClassName:D="",duration:L,position:K,gap:U,loadingIcon:M,expandByDefault:N,classNames:A,icons:O,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:$}=e,[Z,se]=re.useState(null),[ce,Ee]=re.useState(null),[J,ae]=re.useState(!1),[fe,pe]=re.useState(!1),[ie,xe]=re.useState(!1),[ye,$e]=re.useState(!1),[ht,I]=re.useState(!1),[Y,ne]=re.useState(0),[X,F]=re.useState(0),W=re.useRef(p.duration||L||Mp),ee=re.useRef(null),we=re.useRef(null),Ce=y===0,ke=y+1<=g,he=p.type,ue=p.dismissible!==!1,Oe=p.className||"",yt=p.descriptionClassName||"",it=re.useMemo(()=>v.findIndex(ve=>ve.toastId===p.id)||0,[v,p.id]),mt=re.useMemo(()=>{var ve;return(ve=p.closeButton)!=null?ve:T},[p.closeButton,T]),Qe=re.useMemo(()=>p.duration||L||Mp,[p.duration,L]),lt=re.useRef(0),nt=re.useRef(0),H=re.useRef(0),me=re.useRef(null),[Le,oe]=K.split("-"),Ge=re.useMemo(()=>v.reduce((ve,ge,je)=>je>=it?ve:ve+ge.height,0),[v,it]),pt=HC(),Nr=p.invert||m,ct=he==="loading";nt.current=re.useMemo(()=>it*U+Ge,[it,Ge]),re.useEffect(()=>{W.current=Qe},[Qe]),re.useEffect(()=>{ae(!0)},[]),re.useEffect(()=>{let ve=we.current;if(ve){let ge=ve.getBoundingClientRect().height;return F(ge),b(je=>[{toastId:p.id,height:ge,position:p.position},...je]),()=>b(je=>je.filter(ze=>ze.toastId!==p.id))}},[b,p.id]),re.useLayoutEffect(()=>{if(!J)return;let ve=we.current,ge=ve.style.height;ve.style.height="auto";let je=ve.getBoundingClientRect().height;ve.style.height=ge,F(je),b(ze=>ze.find(Fe=>Fe.toastId===p.id)?ze.map(Fe=>Fe.toastId===p.id?{...Fe,height:je}:Fe):[{toastId:p.id,height:je,position:p.position},...ze])},[J,p.title,p.description,b,p.id]);let Bt=re.useCallback(()=>{pe(!0),ne(nt.current),b(ve=>ve.filter(ge=>ge.toastId!==p.id)),setTimeout(()=>{P(p)},ok)},[p,P,b,nt]);re.useEffect(()=>{if(p.promise&&he==="loading"||p.duration===1/0||p.type==="loading")return;let ve;return E||x||$&&pt?(()=>{if(H.current<lt.current){let ge=new Date().getTime()-lt.current;W.current=W.current-ge}H.current=new Date().getTime()})():W.current!==1/0&&(lt.current=new Date().getTime(),ve=setTimeout(()=>{var ge;(ge=p.onAutoClose)==null||ge.call(p,p),Bt()},W.current)),()=>clearTimeout(ve)},[E,x,p,he,$,pt,Bt]),re.useEffect(()=>{p.delete&&Bt()},[Bt,p.delete]);function Rt(){var ve,ge,je;return O!=null&&O.loading?re.createElement("div",{className:wn(A==null?void 0:A.loader,(ve=p==null?void 0:p.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":he==="loading"},O.loading):M?re.createElement("div",{className:wn(A==null?void 0:A.loader,(ge=p==null?void 0:p.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":he==="loading"},M):re.createElement(zC,{className:wn(A==null?void 0:A.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader),visible:he==="loading"})}return re.createElement("li",{tabIndex:0,ref:we,className:wn(C,Oe,A==null?void 0:A.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[he],(n=p==null?void 0:p.classNames)==null?void 0:n[he]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:R,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":ht,"data-removed":fe,"data-visible":ke,"data-y-position":Le,"data-x-position":oe,"data-index":y,"data-front":Ce,"data-swiping":ie,"data-dismissible":ue,"data-type":he,"data-invert":Nr,"data-swipe-out":ye,"data-swipe-direction":ce,"data-expanded":!!(E||N&&J),style:{"--index":y,"--toasts-before":y,"--z-index":j.length-y,"--offset":`${fe?Y:nt.current}px`,"--initial-height":N?"auto":`${X}px`,...S,...p.style},onDragEnd:()=>{xe(!1),se(null),me.current=null},onPointerDown:ve=>{ct||!ue||(ee.current=new Date,ne(nt.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(xe(!0),me.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,ge,je,ze;if(ye||!ue)return;me.current=null;let Fe=Number(((ve=we.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ue=Number(((ge=we.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Be=new Date().getTime()-((je=ee.current)==null?void 0:je.getTime()),Je=Z==="x"?Fe:Ue,ut=Math.abs(Je)/Be;if(Math.abs(Je)>=sk||ut>.11){ne(nt.current),(ze=p.onDismiss)==null||ze.call(p,p),Ee(Z==="x"?Fe>0?"right":"left":Ue>0?"down":"up"),Bt(),$e(!0),I(!1);return}xe(!1),se(null)},onPointerMove:ve=>{var ge,je,ze,Fe;if(!me.current||!ue||((ge=window.getSelection())==null?void 0:ge.toString().length)>0)return;let Ue=ve.clientY-me.current.y,Be=ve.clientX-me.current.x,Je=(je=e.swipeDirections)!=null?je:ak(K);!Z&&(Math.abs(Be)>1||Math.abs(Ue)>1)&&se(Math.abs(Be)>Math.abs(Ue)?"x":"y");let ut={x:0,y:0};Z==="y"?(Je.includes("top")||Je.includes("bottom"))&&(Je.includes("top")&&Ue<0||Je.includes("bottom")&&Ue>0)&&(ut.y=Ue):Z==="x"&&(Je.includes("left")||Je.includes("right"))&&(Je.includes("left")&&Be<0||Je.includes("right")&&Be>0)&&(ut.x=Be),(Math.abs(ut.x)>0||Math.abs(ut.y)>0)&&I(!0),(ze=we.current)==null||ze.style.setProperty("--swipe-amount-x",`${ut.x}px`),(Fe=we.current)==null||Fe.style.setProperty("--swipe-amount-y",`${ut.y}px`)}},mt&&!p.jsx?re.createElement("button",{"aria-label":te,"data-disabled":ct,"data-close-button":!0,onClick:ct||!ue?()=>{}:()=>{var ve;Bt(),(ve=p.onDismiss)==null||ve.call(p,p)},className:wn(A==null?void 0:A.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=O==null?void 0:O.close)!=null?a:VC):null,p.jsx||d.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:re.createElement(re.Fragment,null,he||p.icon||p.promise?re.createElement("div",{"data-icon":"",className:wn(A==null?void 0:A.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Rt():null,p.type!=="loading"?p.icon||(O==null?void 0:O[he])||MC(he):null):null,re.createElement("div",{"data-content":"",className:wn(A==null?void 0:A.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},re.createElement("div",{"data-title":"",className:wn(A==null?void 0:A.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?re.createElement("div",{"data-description":"",className:wn(D,yt,A==null?void 0:A.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),d.isValidElement(p.cancel)?p.cancel:p.cancel&&Ei(p.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:ve=>{var ge,je;Ei(p.cancel)&&ue&&((je=(ge=p.cancel).onClick)==null||je.call(ge,ve),Bt())},className:wn(A==null?void 0:A.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,d.isValidElement(p.action)?p.action:p.action&&Ei(p.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||_,onClick:ve=>{var ge,je;Ei(p.action)&&((je=(ge=p.action).onClick)==null||je.call(ge,ve),!ve.defaultPrevented&&Bt())},className:wn(A==null?void 0:A.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function $p(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lk(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?tk:ek;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var ck=d.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:w=ZC,toastOptions:x,dir:b=$p(),gap:g=rk,loadingIcon:v,icons:y,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:E}=e,[P,R]=re.useState([]),T=re.useMemo(()=>Array.from(new Set([r].concat(P.filter($=>$.position).map($=>$.position)))),[P,r]),[S,k]=re.useState([]),[_,C]=re.useState(!1),[D,L]=re.useState(!1),[K,U]=re.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=re.useRef(null),N=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=re.useRef(null),O=re.useRef(!1),te=re.useCallback($=>{R(Z=>{var se;return(se=Z.find(ce=>ce.id===$.id))!=null&&se.delete||Wt.dismiss($.id),Z.filter(({id:ce})=>ce!==$.id)})},[]);return re.useEffect(()=>Wt.subscribe($=>{if($.dismiss){R(Z=>Z.map(se=>se.id===$.id?{...se,delete:!0}:se));return}setTimeout(()=>{i0.flushSync(()=>{R(Z=>{let se=Z.findIndex(ce=>ce.id===$.id);return se!==-1?[...Z.slice(0,se),{...Z[se],...$},...Z.slice(se+1)]:[$,...Z]})})})}),[]),re.useEffect(()=>{if(h!=="system"){U(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:Z})=>{U(Z?"dark":"light")})}catch{$.addListener(({matches:se})=>{try{U(se?"dark":"light")}catch(ce){console.error(ce)}})}},[h]),re.useEffect(()=>{P.length<=1&&C(!1)},[P]),re.useEffect(()=>{let $=Z=>{var se,ce;s.every(Ee=>Z[Ee]||Z.code===Ee)&&(C(!0),(se=M.current)==null||se.focus()),Z.code==="Escape"&&(document.activeElement===M.current||(ce=M.current)!=null&&ce.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),re.useEffect(()=>{if(M.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,O.current=!1)}},[M.current]),re.createElement("section",{ref:t,"aria-label":`${j} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map(($,Z)=>{var se;let[ce,Ee]=$.split("-");return P.length?re.createElement("ol",{key:$,dir:b==="auto"?$p():b,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":ce,"data-lifted":_&&P.length>1&&!a,"data-x-position":Ee,style:{"--front-toast-height":`${((se=S[0])==null?void 0:se.height)||0}px`,"--width":`${nk}px`,"--gap":`${g}px`,...p,...lk(c,u)},onBlur:J=>{O.current&&!J.currentTarget.contains(J.relatedTarget)&&(O.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||O.current||(O.current=!0,A.current=J.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{D||C(!1)},onDragEnd:()=>C(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},P.filter(J=>!J.position&&Z===0||J.position===$).map((J,ae)=>{var fe,pe;return re.createElement(ik,{key:J.id,icons:y,index:ae,toast:J,defaultRichColors:f,duration:(fe=x==null?void 0:x.duration)!=null?fe:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:w,closeButton:(pe=x==null?void 0:x.closeButton)!=null?pe:i,interacting:D,position:$,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:te,toasts:P.filter(ie=>ie.position==J.position),heights:S.filter(ie=>ie.position==J.position),setHeights:k,expandByDefault:a,gap:g,loadingIcon:v,expanded:_,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});function zp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function P0(...e){return t=>{let n=!1;const r=e.map(s=>{const a=zp(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():zp(e[s],null)}}}}function Re(...e){return d.useCallback(P0(...e),e)}function mo(e){const t=uk(e),n=d.forwardRef((r,s)=>{const{children:a,...i}=r,l=d.Children.toArray(a),c=l.find(fk);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var _0=mo("Slot");function uk(e){const t=d.forwardRef((n,r)=>{const{children:s,...a}=n;if(d.isValidElement(s)){const i=mk(s),l=hk(a,s.props);return s.type!==d.Fragment&&(l.ref=r?P0(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var A0=Symbol("radix.slottable");function dk(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=A0,t}function fk(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===A0}function hk(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function mk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function I0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=I0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function D0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=I0(e))&&(r&&(r+=" "),r+=t);return r}const Fp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Up=D0,L0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Up(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=a==null?void 0:a[u];if(h===null)return null;const m=Fp(h)||Fp(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...a,...l}[x]):{...a,...l}[x]===b})?[...u,f,m]:u},[]);return Up(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};function pk(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=O0(t))&&(r&&(r+=" "),r+=n);return r}function O0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=O0(e[r]))&&(n&&(n+=" "),n+=t);return n}var mh="-";function gk(e){var t=xk(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(mh);return c[0]===""&&c.length!==1&&c.shift(),M0(c,t)||vk(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function M0(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?M0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(mh);return(i=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:i.classGroupId}}var Bp=/^\[(.+)\]$/;function vk(e){if(Bp.test(e)){var t=Bp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function xk(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=wk(Object.entries(e.classGroups),n);return s.forEach(function(a){var i=a[0],l=a[1];Id(l,r,i,t)}),r}function Id(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:Wp(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(yk(s)){Id(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Id(c,Wp(t,l),n,r)})})}function Wp(e,t){var n=e;return t.split(mh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function yk(e){return e.isThemeGetter}function wk(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,a]}):e}function bk(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,i){n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var $0="!";function Sk(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,h,f=0;f<i.length;f++){var m=i[f];if(c===0){if(m===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(m==="/"){h=f;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith($0),x=w?p.substring(1):p,b=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:b}}}function Nk(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function jk(e){return{cache:bk(e.cacheSize),splitModifiers:Sk(e),...gk(e)}}var Ck=/\s+/;function kk(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Ck).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?h.substring(0,f):h),p=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:i};if(m=r(h),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=Nk(c).join(":"),x=u?w+$0:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,h=l+c;return a.has(h)?!1:(a.add(h),s(c,u).forEach(function(f){return a.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function Ek(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,i=l;function l(u){var h=t[0],f=t.slice(1),m=f.reduce(function(p,w){return w(p)},h());return r=jk(m),s=r.cache.get,a=r.cache.set,i=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=kk(u,r);return a(u,f),f}return function(){return i(pk.apply(null,arguments))}}function He(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var z0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tk=/^\d+\/\d+$/,Rk=new Set(["px","full","screen"]),Pk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_k=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ak=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function bn(e){return ds(e)||Rk.has(e)||Tk.test(e)||Dd(e)}function Dd(e){return Rs(e,"length",$k)}function Ik(e){return Rs(e,"size",F0)}function Dk(e){return Rs(e,"position",F0)}function Lk(e){return Rs(e,"url",zk)}function Ti(e){return Rs(e,"number",ds)}function ds(e){return!Number.isNaN(Number(e))}function Ok(e){return e.endsWith("%")&&ds(e.slice(0,-1))}function Wo(e){return Vp(e)||Rs(e,"number",Vp)}function _e(e){return z0.test(e)}function Vo(){return!0}function Cr(e){return Pk.test(e)}function Mk(e){return Rs(e,"",Fk)}function Rs(e,t,n){var r=z0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function $k(e){return _k.test(e)}function F0(){return!1}function zk(e){return e.startsWith("url(")}function Vp(e){return Number.isInteger(Number(e))}function Fk(e){return Ak.test(e)}function Uk(){var e=He("colors"),t=He("spacing"),n=He("blur"),r=He("brightness"),s=He("borderColor"),a=He("borderRadius"),i=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),u=He("grayscale"),h=He("hueRotate"),f=He("invert"),m=He("gap"),p=He("gradientColorStops"),w=He("gradientColorStopPositions"),x=He("inset"),b=He("margin"),g=He("opacity"),v=He("padding"),y=He("saturate"),j=He("scale"),E=He("sepia"),P=He("skew"),R=He("space"),T=He("translate"),S=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},_=function(){return["auto",_e,t]},C=function(){return[_e,t]},D=function(){return["",bn]},L=function(){return["auto",ds,_e]},K=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},U=function(){return["solid","dashed","dotted","double","none"]},M=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},N=function(){return["start","end","center","between","around","evenly","stretch"]},A=function(){return["","0",_e]},O=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},te=function(){return[ds,Ti]},$=function(){return[ds,_e]};return{cacheSize:500,theme:{colors:[Vo],spacing:[bn],blur:["none","",Cr,_e],brightness:te(),borderColor:[e],borderRadius:["none","","full",Cr,_e],borderSpacing:C(),borderWidth:D(),contrast:te(),grayscale:A(),hueRotate:$(),invert:A(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Ok,Dd],inset:_(),margin:_(),opacity:te(),padding:C(),saturate:te(),scale:te(),sepia:A(),skew:$(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Cr]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(K(),[_e])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wo]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Wo]}],"grid-cols":[{"grid-cols":[Vo]}],"col-start-end":[{col:["auto",{span:["full",Wo]},_e]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Vo]}],"row-start-end":[{row:["auto",{span:[Wo]},_e]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(N())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(N(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(N(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",_e,t]}],"min-w":[{"min-w":["min","max","fit",_e,bn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Cr]},Cr,_e]}],h:[{h:[_e,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",_e,bn]}],"max-h":[{"max-h":[_e,t,"min","max","fit"]}],"font-size":[{text:["base",Cr,Dd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ti]}],"font-family":[{font:[Vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",ds,Ti]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_e,bn]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(U(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",bn]}],"underline-offset":[{"underline-offset":["auto",_e,bn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(K(),[Dk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ik]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(U(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(U())}],"outline-offset":[{"outline-offset":[_e,bn]}],"outline-w":[{outline:[bn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[bn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cr,Mk]}],"shadow-color":[{shadow:[Vo]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":M()}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cr,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Wo,_e]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bn,Ti]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Bk=Ek(Uk);function Te(...e){return Bk(D0(e))}const ph=L0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function B({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?_0:"button";return o.jsx(a,{"data-slot":"button",className:Te(ph({variant:t,size:n,className:e})),...s})}function Wk(e,t){const n=d.createContext(t),r=a=>{const{children:i,...l}=a,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function On(e,t=[]){let n=[];function r(a,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=f=>{var g;const{scope:m,children:p,...w}=f,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:b,children:p})};u.displayName=a+"Provider";function h(f,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const s=()=>{const a=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Vk(s,...t)]}function Vk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function It(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var xt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Hk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=Hk.reduce((e,t)=>{const n=mo(`Primitive.${t}`),r=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kk(e,t){e&&bo.flushSync(()=>e.dispatchEvent(t))}var U0={exports:{}},B0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=d;function Yk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gk=typeof Object.is=="function"?Object.is:Yk,Xk=po.useState,qk=po.useEffect,Qk=po.useLayoutEffect,Jk=po.useDebugValue;function Zk(e,t){var n=t(),r=Xk({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return Qk(function(){s.value=n,s.getSnapshot=t,du(s)&&a({inst:s})},[e,n,t]),qk(function(){return du(s)&&a({inst:s}),e(function(){du(s)&&a({inst:s})})},[e]),Jk(n),n}function du(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gk(e,n)}catch{return!0}}function eE(e,t){return t()}var tE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eE:Zk;B0.useSyncExternalStore=po.useSyncExternalStore!==void 0?po.useSyncExternalStore:tE;U0.exports=B0;var nE=U0.exports;function rE(){return nE.useSyncExternalStore(sE,()=>!0,()=>!1)}function sE(){return()=>{}}var gh="Avatar",[oE,D5]=On(gh),[aE,W0]=oE(gh),V0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=d.useState("idle");return o.jsx(aE,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(Se.span,{...r,ref:t})})});V0.displayName=gh;var H0="AvatarImage",K0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=W0(H0,n),l=iE(r,a),c=It(u=>{s(u),i.onImageLoadingStatusChange(u)});return xt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Se.img,{...a,ref:t,src:r}):null});K0.displayName=H0;var Y0="AvatarFallback",G0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=W0(Y0,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(Se.span,{...s,ref:t}):null});G0.displayName=Y0;function Hp(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iE(e,{referrerPolicy:t,crossOrigin:n}){const r=rE(),s=d.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>Hp(a,e));return xt(()=>{l(Hp(a,e))},[a,e]),xt(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),h=c("error");return a.addEventListener("load",u),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,n,t]),i}var lE=V0,cE=K0,uE=G0;function st({className:e,...t}){return o.jsx(lE,{"data-slot":"avatar",className:Te("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function ot({className:e,...t}){return o.jsx(cE,{"data-slot":"avatar-image",className:Te("aspect-square size-full",e),...t})}function at({className:e,...t}){return o.jsx(uE,{"data-slot":"avatar-fallback",className:Te("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class dE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const fE=new dE;var Ld={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,a=n.XMLHttpRequest,i=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,h=n.Promise,f=n.fetch,m=n.Response,p=n.TextDecoder,w=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(I){u.readyState="complete"},!1)),a==null&&l!=null&&(a=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(I){function Y(){}return Y.prototype=I,new Y}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var b=f;f=function(I,Y){var ne=Y.signal;return b(I,{headers:Y.headers,credentials:Y.credentials,cache:Y.cache}).then(function(X){var F=X.body.getReader();return ne._reader=F,ne._aborted&&ne._reader.cancel(),{status:X.status,statusText:X.statusText,headers:X.headers,body:{getReader:function(){return F}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(I){function Y(ke,he,ue){if(ue===1)return ke>=128>>he&&ke<<he<=2047;if(ue===2)return ke>=2048>>he&&ke<<he<=55295||ke>=57344>>he&&ke<<he<=65535;if(ue===3)return ke>=65536>>he&&ke<<he<=1114111;throw new Error}function ne(ke,he){if(ke===6*1)return he>>6>15?3:he>31?2:1;if(ke===6*2)return he>15?3:2;if(ke===6*3)return 3;throw new Error}for(var X=65533,F="",W=this.bitsNeeded,ee=this.codePoint,we=0;we<I.length;we+=1){var Ce=I[we];W!==0&&(Ce<128||Ce>191||!Y(ee<<6|Ce&63,W-6,ne(W,ee)))&&(W=0,ee=X,F+=String.fromCharCode(ee)),W===0?(Ce>=0&&Ce<=127?(W=0,ee=Ce):Ce>=192&&Ce<=223?(W=6*1,ee=Ce&31):Ce>=224&&Ce<=239?(W=6*2,ee=Ce&15):Ce>=240&&Ce<=247?(W=6*3,ee=Ce&7):(W=0,ee=X),W!==0&&!Y(ee,W,ne(W,ee))&&(W=0,ee=X)):(W-=6,ee=ee<<6|Ce&63),W===0&&(ee<=65535?F+=String.fromCharCode(ee):(F+=String.fromCharCode(55296+(ee-65535-1>>10)),F+=String.fromCharCode(56320+(ee-65535-1&1023))))}return this.bitsNeeded=W,this.codePoint=ee,F};var v=function(){try{return new p().decode(new w().encode("test"),{stream:!0})==="test"}catch(I){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+I)}return!1};(p==null||w==null||!v())&&(p=g);var y=function(){};function j(I){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onload=y,this.onerror=y,this.onreadystatechange=y,this._contentType="",this._xhr=I,this._sendTimeout=0,this._abort=y}j.prototype.open=function(I,Y){this._abort(!0);var ne=this,X=this._xhr,F=1,W=0;this._abort=function(ue){ne._sendTimeout!==0&&(s(ne._sendTimeout),ne._sendTimeout=0),(F===1||F===2||F===3)&&(F=4,X.onload=y,X.onerror=y,X.onabort=y,X.onprogress=y,X.onreadystatechange=y,X.abort(),W!==0&&(s(W),W=0),ue||(ne.readyState=4,ne.onabort(null),ne.onreadystatechange())),F=0};var ee=function(){if(F===1){var ue=0,Oe="",yt=void 0;if("contentType"in X)ue=200,Oe="OK",yt=X.contentType;else try{ue=X.status,Oe=X.statusText,yt=X.getResponseHeader("Content-Type")}catch{ue=0,Oe="",yt=void 0}ue!==0&&(F=2,ne.readyState=2,ne.status=ue,ne.statusText=Oe,ne._contentType=yt,ne.onreadystatechange())}},we=function(){if(ee(),F===2||F===3){F=3;var ue="";try{ue=X.responseText}catch{}ne.readyState=3,ne.responseText=ue,ne.onprogress()}},Ce=function(ue,Oe){if((Oe==null||Oe.preventDefault==null)&&(Oe={preventDefault:y}),we(),F===1||F===2||F===3){if(F=4,W!==0&&(s(W),W=0),ne.readyState=4,ue==="load")ne.onload(Oe);else if(ue==="error")ne.onerror(Oe);else if(ue==="abort")ne.onabort(Oe);else throw new TypeError;ne.onreadystatechange()}},ke=function(ue){X!=null&&(X.readyState===4?(!("onload"in X)||!("onerror"in X)||!("onabort"in X))&&Ce(X.responseText===""?"error":"load",ue):X.readyState===3?"onprogress"in X||we():X.readyState===2&&ee())},he=function(){W=r(function(){he()},500),X.readyState===3&&we()};"onload"in X&&(X.onload=function(ue){Ce("load",ue)}),"onerror"in X&&(X.onerror=function(ue){Ce("error",ue)}),"onabort"in X&&(X.onabort=function(ue){Ce("abort",ue)}),"onprogress"in X&&(X.onprogress=we),"onreadystatechange"in X&&(X.onreadystatechange=function(ue){ke(ue)}),("contentType"in X||!("ontimeout"in a.prototype))&&(Y+=(Y.indexOf("?")===-1?"?":"&")+"padding=true"),X.open(I,Y,!0),"readyState"in X&&(W=r(function(){he()},0))},j.prototype.abort=function(){this._abort(!1)},j.prototype.getResponseHeader=function(I){return this._contentType},j.prototype.setRequestHeader=function(I,Y){var ne=this._xhr;"setRequestHeader"in ne&&ne.setRequestHeader(I,Y)},j.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},j.prototype.send=function(){if((!("ontimeout"in a.prototype)||!("sendAsBinary"in a.prototype)&&!("mozAnon"in a.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var I=this;I._sendTimeout=r(function(){I._sendTimeout=0,I.send()},4);return}var Y=this._xhr;"withCredentials"in Y&&(Y.withCredentials=this.withCredentials);try{Y.send(void 0)}catch(ne){throw ne}};function E(I){return I.replace(/[A-Z]/g,function(Y){return String.fromCharCode(Y.charCodeAt(0)+32)})}function P(I){for(var Y=Object.create(null),ne=I.split(`\r
`),X=0;X<ne.length;X+=1){var F=ne[X],W=F.split(": "),ee=W.shift(),we=W.join(": ");Y[E(ee)]=we}this._map=Y}P.prototype.get=function(I){return this._map[E(I)]},a!=null&&a.HEADERS_RECEIVED==null&&(a.HEADERS_RECEIVED=2);function R(){}R.prototype.open=function(I,Y,ne,X,F,W,ee){I.open("GET",F);var we=0;I.onprogress=function(){var ke=I.responseText,he=ke.slice(we);we+=he.length,ne(he)},I.onerror=function(ke){ke.preventDefault(),X(new Error("NetworkError"))},I.onload=function(){X(null)},I.onabort=function(){X(null)},I.onreadystatechange=function(){if(I.readyState===a.HEADERS_RECEIVED){var ke=I.status,he=I.statusText,ue=I.getResponseHeader("Content-Type"),Oe=I.getAllResponseHeaders();Y(ke,he,ue,new P(Oe))}},I.withCredentials=W;for(var Ce in ee)Object.prototype.hasOwnProperty.call(ee,Ce)&&I.setRequestHeader(Ce,ee[Ce]);return I.send(),I};function T(I){this._headers=I}T.prototype.get=function(I){return this._headers.get(I)};function S(){}S.prototype.open=function(I,Y,ne,X,F,W,ee){var we=null,Ce=new x,ke=Ce.signal,he=new p;return f(F,{headers:ee,credentials:W?"include":"same-origin",signal:ke,cache:"no-store"}).then(function(ue){return we=ue.body.getReader(),Y(ue.status,ue.statusText,ue.headers.get("Content-Type"),new T(ue.headers)),new h(function(Oe,yt){var it=function(){we.read().then(function(mt){if(mt.done)Oe(void 0);else{var Qe=he.decode(mt.value,{stream:!0});ne(Qe),it()}}).catch(function(mt){yt(mt)})};it()})}).catch(function(ue){if(ue.name!=="AbortError")return ue}).then(function(ue){X(ue)}),{abort:function(){we!=null&&we.cancel(),Ce.abort()}}};function k(){this._listeners=Object.create(null)}function _(I){r(function(){throw I},0)}k.prototype.dispatchEvent=function(I){I.target=this;var Y=this._listeners[I.type];if(Y!=null)for(var ne=Y.length,X=0;X<ne;X+=1){var F=Y[X];try{typeof F.handleEvent=="function"?F.handleEvent(I):F.call(this,I)}catch(W){_(W)}}},k.prototype.addEventListener=function(I,Y){I=String(I);var ne=this._listeners,X=ne[I];X==null&&(X=[],ne[I]=X);for(var F=!1,W=0;W<X.length;W+=1)X[W]===Y&&(F=!0);F||X.push(Y)},k.prototype.removeEventListener=function(I,Y){I=String(I);var ne=this._listeners,X=ne[I];if(X!=null){for(var F=[],W=0;W<X.length;W+=1)X[W]!==Y&&F.push(X[W]);F.length===0?delete ne[I]:ne[I]=F}};function C(I){this.type=I,this.target=void 0}function D(I,Y){C.call(this,I),this.data=Y.data,this.lastEventId=Y.lastEventId}D.prototype=Object.create(C.prototype);function L(I,Y){C.call(this,I),this.status=Y.status,this.statusText=Y.statusText,this.headers=Y.headers}L.prototype=Object.create(C.prototype);function K(I,Y){C.call(this,I),this.error=Y.error}K.prototype=Object.create(C.prototype);var U=-1,M=0,N=1,A=2,O=-1,te=0,$=1,Z=2,se=3,ce=/^text\/event\-stream(;.*)?$/i,Ee=1e3,J=18e6,ae=function(I,Y){var ne=I==null?Y:parseInt(I,10);return ne!==ne&&(ne=Y),fe(ne)},fe=function(I){return Math.min(Math.max(I,Ee),J)},pe=function(I,Y,ne){try{typeof Y=="function"&&Y.call(I,ne)}catch(X){_(X)}};function ie(I,Y){k.call(this),Y=Y||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,$e(this,I,Y)}function xe(){return a!=null&&"withCredentials"in a.prototype||i==null?new a:new i}var ye=f!=null&&m!=null&&"body"in m.prototype;function $e(I,Y,ne){Y=String(Y);var X=!!ne.withCredentials,F=ne.lastEventIdQueryParameterName||"lastEventId",W=fe(1e3),ee=ae(ne.heartbeatTimeout,45e3),we="",Ce=W,ke=!1,he=0,ue=ne.headers||{},Oe=ne.Transport,yt=ye&&Oe==null?void 0:new j(Oe!=null?new Oe:xe()),it=Oe!=null&&typeof Oe!="string"?new Oe:yt==null?new S:new R,mt=void 0,Qe=0,lt=U,nt="",H="",me="",Le="",oe=te,Ge=0,pt=0,Nr=function(ge,je,ze,Fe){if(lt===M)if(ge===200&&ze!=null&&ce.test(ze)){lt=N,ke=Date.now(),Ce=W,I.readyState=N;var Ue=new L("open",{status:ge,statusText:je,headers:Fe});I.dispatchEvent(Ue),pe(I,I.onopen,Ue)}else{var Be="";ge!==200?(je&&(je=je.replace(/\s+/g," ")),Be="EventSource's response has a status "+ge+" "+je+" that is not 200. Aborting the connection."):Be="EventSource's response has a Content-Type specifying an unsupported type: "+(ze==null?"-":ze.replace(/\s+/g," "))+". Aborting the connection.",Rt();var Ue=new L("error",{status:ge,statusText:je,headers:Fe});I.dispatchEvent(Ue),pe(I,I.onerror,Ue),console.error(Be)}},ct=function(ge){if(lt===N){for(var je=-1,ze=0;ze<ge.length;ze+=1){var Fe=ge.charCodeAt(ze);(Fe===10||Fe===13)&&(je=ze)}var Ue=(je!==-1?Le:"")+ge.slice(0,je+1);Le=(je===-1?Le:"")+ge.slice(je+1),ge!==""&&(ke=Date.now(),he+=ge.length);for(var Be=0;Be<Ue.length;Be+=1){var Fe=Ue.charCodeAt(Be);if(oe===O&&Fe===10)oe=te;else if(oe===O&&(oe=te),Fe===13||Fe===10){if(oe!==te){oe===$&&(pt=Be+1);var Je=Ue.slice(Ge,pt-1),ut=Ue.slice(pt+(pt<Be&&Ue.charCodeAt(pt)===32?1:0),Be);Je==="data"?(nt+=`
`,nt+=ut):Je==="id"?H=ut:Je==="event"?me=ut:Je==="retry"?(W=ae(ut,W),Ce=W):Je==="heartbeatTimeout"&&(ee=ae(ut,ee),Qe!==0&&(s(Qe),Qe=r(function(){ve()},ee)))}if(oe===te){if(nt!==""){we=H,me===""&&(me="message");var ln=new D(me,{data:nt.slice(1),lastEventId:H});if(I.dispatchEvent(ln),me==="open"?pe(I,I.onopen,ln):me==="message"?pe(I,I.onmessage,ln):me==="error"&&pe(I,I.onerror,ln),lt===A)return}nt="",me=""}oe=Fe===13?O:te}else oe===te&&(Ge=Be,oe=$),oe===$?Fe===58&&(pt=Be+1,oe=Z):oe===Z&&(oe=se)}}},Bt=function(ge){if(lt===N||lt===M){lt=U,Qe!==0&&(s(Qe),Qe=0),Qe=r(function(){ve()},Ce),Ce=fe(Math.min(W*16,Ce*2)),I.readyState=M;var je=new K("error",{error:ge});I.dispatchEvent(je),pe(I,I.onerror,je),ge!=null&&console.error(ge)}},Rt=function(){lt=A,mt!=null&&(mt.abort(),mt=void 0),Qe!==0&&(s(Qe),Qe=0),I.readyState=A},ve=function(){if(Qe=0,lt!==U){if(!ke&&mt!=null)Bt(new Error("No activity within "+ee+" milliseconds. "+(lt===M?"No response received.":he+" chars received.")+" Reconnecting.")),mt!=null&&(mt.abort(),mt=void 0);else{var ge=Math.max((ke||Date.now())+ee-Date.now(),1);ke=!1,Qe=r(function(){ve()},ge)}return}ke=!1,he=0,Qe=r(function(){ve()},ee),lt=M,nt="",me="",H=we,Le="",Ge=0,pt=0,oe=te;var je=Y;if(Y.slice(0,5)!=="data:"&&Y.slice(0,5)!=="blob:"&&we!==""){var ze=Y.indexOf("?");je=ze===-1?Y:Y.slice(0,ze+1)+Y.slice(ze+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(ut,ln){return ln===F?"":ut}),je+=(Y.indexOf("?")===-1?"?":"&")+F+"="+encodeURIComponent(we)}var Fe=I.withCredentials,Ue={};Ue.Accept="text/event-stream";var Be=I.headers;if(Be!=null)for(var Je in Be)Object.prototype.hasOwnProperty.call(Be,Je)&&(Ue[Je]=Be[Je]);try{mt=it.open(yt,Nr,ct,Bt,je,Fe,Ue)}catch(ut){throw Rt(),ut}};I.url=Y,I.readyState=M,I.withCredentials=X,I.headers=ue,I._close=Rt,ve()}ie.prototype=Object.create(k.prototype),ie.prototype.CONNECTING=M,ie.prototype.OPEN=N,ie.prototype.CLOSED=A,ie.prototype.close=function(){this._close()},ie.CONNECTING=M,ie.OPEN=N,ie.CLOSED=A,ie.prototype.withCredentials=void 0;var ht=c;a!=null&&(c==null||!("withCredentials"in c.prototype))&&(ht=ie),function(I){{var Y=I(t);Y!==void 0&&(e.exports=Y)}}(function(I){I.EventSourcePolyfill=ie,I.NativeEventSource=c,I.EventSource=ht})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:aS:globalThis)})(Ld,Ld.exports);var Ho=Ld.exports;class hE{constructor(t){gt(this,"_userId");gt(this,"apiBaseUrl");gt(this,"maxReconnectAttempts");gt(this,"eventSource",null);gt(this,"reconnectAttempts",0);gt(this,"reconnectTimeout",null);gt(this,"isManualDisconnect",!1);gt(this,"onNotification");gt(this,"onAuthRequired");gt(this,"onConnectionOpen");gt(this,"onConnectionError");gt(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===Ho.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}this.startSSEConnection(t)}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;try{console.log("SSE  :",n),this.eventSource=new Ho.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE  "),this.reconnectAttempts=0,(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.onerror=r=>{var s,a,i,l;console.error("SSE  :",{error:r,readyState:(s=this.eventSource)==null?void 0:s.readyState,url:n}),(a=this.onConnectionError)==null||a.call(this,r),((i=this.eventSource)==null?void 0:i.readyState)===Ho.EventSourcePolyfill.CLOSED?(console.log("SSE  ."),this.eventSource=null,this.handleReconnect()):((l=this.eventSource)==null?void 0:l.readyState)===Ho.EventSourcePolyfill.CONNECTING&&console.log("SSE  ...")},this.eventSource.addEventListener("dm_received",r=>{console.log(" dm_received   ( )"),this.handleMessage(r)}),this.eventSource.addEventListener("auth-error",r=>{var s;console.warn(" :",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("   "),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()})}catch(r){console.error("SSE    :",r),this.handleReconnect()}}handleMessage(t){var n;if(console.log(" SSE  :",{type:t.type,event:t.event,lastEventId:t.lastEventId,data:t.data}),!(t.data==="ping"||t.data==="heartbeat"))try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;t.type==="dm_received"&&(console.log(" DM    (  )"),r.notificationType="DM_RECEIVED"),console.log(" SSE  :",r),(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE   :",r,"Raw data:",t.data)}}async refreshTokenAndConnect(){try{console.log("     ..."),await this.refreshToken()?(console.log("  , SSE  ..."),this.connect()):(console.error("   -  "),this.handleAuthRequired())}catch(t){console.error("    :",t),this.handleAuthRequired()}}handleReconnect(){if(this.isManualDisconnect){console.log("     .");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("  ...");const n=this.getValidToken();!n||this.isTokenExpired(n)?(console.log("  .    ."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("    .  ."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch{return!0}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("   :",t),null}try{console.log("   ...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const r=(await t.text()).replace(/"/g,"");if(r&&r!=="null")return localStorage.setItem("accessToken",r),console.log("  "),r}else console.error(`  : ${t.status} ${t.statusText}`),t.status===401&&localStorage.removeItem("accessToken");return null}catch(t){return console.error("   :",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("   ..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.isTokenExpired(t)?(console.log(" :    "),await this.refreshTokenAndConnect()):(console.log(" :   "),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===Ho.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}getUserId(){return this._userId}}const mE=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0,disabled:h=!1}=e,f=d.useRef(null),[m,p]=d.useState(!1),[w,x]=d.useState(0),b=d.useRef({onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{b.current={onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c}});const g=d.useCallback(()=>{var S,k;p(!0),x(0),(k=(S=b.current).onConnectionOpen)==null||k.call(S)},[]),v=d.useCallback(S=>{var k,_;p(!1),(_=(k=b.current).onConnectionError)==null||_.call(k,S)},[]),y=d.useCallback(S=>{var k,_;(_=(k=b.current).onNotification)==null||_.call(k,S)},[]),j=d.useCallback(()=>{var S,k;p(!1),(k=(S=b.current).onAuthRequired)==null||k.call(S)},[]),E=d.useCallback(()=>{f.current&&t&&!h&&f.current.connect()},[t,h]),P=d.useCallback(()=>{f.current&&(f.current.disconnect(),p(!1),x(0))},[]),R=d.useCallback(()=>{f.current&&f.current.reconnect()},[]),T=d.useCallback(()=>{f.current&&f.current.forceReconnect()},[]);return d.useEffect(()=>{if(t&&!h){const S={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:y,onAuthRequired:j,onConnectionOpen:g,onConnectionError:v,onTokenRefresh:b.current.onTokenRefresh};f.current=new hE(S),u&&setTimeout(()=>{var C;(C=f.current)==null||C.connect()},1e3);const _=setInterval(()=>{f.current&&(p(f.current.isConnected()),x(f.current.getReconnectAttempts()))},2e3);return()=>{var C;clearInterval(_),(C=f.current)==null||C.disconnect(),f.current=null}}else f.current&&(f.current.disconnect(),f.current=null),p(!1),x(0)},[t,h,n,r,u,y,j,g,v]),d.useEffect(()=>{f.current&&t&&f.current.updateUserId(t)},[t]),{isConnected:m,reconnectAttempts:w,connect:E,disconnect:P,reconnect:R,forceReconnect:T}};function pE({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:a,authenticatedFetch:i,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h,refreshAccessToken:f,isSharedAccess:m,onDMReceived:p}){const[w,x]=d.useState([]),[b,g]=d.useState(!1),[v,y]=d.useState(!1),[j,E]=d.useState(null);mE({userId:l,disabled:m,onNotification:N=>{if(N.notificationType==="CONNECTED")return;const A=N.notificationType;(A==="DM_RECEIVED"||A==="dm_received")&&(console.log(" DM    -   :",A),p?p():console.error(" onDMReceived  !"));const O=P(N);x(te=>[O,...te])},onAuthRequired:()=>{if(m){console.log("     - SSE   ");return}console.warn("SSE    -      "),f().then(N=>{N?console.log("SSE    -   "):(console.error("SSE     "),a())}).catch(N=>{console.error("SSE    :",N),a()})},onTokenRefresh:async()=>await f()});const P=N=>{const A=$=>{switch($.toLowerCase()){case"dm_received":case"new_dm_room":return"message";case"followed":return"follow";case"playlist_subscribed":case"following_posted_playlist":return"like";default:return"notification"}},O=$=>{switch($){case"dm_received":return"  ";case"new_dm_room":return"  ";case"followed":return"  ";case"playlist_subscribed":return" ";case"following_posted_playlist":return"   ";case"role_changed":return" ";default:return" "}},te=$=>{const Z=new Date($),ce=new Date().getTime()-Z.getTime(),Ee=Math.floor(ce/(1e3*60)),J=Math.floor(ce/(1e3*60*60)),ae=Math.floor(ce/(1e3*60*60*24));return Ee<1?" ":Ee<60?`${Ee} `:J<24?`${J} `:ae===1?"":`${ae} `};return{id:N.id,type:A(N.notificationType),title:O(N.notificationType),content:N.content,avatar:"",timestamp:te(N.createdAt),isRead:!1}},R=async()=>{if(!l||m){console.log("       ID  -    ");return}try{const N=await fE.getUser(l);E(N)}catch(N){console.error("   :",N),N instanceof Error&&(N.message.includes("not found")||N.message.includes("401")||N.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a())}},T=async()=>{if(!l||m){console.log("       ID  -   ");return}try{const N=await i("http://localhost:8080/api/notifications");if(!N.ok){if(N.status===401||N.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a();return}throw new Error(`   . (: ${N.status})`)}const A=await N.json(),O=A.data||A;if(!Array.isArray(O)){console.error("   :",A),x([]);return}const te=O.map($=>({...P($),isRead:!0}));x(te)}catch(N){console.error("   :",N),N instanceof Error&&(N.message.includes("401")||N.message.includes("403"))&&x([])}};d.useEffect(()=>{l&&(R(),T())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=R),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const S=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],k=w.filter(N=>!N.isRead).length;d.useEffect(()=>{const N=A=>{const O=A.target;!O.closest(".notification-container")&&!O.closest(".profile-container")&&(g(!1),y(!1))};return document.addEventListener("click",N),()=>document.removeEventListener("click",N)},[]);const _=N=>{switch(N){case"message":return o.jsx(uh,{className:"w-4 h-4"});case"follow":return o.jsx(hh,{className:"w-4 h-4"});case"like":return o.jsx(Gr,{className:"w-4 h-4"});case"watch":return o.jsx(Et,{className:"w-4 h-4"});default:return o.jsx(Ap,{className:"w-4 h-4"})}},C=async N=>{try{await u(N),x(A=>A.filter(O=>O.id!==N))}catch(A){console.error("  :",A)}},D=N=>{x(A=>A.map(O=>O.id===N?{...O,isRead:!0}:O))},L=async()=>{try{await T(),x(N=>N.map(A=>({...A,isRead:!0})))}catch(N){console.error("   :",N)}},K=N=>{s&&s(),t(N)},U=N=>{N.stopPropagation(),s&&s(),g(!b),y(!1)},M=async()=>{try{if(!(await i("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");y(!1),a()}catch(N){console.error(" :",N),y(!1),a()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>K("home"),children:""}),!m&&o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:S.map(N=>o.jsx("li",{children:o.jsx("button",{onClick:()=>K(N.id),className:`transition-colors hover:text-[#4ecdc4] ${e===N.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:N.label})},N.id))}),m&&o.jsx("div",{className:"text-white/60 text-sm",children:" "}),o.jsxs("div",{className:"flex items-center space-x-4",children:[!m&&o.jsxs("div",{className:"relative notification-container",children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:U,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Ap,{className:"w-5 h-5"}),k>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:k>9?"9+":k})]}),b&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[k>0&&o.jsx(B,{variant:"ghost",size:"sm",onClick:L,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx(B,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),x([])}catch(N){console.error("   :",N)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(_a,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${w.length>4?"max-h-96":""}`,children:w.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:w.map(N=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>D(N.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(st,{className:"h-12 w-12",children:[o.jsx(ot,{src:N.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:N.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:_(N.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${N.isRead?"text-white/60":"font-medium"}`,children:N.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:N.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:N.content})]}),o.jsx(B,{variant:"ghost",size:"sm",onClick:async A=>{A.stopPropagation(),await C(N.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(_a,{className:"w-3 h-3"})}),!N.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},N.id))})})]})]}),m?o.jsx(B,{variant:"outline",size:"sm",onClick:()=>window.location.href="/",className:"border-[#4ecdc4] text-[#4ecdc4] hover:bg-[#4ecdc4] hover:text-black",children:""}):o.jsxs("div",{className:"relative profile-container",children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),y(!v),g(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(st,{className:"h-8 w-8",children:[o.jsx(ot,{src:(j==null?void 0:j.profileImage)||""}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:(j==null?void 0:j.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(j==null?void 0:j.name)||""})]}),v&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>{y(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Op,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>{y(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Op,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs(B,{variant:"ghost",size:"sm",onClick:M,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(yC,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function gE(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},n=[{name:"Github",icon:vC,href:"#github"},{name:"Twitter",icon:PC,href:"#twitter"},{name:"Instagram",icon:xC,href:"#instagram"},{name:"Email",icon:wC,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(a=>o.jsx("li",{children:o.jsx("a",{href:a.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:a.name})},a.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]})})})]})})}const Ve=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:Te("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));Ve.displayName="Input";var vE="Label",X0=d.forwardRef((e,t)=>o.jsx(Se.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));X0.displayName=vE;var xE=X0;function Ht({className:e,...t}){return o.jsx(xE,{"data-slot":"label",className:Te("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var yE="Separator",Kp="horizontal",wE=["horizontal","vertical"],q0=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Kp,...s}=e,a=bE(r)?r:Kp,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Se.div,{"data-orientation":a,...l,...s,ref:t})});q0.displayName=yE;function bE(e){return wE.includes(e)}var SE=q0;function NE({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(SE,{"data-slot":"separator-root",decorative:n,orientation:t,className:Te("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Q0({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,a]=d.useState(null),i=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){a("    .");return}if(u.size>5*1024*1024){a("  5MB  .");return}a(null),t(u)}},l=()=>{t(null),a(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),n&&o.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(An,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(st,{className:"h-20 w-20",children:[o.jsx(ot,{src:URL.createObjectURL(e)}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx(B,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(An,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Ve,{type:"file",accept:"image/*",onChange:i,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(_C,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function jE({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,a]=d.useState(!1),[i,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,p]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(""),v=P=>{P?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(P)?g(""):g(" 8 , , ,   ."):g(" .")},y=()=>{console.log("    "),window.location.href="http://localhost:8080/oauth2/authorization/kakao"},j=()=>{window.location.href="http://localhost:8080/oauth2/authorization/google"},E=async P=>{P.preventDefault(),u(null),f(!0);try{if(r){if(!i.name.trim()){u(" .");return}if(i.name.length<3||i.name.length>50){u(" 3  50  .");return}if(!i.email.trim()){u(" .");return}if(!i.password.trim()){u(" .");return}if(!/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(i.password)){u(" 8 , , ,   .");return}if(i.password!==i.confirmPassword){u("  .");return}const T=new FormData;T.append("email",i.email),T.append("name",i.name),T.append("password",i.password),m&&T.append("profile",m);const S=await fetch("http://localhost:8080/api/users",{method:"POST",credentials:"include",body:T});if(!S.ok){let k=" .";const _=S.headers.get("content-type");if(_&&_.includes("application/json"))try{const C=await S.text();C&&(k=JSON.parse(C).message||k)}catch(C){console.error("Error parsing error response:",C)}throw new Error(k)}alert(" . ."),t()}else{const R={email:i.email,password:i.password},T=await fetch("http://localhost:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(R)});if(!T.ok){let k=" .";const _=T.headers.get("content-type");if(_&&_.includes("application/json"))try{const C=await T.text();C&&(k=JSON.parse(C).message||k)}catch(C){console.error("Error parsing error response:",C)}throw new Error(k)}const S=await T.text();if(!S||S.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const k=JSON.parse(S);e(k.accessToken,k.isTempPassword)}catch(k){throw console.error("Error parsing success response:",k),new Error("    .")}}}catch(R){u(R instanceof Error?R.message:"   .")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(Ht,{htmlFor:"name",className:"text-base",children:""}),o.jsx(Ve,{id:"name",type:"text",value:i.name,onChange:P=>l({...i,name:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ht,{htmlFor:"email",className:"text-base",children:""}),o.jsx(Ve,{id:"email",type:"email",value:i.email,onChange:P=>l({...i,email:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ht,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(Ve,{id:"password",type:s?"text":"password",value:i.password,onChange:P=>{const R=P.target.value;l({...i,password:R}),r&&v(R)},className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(gC,{className:"w-5 h-5"}):o.jsx(Pd,{className:"w-5 h-5"})})]}),r&&b&&o.jsx("p",{className:"text-red-500 text-sm mt-2",children:b})]}),r&&o.jsxs("div",{children:[o.jsx(Ht,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(Ve,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:P=>l({...i,confirmPassword:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(Ht,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(st,{className:"h-16 w-16",children:[o.jsx(ot,{src:m?URL.createObjectURL(m):void 0}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:i.name.charAt(0)||"U"})]}),o.jsxs(B,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(C0,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(Q0,{selectedImage:m,onImageSelect:p,onClose:()=>x(!1),userName:i.name})})]}),o.jsx(B,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?" ...":r?"":""})]}),o.jsx(NE,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(B,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:y,disabled:h,children:[" ",r?"":""]}),o.jsxs(B,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:j,disabled:h,children:["Google ",r?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:r?"":""})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:" "})]})]})]})]})}class CE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const i=t.type.toUpperCase();n.append("contentType",i)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(n){throw console.error("   :",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const fs=new CE;class kE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getWatchRooms(t){var n;try{const r=new URLSearchParams;t!=null&&t.query&&r.append("searchKeyword",t.query),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.limit&&r.append("size",t.limit.toString()),t!=null&&t.offset&&r.append("cursor",((n=t.offset)==null?void 0:n.toString())||"");const s=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,a=await this.authenticatedFetch(s);if(!a.ok)throw new Error(`   . Status: ${a.status}`);const i=await a.json(),l=i.data||i;return Array.isArray(l)?t!=null&&t.sortBy?this.sortWatchRooms(l,t.sortBy):l:(console.error("   :",i),[])}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async joinWatchRoom(t){var n,r;try{const s=await this.getWatchRoom(t);return{id:s.id,title:s.title,newUserId:"",playTime:0,isPlaying:!1,content:{id:((n=s.contentDto)==null?void 0:n.id)||s.contentId||"",title:((r=s.contentDto)==null?void 0:r.title)||s.contentTitle||"",titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:0}}}catch(s){throw console.error("  :",s),s}}async searchWatchRooms(t,n="participantCount"){return this.getWatchRooms({query:t,sortBy:n})}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>{var a;return s.title.toLowerCase().includes(r)||(((a=s.contentDto)==null?void 0:a.title)||s.contentTitle||"").toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r)})}}const Ya=new kE;class EE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getPlaylistById(t){const n=`${this.baseUrl}/${t}`,r={"Content-Type":"application/json"},s=localStorage.getItem("accessToken");s&&(r.Authorization=`Bearer ${s}`);const a=await fetch(n,{headers:r});if(!a.ok)throw new Error(`   (status: ${a.status})`);return await a.json()}async getAllPublic(){const t=await fetch(this.baseUrl);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async getAllSubscribed(){const t=await this.authenticatedFetch(`${this.baseUrl}/subscribed`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async subscribe(t,n){const s=await this.authenticatedFetch("http://localhost:8080/api/subscriptions",{method:"POST",body:JSON.stringify({userId:t,playlistId:n})});if(!s.ok)throw new Error(`  . Status: ${s.status}`);return await s.json()}async unsubscribe(t){const n=`http://localhost:8080/api/subscriptions/${t}`,r=await this.authenticatedFetch(n,{method:"DELETE"});if(!r.ok)throw new Error(`   . Status: ${r.status}`)}async getUserPlaylists(t){const n=await this.authenticatedFetch(`${this.baseUrl.replace("/playlists","")}/users/${t}/playlists`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}async getPlaylistByUser(){const t=await this.authenticatedFetch(`${this.baseUrl}/user`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async deletePlaylist(t){console.log(" PlaylistService:   :",t);const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(console.log(" PlaylistService:   :",n.status,n.statusText),!n.ok){const r=await n.text().catch(()=>"Unknown error");throw console.error(" PlaylistService:   :",r),new Error(`  . Status: ${n.status}, Message: ${r}`)}console.log(" PlaylistService:  ")}}const Ol=new EE;function Ri({onPageChange:e,onPlaylistOpen:t,onContentPlay:n,onJoinRoom:r}){const[s,a]=d.useState([]),[i,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,p]=d.useState(null),w=d.useRef(null),x=d.useRef(null),b=d.useRef(null),g=async()=>{try{const S=await Ya.getWatchRooms({limit:9});Array.isArray(S)?a(S):(console.error("Live rooms data is not an array:",S),a([]))}catch(S){console.error("Failed to fetch live rooms:",S),a([])}},v=async()=>{try{const S=await fs.getContents({size:20});l(S.data)}catch(S){console.error("Failed to fetch featured content:",S)}},y=async()=>{try{const S=await Ol.getAllSubscribed();u(S.slice(0,4))}catch(S){console.error("Failed to fetch my playlists:",S),u([])}};d.useEffect(()=>{(async()=>{f(!0),await Promise.all([g(),v(),y()]),f(!1)})()},[]);const j=async S=>{if(console.log("Dashboard - handleJoinRoom :",S.id,S.title),m){console.log("Dashboard -     :",m);return}p(S.id);try{console.log("Dashboard - onJoinRoom   "),r?(await r(S),console.log("Dashboard - onJoinRoom   ")):console.error("Dashboard - onJoinRoom  ")}catch(k){console.error("Dashboard -   :",k)}finally{p(null)}},E=()=>{e&&e("playlist")},P=S=>{t&&t(S)},R=S=>{S.current&&S.current.scrollBy({left:-288,behavior:"smooth"})},T=S=>{S.current&&S.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs(B,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(fh,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs(B,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(Pr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(w),children:o.jsx(ca,{className:"w-6 h-6"})}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>T(w),children:o.jsx(Pr,{className:"w-6 h-6"})}),o.jsx("div",{ref:w,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(3).fill(0).map((S,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},k)):(Array.isArray(s)?s:[]).slice(0,9).map(S=>{var k,_,C;return o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(k=S.contentDto)!=null&&k.thumbnailUrl?o.jsx("img",{src:S.contentDto.thumbnailUrl,alt:S.contentDto.title,className:"w-full h-full object-cover",onError:D=>{var L;D.currentTarget.style.display="none",(L=D.currentTarget.nextElementSibling)==null||L.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(_=S.contentDto)!=null&&_.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",S.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(B,{size:"sm",onClick:D=>{D.stopPropagation(),j(S)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!m,children:[m===S.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(C=S.contentDto)==null?void 0:C.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[S.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ps,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[S.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",S.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},S.id)})})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Xr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(B,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(Pr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(x),children:o.jsx(ca,{className:"w-6 h-6"})}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>T(x),children:o.jsx(Pr,{className:"w-6 h-6"})}),o.jsx("div",{ref:x,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(6).fill(0).map((S,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},k)):i.slice(0,20).map(S=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:S.id,title:S.title,thumbnail:S.thumbnailUrl||S.url||"",type:S.contentType==="MOVIE"?"movie":S.contentType==="TV"?"tv":"sports",description:S.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[S.thumbnailUrl?o.jsx("img",{src:S.thumbnailUrl,alt:S.title,className:"w-full h-full object-cover",onError:k=>{var _;k.currentTarget.style.display="none",(_=k.currentTarget.nextElementSibling)==null||_.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${S.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:S.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(B,{size:"sm",onClick:k=>{k.stopPropagation(),n&&n({id:S.id,title:S.title,thumbnail:S.thumbnailUrl||S.url||"",type:S.contentType==="MOVIE"?"movie":S.contentType==="TV"?"tv":"sports",description:S.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(B,{size:"sm",variant:"outline",onClick:k=>{k.stopPropagation(),console.log("Add to playlist:",S.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:S.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:S.releaseDate?new Date(S.releaseDate).getFullYear():"2024"})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${S.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":S.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:S.contentType==="MOVIE"?"":S.contentType==="TV"?"TV/":""})})]})]},S.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ps,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(B,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:E,children:["",o.jsx(Pr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(b),children:o.jsx(ca,{className:"w-6 h-6"})}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>T(b),children:o.jsx(Pr,{className:"w-6 h-6"})}),o.jsx("div",{ref:b,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(4).fill(0).map((S,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},k)):c.map((S,k)=>{const _=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],C=_[k%_.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>P(S.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${C} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(NC,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:S.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(B,{size:"lg",onClick:D=>{D.stopPropagation(),P(S.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Et,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:S.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:S.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[S.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ps,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ch,{className:"w-3 h-3"}),o.jsx("span",{children:S.createdAt?new Date(S.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},S.id)})})]})]})]})}const TE=L0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Rn({className:e,variant:t,asChild:n=!1,...r}){const s=n?_0:"span";return o.jsx(s,{"data-slot":"badge",className:Te(TE({variant:t}),e),...r})}class RE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const Pi=new RE,PE=e=>({id:e.id,title:e.title,thumbnail:e.thumbnailUrl||`https://via.placeholder.com/300x400/1a1a1a/ffffff?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function _E({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{b()},[]),d.useEffect(()=>{if(c.length>0&&!s){const S=c[0];a(S.id),g(S.id)}},[c,s]);const b=async()=>{try{if(!r){console.error(" ID .");return}const k=(await Pi.getUserKeywords(r)).map(_=>({id:_.keywordId,label:_.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(k)}catch(S){console.error("   :",S),u([])}},g=async S=>{try{x(!0);const _=(await Pi.getKeywordContents(S)).map(PE),C=c.find(M=>M.id===S),D=_.filter(M=>M.type==="movie"),L=_.filter(M=>M.type==="tv"),K=_.filter(M=>M.type==="sports"),U=[];D.length>0&&U.push({id:`${S}-movie`,title:`${(C==null?void 0:C.label)||""} `,items:D,category:""}),L.length>0&&U.push({id:`${S}-tv`,title:`${(C==null?void 0:C.label)||""} TV `,items:L,category:"TV"}),K.length>0&&U.push({id:`${S}-sports`,title:`${(C==null?void 0:C.label)||""} `,items:K,category:""}),l(U)}catch(k){console.error("  :",k),l([])}finally{x(!1)}},v=S=>{a(S),g(S)},y=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const S=await Pi.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),k={id:S.keywordId,label:S.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(_=>[..._,k]),p(""),f(!1),alert(" !")}catch(S){console.error("  :",S),alert("  .")}}},j=async S=>{if(window.confirm("  ?"))try{if(await Pi.deleteKeyword(S),u(k=>k.filter(_=>_.id!==S)),s===S){const k=c.filter(_=>_.id!==S);k.length>0?(a(k[0].id),g(k[0].id)):(a(""),l([]))}alert(" .")}catch(k){console.error("  :",k),alert("  .")}},E=S=>{const k=document.getElementById(S);k&&k.scrollBy({left:-400,behavior:"smooth"})},P=S=>{const k=document.getElementById(S);k&&k.scrollBy({left:400,behavior:"smooth"})},R=S=>S>=1e4?`${Math.floor(S/1e3)}K`:S.toLocaleString(),T=S=>{n==null||n(S),console.log(`Opening playlist modal for: ${S.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Lp,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(S=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx(B,{variant:s===S.id?"default":"outline",size:"sm",onClick:()=>v(S.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===S.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===S.id?S.color:void 0,backgroundColor:s===S.id?S.color:void 0},children:S.label}),o.jsx(B,{size:"sm",variant:"ghost",onClick:k=>{k.stopPropagation(),j(S.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(An,{className:"w-3 h-3"})})]},S.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Ve,{value:m,onChange:S=>p(S.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:S=>S.key==="Enter"&&y(),autoFocus:!0}),o.jsx(B,{size:"sm",onClick:y,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(Pa,{className:"w-4 h-4"})}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>{f(!1),p("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(An,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs(B,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:i.map(S=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[S.title,o.jsxs(Rn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx($t,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(B,{size:"sm",variant:"outline",onClick:()=>E(`section-${S.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(ca,{className:"w-4 h-4"})}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>P(`section-${S.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Pr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${S.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:S.items.map((k,_)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[S.id==="trending"&&_<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(Rn,{className:`
                              ${_===0?"bg-yellow-500 text-black":""}
                              ${_===1?"bg-gray-300 text-black":""}
                              ${_===2?"bg-amber-600 text-white":""}
                            `,children:["#",_+1]})}),o.jsx("img",{src:k.thumbnail,alt:k.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:C=>{const D=C.target;D.style.display="none";const L=D.parentElement;if(L&&!L.querySelector(".image-fallback")){const K=document.createElement("div");K.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",K.textContent=k.title.charAt(0).toUpperCase(),L.appendChild(K)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs(B,{size:"sm",onClick:()=>e(k),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs(B,{size:"sm",variant:"outline",onClick:()=>t(k),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Pd,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>T(k),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(fh,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:R(k.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:k.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:k.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:`w-4 h-4 ${k.rating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:k.rating.toFixed(2)})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(uh,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:k.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:k.displayGenres.slice(0,2).map(C=>o.jsx(Rn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:C},C))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:k.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs(B,{size:"sm",onClick:()=>e(k),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx(B,{size:"sm",variant:"outline",onClick:()=>t(k),className:"border-white/20 hover:bg-white/10",children:o.jsx(Pd,{className:"w-4 h-4"})}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>T(k),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Yt,{className:"w-4 h-4"})})]})]})]})]},k.id))})]},S.id))}),!w&&i.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Lp,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function J0(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:a,style:i,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:i,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(E0,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:a,className:l,style:i,...c,onError:r})}function AE({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},i={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(J0,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${i[n]} font-medium text-white/80`,children:["+",s]})})]})})}function IE({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[a,i]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(!1),f=async p=>{p.preventDefault(),r.trim()&&(h(!0),console.log("Creating playlist:",{title:r.trim(),description:a.trim(),isPublic:l,coverImage:null}),await new Promise(w=>setTimeout(w,1e3)),n({title:r.trim(),description:a.trim(),isPublic:l,coverImage:null}),s(""),i(""),c(!0),h(!1),t())},m=()=>{u||(s(""),i(""),c(!0),t())};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:m}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx(B,{variant:"ghost",size:"sm",onClick:m,className:"p-2 hover:bg-white/10",disabled:u,children:o.jsx(An,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Ht,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(Ve,{id:"title",value:r,onChange:p=>s(p.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ht,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(Dl,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(Pa,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(Ll,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(Pa,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(B,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:m,disabled:u,children:""}),o.jsx(B,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||u,children:u?" ...":" "})]})]})]})]}):null}function Yp({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:a,onUserProfileOpen:i}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,m]=d.useState(!1),[p,w]=d.useState(!0),[x,b]=d.useState(null),[g,v]=d.useState("all"),y=L=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(L);d.useEffect(()=>{j()},[]),d.useEffect(()=>{const L=setTimeout(()=>{j(l.trim()||void 0,g)},300);return()=>clearTimeout(L)},[l,g]);const j=async(L,K="all")=>{try{w(!0),b(null),console.log("   :",{searchKeyword:L,currentViewType:K});const U=await t(L,K);console.log("   :",U),h(U)}catch(U){console.error("Error loading playlists:",U),b("   .")}finally{w(!1)}},E=u,P=L=>{console.log(`Starting playlist with ID: ${L}`)},R=()=>{m(!0)},T=L=>{e&&e(L)},S=async L=>{try{await n({name:L.title,description:L.description,isPublic:L.isPublic}),console.log("     "),await j(l.trim()||void 0,g)}catch(K){console.error("Error creating playlist:",K),b("   .")}},k=L=>!L.subscriptions||!a?!1:L.subscriptions.some(K=>K.userId===a),_=L=>!L.subscriptions||!a?null:L.subscriptions.find(K=>K.userId===a),C=async L=>{if(console.log("    :",{playlistId:L,currentUserId:a}),!r||!s||!a){console.error("    ID :",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:a});return}const K=u.find(M=>M.id===L);if(!K){console.error("   :",L);return}const U=k(K);console.log("  :",{isSubscribed:U,subscriptions:K.subscriptions});try{if(U){const M=_(K);if(!M){console.error("    ");return}if(console.log("   - subscription  :",M),!M.subscriptionId){console.error("subscription.subscriptionId undefined:",M);return}console.log("  :",M.subscriptionId),await s(M.subscriptionId)}else console.log(" :",L),await r(L);await j(l.trim()||void 0,g)}catch(M){console.error("   :",M)}},D=L=>{const K="#4ECDC4",U=L.name;return o.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:K},children:U})};return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs(B,{onClick:R,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Ve,{placeholder:" ...",value:l,onChange:L=>c(L.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx(B,{variant:g==="all"?"default":"outline",onClick:()=>v("all"),className:g==="all"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:" "}),a&&o.jsxs(B,{variant:g==="subscribed"?"default":"outline",onClick:()=>v("subscribed"),className:g==="subscribed"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:[o.jsx(Gr,{className:"w-4 h-4 mr-2"})," "]})]})]}),(console.log(" Playlist  :",{loading:p,error:x,playlistsLength:u.length,filteredLength:E.length}),p?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx(B,{onClick:()=>j(l.trim()||void 0,g),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):E.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":g==="subscribed"?"   ":" "}),!l&&g==="all"&&o.jsx(B,{onClick:R,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(L=>{var K,U;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>T(L.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[D(L),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(B,{size:"lg",onClick:M=>{M.stopPropagation(),P(L.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Et,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:L.isPublic?"":""})}),L.userId&&L.userId!==a&&y(L.userId)&&r&&s&&o.jsx(B,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${k(L)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:M=>{M.stopPropagation(),C(L.id)},children:o.jsx(Gr,{className:`w-4 h-4 ${k(L)?"fill-current":""}`})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:L.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:L.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(AE,{items:L.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[L.contentCount||((K=L.playlistContents)==null?void 0:K.length)||0," "]})]}),L.userId&&L.userId!==a&&y(L.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${a?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:M=>{M.stopPropagation(),a?i==null||i(L.userId):alert("  .   .")},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:L.username?L.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:L.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ps,{className:"w-3 h-3"}),o.jsx("span",{children:L.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ch,{className:"w-3 h-3"}),o.jsx("span",{children:L.createdAt?new Date(L.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"mt-2 flex justify-between items-center text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:""}),o.jsxs("span",{children:[((U=L.subscriptions)==null?void 0:U.length)??0," "]})]}),o.jsxs("button",{onClick:M=>{M.stopPropagation();const N=`${window.location.origin}/playlist?id=${L.id}`;navigator.clipboard.writeText(N).then(()=>alert("  !")).catch(()=>alert("  ."))},className:"flex items-center gap-1 px-3 py-1 rounded-full bg-white/10 hover:bg-[#4ecdc4]/80 hover:text-black text-white text-xs font-semibold transition",title:"",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12v.01M12 4v.01M12 20v.01M20 12v.01M7.75 7.75l.01.01M16.25 7.75l.01.01M7.75 16.25l.01.01M16.25 16.25l.01.01"})}),""]})]})]})]},L.id)})}))]}),o.jsx(IE,{isOpen:f,onClose:()=>m(!1),onCreatePlaylist:S})]})}function be(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var DE=sv[" useId ".trim().toString()]||(()=>{}),LE=0;function Hr(e){const[t,n]=d.useState(DE());return xt(()=>{n(r=>r??String(LE++))},[e]),e||(t?`radix-${t}`:"")}var OE=sv[" useInsertionEffect ".trim().toString()]||xt;function bs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=ME({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const m=$E(h)?h(e):h;m!==e&&((f=i.current)==null||f.call(i,m))}else a(h)},[l,e,a,i]);return[c,u]}function ME({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),a=d.useRef(t);return OE(()=>{a.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function $E(e){return typeof e=="function"}function zE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FE="DismissableLayer",Od="dismissableLayer.update",UE="dismissableLayer.pointerDownOutside",BE="dismissableLayer.focusOutside",Gp,Z0=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vh=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(Z0),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),w=Re(t,R=>f(R)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(b),v=h?x.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=g,E=HE(R=>{const T=R.target,S=[...u.branches].some(k=>k.contains(T));!j||S||(s==null||s(R),i==null||i(R),R.defaultPrevented||l==null||l())},m),P=KE(R=>{const T=R.target;[...u.branches].some(k=>k.contains(T))||(a==null||a(R),i==null||i(R),R.defaultPrevented||l==null||l())},m);return zE(R=>{v===u.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gp=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Xp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Gp)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Xp())},[h,u]),d.useEffect(()=>{const R=()=>p({});return document.addEventListener(Od,R),()=>document.removeEventListener(Od,R)},[]),o.jsx(Se.div,{...c,ref:w,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,P.onFocusCapture),onBlurCapture:be(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,E.onPointerDownCapture)})});vh.displayName=FE;var WE="DismissableLayerBranch",VE=d.forwardRef((e,t)=>{const n=d.useContext(Z0),r=d.useRef(null),s=Re(t,r);return d.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Se.div,{...e,ref:s})});VE.displayName=WE;function HE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){ey(UE,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function KE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=d.useRef(!1);return d.useEffect(()=>{const s=a=>{a.target&&!r.current&&ey(BE,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Xp(){const e=new CustomEvent(Od);document.dispatchEvent(e)}function ey(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Kk(s,a):s.dispatchEvent(a)}var fu="focusScope.autoFocusOnMount",hu="focusScope.autoFocusOnUnmount",qp={bubbles:!1,cancelable:!0},YE="FocusScope",xh=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=d.useState(null),u=It(s),h=It(a),f=d.useRef(null),m=Re(t,x=>c(x)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(y){if(p.paused||!l)return;const j=y.target;l.contains(j)?f.current=j:kr(f.current,{select:!0})},b=function(y){if(p.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||kr(f.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&kr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[r,l,p.paused]),d.useEffect(()=>{if(l){Jp.add(p);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(fu,qp);l.addEventListener(fu,u),l.dispatchEvent(g),g.defaultPrevented||(GE(ZE(ty(l)),{select:!0}),document.activeElement===x&&kr(l))}return()=>{l.removeEventListener(fu,u),setTimeout(()=>{const g=new CustomEvent(hu,qp);l.addEventListener(hu,h),l.dispatchEvent(g),g.defaultPrevented||kr(x??document.body,{select:!0}),l.removeEventListener(hu,h),Jp.remove(p)},0)}}},[l,u,h,p]);const w=d.useCallback(x=>{if(!n&&!r||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(b&&g){const v=x.currentTarget,[y,j]=XE(v);y&&j?!x.shiftKey&&g===j?(x.preventDefault(),n&&kr(y,{select:!0})):x.shiftKey&&g===y&&(x.preventDefault(),n&&kr(j,{select:!0})):g===v&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(Se.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});xh.displayName=YE;function GE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(kr(r,{select:t}),document.activeElement!==n)return}function XE(e){const t=ty(e),n=Qp(t,e),r=Qp(t.reverse(),e);return[n,r]}function ty(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qp(e,t){for(const n of e)if(!qE(n,{upTo:t}))return n}function qE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QE(e){return e instanceof HTMLInputElement&&"select"in e}function kr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&QE(e)&&t&&e.select()}}var Jp=JE();function JE(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Zp(e,t),e.unshift(t)},remove(t){var n;e=Zp(e,t),(n=e[0])==null||n.resume()}}}function Zp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZE(e){return e.filter(t=>t.tagName!=="A")}var e4="Portal",yh=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=d.useState(!1);xt(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?i0.createPortal(o.jsx(Se.div,{...r,ref:t}),i):null});yh.displayName=e4;function t4(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var wr=e=>{const{present:t,children:n}=e,r=n4(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),a=Re(r.ref,r4(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:a}):null};wr.displayName="Presence";function n4(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=t4(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=_i(r.current);a.current=l==="mounted"?u:"none"},[l]),xt(()=>{const u=r.current,h=s.current;if(h!==e){const m=a.current,p=_i(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),xt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=p=>{const x=_i(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(a.current=_i(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _i(e){return(e==null?void 0:e.animationName)||"none"}function r4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mu=0;function ny(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??eg()),document.body.insertAdjacentElement("beforeend",e[1]??eg()),mu++,()=>{mu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mu--}},[])}function eg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bn=function(){return Bn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Bn.apply(this,arguments)};function ry(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function s4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ol="right-scroll-bar-position",al="width-before-scroll-bar",o4="with-scroll-bars-hidden",a4="--removed-body-scroll-bar-size";function pu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function i4(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var l4=typeof window<"u"?d.useLayoutEffect:d.useEffect,tg=new WeakMap;function c4(e,t){var n=i4(null,function(r){return e.forEach(function(s){return pu(s,r)})});return l4(function(){var r=tg.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||pu(l,null)}),a.forEach(function(l){s.has(l)||pu(l,i)})}tg.set(n,e)},[e]),n}function u4(e){return e}function d4(e,t){t===void 0&&(t=u4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function f4(e){e===void 0&&(e={});var t=d4(null);return t.options=Bn({async:!0,ssr:!1},e),t}var sy=function(e){var t=e.sideCar,n=ry(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Bn({},n))};sy.isSideCarExport=!0;function h4(e,t){return e.useMedium(t),sy}var oy=f4(),gu=function(){},fc=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:gu,onWheelCapture:gu,onTouchMoveCapture:gu}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,x=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,y=e.gapMode,j=ry(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,P=c4([n,t]),R=Bn(Bn({},j),s);return d.createElement(d.Fragment,null,h&&d.createElement(E,{sideCar:oy,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:y}),i?d.cloneElement(d.Children.only(l),Bn(Bn({},R),{ref:P})):d.createElement(v,Bn({},R,{className:c,ref:P}),l))});fc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fc.classNames={fullWidth:al,zeroRight:ol};var m4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=m4();return t&&e.setAttribute("nonce",t),e}function g4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function v4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var x4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=p4())&&(g4(t,n),v4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},y4=function(){var e=x4();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ay=function(){var e=y4(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},w4={left:0,top:0,right:0,gap:0},vu=function(e){return parseInt(e||"",10)||0},b4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[vu(n),vu(r),vu(s)]},S4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return w4;var t=b4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},N4=ay(),ro="data-scroll-locked",j4=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(o4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ro,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ol,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(al,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ol," .").concat(ol,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(al," .").concat(al,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ro,`] {
    `).concat(a4,": ").concat(l,`px;
  }
`)},ng=function(){var e=parseInt(document.body.getAttribute(ro)||"0",10);return isFinite(e)?e:0},C4=function(){d.useEffect(function(){return document.body.setAttribute(ro,(ng()+1).toString()),function(){var e=ng()-1;e<=0?document.body.removeAttribute(ro):document.body.setAttribute(ro,e.toString())}},[])},k4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;C4();var a=d.useMemo(function(){return S4(s)},[s]);return d.createElement(N4,{styles:j4(a,!t,s,n?"":"!important")})},Md=!1;if(typeof window<"u")try{var Ai=Object.defineProperty({},"passive",{get:function(){return Md=!0,!0}});window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Md=!1}var Ls=Md?{passive:!1}:!1,E4=function(e){return e.tagName==="TEXTAREA"},iy=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!E4(e)&&n[t]==="visible")},T4=function(e){return iy(e,"overflowY")},R4=function(e){return iy(e,"overflowX")},rg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ly(e,r);if(s){var a=cy(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},P4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ly=function(e,t){return e==="v"?T4(t):R4(t)},cy=function(e,t){return e==="v"?P4(t):_4(t)},A4=function(e,t){return e==="h"&&t==="rtl"?-1:1},I4=function(e,t,n,r,s){var a=A4(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,h=i>0,f=0,m=0;do{if(!l)break;var p=cy(e,l),w=p[0],x=p[1],b=p[2],g=x-b-a*w;(w||g)&&ly(e,l)&&(f+=g,m+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Ii=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sg=function(e){return[e.deltaX,e.deltaY]},og=function(e){return e&&"current"in e?e.current:e},D4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},L4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},O4=0,Os=[];function M4(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(O4++)[0],a=d.useState(ay)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=s4([e.lockRef.current],(e.shards||[]).map(og),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var g=Ii(x),v=n.current,y="deltaX"in x?x.deltaX:v[0]-g[0],j="deltaY"in x?x.deltaY:v[1]-g[1],E,P=x.target,R=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in x&&R==="h"&&P.type==="range")return!1;var T=rg(R,P);if(!T)return!0;if(T?E=R:(E=R==="v"?"h":"v",T=rg(R,P)),!T)return!1;if(!r.current&&"changedTouches"in x&&(y||j)&&(r.current=E),!E)return!0;var S=r.current||E;return I4(S,b,x,S==="h"?y:j)},[]),c=d.useCallback(function(x){var b=x;if(!(!Os.length||Os[Os.length-1]!==a)){var g="deltaY"in b?sg(b):Ii(b),v=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&D4(E.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(og).filter(Boolean).filter(function(E){return E.contains(b.target)}),j=y.length>0?l(b,y[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(x,b,g,v){var y={name:x,delta:b,target:g,should:v,shadowParent:$4(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),h=d.useCallback(function(x){n.current=Ii(x),r.current=void 0},[]),f=d.useCallback(function(x){u(x.type,sg(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,Ii(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return Os.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ls),document.addEventListener("touchmove",c,Ls),document.addEventListener("touchstart",h,Ls),function(){Os=Os.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Ls),document.removeEventListener("touchmove",c,Ls),document.removeEventListener("touchstart",h,Ls)}},[]);var p=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(a,{styles:L4(s)}):null,p?d.createElement(k4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const z4=h4(oy,M4);var wh=d.forwardRef(function(e,t){return d.createElement(fc,Bn({},e,{ref:t,sideCar:z4}))});wh.classNames=fc.classNames;var F4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ms=new WeakMap,Di=new WeakMap,Li={},xu=0,uy=function(e){return e&&(e.host||uy(e.parentNode))},U4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=uy(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},B4=function(e,t,n,r){var s=U4(t,Array.isArray(e)?e:[e]);Li[n]||(Li[n]=new WeakMap);var a=Li[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(r),w=p!==null&&p!=="false",x=(Ms.get(m)||0)+1,b=(a.get(m)||0)+1;Ms.set(m,x),a.set(m,b),i.push(m),x===1&&w&&Di.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return h(t),l.clear(),xu++,function(){i.forEach(function(f){var m=Ms.get(f)-1,p=a.get(f)-1;Ms.set(f,m),a.set(f,p),m||(Di.has(f)||f.removeAttribute(r),Di.delete(f)),p||f.removeAttribute(n)}),xu--,xu||(Ms=new WeakMap,Ms=new WeakMap,Di=new WeakMap,Li={})}},dy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=F4(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),B4(r,s,n,"aria-hidden")):function(){return null}},hc="Dialog",[fy,hy]=On(hc),[W4,Mn]=fy(hc),my=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=bs({prop:r,defaultProp:s??!1,onChange:a,caller:hc});return o.jsx(W4,{scope:t,triggerRef:l,contentRef:c,contentId:Hr(),titleId:Hr(),descriptionId:Hr(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:i,children:n})};my.displayName=hc;var py="DialogTrigger",gy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(py,n),a=Re(t,s.triggerRef);return o.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nh(s.open),...r,ref:a,onClick:be(e.onClick,s.onOpenToggle)})});gy.displayName=py;var bh="DialogPortal",[V4,vy]=fy(bh,{forceMount:void 0}),xy=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Mn(bh,t);return o.jsx(V4,{scope:t,forceMount:n,children:d.Children.map(r,i=>o.jsx(wr,{present:n||a.open,children:o.jsx(yh,{asChild:!0,container:s,children:i})}))})};xy.displayName=bh;var Ml="DialogOverlay",yy=d.forwardRef((e,t)=>{const n=vy(Ml,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Mn(Ml,e.__scopeDialog);return a.modal?o.jsx(wr,{present:r||a.open,children:o.jsx(K4,{...s,ref:t})}):null});yy.displayName=Ml;var H4=mo("DialogOverlay.RemoveScroll"),K4=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(Ml,n);return o.jsx(wh,{as:H4,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Se.div,{"data-state":Nh(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",wy=d.forwardRef((e,t)=>{const n=vy(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Mn(Ss,e.__scopeDialog);return o.jsx(wr,{present:r||a.open,children:a.modal?o.jsx(Y4,{...s,ref:t}):o.jsx(G4,{...s,ref:t})})});wy.displayName=Ss;var Y4=d.forwardRef((e,t)=>{const n=Mn(Ss,e.__scopeDialog),r=d.useRef(null),s=Re(t,n.contentRef,r);return d.useEffect(()=>{const a=r.current;if(a)return dy(a)},[]),o.jsx(by,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:be(e.onFocusOutside,a=>a.preventDefault())})}),G4=d.forwardRef((e,t)=>{const n=Mn(Ss,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(by,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),by=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Mn(Ss,n),c=d.useRef(null),u=Re(t,c);return ny(),o.jsxs(o.Fragment,{children:[o.jsx(xh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(vh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Nh(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(q4,{titleId:l.titleId}),o.jsx(J4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Sh="DialogTitle",Sy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(Sh,n);return o.jsx(Se.h2,{id:s.titleId,...r,ref:t})});Sy.displayName=Sh;var Ny="DialogDescription",jy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(Ny,n);return o.jsx(Se.p,{id:s.descriptionId,...r,ref:t})});jy.displayName=Ny;var Cy="DialogClose",ky=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(Cy,n);return o.jsx(Se.button,{type:"button",...r,ref:t,onClick:be(e.onClick,()=>s.onOpenChange(!1))})});ky.displayName=Cy;function Nh(e){return e?"open":"closed"}var Ey="DialogTitleWarning",[X4,Ty]=Wk(Ey,{contentName:Ss,titleName:Sh,docsSlug:"dialog"}),q4=({titleId:e})=>{const t=Ty(Ey),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Q4="DialogDescriptionWarning",J4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ty(Q4).contentName}}.`;return d.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Ry=my,Z4=gy,Py=xy,_y=yy,Ay=wy,Iy=Sy,eT=jy,jh=ky;function mc({...e}){return o.jsx(Ry,{"data-slot":"dialog",...e})}function tT({...e}){return o.jsx(Py,{"data-slot":"dialog-portal",...e})}function nT({className:e,...t}){return o.jsx(_y,{"data-slot":"dialog-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function pc({className:e,children:t,...n}){return o.jsxs(tT,{"data-slot":"dialog-portal",children:[o.jsx(nT,{}),o.jsxs(Ay,{"data-slot":"dialog-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(jh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(An,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function gc({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Te("flex flex-col gap-2 text-center sm:text-left",e),...t})}function vc({className:e,...t}){return o.jsx(Iy,{"data-slot":"dialog-title",className:Te("text-lg leading-none font-semibold",e),...t})}function rT({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:a,deletePlaylist:i,currentUserId:l,isSharedAccess:c}){var $e,ht;const[u,h]=d.useState(null),[f,m]=d.useState([]),[p,w]=d.useState(!1),[x,b]=d.useState(null),[g,v]=d.useState(!0),[y,j]=d.useState(null),[E,P]=d.useState(!1),[R,T]=d.useState([]),[S,k]=d.useState([]),[_,C]=d.useState(""),[D,L]=d.useState(!1),[K,U]=d.useState(!1),[M,N]=d.useState([]),A=d.useCallback(async()=>{var I,Y,ne;try{v(!0),j(null),console.log("    :",e);const X=localStorage.getItem("accessToken");let F=null;if(X)try{const ee=X.split(".");if(ee.length===3){const we=JSON.parse(atob(ee[1]));F=we.userId||we.sub||we.id||null}}catch(ee){console.error("JWT   :",ee)}const W=await r(e);if(console.log("   :",W),!W){console.error("   "),j("   .");return}if(h(W),m(W.playlistContents.map(ee=>(console.log(" : ",ee.thumbnailUrl),{id:ee.id,title:ee.title,thumbnailUrl:ee.thumbnailUrl,type:ee.contentType.toLowerCase(),genre:ee.genre,duration:ee.duration,year:ee.year,rating:ee.avgRating,addedDate:ee.addedDate,description:ee.description||""}))||[]),F&&W.subscriptions){const ee=W.subscriptions.find(we=>we.userId===F);w(!!ee),b((ee==null?void 0:ee.subscriptionId)||null)}console.log("    :",{playlist:W,contents:W.playlistContents||[],isSubscribed:!!F&&((I=W.subscriptions)==null?void 0:I.some(ee=>ee.userId===F)),subscriptionId:(ne=(Y=W.subscriptions)==null?void 0:Y.find(ee=>ee.userId===F))==null?void 0:ne.subscriptionId})}catch(X){console.error("    :",X),j("   .")}finally{v(!1)}},[e,r]),O=d.useCallback(async()=>{try{console.log("   :",{searchQuery:_}),L(!0);const I=await fs.getContents({size:20,query:_||void 0});console.log("   :",I),T(I.data||[]),console.log("   :",I.data||[])}catch(I){console.error("   :",I)}finally{L(!1)}},[_]);if(d.useEffect(()=>{A()},[A]),d.useEffect(()=>{let I;return E&&(I=setTimeout(()=>{O()},300)),()=>{I&&clearTimeout(I)}},[_,E,O]),g)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(y||!u)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:y||"   "}),o.jsx(B,{onClick:t,variant:"outline",children:""})]})});const te=async()=>{if(!l){alert(" .");return}try{if(p&&x)await Ol.unsubscribe(x),w(!1),b(null),console.log("   :",x);else{const I=await Ol.subscribe(l,e);w(!0),b(I.subscriptionId),console.log("  :",I)}await A()}catch(I){console.error("    :",I),alert("   .")}},$=I=>{if(l!==u.userId){alert("     .");return}console.log(`Removing content ${I} from playlist ${e}`),m(Y=>Y.filter(ne=>ne.id!==I))},Z=I=>{n?n({id:I.id,title:I.title,thumbnail:I.thumbnailUrl,type:I.type,duration:I.duration,description:I.description}):alert(`"${I.title}"  .`)},se=()=>{console.log(`Playing playlist: ${u.name}`),alert(`"${u.name}"   .`)},ce=()=>{if(l!==u.userId){alert("     .");return}P(!0),O()},Ee=I=>{k(Y=>Y.includes(I)?Y.filter(ne=>ne!==I):[...Y,I])},J=async()=>{if(S.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,S),await s(e,S),await A(),P(!1),k([]),C(""),alert(`${S.length}   .`)}catch(I){console.error("  :",I),alert("  .")}},ae=()=>{console.log("    :",!K),U(!K),N([])},fe=I=>{N(Y=>Y.includes(I)?Y.filter(ne=>ne!==I):[...Y,I])},pe=()=>{M.length===f.length?N([]):N(f.map(I=>I.id))},ie=async()=>{if(l!==u.userId){alert("     .");return}if(M.length===0){alert("  .");return}if(confirm(` ${M.length}   ?`))try{await a(e,M),await A(),N([]),U(!1),alert(`${M.length}  .`)}catch(Y){console.error("  :",Y),alert("  .")}},xe=async()=>{try{const I=`${window.location.origin}/?playlist=${e}`;navigator.clipboard?(await navigator.clipboard.writeText(I),alert("    !")):prompt("   :",I),console.log("    :",I)}catch(I){console.error("   :",I),alert("   .")}},ye=async()=>{if(console.log("   :",{deletePlaylist:!!i,currentUserId:l,playlistUserId:u==null?void 0:u.userId}),!i||!l){alert("  .");return}if(l!==(u==null?void 0:u.userId)){alert("    .");return}if(!confirm(` "${u==null?void 0:u.name}"  ?
    .`)){console.log("   ");return}try{console.log("   :",e),await i(e),console.log("   "),alert(" ."),t()}catch(I){console.error("   :",I),alert("  .")}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs(B,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(No,{className:"w-5 h-5 mr-2"})," "]}),o.jsx("div",{className:"pl-4 flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:o.jsxs("div",{className:"flex-1 space-y-4 pt-5",children:[o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:u.name}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(st,{className:"h-6 w-6",children:[o.jsx(ot,{src:($e=u.user)==null?void 0:$e.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:((ht=u.username)==null?void 0:ht.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:u.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[f.length," "]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ch,{className:"w-4 h-4"}),o.jsx("span",{children:u.createdAt?new Date(u.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs(B,{size:"lg",onClick:se,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(Et,{className:"w-6 h-6 mr-2 fill-current"}),""]}),l?o.jsx(o.Fragment,{children:l===u.userId?o.jsxs(o.Fragment,{children:[o.jsxs(B,{size:"lg",variant:"outline",onClick:ce,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs(B,{size:"lg",variant:"outline",onClick:ae,className:`border-white/20 hover:bg-white/10 ${K?"bg-white/10":""}`,children:[o.jsx(An,{className:"w-5 h-5 mr-2"}),K?" ":" "]})]}):null}):o.jsxs(B,{size:"lg",variant:"outline",onClick:()=>alert(c?"  .     !":"    ."),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]}),K&&o.jsxs(o.Fragment,{children:[o.jsx(B,{size:"lg",variant:"outline",onClick:pe,className:"border-white/20 hover:bg-white/10",children:M.length===f.length?" ":" "}),M.length>0&&o.jsxs(B,{size:"lg",variant:"destructive",onClick:ie,className:"bg-red-600 hover:bg-red-700",children:["  (",M.length,")"]})]}),l&&o.jsx(B,{variant:"ghost",size:"lg",onClick:te,className:`p-3 hover:bg-white/10 ${p?"text-[#4ecdc4]":"text-white/60"}`,title:p?" ":"",children:o.jsx(Gr,{className:`w-6 h-6 ${p?"fill-current":""}`})}),o.jsx(B,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",onClick:xe,children:o.jsx(kC,{className:"w-6 h-6"})}),l===(u==null?void 0:u.userId)&&i&&!c&&o.jsx(B,{variant:"ghost",size:"lg",className:"p-3 hover:bg-red-500/20 text-red-400 hover:text-red-300",onClick:ye,title:" ",children:o.jsx(_a,{className:"w-6 h-6"})})]})]})})]})]}),o.jsx("div",{className:"container mx-auto px-9 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-4",children:""})," ",o.jsx("div",{className:"col-span-6",children:""})," ",o.jsx("div",{className:"col-span-1"})," "]})}),o.jsx("div",{className:"divide-y divide-white/10",children:f.map((I,Y)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:K,contentId:I.id}),K)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>fe(I.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${M.includes(I.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:M.includes(I.id)&&o.jsx(Yt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:Y+1}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>Z(I),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(Et,{className:"w-4 h-4 fill-current"})})]})}),o.jsxs("div",{className:"col-span-4",children:[" ",o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(J0,{src:I.thumbnailUrl,alt:I.title,className:"w-full h-full object-cover"})}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:I.title})})]})]}),o.jsx("div",{className:"col-span-6 text-white/70 text-sm overflow-hidden",children:o.jsx("p",{className:"line-clamp-2-custom",children:I.description})}),o.jsx("div",{className:"col-span-1",children:l===u.userId&&o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>$(I.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(An,{className:"w-4 h-4"})})})})]})},I.id))}),f.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),l===u.userId&&o.jsx(B,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:ce,children:" "})]})]})}),o.jsx(mc,{open:E,onOpenChange:P,children:o.jsxs(pc,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(gc,{children:o.jsx(vc,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Ve,{placeholder:" ...",value:_,onChange:I=>C(I.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),S.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[S.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:D?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!R||R.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(R||[]).map(I=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${S.includes(I.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>Ee(I.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:I.thumbnailUrl||"/placeholder-content.jpg",alt:I.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:I.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:I.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(Rn,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:I.contentType}),I.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:I.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:S.includes(I.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Yt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},I.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx(B,{variant:"outline",onClick:()=>{P(!1),k([]),C("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx(B,{onClick:J,disabled:S.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:S.length>0?`${S.length} `:""})]})]})})]})}function Aa(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ch(e){const t=e+"CollectionProvider",[n,r]=On(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:g}=x,v=re.useRef(null),y=re.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:y,collectionRef:v,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=mo(l),u=re.forwardRef((x,b)=>{const{scope:g,children:v}=x,y=a(l,g),j=Re(b,y.collectionRef);return o.jsx(c,{ref:j,children:v})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=mo(h),p=re.forwardRef((x,b)=>{const{scope:g,children:v,...y}=x,j=re.useRef(null),E=Re(b,j),P=a(h,g);return re.useEffect(()=>(P.itemMap.set(j,{ref:j,...y}),()=>void P.itemMap.delete(j))),o.jsx(m,{[f]:"",ref:E,children:v})});p.displayName=h;function w(x){const b=a(e+"CollectionConsumer",x);return re.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((P,R)=>y.indexOf(P.ref.current)-y.indexOf(R.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var sT=d.createContext(void 0);function Ga(e){const t=d.useContext(sT);return e||t||"ltr"}const oT=["top","right","bottom","left"],qr=Math.min,Zt=Math.max,$l=Math.round,Oi=Math.floor,Yn=e=>({x:e,y:e}),aT={left:"right",right:"left",bottom:"top",top:"bottom"},iT={start:"end",end:"start"};function $d(e,t,n){return Zt(e,qr(t,n))}function pr(e,t){return typeof e=="function"?e(t):e}function gr(e){return e.split("-")[0]}function jo(e){return e.split("-")[1]}function kh(e){return e==="x"?"y":"x"}function Eh(e){return e==="y"?"height":"width"}const lT=new Set(["top","bottom"]);function Wn(e){return lT.has(gr(e))?"y":"x"}function Th(e){return kh(Wn(e))}function cT(e,t,n){n===void 0&&(n=!1);const r=jo(e),s=Th(e),a=Eh(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=zl(i)),[i,zl(i)]}function uT(e){const t=zl(e);return[zd(e),t,zd(t)]}function zd(e){return e.replace(/start|end/g,t=>iT[t])}const ag=["left","right"],ig=["right","left"],dT=["top","bottom"],fT=["bottom","top"];function hT(e,t,n){switch(e){case"top":case"bottom":return n?t?ig:ag:t?ag:ig;case"left":case"right":return t?dT:fT;default:return[]}}function mT(e,t,n,r){const s=jo(e);let a=hT(gr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(zd)))),a}function zl(e){return e.replace(/left|right|bottom|top/g,t=>aT[t])}function pT(e){return{top:0,right:0,bottom:0,left:0,...e}}function Dy(e){return typeof e!="number"?pT(e):{top:e,right:e,bottom:e,left:e}}function Fl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function lg(e,t,n){let{reference:r,floating:s}=e;const a=Wn(t),i=Th(t),l=Eh(i),c=gr(t),u=a==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(jo(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const gT=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=lg(u,r,c),m=r,p={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:g}=l[x],{x:v,y,data:j,reset:E}=await g({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});h=v??h,f=y??f,p={...p,[b]:{...p[b],...j}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(u=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:h,y:f}=lg(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Ia(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=pr(t,e),w=Dy(p),b=l[m?f==="floating"?"reference":"floating":f],g=Fl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},E=Fl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(g.top-E.top+w.top)/j.y,bottom:(E.bottom-g.bottom+w.bottom)/j.y,left:(g.left-E.left+w.left)/j.x,right:(E.right-g.right+w.right)/j.x}}const vT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=pr(e,t)||{};if(u==null)return{};const f=Dy(h),m={x:n,y:r},p=Th(s),w=Eh(p),x=await i.getDimensions(u),b=p==="y",g=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",j=a.reference[w]+a.reference[p]-m[p]-a.floating[w],E=m[p]-a.reference[p],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let R=P?P[y]:0;(!R||!await(i.isElement==null?void 0:i.isElement(P)))&&(R=l.floating[y]||a.floating[w]);const T=j/2-E/2,S=R/2-x[w]/2-1,k=qr(f[g],S),_=qr(f[v],S),C=k,D=R-x[w]-_,L=R/2-x[w]/2+T,K=$d(C,L,D),U=!c.arrow&&jo(s)!=null&&L!==K&&a.reference[w]/2-(L<C?k:_)-x[w]/2<0,M=U?L<C?L-C:L-D:0;return{[p]:m[p]+M,data:{[p]:K,centerOffset:L-K-M,...U&&{alignmentOffset:M}},reset:U}}}),xT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=pr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=gr(s),v=Wn(l),y=gr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=m||(y||!x?[zl(l)]:uT(l)),P=w!=="none";!m&&P&&E.push(...mT(l,x,w,j));const R=[l,...E],T=await Ia(t,b),S=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&S.push(T[g]),f){const L=cT(s,i,j);S.push(T[L[0]],T[L[1]])}if(k=[...k,{placement:s,overflows:S}],!S.every(L=>L<=0)){var _,C;const L=(((_=a.flip)==null?void 0:_.index)||0)+1,K=R[L];if(K&&(!(f==="alignment"?v!==Wn(K):!1)||k.every(N=>N.overflows[0]>0&&Wn(N.placement)===v)))return{data:{index:L,overflows:k},reset:{placement:K}};let U=(C=k.filter(M=>M.overflows[0]<=0).sort((M,N)=>M.overflows[1]-N.overflows[1])[0])==null?void 0:C.placement;if(!U)switch(p){case"bestFit":{var D;const M=(D=k.filter(N=>{if(P){const A=Wn(N.placement);return A===v||A==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(A=>A>0).reduce((A,O)=>A+O,0)]).sort((N,A)=>N[1]-A[1])[0])==null?void 0:D[0];M&&(U=M);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function cg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ug(e){return oT.some(t=>e[t]>=0)}const yT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=pr(e,t);switch(r){case"referenceHidden":{const a=await Ia(t,{...s,elementContext:"reference"}),i=cg(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ug(i)}}}case"escaped":{const a=await Ia(t,{...s,altBoundary:!0}),i=cg(a,n.floating);return{data:{escapedOffsets:i,escaped:ug(i)}}}default:return{}}}}},Ly=new Set(["left","top"]);async function wT(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=gr(n),l=jo(n),c=Wn(n)==="y",u=Ly.has(i)?-1:1,h=a&&c?-1:1,f=pr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*h,y:m*u}:{x:m*u,y:p*h}}const bT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await wT(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},ST=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...c}=pr(e,t),u={x:n,y:r},h=await Ia(t,c),f=Wn(gr(s)),m=kh(f);let p=u[m],w=u[f];if(a){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",v=p+h[b],y=p-h[g];p=$d(v,p,y)}if(i){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=w+h[b],y=w-h[g];w=$d(v,w,y)}const x=l.fn({...t,[m]:p,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[f]:i}}}}}},NT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pr(e,t),h={x:n,y:r},f=Wn(s),m=kh(f);let p=h[m],w=h[f];const x=pr(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const y=m==="y"?"height":"width",j=a.reference[m]-a.floating[y]+b.mainAxis,E=a.reference[m]+a.reference[y]-b.mainAxis;p<j?p=j:p>E&&(p=E)}if(u){var g,v;const y=m==="y"?"width":"height",j=Ly.has(gr(s)),E=a.reference[f]-a.floating[y]+(j&&((g=i.offset)==null?void 0:g[f])||0)+(j?0:b.crossAxis),P=a.reference[f]+a.reference[y]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?b.crossAxis:0);w<E?w=E:w>P&&(w=P)}return{[m]:p,[f]:w}}}},jT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=pr(e,t),h=await Ia(t,u),f=gr(s),m=jo(s),p=Wn(s)==="y",{width:w,height:x}=a.floating;let b,g;f==="top"||f==="bottom"?(b=f,g=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,b=m==="end"?"top":"bottom");const v=x-h.top-h.bottom,y=w-h.left-h.right,j=qr(x-h[b],v),E=qr(w-h[g],y),P=!t.middlewareData.shift;let R=j,T=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=v),P&&!m){const k=Zt(h.left,0),_=Zt(h.right,0),C=Zt(h.top,0),D=Zt(h.bottom,0);p?T=w-2*(k!==0||_!==0?k+_:Zt(h.left,h.right)):R=x-2*(C!==0||D!==0?C+D:Zt(h.top,h.bottom))}await c({...t,availableWidth:T,availableHeight:R});const S=await i.getDimensions(l.floating);return w!==S.width||x!==S.height?{reset:{rects:!0}}:{}}}};function xc(){return typeof window<"u"}function Co(e){return Oy(e)?(e.nodeName||"").toLowerCase():"#document"}function rn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function er(e){var t;return(t=(Oy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Oy(e){return xc()?e instanceof Node||e instanceof rn(e).Node:!1}function In(e){return xc()?e instanceof Element||e instanceof rn(e).Element:!1}function qn(e){return xc()?e instanceof HTMLElement||e instanceof rn(e).HTMLElement:!1}function dg(e){return!xc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rn(e).ShadowRoot}const CT=new Set(["inline","contents"]);function Xa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!CT.has(s)}const kT=new Set(["table","td","th"]);function ET(e){return kT.has(Co(e))}const TT=[":popover-open",":modal"];function yc(e){return TT.some(t=>{try{return e.matches(t)}catch{return!1}})}const RT=["transform","translate","scale","rotate","perspective"],PT=["transform","translate","scale","rotate","perspective","filter"],_T=["paint","layout","strict","content"];function Rh(e){const t=Ph(),n=In(e)?Dn(e):e;return RT.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||PT.some(r=>(n.willChange||"").includes(r))||_T.some(r=>(n.contain||"").includes(r))}function AT(e){let t=Qr(e);for(;qn(t)&&!go(t);){if(Rh(t))return t;if(yc(t))return null;t=Qr(t)}return null}function Ph(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IT=new Set(["html","body","#document"]);function go(e){return IT.has(Co(e))}function Dn(e){return rn(e).getComputedStyle(e)}function wc(e){return In(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qr(e){if(Co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dg(e)&&e.host||er(e);return dg(t)?t.host:t}function My(e){const t=Qr(e);return go(t)?e.ownerDocument?e.ownerDocument.body:e.body:qn(t)&&Xa(t)?t:My(t)}function Da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=My(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=rn(s);if(a){const l=Fd(i);return t.concat(i,i.visualViewport||[],Xa(s)?s:[],l&&n?Da(l):[])}return t.concat(s,Da(s,[],n))}function Fd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $y(e){const t=Dn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=qn(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=$l(n)!==a||$l(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function _h(e){return In(e)?e:e.contextElement}function so(e){const t=_h(e);if(!qn(t))return Yn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=$y(t);let i=(a?$l(n.width):n.width)/r,l=(a?$l(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const DT=Yn(0);function zy(e){const t=rn(e);return!Ph()||!t.visualViewport?DT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==rn(e)?!1:t}function Ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=_h(e);let i=Yn(1);t&&(r?In(r)&&(i=so(r)):i=so(e));const l=LT(a,n,r)?zy(a):Yn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(a){const m=rn(a),p=r&&In(r)?rn(r):r;let w=m,x=Fd(w);for(;x&&r&&p!==w;){const b=so(x),g=x.getBoundingClientRect(),v=Dn(x),y=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,j=g.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,f*=b.y,c+=y,u+=j,w=rn(x),x=Fd(w)}}return Fl({width:h,height:f,x:c,y:u})}function Ah(e,t){const n=wc(e).scrollLeft;return t?t.left+n:Ns(er(e)).left+n}function Fy(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Ah(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function OT(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=er(r),l=t?yc(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Yn(1);const h=Yn(0),f=qn(r);if((f||!f&&!a)&&((Co(r)!=="body"||Xa(i))&&(c=wc(r)),qn(r))){const p=Ns(r);u=so(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=i&&!f&&!a?Fy(i,c,!0):Yn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function MT(e){return Array.from(e.getClientRects())}function $T(e){const t=er(e),n=wc(e),r=e.ownerDocument.body,s=Zt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Zt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ah(e);const l=-n.scrollTop;return Dn(r).direction==="rtl"&&(i+=Zt(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function zT(e,t){const n=rn(e),r=er(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Ph();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const FT=new Set(["absolute","fixed"]);function UT(e,t){const n=Ns(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=qn(e)?so(e):Yn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function fg(e,t,n){let r;if(t==="viewport")r=zT(e,n);else if(t==="document")r=$T(er(e));else if(In(t))r=UT(t,n);else{const s=zy(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Fl(r)}function Uy(e,t){const n=Qr(e);return n===t||!In(n)||go(n)?!1:Dn(n).position==="fixed"||Uy(n,t)}function BT(e,t){const n=t.get(e);if(n)return n;let r=Da(e,[],!1).filter(l=>In(l)&&Co(l)!=="body"),s=null;const a=Dn(e).position==="fixed";let i=a?Qr(e):e;for(;In(i)&&!go(i);){const l=Dn(i),c=Rh(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&FT.has(s.position)||Xa(i)&&!c&&Uy(e,i))?r=r.filter(h=>h!==i):s=l,i=Qr(i)}return t.set(e,r),r}function WT(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?yc(t)?[]:BT(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,h)=>{const f=fg(t,h,s);return u.top=Zt(f.top,u.top),u.right=qr(f.right,u.right),u.bottom=qr(f.bottom,u.bottom),u.left=Zt(f.left,u.left),u},fg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function VT(e){const{width:t,height:n}=$y(e);return{width:t,height:n}}function HT(e,t,n){const r=qn(t),s=er(t),a=n==="fixed",i=Ns(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Yn(0);function u(){c.x=Ah(s)}if(r||!r&&!a)if((Co(t)!=="body"||Xa(s))&&(l=wc(t)),r){const p=Ns(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!r&&s&&u();const h=s&&!r&&!a?Fy(s,l):Yn(0),f=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:i.width,height:i.height}}function yu(e){return Dn(e).position==="static"}function hg(e,t){if(!qn(e)||Dn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return er(e)===n&&(n=n.ownerDocument.body),n}function By(e,t){const n=rn(e);if(yc(e))return n;if(!qn(e)){let s=Qr(e);for(;s&&!go(s);){if(In(s)&&!yu(s))return s;s=Qr(s)}return n}let r=hg(e,t);for(;r&&ET(r)&&yu(r);)r=hg(r,t);return r&&go(r)&&yu(r)&&!Rh(r)?n:r||AT(e)||n}const KT=async function(e){const t=this.getOffsetParent||By,n=this.getDimensions,r=await n(e.floating);return{reference:HT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function YT(e){return Dn(e).direction==="rtl"}const GT={convertOffsetParentRelativeRectToViewportRelativeRect:OT,getDocumentElement:er,getClippingRect:WT,getOffsetParent:By,getElementRects:KT,getClientRects:MT,getDimensions:VT,getScale:so,isElement:In,isRTL:YT};function Wy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XT(e,t){let n=null,r;const s=er(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const w=Oi(f),x=Oi(s.clientWidth-(h+m)),b=Oi(s.clientHeight-(f+p)),g=Oi(h),y={rootMargin:-w+"px "+-x+"px "+-b+"px "+-g+"px",threshold:Zt(0,qr(1,c))||1};let j=!0;function E(P){const R=P[0].intersectionRatio;if(R!==c){if(!j)return i();R?i(!1,R):r=setTimeout(()=>{i(!1,1e-7)},1e3)}R===1&&!Wy(u,e.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(E,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(e)}return i(!0),a}function qT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=_h(e),h=s||a?[...u?Da(u):[],...Da(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const f=u&&l?XT(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,x=c?Ns(e):null;c&&b();function b(){const g=Ns(e);x&&!Wy(x,g)&&n(),x=g,w=requestAnimationFrame(b)}return n(),()=>{var g;h.forEach(v=>{s&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const QT=bT,JT=ST,ZT=xT,eR=jT,tR=yT,mg=vT,nR=NT,rR=(e,t,n)=>{const r=new Map,s={platform:GT,...n},a={...s.platform,_c:r};return gT(e,t,{...s,platform:a})};var sR=typeof document<"u",oR=function(){},il=sR?d.useLayoutEffect:oR;function Ul(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ul(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Ul(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Vy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pg(e,t){const n=Vy(e);return Math.round(t*n)/n}function wu(e){const t=d.useRef(e);return il(()=>{t.current=e}),t}function aR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=d.useState(r);Ul(m,r)||p(r);const[w,x]=d.useState(null),[b,g]=d.useState(null),v=d.useCallback(N=>{N!==P.current&&(P.current=N,x(N))},[]),y=d.useCallback(N=>{N!==R.current&&(R.current=N,g(N))},[]),j=a||w,E=i||b,P=d.useRef(null),R=d.useRef(null),T=d.useRef(h),S=c!=null,k=wu(c),_=wu(s),C=wu(u),D=d.useCallback(()=>{if(!P.current||!R.current)return;const N={placement:t,strategy:n,middleware:m};_.current&&(N.platform=_.current),rR(P.current,R.current,N).then(A=>{const O={...A,isPositioned:C.current!==!1};L.current&&!Ul(T.current,O)&&(T.current=O,bo.flushSync(()=>{f(O)}))})},[m,t,n,_,C]);il(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[u]);const L=d.useRef(!1);il(()=>(L.current=!0,()=>{L.current=!1}),[]),il(()=>{if(j&&(P.current=j),E&&(R.current=E),j&&E){if(k.current)return k.current(j,E,D);D()}},[j,E,D,k,S]);const K=d.useMemo(()=>({reference:P,floating:R,setReference:v,setFloating:y}),[v,y]),U=d.useMemo(()=>({reference:j,floating:E}),[j,E]),M=d.useMemo(()=>{const N={position:n,left:0,top:0};if(!U.floating)return N;const A=pg(U.floating,h.x),O=pg(U.floating,h.y);return l?{...N,transform:"translate("+A+"px, "+O+"px)",...Vy(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:O}},[n,l,U.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:D,refs:K,elements:U,floatingStyles:M}),[h,D,K,U,M])}const iR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mg({element:r.current,padding:s}).fn(n):{}:r?mg({element:r,padding:s}).fn(n):{}}}},lR=(e,t)=>({...QT(e),options:[e,t]}),cR=(e,t)=>({...JT(e),options:[e,t]}),uR=(e,t)=>({...nR(e),options:[e,t]}),dR=(e,t)=>({...ZT(e),options:[e,t]}),fR=(e,t)=>({...eR(e),options:[e,t]}),hR=(e,t)=>({...tR(e),options:[e,t]}),mR=(e,t)=>({...iR(e),options:[e,t]});var pR="Arrow",Hy=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(Se.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Hy.displayName=pR;var gR=Hy;function Ih(e){const[t,n]=d.useState(void 0);return xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dh="Popper",[Ky,Yy]=On(Dh),[vR,Gy]=Ky(Dh),Xy=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(vR,{scope:t,anchor:r,onAnchorChange:s,children:n})};Xy.displayName=Dh;var qy="PopperAnchor",Qy=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Gy(qy,n),i=d.useRef(null),l=Re(t,i);return d.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(Se.div,{...s,ref:l})});Qy.displayName=qy;var Lh="PopperContent",[xR,yR]=Ky(Lh),Jy=d.forwardRef((e,t)=>{var J,ae,fe,pe,ie,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,b=Gy(Lh,n),[g,v]=d.useState(null),y=Re(t,ye=>v(ye)),[j,E]=d.useState(null),P=Ih(j),R=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,S=r+(a!=="center"?"-"+a:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},_=Array.isArray(u)?u:[u],C=_.length>0,D={padding:k,boundary:_.filter(bR),altBoundary:C},{refs:L,floatingStyles:K,placement:U,isPositioned:M,middlewareData:N}=aR({strategy:"fixed",placement:S,whileElementsMounted:(...ye)=>qT(...ye,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[lR({mainAxis:s+T,alignmentAxis:i}),c&&cR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uR():void 0,...D}),c&&dR({...D}),fR({...D,apply:({elements:ye,rects:$e,availableWidth:ht,availableHeight:I})=>{const{width:Y,height:ne}=$e.reference,X=ye.floating.style;X.setProperty("--radix-popper-available-width",`${ht}px`),X.setProperty("--radix-popper-available-height",`${I}px`),X.setProperty("--radix-popper-anchor-width",`${Y}px`),X.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),j&&mR({element:j,padding:l}),SR({arrowWidth:R,arrowHeight:T}),m&&hR({strategy:"referenceHidden",...D})]}),[A,O]=tw(U),te=It(w);xt(()=>{M&&(te==null||te())},[M,te]);const $=(J=N.arrow)==null?void 0:J.x,Z=(ae=N.arrow)==null?void 0:ae.y,se=((fe=N.arrow)==null?void 0:fe.centerOffset)!==0,[ce,Ee]=d.useState();return xt(()=>{g&&Ee(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:M?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(pe=N.transformOrigin)==null?void 0:pe.x,(ie=N.transformOrigin)==null?void 0:ie.y].join(" "),...((xe=N.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(xR,{scope:n,placedSide:A,onArrowChange:E,arrowX:$,arrowY:Z,shouldHideArrow:se,children:o.jsx(Se.div,{"data-side":A,"data-align":O,...x,ref:y,style:{...x.style,animation:M?void 0:"none"}})})})});Jy.displayName=Lh;var Zy="PopperArrow",wR={top:"bottom",right:"left",bottom:"top",left:"right"},ew=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=yR(Zy,r),i=wR[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(gR,{...s,ref:n,style:{...s.style,display:"block"}})})});ew.displayName=Zy;function bR(e){return e!==null}var SR=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=tw(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?f:`${m}px`,x=`${-c}px`):u==="top"?(w=i?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?f:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?f:`${p}px`),{data:{x:w,y:x}}}});function tw(e){const[t,n="center"]=e.split("-");return[t,n]}var NR=Xy,jR=Qy,CR=Jy,kR=ew;function Oh(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ER="VisuallyHidden",TR=d.forwardRef((e,t)=>o.jsx(Se.span,{...e,ref:t,style:{...nw,...e.style}}));TR.displayName=ER;var RR=[" ","Enter","ArrowUp","ArrowDown"],PR=[" ","Enter"],js="Select",[bc,Sc,_R]=Ch(js),[ko,L5]=On(js,[_R,Yy]),Nc=Yy(),[AR,ns]=ko(js),[IR,DR]=ko(js),rw=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:p,form:w}=e,x=Nc(t),[b,g]=d.useState(null),[v,y]=d.useState(null),[j,E]=d.useState(!1),P=Ga(u),[R,T]=bs({prop:r,defaultProp:s??!1,onChange:a,caller:js}),[S,k]=bs({prop:i,defaultProp:l,onChange:c,caller:js}),_=d.useRef(null),C=b?w||!!b.closest("form"):!0,[D,L]=d.useState(new Set),K=Array.from(D).map(U=>U.props.value).join(";");return o.jsx(NR,{...x,children:o.jsxs(AR,{required:p,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:E,contentId:Hr(),value:S,onValueChange:k,open:R,onOpenChange:T,dir:P,triggerPointerDownPosRef:_,disabled:m,children:[o.jsx(bc.Provider,{scope:t,children:o.jsx(IR,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(U=>{L(M=>new Set(M).add(U))},[]),onNativeOptionRemove:d.useCallback(U=>{L(M=>{const N=new Set(M);return N.delete(U),N})},[]),children:n})}),C?o.jsxs(Cw,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:S,onChange:U=>k(U.target.value),disabled:m,form:w,children:[S===void 0?o.jsx("option",{value:""}):null,Array.from(D)]},K):null]})})};rw.displayName=js;var sw="SelectTrigger",ow=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Nc(n),i=ns(sw,n),l=i.disabled||r,c=Re(t,i.onTriggerChange),u=Sc(n),h=d.useRef("touch"),[f,m,p]=Ew(x=>{const b=u().filter(y=>!y.disabled),g=b.find(y=>y.value===i.value),v=Tw(b,x,g);v!==void 0&&i.onValueChange(v.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(jR,{asChild:!0,...a,children:o.jsx(Se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":kw(i.value)?"":void 0,...s,ref:c,onClick:be(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:be(s.onPointerDown,x=>{h.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:be(s.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&RR.includes(x.key)&&(w(),x.preventDefault())})})})});ow.displayName=sw;var aw="SelectValue",iw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=ns(aw,n),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,f=Re(t,c.onValueNodeChange);return xt(()=>{u(h)},[u,h]),o.jsx(Se.span,{...l,ref:f,style:{pointerEvents:"none"},children:kw(c.value)?o.jsx(o.Fragment,{children:i}):a})});iw.displayName=aw;var LR="SelectIcon",lw=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(Se.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});lw.displayName=LR;var OR="SelectPortal",cw=e=>o.jsx(yh,{asChild:!0,...e});cw.displayName=OR;var Cs="SelectContent",uw=d.forwardRef((e,t)=>{const n=ns(Cs,e.__scopeSelect),[r,s]=d.useState();if(xt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?bo.createPortal(o.jsx(dw,{scope:e.__scopeSelect,children:o.jsx(bc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(fw,{...e,ref:t})});uw.displayName=Cs;var Sn=10,[dw,rs]=ko(Cs),MR="SelectContentImpl",$R=mo("SelectContent.RemoveScroll"),fw=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b,...g}=e,v=ns(Cs,n),[y,j]=d.useState(null),[E,P]=d.useState(null),R=Re(t,J=>j(J)),[T,S]=d.useState(null),[k,_]=d.useState(null),C=Sc(n),[D,L]=d.useState(!1),K=d.useRef(!1);d.useEffect(()=>{if(y)return dy(y)},[y]),ny();const U=d.useCallback(J=>{const[ae,...fe]=C().map(xe=>xe.ref.current),[pe]=fe.slice(-1),ie=document.activeElement;for(const xe of J)if(xe===ie||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===ae&&E&&(E.scrollTop=0),xe===pe&&E&&(E.scrollTop=E.scrollHeight),xe==null||xe.focus(),document.activeElement!==ie))return},[C,E]),M=d.useCallback(()=>U([T,y]),[U,T,y]);d.useEffect(()=>{D&&M()},[D,M]);const{onOpenChange:N,triggerPointerDownPosRef:A}=v;d.useEffect(()=>{if(y){let J={x:0,y:0};const ae=pe=>{var ie,xe;J={x:Math.abs(Math.round(pe.pageX)-(((ie=A.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((xe=A.current)==null?void 0:xe.y)??0))}},fe=pe=>{J.x<=10&&J.y<=10?pe.preventDefault():y.contains(pe.target)||N(!1),document.removeEventListener("pointermove",ae),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",fe,{capture:!0})}}},[y,N,A]),d.useEffect(()=>{const J=()=>N(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[N]);const[O,te]=Ew(J=>{const ae=C().filter(ie=>!ie.disabled),fe=ae.find(ie=>ie.ref.current===document.activeElement),pe=Tw(ae,J,fe);pe&&setTimeout(()=>pe.ref.current.focus())}),$=d.useCallback((J,ae,fe)=>{const pe=!K.current&&!fe;(v.value!==void 0&&v.value===ae||pe)&&(S(J),pe&&(K.current=!0))},[v.value]),Z=d.useCallback(()=>y==null?void 0:y.focus(),[y]),se=d.useCallback((J,ae,fe)=>{const pe=!K.current&&!fe;(v.value!==void 0&&v.value===ae||pe)&&_(J)},[v.value]),ce=r==="popper"?Ud:hw,Ee=ce===Ud?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return o.jsx(dw,{scope:n,content:y,viewport:E,onViewportChange:P,itemRefCallback:$,selectedItem:T,onItemLeave:Z,itemTextRefCallback:se,focusSelectedItem:M,selectedItemText:k,position:r,isPositioned:D,searchRef:O,children:o.jsx(wh,{as:$R,allowPinchZoom:!0,children:o.jsx(xh,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:be(s,J=>{var ae;(ae=v.trigger)==null||ae.focus({preventScroll:!0}),J.preventDefault()}),children:o.jsx(vh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(ce,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...g,...Ee,onPlaced:()=>L(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:be(g.onKeyDown,J=>{const ae=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ae&&J.key.length===1&&te(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let pe=C().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(J.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ie=J.target,xe=pe.indexOf(ie);pe=pe.slice(xe+1)}setTimeout(()=>U(pe)),J.preventDefault()}})})})})})})});fw.displayName=MR;var zR="SelectItemAlignedPosition",hw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=ns(Cs,n),i=rs(Cs,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=Re(t,R=>h(R)),m=Sc(n),p=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=i,y=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&b&&g){const R=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),S=a.valueNode.getBoundingClientRect(),k=g.getBoundingClientRect();if(a.dir!=="rtl"){const ie=k.left-T.left,xe=S.left-ie,ye=R.left-xe,$e=R.width+ye,ht=Math.max($e,T.width),I=window.innerWidth-Sn,Y=Aa(xe,[Sn,Math.max(Sn,I-ht)]);l.style.minWidth=$e+"px",l.style.left=Y+"px"}else{const ie=T.right-k.right,xe=window.innerWidth-S.right-ie,ye=window.innerWidth-R.right-xe,$e=R.width+ye,ht=Math.max($e,T.width),I=window.innerWidth-Sn,Y=Aa(xe,[Sn,Math.max(Sn,I-ht)]);l.style.minWidth=$e+"px",l.style.right=Y+"px"}const _=m(),C=window.innerHeight-Sn*2,D=x.scrollHeight,L=window.getComputedStyle(u),K=parseInt(L.borderTopWidth,10),U=parseInt(L.paddingTop,10),M=parseInt(L.borderBottomWidth,10),N=parseInt(L.paddingBottom,10),A=K+U+D+N+M,O=Math.min(b.offsetHeight*5,A),te=window.getComputedStyle(x),$=parseInt(te.paddingTop,10),Z=parseInt(te.paddingBottom,10),se=R.top+R.height/2-Sn,ce=C-se,Ee=b.offsetHeight/2,J=b.offsetTop+Ee,ae=K+U+J,fe=A-ae;if(ae<=se){const ie=_.length>0&&b===_[_.length-1].ref.current;l.style.bottom="0px";const xe=u.clientHeight-x.offsetTop-x.offsetHeight,ye=Math.max(ce,Ee+(ie?Z:0)+xe+M),$e=ae+ye;l.style.height=$e+"px"}else{const ie=_.length>0&&b===_[0].ref.current;l.style.top="0px";const ye=Math.max(se,K+x.offsetTop+(ie?$:0)+Ee)+fe;l.style.height=ye+"px",x.scrollTop=ae-se+x.offsetTop}l.style.margin=`${Sn}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=C+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,b,g,a.dir,r]);xt(()=>y(),[y]);const[j,E]=d.useState();xt(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const P=d.useCallback(R=>{R&&w.current===!0&&(y(),v==null||v(),w.current=!1)},[y,v]);return o.jsx(UR,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});hw.displayName=zR;var FR="SelectPopperPosition",Ud=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Sn,...a}=e,i=Nc(n);return o.jsx(CR,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ud.displayName=FR;var[UR,Mh]=ko(Cs,{}),Bd="SelectViewport",mw=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=rs(Bd,n),i=Mh(Bd,n),l=Re(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(bc.Slot,{scope:n,children:o.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:be(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-h.scrollTop);if(p>0){const w=window.innerHeight-Sn*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),g=Math.max(x,b);if(g<w){const v=g+p,y=Math.min(w,v),j=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});mw.displayName=Bd;var pw="SelectGroup",[BR,WR]=ko(pw),VR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Hr();return o.jsx(BR,{scope:n,id:s,children:o.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:t})})});VR.displayName=pw;var gw="SelectLabel",HR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=WR(gw,n);return o.jsx(Se.div,{id:s.id,...r,ref:t})});HR.displayName=gw;var Bl="SelectItem",[KR,vw]=ko(Bl),xw=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=ns(Bl,n),c=rs(Bl,n),u=l.value===r,[h,f]=d.useState(a??""),[m,p]=d.useState(!1),w=Re(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,r,s)}),x=Hr(),b=d.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(KR,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(bc.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Se.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:be(i.onFocus,()=>p(!0)),onBlur:be(i.onBlur,()=>p(!1)),onClick:be(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:be(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:be(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:be(i.onPointerMove,v=>{var y;b.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(i.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:be(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(PR.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});xw.displayName=Bl;var Qo="SelectItemText",yw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=ns(Qo,n),l=rs(Qo,n),c=vw(Qo,n),u=DR(Qo,n),[h,f]=d.useState(null),m=Re(t,g=>f(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),p=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return xt(()=>(x(w),()=>b(w)),[x,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(Se.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?bo.createPortal(a.children,i.valueNode):null]})});yw.displayName=Qo;var ww="SelectItemIndicator",bw=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return vw(ww,n).isSelected?o.jsx(Se.span,{"aria-hidden":!0,...r,ref:t}):null});bw.displayName=ww;var Wd="SelectScrollUpButton",Sw=d.forwardRef((e,t)=>{const n=rs(Wd,e.__scopeSelect),r=Mh(Wd,e.__scopeSelect),[s,a]=d.useState(!1),i=Re(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(jw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Sw.displayName=Wd;var Vd="SelectScrollDownButton",Nw=d.forwardRef((e,t)=>{const n=rs(Vd,e.__scopeSelect),r=Mh(Vd,e.__scopeSelect),[s,a]=d.useState(!1),i=Re(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(jw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Nw.displayName=Vd;var jw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=rs("SelectScrollButton",n),i=d.useRef(null),l=Sc(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),xt(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:be(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:be(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:be(s.onPointerLeave,()=>{c()})})}),YR="SelectSeparator",GR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(Se.div,{"aria-hidden":!0,...r,ref:t})});GR.displayName=YR;var Hd="SelectArrow",XR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Nc(n),a=ns(Hd,n),i=rs(Hd,n);return a.open&&i.position==="popper"?o.jsx(kR,{...s,...r,ref:t}):null});XR.displayName=Hd;var qR="SelectBubbleInput",Cw=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),a=Re(r,s),i=Oh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(Se.select,{...n,style:{...nw,...n.style},ref:a,defaultValue:t})});Cw.displayName=qR;function kw(e){return e===""||e===void 0}function Ew(e){const t=It(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Tw(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=QR(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function QR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var JR=rw,ZR=ow,eP=iw,tP=lw,nP=cw,rP=uw,sP=mw,oP=xw,aP=yw,iP=bw,lP=Sw,cP=Nw;function $h({...e}){return o.jsx(JR,{"data-slot":"select",...e})}function zh({...e}){return o.jsx(eP,{"data-slot":"select-value",...e})}function Fh({className:e,size:t="default",children:n,...r}){return o.jsxs(ZR,{"data-slot":"select-trigger","data-size":t,className:Te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(tP,{asChild:!0,children:o.jsx(k0,{className:"size-4 opacity-50"})})]})}function Uh({className:e,children:t,position:n="popper",...r}){return o.jsx(nP,{children:o.jsxs(rP,{"data-slot":"select-content",className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(uP,{}),o.jsx(sP,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(dP,{})]})})}function Vn({className:e,children:t,...n}){return o.jsxs(oP,{"data-slot":"select-item",className:Te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(iP,{children:o.jsx(Pa,{className:"size-4"})})}),o.jsx(aP,{children:t})]})}function uP({className:e,...t}){return o.jsx(lP,{"data-slot":"select-scroll-up-button",className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(pC,{className:"size-4"})})}function dP({className:e,...t}){return o.jsx(cP,{"data-slot":"select-scroll-down-button",className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(k0,{className:"size-4"})})}const fP=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function bu({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,a]=d.useState(""),[i,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,p]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(),[v,y]=d.useState(!1),j=fP(e),E=C=>{switch(C){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},P=async(C=!1)=>{try{C?y(!0):f(!0),p(null);const D=await fs.getContents({type:E(e),query:s||void 0,sortBy:i==="latest"||i==="rating"?"RELEASE_AT":i==="title"?"TITLE":"RELEASE_AT",direction:i==="title"?"ASC":"DESC",cursor:C?b:void 0,size:20});u(C?L=>[...L,...D.data]:D.data),x(D.hasNext),g(D.nextCursor)}catch(D){console.error("  :",D),p(D instanceof Error?D.message:"    .")}finally{f(!1),y(!1)}};d.useEffect(()=>{P(!1)},[e]),d.useEffect(()=>{const C=setTimeout(()=>{P(!1)},300);return()=>clearTimeout(C)},[s,i]);const R=()=>{w&&!h&&!v&&P(!0)},T=C=>({id:C.id,title:C.title,thumbnail:C.thumbnailUrl||C.thumbnail||"",type:C.contentType.toLowerCase(),duration:C.duration||"120",description:C.description||"",rating:C.avgRating,reviewCount:C.reviewCount,year:C.year||new Date(C.releaseDate).getFullYear()}),S=C=>{r==null||r(T(C))},k=C=>{t(T(C))},_=C=>{n==null||n(T(C))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:j}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ve,{placeholder:`${j} ...`,value:s,onChange:C=>a(C.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs($h,{value:i,onValueChange:l,children:[o.jsx(Fh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(zh,{placeholder:""})}),o.jsxs(Uh,{children:[o.jsx(Vn,{value:"latest",children:""}),o.jsx(Vn,{value:"rating",children:"  "}),o.jsx(Vn,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?" ...":`${c.length} `}),o.jsx(Rn,{variant:"outline",className:fs.getTypeColor(E(e)),children:j})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(B,{onClick:()=>P(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(C=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>_(C),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[C.thumbnailUrl?o.jsx("img",{src:C.thumbnailUrl,alt:C.title,className:"w-full h-full object-cover",onError:D=>{var L;D.currentTarget.style.display="none",(L=D.currentTarget.nextElementSibling)==null||L.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${C.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:C.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(B,{size:"sm",onClick:D=>{D.stopPropagation(),k(C)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(B,{size:"sm",variant:"outline",onClick:D=>{D.stopPropagation(),S(C)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:C.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:C.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[C.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:`w-4 h-4 ${C.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:C.avgRating.toFixed(2)}),C.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",C.reviewCount,")"]})]}),C.year&&o.jsx("span",{className:"text-xs text-white/60",children:C.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:C.duration}),o.jsx(Rn,{variant:"outline",className:fs.getTypeColor(C.contentType),children:fs.getTypeLabel(C.contentType)})]})]})]},C.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx(B,{onClick:R,disabled:v,variant:"outline",className:"border-white/20 hover:bg-white/5",children:v?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(uh,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${j}  .`}),s&&o.jsxs(B,{variant:"outline",onClick:()=>a(""),className:"border-white/20 hover:bg-white/5",children:[" ",j," "]})]})]})]})})}function gg({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Te("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}class hP{constructor(){gt(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok){console.log("HTTP  :",n.status),console.log("HTTP   :",n.statusText);let s=`  . Status: ${n.status}`,a=null;try{a=await n.json(),console.log("  :",a),s=a.message||s}catch(i){console.log("  JSON  :",i);try{const l=await n.text();console.log("  :",l),s=l||s}catch(l){console.log("    :",l)}}throw console.log("  :",s),n.status===409||n.status===400||s.includes("")||s.includes("")||s.includes("duplicate")||s.includes("already")||s.includes("DuplicateReview")?(console.log("   "),new Error("DUPLICATE_REVIEW")):new Error(s)}return await n.json()}catch(n){throw console.error("  :",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}}const Mi=new hP,$i=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,a]=d.useState(0),i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,h)=>{if(!t||!r)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,p=f.width,x=m<p/2?u-.5:u;r(x)},c=(u,h)=>{if(!t)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,p=f.width,x=m<p/2?u-.5:u;a(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const h=s||e,f=u-.5<=h&&u>h,m=u<=h;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(Xr,{className:`${i[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?p=>l(u,p):void 0,onMouseMove:t?p=>c(u,p):void 0,onMouseLeave:t?()=>a(0):void 0}),(m||f)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${f?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(Xr,{className:`${i[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function mP({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,a]=d.useState(""),[i,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(null),[v,y]=d.useState(""),[j,E]=d.useState(0),[P,R]=d.useState(!1),[T,S]=d.useState(null),k=async()=>{f(!0);try{const A=(await Mi.getReviewsByContentId(e.id)).map(O=>({...O,contentId:e.id,createdAt:new Date().toISOString(),user:{id:O.authorId,name:O.authorName,avatar:O.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(A)}catch(N){console.error("  :",N)}finally{f(!1)}},_=c.length>0?c.reduce((N,A)=>N+A.rating,0)/c.length:0,C=async()=>{if(!(!s.trim()||i===0||!r)){p(!0),x(null);try{const N={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:i},O={...await Mi.createReview(N),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([O,...c]),a(""),l(0),Bo.success("  ")}catch(N){if(console.error("  :",N),console.log("Error type:",typeof N),console.log("Error message:",N instanceof Error?N.message:String(N)),N instanceof Error)if(N.message==="DUPLICATE_REVIEW"){const A="   .       .";x(A),alert(A),Bo.error("   ",{description:"      ."})}else if(N.message.includes("")||N.message.includes("")){const A="   .       .";x(A),alert(A),Bo.error("   ",{description:"      ."})}else{const A=N.message||"  .    .";x(A),alert(A),Bo.error("  ",{description:N.message||"   ."})}else{const A="  .    .";x(A),alert(A),Bo.error("  ",{description:"   ."})}}finally{p(!1)}}},D=N=>{g(N),y(N.comment),E(N.rating)},L=()=>{g(null),y(""),E(0)},K=async()=>{if(!(!b||!v.trim()||j===0)){R(!0);try{const N={title:v.trim().substring(0,100),comment:v.trim(),rating:j},A=await Mi.updateReview(b.id,N);u(c.map(O=>O.id===b.id?{...O,...A}:O)),L()}catch(N){console.error("  :",N)}finally{R(!1)}}},U=async N=>{S(N);try{await Mi.deleteReview(N),u(c.filter(A=>A.id!==N))}catch(A){console.error("  :",A)}finally{S(null)}};d.useEffect(()=>{e.id&&k()},[e.id]);const M=N=>{switch(N){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs(B,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(No,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:e.thumbnail?o.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:M(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Rn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:M(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($i,{rating:_,size:"lg"}),o.jsx("span",{className:"text-xl",children:_%1===0?_.toFixed(0):_.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs(B,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(Et,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx($i,{rating:i,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(gg,{value:s,onChange:N=>{a(N.target.value),w&&x(null)},placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),w&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs(B,{onClick:C,disabled:!s.trim()||i===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(dh,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(N=>{var A,O,te,$;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(b==null?void 0:b.id)===N.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(st,{children:[o.jsx(ot,{src:(A=N.user)==null?void 0:A.avatar}),o.jsx(at,{children:((O=N.authorName)==null?void 0:O[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:N.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx($i,{rating:j,editable:!0,size:"lg",onChange:E})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(gg,{value:v,onChange:Z=>y(Z.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{onClick:K,disabled:!v.trim()||j===0||P,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:P?" ...":" "}),o.jsx(B,{onClick:L,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(st,{children:[o.jsx(ot,{src:(te=N.user)==null?void 0:te.avatar}),o.jsx(at,{children:(($=N.authorName)==null?void 0:$[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:N.authorName||" "}),o.jsx($i,{rating:N.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:N.createdAt?new Date(N.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:N.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&N.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>D(N),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(jC,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>U(N.id),disabled:T===N.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(_a,{className:"w-4 h-4 mr-1"}),T===N.id?" ...":""]})]})})]})]})},N.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function pP({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:a,refreshUserProfile:i,onPlaylistOpen:l}){const[c,u]=d.useState(""),[h,f]=d.useState("user@moplay.kr"),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(""),[v,y]=d.useState(!1),[j,E]=d.useState(null),[P,R]=d.useState(null),[T,S]=d.useState([]),[k,_]=d.useState([]),[C,D]=d.useState(!1),[L,K]=d.useState(!1),[U,M]=d.useState("profile"),[N,A]=d.useState([]),[O,te]=d.useState(""),[$,Z]=d.useState(""),[se,ce]=d.useState(""),[Ee,J]=d.useState(""),ae=r||n,fe=!!(r&&r!==n);d.useEffect(()=>{e&&(E(null),ae?(pe(),ie(),xe(),ht(),fe&&ye()):E("  .  ."))},[e,ae,fe]);const pe=async()=>{try{const F=await s(`http://localhost:8080/api/users/${ae}`);if(!F.ok)throw new Error("   .");const W=await F.json();R(W),u(W.name),f(W.email)}catch(F){console.error("   :",F),E("   .")}},ie=async()=>{try{const F=await s(`http://localhost:8080/api/follows/${ae}/followers`);if(!F.ok)throw new Error("   .");const W=await F.json();S(W)}catch(F){console.error("   :",F),S([])}},xe=async()=>{try{const F=await s(`http://localhost:8080/api/follows/${ae}/following`);if(!F.ok)throw new Error("   .");const W=await F.json();_(W)}catch(F){console.error("   :",F),_([])}},ye=async()=>{if(!(!n||!ae))try{const F=await s(`http://localhost:8080/api/follows/${n}/is-following/${ae}`);if(!F.ok)throw new Error("   .");const W=await F.json();D(W)}catch(F){console.error("   :",F),D(!1)}},$e=async()=>{if(!(!n||!ae)){K(!0);try{if(C){if(!(await s(`http://localhost:8080/api/follows/${ae}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");D(!1),S(W=>W.filter(ee=>ee.id!==n))}else{const F=new FormData;if(F.append("followerId",n),F.append("followingId",ae),!(await s("http://localhost:8080/api/follows",{method:"POST",body:F})).ok)throw new Error(" .");D(!0),P&&S(ee=>[...ee,{id:n,name:"",email:"",profileImage:""}])}}catch(F){console.error("  :",F),alert(F instanceof Error?F.message:"    .")}finally{K(!1)}}},ht=async()=>{if(ae)try{const F=await s(`http://localhost:8080/api/users/${ae}/playlists`);if(!F.ok)throw new Error("   .");const W=await F.json(),ee=fe?W.filter(we=>we.isPublic):W;A(ee)}catch(F){console.error("   :",F),A([])}},I=F=>{a&&(t(),a(F))},Y=F=>{F?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(F)?ce(""):ce(" 8 , , ,   ."):ce("")},ne=F=>{J(F!==O?"  .":"")},X=async()=>{y(!0),E(null);try{if(!n){E("  .  ."),y(!1);return}if(!b.trim()){E("     ."),y(!1);return}if(O){if(se||Ee){E("    ."),y(!1);return}if(!$){E("  ."),y(!1);return}if(O!==$){E("  ."),y(!1);return}}const F=new FormData,W={newName:c,currentPassword:b};O&&(W.newPassword=O),console.log("Request data:",W);const ee=new Blob([JSON.stringify(W)],{type:"application/json"});F.append("request",ee),w&&(F.append("profile",w),console.log("Profile image added:",w.name)),console.log("FormData entries:");for(let[ke,he]of F.entries())console.log(ke,he);const we=await fetch(`http://localhost:8080/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:F});if(!we.ok){const ke=await we.json();throw new Error(ke.message||"  .")}const Ce=await we.json();R(Ce),u(Ce.name),f(Ce.email),x(null),await pe(),alert("  ."),i&&i(),g(""),t()}catch(F){console.error("  :",F),E(F instanceof Error?F.message:"    .")}finally{y(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:fe?`${(P==null?void 0:P.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[fe&&o.jsx(B,{onClick:$e,disabled:L,className:`${C?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:L?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):C?o.jsxs(o.Fragment,{children:[o.jsx(R0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(hh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(An,{className:"w-5 h-5"})})]})]}),j&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:j}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(st,{className:"h-20 w-20 mb-4",children:[o.jsx(ot,{src:w?URL.createObjectURL(w):P==null?void 0:P.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!fe&&o.jsx(B,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>p(!m),children:o.jsx(C0,{className:"w-4 h-4"})})]}),m&&!fe&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(Q0,{selectedImage:w,onImageSelect:x,onClose:()=>p(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:T.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:k.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx(B,{variant:U==="profile"?"default":"ghost",size:"sm",onClick:()=>M("profile"),className:U==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs(B,{variant:U==="followers"?"default":"ghost",size:"sm",onClick:()=>M("followers"),className:`${U==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx($t,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(B,{variant:U==="following"?"default":"ghost",size:"sm",onClick:()=>M("following"),className:`${U==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(B,{variant:U==="playlists"?"default":"ghost",size:"sm",onClick:()=>M("playlists"),className:`${U==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(uu,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[U==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ht,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(Ve,{id:"name",value:c,onChange:F=>u(F.target.value),disabled:fe,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${fe?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Ht,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(Ve,{id:"email",value:h,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!fe&&o.jsxs("div",{children:[o.jsxs(Ht,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Ve,{id:"password",type:"password",value:b,onChange:F=>g(F.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"      ."}),!fe&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-4",children:[o.jsx(Ht,{htmlFor:"newPassword",className:"text-sm",children:"  ()"}),o.jsx(Ve,{id:"newPassword",type:"password",value:O,onChange:F=>{const W=F.target.value;te(W),Y(W)},placeholder:"   ()",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),se&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:se})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Ht,{htmlFor:"confirmPassword",className:"text-sm",children:"  "}),o.jsx(Ve,{id:"confirmPassword",type:"password",value:$,onChange:F=>{const W=F.target.value;Z(W),ne(W)},placeholder:"   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),Ee&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:Ee})]})]})]})]}),U==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[T.map(F=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>F.id&&I(F.id),children:[o.jsxs(st,{className:"h-10 w-10",children:[o.jsx(ot,{src:F.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:F.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:F.name}),o.jsx("p",{className:"text-white/60 text-sm",children:F.email})]})]},F.id)),T.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx($t,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),U==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[k.map(F=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>F.id&&I(F.id),children:[o.jsxs(st,{className:"h-10 w-10",children:[o.jsx(ot,{src:F.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:F.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:F.name}),o.jsx("p",{className:"text-white/60 text-sm",children:F.email})]})]},F.id)),k.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Gr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),U==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[N.map(F=>{var W;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l(F.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:F.thumbnail?o.jsx("img",{src:F.thumbnail,alt:F.title||F.name,className:"w-full h-full object-cover"}):o.jsx(uu,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:F.title||F.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[F.contentCount||((W=F.playlistContents)==null?void 0:W.length)||0," ",F.isPublic?"  ":"  "]})]})]},F.id)}),N.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(uu,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:fe?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(B,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:v,children:fe?"":""}),!fe&&o.jsx(B,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:X,disabled:v||!n,children:v?" ...":""})]})]})]}):null}class gP{constructor(t){gt(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t="http://localhost:8080/api/dmRooms/";console.log("  DM   :",{url:t});const n=await this.authenticatedFetch(t);if(!n.ok)throw console.error(" DM   :",n.status,n.statusText),new Error(`Failed to fetch DM rooms: ${n.status} ${n.statusText}`);const r=await n.json();return console.log(" DM   :",r),r}async getRoom(t){const n=`http://localhost:8080/api/dmRooms/${t}`;console.log(" DM   :",{dmRoomId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM   :",r.status,r.statusText),new Error(`Failed to fetch DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM   :",s),s}async getOrCreateRoom(t){const n=`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`;console.log(" DM  / :",{userBId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM  / :",r.status,r.statusText),new Error(`Failed to get or create DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM  / :",s),s}async getDmMessages(t,n){const r=new URLSearchParams;n!=null&&n.cursor&&r.append("cursor",n.cursor),n!=null&&n.size&&r.append("size",n.size.toString());const s=`http://localhost:8080/api/dmRooms/${t}/dms${r.toString()?"?"+r.toString():""}`;console.log(" DM   :",{roomId:t,pagingDto:n,url:s});const a=await this.authenticatedFetch(s);if(!a.ok)throw console.error(" DM   :",a.status,a.statusText),new Error(`Failed to fetch DM messages: ${a.status} ${a.statusText}`);const i=await a.json();return console.log(" DM   :",i),i}async getFollowing(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}var Rw="AlertDialog",[vP,O5]=On(Rw,[hy]),br=hy(),Pw=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Ry,{...r,...n,modal:!0})};Pw.displayName=Rw;var xP="AlertDialogTrigger",yP=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Z4,{...s,...r,ref:t})});yP.displayName=xP;var wP="AlertDialogPortal",_w=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Py,{...r,...n})};_w.displayName=wP;var bP="AlertDialogOverlay",Aw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(_y,{...s,...r,ref:t})});Aw.displayName=bP;var oo="AlertDialogContent",[SP,NP]=vP(oo),jP=dk("AlertDialogContent"),Iw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=br(n),i=d.useRef(null),l=Re(t,i),c=d.useRef(null);return o.jsx(X4,{contentName:oo,titleName:Dw,docsSlug:"alert-dialog",children:o.jsx(SP,{scope:n,cancelRef:c,children:o.jsxs(Ay,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:be(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(jP,{children:r}),o.jsx(kP,{contentRef:i})]})})})});Iw.displayName=oo;var Dw="AlertDialogTitle",Lw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Iy,{...s,...r,ref:t})});Lw.displayName=Dw;var Ow="AlertDialogDescription",Mw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(eT,{...s,...r,ref:t})});Mw.displayName=Ow;var CP="AlertDialogAction",$w=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(jh,{...s,...r,ref:t})});$w.displayName=CP;var zw="AlertDialogCancel",Fw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=NP(zw,n),a=br(n),i=Re(t,s);return o.jsx(jh,{...a,...r,ref:i})});Fw.displayName=zw;var kP=({contentRef:e})=>{const t=`\`${oo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${oo}\` by passing a \`${Ow}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},EP=Pw,TP=_w,RP=Aw,PP=Iw,_P=$w,AP=Fw,IP=Lw,DP=Mw;function Bh({...e}){return o.jsx(EP,{"data-slot":"alert-dialog",...e})}function LP({...e}){return o.jsx(TP,{"data-slot":"alert-dialog-portal",...e})}function OP({className:e,...t}){return o.jsx(RP,{"data-slot":"alert-dialog-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Wh({className:e,...t}){return o.jsxs(LP,{children:[o.jsx(OP,{}),o.jsx(PP,{"data-slot":"alert-dialog-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Vh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:Te("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Hh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:Te("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Kh({className:e,...t}){return o.jsx(IP,{"data-slot":"alert-dialog-title",className:Te("text-lg font-semibold",e),...t})}function Yh({className:e,...t}){return o.jsx(DP,{"data-slot":"alert-dialog-description",className:Te("text-muted-foreground text-sm",e),...t})}function Gh({className:e,...t}){return o.jsx(_P,{className:Te(ph(),e),...t})}function Uw({className:e,...t}){return o.jsx(AP,{className:Te(ph({variant:"outline"}),e),...t})}function MP({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:a,getOrCreateDmRoom:i,refreshTrigger:l}){const[c,u]=d.useState(""),[h,f]=d.useState(!1),[m,p]=d.useState([]),[w,x]=d.useState([]),[b,g]=d.useState(!1),[v,y]=d.useState(null),[j,E]=d.useState(!1),[P,R]=d.useState(null),[T,S]=d.useState(!1),k=new gP(r),_=m.filter($=>$.name.toLowerCase().includes(c.toLowerCase())),C=w.filter($=>$.name.toLowerCase().includes(c.toLowerCase())),D=$=>{console.log(`Opening conversation with ${$.name}`),n({id:$.userId,name:$.name,avatar:$.avatar,isOnline:$.isOnline,roomId:$.id})},L=()=>{f(!0),u("")},K=()=>{f(!1),u("")},U=async $=>{try{g(!0);const Z=await i($.id);console.log(`Starting new conversation with ${$.name}, room: ${Z}`),n({id:$.id,name:$.name,avatar:$.avatar,isOnline:$.isOnline,roomId:Z}),f(!1),u("")}catch(Z){console.error("Error starting conversation:",Z),y("   .")}finally{g(!1)}},M=($,Z)=>{$.stopPropagation(),R(Z),E(!0)},N=async()=>{if(P)try{if(S(!0),!(await r(`http://localhost:8080/api/dmRooms/${P}`,{method:"DELETE"})).ok)throw new Error("DM   ");await O(),E(!1),R(null)}catch($){console.error("Error deleting DM room:",$),y("   .")}finally{S(!1)}},A=()=>{E(!1),R(null)};d.useEffect(()=>{e&&s&&(O(),te())},[e,s]),d.useEffect(()=>{console.log("DMList - refreshTrigger  :",l),e&&s&&l!==void 0&&l>0&&(console.log("DMList - DM     - :",l),g(!0),y(null),O().then(()=>{console.log(" DM    ")}).catch($=>{console.error(" DM    :",$)}))},[l,e,s]);const O=async()=>{try{g(!0),y(null);const Z=(await a()).map(se=>{const ce=se.senderId===s?{id:se.receiverId,name:se.receiverName,avatar:"",isOnline:!1}:{id:se.senderId,name:se.senderName,avatar:"",isOnline:!1},Ee=J=>{const ae=new Date(J),pe=new Date().getTime()-ae.getTime(),ie=Math.floor(pe/(1e3*60)),xe=Math.floor(pe/(1e3*60*60)),ye=Math.floor(pe/(1e3*60*60*24));return ie<1?" ":ie<60?`${ie} `:xe<24?`${xe} `:ye===1?"":`${ye} `};return{id:se.id,userId:(ce==null?void 0:ce.id)||"",name:(ce==null?void 0:ce.name)||"   ",avatar:(ce==null?void 0:ce.avatar)||"",lastMessage:se.lastMessage||"  ",timestamp:(se.lastMessage,Ee(se.createdAt)),unreadCount:se.newMessageCount||0,isOnline:(ce==null?void 0:ce.isOnline)||!1}});p(Z)}catch($){console.error("Error loading DM rooms:",$),y("    .")}finally{g(!1)}},te=async()=>{if(s)try{const Z=(await k.getFollowing(s)).map(se=>({id:se.id,name:se.name||"   ",avatar:se.profileImage||"",isOnline:!1,mutualFriends:0}));x(Z)}catch($){console.error("Error loading chat partners:",$)}};return e?o.jsxs("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[h&&o.jsx(B,{variant:"ghost",size:"sm",onClick:K,className:"p-1 hover:bg-white/10",children:o.jsx(No,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:h?" ":""})]}),o.jsx(B,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(An,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Ve,{placeholder:" ...",value:c,onChange:$=>u($.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:h?o.jsx(o.Fragment,{children:C.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:c?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:C.map($=>o.jsxs("div",{onClick:()=>U($),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(st,{className:"h-14 w-14",children:[o.jsx(ot,{src:$.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:$.name.charAt(0)})]}),$.isOnline&&o.jsx(Ip,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:$.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",$.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:$.isOnline?"":""})]},$.id))})}):o.jsxs(o.Fragment,{children:[b&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),v&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:v}),!b&&!v&&_.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:c?"  ":" "}),!b&&!v&&_.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:_.map($=>o.jsxs("div",{onClick:()=>D($),className:"group flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(st,{className:"h-14 w-14",children:[o.jsx(ot,{src:$.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:$.name.charAt(0)})]}),$.isOnline&&o.jsx(Ip,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:$.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:$.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:$.lastMessage}),$.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:$.unreadCount>9?"9+":$.unreadCount})]})]}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:o.jsx(B,{variant:"ghost",size:"sm",onClick:Z=>M(Z,$.id),className:"p-2 hover:bg-red-500/20 text-white/60 hover:text-red-400",children:o.jsx(_a,{className:"w-4 h-4"})})})]},$.id))})]})}),!h&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs(B,{onClick:L,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx($t,{className:"w-5 h-5 mr-2"})," "]})})]}),o.jsx(Bh,{open:j,onOpenChange:E,children:o.jsxs(Wh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(Vh,{children:[o.jsx(Kh,{className:"text-white",children:" "}),o.jsx(Yh,{className:"text-white/70",children:" ?     ."})]}),o.jsxs(Hh,{children:[o.jsx(Uw,{onClick:A,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:""}),o.jsx(Gh,{onClick:N,disabled:T,className:"bg-red-600 hover:bg-red-700 text-white",children:T?" ...":""})]})]})})]}):null}function $P(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Xh="ScrollArea",[Bw,M5]=On(Xh),[zP,vn]=Bw(Xh),Ww=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[p,w]=d.useState(null),[x,b]=d.useState(null),[g,v]=d.useState(0),[y,j]=d.useState(0),[E,P]=d.useState(!1),[R,T]=d.useState(!1),S=Re(t,_=>c(_)),k=Ga(s);return o.jsx(zP,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:j,children:o.jsx(Se.div,{dir:k,...i,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});Ww.displayName=Xh;var Vw="ScrollAreaViewport",Hw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=vn(Vw,n),l=d.useRef(null),c=Re(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Se.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Hw.displayName=Vw;var tr="ScrollAreaScrollbar",Kw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=vn(tr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(FP,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(UP,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(Yw,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(qh,{...r,ref:t}):null});Kw.displayName=tr;var FP=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=vn(tr,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(wr,{present:n||a,children:o.jsx(Yw,{"data-state":a?"visible":"hidden",...r,ref:t})})}),UP=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=vn(tr,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Cc(()=>c("SCROLL_END"),100),[l,c]=$P("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=a?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const p=u[h];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(wr,{present:n||l!=="hidden",children:o.jsx(qh,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Yw=d.forwardRef((e,t)=>{const n=vn(tr,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=Cc(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:h)}},10);return vo(n.viewport,c),vo(n.content,c),o.jsx(wr,{present:r||a,children:o.jsx(qh,{"data-state":a?"visible":"hidden",...s,ref:t})})}),qh=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=vn(tr,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Jw(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return YP(m,i.current,l,p)}return n==="horizontal"?o.jsx(BP,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=vg(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(WP,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=vg(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),BP=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=vn(tr,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Re(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Xw,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jc(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),eb(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Vl(i.paddingLeft),paddingEnd:Vl(i.paddingRight)}})}})}),WP=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=vn(tr,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Re(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Xw,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jc(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),eb(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Vl(i.paddingTop),paddingEnd:Vl(i.paddingBottom)}})}})}),[VP,Gw]=Bw(tr),Xw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,p=vn(tr,n),[w,x]=d.useState(null),b=Re(t,S=>x(S)),g=d.useRef(null),v=d.useRef(""),y=p.viewport,j=r.content-r.viewport,E=It(h),P=It(c),R=Cc(f,10);function T(S){if(g.current){const k=S.clientX-g.current.left,_=S.clientY-g.current.top;u({x:k,y:_})}}return d.useEffect(()=>{const S=k=>{const _=k.target;(w==null?void 0:w.contains(_))&&E(k,j)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[y,w,j,E]),d.useEffect(P,[r,P]),vo(w,R),vo(p.content,R),o.jsx(VP,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:It(a),onThumbPointerUp:It(i),onThumbPositionChange:P,onThumbPointerDown:It(l),children:o.jsx(Se.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:be(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(S))}),onPointerMove:be(e.onPointerMove,T),onPointerUp:be(e.onPointerUp,S=>{const k=S.target;k.hasPointerCapture(S.pointerId)&&k.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),Wl="ScrollAreaThumb",qw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gw(Wl,e.__scopeScrollArea);return o.jsx(wr,{present:n||s.hasThumb,children:o.jsx(HP,{ref:t,...r})})}),HP=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=vn(Wl,n),i=Gw(Wl,n),{onThumbPositionChange:l}=i,c=Re(t,f=>i.onThumbChange(f)),u=d.useRef(void 0),h=Cc(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(h(),!u.current){const p=GP(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,h,l]),o.jsx(Se.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,x=f.clientY-p.top;i.onThumbPointerDown({x:w,y:x})}),onPointerUp:be(e.onPointerUp,i.onThumbPointerUp)})});qw.displayName=Wl;var Qh="ScrollAreaCorner",Qw=d.forwardRef((e,t)=>{const n=vn(Qh,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(KP,{...e,ref:t}):null});Qw.displayName=Qh;var KP=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=vn(Qh,n),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return vo(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),vo(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),i(h)}),u?o.jsx(Se.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Vl(e){return e?parseInt(e,10):0}function Jw(e,t){const n=e/t;return isNaN(n)?0:n}function jc(e){const t=Jw(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function YP(e,t,n,r="ltr"){const s=jc(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return Zw([c,u],f)(e)}function vg(e,t,n="ltr"){const r=jc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Aa(e,c);return Zw([0,i],[0,l])(u)}function Zw(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function eb(e,t){return e>0&&e<t}var GP=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Cc(e,t){const n=It(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function vo(e,t){const n=It(t);xt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var XP=Ww,qP=Hw,QP=Qw;function JP({className:e,children:t,...n}){return o.jsxs(XP,{"data-slot":"scroll-area",className:Te("relative",e),...n,children:[o.jsx(qP,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(ZP,{}),o.jsx(QP,{})]})}function ZP({className:e,orientation:t="vertical",...n}){return o.jsx(Kw,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Te("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(qw,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function e_(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=i=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),a==null||a.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Jo={LF:`
`,NULL:"\0"};class Ir{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=a=>a.replace(/^\s+|\s+$/g,"");for(const a of t.headers.reverse()){a.indexOf(":");const i=s(a[0]);let l=s(a[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=Ir.hdrValueUnEscape(l)),r[i]=l}return new Ir({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Ir.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Jo.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${Ir.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Jo.LF)+Jo.LF+Jo.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),a=new Uint8Array(r.length+n.length+s.length);return a.set(r),a.set(n,r.length),a.set(s,r.length+n.length),a}static marshall(t){return new Ir(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const xg=0,zi=10,Fi=13,t_=58;class n_{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const a=r[s];this._onByte(a)}}_collectFrame(t){if(t!==xg&&t!==Fi){if(t===zi){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Fi){if(t===zi){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Fi){if(t===zi){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===t_){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Fi){if(t===zi){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===xg){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Dr;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Dr||(Dr={}));var Nn;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Nn||(Nn={}));var Hl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Hl||(Hl={}));var La;(function(e){e.Interval="interval",e.Worker="worker"})(La||(La={}));class r_{constructor(t,n=La.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===La.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Mt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Mt.V1_0="1.0";Mt.V1_1="1.1";Mt.V1_2="1.2";Mt.default=new Mt([Mt.V1_2,Mt.V1_1,Mt.V1_0]);class s_{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Mt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const a=s.headers.subscription,i=this._subscriptions[a]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===Mt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,a,h),l.nack=(h={})=>c.nack(u,a,h),i(l)},RECEIPT:s=>{const a=this._receiptWatchers[s.headers["receipt-id"]];a?(a(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new n_(n=>{const r=Ir.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==Mt.V1_1&&t.version!==Mt.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new r_(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Dr.OPEN&&(this._webSocket.send(Jo.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>s*2&&(this.debug(`did not receive server activity for the last ${a}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Dr.CONNECTING||this._webSocket.readyState===Dr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&e_(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=new Ir({command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Dr.CONNECTING||this._webSocket.readyState===Dr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:a,skipContentLengthHeader:i})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(a){return s.unsubscribe(r.id,a)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===Mt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===Mt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class tb{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Nn.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=Mt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Hl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=La.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Nn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Nn.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Nn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new s_(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Nn.DEACTIVATING&&this._changeState(Nn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Hl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var a;const n=t.force||!1,r=this.active;let s;if(this.state===Nn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Nn.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Dr.CLOSED){const i=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState(Nn.INACTIVE),Promise.resolve();return n?(a=this._stompHandler)==null||a.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var nb={exports:{}},Kd={};globalThis.crypto&&globalThis.crypto.getRandomValues?Kd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Kd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var o_=Kd,yg="abcdefghijklmnopqrstuvwxyz012345",Eo={string:function(e){for(var t=yg.length,n=o_.randomBytes(e),r=[],s=0;s<e;s++)r.push(yg.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=Eo,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,l),globalThis.attachEvent("on"+i,l))},detachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,l),globalThis.detachEvent("on"+i,l))},unloadAdd:function(i){if(s)return null;var l=t.string(8);return n[l]=i,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in n&&delete n[i]},triggerUnloadCallbacks:function(){for(var i in n)n[i](),delete n[i]}};var a=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)})(nb);var ss=nb.exports,a_=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},Jh={},i_=Object.prototype.hasOwnProperty,l_;function wg(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function bg(e){try{return encodeURIComponent(e)}catch{return null}}function c_(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=wg(r[1]),a=wg(r[2]);s===null||a===null||s in n||(n[s]=a)}return n}function u_(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(i_.call(e,s)){if(r=e[s],!r&&(r===null||r===l_||isNaN(r))&&(r=""),s=bg(s),r=bg(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}Jh.stringify=u_;Jh.parse=c_;var rb=a_,kc=Jh,d_=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,sb=/[\n\r\t]/g,f_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ob=/:\d+$/,h_=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,m_=/^[a-zA-Z]:/;function Zh(e){return(e||"").toString().replace(d_,"")}var Yd=[["#","hash"],["?","query"],function(t,n){return Gn(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Sg={hash:1,query:1};function ab(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,a;if(e.protocol==="blob:")r=new Qn(unescape(e.pathname),{});else if(s==="string"){r=new Qn(e,{});for(a in Sg)delete r[a]}else if(s==="object"){for(a in e)a in Sg||(r[a]=e[a]);r.slashes===void 0&&(r.slashes=f_.test(e.href))}return r}function Gn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function ib(e,t){e=Zh(e),e=e.replace(sb,""),t=t||{};var n=h_.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],a=!!n[3],i=0,l;return s?a?(l=n[2]+n[3]+n[4],i=n[2].length+n[3].length):(l=n[2]+n[4],i=n[2].length):a?(l=n[3]+n[4],i=n[3].length):l=n[4],r==="file:"?i>=2&&(l=l.slice(2)):Gn(r)?l=n[4]:r?s&&(l=l.slice(2)):i>=2&&Gn(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||Gn(r),slashesCount:i,rest:l}}function p_(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],a=!1,i=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),i++):i&&(r===0&&(a=!0),n.splice(r,1),i--);return a&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function Qn(e,t,n){if(e=Zh(e),e=e.replace(sb,""),!(this instanceof Qn))return new Qn(e,t,n);var r,s,a,i,l,c,u=Yd.slice(),h=typeof t,f=this,m=0;for(h!=="object"&&h!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=kc.parse),t=ab(t),s=ib(e||"",t),r=!s.protocol&&!s.slashes,f.slashes=s.slashes||r&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||m_.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Gn(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(i=u[m],typeof i=="function"){e=i(e,f);continue}a=i[0],c=i[1],a!==a?f[c]=e:typeof a=="string"?(l=a==="@"?e.lastIndexOf(a):e.indexOf(a),~l&&(typeof i[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+i[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=a.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||r&&i[3]&&t[c]||"",i[4]&&(f[c]=f[c].toLowerCase())}n&&(f.query=n(f.query)),r&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=p_(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&Gn(f.protocol)&&(f.pathname="/"+f.pathname),rb(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&Gn(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function g_(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||kc.parse)(t)),r[e]=t;break;case"port":r[e]=t,rb(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,ob.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(r.username=t.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var i=0;i<Yd.length;i++){var l=Yd[i];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&Gn(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function v_(e){(!e||typeof e!="function")&&(e=kc.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var a=s+(n.protocol&&n.slashes||Gn(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):n.protocol!=="file:"&&Gn(n.protocol)&&!r&&n.pathname!=="/"&&(a+="@"),(r[r.length-1]===":"||ob.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(a+=n.hash),a}Qn.prototype={set:g_,toString:v_};Qn.extractProtocol=ib;Qn.location=ab;Qn.trimLeft=Zh;Qn.qs=kc;var lb=Qn,x_=lb,xn={getOrigin:function(e){if(!e)return null;var t=new x_(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Gd={exports:{}};typeof Object.create=="function"?Gd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Gd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var De=Gd.exports,Lt={};function Ec(){this._listeners={}}Ec.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};Ec.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};Ec.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var cb=Ec,y_=De,Tc=cb;function Jr(){Tc.call(this)}y_(Jr,Tc);Jr.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Jr.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Jr.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var a=0;a<t.length;a++)t[a].apply(this,r)}};Jr.prototype.on=Jr.prototype.addListener=Tc.prototype.addEventListener;Jr.prototype.removeListener=Tc.prototype.removeEventListener;Lt.EventEmitter=Jr;var Xd={exports:{}},Ng=globalThis.WebSocket||globalThis.MozWebSocket;Ng?Xd.exports=function(t){return new Ng(t)}:Xd.exports=void 0;var w_=Xd.exports,ub=ss,b_=xn,S_=De,db=Lt.EventEmitter,fb=w_,jg=function(){};function Sr(e,t,n){if(!Sr.enabled())throw new Error("Transport created when disabled");db.call(this);var r=this,s=b_.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new fb(this.url,[],n),this.ws.onmessage=function(a){jg("message event",a.data),r.emit("message",a.data)},this.unloadRef=ub.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(a){jg("close event",a.code,a.reason),r.emit("close",a.code,a.reason),r._cleanup()},this.ws.onerror=function(a){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}S_(Sr,db);Sr.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};Sr.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};Sr.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),ub.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Sr.enabled=function(){return!!fb};Sr.transportName="websocket";Sr.roundTrips=2;var N_=Sr,j_=De,hb=Lt.EventEmitter,C_=function(){};function Ps(e,t){hb.call(this),this.sendBuffer=[],this.sender=t,this.url=e}j_(Ps,hb);Ps.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};Ps.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};Ps.prototype.sendSchedule=function(){C_("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};Ps.prototype._cleanup=function(){this.removeAllListeners()};Ps.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var k_=Ps,E_=De,mb=Lt.EventEmitter,T_=function(){};function Rc(e,t,n){mb.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}E_(Rc,mb);Rc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){T_("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};Rc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var R_=Rc,P_=De,__=xn,em=k_,A_=R_;function tm(e,t,n,r,s){var a=__.addPath(e,t),i=this;em.call(this,e,n),this.poll=new A_(r,a,s),this.poll.on("message",function(l){i.emit("message",l)}),this.poll.once("close",function(l,c){i.poll=null,i.emit("close",l,c),i.close()})}P_(tm,em);tm.prototype.close=function(){em.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var pb=tm,I_=De,D_=xn,gb=pb;function L_(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var a=D_.addPath(t,"/xhr_send"),i=new e("POST",a,n,s);return i.once("finish",function(l){if(i=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){i.close(),i=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function vb(e,t,n,r){gb.call(this,e,t,L_(r),n,r)}I_(vb,gb);var To=vb,O_=De,xb=Lt.EventEmitter;function qa(e,t){xb.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var a=r===200?"network":"permanent";n.emit("close",null,a),n._cleanup()})}O_(qa,xb);qa.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};qa.prototype._cleanup=function(){this.removeAllListeners()};qa.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Pc=qa,yb=Lt.EventEmitter,M_=De,wb=ss,$_=xn,Oa=globalThis.XMLHttpRequest,Su=function(){};function Jn(e,t,n,r){var s=this;yb.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}M_(Jn,yb);Jn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new Oa}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=$_.addQuery(t,"t="+ +new Date),this.unloadRef=wb.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Su("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Jn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var a in r.headers)this.xhr.setRequestHeader(a,r.headers[a]);this.xhr.onreadystatechange=function(){if(s.xhr){var i=s.xhr,l,c;switch(Su("readyState",i.readyState),i.readyState){case 3:try{c=i.status,l=i.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=i.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Su("finish",c,i.responseText),s.emit("finish",c,i.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Jn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),wb.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Jn.prototype.close=function(){this._cleanup(!0)};Jn.enabled=!!Oa;var Cg=["Active"].concat("Object").join("X");!Jn.enabled&&Cg in globalThis&&(Oa=function(){try{return new globalThis[Cg]("Microsoft.XMLHTTP")}catch{return null}},Jn.enabled=!!new Oa);var bb=!1;try{bb="withCredentials"in new Oa}catch{}Jn.supportsCORS=bb;var Sb=Jn,z_=De,Kl=Sb;function nm(e,t,n,r){Kl.call(this,e,t,n,r)}z_(nm,Kl);nm.enabled=Kl.enabled&&Kl.supportsCORS;var _c=nm,F_=De,rm=Sb;function sm(e,t,n){rm.call(this,e,t,n,{noCredentials:!0})}F_(sm,rm);sm.enabled=rm.enabled;var Qa=sm,Ja={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},U_=De,Nb=To,B_=Pc,qd=_c,W_=Qa,V_=Ja;function Ro(e){if(!W_.enabled&&!qd.enabled)throw new Error("Transport created when disabled");Nb.call(this,e,"/xhr_streaming",B_,qd)}U_(Ro,Nb);Ro.enabled=function(e){return e.nullOrigin||V_.isOpera()?!1:qd.enabled};Ro.transportName="xhr-streaming";Ro.roundTrips=2;Ro.needBody=!!globalThis.document;var H_=Ro,jb=Lt.EventEmitter,K_=De,Cb=ss,Y_=Ja,G_=xn,X_=function(){};function _s(e,t,n){var r=this;jb.call(this),setTimeout(function(){r._start(e,t,n)},0)}K_(_s,jb);_s.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=G_.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){X_("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=Cb.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};_s.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};_s.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Cb.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};_s.prototype.close=function(){this._cleanup(!0)};_s.enabled=!!(globalThis.XDomainRequest&&Y_.hasDomain());var om=_s,q_=De,kb=To,Q_=Pc,Qd=om;function Za(e){if(!Qd.enabled)throw new Error("Transport created when disabled");kb.call(this,e,"/xhr_streaming",Q_,Qd)}q_(Za,kb);Za.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Qd.enabled&&e.sameScheme};Za.transportName="xdr-streaming";Za.roundTrips=2;var Eb=Za,Tb=globalThis.EventSource,J_=De,Rb=Lt.EventEmitter,Z_=Tb,kg=function(){};function ei(e){Rb.call(this);var t=this,n=this.es=new Z_(e);n.onmessage=function(r){kg("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){kg("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}J_(ei,Rb);ei.prototype.abort=function(){this._cleanup(),this._close("user")};ei.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};ei.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var eA=ei,tA=De,Pb=To,nA=eA,rA=_c,sA=Tb;function Po(e){if(!Po.enabled())throw new Error("Transport created when disabled");Pb.call(this,e,"/eventsource",nA,rA)}tA(Po,Pb);Po.enabled=function(){return!!sA};Po.transportName="eventsource";Po.roundTrips=2;var Eg=Po,Nu,Tg;function _b(){return Tg||(Tg=1,Nu="1.6.1"),Nu}var Ab={exports:{}};(function(e){var t=ss,n=Ja;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var a=globalThis.document.createElement("iframe"),i,l,c=function(){clearTimeout(i);try{a.onload=null}catch{}a.onerror=null},u=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},h=function(m){a&&(u(),s(m))},f=function(m,p){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(m,p)}catch{}},0)};return a.src=r,a.style.display="none",a.style.position="absolute",a.onerror=function(){h("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(a),i=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var a=["Active"].concat("Object").join("X"),i=new globalThis[a]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){i&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=i=null,CollectGarbage())},m=function(x){i&&(f(),s(x))},p=function(x,b){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,b)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=i.createElement("div");return i.body.appendChild(w),u=i.createElement("iframe"),w.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(f),{post:p,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(Ab);var ti=Ab.exports,oA=De,Ib=Lt.EventEmitter,aA=_b(),Jd=xn,Db=ti,Lb=ss,iA=Eo,Ko=function(){};function nr(e,t,n){if(!nr.enabled())throw new Error("Transport created when disabled");Ib.call(this);var r=this;this.origin=Jd.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=iA.string(8);var s=Jd.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Db.createIframe(s,function(a){r.emit("close",1006,"Unable to load an iframe ("+a+")"),r.close()}),this.onmessageCallback=this._message.bind(this),Lb.attachEvent("message",this.onmessageCallback)}oA(nr,Ib);nr.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){Lb.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};nr.prototype._message=function(e){if(Ko("message",e.data),!Jd.isOriginEqual(e.origin,this.origin)){Ko("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Ko("bad json",e.data);return}if(t.windowId!==this.windowId){Ko("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([aA,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Ko("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};nr.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};nr.prototype.send=function(e){this.postMessage("m",e)};nr.enabled=function(){return Db.iframeEnabled};nr.transportName="iframe";nr.roundTrips=2;var Ob=nr,am={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},lA=De,Ui=Ob,cA=am,ju=function(e){function t(n,r){Ui.call(this,e.transportName,n,r)}return lA(t,Ui),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=cA.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&Ui.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Ui.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},uA=De,is=ti,dA=xn,Mb=Lt.EventEmitter,fA=Eo,hA=function(){};function Ln(e){Mb.call(this);var t=this;is.polluteGlobalNamespace(),this.id="a"+fA.string(6),e=dA.addQuery(e,"c="+decodeURIComponent(is.WPrefix+"."+this.id)),hA("using htmlfile",Ln.htmlfileEnabled);var n=Ln.htmlfileEnabled?is.createHtmlfile:is.createIframe;globalThis[is.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}uA(Ln,Mb);Ln.prototype.abort=function(){this._cleanup(),this._close("user")};Ln.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[is.WPrefix][this.id]};Ln.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};Ln.htmlfileEnabled=!1;var Rg=["Active"].concat("Object").join("X");if(Rg in globalThis)try{Ln.htmlfileEnabled=!!new globalThis[Rg]("htmlfile")}catch{}Ln.enabled=Ln.htmlfileEnabled||is.iframeEnabled;var mA=Ln,pA=De,Zd=mA,gA=Qa,$b=To;function ni(e){if(!Zd.enabled)throw new Error("Transport created when disabled");$b.call(this,e,"/htmlfile",Zd,gA)}pA(ni,$b);ni.enabled=function(e){return Zd.enabled&&e.sameOrigin};ni.transportName="htmlfile";ni.roundTrips=2;var Pg=ni,vA=De,zb=To,xA=Pc,ef=_c,Fb=Qa;function ri(e){if(!Fb.enabled&&!ef.enabled)throw new Error("Transport created when disabled");zb.call(this,e,"/xhr",xA,ef)}vA(ri,zb);ri.enabled=function(e){return e.nullOrigin?!1:Fb.enabled&&e.sameOrigin?!0:ef.enabled};ri.transportName="xhr-polling";ri.roundTrips=2;var _g=ri,yA=De,Ub=To,wA=Eb,bA=Pc,Ag=om;function si(e){if(!Ag.enabled)throw new Error("Transport created when disabled");Ub.call(this,e,"/xhr",bA,Ag)}yA(si,Ub);si.enabled=wA.enabled;si.transportName="xdr-polling";si.roundTrips=2;var SA=si,ua=ti,Bb=Eo,NA=Ja,jA=xn,CA=De,Wb=Lt.EventEmitter,kA=function(){};function gn(e){var t=this;Wb.call(this),ua.polluteGlobalNamespace(),this.id="a"+Bb.string(6);var n=jA.addQuery(e,"c="+encodeURIComponent(ua.WPrefix+"."+this.id));globalThis[ua.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},gn.timeout)}CA(gn,Wb);gn.prototype.abort=function(){if(globalThis[ua.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};gn.timeout=35e3;gn.scriptErrorTimeout=1e3;gn.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};gn.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};gn.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[ua.WPrefix][this.id]};gn.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},gn.scriptErrorTimeout))};gn.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+Bb.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(kA("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(NA.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var EA=gn,TA=Eo,Ig=xn,RA=function(){},Jt,da;function PA(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function _A(){Jt=globalThis.document.createElement("form"),Jt.style.display="none",Jt.style.position="absolute",Jt.method="POST",Jt.enctype="application/x-www-form-urlencoded",Jt.acceptCharset="UTF-8",da=globalThis.document.createElement("textarea"),da.name="d",Jt.appendChild(da),globalThis.document.body.appendChild(Jt)}var AA=function(e,t,n){Jt||_A();var r="a"+TA.string(8);Jt.target=r,Jt.action=Ig.addQuery(Ig.addPath(e,"/jsonp_send"),"i="+r);var s=PA(r);s.id=r,s.style.display="none",Jt.appendChild(s);try{da.value=t}catch{}Jt.submit();var a=function(i){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),da.value="",n(i))};return s.onerror=function(){a()},s.onload=function(){a()},s.onreadystatechange=function(i){RA("onreadystatechange",r,s.readyState),s.readyState==="complete"&&a()},function(){a(new Error("Aborted"))}},IA=De,Vb=pb,DA=EA,LA=AA;function As(e){if(!As.enabled())throw new Error("Transport created when disabled");Vb.call(this,e,"/jsonp",LA,DA)}IA(As,Vb);As.enabled=function(){return!!globalThis.document};As.transportName="jsonp-polling";As.roundTrips=1;As.needBody=!0;var OA=As,MA=[N_,H_,Eb,Eg,ju(Eg),Pg,ju(Pg),_g,SA,ju(_g),OA],Ma=Array.prototype,im=Object.prototype,$A=Function.prototype,$a=String.prototype,Cu=Ma.slice,lm=im.toString,Hb=function(e){return im.toString.call(e)==="[object Function]"},zA=function(t){return lm.call(t)==="[object Array]"},Kb=function(t){return lm.call(t)==="[object String]"},FA=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),tf;FA?tf=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:tf=function(e,t,n,r){!r&&t in e||(e[t]=n)};var oi=function(e,t,n){for(var r in t)im.hasOwnProperty.call(t,r)&&tf(e,r,t[r],n)},Yb=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function UA(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function BA(e){return e>>>0}function ku(){}oi($A,{bind:function(t){var n=this;if(!Hb(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Cu.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(Cu.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Cu.call(arguments)))},a=Math.max(0,n.length-r.length),i=[],l=0;l<a;l++)i.push("$"+l);var c=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(ku.prototype=n.prototype,c.prototype=new ku,ku.prototype=null),c}});oi(Array,{isArray:zA});var Dg=Object("a"),Gb=Dg[0]!=="a"||!(0 in Dg),WA=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,a,i){typeof i!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};oi(Ma,{forEach:function(t){var n=Yb(this),r=Gb&&Kb(this)?this.split(""):n,s=arguments[1],a=-1,i=r.length>>>0;if(!Hb(t))throw new TypeError;for(;++a<i;)a in r&&t.call(s,r[a],a,n)}},!WA(Ma.forEach));var VA=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;oi(Ma,{indexOf:function(t){var n=Gb&&Kb(this)?this.split(""):Yb(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=UA(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},VA);var Lg=$a.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;$a.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(lm.call(t)!=="[object RegExp]")return Lg.call(this,t,n);var s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),i=0,l,c,u,h;for(t=new RegExp(t.source,a+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",a)),n=n===void 0?-1>>>0:BA(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>i&&(s.push(r.slice(i,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<r.length&&Ma.push.apply(s,c.slice(1)),h=c[0].length,i=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return i===r.length?(h||!t.test(""))&&s.push(""):s.push(r.slice(i)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&($a.split=function(t,n){return t===void 0&&n===0?[]:Lg.call(this,t,n)});var HA=$a.substr,KA="".substr&&"0b".substr(-1)!=="b";oi($a,{substr:function(t,n){return HA.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},KA);var Bi=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Eu,YA=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},GA={quote:function(e){var t=JSON.stringify(e);return Bi.lastIndex=0,Bi.test(t)?(Eu||(Eu=YA(Bi)),t.replace(Bi,function(n){return Eu[n]})):t}},Tu=function(){},XA=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Tu("not in whitelist",s.transportName);return}s.enabled(n)?(Tu("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):Tu("disabled",s.transportName)}}),r}}},nf={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}nf[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:nf.log});var qA=nf;function Is(e){this.type=e}Is.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};Is.prototype.stopPropagation=function(){};Is.prototype.preventDefault=function(){};Is.CAPTURING_PHASE=1;Is.AT_TARGET=2;Is.BUBBLING_PHASE=3;var cm=Is,Xb=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},QA=De,qb=cm;function Qb(){qb.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}QA(Qb,qb);var JA=Qb,ZA=De,Jb=cm;function Zb(e){Jb.call(this),this.initEvent("message",!1,!1),this.data=e}ZA(Zb,Jb);var e3=Zb,e1=Lt.EventEmitter,t3=De;function ai(){var e=this;e1.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},ai.timeout)}t3(ai,e1);ai.prototype.close=function(){clearTimeout(this.to)};ai.timeout=2e3;var n3=ai,t1=Lt.EventEmitter,r3=De,s3=am;function um(e,t){t1.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,a){var i,l;if(s===200){if(l=+new Date-r,a)try{i=JSON.parse(a)}catch{}s3.isObject(i)||(i={})}n.emit("finish",i,l),n.removeAllListeners()})}r3(um,t1);um.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var n1=um,Ru,Og;function r1(){if(Og)return Ru;Og=1;var e=De,t=Lt.EventEmitter,n=Qa,r=n1;function s(a){var i=this;t.call(this),this.ir=new r(a,n),this.ir.once("finish",function(l,c){i.ir=null,i.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Ru=s,Ru}var s1=Lt.EventEmitter,o3=De,a3=ss,o1=Ob,i3=r1();function Ac(e,t){var n=this;s1.call(this);var r=function(){var s=n.ifr=new o1(i3.transportName,t,e);s.once("message",function(a){if(a){var i;try{i=JSON.parse(a)}catch{n.emit("finish"),n.close();return}var l=i[0],c=i[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():a3.attachEvent("load",r)}o3(Ac,s1);Ac.enabled=function(){return o1.enabled()};Ac.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var l3=Ac,a1=Lt.EventEmitter,c3=De,u3=xn,Mg=om,$g=_c,d3=Qa,f3=n3,zg=l3,Wi=n1;function cr(e,t){var n=this;a1.call(this),setTimeout(function(){n.doXhr(e,t)},0)}c3(cr,a1);cr._getReceiver=function(e,t,n){return n.sameOrigin?new Wi(t,d3):$g.enabled?new Wi(t,$g):Mg.enabled&&n.sameScheme?new Wi(t,Mg):zg.enabled()?new zg(e,t):new Wi(t,f3)};cr.prototype.doXhr=function(e,t){var n=this,r=u3.addPath(e,"/info");this.xo=cr._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},cr.timeout),this.xo.once("finish",function(s,a){n._cleanup(!0),n.emit("finish",s,a)})};cr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};cr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};cr.timeout=8e3;var h3=cr,Pu,Fg;function m3(){if(Fg)return Pu;Fg=1;var e=ti;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Pu=t,Pu}var _u,Ug;function p3(){if(Ug)return _u;Ug=1;var e=xn,t=ss,n=m3(),r=r1(),s=ti,a=Xb,i=function(){};return _u=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[r.transportName]=r;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=a.hash.slice(1);var m=function(p){if(p.source===parent&&(typeof h>"u"&&(h=p.origin),p.origin===h)){var w;try{w=JSON.parse(p.data)}catch{i("bad json",p.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{i("bad json",w.data);break}var b=x[0],g=x[1],v=x[2],y=x[3];if(b!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+b+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(v,a.href)||!e.isOriginEqual(y,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+v+", "+y+")");f=new n(new u[g](v,y));break;case"m":f._send(w.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},_u}var g3=lb,v3=De,Bg=Eo,x3=GA,Zo=xn,y3=ss,w3=XA,b3=am,S3=Ja,N3=qA,dm=cm,i1=cb,Vi=Xb,j3=JA,Wg=e3,C3=h3,Xn=function(){},l1;function Ie(e,t,n){if(!(this instanceof Ie))return new Ie(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");i1.call(this),this.readyState=Ie.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&N3.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Bg.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Bg.numberString(1e3);var s=new g3(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a=s.protocol==="https:";if(Vi.protocol==="https:"&&!a&&!Zo.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var i=t.sort();i.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<i.length-1&&c===i[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Zo.getOrigin(Vi.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Xn("using url",this.url),this._urlInfo={nullOrigin:!S3.hasDomain(),sameOrigin:Zo.isOriginEqual(this.url,Vi.href),sameScheme:Zo.isSchemeEqual(this.url,Vi.href)},this._ir=new C3(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}v3(Ie,i1);function c1(e){return e===1e3||e>=3e3&&e<=4999}Ie.prototype.close=function(e,t){if(e&&!c1(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Ie.CLOSING||this.readyState===Ie.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};Ie.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===Ie.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Ie.OPEN&&this._transport.send(x3.quote(e))};Ie.version=_b();Ie.CONNECTING=0;Ie.OPEN=1;Ie.CLOSING=2;Ie.CLOSED=3;Ie.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=b3.extend(e,this._urlInfo);var n=l1.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,Xn(this._transports.length+" enabled transports"),this._connect()};Ie.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Xn("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),y3.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=Zo.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};Ie.prototype._transportTimeout=function(){this.readyState===Ie.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Ie.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new dm("heartbeat")),Xn("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(a){Xn("message",t.transport),t.dispatchEvent(new Wg(a))});break;case"m":Xn("message",this.transport),this.dispatchEvent(new Wg(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};Ie.prototype._transportClose=function(e,t){if(Xn("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!c1(e)&&e!==2e3&&this.readyState===Ie.CONNECTING){this._connect();return}this._close(e,t)};Ie.prototype._open=function(){Xn("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Ie.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Ie.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new dm("open")),Xn("connected",this.transport)):this._close(1006,"Server lost session")};Ie.prototype._close=function(e,t,n){Xn("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Ie.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Ie.CLOSING,setTimeout((function(){this.readyState=Ie.CLOSED,r&&this.dispatchEvent(new dm("error"));var s=new j3;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Ie.prototype.countRTO=function(e){return e>100?4*e:300+e};var k3=function(e){return l1=w3(e),p3()(Ie,e),Ie},E3=MA,T3=k3(E3);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const u1=lf(T3),R3=({roomId:e,userId:t,onMessageReceived:n,onError:r})=>{const[s,a]=d.useState(!1),[i,l]=d.useState("disconnected"),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),[f,m]=d.useState(0),p=3,[w,x]=d.useState(0),b=R=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R),g=()=>localStorage.getItem("accessToken"),v=d.useCallback(()=>{var S;if(console.log(" WebSocket connect()  !"),console.log("    :",{hasClient:!!c.current,clientConnected:(S=c.current)==null?void 0:S.connected,connectionStatus:i,roomId:e,userId:t,hasToken:!!g(),timestamp:new Date().toISOString()}),c.current&&c.current.connected){console.log("   -   ");return}if(i==="connecting"){console.log("    -   ");return}if(c.current&&!c.current.connected&&i!=="disconnected"&&(console.log("    "),c.current.deactivate(),c.current=null),!e||!t){console.log("   :",{roomId:e,userId:t}),l("error");return}const R=g();if(console.log("WebSocket   - :",R?"":""),!R){console.error("   .   ."),r==null||r(" .  ."),l("error");return}if(R.length<10){console.error("    ."),r==null||r("   .  ."),l("error");return}l("connecting"),x(k=>k+1),console.log(` WebSocket   #${w+1}`,{roomId:e,userId:t,currentStatus:i,reconnectAttempt:f+1,url:"http://localhost:8080/ws"}),console.log(" SockJS   ..."),console.log("     :"),console.log("   - WebSocket   (101 Switching Protocols)"),console.log("   - SockJS   ");const T=new tb({webSocketFactory:()=>(console.log(" WebSocket Factory  - SockJS  !"),new u1("http://localhost:8080/ws")),connectHeaders:R?{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" DM WebSocket   ... :",R?{Authorization:`Bearer ${R.substring(0,10)}...`}:{token:"none"})},debug:k=>{console.log("STOMP Debug:",k)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" DM WebSocket  !",{roomId:e,userId:t}),a(!0),l("connected"),m(0);const k=g();if(!k){console.error("    .     ."),r==null||r("    .");return}console.log(" DM   :",`/topic/dm/${e}`),T.subscribe(`/topic/dm/${e}`,_=>{try{const C=JSON.parse(_.body);console.log(" DM  :",C),n(C)}catch(C){console.error(" DM   :",C)}},{Authorization:`Bearer ${k}`}),console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:k.substring(0,10)+"..."}),T.publish({destination:`/app/dmRooms/${e}/enter`,headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({})}),console.log(" DM WebSocket  ")},onDisconnect:()=>{console.log(" DM WebSocket  ",{roomId:e,userId:t}),a(!1),l("disconnected")},onStompError:k=>{console.error(" STOMP :",{message:k.headers.message,body:k.body,headers:k.headers});const _=k.headers.message||"";if(_.includes("Unauthorized")||_.includes("Authentication")||_.includes("Token")||_.includes("401")||_.includes("Forbidden")||_.includes("403")){console.error("   -   "),r==null||r(" .  ."),l("error");return}else _.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),r==null||r("   .    .")):r==null||r(` : ${_}`);l("error"),!_.includes("Unauthorized")&&!_.includes("Authentication")&&!_.includes("Token")&&!_.includes("401")&&!_.includes("Forbidden")&&!_.includes("403")?f<p&&(m(C=>C+1),u.current=setTimeout(()=>{v()},5e3*f)):console.log("      .")},onWebSocketError:k=>{console.error(" WebSocket :",k),l("error"),r==null||r("WebSocket   ."),c.current&&(c.current.deactivate(),c.current=null)}});c.current=T,T.activate()},[e,t,n,r,f,i]),y=d.useCallback(()=>{var T;const R=g();if(!R){console.error("   :   ."),r==null||r(" .  .");return}if(!((T=c.current)!=null&&T.connected)){console.error("   : WebSocket  .");return}if(!e){console.error("   : roomId .");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:R.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/enter`,headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({})})},[e,r]),j=d.useCallback(()=>{var T;const R=g();if(!R){console.error("   :   .");return}if(!((T=c.current)!=null&&T.connected)){console.error("   : WebSocket  .");return}if(!e){console.error("   : roomId .");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:R.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/exit`,headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({})})},[e]),E=d.useCallback(()=>{var R;if((R=c.current)!=null&&R.connected&&e){const T=g();T&&b(e)&&(console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:T.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/exit`,headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({})}))}c.current&&(c.current.deactivate(),c.current=null),u.current&&(clearTimeout(u.current),u.current=null),a(!1),l("disconnected"),m(0)},[e]),P=d.useCallback(R=>{var k;const T=g();if(!T){console.error("   :   ."),r==null||r(" .  .");return}if(!((k=c.current)!=null&&k.connected)){r==null||r("WebSocket  .");return}if(!e||!t){console.error("Cannot send message: missing roomId or userId");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}if(!b(t)){console.error("   :   senderId UUID :",{userId:t});return}const S={senderId:t,roomId:e,content:R};console.log(" DM   (with Auth):",{dmRequest:S,hasToken:!0,tokenPrefix:T.substring(0,10)+"..."}),c.current.publish({destination:`/app/dm/${e}`,headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify(S)})},[e,t,r]);return d.useEffect(()=>{console.log(" useDmWebSocket useEffect :",{roomId:e,userId:t,hasRoomId:!!e,hasUserId:!!t}),e&&t?(console.log("   -   "),v()):(console.log("   -   :",{roomId:e,userId:t}),E())},[e,t]),d.useEffect(()=>{const R=g();h.current!==R&&(console.log("    -  :",{oldToken:h.current?"existed":"none",newToken:R?"exists":"none",roomId:e,userId:t}),h.current=R,c.current&&e&&t&&(console.log("      "),E(),R?setTimeout(()=>{console.log("    "),v()},1e3):console.log("    ")))},[]),d.useEffect(()=>()=>{E()},[E]),{isConnected:s,connectionStatus:i,connect:v,disconnect:E,enterRoom:y,exitRoom:j,sendMessage:P,reconnectAttempts:f,connectionAttempts:w}};function P3({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:a,refreshTrigger:i}){const[l,c]=d.useState([]),[u,h]=d.useState(""),[f]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(null),v=d.useRef(null),y=d.useRef(null),{isConnected:j,sendMessage:E}=R3({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:_=>{console.log(" ChatRoom  :",_);const C={id:_.id,senderId:_.senderId,senderName:_.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:_.content,timestamp:P(_.createdAt),type:"text",isOwnMessage:_.senderId===s};c(D=>D.find(K=>K.id===_.id)?(console.log("   :",_.id),D):[...D,C])},onError:_=>{console.error(" DM WebSocket :",_),_.includes("")||_.includes("")||_.includes("Authentication")?(g(_),x(null)):(x(_),g(null))}});d.useEffect(()=>{var _;(_=v.current)==null||_.scrollIntoView({behavior:"smooth"})},[l]),d.useEffect(()=>{e&&y.current&&y.current.focus()},[e]),d.useEffect(()=>{r!=null&&r.roomId&&R()},[r==null?void 0:r.roomId]),d.useEffect(()=>{e&&r&&i&&i>0&&(console.log("     :",i),R())},[i,e,r]);const P=_=>new Date(_).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),R=async()=>{if(r!=null&&r.roomId)try{p(!0),x(null);const C=(await a(r.roomId,{size:50})).data.sort((D,L)=>new Date(D.createdAt).getTime()-new Date(L.createdAt).getTime()).map(D=>({id:D.id,senderId:D.senderId,senderName:D.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:D.content,timestamp:P(D.createdAt),type:"text",isOwnMessage:D.senderId===s}));c(C)}catch(_){console.error("Error loading messages:",_),x("   .")}finally{p(!1)}},T=()=>{if(!u.trim()||!r||!j){console.warn("   :",{hasMessage:!!u.trim(),hasUser:!!r,isConnected:j,roomId:r==null?void 0:r.roomId,userId:s});return}console.log(" ChatRoom  :",{content:u.trim(),roomId:r.roomId,userId:s,isConnected:j}),E(u.trim()),h("")},S=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),T())},k=_=>_;return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(No,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(st,{className:"h-8 w-8",children:[o.jsx(ot,{src:r.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsxs("p",{className:"text-xs text-white/60",children:[r.isOnline?"":"","  ",o.jsx("span",{className:`${j?"text-green-400":"text-red-400"}`,children:j?"":" "})]})]})]})]}),o.jsx(B,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(An,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(JP,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[m&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),w&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:w}),b&&o.jsx("div",{className:"flex items-center justify-center h-32 text-orange-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-3",children:b}),o.jsx(B,{onClick:()=>{g(null)},size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:" "})]})}),!m&&!w&&!b&&l.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),l.map((_,C)=>{const D=C===0||l[C-1].timestamp!==_.timestamp||l[C-1].isOwnMessage!==_.isOwnMessage;return o.jsx("div",{className:`flex ${_.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${_.isOwnMessage?"order-2":"order-1"}`,children:[!_.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(st,{className:"h-6 w-6",children:[o.jsx(ot,{src:r.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:_.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${_.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:_.content})}),D&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${_.isOwnMessage?"text-right":"text-left"}`,children:k(_.timestamp)})]})},_.id)}),f&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(st,{className:"h-6 w-6",children:[o.jsx(ot,{src:r.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:v})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(E0,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ve,{ref:y,value:u,onChange:_=>h(_.target.value),onKeyPress:S,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(RC,{className:"w-4 h-4"})})]}),o.jsx(B,{onClick:T,disabled:!u.trim()||!j,size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(dh,{className:"w-4 h-4"})})]})})]})})}function _3({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:a,onError:i}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),m=d.useRef(),[p,w]=d.useState(0),x=3,b=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const E=b();console.log("WebSocket   - :",E?"":""),E||console.warn("      ()"),h("connecting"),console.log("WebSocket  :",{url:"http://localhost:8080/ws",token:E?`${E.substring(0,10)}...`:"null"});const P=new tb({webSocketFactory:()=>new u1("http://localhost:8080/ws"),connectHeaders:E?{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",E?{Authorization:`Bearer ${E.substring(0,10)}...`}:{token:"none"})},debug:R=>{console.log("STOMP Debug:",R)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),h("connected"),w(0),P.subscribe(`/topic/rooms/${e}/chat`,R=>{try{const T=JSON.parse(R.body);n==null||n(T)}catch(T){console.error("   :",T)}}),P.subscribe(`/topic/rooms/${e}/participants`,R=>{try{const T=JSON.parse(R.body);r==null||r(T),h("connected"),c(!0)}catch(T){console.error("   :",T)}}),P.subscribe(`/topic/rooms/${e}/video`,R=>{try{const T=JSON.parse(R.body);s==null||s(T)}catch(T){console.error("    :",T)}}),P.subscribe("/user/queue/sync",R=>{try{const T=JSON.parse(R.body);(!("participantsInfoDto"in T)||!T.participantsInfoDto)&&(T.participantsInfoDto={participantDtoList:[],participantCount:0}),a==null||a(T),h("connected"),c(!0)}catch(T){console.error("    :",T)}}),P.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),h("disconnected")},onStompError:R=>{var T;console.error(" STOMP :",{message:R.headers.message,body:R.body,headers:R.headers}),(T=R.headers.message)!=null&&T.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),i==null||i("    .  .")):i==null||i(` : ${R.headers.message}`),h("error"),p<x&&(w(S=>S+1),m.current=setTimeout(()=>{g()},5e3*p))},onWebSocketError:R=>{console.error(" WebSocket :",R),h("error"),i==null||i("WebSocket   ."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=P,P.activate()},[e,t,n,r,s,a,i]),v=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),m.current&&clearTimeout(m.current),c(!1),h("disconnected"),w(0)},[e,t]),y=d.useCallback(E=>{var R;if(!((R=f.current)!=null&&R.connected)){i==null||i("WebSocket  .");return}const P={chatRoomId:e,content:E};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(P)})},[e,i]),j=d.useCallback(E=>{var P;if(!((P=f.current)!=null&&P.connected)){console.error(" Cannot send video control: WebSocket not connected"),i==null||i("WebSocket  .");return}console.log(" Sending video control to backend:",{action:E.videoControlAction,currentTime:E.currentTime,destination:`/app/rooms/${e}/video-control`}),f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(E)})},[e,i]);return d.useEffect(()=>{const E=R=>{if(l)return R.preventDefault(),R.returnValue=" ?"," ?"},P=()=>{v()};return window.addEventListener("beforeunload",E),window.addEventListener("unload",P),()=>{window.removeEventListener("beforeunload",E),window.removeEventListener("unload",P)}},[l,v]),d.useEffect(()=>()=>{v()},[v]),{isConnected:l,connectionStatus:u,connect:g,disconnect:v,sendChatMessage:y,sendVideoControl:j,reconnectAttempts:p}}function A3(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(a=>({...a,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const a=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(a))},100);setTimeout(()=>{clearInterval(a),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API  "})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API   ")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API   "})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var d1=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(d1||{}),ll=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(ll||{});function I3({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s,onTimeUpdate:a}){const[i,l]=d.useState(null),[c,u]=d.useState(!1),h=d.useRef(null),f=d.useRef(!1),m=d.useRef(null),p=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:T=>{console.log("YouTube Player Ready - verifying functionality"),h.current=T.target,l(T.target);const S=()=>{try{const k=typeof T.target.getPlayerState=="function",_=typeof T.target.getCurrentTime=="function",C=T.target.getPlayerState();k&&_&&C!==void 0?(console.log(" Player functionality verified, setting ready"),u(!0)):(console.log(" Player not fully ready, retrying in 200ms..."),setTimeout(S,200))}catch(k){console.log(" Player verification failed, retrying in 200ms...",k),setTimeout(S,200)}};S()},onStateChange:T=>{const S=T.data,k=T.target.getCurrentTime(),_=Math.round(k*100)/100;let C=null,D=!1;switch(m.current&&(clearInterval(m.current),m.current=null),S){case window.YT.PlayerState.PLAYING:C=ll.PLAY,D=!0,m.current=setInterval(()=>{T.target.getPlayerState()===window.YT.PlayerState.PLAYING?a==null||a(T.target.getCurrentTime()):(clearInterval(m.current),m.current=null)},500);break;case window.YT.PlayerState.PAUSED:C=ll.PAUSE,D=!1;break;case window.YT.PlayerState.ENDED:C=ll.PAUSE,D=!1;break;default:return}console.log(" YouTube Player State Change:",{state:S,rawTime:k,currentTime:_,isPlaying:D,isHost:n,isHostControl:f.current}),console.log(" Updating local UI state only"),r==null||r(D,_,C)},onError:T=>{console.error("YouTube Player Error:",T.data);let S="YouTube   .";switch(T.data){case 2:S="  ID.";break;case 5:S="HTML5   .";break;case 100:S="   .";break;case 101:case 150:S="   .";break}s==null||s(S)}}})}catch(T){console.error("YouTube Player  :",T),s==null||s("YouTube    .")}},[e,t,n,r,s,a]);d.useEffect(()=>{e&&(h.current&&h.current.getVideoUrl()!==e&&(console.log(" videoId    "),h.current.destroy(),h.current=null,l(null),u(!1),m.current&&(clearInterval(m.current),m.current=null)),!h.current&&window.YT&&window.YT.Player&&p())},[e,p]);const w=d.useCallback(()=>{var T,S,k,_;if(console.log(" YouTube play() called:",{playerExists:!!h.current,isReady:c,playerState:(S=(T=h.current)==null?void 0:T.getPlayerState)==null?void 0:S.call(T),currentTime:(_=(k=h.current)==null?void 0:k.getCurrentTime)==null?void 0:_.call(k)}),h.current&&c){try{f.current=!0;const C=h.current.playVideo();console.log(" playVideo() result:",C),setTimeout(()=>{var L,K;const D=(K=(L=h.current)==null?void 0:L.getPlayerState)==null?void 0:K.call(L);console.log(" Player state after play():",D)},500)}catch(C){console.error(" playVideo() error:",C)}setTimeout(()=>{f.current=!1},100)}else console.error(" Cannot play: player not ready:",{playerExists:!!h.current,isReady:c})},[c]),x=d.useCallback(()=>{var T,S,k,_;if(console.log(" YouTube pause() called:",{playerExists:!!h.current,isReady:c,playerState:(S=(T=h.current)==null?void 0:T.getPlayerState)==null?void 0:S.call(T),currentTime:(_=(k=h.current)==null?void 0:k.getCurrentTime)==null?void 0:_.call(k)}),h.current&&c){try{f.current=!0;const C=h.current.pauseVideo();console.log(" pauseVideo() result:",C),setTimeout(()=>{var L,K;const D=(K=(L=h.current)==null?void 0:L.getPlayerState)==null?void 0:K.call(L);console.log(" Player state after pause():",D)},500)}catch(C){console.error(" pauseVideo() error:",C)}setTimeout(()=>{f.current=!1},100)}else console.error(" Cannot pause: player not ready:",{playerExists:!!h.current,isReady:c})},[c]),b=d.useCallback(T=>{h.current&&c&&(f.current=!0,h.current.seekTo(T,!0),setTimeout(()=>{f.current=!1},100))},[c]),g=d.useCallback(()=>{var S,k,_,C;let T=0;try{if(h.current&&c){const D=h.current.getCurrentTime();T=Math.round(D*100)/100,console.log(" getCurrentTime called:",{rawTime:D,preciseTime:T,isReady:c,playerExists:!!h.current,playerState:(k=(S=h.current)==null?void 0:S.getPlayerState)==null?void 0:k.call(S)}),(T>1e4||T<0||isNaN(T))&&console.warn(" ABNORMAL TIME FROM YOUTUBE PLAYER:",{rawTime:D,preciseTime:T,playerState:(C=(_=h.current)==null?void 0:_.getPlayerState)==null?void 0:C.call(_)})}else console.log(" getCurrentTime called but player not ready")}catch(D){console.error(" getCurrentTime error:",D)}return T},[c]),v=d.useCallback(()=>h.current&&c?Math.floor(h.current.getDuration()):0,[c]),y=d.useCallback(()=>{var T;return{target:h.current,data:((T=h.current)==null?void 0:T.getPlayerState())??d1.UNSTARTED}},[c]),j=d.useCallback(T=>{h.current&&c&&h.current.setVolume(T)},[c]),E=d.useCallback(()=>h.current&&c?h.current.getVolume():0,[c]),P=d.useCallback(()=>{h.current&&(h.current.destroy(),h.current=null,l(null),u(!1)),m.current&&(clearInterval(m.current),m.current=null)},[]),R=d.useCallback((T,S=0)=>(console.log("[syncVideo] Called:",{isReady:c,retryCount:S,hasPlayer:!!h.current}),h.current==null?(console.error("  ."),!1):(f.current=!0,h.current.seekTo(T.currentTime,!0),h.current.pauseVideo(),T.action==="PLAY"||T.isPlaying===!0?(h.current.setVolume(0),h.current.playVideo(),console.log("    ()"),setTimeout(()=>{h.current&&(h.current.setVolume(80),console.log("  "))},100)):T.action==="PAUSE"&&(h.current.pauseVideo(),console.log("  ")),setTimeout(()=>{f.current=!1},100),!0)),[c]);return d.useEffect(()=>{if(h.current&&c){console.log(" Starting player status monitoring");const T=setInterval(()=>{var S,k,_,C,D,L,K,U,M,N,A,O;try{const te=!!h.current,$=typeof((S=h.current)==null?void 0:S.getPlayerState)=="function",Z=typeof((k=h.current)==null?void 0:k.getCurrentTime)=="function",se=(C=(_=h.current)==null?void 0:_.getPlayerState)==null?void 0:C.call(_),ce={isReady:c,playerExists:te,canGetState:$,canGetTime:Z,state:se,currentTime:Math.floor(((L=(D=h.current)==null?void 0:D.getCurrentTime)==null?void 0:L.call(D))||0),duration:Math.floor(((U=(K=h.current)==null?void 0:K.getDuration)==null?void 0:U.call(K))||0),volume:(N=(M=h.current)==null?void 0:M.getVolume)==null?void 0:N.call(M),playbackRate:(O=(A=h.current)==null?void 0:A.getPlaybackRate)==null?void 0:O.call(A),wouldSyncPass:c&&te&&Z&&se!==void 0&&se!==null};console.log(" Player Status:",ce)}catch(te){console.error(" Error checking player status:",te)}},5e3);return()=>{console.log(" Stopping player status monitoring"),clearInterval(T)}}},[c]),d.useEffect(()=>()=>{P(),m.current&&(clearInterval(m.current),m.current=null)},[P]),{player:i,isReady:c,play:w,pause:x,seekTo:b,getCurrentTime:g,getDuration:v,getPlayerState:y,setVolume:j,getVolume:E,destroy:P,syncVideo:R}}var f1=["PageUp","PageDown"],h1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],m1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_o="Slider",[rf,D3,L3]=Ch(_o),[p1,$5]=On(_o,[L3]),[O3,Ic]=p1(_o),g1=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:w,...x}=e,b=d.useRef(new Set),g=d.useRef(0),y=i==="horizontal"?M3:$3,[j=[],E]=bs({prop:h,defaultProp:u,onChange:_=>{var D;(D=[...b.current][g.current])==null||D.focus(),f(_)}}),P=d.useRef(j);function R(_){const C=W3(j,_);k(_,C)}function T(_){k(_,g.current)}function S(){const _=P.current[g.current];j[g.current]!==_&&m(j)}function k(_,C,{commit:D}={commit:!1}){const L=Y3(a),K=G3(Math.round((_-r)/a)*a+r,L),U=Aa(K,[r,s]);E((M=[])=>{const N=U3(M,U,C);if(K3(N,c*a)){g.current=N.indexOf(U);const A=String(N)!==String(M);return A&&D&&m(N),A?N:M}else return M})}return o.jsx(O3,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:g,thumbs:b.current,values:j,orientation:i,form:w,children:o.jsx(rf.Provider,{scope:e.__scopeSlider,children:o.jsx(rf.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:be(x.onPointerDown,()=>{l||(P.current=j)}),min:r,max:s,inverted:p,onSlideStart:l?void 0:R,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:S,onHomeKeyDown:()=>!l&&k(r,0,{commit:!0}),onEndKeyDown:()=>!l&&k(s,j.length-1,{commit:!0}),onStepKeyDown:({event:_,direction:C})=>{if(!l){const K=f1.includes(_.key)||_.shiftKey&&h1.includes(_.key)?10:1,U=g.current,M=j[U],N=a*K*C;k(M+N,U,{commit:!0})}}})})})})});g1.displayName=_o;var[v1,x1]=p1(_o,{startEdge:"left",endEdge:"right",size:"width",direction:1}),M3=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,m]=d.useState(null),p=Re(t,y=>m(y)),w=d.useRef(void 0),x=Ga(s),b=x==="ltr",g=b&&!a||!b&&a;function v(y){const j=w.current||f.getBoundingClientRect(),E=[0,j.width],R=fm(E,g?[n,r]:[r,n]);return w.current=j,R(y-j.left)}return o.jsx(v1,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(y1,{dir:x,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const j=v(y.clientX);i==null||i(j)},onSlideMove:y=>{const j=v(y.clientX);l==null||l(j)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const E=m1[g?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:E?-1:1})}})})}),$3=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=Re(t,h),m=d.useRef(void 0),p=!s;function w(x){const b=m.current||h.current.getBoundingClientRect(),g=[0,b.height],y=fm(g,p?[r,n]:[n,r]);return m.current=b,y(x-b.top)}return o.jsx(v1,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(y1,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=w(x.clientY);a==null||a(b)},onSlideMove:x=>{const b=w(x.clientY);i==null||i(b)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=m1[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),y1=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=Ic(_o,n);return o.jsx(Se.span,{...u,ref:t,onKeyDown:be(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):f1.concat(h1).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:be(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():r(f)}),onPointerMove:be(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:be(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),a(f))})})}),w1="SliderTrack",b1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Ic(w1,n);return o.jsx(Se.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});b1.displayName=w1;var sf="SliderRange",S1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Ic(sf,n),a=x1(sf,n),i=d.useRef(null),l=Re(t,i),c=s.values.length,u=s.values.map(m=>C1(m,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(Se.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:f+"%"}})});S1.displayName=sf;var of="SliderThumb",N1=d.forwardRef((e,t)=>{const n=D3(e.__scopeSlider),[r,s]=d.useState(null),a=Re(t,l=>s(l)),i=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(z3,{...e,ref:a,index:i})}),z3=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,i=Ic(of,n),l=x1(of,n),[c,u]=d.useState(null),h=Re(t,v=>u(v)),f=c?i.form||!!c.closest("form"):!0,m=Ih(c),p=i.values[r],w=p===void 0?0:C1(p,i.min,i.max),x=B3(r,i.values.length),b=m==null?void 0:m[l.size],g=b?V3(b,w,l.direction):0;return d.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(rf.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Se.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:h,style:p===void 0?{display:"none"}:e.style,onFocus:be(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),f&&o.jsx(j1,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},r)]})});N1.displayName=of;var F3="RadioBubbleInput",j1=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),a=Re(s,r),i=Oh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(Se.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});j1.displayName=F3;function U3(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function C1(e,t,n){const a=100/(n-t)*(e-t);return Aa(a,[0,100])}function B3(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function W3(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function V3(e,t,n){const r=e/2,a=fm([0,50],[0,r]);return(r-a(t)*n)*n}function H3(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function K3(e,t){if(t>0){const n=H3(e);return Math.min(...n)>=t}return!0}function fm(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Y3(e){return(String(e).split(".")[1]||"").length}function G3(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var X3=g1,q3=b1,Q3=S1,J3=N1;function Vg({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...a}){const i=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(X3,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:Te("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[o.jsx(q3,{"data-slot":"slider-track",className:Te("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(Q3,{"data-slot":"slider-range",className:Te("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(l,c)=>o.jsx(J3,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function Z3({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:a,onSeek:i,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:h=!1,onPermissionDenied:f}){const[m,p]=d.useState([80]),[w,x]=d.useState(!1),[b,g]=d.useState(!1),[v,y]=d.useState(!1),[j,E]=d.useState(0),P=d.useRef();d.useEffect(()=>{if(e.isReady){const M=e.getVolume();p([M]),x(M===0)}},[e.isReady]),d.useEffect(()=>(b&&(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{g(!1)},3e3)),()=>{P.current&&clearTimeout(P.current)}),[b,m]);const R=()=>{if(b){x(!w);const M=w?m[0]:0;e.setVolume(M),l(M)}else g(!0)},T=M=>{p(M);const N=M[0];x(N===0),e.setVolume(N),l(N)},S=()=>{y(!0),E(r)},k=M=>{v&&E(M[0])},_=()=>{v&&t&&(i(j),y(!1))},C=()=>{if(t){const M=Math.max(0,r-10);i(M)}else f==null||f()},D=()=>{if(t){const M=Math.min(s,r+10);i(M)}else f==null||f()},L=()=>{t?a():f==null||f()},K=()=>w||m[0]===0?o.jsx(DC,{className:"w-5 h-5"}):m[0]<50?o.jsx(AC,{className:"w-5 h-5"}):o.jsx(IC,{className:"w-5 h-5"}),U=M=>{const N=Math.floor(M/3600),A=Math.floor(M%3600/60),O=M%60;return N>0?`${N}:${A.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`:`${A}:${O.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(Vg,{value:[v?j:r],onValueChange:k,onPointerDown:S,onPointerUp:_,max:s,step:1,disabled:h||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:U(v?j:r)}),o.jsx("span",{children:U(s)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(B,{variant:"ghost",size:"sm",onClick:C,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(EC,{className:"w-5 h-5"})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{console.log("    !",{isHost:t,disabled:h||!t}),L()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"":"":"  ",children:n?o.jsx(T0,{className:"w-5 h-5"}):o.jsx(Et,{className:"w-5 h-5"})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:D,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(TC,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(B,{variant:"ghost",size:"sm",onClick:R,className:"hover:bg-white/10",title:" ",children:K()}),b&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(Vg,{value:m,onValueChange:T,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[m[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(qs,{className:"w-4 h-4 mr-1"}),"  "]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(B,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"",children:o.jsx(CC,{className:"w-5 h-5"})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?" ":"",children:u?o.jsx(SC,{className:"w-5 h-5"}):o.jsx(bC,{className:"w-5 h-5"})})]})]})]})}function e5({open:e,onClose:t}){return o.jsx(Bh,{open:e,onOpenChange:t,children:o.jsxs(Wh,{className:"bg-[#1a1a1a] border-white/20 text-white",children:[o.jsxs(Vh,{children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center",children:o.jsx(qs,{className:"w-8 h-8 text-yellow-400"})})}),o.jsx(Kh,{className:"text-center text-xl font-medium",children:"  "}),o.jsxs(Yh,{className:"text-center text-white/70",children:["    .",o.jsx("br",{}),", ,    ."]})]}),o.jsx(Hh,{children:o.jsx(Gh,{onClick:t,className:"w-full teal-gradient hover:opacity-80 text-black font-medium",children:""})})]})})}var Er=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Er||{});function t5(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function n5({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var mt,Qe,lt,nt;const[a,i]=d.useState(!1),{isLoaded:l}=A3(!0),[c,u]=d.useState(!0),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1),[b,g]=d.useState(!1),[v,y]=d.useState(null),[j,E]=d.useState(null),[P,R]=d.useState([]),[T,S]=d.useState([]),[k,_]=d.useState(!1),[C,D]=d.useState(!0),[L,K]=d.useState(null),[U,M]=d.useState(null),[N,A]=d.useState(!1),[O,te]=d.useState(0),[$,Z]=d.useState(null),se=d.useRef(null),ce=d.useRef(!1),Ee=d.useRef(null),J=O>0?O:j!=null&&j.duration?parseInt(j.duration):0,[ae,fe]=d.useState(!1),[pe,ie]=d.useState(0),xe=U?t5(U):null;d.useEffect(()=>{console.log(" YouTube URL/ID :",{youtubeUrl:U,youtubeVideoId:xe,extractedFrom:U})},[U,xe]);const{isConnected:ye,connectionStatus:$e,connect:ht,disconnect:I,sendChatMessage:Y,sendVideoControl:ne,reconnectAttempts:X}=_3({roomId:e,userId:n,onChatMessage:d.useCallback(H=>{S(me=>[...me,H])},[]),onParticipantsUpdate:d.useCallback(H=>{console.log(" Participants updated:",H);const me=(H.participantDtoList??[]).map(Ge=>({userId:Ge.id,userName:Ge.username,userAvatar:Ge.profile,isHost:Ge.isOwner,isOnline:Ge.isOnline??!0,joinedAt:Ge.joinedAt??""}));R(me);const Le=me.find(Ge=>Ge.userId===n),oe=(Le==null?void 0:Le.isHost)||!1;console.log(" Host status check:",{currentUserId:n,currentUserParticipant:Le,newIsHost:oe,allParticipants:me}),_(oe)},[n]),onVideoSync:d.useCallback(H=>{console.log(" Video sync received:",{action:H.videoControlAction,currentTime:H.currentTime,isPlaying:H.isPlaying,timestamp:H.timestamp,timestampAge:Date.now()-H.timestamp,isHost:k});const me=H.timestamp===0||Date.now()-H.timestamp<1e4;me&&W&&W.syncVideo?(console.log(" Executing video sync"),W.syncVideo({action:H.videoControlAction,currentTime:H.currentTime,isPlaying:H.isPlaying}),console.log(" Video sync successful")):console.log(" Video sync ignored:",{isValidTimestamp:me,hasPlayerController:!!W}),fe(H.isPlaying),ie(H.currentTime)},[k]),onRoomSync:d.useCallback(H=>{var Nr;console.log(" Room sync received:",H);const me={id:H.id,title:H.title,contentDto:H.content,ownerId:"",ownerName:"",createdAt:"",headCount:H.participantsInfoDto.participantsCount||H.participantsInfoDto.participantCount,contentTitle:H.content.title,contentId:H.content.id};y(me),E(H.content);const oe=(H.participantsInfoDto.participantDtoList||[]).map(ct=>({userId:ct.id,userName:ct.username,userAvatar:ct.profile,isHost:ct.isOwner,isOnline:ct.isOnline??!0,joinedAt:ct.joinedAt??""}));R(oe),S(H.chatMessages??[]);const Ge=oe.find(ct=>ct.userId===n),pt=(Ge==null?void 0:Ge.isHost)||!1;if(console.log(" Host status check (room sync):",{currentUserId:n,currentUserParticipant:Ge,newIsHost:pt,allParticipants:oe}),_(pt),(Nr=H.content)!=null&&Nr.youtubeUrl?(console.log(" Setting YouTube URL from content.youtubeUrl:",H.content.youtubeUrl),M(H.content.youtubeUrl)):(console.warn(" No content.youtubeUrl provided"),M(null)),H.playTime!==void 0&&H.isPlaying!==void 0){console.log(" Storing initial sync data from roomInfo:",{playTime:H.playTime,isPlaying:H.isPlaying});const ct={videoControlAction:H.isPlaying?Er.PLAY:Er.PAUSE,currentTime:H.playTime,isPlaying:H.isPlaying,timestamp:Date.now()};Z(ct)}else H.videoSyncDto?(console.log(" Fallback: Storing initial videoSyncDto:",H.videoSyncDto),Z(H.videoSyncDto)):Z(null);D(!1)},[n]),onError:d.useCallback(H=>{K(H)},[])}),F=d.useCallback((H,me,Le)=>{const oe=typeof me=="number"?Math.round(me*100)/100:0;console.log(" Video state changed:",{isPlaying:H,currentTime:oe,action:Le,isHost:k,isConnected:ye,rawCurrentTime:me}),fe(H),ie(oe)},[k,ye]),W=I3({videoId:xe||"",containerId:"youtube-player-container",isHost:k,onStateChange:F,onError:d.useCallback(H=>{console.error("YouTube Player Error:",H),K(H)},[]),onTimeUpdate:d.useCallback(H=>{ie(Math.round(H*100)/100)},[])}),ee=!!(xe&&l);d.useEffect(()=>{const H=async()=>{var Le;if(ce.current){console.log(" loadInitialData   ,   ");return}ce.current=!0,console.log(" loadInitialData  :",{roomId:e,userId:n}),D(!0),K(null);try{const oe=await Ya.joinWatchRoom(e);console.log(" Room info loaded:",oe);const Ge={id:oe.id,title:oe.title,contentDto:oe.content,ownerId:"",ownerName:"",createdAt:"",headCount:oe.participantsInfoDto.participantsCount||oe.participantsInfoDto.participantCount,contentTitle:oe.content.title,contentId:oe.content.id};if(y(Ge),E(oe.content),console.log(" Initial host status set to false (will be updated via WebSocket)"),_(!1),fe(!1),ie(0),S([]),(Le=oe.content)!=null&&Le.youtubeUrl?(console.log(" Initial: Setting YouTube URL from content.youtubeUrl:",oe.content.youtubeUrl),M(oe.content.youtubeUrl)):(console.warn(" Initial: No content.youtubeUrl provided"),M(null)),oe.playTime!==void 0&&oe.isPlaying!==void 0){console.log(" Initial: Storing initial sync data from roomInfo:",{playTime:oe.playTime,isPlaying:oe.isPlaying});const pt={videoControlAction:oe.isPlaying?Er.PLAY:Er.PAUSE,currentTime:oe.playTime,isPlaying:oe.isPlaying,timestamp:Date.now()};Z(pt)}else oe.videoSyncDto?(console.log(" Initial: Fallback: Storing initial videoSyncDto:",oe.videoSyncDto),Z(oe.videoSyncDto)):Z(null);console.log(" loadInitialData "),r&&ht()}catch(oe){console.error("Failed to load room data:",oe),K(oe instanceof Error?oe.message:"     .")}finally{D(!1),ce.current=!1}},me=setTimeout(()=>{H()},0);return()=>{clearTimeout(me)}},[e,n,r]),d.useEffect(()=>{if(W!=null&&W.isReady&&W.syncVideo&&$){console.log(" Applying initial video sync now that player is ready:",$);const H={action:$.videoControlAction,currentTime:$.currentTime,isPlaying:$.isPlaying};W.syncVideo(H),fe($.isPlaying),ie($.currentTime),Z(null)}},[W,$]),d.useEffect(()=>{var H;(H=se.current)==null||H.scrollIntoView({behavior:"smooth"})},[T]),d.useEffect(()=>{if(W!=null&&W.isReady&&O===0)try{const H=W.getDuration();console.log(" YouTube  :",H,""),H>0&&te(Math.floor(H))}catch(H){console.error("    :",H)}},[W==null?void 0:W.isReady,O,W]),d.useEffect(()=>{var H;console.log(" Host Status Debug:",{isHost:k,userId:n,participants:P.map(me=>({userId:me.userId,userName:me.userName,isHost:me.isHost})),canUsePlayer:ee,isConnected:ye,currentUserIsHost:((H=P.find(me=>me.userId===n))==null?void 0:H.isHost)||!1})},[k,n,P,ee,ye]);const we=()=>{if(!k||!ee||!ye){console.log(" Cannot control video:",{isHost:k,canUsePlayer:ee,isConnected:ye}),k||A(!0);return}const H=ae?Er.PAUSE:Er.PLAY,me=(W==null?void 0:W.getCurrentTime())||0;console.log(" Host sending video control:",{action:H,currentTime:me,isPlaying:ae}),ne({videoControlAction:H,currentTime:me})},Ce=()=>{g(!0)},ke=()=>{g(!1),I(),t()},he=H=>{var me;if(console.log(" Seek requested:",{isHost:k,seconds:H,isConnected:ye,canUsePlayer:ee}),!k){console.log(" Not host, cannot seek video"),A(!0);return}if(!ee){console.log(" Player not ready, cannot seek video");return}try{const Le=((me=W==null?void 0:W.getDuration)==null?void 0:me.call(W))||J;let oe=H;Le&&H>Le&&(oe=Le,console.warn(" SEEK    ,  :",{requested:H,adjusted:oe,maxDuration:Le})),oe<0&&(oe=0),console.log(" SEEK -   :",{originalSeconds:H,validSeekTime:oe,maxDuration:Le}),ne({videoControlAction:Er.SEEK,currentTime:oe})}catch(Le){console.error(" SEEK   :",Le)}},ue=H=>{W.setVolume(H),console.log(`Volume changed to: ${H}%`)},Oe=()=>{i(!a),u(!!a)},yt=()=>{!m.trim()||!ye||(Y(m),console.log("Sending message:",m),p(""))},it=H=>new Date(H).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return C?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!r&&!ye?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:((mt=v==null?void 0:v.contentDto)==null?void 0:mt.title)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx($t,{className:"w-4 h-4"}),o.jsxs("span",{children:[(v==null?void 0:v.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_d,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(B,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs(B,{onClick:ht,className:"teal-gradient hover:opacity-80 text-black",children:[$e==="connecting"?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx($t,{className:"w-4 h-4 mr-2"})," "]})]})]})}):L?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:L}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(B,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx(B,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):v?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!a&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(B,{variant:"ghost",onClick:Ce,className:"hover:bg-white/10",children:[o.jsx(No,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:v.title}),k&&o.jsxs(Rn,{variant:"secondary",className:"text-xs",children:[o.jsx(qs,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:j?j.title:(Qe=v.contentDto)==null?void 0:Qe.title}),j&&j.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:j.contentType})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx($t,{className:"w-4 h-4"}),o.jsxs("span",{children:[P.filter(H=>H.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[ye?o.jsx(OC,{className:"w-4 h-4 text-green-400"}):o.jsx(LC,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:ye?"text-green-400":"text-yellow-400",children:ye?"":$e==="connecting"?" ":" "}),X>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",X,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(B,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(_d,{className:"w-5 h-5"}),c?o.jsx(Pr,{className:"w-4 h-4 ml-1"}):o.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]}),!ye&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:$e==="connecting"?"   ...":$e==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{ref:Ee,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API  ..."})]})}),l&&!xe&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[j&&j.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:j.thumbnailUrl,alt:j.title,className:"w-full h-full object-cover",onError:H=>{const me=H.target;me.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Et,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60 mb-2",children:j?j.title:"   ..."}),U?o.jsxs("p",{className:"text-white/40 text-sm",children:["YouTube  ID   ",o.jsx("br",{}),"URL: ",U]}):o.jsx("p",{className:"text-white/40 text-sm",children:" YouTube URL  "})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:ee?"block":"none",position:"relative",zIndex:1,pointerEvents:"auto"}}),!ee&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((nt=(lt=v==null?void 0:v.contentDto)==null?void 0:lt.title)==null?void 0:nt.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:`absolute inset-0 bg-black/30 flex items-center justify-center transition-opacity duration-300 ${ae&&!w?"opacity-0":"opacity-100"}`,style:{zIndex:10,pointerEvents:ae&&!w?"none":"auto"},children:[o.jsx(B,{size:"lg",onClick:()=>{console.log("    !",{isHost:k,disabled:!k}),we()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:!k,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${k?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,style:{position:"relative",zIndex:20,pointerEvents:k?"auto":"none"},children:ae?o.jsx(T0,{className:"w-10 h-10 fill-current"}):o.jsx(Et,{className:"w-10 h-10 fill-current ml-1"})}),!k&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(qs,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 bg-black/50 backdrop-blur-sm
                        transition-opacity duration-300 z-50
                        ${ae&&!w&&!a?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}
                        ${a?"hidden":""} `,children:o.jsx(Z3,{playerController:W,isHost:k,isPlaying:ae,currentTime:pe,totalDuration:J,onPlayPause:we,onSeek:he,onVolumeChange:ue,onFullscreenToggle:Oe,isFullscreen:a,disabled:!ye||!ee,onPermissionDenied:()=>A(!0)})}),a&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>f(!h),className:"p-1 hover:bg-white/10",children:o.jsx($t,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[P.filter(H=>H.isOnline).length,"  "]})]}),h&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${P.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:P.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):P.map(H=>{var me;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(st,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{H.userId!==n&&s&&s(H.userId)},children:[o.jsx(ot,{src:H.userAvatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:((me=H.userName)==null?void 0:me.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${H.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{H.userId!==n&&s&&s(H.userId)},children:H.userName}),H.isHost&&o.jsxs(Rn,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(qs,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${H.isOnline?"bg-green-400":"bg-gray-400"}`})]},H.userId+H.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[C&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),T.map(H=>{var me,Le;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(st,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(ot,{src:(me=P.find(oe=>oe.userId===H.senderId))==null?void 0:me.userAvatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:H.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:H.senderName}),((Le=P.find(oe=>oe.userId===H.senderId))==null?void 0:Le.isHost)&&o.jsx(qs,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:it(H.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:H.content})]})]})},H.id)}),o.jsx("div",{ref:se})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Ve,{placeholder:ye?" ...":"  ...",value:m,onChange:H=>p(H.target.value),onKeyPress:H=>H.key==="Enter"&&yt(),disabled:!ye,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx(B,{onClick:yt,disabled:!m.trim()||!ye,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(dh,{className:"w-4 h-4"})})]})})]})})]}),o.jsx(e5,{open:N,onClose:()=>A(!1)}),o.jsx(Bh,{open:b,onOpenChange:g,children:o.jsxs(Wh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(Vh,{children:[o.jsx(Kh,{className:"text-white",children:" "}),o.jsx(Yh,{className:"text-white/70",children:k?"   .  ?":" ?"})]}),o.jsxs(Hh,{children:[o.jsx(Uw,{onClick:()=>g(!1),className:"border-white/20 hover:bg-white/5 text-white",children:""}),o.jsx(Gh,{onClick:ke,className:"bg-red-600 hover:bg-red-700 text-white",children:""})]})]})})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function r5({onJoinRoom:e,onCreateRoom:t,currentUserId:n}){const[r,s]=d.useState(""),[a,i]=d.useState("participants"),[l,c]=d.useState([]),[u,h]=d.useState(!0),[f,m]=d.useState(null),[p,w]=d.useState(!1),[x,b]=d.useState(null),g=async(E=!0)=>{try{E?h(!0):w(!0),m(null);const P=await Ya.getWatchRooms({query:r,sortBy:a==="participants"?"participantCount":"createdAt"});c(P)}catch(P){console.error("   :",P),m(P instanceof Error?P.message:"     .")}finally{h(!1),w(!1)}};d.useEffect(()=>{const E=setTimeout(()=>{g(!1)},300);return()=>clearTimeout(E)},[r,a]),d.useEffect(()=>{g(!0)},[]);const v=l.filter(E=>E.headCount>=10),y=l,j=async E=>{if(!x){b(E.id);try{await(e==null?void 0:e(E))}finally{b(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(B,{onClick:()=>g(!1),disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[p?o.jsx(tn,{className:"w-4 h-4 animate-spin"}):o.jsx(ps,{className:"w-4 h-4"}),""]}),o.jsxs(B,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ve,{placeholder:" , ,  ...",value:r,onChange:E=>s(E.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs($h,{value:a,onValueChange:E=>i(E),children:[o.jsx(Fh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(zh,{placeholder:""})}),o.jsxs(Uh,{children:[o.jsx(Vn,{value:"participants",children:"  "}),o.jsx(Vn,{value:"latest",children:""}),o.jsx(Vn,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",y.length,"  "]}),o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4] border border-[#4ecdc4]/30",children:[o.jsx($t,{className:"w-3 h-3 mr-1 inline"}),""]})]})]}),f&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:f}),o.jsx(B,{onClick:()=>g(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!u&&!f&&o.jsxs(o.Fragment,{children:[!r&&v.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(fh,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(E=>{var P,R,T;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(P=E.contentDto)!=null&&P.thumbnailUrl?o.jsx("img",{src:E.contentDto.thumbnailUrl,alt:E.contentDto.title,className:"w-full h-full object-cover",onError:S=>{var k;S.currentTarget.style.display="none",(k=S.currentTarget.nextElementSibling)==null||k.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(R=E.contentDto)!=null&&R.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",E.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(B,{size:"sm",onClick:S=>{S.stopPropagation(),j(E)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===E.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(T=E.contentDto)==null?void 0:T.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[E.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ps,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[E.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",E.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},E.id)})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(E=>{var P,R,T;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(P=E.contentDto)!=null&&P.thumbnailUrl?o.jsx("img",{src:E.contentDto.thumbnailUrl,alt:E.contentDto.title,className:"w-full h-full object-cover",onError:S=>{var k;S.currentTarget.style.display="none",(k=S.currentTarget.nextElementSibling)==null||k.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(R=E.contentDto)!=null&&R.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",E.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(B,{size:"sm",onClick:S=>{S.stopPropagation(),j(E)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===E.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(T=E.contentDto)==null?void 0:T.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[E.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ps,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[E.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",E.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},E.id)})})]}),y.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx($t,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:r?"  .":n?"   .":"      ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[r&&o.jsx(B,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"  "}),n?o.jsxs(B,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"  "]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/40 text-sm mb-2",children:"   "}),o.jsx(B,{variant:"outline",onClick:()=>window.location.reload(),className:"border-[#4ecdc4]/30 text-[#4ecdc4] hover:bg-[#4ecdc4]/10",children:""})]})]})]})]})]})})}var Dc="Switch",[s5,z5]=On(Dc),[o5,a5]=s5(Dc),k1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,p]=d.useState(null),w=Re(t,y=>p(y)),x=d.useRef(!1),b=m?h||!!m.closest("form"):!0,[g,v]=bs({prop:s,defaultProp:a??!1,onChange:u,caller:Dc});return o.jsxs(o5,{scope:n,checked:g,disabled:l,children:[o.jsx(Se.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":P1(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:be(e.onClick,y=>{v(j=>!j),b&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),b&&o.jsx(R1,{control:m,bubbles:!x.current,name:r,value:c,checked:g,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});k1.displayName=Dc;var E1="SwitchThumb",T1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=a5(E1,n);return o.jsx(Se.span,{"data-state":P1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});T1.displayName=E1;var i5="SwitchBubbleInput",R1=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=d.useRef(null),l=Re(i,a),c=Oh(n),u=Ih(t);return d.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(h,n),h.dispatchEvent(w)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});R1.displayName=i5;function P1(e){return e?"checked":"unchecked"}var l5=k1,c5=T1;function u5({className:e,...t}){return o.jsx(l5,{"data-slot":"switch",className:Te("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(c5,{"data-slot":"switch-thumb",className:Te("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Hg({isOpen:e,onClose:t,onCreateWatchParty:n,content:r}){const[s,a]=d.useState(!0),[i,l]=d.useState("");d.useEffect(()=>{r&&e&&l(`${r.title} `)},[r,e]);const c=()=>{const u={isPublic:s,roomName:i||`${r==null?void 0:r.title} `};n(u)};return r?o.jsx(mc,{open:e,onOpenChange:t,children:o.jsxs(pc,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(gc,{children:o.jsxs(vc,{className:"flex items-center space-x-2",children:[o.jsx($t,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:" "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover",onError:u=>{const h=u.target;h.style.display="none",h.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:r.title}),o.jsx("p",{className:"text-sm text-white/60",children:r.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:r.description})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx($t,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ht,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(Ve,{id:"roomName",value:i,onChange:u=>l(u.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[s?o.jsx(Dl,{className:"w-4 h-4 text-green-400"}):o.jsx(Ll,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Ht,{htmlFor:"isPublic",className:"text-sm",children:s?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:s?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(u5,{id:"isPublic",checked:s,onCheckedChange:a,disabled:!0})})]})}),o.jsxs(B,{onClick:c,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!i.trim(),children:[o.jsx($t,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})]})}):null}function Kg({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:a}){const[i,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(""),[b,g]=d.useState(!0),[v,y]=d.useState([]),[j,E]=d.useState(!1);d.useEffect(()=>{e&&P()},[e]);const P=async()=>{try{E(!0);const D=await r();y(D)}catch(D){console.error("Error loading playlists:",D)}finally{E(!1)}},R=v.filter(D=>D.title.toLowerCase().includes(i.toLowerCase())||D.description.toLowerCase().includes(i.toLowerCase())),T=D=>{u(L=>L.includes(D)?L.filter(K=>K!==D):[...L,D])},S=async()=>{if(n)try{const D=c.map(L=>a(L,[n.id]));await Promise.all(D),alert(`"${n.title}"() ${c.length}  .`),u([]),l(""),t()}catch(D){console.error("   :",D),alert("     .")}},k=async()=>{if(!(!m.trim()||!n))try{const D=await s({name:m,description:w,isPublic:b});await a(D.id,[n.id]),alert(`  "${m}"()  "${n.title}"() .`),p(""),x(""),g(!0),f(!1),t()}catch(D){console.error("Error creating playlist:",D),alert("    .")}},_=()=>{u([]),l(""),f(!1),p(""),x(""),g(!0)},C=()=>{_(),t()};return n?o.jsx(mc,{open:e,onOpenChange:C,children:o.jsxs(pc,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(gc,{children:o.jsx(vc,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(st,{className:"h-12 w-12 rounded-lg",children:[o.jsx(ot,{src:n.thumbnail,className:"object-cover"}),o.jsx(at,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"":n.type==="tv"?"TV":"","  ",n.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ve,{placeholder:" ",value:m,onChange:D=>p(D.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Ve,{placeholder:" ()",value:w,onChange:D=>x(D.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[b?o.jsx(Dl,{className:"w-4 h-4 text-green-400"}):o.jsx(Ll,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:b?"":""})]}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>g(!b),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(B,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx(B,{onClick:k,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Ve,{placeholder:" ...",value:i,onChange:D=>l(D.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(B,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:j?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):R.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:i?"  ":" "}):R.map(D=>o.jsxs("div",{onClick:()=>T(D.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(D.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(st,{className:"h-10 w-10 rounded-lg",children:[o.jsx(ot,{src:D.thumbnail,className:"object-cover"}),o.jsx(at,{children:D.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:D.title}),D.isPublic?o.jsx(Dl,{className:"w-3 h-3 text-green-400"}):o.jsx(Ll,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[D.contentCount," "]})]}),c.includes(D.id)&&o.jsx(Pa,{className:"w-5 h-5 text-[#4ecdc4]"})]},D.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(B,{variant:"outline",onClick:C,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs(B,{onClick:S,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function Yg({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState(""),[m,p]=d.useState("select"),[w,x]=d.useState(!1),[b,g]=d.useState(null),[v,y]=d.useState([]),[j,E]=d.useState(!1),[P,R]=d.useState(!1),[T,S]=d.useState(),[k,_]=d.useState(!1),C=async(N=!1)=>{try{N?_(!0):E(!0),g(null);const A=await fs.getContents({type:i==="all"?void 0:i.toUpperCase(),query:s||void 0,cursor:N?T:void 0,size:20});y(N?O=>[...O,...A.data]:A.data),R(A.hasNext),S(A.nextCursor)}catch(A){console.error("  :",A),g(A instanceof Error?A.message:"    .")}finally{E(!1),_(!1)}};d.useEffect(()=>{e&&C(!1)},[e]),d.useEffect(()=>{if(!e)return;const N=setTimeout(()=>{C(!1)},300);return()=>clearTimeout(N)},[s,i,e]);const D=()=>{P&&!j&&!k&&C(!0)},L=N=>{u(N),f(`${N.title} `),p("create"),g(null)},K=async()=>{if(!c||!h.trim()){g("  .");return}x(!0),g(null);try{const N={contentId:c.id,ownerId:r,title:h.trim()},A=await Ya.createWatchRoom(N),O=`room-content-${A.id}`;localStorage.setItem(O,JSON.stringify({contentId:c.id,contentData:c,savedAt:Date.now()})),n(A),U()}catch(N){console.error("  :",N),g(N instanceof Error?N.message:"    .")}finally{x(!1)}},U=()=>{a(""),l("all"),u(null),f(""),p("select"),x(!1),g(null),y([]),E(!1),R(!1),S(void 0),_(!1),t()},M=N=>{switch(N){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:m,selectedContent:c,loading:j}),o.jsx(mc,{open:e,onOpenChange:U,children:o.jsxs(pc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(gc,{children:o.jsx(vc,{className:"text-xl",children:m==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),m==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ve,{placeholder:" ...",value:s,onChange:N=>a(N.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs($h,{value:i,onValueChange:l,children:[o.jsx(Fh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(zh,{placeholder:""})}),o.jsxs(Uh,{children:[o.jsx(Vn,{value:"all",children:""}),o.jsx(Vn,{value:"movie",children:""}),o.jsx(Vn,{value:"tv",children:"TV/"}),o.jsx(Vn,{value:"sports",children:""})]})]})]}),j&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),b&&!j&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:b}),o.jsx(B,{onClick:()=>C(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!j&&!b&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[v.map(N=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>L(N),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:N.thumbnail||N.thumbnailUrl,alt:N.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{const O=A.target;O.style.display="none";const te=O.parentElement;if(te&&!te.querySelector(".image-fallback")){const $=document.createElement("div");$.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",$.textContent=N.title.charAt(0).toUpperCase(),te.appendChild($)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(B,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:w,children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:N.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:N.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[N.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:`w-3 h-3 ${N.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-xs",children:N.avgRating.toFixed(2)})]}),o.jsx(Rn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:M(N.contentType)})]})]})]},N.id)),P&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx(B,{onClick:D,disabled:k||w,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:k?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!j&&!b&&v.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx(B,{variant:"outline",onClick:()=>{a(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail||c.thumbnailUrl,alt:c.title,className:"w-full h-full object-cover",onError:N=>{const A=N.target;A.style.display="none";const O=A.parentElement;if(O&&!O.querySelector(".image-fallback")){const te=document.createElement("div");te.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",te.textContent=c.title.charAt(0).toUpperCase(),O.appendChild(te)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[c.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:`w-4 h-4 ${c.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:c.avgRating.toFixed(2)})]}),o.jsx(Rn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:M(c.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:" "}),o.jsx(Ve,{id:"room-title",placeholder:"  ...",value:h,onChange:N=>f(N.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[h.length,"/50"]})]}),b&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:b})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(B,{variant:"outline",onClick:()=>{p("select"),u(null),f(""),g(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:w,children:""}),o.jsx(B,{onClick:K,disabled:!c||!h.trim()||w,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:w?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var Au="rovingFocusGroup.onEntryFocus",d5={bubbles:!1,cancelable:!0},ii="RovingFocusGroup",[af,_1,f5]=Ch(ii),[h5,A1]=On(ii,[f5]),[m5,p5]=h5(ii),I1=d.forwardRef((e,t)=>o.jsx(af.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(af.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(g5,{...e,ref:t})})}));I1.displayName=ii;var g5=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),p=Re(t,m),w=Ga(a),[x,b]=bs({prop:i,defaultProp:l??null,onChange:c,caller:ii}),[g,v]=d.useState(!1),y=It(u),j=_1(n),E=d.useRef(!1),[P,R]=d.useState(0);return d.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Au,y),()=>T.removeEventListener(Au,y)},[y]),o.jsx(m5,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(T=>b(T),[b]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>R(T=>T+1),[]),onFocusableItemRemove:d.useCallback(()=>R(T=>T-1),[]),children:o.jsx(Se.div,{tabIndex:g||P===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{E.current=!0}),onFocus:be(e.onFocus,T=>{const S=!E.current;if(T.target===T.currentTarget&&S&&!g){const k=new CustomEvent(Au,d5);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const _=j().filter(U=>U.focusable),C=_.find(U=>U.active),D=_.find(U=>U.id===x),K=[C,D,..._].filter(Boolean).map(U=>U.ref.current);O1(K,h)}}E.current=!1}),onBlur:be(e.onBlur,()=>v(!1))})})}),D1="RovingFocusGroupItem",L1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Hr(),u=a||c,h=p5(D1,n),f=h.currentTabStopId===u,m=_1(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:x}=h;return d.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),o.jsx(af.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Se.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:be(e.onMouseDown,b=>{r?h.onItemFocus(u):b.preventDefault()}),onFocus:be(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:be(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=y5(b,h.orientation,h.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=m().filter(j=>j.focusable).map(j=>j.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const j=y.indexOf(b.currentTarget);y=h.loop?w5(y,j+1):y.slice(j+1)}setTimeout(()=>O1(y))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});L1.displayName=D1;var v5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function y5(e,t,n){const r=x5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return v5[r]}function O1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function w5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var b5=I1,S5=L1,Lc="Tabs",[N5,F5]=On(Lc,[A1]),M1=A1(),[j5,hm]=N5(Lc),$1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Ga(l),[f,m]=bs({prop:r,onChange:s,defaultProp:a??"",caller:Lc});return o.jsx(j5,{scope:n,baseId:Hr(),value:f,onValueChange:m,orientation:i,dir:h,activationMode:c,children:o.jsx(Se.div,{dir:h,"data-orientation":i,...u,ref:t})})});$1.displayName=Lc;var z1="TabsList",F1=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=hm(z1,n),i=M1(n);return o.jsx(b5,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(Se.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});F1.displayName=z1;var U1="TabsTrigger",B1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=hm(U1,n),l=M1(n),c=H1(i.baseId,r),u=K1(i.baseId,r),h=r===i.value;return o.jsx(S5,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Se.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:be(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:be(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:be(e.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!s&&f&&i.onValueChange(r)})})})});B1.displayName=U1;var W1="TabsContent",V1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=hm(W1,n),c=H1(l.baseId,r),u=K1(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(wr,{present:s||h,children:({present:m})=>o.jsx(Se.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});V1.displayName=W1;function H1(e,t){return`${e}-trigger-${t}`}function K1(e,t){return`${e}-content-${t}`}var C5=$1,k5=F1,E5=B1,T5=V1;function R5({className:e,...t}){return o.jsx(C5,{"data-slot":"tabs",className:Te("flex flex-col gap-2",e),...t})}function P5({className:e,...t}){return o.jsx(k5,{"data-slot":"tabs-list",className:Te("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Iu({className:e,...t}){return o.jsx(E5,{"data-slot":"tabs-trigger",className:Te("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Du({className:e,...t}){return o.jsx(T5,{"data-slot":"tabs-content",className:Te("flex-1 outline-none",e),...t})}function _5({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s}){const[a,i]=d.useState(null),[l,c]=d.useState([]),[u,h]=d.useState([]),[f,m]=d.useState([]),[p,w]=d.useState(!1),[x,b]=d.useState(!0),[g,v]=d.useState(null),[y,j]=d.useState(!1),E=e===t,P=async()=>{try{console.log("   :",e);const C=await r(`http://localhost:8080/api/users/${e}`);if(console.log("   :",{status:C.status,statusText:C.statusText,headers:Object.fromEntries(C.headers.entries())}),!C.ok){const L=await C.text();throw console.error("   :",{status:C.status,statusText:C.statusText,errorText:L}),new Error(`   . (${C.status})`)}const D=await C.json();console.log("   :",D),i(D)}catch(C){console.error("   :",C),v(C instanceof Error?C.message:"    .")}},R=async()=>{try{const C=await r(`http://localhost:8080/api/follows/${e}/followers`);if(!C.ok)throw new Error("   .");const D=await C.json();c(D)}catch(C){console.error("   :",C)}},T=async()=>{try{const C=await r(`http://localhost:8080/api/follows/${e}/following`);if(!C.ok)throw new Error("   .");const D=await C.json();h(D)}catch(C){console.error("   :",C)}},S=async()=>{try{const C=await r(`http://localhost:8080/api/users/${e}/playlists`);if(!C.ok)throw new Error("  .");const D=await C.json();m(D)}catch(C){console.error("  :",C),m([])}},k=async()=>{if(!(!t||E))try{const C=await r(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!C.ok)throw new Error("   .");const D=await C.json();w(D)}catch(C){console.error("   :",C),w(!1)}},_=async()=>{if(!(!t||E)){j(!0);try{if(p){if(!(await r(`http://localhost:8080/api/follows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");w(!1),c(D=>D.filter(L=>L.id!==t))}else{const C=new FormData;if(C.append("followerId",t),C.append("followingId",e),!(await r(`http://localhost:8080/api/follows/${e}`,{method:"POST"})).ok)throw new Error(" .");w(!0),a&&c(L=>[...L,{id:t,name:"",email:"",profileImage:""}])}}catch(C){console.error("  :",C),alert(C instanceof Error?C.message:"    .")}finally{j(!1)}}};return d.useEffect(()=>{e&&(async()=>{b(!0),v(null),await Promise.allSettled([P(),R(),T(),t?k():Promise.resolve(),S()]),b(!1)})()},[e,t]),x?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):g?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:g}),o.jsx(B,{onClick:n,variant:"outline",children:""})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(No,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(st,{className:"h-32 w-32",children:[o.jsx(ot,{src:a.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:l.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:u.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:f.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!E&&o.jsx(B,{onClick:_,disabled:y,className:`${p?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:y?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):p?o.jsxs(o.Fragment,{children:[o.jsx(R0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(hh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(R5,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(P5,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(Iu,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Dp,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Iu,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx($t,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Iu,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(Du,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(C=>{var D;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:C.name||C.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:C.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((D=C.contents)==null?void 0:D.length)||C.itemCount||0," "]})]})]},C.id)})}),f.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Dp,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(Du,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(C=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{C.id&&s&&s(C.id)},children:[o.jsxs(st,{className:"h-12 w-12",children:[o.jsx(ot,{src:C.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:C.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:C.name}),o.jsx("p",{className:"text-white/60 text-sm",children:C.email})]})]},C.id))}),l.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx($t,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(Du,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(C=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{C.id&&s&&s(C.id)},children:[o.jsxs(st,{className:"h-12 w-12",children:[o.jsx(ot,{src:C.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:C.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:C.name}),o.jsx("p",{className:"text-white/60 text-sm",children:C.email})]})]},C.id))}),u.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Gr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx(B,{onClick:n,variant:"outline",children:""})]})})}function A5(){const[e,t]=d.useState(!1),[n,r]=d.useState(null),s=yr(),[a]=aC(),i=s.pathname,l=window.location.pathname==="/oauth/callback",c=a.get("id"),u=i.startsWith("/playlist")&&!!c,[h,f]=d.useState(()=>{if(u)return console.log("   : playlist-detail ( )"),"playlist-detail";const z=localStorage.getItem("currentPage")||"home";return console.log("   :",z),z}),m=z=>{try{if(!z||typeof z!="string")return console.error("  :",z),null;const V=z.split(".");if(V.length!==3)return console.error(" JWT :",z),null;const G=JSON.parse(atob(V[1])),Q=G.userId||G.sub||G.id||null;return Q||console.error("  ID   :",G),Q}catch(V){return console.error("JWT   :",V,"Token:",z),null}},p=z=>{try{const V=JSON.parse(atob(z.split(".")[1])),G=Date.now()/1e3,Q=V.exp,Ne=5,Xe=Q<G+Ne;return console.log("  :",{currentTime:G,expTime:Q,bufferTime:Ne,isExpired:Xe,timeUntilExpiry:Q-G,payload:{...V,userId:V.userId||V.sub||V.id}}),Xe}catch(V){return console.error("   :",V),!0}},w=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),f("home")},x=(z,V=300)=>{try{const G=JSON.parse(atob(z.split(".")[1])),Q=Date.now()/1e3,Ne=G.iat;return Ne&&Q-Ne<V}catch(G){return console.error("    :",G),!1}},b=d.useRef(null),g=async()=>b.current?(console.log("    .   ."),b.current):(b.current=(async()=>{try{console.log("  ");const z=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",credentials:"include"});if(!z.ok)return console.log(`  : ${z.status} ${z.statusText}`),z.status===401?console.log("Refresh token ."):z.status===500&&console.log("    "),null;const V=await z.text();if(!V||V.trim()==="")return console.log("    "),null;const G=V.replace(/"/g,"");return console.log("  "),G}catch(z){return console.error("Token refresh :",z),null}finally{b.current=null}})(),b.current),v=async(z,V={})=>{let G=localStorage.getItem("accessToken");const Q=G?m(G):null;if(console.log("authenticatedFetch :",{url:z,accessToken:G?" ":" ",userIdFromToken:Q,currentUserId:n}),!G)throw console.error("  .  ."),w(),new Error("  .");if(p(G)&&!x(G)){console.log("   .");const cn=await g();if(cn){localStorage.setItem("accessToken",cn),G=cn;const Ao=m(cn);Ao&&r(Ao)}else throw w(),new Error(" .  .")}else p(G)&&x(G)&&console.log("    .");const $n={"Content-Type":"application/json",...["http://localhost:8080/api/auth/login","http://localhost:8080/api/auth/refresh","http://localhost:8080/api/auth/change-password","http://localhost:8080/api/auth/temp-password","http://localhost:8080/api/users"].some(cn=>z.startsWith(cn))?{}:{Authorization:`Bearer ${G}`},...V.headers||{}},li=await fetch(z,{...V,headers:$n,credentials:"include"});if(li.status===401){console.log("401  ,   ");const cn=await g();if(cn){localStorage.setItem("accessToken",cn),G=cn;const Ao=m(cn);Ao&&r(Ao),console.log("  ,  ");const nS={...$n,Authorization:`Bearer ${cn}`};return fetch(z,{...V,headers:nS,credentials:"include"})}else throw console.log("  ,  "),w(),new Error(" .  .")}if(li.status===403)throw console.log(" ."),new Error("    .");if(li.status===404)throw new Error("    .");return li},y=async z=>{try{await v(`http://localhost:8080/api/notifications/${z}`,{method:"DELETE"})}catch(V){throw console.error("  :",V),V}},j=async()=>{try{await v("http://localhost:8080/api/notifications",{method:"DELETE"})}catch(z){throw console.error("   :",z),z}},E=async()=>{try{const z=await v("http://localhost:8080/api/dmRooms/");if(!z.ok)throw new Error("DM    ");return await z.json()}catch(z){throw console.error("DM    :",z),z}},P=async z=>{try{const V=await v(`http://localhost:8080/api/dmRooms/userRoom?userB=${z}`);if(!V.ok)throw new Error("DM  / ");return await V.json()}catch(V){throw console.error("DM  / :",V),V}},R=async(z,V)=>{try{const G=new URLSearchParams;V!=null&&V.cursor&&G.append("cursor",V.cursor),V!=null&&V.size&&G.append("size",V.size.toString());const Q=await v(`http://localhost:8080/api/dmRooms/${z}/dms?${G}`);if(!Q.ok)throw new Error("DM    ");return await Q.json()}catch(G){throw console.error("DM    :",G),G}},T=async(z,V="all")=>{try{let G,Q;if(V==="subscribed")G="http://localhost:8080/api/playlists/subscribed";else if(z&&z.trim()!==""){const Xe=new URLSearchParams;Xe.append("keyword",z.trim()),G=`http://localhost:8080/api/playlists/search?${Xe}`}else G="http://localhost:8080/api/playlists";if(console.log(" API :",G),Q=await v(G),console.log("  :",Q.status,Q.statusText),!Q.ok){let Xe="   ";try{const dt=await Q.text();console.error("  :",dt),Xe=`${Q.status} ${Q.statusText}: ${dt}`}catch(dt){console.error("   :",dt)}throw new Error(Xe)}const Ne=await Q.json();return console.log("  :",{url:G,status:Q.status,dataType:Array.isArray(Ne)?` (: ${Ne.length})`:typeof Ne,data:Array.isArray(Ne)&&Ne.length>0?Ne.slice(0,2):Ne,headers:Object.fromEntries(Q.headers.entries())}),Array.isArray(Ne)&&z&&z.trim()!==""?Ne.filter(dt=>dt.userId===n?!0:dt.isPublic===!0):Ne}catch(G){throw console.error("    :",G),G}},S=async z=>{try{const V=`http://localhost:8080/api/playlists/${z}`,G=u;console.log("   API :",V,{isSharedAccess:G,isSharedPlaylistPage:u});let Q;if(G?(console.log("      "),Q=await fetch(V)):Q=await v(V),console.log("  :",Q.status,Q.statusText),!Q.ok){let Xe="  ";if(G&&Q.status===401)throw console.log("    "),new Error(" .   .");try{const dt=await Q.text();console.error("  :",dt),Xe=`${Q.status} ${Q.statusText}: ${dt}`}catch(dt){console.error("   :",dt)}throw new Error(Xe)}const Ne=await Q.json();return console.log("   :",{url:V,status:Q.status,data:Ne}),Ne}catch(V){throw console.error("   :",V),V}},k=async z=>{var V,G;try{if(!z.name||z.name.trim()==="")throw new Error("  .");if(!n)throw new Error(" .");const Q={name:z.name.trim(),description:z.description||"",isPublic:z.isPublic??!0};console.log("   :",Q);const Ne=await v("http://localhost:8080/api/playlists",{method:"POST",body:JSON.stringify(Q)});if(console.log("    :",Ne.status,Ne.statusText),!Ne.ok){let dt="  ";try{const $n=await Ne.json();console.error("   :",$n),dt=$n.message||dt}catch($n){console.error("Error parsing error response:",$n)}throw new Error(dt)}const Xe=await Ne.json();return console.log("   :",{createdPlaylist:Xe,createdBy:(V=Xe.user)==null?void 0:V.id,createdByName:(G=Xe.user)==null?void 0:G.name,currentUserId:n}),Xe}catch(Q){throw console.error("  :",Q),Q}},_=async z=>{try{if(!n)throw new Error(" .");console.log("   :",z),await Ol.deletePlaylist(z),console.log("   :",z)}catch(V){throw console.error("   :",V),V}},C=async(z,V)=>{try{if(!V||V.length===0)throw new Error("  .");const G={contentIds:V},Q=await v(`http://localhost:8080/api/playlists/${z}/contents`,{method:"POST",body:JSON.stringify(G)});if(!Q.ok){let dt="   ";try{dt=(await Q.json()).message||dt}catch($n){console.error("Error parsing error response:",$n)}throw new Error(dt)}let Ne=null;const Xe=await Q.text();return Xe&&(Ne=JSON.parse(Xe)),console.log("   :",Ne),Ne}catch(G){throw console.error("   :",G),G}},D=async(z,V)=>{try{if(!V||V.length===0)throw new Error("  .");const G={contentIds:V},Q=await v(`http://localhost:8080/api/playlists/${z}/contents`,{method:"DELETE",body:JSON.stringify(G)});if(!Q.ok){let Ne="   ";try{Ne=(await Q.json()).message||Ne}catch(Xe){console.error("Error parsing error response:",Xe)}throw new Error(Ne)}console.log("   ")}catch(G){throw console.error("   :",G),G}},L=async z=>{try{if(!n)throw new Error(" ");console.log("   :",{userId:n,playlistId:z});const V={userId:n,playlistId:z};console.log("   :",V);const G=await v("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(console.log("   :",G.status,G.statusText),!G.ok){let Q="  ";try{Q=(await G.json()).message||Q}catch(Ne){console.error("Error parsing error response:",Ne)}throw new Error(Q)}console.log("  ")}catch(V){throw console.error("  :",V),V}},K=async z=>{try{console.log("    :",{subscriptionId:z});const V=await v(`http://localhost:8080/api/subscriptions/${z}`,{method:"DELETE"});if(console.log("    :",V.status,V.statusText),!V.ok){let G="   ";try{G=(await V.json()).message||G}catch(Q){console.error("Error parsing error response:",Q)}throw new Error(G)}console.log("   ")}catch(V){throw console.error("   :",V),V}},[U,M]=d.useState(()=>u?a.get("id"):null),[N,A]=d.useState(null),[O,te]=d.useState(null),[$,Z]=d.useState(!1),[se,ce]=d.useState(!1),[Ee,J]=d.useState(null),[ae,fe]=d.useState(!1),[pe,ie]=d.useState(!1),[xe,ye]=d.useState(null),[$e,ht]=d.useState(0),[I,Y]=d.useState(!1),[ne,X]=d.useState(null),[F,W]=d.useState(!1),[ee,we]=d.useState(null),[Ce,ke]=d.useState(!1),[he,ue]=d.useState(null),[Oe,yt]=d.useState(!1),it=u,mt=()=>{const z=new URL(window.location.href);if(z.pathname==="/oauth/callback"){const G=z.searchParams.get("access_token");G?(lt(G),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}},Qe=()=>{const V=new URLSearchParams(window.location.search).get("playlist");V&&(console.log("    :",V),f("playlist-detail"),M(V),localStorage.setItem("currentPage","playlist-detail"),window.history.replaceState({},document.title,"/"),console.log("     "))};d.useEffect(()=>{(async()=>{mt(),Qe();const V=localStorage.getItem("accessToken");if(V){if(p(V)){console.log("  ,      "),w();return}const G=m(V);G?(r(G),t(!0)):(console.log("  ID  "),localStorage.removeItem("accessToken"),w())}})()},[]),d.useEffect(()=>{if(!e)return;const V=setInterval(async()=>{const G=localStorage.getItem("accessToken");if(G&&p(G)){console.log("  ,  ");const Q=await g();if(Q){localStorage.setItem("accessToken",Q);const Ne=m(Q);Ne&&r(Ne),console.log("  ")}else console.log("  ,  "),w()}},3e4);return()=>clearInterval(V)},[e]);const lt=z=>{localStorage.setItem("accessToken",z);const V=m(z);V?(r(V),t(!0)):(localStorage.removeItem("accessToken"),t(!1)),t(!0)},nt=z=>{if(console.log("  :",z),z==="create-room"){ke(!0);return}f(z),localStorage.setItem("currentPage",z);const V={page:z,selectedPlaylistId:U,selectedContentDetail:N,selectedUserId:O,currentWatchRoomId:he};window.history.pushState(V,"",window.location.pathname),console.log("   :",V),z!=="playlist-detail"&&M(null),z!=="watch-party"&&ue(null),z!=="content-detail"&&A(null),z!=="user-profile"&&te(null)};d.useEffect(()=>{localStorage.setItem("currentPage",h)},[h]),d.useEffect(()=>{const z=G=>{if(console.log(" popstate  :",G.state),G.state){console.log("    :",G.state);const Q=G.state.page||"home";["watch-party","content-detail","user-profile"].includes(Q)?Q==="watch-party"&&!G.state.currentWatchRoomId?(console.log("    ID    "),f("live"),localStorage.setItem("currentPage","live")):Q==="content-detail"&&!G.state.selectedContentDetail?(console.log("       "),f("home"),localStorage.setItem("currentPage","home")):Q==="user-profile"&&!G.state.selectedUserId?(console.log("     ID   "),f("home"),localStorage.setItem("currentPage","home")):(f(Q),localStorage.setItem("currentPage",Q)):(f(Q),localStorage.setItem("currentPage",Q)),M(G.state.selectedPlaylistId||null),A(G.state.selectedContentDetail||null),te(G.state.selectedUserId||null),ue(G.state.currentWatchRoomId||null)}else{const Q=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",Q),["watch-party","content-detail","user-profile"].includes(Q)?(console.log("       "),f("home"),localStorage.setItem("currentPage","home")):f(Q),M(null),A(null),te(null),ue(null)}};return(()=>{const G=["watch-party","content-detail","user-profile"];let Q=h;u?Q="playlist-detail":G.includes(h)&&(h==="watch-party"&&!he||h==="content-detail"&&!N||h==="user-profile"&&!O)&&(Q="home");const Ne={page:Q,selectedPlaylistId:u?a.get("id"):U,selectedContentDetail:N,selectedUserId:O,currentWatchRoomId:he};Q!==h&&(f(Q),localStorage.setItem("currentPage",Q),console.log("     :",h,"->",Q)),window.history.replaceState(Ne,"",window.location.pathname),console.log("    :",Ne)})(),window.addEventListener("popstate",z),()=>{window.removeEventListener("popstate",z)}},[]),d.useLayoutEffect(()=>{if(!e&&u){const z=a.get("id");if(z){console.log("      playlist-detail "),M(z),console.log(" setSelectedPlaylistId   (id):",z),console.log(" setSelectedPlaylistId  selectedPlaylistId:",U),f("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const V={page:"playlist-detail",selectedPlaylistId:z,selectedContentDetail:N,selectedUserId:O,currentWatchRoomId:he};window.history.replaceState(V,"",window.location.pathname),console.log("     :",V)}}},[e,u,a]);const H=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),f("home")},me=()=>{Z(!$)},Le=async()=>{const z=prompt("    :");if(!(z!=null&&z.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.trim())){alert("   .");return}try{const G=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:z.trim()})});if(!G.ok){let Q="   .";try{Q=(await G.json()).message||Q}catch(Ne){console.error("Error parsing error response:",Ne)}throw new Error(Q)}alert(`${z}   .
       .`)}catch(G){console.error("   :",G),alert(G instanceof Error?G.message:"     .")}},oe=z=>{M(z),f("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const V={page:"playlist-detail",selectedPlaylistId:z,selectedContentDetail:N,selectedUserId:O,currentWatchRoomId:he};window.history.pushState(V,"",window.location.pathname),console.log("     :",V)},Ge=()=>{M(null),f("playlist"),localStorage.setItem("currentPage","playlist");const z={page:"playlist",selectedPlaylistId:null,selectedContentDetail:N,selectedUserId:O,currentWatchRoomId:he};window.history.pushState(z,"",window.location.pathname),console.log("    :",z)},pt=z=>{A(z),f("content-detail"),localStorage.setItem("currentPage","content-detail");const V={page:"content-detail",selectedPlaylistId:U,selectedContentDetail:z,selectedUserId:O,currentWatchRoomId:he};window.history.pushState(V,"",window.location.pathname),console.log("     :",V)},Nr=()=>{let z="home";N&&(z={movie:"movies",tv:"tv",sports:"sports"}[N.type]||"home"),A(null),f(z),localStorage.setItem("currentPage",z);const V={page:z,selectedPlaylistId:U,selectedContentDetail:null,selectedUserId:O,currentWatchRoomId:he};window.history.pushState(V,"",window.location.pathname),console.log("     :",V)},ct=z=>{const V={...z,year:z.year||2024,rating:z.rating||4};we(V),W(!0)},Bt=()=>{W(!1),we(null)},Rt=z=>{X(z),Y(!0)},ve=async z=>{if(!ne)return;const V=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",z),console.log("Room code:",V);try{if(console.log("  :",{config:z,selectedContent:ne}),!n){alert(" .");return}const G={contentId:ne.id,ownerId:n,title:z.roomName},Q=await Ya.createWatchRoom(G);console.log("  :",Q),ue(Q.id),yt(!0),f("watch-party"),localStorage.setItem("currentPage","watch-party"),console.log("  :",{roomId:Q.id})}catch(G){console.error("  :",G),alert("  .  .")}Y(!1),X(null)},ge=z=>{ue(z.id),yt(!1),f("watch-party"),localStorage.setItem("currentPage","watch-party");const V={page:"watch-party",selectedPlaylistId:U,selectedContentDetail:N,selectedUserId:O,currentWatchRoomId:z.id};window.history.pushState(V,"",window.location.pathname),console.log("    :",V)},je=z=>{ue(z.id),yt(!0),ke(!1),f("watch-party"),localStorage.setItem("currentPage","watch-party");const V={page:"watch-party",selectedPlaylistId:U,selectedContentDetail:N,selectedUserId:O,currentWatchRoomId:z.id};window.history.pushState(V,"",window.location.pathname),console.log("    :",V)},ze=()=>{ue(null),yt(!1),f("live"),localStorage.setItem("currentPage","live");const z={page:"live",selectedPlaylistId:U,selectedContentDetail:N,selectedUserId:O,currentWatchRoomId:null};window.history.pushState(z,"",window.location.pathname),console.log("    :",z)},Fe=()=>{ke(!0)},Ue=()=>{ke(!1)},Be=()=>{J(null),ce(!0)},Je=()=>{ce(!1),J(null)},ut=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},ln=z=>{te(z),f("user-profile"),localStorage.setItem("currentPage","user-profile");const V={page:"user-profile",selectedPlaylistId:U,selectedContentDetail:N,selectedUserId:z,currentWatchRoomId:he};window.history.pushState(V,"",window.location.pathname),console.log("     :",V)},Y1=()=>{n&&ln(n)},G1=()=>{te(null),f("home"),localStorage.setItem("currentPage","home");const z={page:"home",selectedPlaylistId:U,selectedContentDetail:N,selectedUserId:null,currentWatchRoomId:he};window.history.pushState(z,"",window.location.pathname),console.log("     :",z)},X1=()=>{pe?(ie(!1),ye(null),fe(!0)):fe(!ae)},q1=()=>{fe(!1)},mm=()=>{fe(!1),ie(!1),ye(null)},Q1=z=>{ye(z),fe(!1),ie(!0)},J1=()=>{ie(!1),ye(null)},Z1=()=>{ie(!1),ye(null),fe(!0)},eS=()=>{(ae||pe)&&mm()},tS=()=>{console.log("App.tsx - handleDMReceived "),console.log(" DM   - DM    "),ht(z=>{const V=z+1;return console.log(`dmRefreshTrigger : ${z} -> ${V}`),V})};if(console.log(" isLoggedIn:",e),console.log(" pathname:",i),console.log(" searchParams:",a.toString()),console.log(" isSharedPlaylistPage:",u),!e&&!l&&!u)return console.log("   :",{isLoggedIn:e,accessToken:localStorage.getItem("accessToken"),userId:n}),o.jsx("div",{children:o.jsx(jE,{onLogin:lt,onToggleAuth:me,onForgotPassword:Le,isRegister:$})});const pm=()=>{switch(console.log("  :",h),h){case"curation":return o.jsx(_E,{onContentPlay:Rt,onContentDetail:pt,onAddToPlaylist:ct,userId:n||void 0});case"movies":return o.jsx(bu,{category:"movies",onContentPlay:Rt,onContentDetail:pt,onAddToPlaylist:ct});case"tv":return o.jsx(bu,{category:"tv",onContentPlay:Rt,onContentDetail:pt,onAddToPlaylist:ct});case"sports":return o.jsx(bu,{category:"sports",onContentPlay:Rt,onContentDetail:pt,onAddToPlaylist:ct});case"playlist":return o.jsx(Yp,{onPlaylistOpen:oe,getPlaylists:T,createPlaylist:k,subscribePlaylist:L,unsubscribePlaylist:K,deletePlaylist:_,currentUserId:n||void 0,onUserProfileOpen:ln});case"playlist-detail":return console.log(" renderCurrentPage - playlist-detail , selectedPlaylistId:",U),console.log(" renderCurrentPage - playlist-detail  ",{selectedPlaylistId:U,isSharedPlaylistPage:u}),u&&!U?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"  ..."}):U?o.jsx(rT,{playlistId:U,onBack:Ge,onContentPlay:Rt,getPlaylistById:S,addPlaylistContents:C,deletePlaylistContents:D,deletePlaylist:_,currentUserId:n||void 0,isSharedAccess:it}):o.jsx(Yp,{onPlaylistOpen:oe,getPlaylists:T,createPlaylist:k});case"content-detail":return N?o.jsx(mP,{content:N,onBack:Nr,onPlay:Rt,currentUser:n?{id:n,name:"",avatar:void 0}:void 0}):it?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:nt,onPlaylistOpen:oe,onContentPlay:Rt,onJoinRoom:ge});case"watch-party":return he&&n?o.jsx(n5,{roomId:he,userId:n,onBack:ze,shouldConnect:Oe,onUserProfileOpen:ln}):it?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:nt,onPlaylistOpen:oe,onContentPlay:Rt,onJoinRoom:ge});case"user-profile":return O?o.jsx(_5,{userId:O,currentUserId:n,onBack:G1,authenticatedFetch:v,onUserProfileOpen:ln},O):it?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:nt,onPlaylistOpen:oe,onContentPlay:Rt,onJoinRoom:ge});case"live":return o.jsx(r5,{onJoinRoom:ge,onCreateRoom:Fe,currentUserId:n});default:return it?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:nt,onPlaylistOpen:oe,onContentPlay:Rt,onJoinRoom:ge})}};return h==="watch-party"||h==="content-detail"||h==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[pm(),o.jsx(Hg,{isOpen:I,onClose:()=>Y(!1),onCreateWatchParty:ve,content:ne}),o.jsx(Kg,{isOpen:F,onClose:Bt,content:ee,getPlaylists:T,createPlaylist:k,addPlaylistContents:C}),o.jsx(Yg,{isOpen:Ce,onClose:Ue,onCreateRoom:je,userId:n||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(pE,{currentPage:h,onPageChange:nt,onProfileClick:Be,onMyProfileClick:Y1,onCloseDM:mm,onLogout:H,authenticatedFetch:v,userId:n,refreshUserProfile:ut,deleteNotification:y,deleteAllNotifications:j,refreshAccessToken:g,isSharedAccess:it,onDMReceived:tS}),o.jsx("main",{className:"flex-1",onClick:eS,children:pm()}),o.jsx(gE,{}),o.jsx(pP,{isOpen:se,onClose:Je,userId:n,targetUserId:Ee,authenticatedFetch:v,onUserProfileOpen:ln,refreshUserProfile:ut,onPlaylistOpen:oe}),!it&&o.jsxs(o.Fragment,{children:[o.jsx(MP,{isOpen:ae,onClose:q1,onOpenChat:Q1,authenticatedFetch:v,currentUserId:n,getDmRooms:E,getOrCreateDmRoom:P,refreshTrigger:$e}),o.jsx(P3,{isOpen:pe,onClose:J1,onBack:Z1,user:xe,currentUserId:n,getDmMessages:R,refreshTrigger:$e})]}),o.jsx(Hg,{isOpen:I,onClose:()=>Y(!1),onCreateWatchParty:ve,content:ne}),o.jsx(Kg,{isOpen:F,onClose:Bt,content:ee,getPlaylists:T,createPlaylist:k,addPlaylistContents:C}),o.jsx(Yg,{isOpen:Ce,onClose:Ue,onCreateRoom:je,userId:n||""}),!it&&o.jsx(B,{size:"lg",onClick:X1,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${ae||pe?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(_d,{className:"w-6 h-6"})}),o.jsx(ck,{richColors:!0,position:"top-center"})]})}Lu.createRoot(document.getElementById("root")).render(o.jsx(re.StrictMode,{children:o.jsx(tC,{children:o.jsx(A5,{})})}));
