var rS=Object.defineProperty;var sS=(e,t,n)=>t in e?rS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ft=(e,t,n)=>sS(e,typeof t!="symbol"?t+"":t,n);function oS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var aS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ev={exports:{}},Xl={},tv={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),iS=Symbol.for("react.portal"),lS=Symbol.for("react.fragment"),cS=Symbol.for("react.strict_mode"),uS=Symbol.for("react.profiler"),dS=Symbol.for("react.provider"),fS=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),mS=Symbol.for("react.suspense"),pS=Symbol.for("react.memo"),gS=Symbol.for("react.lazy"),Sm=Symbol.iterator;function vS(e){return e===null||typeof e!="object"?null:(e=Sm&&e[Sm]||e["@@iterator"],typeof e=="function"?e:null)}var nv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rv=Object.assign,sv={};function yo(e,t,n){this.props=e,this.context=t,this.refs=sv,this.updater=n||nv}yo.prototype.isReactComponent={};yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ov(){}ov.prototype=yo.prototype;function mf(e,t,n){this.props=e,this.context=t,this.refs=sv,this.updater=n||nv}var pf=mf.prototype=new ov;pf.constructor=mf;rv(pf,yo.prototype);pf.isPureReactComponent=!0;var Nm=Array.isArray,av=Object.prototype.hasOwnProperty,gf={current:null},iv={key:!0,ref:!0,__self:!0,__source:!0};function lv(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)av.call(t,r)&&!iv.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:za,type:e,key:a,ref:i,props:s,_owner:gf.current}}function xS(e,t){return{$$typeof:za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vf(e){return typeof e=="object"&&e!==null&&e.$$typeof===za}function yS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jm=/\/+/g;function $c(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yS(""+e.key):t.toString(36)}function Hi(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case za:case iS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+$c(i,0):r,Nm(s)?(n="",e!=null&&(n=e.replace(jm,"$&/")+"/"),Hi(s,t,n,"",function(u){return u})):s!=null&&(vf(s)&&(s=xS(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(jm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Nm(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+$c(a,l);i+=Hi(a,t,n,c,s)}else if(c=vS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+$c(a,l++),i+=Hi(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ci(e,t,n){if(e==null)return e;var r=[],s=0;return Hi(e,r,"","",function(a){return t.call(n,a,s++)}),r}function wS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Ki={transition:null},bS={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:gf};function cv(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:ci,forEach:function(e,t,n){ci(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ci(e,function(){t++}),t},toArray:function(e){return ci(e,function(t){return t})||[]},only:function(e){if(!vf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=yo;Re.Fragment=lS;Re.Profiler=uS;Re.PureComponent=mf;Re.StrictMode=cS;Re.Suspense=mS;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bS;Re.act=cv;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rv({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=gf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)av.call(t,c)&&!iv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:za,type:e.type,key:s,ref:a,props:r,_owner:i}};Re.createContext=function(e){return e={$$typeof:fS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dS,_context:e},e.Consumer=e};Re.createElement=lv;Re.createFactory=function(e){var t=lv.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:hS,render:e}};Re.isValidElement=vf;Re.lazy=function(e){return{$$typeof:gS,_payload:{_status:-1,_result:e},_init:wS}};Re.memo=function(e,t){return{$$typeof:pS,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Ki.transition;Ki.transition={};try{e()}finally{Ki.transition=t}};Re.unstable_act=cv;Re.useCallback=function(e,t){return Bt.current.useCallback(e,t)};Re.useContext=function(e){return Bt.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Bt.current.useEffect(e,t)};Re.useId=function(){return Bt.current.useId()};Re.useImperativeHandle=function(e,t,n){return Bt.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Bt.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return Bt.current.useReducer(e,t,n)};Re.useRef=function(e){return Bt.current.useRef(e)};Re.useState=function(e){return Bt.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return Bt.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return Bt.current.useTransition()};Re.version="18.3.1";tv.exports=Re;var d=tv.exports;const te=hf(d),uv=oS({__proto__:null,default:te},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS=d,NS=Symbol.for("react.element"),jS=Symbol.for("react.fragment"),CS=Object.prototype.hasOwnProperty,kS=SS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ES={key:!0,ref:!0,__self:!0,__source:!0};function dv(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)CS.call(t,r)&&!ES.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:NS,type:e,key:a,ref:i,props:s,_owner:kS.current}}Xl.Fragment=jS;Xl.jsx=dv;Xl.jsxs=dv;ev.exports=Xl;var o=ev.exports,$u={},fv={exports:{}},on={},hv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var B=T.length;T.push(I);e:for(;0<B;){var U=B-1>>>1,X=T[U];if(0<s(X,I))T[U]=I,T[B]=X,B=U;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],B=T.pop();if(B!==I){T[0]=B;e:for(var U=0,X=T.length,ee=X>>>1;U<ee;){var se=2*(U+1)-1,xe=T[se],ke=se+1,J=T[ke];if(0>s(xe,B))ke<X&&0>s(J,xe)?(T[U]=J,T[ke]=B,U=ke):(T[U]=xe,T[se]=B,U=se);else if(ke<X&&0>s(J,B))T[U]=J,T[ke]=B,U=ke;else break e}}return I}function s(T,I){var B=T.sortIndex-I.sortIndex;return B!==0?B:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,m=3,p=!1,w=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=T)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function N(T){if(x=!1,y(T),!w)if(n(c)!==null)w=!0,F(C);else{var I=n(u);I!==null&&_(N,I.startTime-T)}}function C(T,I){w=!1,x&&(x=!1,g(E),E=-1),p=!0;var B=m;try{for(y(I),f=n(c);f!==null&&(!(f.expirationTime>I)||T&&!D());){var U=f.callback;if(typeof U=="function"){f.callback=null,m=f.priorityLevel;var X=U(f.expirationTime<=I);I=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),y(I)}else r(c);f=n(c)}if(f!==null)var ee=!0;else{var se=n(u);se!==null&&_(N,se.startTime-I),ee=!1}return ee}finally{f=null,m=B,p=!1}}var P=!1,R=null,E=-1,b=5,j=-1;function D(){return!(e.unstable_now()-j<b)}function k(){if(R!==null){var T=e.unstable_now();j=T;var I=!0;try{I=R(!0,T)}finally{I?L():(P=!1,R=null)}}else P=!1}var L;if(typeof v=="function")L=function(){v(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=k,L=function(){K.postMessage(null)}}else L=function(){S(k,0)};function F(T){R=T,P||(P=!0,L())}function _(T,I){E=S(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,F(C))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var B=m;m=I;try{return T()}finally{m=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var B=m;m=T;try{return I()}finally{m=B}},e.unstable_scheduleCallback=function(T,I,B){var U=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?U+B:U):B=U,T){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,T={id:h++,callback:I,priorityLevel:T,startTime:B,expirationTime:X,sortIndex:-1},B>U?(T.sortIndex=B,t(u,T),n(c)===null&&T===n(u)&&(x?(g(E),E=-1):x=!0,_(N,B-U))):(T.sortIndex=X,t(c,T),w||p||(w=!0,F(C))),T},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(T){var I=m;return function(){var B=m;m=I;try{return T.apply(this,arguments)}finally{m=B}}}})(mv);hv.exports=mv;var TS=hv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS=d,sn=TS;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pv=new Set,ma={};function ks(e,t){io(e,t),io(e+"Capture",t)}function io(e,t){for(ma[e]=t,e=0;e<t.length;e++)pv.add(t[e])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=Object.prototype.hasOwnProperty,RS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cm={},km={};function _S(e){return zu.call(km,e)?!0:zu.call(Cm,e)?!1:RS.test(e)?km[e]=!0:(Cm[e]=!0,!1)}function AS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IS(e,t,n,r){if(t===null||typeof t>"u"||AS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xf=/[\-:]([a-z])/g;function yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xf,yf);Tt[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xf,yf);Tt[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xf,yf);Tt[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wf(e,t,n,r){var s=Tt.hasOwnProperty(t)?Tt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IS(t,n,s,r)&&(n=null),r||s===null?_S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vr=PS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ui=Symbol.for("react.element"),$s=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),vv=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),Uu=Symbol.for("react.suspense"),Bu=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),xv=Symbol.for("react.offscreen"),Em=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=Em&&e[Em]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,zc;function Xo(e){if(zc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zc=t&&t[1]||""}return`
`+zc+e}var Fc=!1;function Uc(e,t){if(!e||Fc)return"";Fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Fc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xo(e):""}function DS(e){switch(e.tag){case 5:return Xo(e.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return e=Uc(e.type,!1),e;case 11:return e=Uc(e.type.render,!1),e;case 1:return e=Uc(e.type,!0),e;default:return""}}function Wu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case $s:return"Portal";case Fu:return"Profiler";case bf:return"StrictMode";case Uu:return"Suspense";case Bu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vv:return(e.displayName||"Context")+".Consumer";case gv:return(e._context.displayName||"Context")+".Provider";case Sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nf:return t=e.displayName||null,t!==null?t:Wu(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return Wu(e(t))}catch{}}return null}function OS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wu(t);case 8:return t===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LS(e){var t=yv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function di(e){e._valueTracker||(e._valueTracker=LS(e))}function wv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vu(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bv(e,t){t=t.checked,t!=null&&wf(e,"checked",t,!1)}function Hu(e,t){bv(e,t);var n=Gr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ku(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ku(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ku(e,t,n){(t!=="number"||cl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qo=Array.isArray;function Qs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(qo(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gr(n)}}function Sv(e,t){var n=Gr(t.value),r=Gr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _m(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fi,jv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MS=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){MS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),na[t]=na[e]})});function Cv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||na.hasOwnProperty(e)&&na[e]?(""+t).trim():t+"px"}function kv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Cv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $S=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xu(e,t){if(t){if($S[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function qu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function jf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ju=null,Js=null,Zs=null;function Am(e){if(e=Ba(e)){if(typeof Ju!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=ec(t),Ju(e.stateNode,e.type,t))}}function Ev(e){Js?Zs?Zs.push(e):Zs=[e]:Js=e}function Tv(){if(Js){var e=Js,t=Zs;if(Zs=Js=null,Am(e),t)for(e=0;e<t.length;e++)Am(t[e])}}function Pv(e,t){return e(t)}function Rv(){}var Bc=!1;function _v(e,t,n){if(Bc)return e(t,n);Bc=!0;try{return Pv(e,t,n)}finally{Bc=!1,(Js!==null||Zs!==null)&&(Rv(),Tv())}}function ga(e,t){var n=e.stateNode;if(n===null)return null;var r=ec(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var Zu=!1;if(cr)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Zu=!1}function zS(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var ra=!1,ul=null,dl=!1,ed=null,FS={onError:function(e){ra=!0,ul=e}};function US(e,t,n,r,s,a,i,l,c){ra=!1,ul=null,zS.apply(FS,arguments)}function BS(e,t,n,r,s,a,i,l,c){if(US.apply(this,arguments),ra){if(ra){var u=ul;ra=!1,ul=null}else throw Error(Q(198));dl||(dl=!0,ed=u)}}function Es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Av(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Im(e){if(Es(e)!==e)throw Error(Q(188))}function WS(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Im(s),e;if(a===r)return Im(s),t;a=a.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function Iv(e){return e=WS(e),e!==null?Dv(e):null}function Dv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dv(e);if(t!==null)return t;e=e.sibling}return null}var Ov=sn.unstable_scheduleCallback,Dm=sn.unstable_cancelCallback,VS=sn.unstable_shouldYield,HS=sn.unstable_requestPaint,ct=sn.unstable_now,KS=sn.unstable_getCurrentPriorityLevel,Cf=sn.unstable_ImmediatePriority,Lv=sn.unstable_UserBlockingPriority,fl=sn.unstable_NormalPriority,YS=sn.unstable_LowPriority,Mv=sn.unstable_IdlePriority,ql=null,Vn=null;function GS(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:QS,XS=Math.log,qS=Math.LN2;function QS(e){return e>>>=0,e===0?32:31-(XS(e)/qS|0)|0}var hi=64,mi=4194304;function Qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Qo(l):(a&=i,a!==0&&(r=Qo(a)))}else i=n&~s,i!==0?r=Qo(i):a!==0&&(r=Qo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-En(t),s=1<<n,r|=e[n],t&=~s;return r}function JS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-En(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=JS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function td(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $v(){var e=hi;return hi<<=1,!(hi&4194240)&&(hi=64),e}function Wc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-En(t),e[t]=n}function eN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-En(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function kf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-En(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ze=0;function zv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fv,Ef,Uv,Bv,Wv,nd=!1,pi=[],$r=null,zr=null,Fr=null,va=new Map,xa=new Map,Ar=[],tN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function Lo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ba(t),t!==null&&Ef(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nN(e,t,n,r,s){switch(t){case"focusin":return $r=Lo($r,e,t,n,r,s),!0;case"dragenter":return zr=Lo(zr,e,t,n,r,s),!0;case"mouseover":return Fr=Lo(Fr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return va.set(a,Lo(va.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xa.set(a,Lo(xa.get(a)||null,e,t,n,r,s)),!0}return!1}function Vv(e){var t=cs(e.target);if(t!==null){var n=Es(t);if(n!==null){if(t=n.tag,t===13){if(t=Av(n),t!==null){e.blockedOn=t,Wv(e.priority,function(){Uv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qu=r,n.target.dispatchEvent(r),Qu=null}else return t=Ba(n),t!==null&&Ef(t),e.blockedOn=n,!1;t.shift()}return!0}function Lm(e,t,n){Yi(e)&&n.delete(t)}function rN(){nd=!1,$r!==null&&Yi($r)&&($r=null),zr!==null&&Yi(zr)&&(zr=null),Fr!==null&&Yi(Fr)&&(Fr=null),va.forEach(Lm),xa.forEach(Lm)}function Mo(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,rN)))}function ya(e){function t(s){return Mo(s,e)}if(0<pi.length){Mo(pi[0],e);for(var n=1;n<pi.length;n++){var r=pi[n];r.blockedOn===e&&(r.blockedOn=null)}}for($r!==null&&Mo($r,e),zr!==null&&Mo(zr,e),Fr!==null&&Mo(Fr,e),va.forEach(t),xa.forEach(t),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Vv(n),n.blockedOn===null&&Ar.shift()}var eo=vr.ReactCurrentBatchConfig,ml=!0;function sN(e,t,n,r){var s=ze,a=eo.transition;eo.transition=null;try{ze=1,Tf(e,t,n,r)}finally{ze=s,eo.transition=a}}function oN(e,t,n,r){var s=ze,a=eo.transition;eo.transition=null;try{ze=4,Tf(e,t,n,r)}finally{ze=s,eo.transition=a}}function Tf(e,t,n,r){if(ml){var s=rd(e,t,n,r);if(s===null)Zc(e,t,r,pl,n),Om(e,r);else if(nN(s,e,t,n,r))r.stopPropagation();else if(Om(e,r),t&4&&-1<tN.indexOf(e)){for(;s!==null;){var a=Ba(s);if(a!==null&&Fv(a),a=rd(e,t,n,r),a===null&&Zc(e,t,r,pl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Zc(e,t,r,null,n)}}var pl=null;function rd(e,t,n,r){if(pl=null,e=jf(r),e=cs(e),e!==null)if(t=Es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Av(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function Hv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KS()){case Cf:return 1;case Lv:return 4;case fl:case YS:return 16;case Mv:return 536870912;default:return 16}default:return 16}}var Lr=null,Pf=null,Gi=null;function Kv(){if(Gi)return Gi;var e,t=Pf,n=t.length,r,s="value"in Lr?Lr.value:Lr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Gi=s.slice(e,1<r?1-r:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function Mm(){return!1}function an(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gi:Mm,this.isPropagationStopped=Mm,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rf=an(wo),Ua=rt({},wo,{view:0,detail:0}),aN=an(Ua),Vc,Hc,$o,Ql=rt({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$o&&($o&&e.type==="mousemove"?(Vc=e.screenX-$o.screenX,Hc=e.screenY-$o.screenY):Hc=Vc=0,$o=e),Vc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),$m=an(Ql),iN=rt({},Ql,{dataTransfer:0}),lN=an(iN),cN=rt({},Ua,{relatedTarget:0}),Kc=an(cN),uN=rt({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),dN=an(uN),fN=rt({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hN=an(fN),mN=rt({},wo,{data:0}),zm=an(mN),pN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vN[e])?!!t[e]:!1}function _f(){return xN}var yN=rt({},Ua,{key:function(e){if(e.key){var t=pN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wN=an(yN),bN=rt({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fm=an(bN),SN=rt({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),NN=an(SN),jN=rt({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),CN=an(jN),kN=rt({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EN=an(kN),TN=[9,13,27,32],Af=cr&&"CompositionEvent"in window,sa=null;cr&&"documentMode"in document&&(sa=document.documentMode);var PN=cr&&"TextEvent"in window&&!sa,Yv=cr&&(!Af||sa&&8<sa&&11>=sa),Um=" ",Bm=!1;function Gv(e,t){switch(e){case"keyup":return TN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function RN(e,t){switch(e){case"compositionend":return Xv(t);case"keypress":return t.which!==32?null:(Bm=!0,Um);case"textInput":return e=t.data,e===Um&&Bm?null:e;default:return null}}function _N(e,t){if(Fs)return e==="compositionend"||!Af&&Gv(e,t)?(e=Kv(),Gi=Pf=Lr=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yv&&t.locale!=="ko"?null:t.data;default:return null}}var AN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AN[e.type]:t==="textarea"}function qv(e,t,n,r){Ev(r),t=gl(t,"onChange"),0<t.length&&(n=new Rf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oa=null,wa=null;function IN(e){ix(e,0)}function Jl(e){var t=Ws(e);if(wv(t))return e}function DN(e,t){if(e==="change")return t}var Qv=!1;if(cr){var Yc;if(cr){var Gc="oninput"in document;if(!Gc){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),Gc=typeof Vm.oninput=="function"}Yc=Gc}else Yc=!1;Qv=Yc&&(!document.documentMode||9<document.documentMode)}function Hm(){oa&&(oa.detachEvent("onpropertychange",Jv),wa=oa=null)}function Jv(e){if(e.propertyName==="value"&&Jl(wa)){var t=[];qv(t,wa,e,jf(e)),_v(IN,t)}}function ON(e,t,n){e==="focusin"?(Hm(),oa=t,wa=n,oa.attachEvent("onpropertychange",Jv)):e==="focusout"&&Hm()}function LN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(wa)}function MN(e,t){if(e==="click")return Jl(t)}function $N(e,t){if(e==="input"||e==="change")return Jl(t)}function zN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pn=typeof Object.is=="function"?Object.is:zN;function ba(e,t){if(Pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zu.call(t,s)||!Pn(e[s],t[s]))return!1}return!0}function Km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,t){var n=Km(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Km(n)}}function Zv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ex(){for(var e=window,t=cl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cl(e.document)}return t}function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FN(e){var t=ex(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zv(n.ownerDocument.documentElement,n)){if(r!==null&&If(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Ym(n,a);var i=Ym(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UN=cr&&"documentMode"in document&&11>=document.documentMode,Us=null,sd=null,aa=null,od=!1;function Gm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;od||Us==null||Us!==cl(r)||(r=Us,"selectionStart"in r&&If(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&ba(aa,r)||(aa=r,r=gl(sd,"onSelect"),0<r.length&&(t=new Rf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Us)))}function vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bs={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},Xc={},tx={};cr&&(tx=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Zl(e){if(Xc[e])return Xc[e];if(!Bs[e])return e;var t=Bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tx)return Xc[e]=t[n];return e}var nx=Zl("animationend"),rx=Zl("animationiteration"),sx=Zl("animationstart"),ox=Zl("transitionend"),ax=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(e,t){ax.set(e,t),ks(t,[e])}for(var qc=0;qc<Xm.length;qc++){var Qc=Xm[qc],BN=Qc.toLowerCase(),WN=Qc[0].toUpperCase()+Qc.slice(1);es(BN,"on"+WN)}es(nx,"onAnimationEnd");es(rx,"onAnimationIteration");es(sx,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(ox,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function qm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BS(r,t,void 0,e),e.currentTarget=null}function ix(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;qm(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;qm(s,l,u),a=c}}}if(dl)throw e=ed,dl=!1,ed=null,e}function Ye(e,t){var n=t[ud];n===void 0&&(n=t[ud]=new Set);var r=e+"__bubble";n.has(r)||(lx(t,e,2,!1),n.add(r))}function Jc(e,t,n){var r=0;t&&(r|=4),lx(n,e,r,t)}var xi="_reactListening"+Math.random().toString(36).slice(2);function Sa(e){if(!e[xi]){e[xi]=!0,pv.forEach(function(n){n!=="selectionchange"&&(VN.has(n)||Jc(n,!1,e),Jc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xi]||(t[xi]=!0,Jc("selectionchange",!1,t))}}function lx(e,t,n,r){switch(Hv(t)){case 1:var s=sN;break;case 4:s=oN;break;default:s=Tf}n=s.bind(null,t,n,e),s=void 0,!Zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zc(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=cs(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}_v(function(){var u=a,h=jf(n),f=[];e:{var m=ax.get(e);if(m!==void 0){var p=Rf,w=e;switch(e){case"keypress":if(Xi(n)===0)break e;case"keydown":case"keyup":p=wN;break;case"focusin":w="focus",p=Kc;break;case"focusout":w="blur",p=Kc;break;case"beforeblur":case"afterblur":p=Kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NN;break;case nx:case rx:case sx:p=dN;break;case ox:p=CN;break;case"scroll":p=aN;break;case"wheel":p=EN;break;case"copy":case"cut":case"paste":p=hN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fm}var x=(t&4)!==0,S=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,y;v!==null;){y=v;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,g!==null&&(N=ga(v,g),N!=null&&x.push(Na(v,N,y)))),S)break;v=v.return}0<x.length&&(m=new p(m,w,null,n,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Qu&&(w=n.relatedTarget||n.fromElement)&&(cs(w)||w[ur]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?cs(w):null,w!==null&&(S=Es(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(x=$m,N="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Fm,N="onPointerLeave",g="onPointerEnter",v="pointer"),S=p==null?m:Ws(p),y=w==null?m:Ws(w),m=new x(N,v+"leave",p,n,h),m.target=S,m.relatedTarget=y,N=null,cs(h)===u&&(x=new x(g,v+"enter",w,n,h),x.target=y,x.relatedTarget=S,N=x),S=N,p&&w)t:{for(x=p,g=w,v=0,y=x;y;y=Ds(y))v++;for(y=0,N=g;N;N=Ds(N))y++;for(;0<v-y;)x=Ds(x),v--;for(;0<y-v;)g=Ds(g),y--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ds(x),g=Ds(g)}x=null}else x=null;p!==null&&Qm(f,m,p,x,!1),w!==null&&S!==null&&Qm(f,S,w,x,!0)}}e:{if(m=u?Ws(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=DN;else if(Wm(m))if(Qv)C=$N;else{C=LN;var P=ON}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=MN);if(C&&(C=C(e,u))){qv(f,C,n,h);break e}P&&P(e,m,u),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Ku(m,"number",m.value)}switch(P=u?Ws(u):window,e){case"focusin":(Wm(P)||P.contentEditable==="true")&&(Us=P,sd=u,aa=null);break;case"focusout":aa=sd=Us=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,Gm(f,n,h);break;case"selectionchange":if(UN)break;case"keydown":case"keyup":Gm(f,n,h)}var R;if(Af)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Fs?Gv(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Yv&&n.locale!=="ko"&&(Fs||E!=="onCompositionStart"?E==="onCompositionEnd"&&Fs&&(R=Kv()):(Lr=h,Pf="value"in Lr?Lr.value:Lr.textContent,Fs=!0)),P=gl(u,E),0<P.length&&(E=new zm(E,e,null,n,h),f.push({event:E,listeners:P}),R?E.data=R:(R=Xv(n),R!==null&&(E.data=R)))),(R=PN?RN(e,n):_N(e,n))&&(u=gl(u,"onBeforeInput"),0<u.length&&(h=new zm("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=R))}ix(f,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ga(e,n),a!=null&&r.unshift(Na(e,a,s)),a=ga(e,t),a!=null&&r.push(Na(e,a,s))),e=e.return}return r}function Ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qm(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ga(n,a),c!=null&&i.unshift(Na(n,c,l))):s||(c=ga(n,a),c!=null&&i.push(Na(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var HN=/\r\n?/g,KN=/\u0000|\uFFFD/g;function Jm(e){return(typeof e=="string"?e:""+e).replace(HN,`
`).replace(KN,"")}function yi(e,t,n){if(t=Jm(t),Jm(e)!==t&&n)throw Error(Q(425))}function vl(){}var ad=null,id=null;function ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,YN=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(e){return Zm.resolve(null).then(e).catch(XN)}:cd;function XN(e){setTimeout(function(){throw e})}function eu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ya(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ya(t)}function Ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+bo,ja="__reactProps$"+bo,ur="__reactContainer$"+bo,ud="__reactEvents$"+bo,qN="__reactListeners$"+bo,QN="__reactHandles$"+bo;function cs(e){var t=e[Fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ur]||n[Fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ep(e);e!==null;){if(n=e[Fn])return n;e=ep(e)}return t}e=n,n=e.parentNode}return null}function Ba(e){return e=e[Fn]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function ec(e){return e[ja]||null}var dd=[],Vs=-1;function ts(e){return{current:e}}function Ge(e){0>Vs||(e.current=dd[Vs],dd[Vs]=null,Vs--)}function Ve(e,t){Vs++,dd[Vs]=e.current,e.current=t}var Xr={},Ot=ts(Xr),Gt=ts(!1),gs=Xr;function lo(e,t){var n=e.type.contextTypes;if(!n)return Xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(e){return e=e.childContextTypes,e!=null}function xl(){Ge(Gt),Ge(Ot)}function tp(e,t,n){if(Ot.current!==Xr)throw Error(Q(168));Ve(Ot,t),Ve(Gt,n)}function cx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Q(108,OS(e)||"Unknown",s));return rt({},n,r)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,gs=Ot.current,Ve(Ot,e),Ve(Gt,Gt.current),!0}function np(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=cx(e,t,gs),r.__reactInternalMemoizedMergedChildContext=e,Ge(Gt),Ge(Ot),Ve(Ot,e)):Ge(Gt),Ve(Gt,n)}var rr=null,tc=!1,tu=!1;function ux(e){rr===null?rr=[e]:rr.push(e)}function JN(e){tc=!0,ux(e)}function ns(){if(!tu&&rr!==null){tu=!0;var e=0,t=ze;try{var n=rr;for(ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rr=null,tc=!1}catch(s){throw rr!==null&&(rr=rr.slice(e+1)),Ov(Cf,ns),s}finally{ze=t,tu=!1}}return null}var Hs=[],Ks=0,wl=null,bl=0,cn=[],un=0,vs=null,sr=1,or="";function as(e,t){Hs[Ks++]=bl,Hs[Ks++]=wl,wl=e,bl=t}function dx(e,t,n){cn[un++]=sr,cn[un++]=or,cn[un++]=vs,vs=e;var r=sr;e=or;var s=32-En(r)-1;r&=~(1<<s),n+=1;var a=32-En(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,sr=1<<32-En(t)+s|n<<s|r,or=a+e}else sr=1<<a|n<<s|r,or=e}function Df(e){e.return!==null&&(as(e,1),dx(e,1,0))}function Of(e){for(;e===wl;)wl=Hs[--Ks],Hs[Ks]=null,bl=Hs[--Ks],Hs[Ks]=null;for(;e===vs;)vs=cn[--un],cn[un]=null,or=cn[--un],cn[un]=null,sr=cn[--un],cn[un]=null}var nn=null,en=null,Je=!1,kn=null;function fx(e,t){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,en=Ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vs!==null?{id:sr,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nn=e,en=null,!0):!1;default:return!1}}function fd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hd(e){if(Je){var t=en;if(t){var n=t;if(!rp(e,t)){if(fd(e))throw Error(Q(418));t=Ur(n.nextSibling);var r=nn;t&&rp(e,t)?fx(r,n):(e.flags=e.flags&-4097|2,Je=!1,nn=e)}}else{if(fd(e))throw Error(Q(418));e.flags=e.flags&-4097|2,Je=!1,nn=e}}}function sp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function wi(e){if(e!==nn)return!1;if(!Je)return sp(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ld(e.type,e.memoizedProps)),t&&(t=en)){if(fd(e))throw hx(),Error(Q(418));for(;t;)fx(e,t),t=Ur(t.nextSibling)}if(sp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){en=Ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}en=null}}else en=nn?Ur(e.stateNode.nextSibling):null;return!0}function hx(){for(var e=en;e;)e=Ur(e.nextSibling)}function co(){en=nn=null,Je=!1}function Lf(e){kn===null?kn=[e]:kn.push(e)}var ZN=vr.ReactCurrentBatchConfig;function zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function op(e){var t=e._init;return t(e._payload)}function mx(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Hr(g,v),g.index=0,g.sibling=null,g}function a(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,y,N){return v===null||v.tag!==6?(v=lu(y,g.mode,N),v.return=g,v):(v=s(v,y),v.return=g,v)}function c(g,v,y,N){var C=y.type;return C===zs?h(g,v,y.props.children,N,y.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Pr&&op(C)===v.type)?(N=s(v,y.props),N.ref=zo(g,v,y),N.return=g,N):(N=nl(y.type,y.key,y.props,null,g.mode,N),N.ref=zo(g,v,y),N.return=g,N)}function u(g,v,y,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=cu(y,g.mode,N),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function h(g,v,y,N,C){return v===null||v.tag!==7?(v=ps(y,g.mode,N,C),v.return=g,v):(v=s(v,y),v.return=g,v)}function f(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=lu(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ui:return y=nl(v.type,v.key,v.props,null,g.mode,y),y.ref=zo(g,null,v),y.return=g,y;case $s:return v=cu(v,g.mode,y),v.return=g,v;case Pr:var N=v._init;return f(g,N(v._payload),y)}if(qo(v)||Do(v))return v=ps(v,g.mode,y,null),v.return=g,v;bi(g,v)}return null}function m(g,v,y,N){var C=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:l(g,v,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:return y.key===C?c(g,v,y,N):null;case $s:return y.key===C?u(g,v,y,N):null;case Pr:return C=y._init,m(g,v,C(y._payload),N)}if(qo(y)||Do(y))return C!==null?null:h(g,v,y,N,null);bi(g,y)}return null}function p(g,v,y,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(y)||null,l(v,g,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ui:return g=g.get(N.key===null?y:N.key)||null,c(v,g,N,C);case $s:return g=g.get(N.key===null?y:N.key)||null,u(v,g,N,C);case Pr:var P=N._init;return p(g,v,y,P(N._payload),C)}if(qo(N)||Do(N))return g=g.get(y)||null,h(v,g,N,C,null);bi(v,N)}return null}function w(g,v,y,N){for(var C=null,P=null,R=v,E=v=0,b=null;R!==null&&E<y.length;E++){R.index>E?(b=R,R=null):b=R.sibling;var j=m(g,R,y[E],N);if(j===null){R===null&&(R=b);break}e&&R&&j.alternate===null&&t(g,R),v=a(j,v,E),P===null?C=j:P.sibling=j,P=j,R=b}if(E===y.length)return n(g,R),Je&&as(g,E),C;if(R===null){for(;E<y.length;E++)R=f(g,y[E],N),R!==null&&(v=a(R,v,E),P===null?C=R:P.sibling=R,P=R);return Je&&as(g,E),C}for(R=r(g,R);E<y.length;E++)b=p(R,g,E,y[E],N),b!==null&&(e&&b.alternate!==null&&R.delete(b.key===null?E:b.key),v=a(b,v,E),P===null?C=b:P.sibling=b,P=b);return e&&R.forEach(function(D){return t(g,D)}),Je&&as(g,E),C}function x(g,v,y,N){var C=Do(y);if(typeof C!="function")throw Error(Q(150));if(y=C.call(y),y==null)throw Error(Q(151));for(var P=C=null,R=v,E=v=0,b=null,j=y.next();R!==null&&!j.done;E++,j=y.next()){R.index>E?(b=R,R=null):b=R.sibling;var D=m(g,R,j.value,N);if(D===null){R===null&&(R=b);break}e&&R&&D.alternate===null&&t(g,R),v=a(D,v,E),P===null?C=D:P.sibling=D,P=D,R=b}if(j.done)return n(g,R),Je&&as(g,E),C;if(R===null){for(;!j.done;E++,j=y.next())j=f(g,j.value,N),j!==null&&(v=a(j,v,E),P===null?C=j:P.sibling=j,P=j);return Je&&as(g,E),C}for(R=r(g,R);!j.done;E++,j=y.next())j=p(R,g,E,j.value,N),j!==null&&(e&&j.alternate!==null&&R.delete(j.key===null?E:j.key),v=a(j,v,E),P===null?C=j:P.sibling=j,P=j);return e&&R.forEach(function(k){return t(g,k)}),Je&&as(g,E),C}function S(g,v,y,N){if(typeof y=="object"&&y!==null&&y.type===zs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:e:{for(var C=y.key,P=v;P!==null;){if(P.key===C){if(C=y.type,C===zs){if(P.tag===7){n(g,P.sibling),v=s(P,y.props.children),v.return=g,g=v;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Pr&&op(C)===P.type){n(g,P.sibling),v=s(P,y.props),v.ref=zo(g,P,y),v.return=g,g=v;break e}n(g,P);break}else t(g,P);P=P.sibling}y.type===zs?(v=ps(y.props.children,g.mode,N,y.key),v.return=g,g=v):(N=nl(y.type,y.key,y.props,null,g.mode,N),N.ref=zo(g,v,y),N.return=g,g=N)}return i(g);case $s:e:{for(P=y.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=cu(y,g.mode,N),v.return=g,g=v}return i(g);case Pr:return P=y._init,S(g,v,P(y._payload),N)}if(qo(y))return w(g,v,y,N);if(Do(y))return x(g,v,y,N);bi(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,y),v.return=g,g=v):(n(g,v),v=lu(y,g.mode,N),v.return=g,g=v),i(g)):n(g,v)}return S}var uo=mx(!0),px=mx(!1),Sl=ts(null),Nl=null,Ys=null,Mf=null;function $f(){Mf=Ys=Nl=null}function zf(e){var t=Sl.current;Ge(Sl),e._currentValue=t}function md(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function to(e,t){Nl=e,Mf=Ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(Mf!==e)if(e={context:e,memoizedValue:t,next:null},Ys===null){if(Nl===null)throw Error(Q(308));Ys=e,Nl.dependencies={lanes:0,firstContext:e}}else Ys=Ys.next=e;return t}var us=null;function Ff(e){us===null?us=[e]:us.push(e)}function gx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ff(t)):(n.next=s.next,s.next=n),t.interleaved=n,dr(e,r)}function dr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function Uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,dr(e,n)}return s=r.interleaved,s===null?(t.next=t,Ff(r)):(t.next=s.next,s.next=t),r.interleaved=t,dr(e,n)}function qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kf(e,n)}}function ap(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,r){var s=e.updateQueue;Rr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,h=u=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(p,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(p,f,m):w,m==null)break e;f=rt({},f,m);break e;case 2:Rr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=f):h=h.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ys|=i,e.lanes=i,e.memoizedState=f}}function ip(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Wa={},Hn=ts(Wa),Ca=ts(Wa),ka=ts(Wa);function ds(e){if(e===Wa)throw Error(Q(174));return e}function Bf(e,t){switch(Ve(ka,t),Ve(Ca,e),Ve(Hn,Wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gu(t,e)}Ge(Hn),Ve(Hn,t)}function fo(){Ge(Hn),Ge(Ca),Ge(ka)}function xx(e){ds(ka.current);var t=ds(Hn.current),n=Gu(t,e.type);t!==n&&(Ve(Ca,e),Ve(Hn,n))}function Wf(e){Ca.current===e&&(Ge(Hn),Ge(Ca))}var tt=ts(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nu=[];function Vf(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var Qi=vr.ReactCurrentDispatcher,ru=vr.ReactCurrentBatchConfig,xs=0,nt=null,gt=null,bt=null,kl=!1,ia=!1,Ea=0,ej=0;function Rt(){throw Error(Q(321))}function Hf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pn(e[n],t[n]))return!1;return!0}function Kf(e,t,n,r,s,a){if(xs=a,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qi.current=e===null||e.memoizedState===null?sj:oj,e=n(r,s),ia){a=0;do{if(ia=!1,Ea=0,25<=a)throw Error(Q(301));a+=1,bt=gt=null,t.updateQueue=null,Qi.current=aj,e=n(r,s)}while(ia)}if(Qi.current=El,t=gt!==null&&gt.next!==null,xs=0,bt=gt=nt=null,kl=!1,t)throw Error(Q(300));return e}function Yf(){var e=Ea!==0;return Ea=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?nt.memoizedState=bt=e:bt=bt.next=e,bt}function pn(){if(gt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=bt===null?nt.memoizedState:bt.next;if(t!==null)bt=t,gt=e;else{if(e===null)throw Error(Q(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},bt===null?nt.memoizedState=bt=e:bt=bt.next=e}return bt}function Ta(e,t){return typeof t=="function"?t(e):t}function su(e){var t=pn(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=gt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((xs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,nt.lanes|=h,ys|=h}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,Pn(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,nt.lanes|=a,ys|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ou(e){var t=pn(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Pn(a,t.memoizedState)||(Kt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yx(){}function wx(e,t){var n=nt,r=pn(),s=t(),a=!Pn(r.memoizedState,s);if(a&&(r.memoizedState=s,Kt=!0),r=r.queue,Gf(Nx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Pa(9,Sx.bind(null,n,r,s,t),void 0,null),St===null)throw Error(Q(349));xs&30||bx(n,t,s)}return s}function bx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sx(e,t,n,r){t.value=n,t.getSnapshot=r,jx(t)&&Cx(e)}function Nx(e,t,n){return n(function(){jx(t)&&Cx(e)})}function jx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pn(e,n)}catch{return!0}}function Cx(e){var t=dr(e,1);t!==null&&Tn(t,e,1,-1)}function lp(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=rj.bind(null,nt,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kx(){return pn().memoizedState}function Ji(e,t,n,r){var s=zn();nt.flags|=e,s.memoizedState=Pa(1|t,n,void 0,r===void 0?null:r)}function nc(e,t,n,r){var s=pn();r=r===void 0?null:r;var a=void 0;if(gt!==null){var i=gt.memoizedState;if(a=i.destroy,r!==null&&Hf(r,i.deps)){s.memoizedState=Pa(t,n,a,r);return}}nt.flags|=e,s.memoizedState=Pa(1|t,n,a,r)}function cp(e,t){return Ji(8390656,8,e,t)}function Gf(e,t){return nc(2048,8,e,t)}function Ex(e,t){return nc(4,2,e,t)}function Tx(e,t){return nc(4,4,e,t)}function Px(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rx(e,t,n){return n=n!=null?n.concat([e]):null,nc(4,4,Px.bind(null,t,e),n)}function Xf(){}function _x(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ax(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ix(e,t,n){return xs&21?(Pn(n,t)||(n=$v(),nt.lanes|=n,ys|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=n)}function tj(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var r=ru.transition;ru.transition={};try{e(!1),t()}finally{ze=n,ru.transition=r}}function Dx(){return pn().memoizedState}function nj(e,t,n){var r=Vr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ox(e))Lx(t,n);else if(n=gx(e,t,n,r),n!==null){var s=Ut();Tn(n,e,r,s),Mx(n,t,r)}}function rj(e,t,n){var r=Vr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ox(e))Lx(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,Pn(l,i)){var c=t.interleaved;c===null?(s.next=s,Ff(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=gx(e,t,s,r),n!==null&&(s=Ut(),Tn(n,e,r,s),Mx(n,t,r))}}function Ox(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Lx(e,t){ia=kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kf(e,n)}}var El={readContext:mn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},sj={readContext:mn,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:cp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ji(4194308,4,Px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var n=zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nj.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:lp,useDebugValue:Xf,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=lp(!1),t=e[0];return e=tj.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,s=zn();if(Je){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),St===null)throw Error(Q(349));xs&30||bx(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,cp(Nx.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Sx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=zn(),t=St.identifierPrefix;if(Je){var n=or,r=sr;n=(r&~(1<<32-En(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ej++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oj={readContext:mn,useCallback:_x,useContext:mn,useEffect:Gf,useImperativeHandle:Rx,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Ax,useReducer:su,useRef:kx,useState:function(){return su(Ta)},useDebugValue:Xf,useDeferredValue:function(e){var t=pn();return Ix(t,gt.memoizedState,e)},useTransition:function(){var e=su(Ta)[0],t=pn().memoizedState;return[e,t]},useMutableSource:yx,useSyncExternalStore:wx,useId:Dx,unstable_isNewReconciler:!1},aj={readContext:mn,useCallback:_x,useContext:mn,useEffect:Gf,useImperativeHandle:Rx,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Ax,useReducer:ou,useRef:kx,useState:function(){return ou(Ta)},useDebugValue:Xf,useDeferredValue:function(e){var t=pn();return gt===null?t.memoizedState=e:Ix(t,gt.memoizedState,e)},useTransition:function(){var e=ou(Ta)[0],t=pn().memoizedState;return[e,t]},useMutableSource:yx,useSyncExternalStore:wx,useId:Dx,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rc={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ut(),s=Vr(e),a=ar(r,s);a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(Tn(t,e,s,r),qi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ut(),s=Vr(e),a=ar(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(Tn(t,e,s,r),qi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),r=Vr(e),s=ar(n,r);s.tag=2,t!=null&&(s.callback=t),t=Br(e,s,r),t!==null&&(Tn(t,e,r,n),qi(t,e,r))}};function up(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ba(n,r)||!ba(s,a):!0}function $x(e,t,n){var r=!1,s=Xr,a=t.contextType;return typeof a=="object"&&a!==null?a=mn(a):(s=Xt(t)?gs:Ot.current,r=t.contextTypes,a=(r=r!=null)?lo(e,s):Xr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function dp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rc.enqueueReplaceState(t,t.state,null)}function gd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Uf(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=mn(a):(a=Xt(t)?gs:Ot.current,s.context=lo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(pd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&rc.enqueueReplaceState(s,s.state,null),jl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var n="",r=t;do n+=DS(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function au(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function zx(e,t,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pl||(Pl=!0,Ed=r),vd(e,t)},n}function Fx(e,t,n){n=ar(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){vd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){vd(e,t),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function fp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ij;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bj.bind(null,e,t,n),t.then(e,e))}function hp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ar(-1,1),t.tag=2,Br(n,t,1))),n.lanes|=1),e)}var lj=vr.ReactCurrentOwner,Kt=!1;function $t(e,t,n,r){t.child=e===null?px(t,null,n,r):uo(t,e.child,n,r)}function pp(e,t,n,r,s){n=n.render;var a=t.ref;return to(t,s),r=Kf(e,t,n,r,a,s),n=Yf(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fr(e,t,s)):(Je&&n&&Df(t),t.flags|=1,$t(e,t,r,s),t.child)}function gp(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!rh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ux(e,t,a,r,s)):(e=nl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ba,n(i,r)&&e.ref===t.ref)return fr(e,t,s)}return t.flags|=1,e=Hr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ux(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ba(a,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,fr(e,t,s)}return xd(e,t,n,r,s)}function Bx(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Xs,Qt),Qt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(Xs,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ve(Xs,Qt),Qt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ve(Xs,Qt),Qt|=r;return $t(e,t,s,n),t.child}function Wx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xd(e,t,n,r,s){var a=Xt(n)?gs:Ot.current;return a=lo(t,a),to(t,s),n=Kf(e,t,n,r,a,s),r=Yf(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fr(e,t,s)):(Je&&r&&Df(t),t.flags|=1,$t(e,t,n,s),t.child)}function vp(e,t,n,r,s){if(Xt(n)){var a=!0;yl(t)}else a=!1;if(to(t,s),t.stateNode===null)Zi(e,t),$x(t,n,r),gd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=Xt(n)?gs:Ot.current,u=lo(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&dp(t,i,r,u),Rr=!1;var m=t.memoizedState;i.state=m,jl(t,r,i,s),c=t.memoizedState,l!==r||m!==c||Gt.current||Rr?(typeof h=="function"&&(pd(t,n,h,r),c=t.memoizedState),(l=Rr||up(t,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,vx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jn(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=mn(c):(c=Xt(n)?gs:Ot.current,c=lo(t,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&dp(t,i,r,c),Rr=!1,m=t.memoizedState,i.state=m,jl(t,r,i,s);var w=t.memoizedState;l!==f||m!==w||Gt.current||Rr?(typeof p=="function"&&(pd(t,n,p,r),w=t.memoizedState),(u=Rr||up(t,n,u,r,m,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return yd(e,t,n,r,a,s)}function yd(e,t,n,r,s,a){Wx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&np(t,n,!1),fr(e,t,a);r=t.stateNode,lj.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=uo(t,e.child,null,a),t.child=uo(t,null,l,a)):$t(e,t,l,a),t.memoizedState=r.state,s&&np(t,n,!0),t.child}function Vx(e){var t=e.stateNode;t.pendingContext?tp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tp(e,t.context,!1),Bf(e,t.containerInfo)}function xp(e,t,n,r,s){return co(),Lf(s),t.flags|=256,$t(e,t,n,r),t.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function bd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hx(e,t,n){var r=t.pendingProps,s=tt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ve(tt,s&1),e===null)return hd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ac(i,r,0,null),e=ps(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bd(n),t.memoizedState=wd,e):qf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cj(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Hr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Hr(l,a):(a=ps(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?bd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=wd,r}return a=e.child,e=a.sibling,r=Hr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qf(e,t){return t=ac({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Si(e,t,n,r){return r!==null&&Lf(r),uo(t,e.child,null,n),e=qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cj(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=au(Error(Q(422))),Si(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=ac({mode:"visible",children:r.children},s,0,null),a=ps(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&uo(t,e.child,null,i),t.child.memoizedState=bd(i),t.memoizedState=wd,a);if(!(t.mode&1))return Si(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Q(419)),r=au(a,r,void 0),Si(e,t,i,r)}if(l=(i&e.childLanes)!==0,Kt||l){if(r=St,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,dr(e,s),Tn(r,e,s,-1))}return nh(),r=au(Error(Q(421))),Si(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Sj.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,en=Ur(s.nextSibling),nn=t,Je=!0,kn=null,e!==null&&(cn[un++]=sr,cn[un++]=or,cn[un++]=vs,sr=e.id,or=e.overflow,vs=t),t=qf(t,r.children),t.flags|=4096,t)}function yp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),md(e.return,t,n)}function iu(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Kx(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if($t(e,t,r.children,n),r=tt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yp(e,n,t);else if(e.tag===19)yp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(tt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),iu(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}iu(t,!0,n,null,a);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ys|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=Hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uj(e,t,n){switch(t.tag){case 3:Vx(t),co();break;case 5:xx(t);break;case 1:Xt(t.type)&&yl(t);break;case 4:Bf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ve(Sl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(tt,tt.current&1),t.flags|=128,null):n&t.child.childLanes?Hx(e,t,n):(Ve(tt,tt.current&1),e=fr(e,t,n),e!==null?e.sibling:null);Ve(tt,tt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Kx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(tt,tt.current),r)break;return null;case 22:case 23:return t.lanes=0,Bx(e,t,n)}return fr(e,t,n)}var Yx,Sd,Gx,Xx;Yx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sd=function(){};Gx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ds(Hn.current);var a=null;switch(n){case"input":s=Vu(e,s),r=Vu(e,r),a=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),a=[];break;case"textarea":s=Yu(e,s),r=Yu(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vl)}Xu(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ma.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ma.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Xx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fo(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dj(e,t,n){var r=t.pendingProps;switch(Of(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Xt(t.type)&&xl(),_t(t),null;case 3:return r=t.stateNode,fo(),Ge(Gt),Ge(Ot),Vf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kn!==null&&(Rd(kn),kn=null))),Sd(e,t),_t(t),null;case 5:Wf(t);var s=ds(ka.current);if(n=t.type,e!==null&&t.stateNode!=null)Gx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return _t(t),null}if(e=ds(Hn.current),wi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Fn]=t,r[ja]=a,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(s=0;s<Jo.length;s++)Ye(Jo[s],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Tm(r,a),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",r);break;case"textarea":Rm(r,a),Ye("invalid",r)}Xu(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&yi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&yi(r.textContent,l,e),s=["children",""+l]):ma.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ye("scroll",r)}switch(n){case"input":di(r),Pm(r,a,!0);break;case"textarea":di(r),_m(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Fn]=t,e[ja]=r,Yx(e,t,!1,!1),t.stateNode=e;e:{switch(i=qu(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),s=r;break;case"iframe":case"object":case"embed":Ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<Jo.length;s++)Ye(Jo[s],e);s=r;break;case"source":Ye("error",e),s=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=r;break;case"details":Ye("toggle",e),s=r;break;case"input":Tm(e,r),s=Vu(e,r),Ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":Rm(e,r),s=Yu(e,r),Ye("invalid",e);break;default:s=r}Xu(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?kv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jv(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pa(e,c):typeof c=="number"&&pa(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ma.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ye("scroll",e):c!=null&&wf(e,a,c,i))}switch(n){case"input":di(e),Pm(e,r,!1);break;case"textarea":di(e),_m(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Qs(e,!!r.multiple,a,!1):r.defaultValue!=null&&Qs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)Xx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=ds(ka.current),ds(Hn.current),wi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fn]=t,(a=r.nodeValue!==n)&&(e=nn,e!==null))switch(e.tag){case 3:yi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=t,t.stateNode=r}return _t(t),null;case 13:if(Ge(tt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&en!==null&&t.mode&1&&!(t.flags&128))hx(),co(),t.flags|=98560,a=!1;else if(a=wi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[Fn]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),a=!1}else kn!==null&&(Rd(kn),kn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?vt===0&&(vt=3):nh())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return fo(),Sd(e,t),e===null&&Sa(t.stateNode.containerInfo),_t(t),null;case 10:return zf(t.type._context),_t(t),null;case 17:return Xt(t.type)&&xl(),_t(t),null;case 19:if(Ge(tt),a=t.memoizedState,a===null)return _t(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Fo(a,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Cl(e),i!==null){for(t.flags|=128,Fo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(tt,tt.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>mo&&(t.flags|=128,r=!0,Fo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Je)return _t(t),null}else 2*ct()-a.renderingStartTime>mo&&n!==1073741824&&(t.flags|=128,r=!0,Fo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,n=tt.current,Ve(tt,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return th(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function fj(e,t){switch(Of(t),t.tag){case 1:return Xt(t.type)&&xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),Ge(Gt),Ge(Ot),Vf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wf(t),null;case 13:if(Ge(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(tt),null;case 4:return fo(),null;case 10:return zf(t.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var Ni=!1,At=!1,hj=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(e,t,r)}else n.current=null}function Nd(e,t,n){try{n()}catch(r){st(e,t,r)}}var wp=!1;function mj(e,t){if(ad=ml,e=ex(),If(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=i),m===a&&++h===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},ml=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,S=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:jn(t.type,x),S);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(N){st(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return w=wp,wp=!1,w}function la(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Nd(t,n,a)}s=s.next}while(s!==r)}}function sc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qx(e){var t=e.alternate;t!==null&&(e.alternate=null,qx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fn],delete t[ja],delete t[ud],delete t[qN],delete t[QN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qx(e){return e.tag===5||e.tag===3||e.tag===4}function bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vl));else if(r!==4&&(e=e.child,e!==null))for(Cd(e,t,n),e=e.sibling;e!==null;)Cd(e,t,n),e=e.sibling}function kd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kd(e,t,n),e=e.sibling;e!==null;)kd(e,t,n),e=e.sibling}var Ct=null,Cn=!1;function Cr(e,t,n){for(n=n.child;n!==null;)Jx(e,t,n),n=n.sibling}function Jx(e,t,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(ql,n)}catch{}switch(n.tag){case 5:At||Gs(n,t);case 6:var r=Ct,s=Cn;Ct=null,Cr(e,t,n),Ct=r,Cn=s,Ct!==null&&(Cn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Cn?(e=Ct,n=n.stateNode,e.nodeType===8?eu(e.parentNode,n):e.nodeType===1&&eu(e,n),ya(e)):eu(Ct,n.stateNode));break;case 4:r=Ct,s=Cn,Ct=n.stateNode.containerInfo,Cn=!0,Cr(e,t,n),Ct=r,Cn=s;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Nd(n,t,i),s=s.next}while(s!==r)}Cr(e,t,n);break;case 1:if(!At&&(Gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){st(n,t,l)}Cr(e,t,n);break;case 21:Cr(e,t,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Cr(e,t,n),At=r):Cr(e,t,n);break;default:Cr(e,t,n)}}function Sp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hj),t.forEach(function(r){var s=Nj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Cn=!1;break e;case 3:Ct=l.stateNode.containerInfo,Cn=!0;break e;case 4:Ct=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(Ct===null)throw Error(Q(160));Jx(a,i,s),Ct=null,Cn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){st(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zx(t,e),t=t.sibling}function Zx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),$n(e),r&4){try{la(3,e,e.return),sc(3,e)}catch(x){st(e,e.return,x)}try{la(5,e,e.return)}catch(x){st(e,e.return,x)}}break;case 1:yn(t,e),$n(e),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(yn(t,e),$n(e),r&512&&n!==null&&Gs(n,n.return),e.flags&32){var s=e.stateNode;try{pa(s,"")}catch(x){st(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&bv(s,a),qu(l,i);var u=qu(l,a);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?kv(s,f):h==="dangerouslySetInnerHTML"?jv(s,f):h==="children"?pa(s,f):wf(s,h,f,u)}switch(l){case"input":Hu(s,a);break;case"textarea":Sv(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Qs(s,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?Qs(s,!!a.multiple,a.defaultValue,!0):Qs(s,!!a.multiple,a.multiple?[]:"",!1))}s[ja]=a}catch(x){st(e,e.return,x)}}break;case 6:if(yn(t,e),$n(e),r&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){st(e,e.return,x)}}break;case 3:if(yn(t,e),$n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(x){st(e,e.return,x)}break;case 4:yn(t,e),$n(e);break;case 13:yn(t,e),$n(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Zf=ct())),r&4&&Sp(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(At=(u=At)||h,yn(t,e),At=u):yn(t,e),$n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(ae=e,h=e.child;h!==null;){for(f=ae=h;ae!==null;){switch(m=ae,p=m.child,m.tag){case 0:case 11:case 14:case 15:la(4,m,m.return);break;case 1:Gs(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){st(r,n,x)}}break;case 5:Gs(m,m.return);break;case 22:if(m.memoizedState!==null){jp(f);continue}}p!==null?(p.return=m,ae=p):jp(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Cv("display",i))}catch(x){st(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){st(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(t,e),$n(e),r&4&&Sp(e);break;case 21:break;default:yn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qx(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pa(s,""),r.flags&=-33);var a=bp(e);kd(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=bp(e);Cd(e,l,i);break;default:throw Error(Q(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pj(e,t,n){ae=e,e0(e)}function e0(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var s=ae,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ni;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||At;l=Ni;var u=At;if(Ni=i,(At=c)&&!u)for(ae=s;ae!==null;)i=ae,c=i.child,i.tag===22&&i.memoizedState!==null?Cp(s):c!==null?(c.return=i,ae=c):Cp(s);for(;a!==null;)ae=a,e0(a),a=a.sibling;ae=s,Ni=l,At=u}Np(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ae=a):Np(e)}}function Np(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||sc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!At)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:jn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ip(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ip(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}At||t.flags&512&&jd(t)}catch(m){st(t,t.return,m)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function jp(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function Cp(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sc(4,t)}catch(c){st(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){st(t,s,c)}}var a=t.return;try{jd(t)}catch(c){st(t,a,c)}break;case 5:var i=t.return;try{jd(t)}catch(c){st(t,i,c)}}}catch(c){st(t,t.return,c)}if(t===e){ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ae=l;break}ae=t.return}}var gj=Math.ceil,Tl=vr.ReactCurrentDispatcher,Qf=vr.ReactCurrentOwner,fn=vr.ReactCurrentBatchConfig,Ie=0,St=null,ht=null,kt=0,Qt=0,Xs=ts(0),vt=0,Ra=null,ys=0,oc=0,Jf=0,ca=null,Ht=null,Zf=0,mo=1/0,nr=null,Pl=!1,Ed=null,Wr=null,ji=!1,Mr=null,Rl=0,ua=0,Td=null,el=-1,tl=0;function Ut(){return Ie&6?ct():el!==-1?el:el=ct()}function Vr(e){return e.mode&1?Ie&2&&kt!==0?kt&-kt:ZN.transition!==null?(tl===0&&(tl=$v()),tl):(e=ze,e!==0||(e=window.event,e=e===void 0?16:Hv(e.type)),e):1}function Tn(e,t,n,r){if(50<ua)throw ua=0,Td=null,Error(Q(185));Fa(e,n,r),(!(Ie&2)||e!==St)&&(e===St&&(!(Ie&2)&&(oc|=n),vt===4&&Ir(e,kt)),qt(e,r),n===1&&Ie===0&&!(t.mode&1)&&(mo=ct()+500,tc&&ns()))}function qt(e,t){var n=e.callbackNode;ZS(e,t);var r=hl(e,e===St?kt:0);if(r===0)n!==null&&Dm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dm(n),t===1)e.tag===0?JN(kp.bind(null,e)):ux(kp.bind(null,e)),GN(function(){!(Ie&6)&&ns()}),n=null;else{switch(zv(r)){case 1:n=Cf;break;case 4:n=Lv;break;case 16:n=fl;break;case 536870912:n=Mv;break;default:n=fl}n=l0(n,t0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function t0(e,t){if(el=-1,tl=0,Ie&6)throw Error(Q(327));var n=e.callbackNode;if(no()&&e.callbackNode!==n)return null;var r=hl(e,e===St?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_l(e,r);else{t=r;var s=Ie;Ie|=2;var a=r0();(St!==e||kt!==t)&&(nr=null,mo=ct()+500,ms(e,t));do try{yj();break}catch(l){n0(e,l)}while(!0);$f(),Tl.current=a,Ie=s,ht!==null?t=0:(St=null,kt=0,t=vt)}if(t!==0){if(t===2&&(s=td(e),s!==0&&(r=s,t=Pd(e,s))),t===1)throw n=Ra,ms(e,0),Ir(e,r),qt(e,ct()),n;if(t===6)Ir(e,r);else{if(s=e.current.alternate,!(r&30)&&!vj(s)&&(t=_l(e,r),t===2&&(a=td(e),a!==0&&(r=a,t=Pd(e,a))),t===1))throw n=Ra,ms(e,0),Ir(e,r),qt(e,ct()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:is(e,Ht,nr);break;case 3:if(Ir(e,r),(r&130023424)===r&&(t=Zf+500-ct(),10<t)){if(hl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=cd(is.bind(null,e,Ht,nr),t);break}is(e,Ht,nr);break;case 4:if(Ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-En(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gj(r/1960))-r,10<r){e.timeoutHandle=cd(is.bind(null,e,Ht,nr),r);break}is(e,Ht,nr);break;case 5:is(e,Ht,nr);break;default:throw Error(Q(329))}}}return qt(e,ct()),e.callbackNode===n?t0.bind(null,e):null}function Pd(e,t){var n=ca;return e.current.memoizedState.isDehydrated&&(ms(e,t).flags|=256),e=_l(e,t),e!==2&&(t=Ht,Ht=n,t!==null&&Rd(t)),e}function Rd(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function vj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Pn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~Jf,t&=~oc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-En(t),r=1<<n;e[n]=-1,t&=~r}}function kp(e){if(Ie&6)throw Error(Q(327));no();var t=hl(e,0);if(!(t&1))return qt(e,ct()),null;var n=_l(e,t);if(e.tag!==0&&n===2){var r=td(e);r!==0&&(t=r,n=Pd(e,r))}if(n===1)throw n=Ra,ms(e,0),Ir(e,t),qt(e,ct()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,is(e,Ht,nr),qt(e,ct()),null}function eh(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(mo=ct()+500,tc&&ns())}}function ws(e){Mr!==null&&Mr.tag===0&&!(Ie&6)&&no();var t=Ie;Ie|=1;var n=fn.transition,r=ze;try{if(fn.transition=null,ze=1,e)return e()}finally{ze=r,fn.transition=n,Ie=t,!(Ie&6)&&ns()}}function th(){Qt=Xs.current,Ge(Xs)}function ms(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YN(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Of(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:fo(),Ge(Gt),Ge(Ot),Vf();break;case 5:Wf(r);break;case 4:fo();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:zf(r.type._context);break;case 22:case 23:th()}n=n.return}if(St=e,ht=e=Hr(e.current,null),kt=Qt=t,vt=0,Ra=null,Jf=oc=ys=0,Ht=ca=null,us!==null){for(t=0;t<us.length;t++)if(n=us[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}us=null}return e}function n0(e,t){do{var n=ht;try{if($f(),Qi.current=El,kl){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kl=!1}if(xs=0,bt=gt=nt=null,ia=!1,Ea=0,Qf.current=null,n===null||n.return===null){vt=1,Ra=t,ht=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=hp(i);if(p!==null){p.flags&=-257,mp(p,i,l,a,t),p.mode&1&&fp(a,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){fp(a,u,t),nh();break e}c=Error(Q(426))}}else if(Je&&l.mode&1){var S=hp(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),mp(S,i,l,a,t),Lf(ho(c,l));break e}}a=c=ho(c,l),vt!==4&&(vt=2),ca===null?ca=[a]:ca.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=zx(a,c,t);ap(a,g);break e;case 1:l=c;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wr===null||!Wr.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Fx(a,l,t);ap(a,N);break e}}a=a.return}while(a!==null)}o0(n)}catch(C){t=C,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function r0(){var e=Tl.current;return Tl.current=El,e===null?El:e}function nh(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(ys&268435455)&&!(oc&268435455)||Ir(St,kt)}function _l(e,t){var n=Ie;Ie|=2;var r=r0();(St!==e||kt!==t)&&(nr=null,ms(e,t));do try{xj();break}catch(s){n0(e,s)}while(!0);if($f(),Ie=n,Tl.current=r,ht!==null)throw Error(Q(261));return St=null,kt=0,vt}function xj(){for(;ht!==null;)s0(ht)}function yj(){for(;ht!==null&&!VS();)s0(ht)}function s0(e){var t=i0(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?o0(e):ht=t,Qf.current=null}function o0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fj(n,t),n!==null){n.flags&=32767,ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,ht=null;return}}else if(n=dj(n,t,Qt),n!==null){ht=n;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);vt===0&&(vt=5)}function is(e,t,n){var r=ze,s=fn.transition;try{fn.transition=null,ze=1,wj(e,t,n,r)}finally{fn.transition=s,ze=r}return null}function wj(e,t,n,r){do no();while(Mr!==null);if(Ie&6)throw Error(Q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(eN(e,a),e===St&&(ht=St=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ji||(ji=!0,l0(fl,function(){return no(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fn.transition,fn.transition=null;var i=ze;ze=1;var l=Ie;Ie|=4,Qf.current=null,mj(e,n),Zx(n,e),FN(id),ml=!!ad,id=ad=null,e.current=n,pj(n),HS(),Ie=l,ze=i,fn.transition=a}else e.current=n;if(ji&&(ji=!1,Mr=e,Rl=s),a=e.pendingLanes,a===0&&(Wr=null),GS(n.stateNode),qt(e,ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pl)throw Pl=!1,e=Ed,Ed=null,e;return Rl&1&&e.tag!==0&&no(),a=e.pendingLanes,a&1?e===Td?ua++:(ua=0,Td=e):ua=0,ns(),null}function no(){if(Mr!==null){var e=zv(Rl),t=fn.transition,n=ze;try{if(fn.transition=null,ze=16>e?16:e,Mr===null)var r=!1;else{if(e=Mr,Mr=null,Rl=0,Ie&6)throw Error(Q(331));var s=Ie;for(Ie|=4,ae=e.current;ae!==null;){var a=ae,i=a.child;if(ae.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ae=u;ae!==null;){var h=ae;switch(h.tag){case 0:case 11:case 15:la(8,h,a)}var f=h.child;if(f!==null)f.return=h,ae=f;else for(;ae!==null;){h=ae;var m=h.sibling,p=h.return;if(qx(h),h===u){ae=null;break}if(m!==null){m.return=p,ae=m;break}ae=p}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}ae=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ae=i;else e:for(;ae!==null;){if(a=ae,a.flags&2048)switch(a.tag){case 0:case 11:case 15:la(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ae=g;break e}ae=a.return}}var v=e.current;for(ae=v;ae!==null;){i=ae;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,ae=y;else e:for(i=v;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sc(9,l)}}catch(C){st(l,l.return,C)}if(l===i){ae=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ae=N;break e}ae=l.return}}if(Ie=s,ns(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(ql,e)}catch{}r=!0}return r}finally{ze=n,fn.transition=t}}return!1}function Ep(e,t,n){t=ho(n,t),t=zx(e,t,1),e=Br(e,t,1),t=Ut(),e!==null&&(Fa(e,1,t),qt(e,t))}function st(e,t,n){if(e.tag===3)Ep(e,e,n);else for(;t!==null;){if(t.tag===3){Ep(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){e=ho(n,e),e=Fx(t,e,1),t=Br(t,e,1),e=Ut(),t!==null&&(Fa(t,1,e),qt(t,e));break}}t=t.return}}function bj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(kt&n)===n&&(vt===4||vt===3&&(kt&130023424)===kt&&500>ct()-Zf?ms(e,0):Jf|=n),qt(e,t)}function a0(e,t){t===0&&(e.mode&1?(t=mi,mi<<=1,!(mi&130023424)&&(mi=4194304)):t=1);var n=Ut();e=dr(e,t),e!==null&&(Fa(e,t,n),qt(e,n))}function Sj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),a0(e,n)}function Nj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),a0(e,n)}var i0;i0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kt=!1,uj(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,Je&&t.flags&1048576&&dx(t,bl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zi(e,t),e=t.pendingProps;var s=lo(t,Ot.current);to(t,n),s=Kf(null,t,r,e,s,n);var a=Yf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(r)?(a=!0,yl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uf(t),s.updater=rc,t.stateNode=s,s._reactInternals=t,gd(t,r,e,n),t=yd(null,t,r,!0,a,n)):(t.tag=0,Je&&a&&Df(t),$t(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Cj(r),e=jn(r,e),s){case 0:t=xd(null,t,r,e,n);break e;case 1:t=vp(null,t,r,e,n);break e;case 11:t=pp(null,t,r,e,n);break e;case 14:t=gp(null,t,r,jn(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jn(r,s),xd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jn(r,s),vp(e,t,r,s,n);case 3:e:{if(Vx(t),e===null)throw Error(Q(387));r=t.pendingProps,a=t.memoizedState,s=a.element,vx(e,t),jl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ho(Error(Q(423)),t),t=xp(e,t,r,n,s);break e}else if(r!==s){s=ho(Error(Q(424)),t),t=xp(e,t,r,n,s);break e}else for(en=Ur(t.stateNode.containerInfo.firstChild),nn=t,Je=!0,kn=null,n=px(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===s){t=fr(e,t,n);break e}$t(e,t,r,n)}t=t.child}return t;case 5:return xx(t),e===null&&hd(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,ld(r,s)?i=null:a!==null&&ld(r,a)&&(t.flags|=32),Wx(e,t),$t(e,t,i,n),t.child;case 6:return e===null&&hd(t),null;case 13:return Hx(e,t,n);case 4:return Bf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uo(t,null,r,n):$t(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jn(r,s),pp(e,t,r,s,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Ve(Sl,r._currentValue),r._currentValue=i,a!==null)if(Pn(a.value,i)){if(a.children===s.children&&!Gt.current){t=fr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ar(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),md(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Q(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),md(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}$t(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,to(t,n),s=mn(s),r=r(s),t.flags|=1,$t(e,t,r,n),t.child;case 14:return r=t.type,s=jn(r,t.pendingProps),s=jn(r.type,s),gp(e,t,r,s,n);case 15:return Ux(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jn(r,s),Zi(e,t),t.tag=1,Xt(r)?(e=!0,yl(t)):e=!1,to(t,n),$x(t,r,s),gd(t,r,s,n),yd(null,t,r,!0,e,n);case 19:return Kx(e,t,n);case 22:return Bx(e,t,n)}throw Error(Q(156,t.tag))};function l0(e,t){return Ov(e,t)}function jj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,r){return new jj(e,t,n,r)}function rh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cj(e){if(typeof e=="function")return rh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sf)return 11;if(e===Nf)return 14}return 2}function Hr(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nl(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")rh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zs:return ps(n.children,s,a,t);case bf:i=8,s|=8;break;case Fu:return e=dn(12,n,t,s|2),e.elementType=Fu,e.lanes=a,e;case Uu:return e=dn(13,n,t,s),e.elementType=Uu,e.lanes=a,e;case Bu:return e=dn(19,n,t,s),e.elementType=Bu,e.lanes=a,e;case xv:return ac(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gv:i=10;break e;case vv:i=9;break e;case Sf:i=11;break e;case Nf:i=14;break e;case Pr:i=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=dn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ps(e,t,n,r){return e=dn(7,e,r,t),e.lanes=n,e}function ac(e,t,n,r){return e=dn(22,e,r,t),e.elementType=xv,e.lanes=n,e.stateNode={isHidden:!1},e}function lu(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function cu(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kj(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sh(e,t,n,r,s,a,i,l,c){return e=new kj(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(a),e}function Ej(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function c0(e){if(!e)return Xr;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Xt(n))return cx(e,n,t)}return t}function u0(e,t,n,r,s,a,i,l,c){return e=sh(n,r,!0,e,s,a,i,l,c),e.context=c0(null),n=e.current,r=Ut(),s=Vr(n),a=ar(r,s),a.callback=t??null,Br(n,a,s),e.current.lanes=s,Fa(e,s,r),qt(e,r),e}function ic(e,t,n,r){var s=t.current,a=Ut(),i=Vr(s);return n=c0(n),t.context===null?t.context=n:t.pendingContext=n,t=ar(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Br(s,t,i),e!==null&&(Tn(e,s,i,a),qi(e,s,i)),i}function Al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oh(e,t){Tp(e,t),(e=e.alternate)&&Tp(e,t)}function Tj(){return null}var d0=typeof reportError=="function"?reportError:function(e){console.error(e)};function ah(e){this._internalRoot=e}lc.prototype.render=ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));ic(e,t,null,null)};lc.prototype.unmount=ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){ic(null,e,null,null)}),t[ur]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ar.length&&t!==0&&t<Ar[n].priority;n++);Ar.splice(n,0,e),n===0&&Vv(e)}};function ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pp(){}function Pj(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Al(i);a.call(u)}}var i=u0(t,r,e,0,null,!1,!1,"",Pp);return e._reactRootContainer=i,e[ur]=i.current,Sa(e.nodeType===8?e.parentNode:e),ws(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Al(c);l.call(u)}}var c=sh(e,0,!1,null,null,!1,!1,"",Pp);return e._reactRootContainer=c,e[ur]=c.current,Sa(e.nodeType===8?e.parentNode:e),ws(function(){ic(t,c,n,r)}),c}function uc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Al(i);l.call(c)}}ic(t,i,e,s)}else i=Pj(n,t,e,s,r);return Al(i)}Fv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qo(t.pendingLanes);n!==0&&(kf(t,n|1),qt(t,ct()),!(Ie&6)&&(mo=ct()+500,ns()))}break;case 13:ws(function(){var r=dr(e,1);if(r!==null){var s=Ut();Tn(r,e,1,s)}}),oh(e,1)}};Ef=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var n=Ut();Tn(t,e,134217728,n)}oh(e,134217728)}};Uv=function(e){if(e.tag===13){var t=Vr(e),n=dr(e,t);if(n!==null){var r=Ut();Tn(n,e,t,r)}oh(e,t)}};Bv=function(){return ze};Wv=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}};Ju=function(e,t,n){switch(t){case"input":if(Hu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ec(r);if(!s)throw Error(Q(90));wv(r),Hu(r,s)}}}break;case"textarea":Sv(e,n);break;case"select":t=n.value,t!=null&&Qs(e,!!n.multiple,t,!1)}};Pv=eh;Rv=ws;var Rj={usingClientEntryPoint:!1,Events:[Ba,Ws,ec,Ev,Tv,eh]},Uo={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_j={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iv(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Tj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{ql=Ci.inject(_j),Vn=Ci}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rj;on.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ih(t))throw Error(Q(200));return Ej(e,t,null,n)};on.createRoot=function(e,t){if(!ih(e))throw Error(Q(299));var n=!1,r="",s=d0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sh(e,1,!1,null,null,n,!1,r,s),e[ur]=t.current,Sa(e.nodeType===8?e.parentNode:e),new ah(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Iv(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return ws(e)};on.hydrate=function(e,t,n){if(!cc(t))throw Error(Q(200));return uc(null,e,t,!0,n)};on.hydrateRoot=function(e,t,n){if(!ih(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=d0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=u0(t,null,e,1,n??null,s,!1,a,i),e[ur]=t.current,Sa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new lc(t)};on.render=function(e,t,n){if(!cc(t))throw Error(Q(200));return uc(null,e,t,!1,n)};on.unmountComponentAtNode=function(e){if(!cc(e))throw Error(Q(40));return e._reactRootContainer?(ws(function(){uc(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};on.unstable_batchedUpdates=eh;on.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cc(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return uc(e,t,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function f0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f0)}catch(e){console.error(e)}}f0(),fv.exports=on;var So=fv.exports;const h0=hf(So);var Rp=So;$u.createRoot=Rp.createRoot,$u.hydrateRoot=Rp.hydrateRoot;var lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.parse=$j;lh.serialize=zj;const Aj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Ij=/^[\u0021-\u003A\u003C-\u007E]*$/,Dj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Oj=/^[\u0020-\u003A\u003D-\u007E]*$/,Lj=Object.prototype.toString,Mj=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function $j(e,t){const n=new Mj,r=e.length;if(r<2)return n;const s=(t==null?void 0:t.decode)||Fj;let a=0;do{const i=e.indexOf("=",a);if(i===-1)break;const l=e.indexOf(";",a),c=l===-1?r:l;if(i>c){a=e.lastIndexOf(";",i-1)+1;continue}const u=_p(e,a,i),h=Ap(e,i,u),f=e.slice(u,h);if(n[f]===void 0){let m=_p(e,i+1,c),p=Ap(e,c,m);const w=s(e.slice(m,p));n[f]=w}a=c+1}while(a<r);return n}function _p(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Ap(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function zj(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Aj.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=r(t);if(!Ij.test(s))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+s;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!Dj.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!Oj.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!Uj(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function Fj(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Uj(e){return Lj.call(e)==="[object Date]"}var Ip="popstate";function Bj(e={}){function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return _d("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_a(s)}return Vj(t,n,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wj(){return Math.random().toString(36).substring(2,10)}function Dp(e,t){return{usr:e.state,key:e.key,idx:t}}function _d(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Va(t):t,state:n,key:t&&t.key||r||Wj()}}function _a({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Va(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Vj(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l="POP",c=null,u=h();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function h(){return(i.state||{idx:null}).idx}function f(){l="POP";let S=h(),g=S==null?null:S-u;u=S,c&&c({action:l,location:x.location,delta:g})}function m(S,g){l="PUSH";let v=_d(x.location,S,g);u=h()+1;let y=Dp(v,u),N=x.createHref(v);try{i.pushState(y,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(N)}a&&c&&c({action:l,location:x.location,delta:1})}function p(S,g){l="REPLACE";let v=_d(x.location,S,g);u=h();let y=Dp(v,u),N=x.createHref(v);i.replaceState(y,"",N),a&&c&&c({action:l,location:x.location,delta:0})}function w(S){return Hj(S)}let x={get action(){return l},get location(){return e(s,i)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ip,f),c=S,()=>{s.removeEventListener(Ip,f),c=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let g=w(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:p,go(S){return i.go(S)}};return x}function Hj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_a(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function m0(e,t,n="/"){return Kj(e,t,n,!1)}function Kj(e,t,n,r){let s=typeof t=="string"?Va(t):t,a=hr(s.pathname||"/",n);if(a==null)return null;let i=p0(e);Yj(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=s2(a);l=n2(i[c],u,r)}return l}function p0(e,t=[],n=[],r=""){let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(xt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=ir([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),p0(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:e2(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of g0(a.path))s(a,i,c)}),t}function g0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=g0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Yj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:t2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Gj=/^:[\w-]+$/,Xj=3,qj=2,Qj=1,Jj=10,Zj=-2,Op=e=>e==="*";function e2(e,t){let n=e.split("/"),r=n.length;return n.some(Op)&&(r+=Zj),t&&(r+=qj),n.filter(s=>!Op(s)).reduce((s,a)=>s+(Gj.test(a)?Xj:a===""?Qj:Jj),r)}function t2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function n2(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",f=Il({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Il({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ir([a,f.pathname]),pathnameBase:l2(ir([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=ir([a,f.pathnameBase]))}return i}function Il(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},m)=>{if(h==="*"){let w=l[m]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const p=l[m];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function r2(e,t=!1,n=!0){Rn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function s2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function o2(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Va(e):e;return{pathname:n?n.startsWith("/")?n:a2(n,t):t,search:c2(r),hash:u2(s)}}function a2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function uu(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v0(e){let t=i2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function x0(e,t,n,r=!1){let s;typeof e=="string"?s=Va(e):(s={...e},xt(!s.pathname||!s.pathname.includes("?"),uu("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),uu("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),uu("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=o2(s,l),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var ir=e=>e.join("/").replace(/\/\/+/g,"/"),l2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),c2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var f2=["GET",...y0];new Set(f2);var No=d.createContext(null);No.displayName="DataRouter";var dc=d.createContext(null);dc.displayName="DataRouterState";var w0=d.createContext({isTransitioning:!1});w0.displayName="ViewTransition";var h2=d.createContext(new Map);h2.displayName="Fetchers";var m2=d.createContext(null);m2.displayName="Await";var Jn=d.createContext(null);Jn.displayName="Navigation";var fc=d.createContext(null);fc.displayName="Location";var xr=d.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var ch=d.createContext(null);ch.displayName="RouteError";function p2(e,{relative:t}={}){xt(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Jn),{hash:s,pathname:a,search:i}=Ka(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:ir([n,a])),r.createHref({pathname:l,search:i,hash:s})}function Ha(){return d.useContext(fc)!=null}function yr(){return xt(Ha(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(fc).location}var b0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S0(e){d.useContext(Jn).static||d.useLayoutEffect(e)}function N0(){let{isDataRoute:e}=d.useContext(xr);return e?T2():g2()}function g2(){xt(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(No),{basename:t,navigator:n}=d.useContext(Jn),{matches:r}=d.useContext(xr),{pathname:s}=yr(),a=JSON.stringify(v0(r)),i=d.useRef(!1);return S0(()=>{i.current=!0}),d.useCallback((c,u={})=>{if(Rn(i.current,b0),!i.current)return;if(typeof c=="number"){n.go(c);return}let h=x0(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ir([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,a,s,e])}d.createContext(null);function Ka(e,{relative:t}={}){let{matches:n}=d.useContext(xr),{pathname:r}=yr(),s=JSON.stringify(v0(n));return d.useMemo(()=>x0(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function v2(e,t,n,r){xt(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=d.useContext(Jn),{matches:a}=d.useContext(xr),i=a[a.length-1],l=i?i.params:{},c=i?i.pathname:"/",u=i?i.pathnameBase:"/",h=i&&i.route;{let g=h&&h.path||"";j0(c,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=yr(),m;m=f;let p=m.pathname||"/",w=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=m0(e,{pathname:w});return Rn(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Rn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),S2(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:ir([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:ir([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r)}function x2(){let e=E2(),t=d2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=d.createElement(d.Fragment,null,d.createElement("p",null,"💿 Hey developer 👋"),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:a},"ErrorBoundary")," or"," ",d.createElement("code",{style:a},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,i)}var y2=d.createElement(x2,null),w2=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?d.createElement(xr.Provider,{value:this.props.routeContext},d.createElement(ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b2({routeContext:e,match:t,children:n}){let r=d.useContext(No);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(xr.Provider,{value:e},n)}function S2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);xt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let i=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:h,errors:f}=n,m=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){i=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,h)=>{let f,m=!1,p=null,w=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||y2,i&&(l<0&&h===0?(j0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===h&&(m=!0,w=u.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,h+1)),S=()=>{let g;return f?g=p:m?g=w:u.route.Component?g=d.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,d.createElement(b2,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?d.createElement(w2,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function uh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N2(e){let t=d.useContext(No);return xt(t,uh(e)),t}function j2(e){let t=d.useContext(dc);return xt(t,uh(e)),t}function C2(e){let t=d.useContext(xr);return xt(t,uh(e)),t}function dh(e){let t=C2(e),n=t.matches[t.matches.length-1];return xt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function k2(){return dh("useRouteId")}function E2(){var r;let e=d.useContext(ch),t=j2("useRouteError"),n=dh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function T2(){let{router:e}=N2("useNavigate"),t=dh("useNavigate"),n=d.useRef(!1);return S0(()=>{n.current=!0}),d.useCallback(async(s,a={})=>{Rn(n.current,b0),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Lp={};function j0(e,t,n){!t&&!Lp[e]&&(Lp[e]=!0,Rn(!1,n))}d.memo(P2);function P2({routes:e,future:t,state:n}){return v2(e,void 0,n,t)}function R2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){xt(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof n=="string"&&(n=Va(n));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:m="default"}=n,p=d.useMemo(()=>{let w=hr(c,i);return w==null?null:{location:{pathname:w,search:u,hash:h,state:f,key:m},navigationType:r}},[i,c,u,h,f,m,r]);return Rn(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(Jn.Provider,{value:l},d.createElement(fc.Provider,{children:t,value:p}))}var rl="get",sl="application/x-www-form-urlencoded";function hc(e){return e!=null&&typeof e.tagName=="string"}function _2(e){return hc(e)&&e.tagName.toLowerCase()==="button"}function A2(e){return hc(e)&&e.tagName.toLowerCase()==="form"}function I2(e){return hc(e)&&e.tagName.toLowerCase()==="input"}function D2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O2(e,t){return e.button===0&&(!t||t==="_self")&&!D2(e)}function Ad(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function L2(e,t){let n=Ad(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var ki=null;function M2(){if(ki===null)try{new FormData(document.createElement("form"),0),ki=!1}catch{ki=!0}return ki}var $2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function du(e){return e!=null&&!$2.has(e)?(Rn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):e}function z2(e,t){let n,r,s,a,i;if(A2(e)){let l=e.getAttribute("action");r=l?hr(l,t):null,n=e.getAttribute("method")||rl,s=du(e.getAttribute("enctype"))||sl,a=new FormData(e)}else if(_2(e)||I2(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?hr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||rl,s=du(e.getAttribute("formenctype"))||du(l.getAttribute("enctype"))||sl,a=new FormData(l,e),!M2()){let{name:u,type:h,value:f}=e;if(h==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(hc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,r=null,s=sl,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}function fh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function F2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function B2(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await F2(a,n);return i.links?i.links():[]}return[]}));return K2(r.flat(1).filter(U2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Mp(e,t,n,r,s,a){let i=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function W2(e,t,{includeHydrateFallback:n}={}){return V2(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function V2(e){return[...new Set(e)]}function H2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function K2(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(H2(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y2=new Set([100,101,204,205]);function G2(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&hr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function C0(){let e=d.useContext(No);return fh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function X2(){let e=d.useContext(dc);return fh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hh=d.createContext(void 0);hh.displayName="FrameworkContext";function k0(){let e=d.useContext(hh);return fh(e,"You must render this element inside a <HydratedRouter> element"),e}function q2(e,t){let n=d.useContext(hh),[r,s]=d.useState(!1),[a,i]=d.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,m=d.useRef(null);d.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=g=>{g.forEach(v=>{i(v.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[e]),d.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{s(!0)},w=()=>{s(!1),i(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:Bo(l,p),onBlur:Bo(c,w),onMouseEnter:Bo(u,p),onMouseLeave:Bo(h,w),onTouchStart:Bo(f,p)}]:[!1,m,{}]}function Bo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Q2({page:e,...t}){let{router:n}=C0(),r=d.useMemo(()=>m0(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?d.createElement(Z2,{page:e,matches:r,...t}):null}function J2(e){let{manifest:t,routeModules:n}=k0(),[r,s]=d.useState([]);return d.useEffect(()=>{let a=!1;return B2(e,t,n).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,n]),r}function Z2({page:e,matches:t,...n}){let r=yr(),{manifest:s,routeModules:a}=k0(),{basename:i}=C0(),{loaderData:l,matches:c}=X2(),u=d.useMemo(()=>Mp(e,t,c,s,r,"data"),[e,t,c,s,r]),h=d.useMemo(()=>Mp(e,t,c,s,r,"assets"),[e,t,c,s,r]),f=d.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(t.forEach(g=>{var y;let v=s.routes[g.route.id];!v||!v.hasLoader||(!u.some(N=>N.route.id===g.route.id)&&g.route.id in l&&((y=a[g.route.id])!=null&&y.shouldRevalidate)||v.hasClientLoader?x=!0:w.add(g.route.id))}),w.size===0)return[];let S=G2(e,i);return x&&w.size>0&&S.searchParams.set("_routes",t.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[S.pathname+S.search]},[i,l,r,s,u,t,e,a]),m=d.useMemo(()=>W2(h,s),[h,s]),p=J2(h);return d.createElement(d.Fragment,null,f.map(w=>d.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),m.map(w=>d.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),p.map(({key:w,link:x})=>d.createElement("link",{key:w,...x})))}function eC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var E0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E0&&(window.__reactRouterVersion="7.6.3")}catch{}function tC({basename:e,children:t,window:n}){let r=d.useRef();r.current==null&&(r.current=Bj({window:n,v5Compat:!0}));let s=r.current,[a,i]=d.useState({action:s.action,location:s.location}),l=d.useCallback(c=>{d.startTransition(()=>i(c))},[i]);return d.useLayoutEffect(()=>s.listen(l),[s,l]),d.createElement(R2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var T0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P0=d.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,...m},p){let{basename:w}=d.useContext(Jn),x=typeof u=="string"&&T0.test(u),S,g=!1;if(typeof u=="string"&&x&&(S=u,E0))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),D=hr(j.pathname,w);j.origin===b.origin&&D!=null?u=D+j.search+j.hash:g=!0}catch{Rn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=p2(u,{relative:s}),[y,N,C]=q2(r,m),P=oC(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function R(b){t&&t(b),b.defaultPrevented||P(b)}let E=d.createElement("a",{...m,...C,href:S||v,onClick:g||a?t:R,ref:eC(p,N),target:c,"data-discover":!x&&n==="render"?"true":void 0});return y&&!x?d.createElement(d.Fragment,null,E,d.createElement(Q2,{page:v})):E});P0.displayName="Link";var nC=d.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:i,viewTransition:l,children:c,...u},h){let f=Ka(i,{relative:u.relative}),m=yr(),p=d.useContext(dc),{navigator:w,basename:x}=d.useContext(Jn),S=p!=null&&dC(f)&&l===!0,g=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,v=m.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&x&&(y=hr(y,x)||y);const N=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let C=v===g||!s&&v.startsWith(g)&&v.charAt(N)==="/",P=y!=null&&(y===g||!s&&y.startsWith(g)&&y.charAt(g.length)==="/"),R={isActive:C,isPending:P,isTransitioning:S},E=C?t:void 0,b;typeof r=="function"?b=r(R):b=[r,C?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(R):a;return d.createElement(P0,{...u,"aria-current":E,className:b,ref:h,style:j,to:i,viewTransition:l},typeof c=="function"?c(R):c)});nC.displayName="NavLink";var rC=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:i=rl,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...m},p)=>{let w=cC(),x=uC(l,{relative:u}),S=i.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&T0.test(l),v=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let N=y.nativeEvent.submitter,C=(N==null?void 0:N.getAttribute("formmethod"))||i;w(N||y.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:s,state:a,relative:u,preventScrollReset:h,viewTransition:f})};return d.createElement("form",{ref:p,method:S,action:x,onSubmit:r?c:v,...m,"data-discover":!g&&e==="render"?"true":void 0})});rC.displayName="Form";function sC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(e){let t=d.useContext(No);return xt(t,sC(e)),t}function oC(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=N0(),c=yr(),u=Ka(e,{relative:a});return d.useCallback(h=>{if(O2(h,t)){h.preventDefault();let f=n!==void 0?n:_a(c)===_a(u);l(e,{replace:f,state:r,preventScrollReset:s,relative:a,viewTransition:i})}},[c,l,u,n,r,t,e,s,a,i])}function aC(e){Rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=d.useRef(Ad(e)),n=d.useRef(!1),r=yr(),s=d.useMemo(()=>L2(r.search,n.current?null:t.current),[r.search]),a=N0(),i=d.useCallback((l,c)=>{const u=Ad(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,i]}var iC=0,lC=()=>`__${String(++iC)}__`;function cC(){let{router:e}=R0("useSubmit"),{basename:t}=d.useContext(Jn),n=k2();return d.useCallback(async(r,s={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=z2(r,t);if(s.navigate===!1){let h=s.fetcherKey||lC();await e.fetch(h,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function uC(e,{relative:t}={}){let{basename:n}=d.useContext(Jn),r=d.useContext(xr);xt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ka(e||".",{relative:t})},i=yr();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ir([n,a.pathname])),_a(a)}function dC(e,t={}){let n=d.useContext(w0);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=R0("useViewTransitionState"),s=Ka(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=hr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=hr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Il(s.pathname,i)!=null||Il(s.pathname,a)!=null}[...Y2];var fC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mC=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:l,...c},u)=>d.createElement("svg",{ref:u,...fC,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${hC(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var de=mC;const jo=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),$p=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),mh=de("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_0=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ro=de("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),A0=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),da=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),_r=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pC=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),zp=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Kr=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),qs=de("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),gC=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Id=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vC=de("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),Dl=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),mr=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ph=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),xC=de("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),fu=de("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),tn=de("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ol=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),yC=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),wC=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),bC=de("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Dd=de("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),gh=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),SC=de("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),I0=de("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Ll=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),D0=de("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),NC=de("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Fp=de("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Et=de("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Yt=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ts=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),vh=de("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),jC=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),CC=de("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),kC=de("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),EC=de("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),TC=de("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),PC=de("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),qr=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Up=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ml=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xh=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),RC=de("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),_C=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),O0=de("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),yh=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Bp=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ft=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),AC=de("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),IC=de("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),DC=de("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),OC=de("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),LC=de("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),_n=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var MC=e=>{switch(e){case"success":return FC;case"info":return BC;case"warning":return UC;case"error":return WC;default:return null}},$C=Array(12).fill(0),zC=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},$C.map((n,r)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),FC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HC=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Od=1,KC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Od++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,i=r.then(async c=>{if(a=["resolve",c],te.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(GC(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Od++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new KC,YC=(e,t)=>{let n=(t==null?void 0:t.id)||Od++;return Vt.addToast({title:e,...t,id:n}),n},GC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",XC=YC,qC=()=>Vt.toasts,QC=()=>Vt.getActiveToasts(),Wo=Object.assign(XC,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:qC,getToasts:QC});function JC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}JC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ei(e){return e.label!==void 0}var ZC=3,ek="32px",tk="16px",Wp=4e3,nk=356,rk=14,sk=20,ok=200;function wn(...e){return e.filter(Boolean).join(" ")}function ak(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var ik=e=>{var t,n,r,s,a,i,l,c,u,h,f;let{invert:m,toast:p,unstyled:w,interacting:x,setHeights:S,visibleToasts:g,heights:v,index:y,toasts:N,expanded:C,removeToast:P,defaultRichColors:R,closeButton:E,style:b,cancelButtonStyle:j,actionButtonStyle:D,className:k="",descriptionClassName:L="",duration:O,position:K,gap:F,loadingIcon:_,expandByDefault:T,classNames:I,icons:B,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:X}=e,[ee,se]=te.useState(null),[xe,ke]=te.useState(null),[J,ie]=te.useState(!1),[fe,he]=te.useState(!1),[le,pe]=te.useState(!1),[Ce,Me]=te.useState(!1),[Xe,A]=te.useState(!1),[Y,ne]=te.useState(0),[q,M]=te.useState(0),W=te.useRef(p.duration||O||Wp),re=te.useRef(null),ue=te.useRef(null),ve=y===0,Ee=y+1<=g,Se=p.type,ce=p.dismissible!==!1,$e=p.className||"",Pt=p.descriptionClassName||"",Mt=te.useMemo(()=>v.findIndex(ge=>ge.toastId===p.id)||0,[v,p.id]),qe=te.useMemo(()=>{var ge;return(ge=p.closeButton)!=null?ge:E},[p.closeButton,E]),Ze=te.useMemo(()=>p.duration||O||Wp,[p.duration,O]),ut=te.useRef(0),yt=te.useRef(0),V=te.useRef(0),me=te.useRef(null),[Ae,oe]=K.split("-"),Fe=te.useMemo(()=>v.reduce((ge,ye,je)=>je>=Mt?ge:ge+ye.height,0),[v,Mt]),wt=HC(),Nt=p.invert||m,pt=Se==="loading";yt.current=te.useMemo(()=>Mt*F+Fe,[Mt,Fe]),te.useEffect(()=>{W.current=Ze},[Ze]),te.useEffect(()=>{ie(!0)},[]),te.useEffect(()=>{let ge=ue.current;if(ge){let ye=ge.getBoundingClientRect().height;return M(ye),S(je=>[{toastId:p.id,height:ye,position:p.position},...je]),()=>S(je=>je.filter(Ue=>Ue.toastId!==p.id))}},[S,p.id]),te.useLayoutEffect(()=>{if(!J)return;let ge=ue.current,ye=ge.style.height;ge.style.height="auto";let je=ge.getBoundingClientRect().height;ge.style.height=ye,M(je),S(Ue=>Ue.find(Be=>Be.toastId===p.id)?Ue.map(Be=>Be.toastId===p.id?{...Be,height:je}:Be):[{toastId:p.id,height:je,position:p.position},...Ue])},[J,p.title,p.description,S,p.id]);let jt=te.useCallback(()=>{he(!0),ne(yt.current),S(ge=>ge.filter(ye=>ye.toastId!==p.id)),setTimeout(()=>{P(p)},ok)},[p,P,S,yt]);te.useEffect(()=>{if(p.promise&&Se==="loading"||p.duration===1/0||p.type==="loading")return;let ge;return C||x||X&&wt?(()=>{if(V.current<ut.current){let ye=new Date().getTime()-ut.current;W.current=W.current-ye}V.current=new Date().getTime()})():W.current!==1/0&&(ut.current=new Date().getTime(),ge=setTimeout(()=>{var ye;(ye=p.onAutoClose)==null||ye.call(p,p),jt()},W.current)),()=>clearTimeout(ge)},[C,x,p,Se,X,wt,jt]),te.useEffect(()=>{p.delete&&jt()},[jt,p.delete]);function Nr(){var ge,ye,je;return B!=null&&B.loading?te.createElement("div",{className:wn(I==null?void 0:I.loader,(ge=p==null?void 0:p.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":Se==="loading"},B.loading):_?te.createElement("div",{className:wn(I==null?void 0:I.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Se==="loading"},_):te.createElement(zC,{className:wn(I==null?void 0:I.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader),visible:Se==="loading"})}return te.createElement("li",{tabIndex:0,ref:ue,className:wn(k,$e,I==null?void 0:I.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[Se],(n=p==null?void 0:p.classNames)==null?void 0:n[Se]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:R,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":Xe,"data-removed":fe,"data-visible":Ee,"data-y-position":Ae,"data-x-position":oe,"data-index":y,"data-front":ve,"data-swiping":le,"data-dismissible":ce,"data-type":Se,"data-invert":Nt,"data-swipe-out":Ce,"data-swipe-direction":xe,"data-expanded":!!(C||T&&J),style:{"--index":y,"--toasts-before":y,"--z-index":N.length-y,"--offset":`${fe?Y:yt.current}px`,"--initial-height":T?"auto":`${q}px`,...b,...p.style},onDragEnd:()=>{pe(!1),se(null),me.current=null},onPointerDown:ge=>{pt||!ce||(re.current=new Date,ne(yt.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(pe(!0),me.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,ye,je,Ue;if(Ce||!ce)return;me.current=null;let Be=Number(((ge=ue.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),We=Number(((ye=ue.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Oe=new Date().getTime()-((je=re.current)==null?void 0:je.getTime()),et=ee==="x"?Be:We,dt=Math.abs(et)/Oe;if(Math.abs(et)>=sk||dt>.11){ne(yt.current),(Ue=p.onDismiss)==null||Ue.call(p,p),ke(ee==="x"?Be>0?"right":"left":We>0?"down":"up"),jt(),Me(!0),A(!1);return}pe(!1),se(null)},onPointerMove:ge=>{var ye,je,Ue,Be;if(!me.current||!ce||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;let We=ge.clientY-me.current.y,Oe=ge.clientX-me.current.x,et=(je=e.swipeDirections)!=null?je:ak(K);!ee&&(Math.abs(Oe)>1||Math.abs(We)>1)&&se(Math.abs(Oe)>Math.abs(We)?"x":"y");let dt={x:0,y:0};ee==="y"?(et.includes("top")||et.includes("bottom"))&&(et.includes("top")&&We<0||et.includes("bottom")&&We>0)&&(dt.y=We):ee==="x"&&(et.includes("left")||et.includes("right"))&&(et.includes("left")&&Oe<0||et.includes("right")&&Oe>0)&&(dt.x=Oe),(Math.abs(dt.x)>0||Math.abs(dt.y)>0)&&A(!0),(Ue=ue.current)==null||Ue.style.setProperty("--swipe-amount-x",`${dt.x}px`),(Be=ue.current)==null||Be.style.setProperty("--swipe-amount-y",`${dt.y}px`)}},qe&&!p.jsx?te.createElement("button",{"aria-label":U,"data-disabled":pt,"data-close-button":!0,onClick:pt||!ce?()=>{}:()=>{var ge;jt(),(ge=p.onDismiss)==null||ge.call(p,p)},className:wn(I==null?void 0:I.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=B==null?void 0:B.close)!=null?a:VC):null,p.jsx||d.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:te.createElement(te.Fragment,null,Se||p.icon||p.promise?te.createElement("div",{"data-icon":"",className:wn(I==null?void 0:I.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Nr():null,p.type!=="loading"?p.icon||(B==null?void 0:B[Se])||MC(Se):null):null,te.createElement("div",{"data-content":"",className:wn(I==null?void 0:I.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:wn(I==null?void 0:I.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?te.createElement("div",{"data-description":"",className:wn(L,Pt,I==null?void 0:I.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),d.isValidElement(p.cancel)?p.cancel:p.cancel&&Ei(p.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||j,onClick:ge=>{var ye,je;Ei(p.cancel)&&ce&&((je=(ye=p.cancel).onClick)==null||je.call(ye,ge),jt())},className:wn(I==null?void 0:I.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,d.isValidElement(p.action)?p.action:p.action&&Ei(p.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:ge=>{var ye,je;Ei(p.action)&&((je=(ye=p.action).onClick)==null||je.call(ye,ge),!ge.defaultPrevented&&jt())},className:wn(I==null?void 0:I.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Vp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lk(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?tk:ek;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var ck=d.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:w=ZC,toastOptions:x,dir:S=Vp(),gap:g=rk,loadingIcon:v,icons:y,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:C}=e,[P,R]=te.useState([]),E=te.useMemo(()=>Array.from(new Set([r].concat(P.filter(X=>X.position).map(X=>X.position)))),[P,r]),[b,j]=te.useState([]),[D,k]=te.useState(!1),[L,O]=te.useState(!1),[K,F]=te.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_=te.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=te.useRef(null),B=te.useRef(!1),U=te.useCallback(X=>{R(ee=>{var se;return(se=ee.find(xe=>xe.id===X.id))!=null&&se.delete||Vt.dismiss(X.id),ee.filter(({id:xe})=>xe!==X.id)})},[]);return te.useEffect(()=>Vt.subscribe(X=>{if(X.dismiss){R(ee=>ee.map(se=>se.id===X.id?{...se,delete:!0}:se));return}setTimeout(()=>{h0.flushSync(()=>{R(ee=>{let se=ee.findIndex(xe=>xe.id===X.id);return se!==-1?[...ee.slice(0,se),{...ee[se],...X},...ee.slice(se+1)]:[X,...ee]})})})}),[]),te.useEffect(()=>{if(h!=="system"){F(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ee})=>{F(ee?"dark":"light")})}catch{X.addListener(({matches:se})=>{try{F(se?"dark":"light")}catch(xe){console.error(xe)}})}},[h]),te.useEffect(()=>{P.length<=1&&k(!1)},[P]),te.useEffect(()=>{let X=ee=>{var se,xe;s.every(ke=>ee[ke]||ee.code===ke)&&(k(!0),(se=_.current)==null||se.focus()),ee.code==="Escape"&&(document.activeElement===_.current||(xe=_.current)!=null&&xe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),te.useEffect(()=>{if(_.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,B.current=!1)}},[_.current]),te.createElement("section",{ref:t,"aria-label":`${N} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((X,ee)=>{var se;let[xe,ke]=X.split("-");return P.length?te.createElement("ol",{key:X,dir:S==="auto"?Vp():S,tabIndex:-1,ref:_,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":xe,"data-lifted":D&&P.length>1&&!a,"data-x-position":ke,style:{"--front-toast-height":`${((se=b[0])==null?void 0:se.height)||0}px`,"--width":`${nk}px`,"--gap":`${g}px`,...p,...lk(c,u)},onBlur:J=>{B.current&&!J.currentTarget.contains(J.relatedTarget)&&(B.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||B.current||(B.current=!0,I.current=J.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{L||k(!1)},onDragEnd:()=>k(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},P.filter(J=>!J.position&&ee===0||J.position===X).map((J,ie)=>{var fe,he;return te.createElement(ik,{key:J.id,icons:y,index:ie,toast:J,defaultRichColors:f,duration:(fe=x==null?void 0:x.duration)!=null?fe:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:w,closeButton:(he=x==null?void 0:x.closeButton)!=null?he:i,interacting:L,position:X,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:U,toasts:P.filter(le=>le.position==J.position),heights:b.filter(le=>le.position==J.position),setHeights:j,expandByDefault:a,gap:g,loadingIcon:v,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});function Hp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function L0(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Hp(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Hp(e[s],null)}}}}function Pe(...e){return d.useCallback(L0(...e),e)}function po(e){const t=uk(e),n=d.forwardRef((r,s)=>{const{children:a,...i}=r,l=d.Children.toArray(a),c=l.find(fk);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var M0=po("Slot");function uk(e){const t=d.forwardRef((n,r)=>{const{children:s,...a}=n;if(d.isValidElement(s)){const i=mk(s),l=hk(a,s.props);return s.type!==d.Fragment&&(l.ref=r?L0(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $0=Symbol("radix.slottable");function dk(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=$0,t}function fk(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$0}function hk(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function mk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function z0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=z0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function F0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=z0(e))&&(r&&(r+=" "),r+=t);return r}const Kp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yp=F0,U0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Yp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=a==null?void 0:a[u];if(h===null)return null;const m=Kp(h)||Kp(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(w=>{let[x,S]=w;return Array.isArray(S)?S.includes({...a,...l}[x]):{...a,...l}[x]===S})?[...u,f,m]:u},[]);return Yp(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};function pk(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=B0(t))&&(r&&(r+=" "),r+=n);return r}function B0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=B0(e[r]))&&(n&&(n+=" "),n+=t);return n}var wh="-";function gk(e){var t=xk(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(wh);return c[0]===""&&c.length!==1&&c.shift(),W0(c,t)||vk(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function W0(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?W0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(wh);return(i=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:i.classGroupId}}var Gp=/^\[(.+)\]$/;function vk(e){if(Gp.test(e)){var t=Gp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function xk(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=wk(Object.entries(e.classGroups),n);return s.forEach(function(a){var i=a[0],l=a[1];Ld(l,r,i,t)}),r}function Ld(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:Xp(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(yk(s)){Ld(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Ld(c,Xp(t,l),n,r)})})}function Xp(e,t){var n=e;return t.split(wh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function yk(e){return e.isThemeGetter}function wk(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,a]}):e}function bk(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,i){n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var V0="!";function Sk(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,h,f=0;f<i.length;f++){var m=i[f];if(c===0){if(m===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(m==="/"){h=f;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(V0),x=w?p.substring(1):p,S=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:S}}}function Nk(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function jk(e){return{cache:bk(e.cacheSize),splitModifiers:Sk(e),...gk(e)}}var Ck=/\s+/;function kk(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Ck).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?h.substring(0,f):h),p=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:i};if(m=r(h),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=Nk(c).join(":"),x=u?w+V0:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,h=l+c;return a.has(h)?!1:(a.add(h),s(c,u).forEach(function(f){return a.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function Ek(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,i=l;function l(u){var h=t[0],f=t.slice(1),m=f.reduce(function(p,w){return w(p)},h());return r=jk(m),s=r.cache.get,a=r.cache.set,i=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=kk(u,r);return a(u,f),f}return function(){return i(pk.apply(null,arguments))}}function Ke(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var H0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tk=/^\d+\/\d+$/,Pk=new Set(["px","full","screen"]),Rk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_k=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ak=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function bn(e){return fs(e)||Pk.has(e)||Tk.test(e)||Md(e)}function Md(e){return Ps(e,"length",$k)}function Ik(e){return Ps(e,"size",K0)}function Dk(e){return Ps(e,"position",K0)}function Ok(e){return Ps(e,"url",zk)}function Ti(e){return Ps(e,"number",fs)}function fs(e){return!Number.isNaN(Number(e))}function Lk(e){return e.endsWith("%")&&fs(e.slice(0,-1))}function Vo(e){return qp(e)||Ps(e,"number",qp)}function _e(e){return H0.test(e)}function Ho(){return!0}function kr(e){return Rk.test(e)}function Mk(e){return Ps(e,"",Fk)}function Ps(e,t,n){var r=H0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function $k(e){return _k.test(e)}function K0(){return!1}function zk(e){return e.startsWith("url(")}function qp(e){return Number.isInteger(Number(e))}function Fk(e){return Ak.test(e)}function Uk(){var e=Ke("colors"),t=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),s=Ke("borderColor"),a=Ke("borderRadius"),i=Ke("borderSpacing"),l=Ke("borderWidth"),c=Ke("contrast"),u=Ke("grayscale"),h=Ke("hueRotate"),f=Ke("invert"),m=Ke("gap"),p=Ke("gradientColorStops"),w=Ke("gradientColorStopPositions"),x=Ke("inset"),S=Ke("margin"),g=Ke("opacity"),v=Ke("padding"),y=Ke("saturate"),N=Ke("scale"),C=Ke("sepia"),P=Ke("skew"),R=Ke("space"),E=Ke("translate"),b=function(){return["auto","contain","none"]},j=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",_e,t]},k=function(){return[_e,t]},L=function(){return["",bn]},O=function(){return["auto",fs,_e]},K=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},_=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},T=function(){return["start","end","center","between","around","evenly","stretch"]},I=function(){return["","0",_e]},B=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},U=function(){return[fs,Ti]},X=function(){return[fs,_e]};return{cacheSize:500,theme:{colors:[Ho],spacing:[bn],blur:["none","",kr,_e],brightness:U(),borderColor:[e],borderRadius:["none","","full",kr,_e],borderSpacing:k(),borderWidth:L(),contrast:U(),grayscale:I(),hueRotate:X(),invert:I(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[Lk,Md],inset:D(),margin:D(),opacity:U(),padding:k(),saturate:U(),scale:U(),sepia:I(),skew:X(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[kr]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(K(),[_e])}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vo]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Vo]}],"grid-cols":[{"grid-cols":[Ho]}],"col-start-end":[{col:["auto",{span:["full",Vo]},_e]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Ho]}],"row-start-end":[{row:["auto",{span:[Vo]},_e]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(T())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(T(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(T(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",_e,t]}],"min-w":[{"min-w":["min","max","fit",_e,bn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[kr]},kr,_e]}],h:[{h:[_e,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",_e,bn]}],"max-h":[{"max-h":[_e,t,"min","max","fit"]}],"font-size":[{text:["base",kr,Md]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ti]}],"font-family":[{font:[Ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",fs,Ti]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_e,bn]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",bn]}],"underline-offset":[{"underline-offset":["auto",_e,bn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(K(),[Dk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ik]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ok]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[_e,bn]}],"outline-w":[{outline:[bn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[bn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kr,Mk]}],"shadow-color":[{shadow:[Ho]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":_()}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kr,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Vo,_e]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bn,Ti]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Bk=Ek(Uk);function Te(...e){return Bk(F0(e))}const bh=U0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function $({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?M0:"button";return o.jsx(a,{"data-slot":"button",className:Te(bh({variant:t,size:n,className:e})),...s})}function Wk(e,t){const n=d.createContext(t),r=a=>{const{children:i,...l}=a,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function On(e,t=[]){let n=[];function r(a,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=f=>{var g;const{scope:m,children:p,...w}=f,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,S=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:S,children:p})};u.displayName=a+"Provider";function h(f,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const s=()=>{const a=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Vk(s,...t)]}function Vk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function It(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var mt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Hk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=Hk.reduce((e,t)=>{const n=po(`Primitive.${t}`),r=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kk(e,t){e&&So.flushSync(()=>e.dispatchEvent(t))}var Y0={exports:{}},G0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=d;function Yk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gk=typeof Object.is=="function"?Object.is:Yk,Xk=go.useState,qk=go.useEffect,Qk=go.useLayoutEffect,Jk=go.useDebugValue;function Zk(e,t){var n=t(),r=Xk({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return Qk(function(){s.value=n,s.getSnapshot=t,hu(s)&&a({inst:s})},[e,n,t]),qk(function(){return hu(s)&&a({inst:s}),e(function(){hu(s)&&a({inst:s})})},[e]),Jk(n),n}function hu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gk(e,n)}catch{return!0}}function eE(e,t){return t()}var tE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eE:Zk;G0.useSyncExternalStore=go.useSyncExternalStore!==void 0?go.useSyncExternalStore:tE;Y0.exports=G0;var nE=Y0.exports;function rE(){return nE.useSyncExternalStore(sE,()=>!0,()=>!1)}function sE(){return()=>{}}var Sh="Avatar",[oE,D5]=On(Sh),[aE,X0]=oE(Sh),q0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=d.useState("idle");return o.jsx(aE,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(be.span,{...r,ref:t})})});q0.displayName=Sh;var Q0="AvatarImage",J0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=X0(Q0,n),l=iE(r,a),c=It(u=>{s(u),i.onImageLoadingStatusChange(u)});return mt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(be.img,{...a,ref:t,src:r}):null});J0.displayName=Q0;var Z0="AvatarFallback",ey=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=X0(Z0,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(be.span,{...s,ref:t}):null});ey.displayName=Z0;function Qp(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iE(e,{referrerPolicy:t,crossOrigin:n}){const r=rE(),s=d.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>Qp(a,e));return mt(()=>{l(Qp(a,e))},[a,e]),mt(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),h=c("error");return a.addEventListener("load",u),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,n,t]),i}var lE=q0,cE=J0,uE=ey;function ot({className:e,...t}){return o.jsx(lE,{"data-slot":"avatar",className:Te("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function at({className:e,...t}){return o.jsx(cE,{"data-slot":"avatar-image",className:Te("aspect-square size-full",e),...t})}function it({className:e,...t}){return o.jsx(uE,{"data-slot":"avatar-fallback",className:Te("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class dE{constructor(){ft(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return a}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`유저 정보 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("유저 정보 조회 오류:",n),n}}}const fE=new dE;var $d={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,a=n.XMLHttpRequest,i=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,h=n.Promise,f=n.fetch,m=n.Response,p=n.TextDecoder,w=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(A){u.readyState="complete"},!1)),a==null&&l!=null&&(a=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(A){function Y(){}return Y.prototype=A,new Y}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var S=f;f=function(A,Y){var ne=Y.signal;return S(A,{headers:Y.headers,credentials:Y.credentials,cache:Y.cache}).then(function(q){var M=q.body.getReader();return ne._reader=M,ne._aborted&&ne._reader.cancel(),{status:q.status,statusText:q.statusText,headers:q.headers,body:{getReader:function(){return M}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(A){function Y(Ee,Se,ce){if(ce===1)return Ee>=128>>Se&&Ee<<Se<=2047;if(ce===2)return Ee>=2048>>Se&&Ee<<Se<=55295||Ee>=57344>>Se&&Ee<<Se<=65535;if(ce===3)return Ee>=65536>>Se&&Ee<<Se<=1114111;throw new Error}function ne(Ee,Se){if(Ee===6*1)return Se>>6>15?3:Se>31?2:1;if(Ee===6*2)return Se>15?3:2;if(Ee===6*3)return 3;throw new Error}for(var q=65533,M="",W=this.bitsNeeded,re=this.codePoint,ue=0;ue<A.length;ue+=1){var ve=A[ue];W!==0&&(ve<128||ve>191||!Y(re<<6|ve&63,W-6,ne(W,re)))&&(W=0,re=q,M+=String.fromCharCode(re)),W===0?(ve>=0&&ve<=127?(W=0,re=ve):ve>=192&&ve<=223?(W=6*1,re=ve&31):ve>=224&&ve<=239?(W=6*2,re=ve&15):ve>=240&&ve<=247?(W=6*3,re=ve&7):(W=0,re=q),W!==0&&!Y(re,W,ne(W,re))&&(W=0,re=q)):(W-=6,re=re<<6|ve&63),W===0&&(re<=65535?M+=String.fromCharCode(re):(M+=String.fromCharCode(55296+(re-65535-1>>10)),M+=String.fromCharCode(56320+(re-65535-1&1023))))}return this.bitsNeeded=W,this.codePoint=re,M};var v=function(){try{return new p().decode(new w().encode("test"),{stream:!0})==="test"}catch(A){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+A)}return!1};(p==null||w==null||!v())&&(p=g);var y=function(){};function N(A){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onload=y,this.onerror=y,this.onreadystatechange=y,this._contentType="",this._xhr=A,this._sendTimeout=0,this._abort=y}N.prototype.open=function(A,Y){this._abort(!0);var ne=this,q=this._xhr,M=1,W=0;this._abort=function(ce){ne._sendTimeout!==0&&(s(ne._sendTimeout),ne._sendTimeout=0),(M===1||M===2||M===3)&&(M=4,q.onload=y,q.onerror=y,q.onabort=y,q.onprogress=y,q.onreadystatechange=y,q.abort(),W!==0&&(s(W),W=0),ce||(ne.readyState=4,ne.onabort(null),ne.onreadystatechange())),M=0};var re=function(){if(M===1){var ce=0,$e="",Pt=void 0;if("contentType"in q)ce=200,$e="OK",Pt=q.contentType;else try{ce=q.status,$e=q.statusText,Pt=q.getResponseHeader("Content-Type")}catch{ce=0,$e="",Pt=void 0}ce!==0&&(M=2,ne.readyState=2,ne.status=ce,ne.statusText=$e,ne._contentType=Pt,ne.onreadystatechange())}},ue=function(){if(re(),M===2||M===3){M=3;var ce="";try{ce=q.responseText}catch{}ne.readyState=3,ne.responseText=ce,ne.onprogress()}},ve=function(ce,$e){if(($e==null||$e.preventDefault==null)&&($e={preventDefault:y}),ue(),M===1||M===2||M===3){if(M=4,W!==0&&(s(W),W=0),ne.readyState=4,ce==="load")ne.onload($e);else if(ce==="error")ne.onerror($e);else if(ce==="abort")ne.onabort($e);else throw new TypeError;ne.onreadystatechange()}},Ee=function(ce){q!=null&&(q.readyState===4?(!("onload"in q)||!("onerror"in q)||!("onabort"in q))&&ve(q.responseText===""?"error":"load",ce):q.readyState===3?"onprogress"in q||ue():q.readyState===2&&re())},Se=function(){W=r(function(){Se()},500),q.readyState===3&&ue()};"onload"in q&&(q.onload=function(ce){ve("load",ce)}),"onerror"in q&&(q.onerror=function(ce){ve("error",ce)}),"onabort"in q&&(q.onabort=function(ce){ve("abort",ce)}),"onprogress"in q&&(q.onprogress=ue),"onreadystatechange"in q&&(q.onreadystatechange=function(ce){Ee(ce)}),("contentType"in q||!("ontimeout"in a.prototype))&&(Y+=(Y.indexOf("?")===-1?"?":"&")+"padding=true"),q.open(A,Y,!0),"readyState"in q&&(W=r(function(){Se()},0))},N.prototype.abort=function(){this._abort(!1)},N.prototype.getResponseHeader=function(A){return this._contentType},N.prototype.setRequestHeader=function(A,Y){var ne=this._xhr;"setRequestHeader"in ne&&ne.setRequestHeader(A,Y)},N.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},N.prototype.send=function(){if((!("ontimeout"in a.prototype)||!("sendAsBinary"in a.prototype)&&!("mozAnon"in a.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var A=this;A._sendTimeout=r(function(){A._sendTimeout=0,A.send()},4);return}var Y=this._xhr;"withCredentials"in Y&&(Y.withCredentials=this.withCredentials);try{Y.send(void 0)}catch(ne){throw ne}};function C(A){return A.replace(/[A-Z]/g,function(Y){return String.fromCharCode(Y.charCodeAt(0)+32)})}function P(A){for(var Y=Object.create(null),ne=A.split(`\r
`),q=0;q<ne.length;q+=1){var M=ne[q],W=M.split(": "),re=W.shift(),ue=W.join(": ");Y[C(re)]=ue}this._map=Y}P.prototype.get=function(A){return this._map[C(A)]},a!=null&&a.HEADERS_RECEIVED==null&&(a.HEADERS_RECEIVED=2);function R(){}R.prototype.open=function(A,Y,ne,q,M,W,re){A.open("GET",M);var ue=0;A.onprogress=function(){var Ee=A.responseText,Se=Ee.slice(ue);ue+=Se.length,ne(Se)},A.onerror=function(Ee){Ee.preventDefault(),q(new Error("NetworkError"))},A.onload=function(){q(null)},A.onabort=function(){q(null)},A.onreadystatechange=function(){if(A.readyState===a.HEADERS_RECEIVED){var Ee=A.status,Se=A.statusText,ce=A.getResponseHeader("Content-Type"),$e=A.getAllResponseHeaders();Y(Ee,Se,ce,new P($e))}},A.withCredentials=W;for(var ve in re)Object.prototype.hasOwnProperty.call(re,ve)&&A.setRequestHeader(ve,re[ve]);return A.send(),A};function E(A){this._headers=A}E.prototype.get=function(A){return this._headers.get(A)};function b(){}b.prototype.open=function(A,Y,ne,q,M,W,re){var ue=null,ve=new x,Ee=ve.signal,Se=new p;return f(M,{headers:re,credentials:W?"include":"same-origin",signal:Ee,cache:"no-store"}).then(function(ce){return ue=ce.body.getReader(),Y(ce.status,ce.statusText,ce.headers.get("Content-Type"),new E(ce.headers)),new h(function($e,Pt){var Mt=function(){ue.read().then(function(qe){if(qe.done)$e(void 0);else{var Ze=Se.decode(qe.value,{stream:!0});ne(Ze),Mt()}}).catch(function(qe){Pt(qe)})};Mt()})}).catch(function(ce){if(ce.name!=="AbortError")return ce}).then(function(ce){q(ce)}),{abort:function(){ue!=null&&ue.cancel(),ve.abort()}}};function j(){this._listeners=Object.create(null)}function D(A){r(function(){throw A},0)}j.prototype.dispatchEvent=function(A){A.target=this;var Y=this._listeners[A.type];if(Y!=null)for(var ne=Y.length,q=0;q<ne;q+=1){var M=Y[q];try{typeof M.handleEvent=="function"?M.handleEvent(A):M.call(this,A)}catch(W){D(W)}}},j.prototype.addEventListener=function(A,Y){A=String(A);var ne=this._listeners,q=ne[A];q==null&&(q=[],ne[A]=q);for(var M=!1,W=0;W<q.length;W+=1)q[W]===Y&&(M=!0);M||q.push(Y)},j.prototype.removeEventListener=function(A,Y){A=String(A);var ne=this._listeners,q=ne[A];if(q!=null){for(var M=[],W=0;W<q.length;W+=1)q[W]!==Y&&M.push(q[W]);M.length===0?delete ne[A]:ne[A]=M}};function k(A){this.type=A,this.target=void 0}function L(A,Y){k.call(this,A),this.data=Y.data,this.lastEventId=Y.lastEventId}L.prototype=Object.create(k.prototype);function O(A,Y){k.call(this,A),this.status=Y.status,this.statusText=Y.statusText,this.headers=Y.headers}O.prototype=Object.create(k.prototype);function K(A,Y){k.call(this,A),this.error=Y.error}K.prototype=Object.create(k.prototype);var F=-1,_=0,T=1,I=2,B=-1,U=0,X=1,ee=2,se=3,xe=/^text\/event\-stream(;.*)?$/i,ke=1e3,J=18e6,ie=function(A,Y){var ne=A==null?Y:parseInt(A,10);return ne!==ne&&(ne=Y),fe(ne)},fe=function(A){return Math.min(Math.max(A,ke),J)},he=function(A,Y,ne){try{typeof Y=="function"&&Y.call(A,ne)}catch(q){D(q)}};function le(A,Y){j.call(this),Y=Y||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Me(this,A,Y)}function pe(){return a!=null&&"withCredentials"in a.prototype||i==null?new a:new i}var Ce=f!=null&&m!=null&&"body"in m.prototype;function Me(A,Y,ne){Y=String(Y);var q=!!ne.withCredentials,M=ne.lastEventIdQueryParameterName||"lastEventId",W=fe(1e3),re=ie(ne.heartbeatTimeout,45e3),ue="",ve=W,Ee=!1,Se=0,ce=ne.headers||{},$e=ne.Transport,Pt=Ce&&$e==null?void 0:new N($e!=null?new $e:pe()),Mt=$e!=null&&typeof $e!="string"?new $e:Pt==null?new b:new R,qe=void 0,Ze=0,ut=F,yt="",V="",me="",Ae="",oe=U,Fe=0,wt=0,Nt=function(ye,je,Ue,Be){if(ut===_)if(ye===200&&Ue!=null&&xe.test(Ue)){ut=T,Ee=Date.now(),ve=W,A.readyState=T;var We=new O("open",{status:ye,statusText:je,headers:Be});A.dispatchEvent(We),he(A,A.onopen,We)}else{var Oe="";ye!==200?(je&&(je=je.replace(/\s+/g," ")),Oe="EventSource's response has a status "+ye+" "+je+" that is not 200. Aborting the connection."):Oe="EventSource's response has a Content-Type specifying an unsupported type: "+(Ue==null?"-":Ue.replace(/\s+/g," "))+". Aborting the connection.",Nr();var We=new O("error",{status:ye,statusText:je,headers:Be});A.dispatchEvent(We),he(A,A.onerror,We),console.error(Oe)}},pt=function(ye){if(ut===T){for(var je=-1,Ue=0;Ue<ye.length;Ue+=1){var Be=ye.charCodeAt(Ue);(Be===10||Be===13)&&(je=Ue)}var We=(je!==-1?Ae:"")+ye.slice(0,je+1);Ae=(je===-1?Ae:"")+ye.slice(je+1),ye!==""&&(Ee=Date.now(),Se+=ye.length);for(var Oe=0;Oe<We.length;Oe+=1){var Be=We.charCodeAt(Oe);if(oe===B&&Be===10)oe=U;else if(oe===B&&(oe=U),Be===13||Be===10){if(oe!==U){oe===X&&(wt=Oe+1);var et=We.slice(Fe,wt-1),dt=We.slice(wt+(wt<Oe&&We.charCodeAt(wt)===32?1:0),Oe);et==="data"?(yt+=`
`,yt+=dt):et==="id"?V=dt:et==="event"?me=dt:et==="retry"?(W=ie(dt,W),ve=W):et==="heartbeatTimeout"&&(re=ie(dt,re),Ze!==0&&(s(Ze),Ze=r(function(){ge()},re)))}if(oe===U){if(yt!==""){ue=V,me===""&&(me="message");var jr=new L(me,{data:yt.slice(1),lastEventId:V});if(A.dispatchEvent(jr),me==="open"?he(A,A.onopen,jr):me==="message"?he(A,A.onmessage,jr):me==="error"&&he(A,A.onerror,jr),ut===I)return}yt="",me=""}oe=Be===13?B:U}else oe===U&&(Fe=Oe,oe=X),oe===X?Be===58&&(wt=Oe+1,oe=ee):oe===ee&&(oe=se)}}},jt=function(ye){if(ut===T||ut===_){ut=F,Ze!==0&&(s(Ze),Ze=0),Ze=r(function(){ge()},ve),ve=fe(Math.min(W*16,ve*2)),A.readyState=_;var je=new K("error",{error:ye});A.dispatchEvent(je),he(A,A.onerror,je),ye!=null&&console.error(ye)}},Nr=function(){ut=I,qe!=null&&(qe.abort(),qe=void 0),Ze!==0&&(s(Ze),Ze=0),A.readyState=I},ge=function(){if(Ze=0,ut!==F){if(!Ee&&qe!=null)jt(new Error("No activity within "+re+" milliseconds. "+(ut===_?"No response received.":Se+" chars received.")+" Reconnecting.")),qe!=null&&(qe.abort(),qe=void 0);else{var ye=Math.max((Ee||Date.now())+re-Date.now(),1);Ee=!1,Ze=r(function(){ge()},ye)}return}Ee=!1,Se=0,Ze=r(function(){ge()},re),ut=_,yt="",me="",V=ue,Ae="",Fe=0,wt=0,oe=U;var je=Y;if(Y.slice(0,5)!=="data:"&&Y.slice(0,5)!=="blob:"&&ue!==""){var Ue=Y.indexOf("?");je=Ue===-1?Y:Y.slice(0,Ue+1)+Y.slice(Ue+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(dt,jr){return jr===M?"":dt}),je+=(Y.indexOf("?")===-1?"?":"&")+M+"="+encodeURIComponent(ue)}var Be=A.withCredentials,We={};We.Accept="text/event-stream";var Oe=A.headers;if(Oe!=null)for(var et in Oe)Object.prototype.hasOwnProperty.call(Oe,et)&&(We[et]=Oe[et]);try{qe=Mt.open(Pt,Nt,pt,jt,je,Be,We)}catch(dt){throw Nr(),dt}};A.url=Y,A.readyState=_,A.withCredentials=q,A.headers=ce,A._close=Nr,ge()}le.prototype=Object.create(j.prototype),le.prototype.CONNECTING=_,le.prototype.OPEN=T,le.prototype.CLOSED=I,le.prototype.close=function(){this._close()},le.CONNECTING=_,le.OPEN=T,le.CLOSED=I,le.prototype.withCredentials=void 0;var Xe=c;a!=null&&(c==null||!("withCredentials"in c.prototype))&&(Xe=le),function(A){{var Y=A(t);Y!==void 0&&(e.exports=Y)}}(function(A){A.EventSourcePolyfill=le,A.NativeEventSource=c,A.EventSource=Xe})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:aS:globalThis)})($d,$d.exports);var Ko=$d.exports;class hE{constructor(t){ft(this,"_userId");ft(this,"apiBaseUrl");ft(this,"maxReconnectAttempts");ft(this,"eventSource",null);ft(this,"reconnectAttempts",0);ft(this,"reconnectTimeout",null);ft(this,"isManualDisconnect",!1);ft(this,"onNotification");ft(this,"onAuthRequired");ft(this,"onConnectionOpen");ft(this,"onConnectionError");ft(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===Ko.EventSourcePolyfill.OPEN){console.log("SSE 연결이 이미 열려 있습니다.");return}const t=this.getValidToken();if(!t){console.warn("유효한 토큰이 없습니다. 로그인이 필요합니다."),this.handleAuthRequired();return}this.startSSEConnection(t)}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;try{console.log("SSE 연결 시도:",n),this.eventSource=new Ko.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE 연결 성공"),this.reconnectAttempts=0,(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.onerror=r=>{var s,a,i,l;console.error("SSE 연결 오류:",{error:r,readyState:(s=this.eventSource)==null?void 0:s.readyState,url:n}),(a=this.onConnectionError)==null||a.call(this,r),((i=this.eventSource)==null?void 0:i.readyState)===Ko.EventSourcePolyfill.CLOSED?(console.log("SSE 연결이 닫혔습니다."),this.eventSource=null,this.handleReconnect()):((l=this.eventSource)==null?void 0:l.readyState)===Ko.EventSourcePolyfill.CONNECTING&&console.log("SSE 연결 중...")},this.eventSource.addEventListener("auth-error",r=>{var s;console.warn("인증 오류:",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("토큰 만료 알림 받음"),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()})}catch(r){console.error("SSE 연결 시도 중 에러:",r),this.handleReconnect()}}handleMessage(t){var n;if(!(t.data==="ping"||t.data==="heartbeat"))try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;console.log("SSE 알림 수신:",r),(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE 메시지 파싱 오류:",r,"Raw data:",t.data)}}async refreshTokenAndConnect(){try{console.log("토큰 갱신 및 재연결 시도 중..."),await this.refreshToken()?(console.log("토큰 갱신 성공, SSE 재연결 중..."),this.connect()):(console.error("토큰 갱신 실패 - 인증 필요"),this.handleAuthRequired())}catch(t){console.error("토큰 갱신 중 예외 발생:",t),this.handleAuthRequired()}}handleReconnect(){if(this.isManualDisconnect){console.log("수동 연결 해제 상태이므로 재연결하지 않습니다.");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`${t}ms 후 재연결 시도 (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("재연결 시도 중...");const n=this.getValidToken();!n||this.isTokenExpired(n)?(console.log("토큰이 유효하지 않습니다. 토큰 갱신 후 재연결합니다."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("최대 재연결 시도 횟수 초과. 인증이 필요합니다."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch{return!0}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("커스텀 토큰 갱신 실패:",t),null}try{console.log("토큰 갱신 시도 중...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const r=(await t.text()).replace(/"/g,"");if(r&&r!=="null")return localStorage.setItem("accessToken",r),console.log("토큰 갱신 성공"),r}else console.error(`토큰 갱신 실패: ${t.status} ${t.statusText}`),t.status===401&&localStorage.removeItem("accessToken");return null}catch(t){return console.error("토큰 갱신 네트워크 오류:",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("강제 재연결 시도 중..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.isTokenExpired(t)?(console.log("강제 재연결: 토큰 갱신 후 연결"),await this.refreshTokenAndConnect()):(console.log("강제 재연결: 기존 토큰으로 연결"),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===Ko.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}getUserId(){return this._userId}}const mE=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0,disabled:h=!1}=e,f=d.useRef(null),[m,p]=d.useState(!1),[w,x]=d.useState(0),S=d.useRef({onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{S.current={onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c}});const g=d.useCallback(()=>{var b,j;p(!0),x(0),(j=(b=S.current).onConnectionOpen)==null||j.call(b)},[]),v=d.useCallback(b=>{var j,D;p(!1),(D=(j=S.current).onConnectionError)==null||D.call(j,b)},[]),y=d.useCallback(b=>{var j,D;(D=(j=S.current).onNotification)==null||D.call(j,b)},[]),N=d.useCallback(()=>{var b,j;p(!1),(j=(b=S.current).onAuthRequired)==null||j.call(b)},[]),C=d.useCallback(()=>{f.current&&t&&!h&&f.current.connect()},[t,h]),P=d.useCallback(()=>{f.current&&(f.current.disconnect(),p(!1),x(0))},[]),R=d.useCallback(()=>{f.current&&f.current.reconnect()},[]),E=d.useCallback(()=>{f.current&&f.current.forceReconnect()},[]);return d.useEffect(()=>{if(t&&!h){const b={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:y,onAuthRequired:N,onConnectionOpen:g,onConnectionError:v,onTokenRefresh:S.current.onTokenRefresh};f.current=new hE(b),u&&setTimeout(()=>{var k;(k=f.current)==null||k.connect()},1e3);const D=setInterval(()=>{f.current&&(p(f.current.isConnected()),x(f.current.getReconnectAttempts()))},2e3);return()=>{var k;clearInterval(D),(k=f.current)==null||k.disconnect(),f.current=null}}else f.current&&(f.current.disconnect(),f.current=null),p(!1),x(0)},[t,h,n,r,u,y,N,g,v]),d.useEffect(()=>{f.current&&t&&f.current.updateUserId(t)},[t]),{isConnected:m,reconnectAttempts:w,connect:C,disconnect:P,reconnect:R,forceReconnect:E}};function pE({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:a,authenticatedFetch:i,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h,refreshAccessToken:f,isSharedAccess:m}){const[p,w]=d.useState([]),[x,S]=d.useState(!1),[g,v]=d.useState(!1),[y,N]=d.useState(null);mE({userId:l,disabled:m,onNotification:_=>{if(_.notificationType==="CONNECTED")return;const T=C(_);w(I=>[T,...I])},onAuthRequired:()=>{if(m){console.log("🌐 공유 링크 접근 모드 - SSE 인증 오류 무시");return}console.warn("SSE 인증 오류 발생 - 토큰 재발급 시도 후 재연결 시도"),f().then(_=>{_?console.log("SSE 토큰 재발급 성공 - 재연결은 자동으로 시도됨"):(console.error("SSE 토큰 재발급 실패로 인한 로그아웃"),a())}).catch(_=>{console.error("SSE 토큰 재발급 중 오류:",_),a()})},onTokenRefresh:async()=>await f()});const C=_=>{const T=U=>{switch(U){case"DM_RECEIVED":case"NEW_DM_ROOM":return"message";case"FOLLOWED":return"follow";case"PLAYLIST_SUBSCRIBED":case"FOLLOWING_POSTED_PLAYLIST":return"like";default:return"notification"}},I=U=>{switch(U){case"DM_RECEIVED":return"새로운 메시지가 도착했습니다";case"NEW_DM_ROOM":return"새로운 채팅방이 생성되었습니다";case"FOLLOWED":return"새로운 팔로워가 생겼습니다";case"PLAYLIST_SUBSCRIBED":return"플레이리스트를 구독했습니다";case"FOLLOWING_POSTED_PLAYLIST":return"팔로우한 사용자가 플레이리스트를 게시했습니다";case"ROLE_CHANGED":return"권한이 변경되었습니다";default:return"새로운 알림"}},B=U=>{const X=new Date(U),se=new Date().getTime()-X.getTime(),xe=Math.floor(se/(1e3*60)),ke=Math.floor(se/(1e3*60*60)),J=Math.floor(se/(1e3*60*60*24));return xe<1?"방금 전":xe<60?`${xe}분 전`:ke<24?`${ke}시간 전`:J===1?"어제":`${J}일 전`};return{id:_.id,type:T(_.notificationType),title:I(_.notificationType),content:_.content,avatar:"",timestamp:B(_.createdAt),isRead:!1}},P=async()=>{if(!l||m){console.log("🌐 공유 링크 접근 모드 또는 사용자 ID 없음 - 유저 정보 조회 스킵");return}try{const _=await fE.getUser(l);N(_)}catch(_){console.error("유저 정보 조회 오류:",_),_ instanceof Error&&(_.message.includes("not found")||_.message.includes("401")||_.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a())}},R=async()=>{if(!l||m){console.log("🌐 공유 링크 접근 모드 또는 사용자 ID 없음 - 알림 조회 스킵");return}try{const _=await i("http://localhost:8080/api/notifications");if(!_.ok){if(_.status===401||_.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a();return}throw new Error(`알림 목록을 가져오는데 실패했습니다. (상태: ${_.status})`)}const T=await _.json(),I=T.content||T;if(!Array.isArray(I)){console.error("알림 데이터가 배열이 아닙니다:",T),w([]);return}const B=I.map(U=>({...C(U),isRead:!0}));w(B)}catch(_){console.error("알림 목록 조회 오류:",_),_ instanceof Error&&(_.message.includes("401")||_.message.includes("403"))&&w([])}};d.useEffect(()=>{l&&(P(),R())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=P),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const E=[{id:"home",label:"홈"},{id:"movies",label:"영화"},{id:"tv",label:"TV/드라마"},{id:"sports",label:"스포츠"},{id:"curation",label:"큐레이션"},{id:"live",label:"라이브"},{id:"playlist",label:"플레이리스트"}],b=p.filter(_=>!_.isRead).length;d.useEffect(()=>{const _=T=>{const I=T.target;!I.closest(".notification-container")&&!I.closest(".profile-container")&&(S(!1),v(!1))};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[]);const j=_=>{switch(_){case"message":return o.jsx(gh,{className:"w-4 h-4"});case"follow":return o.jsx(yh,{className:"w-4 h-4"});case"like":return o.jsx(mr,{className:"w-4 h-4"});case"watch":return o.jsx(Et,{className:"w-4 h-4"});default:return o.jsx($p,{className:"w-4 h-4"})}},D=async _=>{try{await u(_),w(T=>T.filter(I=>I.id!==_))}catch(T){console.error("알림 삭제 실패:",T)}},k=_=>{w(T=>T.map(I=>I.id===_?{...I,isRead:!0}:I))},L=async()=>{try{await R(),w(_=>_.map(T=>({...T,isRead:!0})))}catch(_){console.error("알림 읽음 처리 오류:",_)}},O=_=>{s&&s(),t(_)},K=_=>{_.stopPropagation(),s&&s(),S(!x),v(!1)},F=async()=>{try{if(!(await i("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error("로그아웃에 실패했습니다.");v(!1),a()}catch(_){console.error("로그아웃 오류:",_),v(!1),a()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>O("home"),children:"모플"}),!m&&o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:E.map(_=>o.jsx("li",{children:o.jsx("button",{onClick:()=>O(_.id),className:`transition-colors hover:text-[#4ecdc4] ${e===_.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:_.label})},_.id))}),m&&o.jsx("div",{className:"text-white/60 text-sm",children:"공유된 플레이리스트"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[!m&&o.jsxs("div",{className:"relative notification-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:K,className:"relative p-2 hover:bg-white/10",children:[o.jsx($p,{className:"w-5 h-5"}),b>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:b>9?"9+":b})]}),x&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:"알림"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[b>0&&o.jsx($,{variant:"ghost",size:"sm",onClick:L,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:"모두 읽음"}),o.jsx($,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),w([])}catch(_){console.error("모든 알림 삭제 실패:",_)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(Ml,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${p.length>4?"max-h-96":""}`,children:p.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:"알림이 없습니다"}):o.jsx("div",{className:"p-2",children:p.map(_=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>k(_.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(ot,{className:"h-12 w-12",children:[o.jsx(at,{src:_.avatar}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:_.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:j(_.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${_.isRead?"text-white/60":"font-medium"}`,children:_.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:_.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:_.content})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:async T=>{T.stopPropagation(),await D(_.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Ml,{className:"w-3 h-3"})}),!_.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},_.id))})})]})]}),m?o.jsx($,{variant:"outline",size:"sm",onClick:()=>window.location.href="/",className:"border-[#4ecdc4] text-[#4ecdc4] hover:bg-[#4ecdc4] hover:text-black",children:"로그인"}):o.jsxs("div",{className:"relative profile-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),v(!g),S(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(ot,{className:"h-8 w-8",children:[o.jsx(at,{src:(y==null?void 0:y.profileImage)||""}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:(y==null?void 0:y.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(y==null?void 0:y.name)||"사용자"})]}),g&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{v(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Bp,{className:"w-4 h-4"}),o.jsx("span",{children:"내 프로필 보기"})]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{v(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Bp,{className:"w-4 h-4"}),o.jsx("span",{children:"회원정보 수정"})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs($,{variant:"ghost",size:"sm",onClick:F,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(yC,{className:"w-4 h-4"}),o.jsx("span",{children:"로그아웃"})]})]})]})]})]})})}function gE(){const e=new Date().getFullYear(),t={서비스:[{name:"홈",href:"#home"},{name:"영화",href:"#movies"},{name:"TV/드라마",href:"#tv"},{name:"스포츠",href:"#sports"},{name:"큐레이션",href:"#curation"},{name:"라이브",href:"#live"}],고객지원:[{name:"공지사항",href:"#notices"},{name:"자주 묻는 질문",href:"#faq"},{name:"고객센터",href:"#support"},{name:"버그 신고",href:"#bug-report"}],정책:[{name:"이용약관",href:"#terms"},{name:"개인정보처리방침",href:"#privacy"},{name:"저작권 정책",href:"#copyright"},{name:"커뮤니티 가이드라인",href:"#guidelines"}],회사:[{name:"회사소개",href:"#about"},{name:"채용정보",href:"#careers"},{name:"파트너십",href:"#partnership"},{name:"광고문의",href:"#advertising"}]},n=[{name:"Github",icon:vC,href:"#github"},{name:"Twitter",icon:RC,href:"#twitter"},{name:"Instagram",icon:xC,href:"#instagram"},{name:"Email",icon:wC,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:"모플"}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"친구들과 실시간으로 영화, 드라마, 스포츠를 함께 시청하고 공유하는 소셜 스트리밍 플랫폼입니다."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(a=>o.jsx("li",{children:o.jsx("a",{href:a.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:a.name})},a.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:["© ",e," 모플(MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(mr,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const He=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:Te("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));He.displayName="Input";var vE="Label",ty=d.forwardRef((e,t)=>o.jsx(be.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ty.displayName=vE;var xE=ty;function Dt({className:e,...t}){return o.jsx(xE,{"data-slot":"label",className:Te("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var yE="Separator",Jp="horizontal",wE=["horizontal","vertical"],ny=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Jp,...s}=e,a=bE(r)?r:Jp,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(be.div,{"data-orientation":a,...l,...s,ref:t})});ny.displayName=yE;function bE(e){return wE.includes(e)}var SE=ny;function NE({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(SE,{"data-slot":"separator-root",decorative:n,orientation:t,className:Te("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function ry({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,a]=d.useState(null),i=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){a("이미지 파일만 선택할 수 있습니다.");return}if(u.size>5*1024*1024){a("파일 크기는 5MB 이하여야 합니다.");return}a(null),t(u)}},l=()=>{t(null),a(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"프로필 사진 업로드"}),n&&o.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(_n,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(ot,{className:"h-20 w-20",children:[o.jsx(at,{src:URL.createObjectURL(e)}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx($,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(_n,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(He,{type:"file",accept:"image/*",onChange:i,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(_C,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"다른 이미지를 선택하려면 클릭하세요":"이미지 파일을 선택하세요"}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF (최대 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:["선택된 파일: ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:["크기: ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function jE({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,a]=d.useState(!1),[i,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,p]=d.useState(null),[w,x]=d.useState(!1),[S,g]=d.useState(""),v=P=>{P?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(P)?g(""):g("비밀번호는 8자 이상이며, 숫자, 영문, 특수문자를 포함해야 합니다."):g("비밀번호를 입력해주세요.")},y=()=>{console.log("🟡 카카오 로그인 버튼 클릭됨"),window.location.href="http://localhost:8080/oauth2/authorization/kakao"},N=()=>{window.location.href="http://localhost:8080/oauth2/authorization/google"},C=async P=>{P.preventDefault(),u(null),f(!0);try{if(r){if(!i.name.trim()){u("이름을 입력해주세요.");return}if(i.name.length<3||i.name.length>50){u("이름은 3자 이상 50자 이하로 입력해주세요.");return}if(!i.email.trim()){u("이메일을 입력해주세요.");return}if(!i.password.trim()){u("비밀번호를 입력해주세요.");return}if(!/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(i.password)){u("비밀번호는 8자 이상, 숫자, 영문, 특수문자를 포함해야 합니다.");return}if(i.password!==i.confirmPassword){u("비밀번호가 일치하지 않습니다.");return}const E=new FormData;E.append("email",i.email),E.append("name",i.name),E.append("password",i.password),m&&E.append("profile",m);const b=await fetch("http://localhost:8080/api/users",{method:"POST",credentials:"include",body:E});if(!b.ok){let j="회원가입에 실패했습니다.";const D=b.headers.get("content-type");if(D&&D.includes("application/json"))try{const k=await b.text();k&&(j=JSON.parse(k).message||j)}catch(k){console.error("Error parsing error response:",k)}throw new Error(j)}alert("회원가입이 완료되었습니다. 로그인해주세요."),t()}else{const R={email:i.email,password:i.password},E=await fetch("http://localhost:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(R)});if(!E.ok){let j="로그인에 실패했습니다.";const D=E.headers.get("content-type");if(D&&D.includes("application/json"))try{const k=await E.text();k&&(j=JSON.parse(k).message||j)}catch(k){console.error("Error parsing error response:",k)}throw new Error(j)}const b=await E.text();if(!b||b.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const j=JSON.parse(b);e(j.accessToken,j.isTempPassword)}catch(j){throw console.error("Error parsing success response:",j),new Error("서버 응답을 처리할 수 없습니다.")}}}catch(R){u(R instanceof Error?R.message:"처리 중 오류가 발생했습니다.")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"모플"}),o.jsx("p",{className:"text-white/60",children:"친구들과 실시간으로 영화, 드라마, 스포츠를 함께 시청하고 공유하세요"})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"회원가입":"로그인"}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"name",className:"text-base",children:"이름"}),o.jsx(He,{id:"name",type:"text",value:i.name,onChange:P=>l({...i,name:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"이름을 입력하세요 (3-50자)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"email",className:"text-base",children:"이메일"}),o.jsx(He,{id:"email",type:"email",value:i.email,onChange:P=>l({...i,email:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"이메일을 입력하세요",required:!0})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"password",className:"text-base",children:"비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(He,{id:"password",type:s?"text":"password",value:i.password,onChange:P=>{const R=P.target.value;l({...i,password:R}),r&&v(R)},className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"비밀번호를 입력하세요",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(gC,{className:"w-5 h-5"}):o.jsx(Id,{className:"w-5 h-5"})})]}),r&&S&&o.jsx("p",{className:"text-red-500 text-sm mt-2",children:S})]}),r&&o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"confirmPassword",className:"text-base",children:"비밀번호 확인"}),o.jsx(He,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:P=>l({...i,confirmPassword:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"비밀번호를 다시 입력하세요",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(Dt,{className:"text-base",children:"프로필 사진"}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(ot,{className:"h-16 w-16",children:[o.jsx(at,{src:m?URL.createObjectURL(m):void 0}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:i.name.charAt(0)||"U"})]}),o.jsxs($,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(_0,{className:"w-4 h-4"}),o.jsx("span",{children:"사진 선택"})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(ry,{selectedImage:m,onImageSelect:p,onClose:()=>x(!1),userName:i.name})})]}),o.jsx($,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?"처리 중...":r?"회원가입":"로그인"})]}),o.jsx(NE,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:y,disabled:h,children:["카카오로 ",r?"가입하기":"로그인"]}),o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:N,disabled:h,children:["Google로 ",r?"가입하기":"로그인"]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"이미 계정이 있나요?":"계정이 없나요?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:r?"로그인":"회원가입"})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:["비밀번호를 잊어버리셨나요?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:"임시비밀번호 발급"})]})]})]})]})}class CE{constructor(){ft(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return a}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const i=t.type.toUpperCase();n.append("contentType",i)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`콘텐츠 목록 조회에 실패했습니다. Status: ${s.status}`);return await s.json()}catch(n){throw console.error("콘텐츠 목록 조회 오류:",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`콘텐츠 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("콘텐츠 조회 오류:",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"영화";case"tv":return"TV/드라마";case"sports":return"스포츠";default:return"콘텐츠"}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const hs=new CE;class kE{constructor(){ft(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return a}async getWatchRooms(t){var n;try{const r=new URLSearchParams;t!=null&&t.query&&r.append("searchKeyword",t.query),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.limit&&r.append("size",t.limit.toString()),t!=null&&t.offset&&r.append("cursor",((n=t.offset)==null?void 0:n.toString())||"");const s=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,a=await this.authenticatedFetch(s);if(!a.ok)throw new Error(`시청방 목록 조회에 실패했습니다. Status: ${a.status}`);const i=await a.json(),l=i.data||i;return Array.isArray(l)?t!=null&&t.sortBy?this.sortWatchRooms(l,t.sortBy):l:(console.error("시청방 데이터가 배열이 아닙니다:",i),[])}catch(r){throw console.error("시청방 목록 조회 오류:",r),r}}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`시청방 생성에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("시청방 생성 오류:",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`시청방 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("시청방 조회 오류:",n),n}}async joinWatchRoom(t){var n,r;try{const s=await this.getWatchRoom(t);return{id:s.id,title:s.title,newUserId:"",playTime:0,isPlaying:!1,content:{id:((n=s.contentDto)==null?void 0:n.id)||s.contentId||"",title:((r=s.contentDto)==null?void 0:r.title)||s.contentTitle||"",titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:0}}}catch(s){throw console.error("시청방 입장 오류:",s),s}}async searchWatchRooms(t,n="participantCount"){return this.getWatchRooms({query:t,sortBy:n})}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>{var a;return s.title.toLowerCase().includes(r)||(((a=s.contentDto)==null?void 0:a.title)||s.contentTitle||"").toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r)})}}const Ya=new kE;class EE{constructor(){ft(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return a}async getPlaylistById(t){const n=`${this.baseUrl}/${t}`,r={"Content-Type":"application/json"},s=localStorage.getItem("accessToken");s&&(r.Authorization=`Bearer ${s}`);const a=await fetch(n,{headers:r});if(!a.ok)throw new Error(`플레이리스트 조회 실패 (status: ${a.status})`);return await a.json()}async getAllPublic(){const t=await fetch(this.baseUrl);if(!t.ok)throw new Error(`공개 플레이리스트 목록 조회에 실패했습니다. Status: ${t.status}`);return await t.json()}async getAllSubscribed(){const t=await this.authenticatedFetch(`${this.baseUrl}/subscribed`);if(!t.ok)throw new Error(`구독한 플레이리스트 목록 조회에 실패했습니다. Status: ${t.status}`);return await t.json()}async subscribe(t,n){const s=await this.authenticatedFetch("http://localhost:8080/api/subscriptions",{method:"POST",body:JSON.stringify({userId:t,playlistId:n})});if(!s.ok)throw new Error(`플레이리스트 구독에 실패했습니다. Status: ${s.status}`);return await s.json()}async unsubscribe(t){const n=`http://localhost:8080/api/subscriptions/${t}`,r=await this.authenticatedFetch(n,{method:"DELETE"});if(!r.ok)throw new Error(`플레이리스트 구독 취소에 실패했습니다. Status: ${r.status}`)}async getUserPlaylists(t){const n=await this.authenticatedFetch(`${this.baseUrl.replace("/playlists","")}/users/${t}/playlists`);if(!n.ok)throw new Error(`사용자 플레이리스트 목록 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}async getPlaylistByUser(){const t=await this.authenticatedFetch(`${this.baseUrl}/user`);if(!t.ok)throw new Error(`사용자 플레이리스트 목록 조회에 실패했습니다. Status: ${t.status}`);return await t.json()}}const zd=new EE;function Pi({onPageChange:e,onPlaylistOpen:t,onContentPlay:n,onJoinRoom:r}){const[s,a]=d.useState([]),[i,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,p]=d.useState(null),w=d.useRef(null),x=d.useRef(null),S=d.useRef(null),g=async()=>{try{const b=await Ya.getWatchRooms({limit:9});Array.isArray(b)?a(b):(console.error("Live rooms data is not an array:",b),a([]))}catch(b){console.error("Failed to fetch live rooms:",b),a([])}},v=async()=>{try{const b=await hs.getContents({size:20});l(b.data)}catch(b){console.error("Failed to fetch featured content:",b)}},y=async()=>{try{const b=await zd.getAllSubscribed();u(b.slice(0,4))}catch(b){console.error("Failed to fetch my playlists:",b),u([])}};d.useEffect(()=>{(async()=>{f(!0),await Promise.all([g(),v(),y()]),f(!1)})()},[]);const N=async b=>{if(console.log("Dashboard - handleJoinRoom 호출:",b.id,b.title),m){console.log("Dashboard - 이미 참여 중인 방 있음:",m);return}p(b.id);try{console.log("Dashboard - onJoinRoom 콜백 호출 전"),r?(await r(b),console.log("Dashboard - onJoinRoom 콜백 호출 성공")):console.error("Dashboard - onJoinRoom 콜백이 없음")}catch(j){console.error("Dashboard - 방 참여 오류:",j)}finally{p(null)}},C=()=>{e&&e("playlist")},P=b=>{t&&t(b)},R=b=>{b.current&&b.current.scrollBy({left:-288,behavior:"smooth"})},E=b=>{b.current&&b.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:"친구들과 함께"}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:"실시간으로 즐기세요"})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:"영화, TV/드라마, 스포츠를 친구들과 실시간으로 시청하며 채팅으로 소통하세요"}),o.jsxs($,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"실시간 시청방 만들기"]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(xh,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"실시간 같이 보기"})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:["모두 보기",o.jsx(_r,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(w),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>E(w),children:o.jsx(_r,{className:"w-6 h-6"})}),o.jsx("div",{ref:w,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(3).fill(0).map((b,j)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},j)):(Array.isArray(s)?s:[]).slice(0,9).map(b=>{var j,D,k;return o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(j=b.contentDto)!=null&&j.thumbnailUrl?o.jsx("img",{src:b.contentDto.thumbnailUrl,alt:b.contentDto.title,className:"w-full h-full object-cover",onError:L=>{var O;L.currentTarget.style.display="none",(O=L.currentTarget.nextElementSibling)==null||O.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(D=b.contentDto)!=null&&D.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:"시청방"})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:"🔴 LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:["👥 ",b.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs($,{size:"sm",onClick:L=>{L.stopPropagation(),N(b)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!m,children:[m===b.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),"참여하기"]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(k=b.contentDto)==null?void 0:k.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[b.ownerName,"의 방"]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kr,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:"실시간"})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[b.headCount,"명 시청중"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:["호스트: ",b.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},b.id)})})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(qr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"추천 콘텐츠"})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:["모두 보기",o.jsx(_r,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(x),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>E(x),children:o.jsx(_r,{className:"w-6 h-6"})}),o.jsx("div",{ref:x,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(6).fill(0).map((b,j)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},j)):i.slice(0,20).map(b=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:b.id,title:b.title,thumbnail:b.thumbnailUrl||b.url||"",type:b.contentType==="MOVIE"?"movie":b.contentType==="TV"?"tv":"sports",description:b.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[b.thumbnailUrl?o.jsx("img",{src:b.thumbnailUrl,alt:b.title,className:"w-full h-full object-cover",onError:j=>{var D;j.currentTarget.style.display="none",(D=j.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${b.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:b.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:j=>{j.stopPropagation(),n&&n({id:b.id,title:b.title,thumbnail:b.thumbnailUrl||b.url||"",type:b.contentType==="MOVIE"?"movie":b.contentType==="TV"?"tv":"sports",description:b.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),"재생"]}),o.jsx($,{size:"sm",variant:"outline",onClick:j=>{j.stopPropagation(),console.log("Add to playlist:",b.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:b.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:b.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:b.releaseDate?new Date(b.releaseDate).getFullYear():"2024"})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${b.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":b.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:b.contentType==="MOVIE"?"영화":b.contentType==="TV"?"TV/드라마":"스포츠"})})]})]},b.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Kr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"구독한 플레이리스트"})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:C,children:["관리하기",o.jsx(_r,{className:"w-4 h-4 ml-1"})]})]}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(S),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>E(S),children:o.jsx(_r,{className:"w-6 h-6"})}),o.jsx("div",{ref:S,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(4).fill(0).map((b,j)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},j)):c.map((b,j)=>{const D=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],k=D[j%D.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>P(b.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${k} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(Ll,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:b.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:L=>{L.stopPropagation(),P(b.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Et,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:b.isPublic?"공개":"비공개"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:b.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:"설명이 없습니다."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[b.playlistContents.length,"개 콘텐츠"]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Kr,{className:"w-3 h-3"}),o.jsx("span",{children:"0분"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(mh,{className:"w-3 h-3"}),o.jsx("span",{children:b.createdAt?new Date(b.createdAt).toLocaleDateString("ko-KR"):"날짜 없음"})]})]})]})]},b.id)})})]})]})]})}const TE=U0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function hn({className:e,variant:t,asChild:n=!1,...r}){const s=n?M0:"span";return o.jsx(s,{"data-slot":"badge",className:Te(TE({variant:t}),e),...r})}class PE{constructor(){ft(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return a}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`키워드 생성에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("키워드 생성 오류:",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`키워드 삭제에 실패했습니다. Status: ${n.status}`)}catch(n){throw console.error("키워드 삭제 오류:",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`키워드 콘텐츠 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("키워드 콘텐츠 조회 오류:",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!n.ok)throw new Error(`사용자 키워드 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("사용자 키워드 조회 오류:",n),n}}}const Ri=new PE,RE=e=>({id:e.id,title:e.title,thumbnail:e.thumbnailUrl||`https://via.placeholder.com/300x400/1a1a1a/ffffff?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2시간 30분",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["액션","드라마"],displayGenres:["액션","드라마"],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function _E({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{S()},[]),d.useEffect(()=>{if(c.length>0&&!s){const b=c[0];a(b.id),g(b.id)}},[c,s]);const S=async()=>{try{if(!r){console.error("사용자 ID가 없습니다.");return}const j=(await Ri.getUserKeywords(r)).map(D=>({id:D.keywordId,label:D.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(j)}catch(b){console.error("사용자 키워드 로딩 실패:",b),u([])}},g=async b=>{try{x(!0);const D=(await Ri.getKeywordContents(b)).map(RE),k=c.find(_=>_.id===b),L=D.filter(_=>_.type==="movie"),O=D.filter(_=>_.type==="tv"),K=D.filter(_=>_.type==="sports"),F=[];L.length>0&&F.push({id:`${b}-movie`,title:`${(k==null?void 0:k.label)||"키워드"} 영화`,items:L,category:"영화"}),O.length>0&&F.push({id:`${b}-tv`,title:`${(k==null?void 0:k.label)||"키워드"} TV 프로그램`,items:O,category:"TV"}),K.length>0&&F.push({id:`${b}-sports`,title:`${(k==null?void 0:k.label)||"키워드"} 스포츠`,items:K,category:"스포츠"}),l(F)}catch(j){console.error("콘텐츠 로딩 실패:",j),l([])}finally{x(!1)}},v=b=>{a(b),g(b)},y=async()=>{if(m.trim()){if(c.length>=10){alert("키워드는 최대 10개까지만 추가할 수 있습니다.");return}try{const b=await Ri.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),j={id:b.keywordId,label:b.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(D=>[...D,j]),p(""),f(!1),alert("키워드가 추가되었습니다!")}catch(b){console.error("키워드 추가 실패:",b),alert("키워드 추가에 실패했습니다.")}}},N=async b=>{if(window.confirm("이 키워드를 삭제하시겠습니까?"))try{if(await Ri.deleteKeyword(b),u(j=>j.filter(D=>D.id!==b)),s===b){const j=c.filter(D=>D.id!==b);j.length>0?(a(j[0].id),g(j[0].id)):(a(""),l([]))}alert("키워드가 삭제되었습니다.")}catch(j){console.error("키워드 삭제 실패:",j),alert("키워드 삭제에 실패했습니다.")}},C=b=>{const j=document.getElementById(b);j&&j.scrollBy({left:-400,behavior:"smooth"})},P=b=>{const j=document.getElementById(b);j&&j.scrollBy({left:400,behavior:"smooth"})},R=b=>b>=1e4?`${Math.floor(b/1e3)}K`:b.toLocaleString(),E=b=>{n==null||n(b),console.log(`Opening playlist modal for: ${b.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Up,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"취향 맞춤 큐레이션"})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"시청자 수가 많은 인기 콘텐츠를 키워드별로 만나보세요"}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(b=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx($,{variant:s===b.id?"default":"outline",size:"sm",onClick:()=>v(b.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===b.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===b.id?b.color:void 0,backgroundColor:s===b.id?b.color:void 0},children:b.label}),o.jsx($,{size:"sm",variant:"ghost",onClick:j=>{j.stopPropagation(),N(b.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(_n,{className:"w-3 h-3"})})]},b.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(He,{value:m,onChange:b=>p(b.target.value),placeholder:"키워드 입력",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:b=>b.key==="Enter"&&y(),autoFocus:!0}),o.jsx($,{size:"sm",onClick:y,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(ro,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>{f(!1),p("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(_n,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"키워드 추가"]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10 키워드 • 키워드별로 시청자 수가 많은 인기 콘텐츠를 확인하세요"]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"콘텐츠를 불러오는 중..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:i.map(b=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[b.title,o.jsxs(hn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(Ft,{className:"w-3 h-3 mr-1"}),"인기순"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx($,{size:"sm",variant:"outline",onClick:()=>C(`section-${b.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(da,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>P(`section-${b.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(_r,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${b.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:b.items.map((j,D)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[b.id==="trending"&&D<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(hn,{className:`
                              ${D===0?"bg-yellow-500 text-black":""}
                              ${D===1?"bg-gray-300 text-black":""}
                              ${D===2?"bg-amber-600 text-white":""}
                            `,children:["#",D+1]})}),o.jsx("img",{src:j.thumbnail,alt:j.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:k=>{const L=k.target;L.style.display="none";const O=L.parentElement;if(O&&!O.querySelector(".image-fallback")){const K=document.createElement("div");K.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",K.textContent=j.title.charAt(0).toUpperCase(),O.appendChild(K)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs($,{size:"sm",onClick:()=>e(j),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),"재생"]}),t&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>t(j),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Id,{className:"w-4 h-4 mr-1"}),"상세"]}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>E(j),className:"border-white/20 hover:bg-white/10",title:"플레이리스트에 추가",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(xh,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:R(j.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:j.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:j.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:`w-4 h-4 ${j.rating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:j.rating.toFixed(2)})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(gh,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:j.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.displayGenres.slice(0,2).map(k=>o.jsx(hn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:k},k))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:j.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs($,{size:"sm",onClick:()=>e(j),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-2"}),"재생"]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx($,{size:"sm",variant:"outline",onClick:()=>t(j),className:"border-white/20 hover:bg-white/10",children:o.jsx(Id,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>E(j),className:"border-white/20 hover:bg-white/10",title:"플레이리스트에 추가",children:o.jsx(Yt,{className:"w-4 h-4"})})]})]})]})]},j.id))})]},b.id))}),!w&&i.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Up,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"등록된 키워드가 없습니다."}),o.jsx("p",{className:"text-white/40 text-sm",children:"새로운 키워드를 추가해보세요!"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"선택한 키워드에 해당하는 콘텐츠가 없습니다."})]})]})})}function $l(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:a,style:i,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:i,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(ph,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:"이미지 없음"})]})})}):o.jsx("img",{src:s,alt:a,className:l,style:i,...c,onError:r})}function AE({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},i={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx($l,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${i[n]} font-medium text-white/80`,children:["+",s]})})]})})}function Fd({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Te("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Yo=[null];function IE({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[a,i]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,m]=d.useState(!1),[p,w]=d.useState(!1),x=async y=>{y.preventDefault(),r.trim()&&(w(!0),console.log("Creating playlist:",{title:r.trim(),description:a.trim(),isPublic:l,coverImage:Yo[u]}),await new Promise(N=>setTimeout(N,1e3)),n({title:r.trim(),description:a.trim(),isPublic:l,coverImage:Yo[u]}),s(""),i(""),c(!0),h(0),m(!1),w(!1),t())},S=()=>{p||(s(""),i(""),c(!0),h(0),m(!1),t())},g=()=>{const y=Yo[u];return y===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(Ll,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:"테마 색상"})]})}):o.jsx("img",{src:y,alt:"플레이리스트 커버",className:"w-full h-full object-cover"})},v=(y,N)=>y===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(Ll,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:y,alt:`커버 옵션 ${N+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:S}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"새 플레이리스트 만들기"}),o.jsx($,{variant:"ghost",size:"sm",onClick:S,className:"p-2 hover:bg-white/10",disabled:p,children:o.jsx(_n,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Dt,{className:"text-sm mb-3 block",children:"커버 이미지"}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[g(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs($,{type:"button",variant:"ghost",onClick:()=>m(!f),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(ph,{className:"w-4 h-4 mr-2"}),Yo[u]===null?"이미지 선택":"이미지 변경"]})})]}),f&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:Yo.map((y,N)=>o.jsxs("button",{type:"button",onClick:()=>{h(N),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===N?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[v(y,N),u===N&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(ro,{className:"w-3 h-3 text-[#4ecdc4]"})})]},N))})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"title",className:"text-sm",children:"플레이리스트 제목 *"}),o.jsx(He,{id:"title",value:r,onChange:y=>s(y.target.value),placeholder:"예: 최고의 액션 영화",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50자"]})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"description",className:"text-sm",children:"설명"}),o.jsx(Fd,{id:"description",value:a,onChange:y=>i(y.target.value),placeholder:"플레이리스트에 대한 설명을 입력해주세요...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[a.length,"/200자"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Dt,{className:"text-sm",children:"공개 설정"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(Dl,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"공개"}),o.jsx("p",{className:"text-xs text-white/60",children:"모든 사용자가 볼 수 있습니다"})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(ro,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(Ol,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"비공개"}),o.jsx("p",{className:"text-xs text-white/60",children:"나만 볼 수 있습니다"})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(ro,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx($,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:S,disabled:p,children:"취소"}),o.jsx($,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||p,children:p?"생성 중...":"플레이리스트 만들기"})]})]})]})]}):null}function Zp({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:a,onUserProfileOpen:i}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,m]=d.useState(!1),[p,w]=d.useState(!0),[x,S]=d.useState(null),[g,v]=d.useState("all"),y=O=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(O);d.useEffect(()=>{N()},[]),d.useEffect(()=>{const O=setTimeout(()=>{N(l.trim()||void 0,g)},300);return()=>clearTimeout(O)},[l,g]);const N=async(O,K="all")=>{try{w(!0),S(null),console.log("🔄 플레이리스트 로딩 시작:",{searchKeyword:O,currentViewType:K});const F=await t(O,K);console.log("📋 플레이리스트 데이터 받음:",F),h(F)}catch(F){console.error("Error loading playlists:",F),S("플레이리스트를 불러올 수 없습니다.")}finally{w(!1)}},C=u,P=O=>{console.log(`Starting playlist with ID: ${O}`)},R=()=>{m(!0)},E=O=>{e&&e(O)},b=async O=>{try{await n({name:O.title,description:O.description,isPublic:O.isPublic}),console.log("🔄 플레이리스트 생성 후 목록 새로고침"),await N(l.trim()||void 0,g)}catch(K){console.error("Error creating playlist:",K),S("플레이리스트를 생성할 수 없습니다.")}},j=O=>!O.subscriptions||!a?!1:O.subscriptions.some(K=>K.userId===a),D=O=>!O.subscriptions||!a?null:O.subscriptions.find(K=>K.userId===a),k=async O=>{if(console.log("🎯 구독 토글 버튼 클릭됨:",{playlistId:O,currentUserId:a}),!r||!s||!a){console.error("구독 함수 또는 사용자 ID가 없습니다:",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:a});return}const K=u.find(_=>_.id===O);if(!K){console.error("플레이리스트를 찾을 수 없습니다:",O);return}const F=j(K);console.log("현재 구독 상태:",{isSubscribed:F,subscriptions:K.subscriptions});try{if(F){const _=D(K);if(!_){console.error("구독 정보를 찾을 수 없습니다");return}if(console.log("구독 취소 실행 - subscription 전체 정보:",_),!_.subscriptionId){console.error("subscription.subscriptionId가 undefined입니다:",_);return}console.log("구독 취소 실행:",_.subscriptionId),await s(_.subscriptionId)}else console.log("구독 실행:",O),await r(O);await N(l.trim()||void 0,g)}catch(_){console.error("구독 상태 변경 실패:",_)}},L=O=>O.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(Ll,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:O.name.charAt(0)})]})}):o.jsx($l,{src:O.thumbnail,alt:O.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"플레이리스트"}),o.jsx("p",{className:"text-white/60",children:"다양한 플레이리스트를 탐색하고 관리하세요"})]}),o.jsxs($,{onClick:R,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"새 플레이리스트"]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(He,{placeholder:"플레이리스트 검색...",value:l,onChange:O=>c(O.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx($,{variant:g==="all"?"default":"outline",onClick:()=>v("all"),className:g==="all"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:"전체 플레이리스트"}),a&&o.jsxs($,{variant:g==="subscribed"?"default":"outline",onClick:()=>v("subscribed"),className:g==="subscribed"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"}),"구독한 플레이리스트"]})]})]}),(console.log("🎯 Playlist 렌더링 상태:",{loading:p,error:x,playlistsLength:u.length,filteredLength:C.length}),p?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"플레이리스트를 불러오는 중..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx($,{onClick:()=>N(l.trim()||void 0,g),variant:"outline",className:"border-white/20 hover:bg-white/5",children:"다시 시도"})]}):C.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"검색 결과가 없습니다":g==="subscribed"?"구독 중인 플레이리스트가 없습니다":"플레이리스트가 없습니다"}),!l&&g==="all"&&o.jsx($,{onClick:R,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"첫 플레이리스트 만들기"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map(O=>{var K,F;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>E(O.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[L(O),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:_=>{_.stopPropagation(),P(O.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Et,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:O.isPublic?"공개":"비공개"})}),O.userId&&O.userId!==a&&y(O.userId)&&r&&s&&o.jsx($,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${j(O)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:_=>{_.stopPropagation(),k(O.id)},children:o.jsx(mr,{className:`w-4 h-4 ${j(O)?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:_=>_.stopPropagation(),children:o.jsx(I0,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:O.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:O.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(AE,{items:O.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[O.contentCount||((K=O.playlistContents)==null?void 0:K.length)||0,"개 콘텐츠"]})]}),O.userId&&O.userId!==a&&y(O.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${a?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:_=>{_.stopPropagation(),a?i==null||i(O.userId):alert("로그인이 필요한 기능입니다. 로그인 후 이용해주세요.")},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:O.username?O.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:O.username||"플레이리스트 작성자"})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Kr,{className:"w-3 h-3"}),o.jsx("span",{children:O.totalDuration||"0분"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(mh,{className:"w-3 h-3"}),o.jsx("span",{children:O.createdAt?new Date(O.createdAt).toLocaleDateString("ko-KR"):"날짜 없음"})]})]}),o.jsxs("div",{className:"mt-2 flex justify-between items-center text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:"👥"}),o.jsxs("span",{children:[((F=O.subscriptions)==null?void 0:F.length)??0,"명 구독"]})]}),o.jsxs("button",{onClick:_=>{_.stopPropagation();const T=`${window.location.origin}/playlist?id=${O.id}`;navigator.clipboard.writeText(T).then(()=>alert("공유 링크가 복사되었습니다!")).catch(()=>alert("링크 복사에 실패했습니다."))},className:"flex items-center gap-1 px-3 py-1 rounded-full bg-white/10 hover:bg-[#4ecdc4]/80 hover:text-black text-white text-xs font-semibold transition",title:"공유하기",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12v.01M12 4v.01M12 20v.01M20 12v.01M7.75 7.75l.01.01M16.25 7.75l.01.01M7.75 16.25l.01.01M16.25 16.25l.01.01"})}),"공유하기"]})]})]})]},O.id)})}))]}),o.jsx(IE,{isOpen:f,onClose:()=>m(!1),onCreatePlaylist:b})]})}function we(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var DE=uv[" useId ".trim().toString()]||(()=>{}),OE=0;function Yr(e){const[t,n]=d.useState(DE());return mt(()=>{n(r=>r??String(OE++))},[e]),e||(t?`radix-${t}`:"")}var LE=uv[" useInsertionEffect ".trim().toString()]||mt;function bs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=ME({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const m=$E(h)?h(e):h;m!==e&&((f=i.current)==null||f.call(i,m))}else a(h)},[l,e,a,i]);return[c,u]}function ME({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),a=d.useRef(t);return LE(()=>{a.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function $E(e){return typeof e=="function"}function zE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FE="DismissableLayer",Ud="dismissableLayer.update",UE="dismissableLayer.pointerDownOutside",BE="dismissableLayer.focusOutside",eg,sy=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nh=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(sy),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),w=Pe(t,R=>f(R)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(S),v=h?x.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,N=v>=g,C=HE(R=>{const E=R.target,b=[...u.branches].some(j=>j.contains(E));!N||b||(s==null||s(R),i==null||i(R),R.defaultPrevented||l==null||l())},m),P=KE(R=>{const E=R.target;[...u.branches].some(j=>j.contains(E))||(a==null||a(R),i==null||i(R),R.defaultPrevented||l==null||l())},m);return zE(R=>{v===u.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),tg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=eg)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),tg())},[h,u]),d.useEffect(()=>{const R=()=>p({});return document.addEventListener(Ud,R),()=>document.removeEventListener(Ud,R)},[]),o.jsx(be.div,{...c,ref:w,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,P.onFocusCapture),onBlurCapture:we(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,C.onPointerDownCapture)})});Nh.displayName=FE;var WE="DismissableLayerBranch",VE=d.forwardRef((e,t)=>{const n=d.useContext(sy),r=d.useRef(null),s=Pe(t,r);return d.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(be.div,{...e,ref:s})});VE.displayName=WE;function HE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){oy(UE,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function KE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=d.useRef(!1);return d.useEffect(()=>{const s=a=>{a.target&&!r.current&&oy(BE,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tg(){const e=new CustomEvent(Ud);document.dispatchEvent(e)}function oy(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Kk(s,a):s.dispatchEvent(a)}var mu="focusScope.autoFocusOnMount",pu="focusScope.autoFocusOnUnmount",ng={bubbles:!1,cancelable:!0},YE="FocusScope",jh=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=d.useState(null),u=It(s),h=It(a),f=d.useRef(null),m=Pe(t,x=>c(x)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(y){if(p.paused||!l)return;const N=y.target;l.contains(N)?f.current=N:Er(f.current,{select:!0})},S=function(y){if(p.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||Er(f.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const C of y)C.removedNodes.length>0&&Er(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),v.disconnect()}}},[r,l,p.paused]),d.useEffect(()=>{if(l){sg.add(p);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(mu,ng);l.addEventListener(mu,u),l.dispatchEvent(g),g.defaultPrevented||(GE(ZE(ay(l)),{select:!0}),document.activeElement===x&&Er(l))}return()=>{l.removeEventListener(mu,u),setTimeout(()=>{const g=new CustomEvent(pu,ng);l.addEventListener(pu,h),l.dispatchEvent(g),g.defaultPrevented||Er(x??document.body,{select:!0}),l.removeEventListener(pu,h),sg.remove(p)},0)}}},[l,u,h,p]);const w=d.useCallback(x=>{if(!n&&!r||p.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(S&&g){const v=x.currentTarget,[y,N]=XE(v);y&&N?!x.shiftKey&&g===N?(x.preventDefault(),n&&Er(y,{select:!0})):x.shiftKey&&g===y&&(x.preventDefault(),n&&Er(N,{select:!0})):g===v&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(be.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});jh.displayName=YE;function GE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Er(r,{select:t}),document.activeElement!==n)return}function XE(e){const t=ay(e),n=rg(t,e),r=rg(t.reverse(),e);return[n,r]}function ay(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rg(e,t){for(const n of e)if(!qE(n,{upTo:t}))return n}function qE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QE(e){return e instanceof HTMLInputElement&&"select"in e}function Er(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&QE(e)&&t&&e.select()}}var sg=JE();function JE(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=og(e,t),e.unshift(t)},remove(t){var n;e=og(e,t),(n=e[0])==null||n.resume()}}}function og(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZE(e){return e.filter(t=>t.tagName!=="A")}var e4="Portal",Ch=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=d.useState(!1);mt(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?h0.createPortal(o.jsx(be.div,{...r,ref:t}),i):null});Ch.displayName=e4;function t4(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var wr=e=>{const{present:t,children:n}=e,r=n4(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),a=Pe(r.ref,r4(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:a}):null};wr.displayName="Presence";function n4(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=t4(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=_i(r.current);a.current=l==="mounted"?u:"none"},[l]),mt(()=>{const u=r.current,h=s.current;if(h!==e){const m=a.current,p=_i(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),mt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=p=>{const x=_i(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},m=p=>{p.target===t&&(a.current=_i(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _i(e){return(e==null?void 0:e.animationName)||"none"}function r4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gu=0;function iy(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ag()),document.body.insertAdjacentElement("beforeend",e[1]??ag()),gu++,()=>{gu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gu--}},[])}function ag(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Un=function(){return Un=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Un.apply(this,arguments)};function ly(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function s4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ol="right-scroll-bar-position",al="width-before-scroll-bar",o4="with-scroll-bars-hidden",a4="--removed-body-scroll-bar-size";function vu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function i4(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var l4=typeof window<"u"?d.useLayoutEffect:d.useEffect,ig=new WeakMap;function c4(e,t){var n=i4(null,function(r){return e.forEach(function(s){return vu(s,r)})});return l4(function(){var r=ig.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||vu(l,null)}),a.forEach(function(l){s.has(l)||vu(l,i)})}ig.set(n,e)},[e]),n}function u4(e){return e}function d4(e,t){t===void 0&&(t=u4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function f4(e){e===void 0&&(e={});var t=d4(null);return t.options=Un({async:!0,ssr:!1},e),t}var cy=function(e){var t=e.sideCar,n=ly(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Un({},n))};cy.isSideCarExport=!0;function h4(e,t){return e.useMedium(t),cy}var uy=f4(),xu=function(){},mc=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:xu,onWheelCapture:xu,onTouchMoveCapture:xu}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,x=e.inert,S=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,y=e.gapMode,N=ly(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,P=c4([n,t]),R=Un(Un({},N),s);return d.createElement(d.Fragment,null,h&&d.createElement(C,{sideCar:uy,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:y}),i?d.cloneElement(d.Children.only(l),Un(Un({},R),{ref:P})):d.createElement(v,Un({},R,{className:c,ref:P}),l))});mc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mc.classNames={fullWidth:al,zeroRight:ol};var m4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=m4();return t&&e.setAttribute("nonce",t),e}function g4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function v4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var x4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=p4())&&(g4(t,n),v4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},y4=function(){var e=x4();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},dy=function(){var e=y4(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},w4={left:0,top:0,right:0,gap:0},yu=function(e){return parseInt(e||"",10)||0},b4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[yu(n),yu(r),yu(s)]},S4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return w4;var t=b4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},N4=dy(),so="data-scroll-locked",j4=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(o4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(so,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ol,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(al,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ol," .").concat(ol,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(al," .").concat(al,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(so,`] {
    `).concat(a4,": ").concat(l,`px;
  }
`)},lg=function(){var e=parseInt(document.body.getAttribute(so)||"0",10);return isFinite(e)?e:0},C4=function(){d.useEffect(function(){return document.body.setAttribute(so,(lg()+1).toString()),function(){var e=lg()-1;e<=0?document.body.removeAttribute(so):document.body.setAttribute(so,e.toString())}},[])},k4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;C4();var a=d.useMemo(function(){return S4(s)},[s]);return d.createElement(N4,{styles:j4(a,!t,s,n?"":"!important")})},Bd=!1;if(typeof window<"u")try{var Ai=Object.defineProperty({},"passive",{get:function(){return Bd=!0,!0}});window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Bd=!1}var Os=Bd?{passive:!1}:!1,E4=function(e){return e.tagName==="TEXTAREA"},fy=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!E4(e)&&n[t]==="visible")},T4=function(e){return fy(e,"overflowY")},P4=function(e){return fy(e,"overflowX")},cg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hy(e,r);if(s){var a=my(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},R4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},hy=function(e,t){return e==="v"?T4(t):P4(t)},my=function(e,t){return e==="v"?R4(t):_4(t)},A4=function(e,t){return e==="h"&&t==="rtl"?-1:1},I4=function(e,t,n,r,s){var a=A4(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,h=i>0,f=0,m=0;do{if(!l)break;var p=my(e,l),w=p[0],x=p[1],S=p[2],g=x-S-a*w;(w||g)&&hy(e,l)&&(f+=g,m+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Ii=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ug=function(e){return[e.deltaX,e.deltaY]},dg=function(e){return e&&"current"in e?e.current:e},D4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},O4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},L4=0,Ls=[];function M4(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(L4++)[0],a=d.useState(dy)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=s4([e.lockRef.current],(e.shards||[]).map(dg),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var g=Ii(x),v=n.current,y="deltaX"in x?x.deltaX:v[0]-g[0],N="deltaY"in x?x.deltaY:v[1]-g[1],C,P=x.target,R=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in x&&R==="h"&&P.type==="range")return!1;var E=cg(R,P);if(!E)return!0;if(E?C=R:(C=R==="v"?"h":"v",E=cg(R,P)),!E)return!1;if(!r.current&&"changedTouches"in x&&(y||N)&&(r.current=C),!C)return!0;var b=r.current||C;return I4(b,S,x,b==="h"?y:N)},[]),c=d.useCallback(function(x){var S=x;if(!(!Ls.length||Ls[Ls.length-1]!==a)){var g="deltaY"in S?ug(S):Ii(S),v=t.current.filter(function(C){return C.name===S.type&&(C.target===S.target||S.target===C.shadowParent)&&D4(C.delta,g)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(dg).filter(Boolean).filter(function(C){return C.contains(S.target)}),N=y.length>0?l(S,y[0]):!i.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),u=d.useCallback(function(x,S,g,v){var y={name:x,delta:S,target:g,should:v,shadowParent:$4(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),h=d.useCallback(function(x){n.current=Ii(x),r.current=void 0},[]),f=d.useCallback(function(x){u(x.type,ug(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,Ii(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return Ls.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Os),document.addEventListener("touchmove",c,Os),document.addEventListener("touchstart",h,Os),function(){Ls=Ls.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Os),document.removeEventListener("touchmove",c,Os),document.removeEventListener("touchstart",h,Os)}},[]);var p=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(a,{styles:O4(s)}):null,p?d.createElement(k4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const z4=h4(uy,M4);var kh=d.forwardRef(function(e,t){return d.createElement(mc,Un({},e,{ref:t,sideCar:z4}))});kh.classNames=mc.classNames;var F4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ms=new WeakMap,Di=new WeakMap,Oi={},wu=0,py=function(e){return e&&(e.host||py(e.parentNode))},U4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=py(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},B4=function(e,t,n,r){var s=U4(t,Array.isArray(e)?e:[e]);Oi[n]||(Oi[n]=new WeakMap);var a=Oi[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(r),w=p!==null&&p!=="false",x=(Ms.get(m)||0)+1,S=(a.get(m)||0)+1;Ms.set(m,x),a.set(m,S),i.push(m),x===1&&w&&Di.set(m,!0),S===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return h(t),l.clear(),wu++,function(){i.forEach(function(f){var m=Ms.get(f)-1,p=a.get(f)-1;Ms.set(f,m),a.set(f,p),m||(Di.has(f)||f.removeAttribute(r),Di.delete(f)),p||f.removeAttribute(n)}),wu--,wu||(Ms=new WeakMap,Ms=new WeakMap,Di=new WeakMap,Oi={})}},gy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=F4(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),B4(r,s,n,"aria-hidden")):function(){return null}},pc="Dialog",[vy,xy]=On(pc),[W4,Ln]=vy(pc),yy=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=bs({prop:r,defaultProp:s??!1,onChange:a,caller:pc});return o.jsx(W4,{scope:t,triggerRef:l,contentRef:c,contentId:Yr(),titleId:Yr(),descriptionId:Yr(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:i,children:n})};yy.displayName=pc;var wy="DialogTrigger",by=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ln(wy,n),a=Pe(t,s.triggerRef);return o.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ph(s.open),...r,ref:a,onClick:we(e.onClick,s.onOpenToggle)})});by.displayName=wy;var Eh="DialogPortal",[V4,Sy]=vy(Eh,{forceMount:void 0}),Ny=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Ln(Eh,t);return o.jsx(V4,{scope:t,forceMount:n,children:d.Children.map(r,i=>o.jsx(wr,{present:n||a.open,children:o.jsx(Ch,{asChild:!0,container:s,children:i})}))})};Ny.displayName=Eh;var zl="DialogOverlay",jy=d.forwardRef((e,t)=>{const n=Sy(zl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ln(zl,e.__scopeDialog);return a.modal?o.jsx(wr,{present:r||a.open,children:o.jsx(K4,{...s,ref:t})}):null});jy.displayName=zl;var H4=po("DialogOverlay.RemoveScroll"),K4=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ln(zl,n);return o.jsx(kh,{as:H4,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(be.div,{"data-state":Ph(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",Cy=d.forwardRef((e,t)=>{const n=Sy(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ln(Ss,e.__scopeDialog);return o.jsx(wr,{present:r||a.open,children:a.modal?o.jsx(Y4,{...s,ref:t}):o.jsx(G4,{...s,ref:t})})});Cy.displayName=Ss;var Y4=d.forwardRef((e,t)=>{const n=Ln(Ss,e.__scopeDialog),r=d.useRef(null),s=Pe(t,n.contentRef,r);return d.useEffect(()=>{const a=r.current;if(a)return gy(a)},[]),o.jsx(ky,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:we(e.onFocusOutside,a=>a.preventDefault())})}),G4=d.forwardRef((e,t)=>{const n=Ln(Ss,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(ky,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),ky=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Ln(Ss,n),c=d.useRef(null),u=Pe(t,c);return iy(),o.jsxs(o.Fragment,{children:[o.jsx(jh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Nh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ph(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(q4,{titleId:l.titleId}),o.jsx(J4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Th="DialogTitle",Ey=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ln(Th,n);return o.jsx(be.h2,{id:s.titleId,...r,ref:t})});Ey.displayName=Th;var Ty="DialogDescription",Py=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ln(Ty,n);return o.jsx(be.p,{id:s.descriptionId,...r,ref:t})});Py.displayName=Ty;var Ry="DialogClose",_y=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ln(Ry,n);return o.jsx(be.button,{type:"button",...r,ref:t,onClick:we(e.onClick,()=>s.onOpenChange(!1))})});_y.displayName=Ry;function Ph(e){return e?"open":"closed"}var Ay="DialogTitleWarning",[X4,Iy]=Wk(Ay,{contentName:Ss,titleName:Th,docsSlug:"dialog"}),q4=({titleId:e})=>{const t=Iy(Ay),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Q4="DialogDescriptionWarning",J4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Iy(Q4).contentName}}.`;return d.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Dy=yy,Z4=by,Oy=Ny,Ly=jy,My=Cy,$y=Ey,eT=Py,Rh=_y;function gc({...e}){return o.jsx(Dy,{"data-slot":"dialog",...e})}function tT({...e}){return o.jsx(Oy,{"data-slot":"dialog-portal",...e})}function nT({className:e,...t}){return o.jsx(Ly,{"data-slot":"dialog-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function vc({className:e,children:t,...n}){return o.jsxs(tT,{"data-slot":"dialog-portal",children:[o.jsx(nT,{}),o.jsxs(My,{"data-slot":"dialog-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(Rh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(_n,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function xc({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Te("flex flex-col gap-2 text-center sm:text-left",e),...t})}function yc({className:e,...t}){return o.jsx($y,{"data-slot":"dialog-title",className:Te("text-lg leading-none font-semibold",e),...t})}function rT({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:a,currentUserId:i,isSharedAccess:l}){var Me,Xe;const[c,u]=d.useState(null),[h,f]=d.useState([]),[m,p]=d.useState(!1),[w,x]=d.useState(null),[S,g]=d.useState(!0),[v,y]=d.useState(null),[N,C]=d.useState(!1),[P,R]=d.useState([]),[E,b]=d.useState([]),[j,D]=d.useState(""),[k,L]=d.useState(!1),[O,K]=d.useState(!1),[F,_]=d.useState([]),T=d.useCallback(async()=>{var A,Y,ne;try{g(!0),y(null),console.log("🔄 플레이리스트 상세 로딩 시작:",e);const q=localStorage.getItem("accessToken");let M=null;if(q)try{const re=q.split(".");if(re.length===3){const ue=JSON.parse(atob(re[1]));M=ue.userId||ue.sub||ue.id||null}}catch(re){console.error("JWT 토큰 파싱 오류:",re)}const W=await r(e);if(console.log("📋 플레이리스트 데이터 받음:",W),!W){console.error("❌ 플레이리스트 데이터가 없음"),y("플레이리스트를 찾을 수 없습니다.");return}if(u(W),f(W.playlistContents||[]),M&&W.subscriptions){const re=W.subscriptions.find(ue=>ue.userId===M);p(!!re),x((re==null?void 0:re.subscriptionId)||null)}console.log("✅ 플레이리스트 상태 업데이트 완료:",{playlist:W,contents:W.playlistContents||[],isSubscribed:!!M&&((A=W.subscriptions)==null?void 0:A.some(re=>re.userId===M)),subscriptionId:(ne=(Y=W.subscriptions)==null?void 0:Y.find(re=>re.userId===M))==null?void 0:ne.subscriptionId})}catch(q){console.error("❌ 플레이리스트 상세 로딩 실패:",q),y("플레이리스트를 불러올 수 없습니다.")}finally{g(!1)}},[e,r]),I=d.useCallback(async()=>{try{console.log("🔄 콘텐츠 로딩 시작:",{searchQuery:j}),L(!0);const A=await hs.getContents({size:20,query:j||void 0});console.log("📋 콘텐츠 응답 받음:",A),R(A.data||[]),console.log("✅ 콘텐츠 상태 업데이트:",A.data||[])}catch(A){console.error("❌ 콘텐츠 로딩 실패:",A)}finally{L(!1)}},[j]);if(d.useEffect(()=>{T()},[T]),d.useEffect(()=>{let A;return N&&(A=setTimeout(()=>{I()},300)),()=>{A&&clearTimeout(A)}},[j,N,I]),S)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"플레이리스트를 불러오는 중..."})})});if(v||!c)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:v||"플레이리스트를 찾을 수 없습니다"}),o.jsx($,{onClick:t,variant:"outline",children:"돌아가기"})]})});const B=async()=>{if(!i){alert("로그인이 필요합니다.");return}try{if(m&&w)await zd.unsubscribe(w),p(!1),x(null),console.log("✅ 플레이리스트 구독 취소:",w);else{const A=await zd.subscribe(i,e);p(!0),x(A.subscriptionId),console.log("✅ 플레이리스트 구독:",A)}await T()}catch(A){console.error("❌ 구독 상태 변경 오류:",A),alert("구독 상태 변경에 실패했습니다.")}},U=A=>{console.log(`Removing content ${A} from playlist ${e}`),f(Y=>Y.filter(ne=>ne.id!==A))},X=A=>{n?n({id:A.id,title:A.title,thumbnail:A.thumbnail,type:A.type,duration:A.duration,description:A.description}):alert(`"${A.title}" 재생을 시작합니다.`)},ee=()=>{console.log(`Playing playlist: ${c.name}`),alert(`"${c.name}" 전체 재생을 시작합니다.`)},se=()=>{console.log(`Shuffling playlist: ${c.name}`),alert(`"${c.name}" 셔플 재생을 시작합니다.`)},xe=()=>{C(!0),I()},ke=A=>{b(Y=>Y.includes(A)?Y.filter(ne=>ne!==A):[...Y,A])},J=async()=>{if(E.length===0){alert("추가할 콘텐츠를 선택해주세요.");return}try{console.log(`Adding content to playlist: ${e}`,E),await s(e,E),await T(),C(!1),b([]),D(""),alert(`${E.length}개의 콘텐츠가 플레이리스트에 추가되었습니다.`)}catch(A){console.error("콘텐츠 추가 실패:",A),alert("콘텐츠 추가에 실패했습니다.")}},ie=()=>{console.log("🔄 멀티 선택 모드 토글:",!O),K(!O),_([])},fe=A=>{_(Y=>Y.includes(A)?Y.filter(ne=>ne!==A):[...Y,A])},he=()=>{F.length===h.length?_([]):_(h.map(A=>A.id))},le=async()=>{if(F.length===0){alert("삭제할 콘텐츠를 선택해주세요.");return}if(confirm(`선택한 ${F.length}개의 콘텐츠를 플레이리스트에서 제거하시겠습니까?`))try{await a(e,F),await T(),_([]),K(!1),alert(`${F.length}개의 콘텐츠가 제거되었습니다.`)}catch(Y){console.error("콘텐츠 삭제 실패:",Y),alert("콘텐츠 삭제에 실패했습니다.")}},pe=async()=>{try{const A=`${window.location.origin}/?playlist=${e}`;navigator.clipboard?(await navigator.clipboard.writeText(A),alert("플레이리스트 공유 링크가 클립보드에 복사되었습니다!")):prompt("플레이리스트 공유 링크를 복사하세요:",A),console.log("📋 플레이리스트 공유 링크 생성:",A)}catch(A){console.error("공유 링크 복사 실패:",A),alert("공유 링크 복사에 실패했습니다.")}},Ce=()=>c.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:c.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:"플레이리스트"})]})}):o.jsx($l,{src:c.coverImage,alt:c.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs($,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(jo,{className:"w-5 h-5 mr-2"}),"플레이리스트로 돌아가기"]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:Ce()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(hn,{variant:"secondary",className:"bg-white/10 text-white",children:"플레이리스트"}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:c.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:c.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ot,{className:"h-6 w-6",children:[o.jsx(at,{src:(Me=c.user)==null?void 0:Me.profileImage}),o.jsx(it,{className:"bg-[#4ecdc4] text-black text-xs",children:((Xe=c.username)==null?void 0:Xe.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:c.username||"Unknown"})]}),o.jsx("span",{children:"•"}),o.jsxs("span",{children:[h.length,"개 콘텐츠"]}),o.jsx("span",{children:"•"}),o.jsx("span",{children:c.totalDuration||"0분"}),o.jsx("span",{children:"•"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(mh,{className:"w-4 h-4"}),o.jsx("span",{children:c.createdAt?new Date(c.createdAt).toLocaleDateString("ko-KR"):"날짜 없음"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs($,{size:"lg",onClick:ee,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(Et,{className:"w-6 h-6 mr-2 fill-current"}),"재생"]}),o.jsxs($,{size:"lg",variant:"outline",onClick:se,className:"border-white/20 hover:bg-white/10",children:[o.jsx(kC,{className:"w-5 h-5 mr-2"}),"셔플"]}),i?o.jsxs(o.Fragment,{children:[o.jsxs($,{size:"lg",variant:"outline",onClick:xe,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"콘텐츠 추가"]}),o.jsxs($,{size:"lg",variant:"outline",onClick:ie,className:`border-white/20 hover:bg-white/10 ${O?"bg-white/10":""}`,children:[o.jsx(_n,{className:"w-5 h-5 mr-2"}),O?"선택 취소":"다중 선택"]})]}):o.jsxs($,{size:"lg",variant:"outline",onClick:()=>alert(l?"공유 링크로 접근하셨습니다. 로그인하여 더 많은 기능을 이용해보세요!":"로그인 후 이용할 수 있습니다."),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"로그인하여 구독하기"]}),O&&o.jsxs(o.Fragment,{children:[o.jsx($,{size:"lg",variant:"outline",onClick:he,className:"border-white/20 hover:bg-white/10",children:F.length===h.length?"전체 해제":"전체 선택"}),F.length>0&&o.jsxs($,{size:"lg",variant:"destructive",onClick:le,className:"bg-red-600 hover:bg-red-700",children:["선택 삭제 (",F.length,")"]})]}),i&&o.jsx($,{variant:"ghost",size:"lg",onClick:B,className:`p-3 hover:bg-white/10 ${m?"text-[#4ecdc4]":"text-white/60"}`,title:m?"구독 취소":"구독",children:o.jsx(mr,{className:`w-6 h-6 ${m?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",onClick:pe,children:o.jsx(CC,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(I0,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:"제목"}),o.jsx("div",{className:"col-span-2",children:"장르"}),o.jsx("div",{className:"col-span-2",children:"추가한 날짜"}),o.jsx("div",{className:"col-span-1",children:o.jsx(Kr,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:h.map((A,Y)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("🎯 렌더링 시점 상태:",{isMultiSelectMode:O,contentId:A.id}),O)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>fe(A.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${F.includes(A.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:F.includes(A.id)&&o.jsx(Yt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:Y+1}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>X(A),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(Et,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx($l,{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:A.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[A.year," • ",A.type==="movie"?"영화":A.type==="tv"?"드라마":"스포츠"]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:A.genre&&Array.isArray(A.genre)?A.genre.slice(0,2).join(", "):A.genre||"장르 없음"})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(A.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:A.duration})}),o.jsx("div",{className:"col-span-1",children:i&&o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx($,{variant:"ghost",size:"sm",onClick:()=>U(A.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(_n,{className:"w-4 h-4"})})})})]})},A.id))}),h.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"이 플레이리스트에는 콘텐츠가 없습니다"}),o.jsx($,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:xe,children:"콘텐츠 추가하기"})]})]})}),o.jsx(gc,{open:N,onOpenChange:C,children:o.jsxs(vc,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(xc,{children:o.jsx(yc,{className:"text-white",children:"플레이리스트에 콘텐츠 추가"})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(He,{placeholder:"콘텐츠 검색...",value:j,onChange:A=>D(A.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),E.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[E.length,"개 콘텐츠 선택됨"]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:k?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"콘텐츠를 불러오는 중..."})}):!P||P.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"콘텐츠가 없습니다"})}):(P||[]).map(A=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${E.includes(A.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>ke(A.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:A.thumbnail||"/placeholder-content.jpg",alt:A.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:A.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:A.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(hn,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:A.contentType}),A.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:A.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:E.includes(A.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Yt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},A.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{C(!1),b([]),D("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"취소"}),o.jsx($,{onClick:J,disabled:E.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:E.length>0?`${E.length}개 추가`:"추가하기"})]})]})})]})}function Aa(e,[t,n]){return Math.min(n,Math.max(t,e))}function _h(e){const t=e+"CollectionProvider",[n,r]=On(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:S,children:g}=x,v=te.useRef(null),y=te.useRef(new Map).current;return o.jsx(s,{scope:S,itemMap:y,collectionRef:v,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=po(l),u=te.forwardRef((x,S)=>{const{scope:g,children:v}=x,y=a(l,g),N=Pe(S,y.collectionRef);return o.jsx(c,{ref:N,children:v})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=po(h),p=te.forwardRef((x,S)=>{const{scope:g,children:v,...y}=x,N=te.useRef(null),C=Pe(S,N),P=a(h,g);return te.useEffect(()=>(P.itemMap.set(N,{ref:N,...y}),()=>void P.itemMap.delete(N))),o.jsx(m,{[f]:"",ref:C,children:v})});p.displayName=h;function w(x){const S=a(e+"CollectionConsumer",x);return te.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((P,R)=>y.indexOf(P.ref.current)-y.indexOf(R.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var sT=d.createContext(void 0);function Ga(e){const t=d.useContext(sT);return e||t||"ltr"}const oT=["top","right","bottom","left"],Qr=Math.min,Zt=Math.max,Fl=Math.round,Li=Math.floor,Kn=e=>({x:e,y:e}),aT={left:"right",right:"left",bottom:"top",top:"bottom"},iT={start:"end",end:"start"};function Wd(e,t,n){return Zt(e,Qr(t,n))}function pr(e,t){return typeof e=="function"?e(t):e}function gr(e){return e.split("-")[0]}function Co(e){return e.split("-")[1]}function Ah(e){return e==="x"?"y":"x"}function Ih(e){return e==="y"?"height":"width"}const lT=new Set(["top","bottom"]);function Bn(e){return lT.has(gr(e))?"y":"x"}function Dh(e){return Ah(Bn(e))}function cT(e,t,n){n===void 0&&(n=!1);const r=Co(e),s=Dh(e),a=Ih(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Ul(i)),[i,Ul(i)]}function uT(e){const t=Ul(e);return[Vd(e),t,Vd(t)]}function Vd(e){return e.replace(/start|end/g,t=>iT[t])}const fg=["left","right"],hg=["right","left"],dT=["top","bottom"],fT=["bottom","top"];function hT(e,t,n){switch(e){case"top":case"bottom":return n?t?hg:fg:t?fg:hg;case"left":case"right":return t?dT:fT;default:return[]}}function mT(e,t,n,r){const s=Co(e);let a=hT(gr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Vd)))),a}function Ul(e){return e.replace(/left|right|bottom|top/g,t=>aT[t])}function pT(e){return{top:0,right:0,bottom:0,left:0,...e}}function zy(e){return typeof e!="number"?pT(e):{top:e,right:e,bottom:e,left:e}}function Bl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function mg(e,t,n){let{reference:r,floating:s}=e;const a=Bn(t),i=Dh(t),l=Ih(i),c=gr(t),u=a==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Co(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const gT=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=mg(u,r,c),m=r,p={},w=0;for(let x=0;x<l.length;x++){const{name:S,fn:g}=l[x],{x:v,y,data:N,reset:C}=await g({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});h=v??h,f=y??f,p={...p,[S]:{...p[S],...N}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:h,y:f}=mg(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Ia(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=pr(t,e),w=zy(p),S=l[m?f==="floating"?"reference":"floating":f],g=Bl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},C=Bl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(g.top-C.top+w.top)/N.y,bottom:(C.bottom-g.bottom+w.bottom)/N.y,left:(g.left-C.left+w.left)/N.x,right:(C.right-g.right+w.right)/N.x}}const vT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=pr(e,t)||{};if(u==null)return{};const f=zy(h),m={x:n,y:r},p=Dh(s),w=Ih(p),x=await i.getDimensions(u),S=p==="y",g=S?"top":"left",v=S?"bottom":"right",y=S?"clientHeight":"clientWidth",N=a.reference[w]+a.reference[p]-m[p]-a.floating[w],C=m[p]-a.reference[p],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let R=P?P[y]:0;(!R||!await(i.isElement==null?void 0:i.isElement(P)))&&(R=l.floating[y]||a.floating[w]);const E=N/2-C/2,b=R/2-x[w]/2-1,j=Qr(f[g],b),D=Qr(f[v],b),k=j,L=R-x[w]-D,O=R/2-x[w]/2+E,K=Wd(k,O,L),F=!c.arrow&&Co(s)!=null&&O!==K&&a.reference[w]/2-(O<k?j:D)-x[w]/2<0,_=F?O<k?O-k:O-L:0;return{[p]:m[p]+_,data:{[p]:K,centerOffset:O-K-_,...F&&{alignmentOffset:_}},reset:F}}}),xT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...S}=pr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=gr(s),v=Bn(l),y=gr(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(y||!x?[Ul(l)]:uT(l)),P=w!=="none";!m&&P&&C.push(...mT(l,x,w,N));const R=[l,...C],E=await Ia(t,S),b=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&b.push(E[g]),f){const O=cT(s,i,N);b.push(E[O[0]],E[O[1]])}if(j=[...j,{placement:s,overflows:b}],!b.every(O=>O<=0)){var D,k;const O=(((D=a.flip)==null?void 0:D.index)||0)+1,K=R[O];if(K&&(!(f==="alignment"?v!==Bn(K):!1)||j.every(T=>T.overflows[0]>0&&Bn(T.placement)===v)))return{data:{index:O,overflows:j},reset:{placement:K}};let F=(k=j.filter(_=>_.overflows[0]<=0).sort((_,T)=>_.overflows[1]-T.overflows[1])[0])==null?void 0:k.placement;if(!F)switch(p){case"bestFit":{var L;const _=(L=j.filter(T=>{if(P){const I=Bn(T.placement);return I===v||I==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(I=>I>0).reduce((I,B)=>I+B,0)]).sort((T,I)=>T[1]-I[1])[0])==null?void 0:L[0];_&&(F=_);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function pg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gg(e){return oT.some(t=>e[t]>=0)}const yT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=pr(e,t);switch(r){case"referenceHidden":{const a=await Ia(t,{...s,elementContext:"reference"}),i=pg(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:gg(i)}}}case"escaped":{const a=await Ia(t,{...s,altBoundary:!0}),i=pg(a,n.floating);return{data:{escapedOffsets:i,escaped:gg(i)}}}default:return{}}}}},Fy=new Set(["left","top"]);async function wT(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=gr(n),l=Co(n),c=Bn(n)==="y",u=Fy.has(i)?-1:1,h=a&&c?-1:1,f=pr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*h,y:m*u}:{x:m*u,y:p*h}}const bT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await wT(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},ST=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:S=>{let{x:g,y:v}=S;return{x:g,y:v}}},...c}=pr(e,t),u={x:n,y:r},h=await Ia(t,c),f=Bn(gr(s)),m=Ah(f);let p=u[m],w=u[f];if(a){const S=m==="y"?"top":"left",g=m==="y"?"bottom":"right",v=p+h[S],y=p-h[g];p=Wd(v,p,y)}if(i){const S=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=w+h[S],y=w-h[g];w=Wd(v,w,y)}const x=l.fn({...t,[m]:p,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[f]:i}}}}}},NT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pr(e,t),h={x:n,y:r},f=Bn(s),m=Ah(f);let p=h[m],w=h[f];const x=pr(l,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const y=m==="y"?"height":"width",N=a.reference[m]-a.floating[y]+S.mainAxis,C=a.reference[m]+a.reference[y]-S.mainAxis;p<N?p=N:p>C&&(p=C)}if(u){var g,v;const y=m==="y"?"width":"height",N=Fy.has(gr(s)),C=a.reference[f]-a.floating[y]+(N&&((g=i.offset)==null?void 0:g[f])||0)+(N?0:S.crossAxis),P=a.reference[f]+a.reference[y]+(N?0:((v=i.offset)==null?void 0:v[f])||0)-(N?S.crossAxis:0);w<C?w=C:w>P&&(w=P)}return{[m]:p,[f]:w}}}},jT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=pr(e,t),h=await Ia(t,u),f=gr(s),m=Co(s),p=Bn(s)==="y",{width:w,height:x}=a.floating;let S,g;f==="top"||f==="bottom"?(S=f,g=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,S=m==="end"?"top":"bottom");const v=x-h.top-h.bottom,y=w-h.left-h.right,N=Qr(x-h[S],v),C=Qr(w-h[g],y),P=!t.middlewareData.shift;let R=N,E=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=v),P&&!m){const j=Zt(h.left,0),D=Zt(h.right,0),k=Zt(h.top,0),L=Zt(h.bottom,0);p?E=w-2*(j!==0||D!==0?j+D:Zt(h.left,h.right)):R=x-2*(k!==0||L!==0?k+L:Zt(h.top,h.bottom))}await c({...t,availableWidth:E,availableHeight:R});const b=await i.getDimensions(l.floating);return w!==b.width||x!==b.height?{reset:{rects:!0}}:{}}}};function wc(){return typeof window<"u"}function ko(e){return Uy(e)?(e.nodeName||"").toLowerCase():"#document"}function rn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zn(e){var t;return(t=(Uy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Uy(e){return wc()?e instanceof Node||e instanceof rn(e).Node:!1}function An(e){return wc()?e instanceof Element||e instanceof rn(e).Element:!1}function Xn(e){return wc()?e instanceof HTMLElement||e instanceof rn(e).HTMLElement:!1}function vg(e){return!wc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rn(e).ShadowRoot}const CT=new Set(["inline","contents"]);function Xa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=In(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!CT.has(s)}const kT=new Set(["table","td","th"]);function ET(e){return kT.has(ko(e))}const TT=[":popover-open",":modal"];function bc(e){return TT.some(t=>{try{return e.matches(t)}catch{return!1}})}const PT=["transform","translate","scale","rotate","perspective"],RT=["transform","translate","scale","rotate","perspective","filter"],_T=["paint","layout","strict","content"];function Oh(e){const t=Lh(),n=An(e)?In(e):e;return PT.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||RT.some(r=>(n.willChange||"").includes(r))||_T.some(r=>(n.contain||"").includes(r))}function AT(e){let t=Jr(e);for(;Xn(t)&&!vo(t);){if(Oh(t))return t;if(bc(t))return null;t=Jr(t)}return null}function Lh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IT=new Set(["html","body","#document"]);function vo(e){return IT.has(ko(e))}function In(e){return rn(e).getComputedStyle(e)}function Sc(e){return An(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jr(e){if(ko(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vg(e)&&e.host||Zn(e);return vg(t)?t.host:t}function By(e){const t=Jr(e);return vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xn(t)&&Xa(t)?t:By(t)}function Da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=By(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=rn(s);if(a){const l=Hd(i);return t.concat(i,i.visualViewport||[],Xa(s)?s:[],l&&n?Da(l):[])}return t.concat(s,Da(s,[],n))}function Hd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Wy(e){const t=In(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Xn(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Fl(n)!==a||Fl(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Mh(e){return An(e)?e:e.contextElement}function oo(e){const t=Mh(e);if(!Xn(t))return Kn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Wy(t);let i=(a?Fl(n.width):n.width)/r,l=(a?Fl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const DT=Kn(0);function Vy(e){const t=rn(e);return!Lh()||!t.visualViewport?DT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==rn(e)?!1:t}function Ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Mh(e);let i=Kn(1);t&&(r?An(r)&&(i=oo(r)):i=oo(e));const l=OT(a,n,r)?Vy(a):Kn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(a){const m=rn(a),p=r&&An(r)?rn(r):r;let w=m,x=Hd(w);for(;x&&r&&p!==w;){const S=oo(x),g=x.getBoundingClientRect(),v=In(x),y=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*S.x,N=g.top+(x.clientTop+parseFloat(v.paddingTop))*S.y;c*=S.x,u*=S.y,h*=S.x,f*=S.y,c+=y,u+=N,w=rn(x),x=Hd(w)}}return Bl({width:h,height:f,x:c,y:u})}function $h(e,t){const n=Sc(e).scrollLeft;return t?t.left+n:Ns(Zn(e)).left+n}function Hy(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:$h(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function LT(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=Zn(r),l=t?bc(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Kn(1);const h=Kn(0),f=Xn(r);if((f||!f&&!a)&&((ko(r)!=="body"||Xa(i))&&(c=Sc(r)),Xn(r))){const p=Ns(r);u=oo(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=i&&!f&&!a?Hy(i,c,!0):Kn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function MT(e){return Array.from(e.getClientRects())}function $T(e){const t=Zn(e),n=Sc(e),r=e.ownerDocument.body,s=Zt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Zt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+$h(e);const l=-n.scrollTop;return In(r).direction==="rtl"&&(i+=Zt(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function zT(e,t){const n=rn(e),r=Zn(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Lh();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const FT=new Set(["absolute","fixed"]);function UT(e,t){const n=Ns(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Xn(e)?oo(e):Kn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function xg(e,t,n){let r;if(t==="viewport")r=zT(e,n);else if(t==="document")r=$T(Zn(e));else if(An(t))r=UT(t,n);else{const s=Vy(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Bl(r)}function Ky(e,t){const n=Jr(e);return n===t||!An(n)||vo(n)?!1:In(n).position==="fixed"||Ky(n,t)}function BT(e,t){const n=t.get(e);if(n)return n;let r=Da(e,[],!1).filter(l=>An(l)&&ko(l)!=="body"),s=null;const a=In(e).position==="fixed";let i=a?Jr(e):e;for(;An(i)&&!vo(i);){const l=In(i),c=Oh(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&FT.has(s.position)||Xa(i)&&!c&&Ky(e,i))?r=r.filter(h=>h!==i):s=l,i=Jr(i)}return t.set(e,r),r}function WT(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?bc(t)?[]:BT(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,h)=>{const f=xg(t,h,s);return u.top=Zt(f.top,u.top),u.right=Qr(f.right,u.right),u.bottom=Qr(f.bottom,u.bottom),u.left=Zt(f.left,u.left),u},xg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function VT(e){const{width:t,height:n}=Wy(e);return{width:t,height:n}}function HT(e,t,n){const r=Xn(t),s=Zn(t),a=n==="fixed",i=Ns(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Kn(0);function u(){c.x=$h(s)}if(r||!r&&!a)if((ko(t)!=="body"||Xa(s))&&(l=Sc(t)),r){const p=Ns(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!r&&s&&u();const h=s&&!r&&!a?Hy(s,l):Kn(0),f=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:i.width,height:i.height}}function bu(e){return In(e).position==="static"}function yg(e,t){if(!Xn(e)||In(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zn(e)===n&&(n=n.ownerDocument.body),n}function Yy(e,t){const n=rn(e);if(bc(e))return n;if(!Xn(e)){let s=Jr(e);for(;s&&!vo(s);){if(An(s)&&!bu(s))return s;s=Jr(s)}return n}let r=yg(e,t);for(;r&&ET(r)&&bu(r);)r=yg(r,t);return r&&vo(r)&&bu(r)&&!Oh(r)?n:r||AT(e)||n}const KT=async function(e){const t=this.getOffsetParent||Yy,n=this.getDimensions,r=await n(e.floating);return{reference:HT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function YT(e){return In(e).direction==="rtl"}const GT={convertOffsetParentRelativeRectToViewportRelativeRect:LT,getDocumentElement:Zn,getClippingRect:WT,getOffsetParent:Yy,getElementRects:KT,getClientRects:MT,getDimensions:VT,getScale:oo,isElement:An,isRTL:YT};function Gy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XT(e,t){let n=null,r;const s=Zn(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const w=Li(f),x=Li(s.clientWidth-(h+m)),S=Li(s.clientHeight-(f+p)),g=Li(h),y={rootMargin:-w+"px "+-x+"px "+-S+"px "+-g+"px",threshold:Zt(0,Qr(1,c))||1};let N=!0;function C(P){const R=P[0].intersectionRatio;if(R!==c){if(!N)return i();R?i(!1,R):r=setTimeout(()=>{i(!1,1e-7)},1e3)}R===1&&!Gy(u,e.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(C,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(e)}return i(!0),a}function qT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Mh(e),h=s||a?[...u?Da(u):[],...Da(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const f=u&&l?XT(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,x=c?Ns(e):null;c&&S();function S(){const g=Ns(e);x&&!Gy(x,g)&&n(),x=g,w=requestAnimationFrame(S)}return n(),()=>{var g;h.forEach(v=>{s&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const QT=bT,JT=ST,ZT=xT,eP=jT,tP=yT,wg=vT,nP=NT,rP=(e,t,n)=>{const r=new Map,s={platform:GT,...n},a={...s.platform,_c:r};return gT(e,t,{...s,platform:a})};var sP=typeof document<"u",oP=function(){},il=sP?d.useLayoutEffect:oP;function Wl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Wl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Wl(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Xy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bg(e,t){const n=Xy(e);return Math.round(t*n)/n}function Su(e){const t=d.useRef(e);return il(()=>{t.current=e}),t}function aP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=d.useState(r);Wl(m,r)||p(r);const[w,x]=d.useState(null),[S,g]=d.useState(null),v=d.useCallback(T=>{T!==P.current&&(P.current=T,x(T))},[]),y=d.useCallback(T=>{T!==R.current&&(R.current=T,g(T))},[]),N=a||w,C=i||S,P=d.useRef(null),R=d.useRef(null),E=d.useRef(h),b=c!=null,j=Su(c),D=Su(s),k=Su(u),L=d.useCallback(()=>{if(!P.current||!R.current)return;const T={placement:t,strategy:n,middleware:m};D.current&&(T.platform=D.current),rP(P.current,R.current,T).then(I=>{const B={...I,isPositioned:k.current!==!1};O.current&&!Wl(E.current,B)&&(E.current=B,So.flushSync(()=>{f(B)}))})},[m,t,n,D,k]);il(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const O=d.useRef(!1);il(()=>(O.current=!0,()=>{O.current=!1}),[]),il(()=>{if(N&&(P.current=N),C&&(R.current=C),N&&C){if(j.current)return j.current(N,C,L);L()}},[N,C,L,j,b]);const K=d.useMemo(()=>({reference:P,floating:R,setReference:v,setFloating:y}),[v,y]),F=d.useMemo(()=>({reference:N,floating:C}),[N,C]),_=d.useMemo(()=>{const T={position:n,left:0,top:0};if(!F.floating)return T;const I=bg(F.floating,h.x),B=bg(F.floating,h.y);return l?{...T,transform:"translate("+I+"px, "+B+"px)",...Xy(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:B}},[n,l,F.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:L,refs:K,elements:F,floatingStyles:_}),[h,L,K,F,_])}const iP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?wg({element:r.current,padding:s}).fn(n):{}:r?wg({element:r,padding:s}).fn(n):{}}}},lP=(e,t)=>({...QT(e),options:[e,t]}),cP=(e,t)=>({...JT(e),options:[e,t]}),uP=(e,t)=>({...nP(e),options:[e,t]}),dP=(e,t)=>({...ZT(e),options:[e,t]}),fP=(e,t)=>({...eP(e),options:[e,t]}),hP=(e,t)=>({...tP(e),options:[e,t]}),mP=(e,t)=>({...iP(e),options:[e,t]});var pP="Arrow",qy=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(be.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});qy.displayName=pP;var gP=qy;function zh(e){const[t,n]=d.useState(void 0);return mt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Fh="Popper",[Qy,Jy]=On(Fh),[vP,Zy]=Qy(Fh),ew=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(vP,{scope:t,anchor:r,onAnchorChange:s,children:n})};ew.displayName=Fh;var tw="PopperAnchor",nw=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Zy(tw,n),i=d.useRef(null),l=Pe(t,i);return d.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(be.div,{...s,ref:l})});nw.displayName=tw;var Uh="PopperContent",[xP,yP]=Qy(Uh),rw=d.forwardRef((e,t)=>{var J,ie,fe,he,le,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,S=Zy(Uh,n),[g,v]=d.useState(null),y=Pe(t,Ce=>v(Ce)),[N,C]=d.useState(null),P=zh(N),R=(P==null?void 0:P.width)??0,E=(P==null?void 0:P.height)??0,b=r+(a!=="center"?"-"+a:""),j=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(u)?u:[u],k=D.length>0,L={padding:j,boundary:D.filter(bP),altBoundary:k},{refs:O,floatingStyles:K,placement:F,isPositioned:_,middlewareData:T}=aP({strategy:"fixed",placement:b,whileElementsMounted:(...Ce)=>qT(...Ce,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[lP({mainAxis:s+E,alignmentAxis:i}),c&&cP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uP():void 0,...L}),c&&dP({...L}),fP({...L,apply:({elements:Ce,rects:Me,availableWidth:Xe,availableHeight:A})=>{const{width:Y,height:ne}=Me.reference,q=Ce.floating.style;q.setProperty("--radix-popper-available-width",`${Xe}px`),q.setProperty("--radix-popper-available-height",`${A}px`),q.setProperty("--radix-popper-anchor-width",`${Y}px`),q.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),N&&mP({element:N,padding:l}),SP({arrowWidth:R,arrowHeight:E}),m&&hP({strategy:"referenceHidden",...L})]}),[I,B]=aw(F),U=It(w);mt(()=>{_&&(U==null||U())},[_,U]);const X=(J=T.arrow)==null?void 0:J.x,ee=(ie=T.arrow)==null?void 0:ie.y,se=((fe=T.arrow)==null?void 0:fe.centerOffset)!==0,[xe,ke]=d.useState();return mt(()=>{g&&ke(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:_?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(he=T.transformOrigin)==null?void 0:he.x,(le=T.transformOrigin)==null?void 0:le.y].join(" "),...((pe=T.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(xP,{scope:n,placedSide:I,onArrowChange:C,arrowX:X,arrowY:ee,shouldHideArrow:se,children:o.jsx(be.div,{"data-side":I,"data-align":B,...x,ref:y,style:{...x.style,animation:_?void 0:"none"}})})})});rw.displayName=Uh;var sw="PopperArrow",wP={top:"bottom",right:"left",bottom:"top",left:"right"},ow=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=yP(sw,r),i=wP[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(gP,{...s,ref:n,style:{...s.style,display:"block"}})})});ow.displayName=sw;function bP(e){return e!==null}var SP=e=>({name:"transformOrigin",options:e,fn(t){var S,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=aw(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?f:`${m}px`,x=`${-c}px`):u==="top"?(w=i?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?f:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?f:`${p}px`),{data:{x:w,y:x}}}});function aw(e){const[t,n="center"]=e.split("-");return[t,n]}var NP=ew,jP=nw,CP=rw,kP=ow;function Bh(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var iw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EP="VisuallyHidden",TP=d.forwardRef((e,t)=>o.jsx(be.span,{...e,ref:t,style:{...iw,...e.style}}));TP.displayName=EP;var PP=[" ","Enter","ArrowUp","ArrowDown"],RP=[" ","Enter"],js="Select",[Nc,jc,_P]=_h(js),[Eo,O5]=On(js,[_P,Jy]),Cc=Jy(),[AP,rs]=Eo(js),[IP,DP]=Eo(js),lw=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:p,form:w}=e,x=Cc(t),[S,g]=d.useState(null),[v,y]=d.useState(null),[N,C]=d.useState(!1),P=Ga(u),[R,E]=bs({prop:r,defaultProp:s??!1,onChange:a,caller:js}),[b,j]=bs({prop:i,defaultProp:l,onChange:c,caller:js}),D=d.useRef(null),k=S?w||!!S.closest("form"):!0,[L,O]=d.useState(new Set),K=Array.from(L).map(F=>F.props.value).join(";");return o.jsx(NP,{...x,children:o.jsxs(AP,{required:p,scope:t,trigger:S,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:Yr(),value:b,onValueChange:j,open:R,onOpenChange:E,dir:P,triggerPointerDownPosRef:D,disabled:m,children:[o.jsx(Nc.Provider,{scope:t,children:o.jsx(IP,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(F=>{O(_=>new Set(_).add(F))},[]),onNativeOptionRemove:d.useCallback(F=>{O(_=>{const T=new Set(_);return T.delete(F),T})},[]),children:n})}),k?o.jsxs(Rw,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:b,onChange:F=>j(F.target.value),disabled:m,form:w,children:[b===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},K):null]})})};lw.displayName=js;var cw="SelectTrigger",uw=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Cc(n),i=rs(cw,n),l=i.disabled||r,c=Pe(t,i.onTriggerChange),u=jc(n),h=d.useRef("touch"),[f,m,p]=Aw(x=>{const S=u().filter(y=>!y.disabled),g=S.find(y=>y.value===i.value),v=Iw(S,x,g);v!==void 0&&i.onValueChange(v.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(jP,{asChild:!0,...a,children:o.jsx(be.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_w(i.value)?"":void 0,...s,ref:c,onClick:we(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:we(s.onPointerDown,x=>{h.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:we(s.onKeyDown,x=>{const S=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(S&&x.key===" ")&&PP.includes(x.key)&&(w(),x.preventDefault())})})})});uw.displayName=cw;var dw="SelectValue",fw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=rs(dw,n),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,f=Pe(t,c.onValueNodeChange);return mt(()=>{u(h)},[u,h]),o.jsx(be.span,{...l,ref:f,style:{pointerEvents:"none"},children:_w(c.value)?o.jsx(o.Fragment,{children:i}):a})});fw.displayName=dw;var OP="SelectIcon",hw=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(be.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});hw.displayName=OP;var LP="SelectPortal",mw=e=>o.jsx(Ch,{asChild:!0,...e});mw.displayName=LP;var Cs="SelectContent",pw=d.forwardRef((e,t)=>{const n=rs(Cs,e.__scopeSelect),[r,s]=d.useState();if(mt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?So.createPortal(o.jsx(gw,{scope:e.__scopeSelect,children:o.jsx(Nc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(vw,{...e,ref:t})});pw.displayName=Cs;var Sn=10,[gw,ss]=Eo(Cs),MP="SelectContentImpl",$P=po("SelectContent.RemoveScroll"),vw=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:S,...g}=e,v=rs(Cs,n),[y,N]=d.useState(null),[C,P]=d.useState(null),R=Pe(t,J=>N(J)),[E,b]=d.useState(null),[j,D]=d.useState(null),k=jc(n),[L,O]=d.useState(!1),K=d.useRef(!1);d.useEffect(()=>{if(y)return gy(y)},[y]),iy();const F=d.useCallback(J=>{const[ie,...fe]=k().map(pe=>pe.ref.current),[he]=fe.slice(-1),le=document.activeElement;for(const pe of J)if(pe===le||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===ie&&C&&(C.scrollTop=0),pe===he&&C&&(C.scrollTop=C.scrollHeight),pe==null||pe.focus(),document.activeElement!==le))return},[k,C]),_=d.useCallback(()=>F([E,y]),[F,E,y]);d.useEffect(()=>{L&&_()},[L,_]);const{onOpenChange:T,triggerPointerDownPosRef:I}=v;d.useEffect(()=>{if(y){let J={x:0,y:0};const ie=he=>{var le,pe;J={x:Math.abs(Math.round(he.pageX)-(((le=I.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(he.pageY)-(((pe=I.current)==null?void 0:pe.y)??0))}},fe=he=>{J.x<=10&&J.y<=10?he.preventDefault():y.contains(he.target)||T(!1),document.removeEventListener("pointermove",ie),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",fe,{capture:!0})}}},[y,T,I]),d.useEffect(()=>{const J=()=>T(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[T]);const[B,U]=Aw(J=>{const ie=k().filter(le=>!le.disabled),fe=ie.find(le=>le.ref.current===document.activeElement),he=Iw(ie,J,fe);he&&setTimeout(()=>he.ref.current.focus())}),X=d.useCallback((J,ie,fe)=>{const he=!K.current&&!fe;(v.value!==void 0&&v.value===ie||he)&&(b(J),he&&(K.current=!0))},[v.value]),ee=d.useCallback(()=>y==null?void 0:y.focus(),[y]),se=d.useCallback((J,ie,fe)=>{const he=!K.current&&!fe;(v.value!==void 0&&v.value===ie||he)&&D(J)},[v.value]),xe=r==="popper"?Kd:xw,ke=xe===Kd?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:S}:{};return o.jsx(gw,{scope:n,content:y,viewport:C,onViewportChange:P,itemRefCallback:X,selectedItem:E,onItemLeave:ee,itemTextRefCallback:se,focusSelectedItem:_,selectedItemText:j,position:r,isPositioned:L,searchRef:B,children:o.jsx(kh,{as:$P,allowPinchZoom:!0,children:o.jsx(jh,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:we(s,J=>{var ie;(ie=v.trigger)==null||ie.focus({preventScroll:!0}),J.preventDefault()}),children:o.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(xe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...g,...ke,onPlaced:()=>O(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:we(g.onKeyDown,J=>{const ie=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ie&&J.key.length===1&&U(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let he=k().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(J.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const le=J.target,pe=he.indexOf(le);he=he.slice(pe+1)}setTimeout(()=>F(he)),J.preventDefault()}})})})})})})});vw.displayName=MP;var zP="SelectItemAlignedPosition",xw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=rs(Cs,n),i=ss(Cs,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=Pe(t,R=>h(R)),m=jc(n),p=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:g,focusSelectedItem:v}=i,y=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&S&&g){const R=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),b=a.valueNode.getBoundingClientRect(),j=g.getBoundingClientRect();if(a.dir!=="rtl"){const le=j.left-E.left,pe=b.left-le,Ce=R.left-pe,Me=R.width+Ce,Xe=Math.max(Me,E.width),A=window.innerWidth-Sn,Y=Aa(pe,[Sn,Math.max(Sn,A-Xe)]);l.style.minWidth=Me+"px",l.style.left=Y+"px"}else{const le=E.right-j.right,pe=window.innerWidth-b.right-le,Ce=window.innerWidth-R.right-pe,Me=R.width+Ce,Xe=Math.max(Me,E.width),A=window.innerWidth-Sn,Y=Aa(pe,[Sn,Math.max(Sn,A-Xe)]);l.style.minWidth=Me+"px",l.style.right=Y+"px"}const D=m(),k=window.innerHeight-Sn*2,L=x.scrollHeight,O=window.getComputedStyle(u),K=parseInt(O.borderTopWidth,10),F=parseInt(O.paddingTop,10),_=parseInt(O.borderBottomWidth,10),T=parseInt(O.paddingBottom,10),I=K+F+L+T+_,B=Math.min(S.offsetHeight*5,I),U=window.getComputedStyle(x),X=parseInt(U.paddingTop,10),ee=parseInt(U.paddingBottom,10),se=R.top+R.height/2-Sn,xe=k-se,ke=S.offsetHeight/2,J=S.offsetTop+ke,ie=K+F+J,fe=I-ie;if(ie<=se){const le=D.length>0&&S===D[D.length-1].ref.current;l.style.bottom="0px";const pe=u.clientHeight-x.offsetTop-x.offsetHeight,Ce=Math.max(xe,ke+(le?ee:0)+pe+_),Me=ie+Ce;l.style.height=Me+"px"}else{const le=D.length>0&&S===D[0].ref.current;l.style.top="0px";const Ce=Math.max(se,K+x.offsetTop+(le?X:0)+ke)+fe;l.style.height=Ce+"px",x.scrollTop=ie-se+x.offsetTop}l.style.margin=`${Sn}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,S,g,a.dir,r]);mt(()=>y(),[y]);const[N,C]=d.useState();mt(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const P=d.useCallback(R=>{R&&w.current===!0&&(y(),v==null||v(),w.current=!1)},[y,v]);return o.jsx(UP,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xw.displayName=zP;var FP="SelectPopperPosition",Kd=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Sn,...a}=e,i=Cc(n);return o.jsx(CP,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kd.displayName=FP;var[UP,Wh]=Eo(Cs,{}),Yd="SelectViewport",yw=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=ss(Yd,n),i=Wh(Yd,n),l=Pe(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Nc.Slot,{scope:n,children:o.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:we(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-h.scrollTop);if(p>0){const w=window.innerHeight-Sn*2,x=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),g=Math.max(x,S);if(g<w){const v=g+p,y=Math.min(w,v),N=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});yw.displayName=Yd;var ww="SelectGroup",[BP,WP]=Eo(ww),VP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Yr();return o.jsx(BP,{scope:n,id:s,children:o.jsx(be.div,{role:"group","aria-labelledby":s,...r,ref:t})})});VP.displayName=ww;var bw="SelectLabel",HP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=WP(bw,n);return o.jsx(be.div,{id:s.id,...r,ref:t})});HP.displayName=bw;var Vl="SelectItem",[KP,Sw]=Eo(Vl),Nw=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=rs(Vl,n),c=ss(Vl,n),u=l.value===r,[h,f]=d.useState(a??""),[m,p]=d.useState(!1),w=Pe(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,r,s)}),x=Yr(),S=d.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(KP,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(Nc.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(be.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:we(i.onFocus,()=>p(!0)),onBlur:we(i.onBlur,()=>p(!1)),onClick:we(i.onClick,()=>{S.current!=="mouse"&&g()}),onPointerUp:we(i.onPointerUp,()=>{S.current==="mouse"&&g()}),onPointerDown:we(i.onPointerDown,v=>{S.current=v.pointerType}),onPointerMove:we(i.onPointerMove,v=>{var y;S.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):S.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(i.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:we(i.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(RP.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});Nw.displayName=Vl;var Zo="SelectItemText",jw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=rs(Zo,n),l=ss(Zo,n),c=Sw(Zo,n),u=DP(Zo,n),[h,f]=d.useState(null),m=Pe(t,g=>f(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),p=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=u;return mt(()=>(x(w),()=>S(w)),[x,S,w]),o.jsxs(o.Fragment,{children:[o.jsx(be.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?So.createPortal(a.children,i.valueNode):null]})});jw.displayName=Zo;var Cw="SelectItemIndicator",kw=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Sw(Cw,n).isSelected?o.jsx(be.span,{"aria-hidden":!0,...r,ref:t}):null});kw.displayName=Cw;var Gd="SelectScrollUpButton",Ew=d.forwardRef((e,t)=>{const n=ss(Gd,e.__scopeSelect),r=Wh(Gd,e.__scopeSelect),[s,a]=d.useState(!1),i=Pe(t,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Pw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Ew.displayName=Gd;var Xd="SelectScrollDownButton",Tw=d.forwardRef((e,t)=>{const n=ss(Xd,e.__scopeSelect),r=Wh(Xd,e.__scopeSelect),[s,a]=d.useState(!1),i=Pe(t,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Pw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Tw.displayName=Xd;var Pw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=ss("SelectScrollButton",n),i=d.useRef(null),l=jc(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),mt(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(be.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:we(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:we(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:we(s.onPointerLeave,()=>{c()})})}),YP="SelectSeparator",GP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(be.div,{"aria-hidden":!0,...r,ref:t})});GP.displayName=YP;var qd="SelectArrow",XP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Cc(n),a=rs(qd,n),i=ss(qd,n);return a.open&&i.position==="popper"?o.jsx(kP,{...s,...r,ref:t}):null});XP.displayName=qd;var qP="SelectBubbleInput",Rw=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),a=Pe(r,s),i=Bh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(be.select,{...n,style:{...iw,...n.style},ref:a,defaultValue:t})});Rw.displayName=qP;function _w(e){return e===""||e===void 0}function Aw(e){const t=It(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Iw(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=QP(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function QP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var JP=lw,ZP=uw,eR=fw,tR=hw,nR=mw,rR=pw,sR=yw,oR=Nw,aR=jw,iR=kw,lR=Ew,cR=Tw;function Vh({...e}){return o.jsx(JP,{"data-slot":"select",...e})}function Hh({...e}){return o.jsx(eR,{"data-slot":"select-value",...e})}function Kh({className:e,size:t="default",children:n,...r}){return o.jsxs(ZP,{"data-slot":"select-trigger","data-size":t,className:Te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(tR,{asChild:!0,children:o.jsx(A0,{className:"size-4 opacity-50"})})]})}function Yh({className:e,children:t,position:n="popper",...r}){return o.jsx(nR,{children:o.jsxs(rR,{"data-slot":"select-content",className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(uR,{}),o.jsx(sR,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(dR,{})]})})}function Wn({className:e,children:t,...n}){return o.jsxs(oR,{"data-slot":"select-item",className:Te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(iR,{children:o.jsx(ro,{className:"size-4"})})}),o.jsx(aR,{children:t})]})}function uR({className:e,...t}){return o.jsx(lR,{"data-slot":"select-scroll-up-button",className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(pC,{className:"size-4"})})}function dR({className:e,...t}){return o.jsx(cR,{"data-slot":"select-scroll-down-button",className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(A0,{className:"size-4"})})}const fR=e=>{switch(e){case"movies":return"영화";case"tv":return"TV/드라마";case"sports":return"스포츠";default:return"콘텐츠"}};function Nu({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,a]=d.useState(""),[i,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,p]=d.useState(null),[w,x]=d.useState(!1),[S,g]=d.useState(),[v,y]=d.useState(!1),N=fR(e),C=k=>{switch(k){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},P=async(k=!1)=>{try{k?y(!0):f(!0),p(null);const L=await hs.getContents({type:C(e),query:s||void 0,sortBy:i==="latest"||i==="rating"?"RELEASE_AT":i==="title"?"TITLE":"RELEASE_AT",direction:i==="title"?"ASC":"DESC",cursor:k?S:void 0,size:20});u(k?O=>[...O,...L.data]:L.data),x(L.hasNext),g(L.nextCursor)}catch(L){console.error("콘텐츠 로드 오류:",L),p(L instanceof Error?L.message:"콘텐츠를 불러오는 중 오류가 발생했습니다.")}finally{f(!1),y(!1)}};d.useEffect(()=>{P(!1)},[e]),d.useEffect(()=>{const k=setTimeout(()=>{P(!1)},300);return()=>clearTimeout(k)},[s,i]);const R=()=>{w&&!h&&!v&&P(!0)},E=k=>({id:k.id,title:k.title,thumbnail:k.thumbnailUrl||k.thumbnail||"",type:k.contentType.toLowerCase(),duration:k.duration||"120분",description:k.description||"",rating:k.avgRating,reviewCount:k.reviewCount,year:k.year||new Date(k.releaseDate).getFullYear()}),b=k=>{r==null||r(E(k))},j=k=>{t(E(k))},D=k=>{n==null||n(E(k))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:N}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(He,{placeholder:`${N} 검색...`,value:s,onChange:k=>a(k.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Vh,{value:i,onValueChange:l,children:[o.jsx(Kh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Hh,{placeholder:"정렬"})}),o.jsxs(Yh,{children:[o.jsx(Wn,{value:"latest",children:"최신순"}),o.jsx(Wn,{value:"rating",children:"평점 높은 순"}),o.jsx(Wn,{value:"title",children:"제목순"})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?"로딩 중...":`${c.length}개 콘텐츠`}),o.jsx(hn,{variant:"outline",className:hs.getTypeColor(C(e)),children:N})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx($,{onClick:()=>P(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:"다시 시도"})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"콘텐츠를 불러오는 중..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(k=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>D(k),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[k.thumbnailUrl?o.jsx("img",{src:k.thumbnailUrl,alt:k.title,className:"w-full h-full object-cover",onError:L=>{var O;L.currentTarget.style.display="none",(O=L.currentTarget.nextElementSibling)==null||O.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${k.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:k.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:L=>{L.stopPropagation(),j(k)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),"재생"]}),o.jsx($,{size:"sm",variant:"outline",onClick:L=>{L.stopPropagation(),b(k)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:k.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:k.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[k.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:`w-4 h-4 ${k.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:k.avgRating.toFixed(2)}),k.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",k.reviewCount,")"]})]}),k.year&&o.jsx("span",{className:"text-xs text-white/60",children:k.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:k.duration}),o.jsx(hn,{variant:"outline",className:hs.getTypeColor(k.contentType),children:hs.getTypeLabel(k.contentType)})]})]})]},k.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx($,{onClick:R,disabled:v,variant:"outline",className:"border-white/20 hover:bg-white/5",children:v?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"}),"로딩 중..."]}):"더 보기"})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(gh,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"검색 결과가 없습니다.":`${N} 콘텐츠가 없습니다.`}),s&&o.jsxs($,{variant:"outline",onClick:()=>a(""),className:"border-white/20 hover:bg-white/5",children:["전체 ",N," 보기"]})]})]})]})})}class hR{constructor(){ft(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("인증 토큰이 없습니다.");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error("인증이 만료되었습니다. 다시 로그인해주세요.");return a}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`리뷰 목록 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("리뷰 목록 조회 오류:",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`리뷰 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("리뷰 조회 오류:",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok){console.log("HTTP 응답 상태:",n.status),console.log("HTTP 응답 상태 텍스트:",n.statusText);let s=`리뷰 생성에 실패했습니다. Status: ${n.status}`,a=null;try{a=await n.json(),console.log("백엔드 에러 응답:",a),s=a.message||s}catch(i){console.log("에러 응답 JSON 파싱 실패:",i);try{const l=await n.text();console.log("에러 응답 텍스트:",l),s=l||s}catch(l){console.log("에러 응답 텍스트 읽기 실패:",l)}}throw console.log("최종 에러 메시지:",s),n.status===409||n.status===400||s.includes("중복")||s.includes("이미")||s.includes("duplicate")||s.includes("already")||s.includes("DuplicateReview")?(console.log("중복 리뷰 에러로 판단됨"),new Error("DUPLICATE_REVIEW")):new Error(s)}return await n.json()}catch(n){throw console.error("리뷰 생성 오류:",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`리뷰 수정에 실패했습니다. Status: ${r.status}`);return await r.json()}catch(r){throw console.error("리뷰 수정 오류:",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`리뷰 삭제에 실패했습니다. Status: ${n.status}`)}catch(n){throw console.error("리뷰 삭제 오류:",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!n.ok)throw new Error(`사용자 리뷰 목록 조회에 실패했습니다. Status: ${n.status}`);return await n.json()}catch(n){throw console.error("사용자 리뷰 목록 조회 오류:",n),n}}}const Mi=new hR,$i=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,a]=d.useState(0),i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,h)=>{if(!t||!r)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,p=f.width,x=m<p/2?u-.5:u;r(x)},c=(u,h)=>{if(!t)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,p=f.width,x=m<p/2?u-.5:u;a(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const h=s||e,f=u-.5<=h&&u>h,m=u<=h;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(qr,{className:`${i[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?p=>l(u,p):void 0,onMouseMove:t?p=>c(u,p):void 0,onMouseLeave:t?()=>a(0):void 0}),(m||f)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${f?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(qr,{className:`${i[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function mR({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,a]=d.useState(""),[i,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(null),[S,g]=d.useState(null),[v,y]=d.useState(""),[N,C]=d.useState(0),[P,R]=d.useState(!1),[E,b]=d.useState(null),j=async()=>{f(!0);try{const I=(await Mi.getReviewsByContentId(e.id)).map(B=>({...B,contentId:e.id,createdAt:new Date().toISOString(),user:{id:B.authorId,name:B.authorName,avatar:B.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(I)}catch(T){console.error("리뷰 불러오기 실패:",T)}finally{f(!1)}},D=c.length>0?c.reduce((T,I)=>T+I.rating,0)/c.length:0,k=async()=>{if(!(!s.trim()||i===0||!r)){p(!0),x(null);try{const T={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:i},B={...await Mi.createReview(T),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([B,...c]),a(""),l(0),Wo.success("리뷰가 성공적으로 등록되었습니다")}catch(T){if(console.error("리뷰 작성 실패:",T),console.log("Error type:",typeof T),console.log("Error message:",T instanceof Error?T.message:String(T)),T instanceof Error)if(T.message==="DUPLICATE_REVIEW"){const I="이미 리뷰를 남긴 콘텐츠입니다. 한 콘텐츠당 하나의 리뷰만 작성할 수 있습니다.";x(I),alert(I),Wo.error("이미 리뷰를 남긴 콘텐츠입니다",{description:"한 콘텐츠당 하나의 리뷰만 작성할 수 있습니다."})}else if(T.message.includes("중복")||T.message.includes("이미")){const I="이미 리뷰를 남긴 콘텐츠입니다. 한 콘텐츠당 하나의 리뷰만 작성할 수 있습니다.";x(I),alert(I),Wo.error("이미 리뷰를 남긴 콘텐츠입니다",{description:"한 콘텐츠당 하나의 리뷰만 작성할 수 있습니다."})}else{const I=T.message||"리뷰 작성에 실패했습니다. 잠시 후 다시 시도해주세요.";x(I),alert(I),Wo.error("리뷰 작성에 실패했습니다",{description:T.message||"잠시 후 다시 시도해주세요."})}else{const I="리뷰 작성에 실패했습니다. 잠시 후 다시 시도해주세요.";x(I),alert(I),Wo.error("리뷰 작성에 실패했습니다",{description:"잠시 후 다시 시도해주세요."})}}finally{p(!1)}}},L=T=>{g(T),y(T.comment),C(T.rating)},O=()=>{g(null),y(""),C(0)},K=async()=>{if(!(!S||!v.trim()||N===0)){R(!0);try{const T={title:v.trim().substring(0,100),comment:v.trim(),rating:N},I=await Mi.updateReview(S.id,T);u(c.map(B=>B.id===S.id?{...B,...I}:B)),O()}catch(T){console.error("리뷰 수정 실패:",T)}finally{R(!1)}}},F=async T=>{b(T);try{await Mi.deleteReview(T),u(c.filter(I=>I.id!==T))}catch(I){console.error("리뷰 삭제 실패:",I)}finally{b(null)}};d.useEffect(()=>{e.id&&j()},[e.id]);const _=T=>{switch(T){case"movie":return"영화";case"tv":return"드라마";case"sports":return"스포츠";default:return"콘텐츠"}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs($,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(jo,{className:"w-4 h-4 mr-2"}),"뒤로가기"]}),o.jsx("h1",{className:"text-xl",children:"콘텐츠 상세정보"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:_(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(hn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:_(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||"정보 없음"})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($i,{rating:D,size:"lg"}),o.jsx("span",{className:"text-xl",children:D%1===0?D.toFixed(0):D.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length,"개 리뷰)"]})]})}),o.jsxs($,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(Et,{className:"w-5 h-5 mr-3"}),"재생하기"]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:"줄거리"}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:["리뷰 (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:"리뷰 작성"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"평점"}),o.jsx($i,{rating:i,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"리뷰 내용"}),o.jsx(Fd,{value:s,onChange:T=>{a(T.target.value),w&&x(null)},placeholder:"이 작품에 대한 솔직한 리뷰를 남겨주세요...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),w&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs($,{onClick:k,disabled:!s.trim()||i===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(vh,{className:"w-4 h-4 mr-2"}),m?"등록 중...":"리뷰 등록"]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"리뷰를 불러오는 중..."})}):c.map(T=>{var I,B,U,X;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(S==null?void 0:S.id)===T.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(ot,{children:[o.jsx(at,{src:(I=T.user)==null?void 0:I.avatar}),o.jsx(it,{children:((B=T.authorName)==null?void 0:B[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:T.authorName||"익명 사용자"}),o.jsx("span",{className:"text-white/60 text-sm",children:"리뷰 수정 중"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"평점"}),o.jsx($i,{rating:N,editable:!0,size:"lg",onChange:C})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"리뷰 내용"}),o.jsx(Fd,{value:v,onChange:ee=>y(ee.target.value),placeholder:"리뷰를 수정해주세요...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($,{onClick:K,disabled:!v.trim()||N===0||P,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:P?"수정 중...":"수정 완료"}),o.jsx($,{onClick:O,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:"취소"})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(ot,{children:[o.jsx(at,{src:(U=T.user)==null?void 0:U.avatar}),o.jsx(it,{children:((X=T.authorName)==null?void 0:X[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:T.authorName||"익명 사용자"}),o.jsx($i,{rating:T.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:T.createdAt?new Date(T.createdAt).toLocaleDateString():"방금 전"})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:T.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&T.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>L(T),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(NC,{className:"w-4 h-4 mr-1"}),"수정"]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>F(T.id),disabled:E===T.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Ml,{className:"w-4 h-4 mr-1"}),E===T.id?"삭제 중...":"삭제"]})]})})]})]})},T.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"아직 리뷰가 없습니다. 첫 번째 리뷰를 작성해보세요!"})})]})]})]})}function pR({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:a,refreshUserProfile:i,onPlaylistOpen:l}){const[c,u]=d.useState("김모플"),[h,f]=d.useState("user@moplay.kr"),[m,p]=d.useState(!1),[w,x]=d.useState(null),[S,g]=d.useState(""),[v,y]=d.useState(!1),[N,C]=d.useState(null),[P,R]=d.useState(null),[E,b]=d.useState([]),[j,D]=d.useState([]),[k,L]=d.useState(!1),[O,K]=d.useState(!1),[F,_]=d.useState("profile"),[T,I]=d.useState([]),[B,U]=d.useState(""),[X,ee]=d.useState(""),[se,xe]=d.useState(""),[ke,J]=d.useState(""),ie=r||n,fe=!!(r&&r!==n);d.useEffect(()=>{e&&(C(null),ie?(he(),le(),pe(),Xe(),fe&&Ce()):C("사용자 정보가 없습니다. 다시 로그인해주세요."))},[e,ie,fe]);const he=async()=>{try{const M=await s(`http://localhost:8080/api/users/${ie}`);if(!M.ok)throw new Error("사용자 정보를 가져오는데 실패했습니다.");const W=await M.json();R(W),u(W.name),f(W.email)}catch(M){console.error("사용자 정보 로딩 오류:",M),C("사용자 정보를 가져오는데 실패했습니다.")}},le=async()=>{try{const M=await s(`http://localhost:8080/api/follows/${ie}/followers`);if(!M.ok)throw new Error("팔로워 목록을 가져오는데 실패했습니다.");const W=await M.json();b(W)}catch(M){console.error("팔로워 목록 조회 오류:",M),b([])}},pe=async()=>{try{const M=await s(`http://localhost:8080/api/follows/${ie}/following`);if(!M.ok)throw new Error("팔로잉 목록을 가져오는데 실패했습니다.");const W=await M.json();D(W)}catch(M){console.error("팔로잉 목록 조회 오류:",M),D([])}},Ce=async()=>{if(!(!n||!ie))try{const M=await s(`http://localhost:8080/api/follows/${n}/is-following/${ie}`);if(!M.ok)throw new Error("팔로우 상태를 확인하는데 실패했습니다.");const W=await M.json();L(W)}catch(M){console.error("팔로우 상태 확인 오류:",M),L(!1)}},Me=async()=>{if(!(!n||!ie)){K(!0);try{if(k){if(!(await s(`http://localhost:8080/api/follows/${ie}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("언팔로우에 실패했습니다.");L(!1),b(W=>W.filter(re=>re.id!==n))}else{const M=new FormData;if(M.append("followerId",n),M.append("followingId",ie),!(await s("http://localhost:8080/api/follows",{method:"POST",body:M})).ok)throw new Error("팔로우에 실패했습니다.");L(!0),P&&b(re=>[...re,{id:n,name:"나",email:"",profileImage:""}])}}catch(M){console.error("팔로우 처리 오류:",M),alert(M instanceof Error?M.message:"팔로우 처리 중 오류가 발생했습니다.")}finally{K(!1)}}},Xe=async()=>{if(ie)try{const M=await s(`http://localhost:8080/api/users/${ie}/playlists`);if(!M.ok)throw new Error("플레이리스트 목록을 가져오는데 실패했습니다.");const W=await M.json(),re=fe?W.filter(ue=>ue.isPublic):W;I(re)}catch(M){console.error("플레이리스트 목록 조회 오류:",M),I([])}},A=M=>{a&&(t(),a(M))},Y=M=>{M?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(M)?xe(""):xe("비밀번호는 8자 이상이며, 숫자, 영문, 특수문자를 포함해야 합니다."):xe("")},ne=M=>{J(M!==B?"비밀번호가 일치하지 않습니다.":"")},q=async()=>{y(!0),C(null);try{if(!n){C("사용자 정보가 없습니다. 다시 로그인해주세요."),y(!1);return}if(!S.trim()){C("프로필 수정을 위해 현재 비밀번호를 입력해주세요."),y(!1);return}if(B){if(se||ke){C("새 비밀번호 입력 조건을 확인해주세요."),y(!1);return}if(!X){C("비밀번호 확인을 입력해주세요."),y(!1);return}if(B!==X){C("비밀번호가 일치하지 않습니다."),y(!1);return}}const M=new FormData,W={newName:c,currentPassword:S};B&&(W.newPassword=B),console.log("Request data:",W);const re=new Blob([JSON.stringify(W)],{type:"application/json"});M.append("request",re),w&&(M.append("profile",w),console.log("Profile image added:",w.name)),console.log("FormData entries:");for(let[Ee,Se]of M.entries())console.log(Ee,Se);const ue=await fetch(`http://localhost:8080/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:M});if(!ue.ok){const Ee=await ue.json();throw new Error(Ee.message||"프로필 업데이트에 실패했습니다.")}const ve=await ue.json();R(ve),u(ve.name),f(ve.email),x(null),await he(),alert("프로필이 성공적으로 업데이트되었습니다."),i&&i(),g(""),t()}catch(M){console.error("프로필 업데이트 오류:",M),C(M instanceof Error?M.message:"프로필 업데이트 중 오류가 발생했습니다.")}finally{y(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:fe?`${(P==null?void 0:P.name)||"사용자"}의 프로필`:"프로필 관리"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[fe&&o.jsx($,{onClick:Me,disabled:O,className:`${k?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:O?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):k?o.jsxs(o.Fragment,{children:[o.jsx(O0,{className:"w-4 h-4"}),o.jsx("span",{children:"언팔로우"})]}):o.jsxs(o.Fragment,{children:[o.jsx(yh,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로우"})]})}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(_n,{className:"w-5 h-5"})})]})]}),N&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:N}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(ot,{className:"h-20 w-20 mb-4",children:[o.jsx(at,{src:w?URL.createObjectURL(w):P==null?void 0:P.profileImage}),o.jsx(it,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!fe&&o.jsx($,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>p(!m),children:o.jsx(_0,{className:"w-4 h-4"})})]}),m&&!fe&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(ry,{selectedImage:w,onImageSelect:x,onClose:()=>p(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:E.length}),o.jsx("div",{className:"text-sm text-white/60",children:"팔로워"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:j.length}),o.jsx("div",{className:"text-sm text-white/60",children:"팔로잉"})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx($,{variant:F==="profile"?"default":"ghost",size:"sm",onClick:()=>_("profile"),className:F==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:"프로필"}),o.jsxs($,{variant:F==="followers"?"default":"ghost",size:"sm",onClick:()=>_("followers"),className:`${F==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Ft,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로워"})]}),o.jsxs($,{variant:F==="following"?"default":"ghost",size:"sm",onClick:()=>_("following"),className:`${F==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(mr,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로잉"})]}),o.jsxs($,{variant:F==="playlists"?"default":"ghost",size:"sm",onClick:()=>_("playlists"),className:`${F==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(fu,{className:"w-4 h-4"}),o.jsx("span",{children:"플레이리스트"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[F==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"name",className:"text-sm",children:"이름"}),o.jsx(He,{id:"name",value:c,onChange:M=>u(M.target.value),disabled:fe,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${fe?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"email",className:"text-sm",children:"이메일"}),o.jsx(He,{id:"email",value:h,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!fe&&o.jsxs("div",{children:[o.jsxs(Dt,{htmlFor:"password",className:"text-sm",children:["현재 비밀번호",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(He,{id:"password",type:"password",value:S,onChange:M=>g(M.target.value),placeholder:"프로필 수정을 위해 현재 비밀번호를 입력하세요",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"회원 정보를 안전하게 변경하려면 비밀번호를 다시 입력해주세요."}),!fe&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-4",children:[o.jsx(Dt,{htmlFor:"newPassword",className:"text-sm",children:"새 비밀번호 (선택)"}),o.jsx(He,{id:"newPassword",type:"password",value:B,onChange:M=>{const W=M.target.value;U(W),Y(W)},placeholder:"새 비밀번호를 입력하세요 (선택)",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),se&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:se})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Dt,{htmlFor:"confirmPassword",className:"text-sm",children:"새 비밀번호 확인"}),o.jsx(He,{id:"confirmPassword",type:"password",value:X,onChange:M=>{const W=M.target.value;ee(W),ne(W)},placeholder:"새 비밀번호를 다시 입력하세요",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),ke&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:ke})]})]})]})]}),F==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[E.map(M=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>M.id&&A(M.id),children:[o.jsxs(ot,{className:"h-10 w-10",children:[o.jsx(at,{src:M.profileImage}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.name}),o.jsx("p",{className:"text-white/60 text-sm",children:M.email})]})]},M.id)),E.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ft,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"팔로워가 없습니다."})]})]}),F==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[j.map(M=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>M.id&&A(M.id),children:[o.jsxs(ot,{className:"h-10 w-10",children:[o.jsx(at,{src:M.profileImage}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.name}),o.jsx("p",{className:"text-white/60 text-sm",children:M.email})]})]},M.id)),j.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(mr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"팔로잉이 없습니다."})]})]}),F==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[T.map(M=>{var W;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l(M.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:M.thumbnail?o.jsx("img",{src:M.thumbnail,alt:M.title||M.name,className:"w-full h-full object-cover"}):o.jsx(fu,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.title||M.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[M.contentCount||((W=M.playlistContents)==null?void 0:W.length)||0,"개 콘텐츠",M.isPublic?" • 공개":" • 비공개"]})]})]},M.id)}),T.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fu,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:fe?"플레이리스트가 없습니다.":"아직 만든 플레이리스트가 없습니다."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx($,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:v,children:fe?"닫기":"취소"}),!fe&&o.jsx($,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:q,disabled:v||!n,children:v?"저장 중...":"저장"})]})]})]}):null}class gR{constructor(t){ft(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t="http://localhost:8080/api/dmRooms/";console.log("🔍 모든 DM 룸 조회 요청:",{url:t});const n=await this.authenticatedFetch(t);if(!n.ok)throw console.error("❌ DM 룸 조회 실패:",n.status,n.statusText),new Error(`Failed to fetch DM rooms: ${n.status} ${n.statusText}`);const r=await n.json();return console.log("✅ DM 룸 조회 성공:",r),r}async getRoom(t){const n=`http://localhost:8080/api/dmRooms/${t}`;console.log("🔍 DM 룸 조회 요청:",{dmRoomId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error("❌ DM 룸 조회 실패:",r.status,r.statusText),new Error(`Failed to fetch DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log("✅ DM 룸 조회 성공:",s),s}async getOrCreateRoom(t){const n=`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`;console.log("🔍 DM 룸 생성/조회 요청:",{userBId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error("❌ DM 룸 생성/조회 실패:",r.status,r.statusText),new Error(`Failed to get or create DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log("✅ DM 룸 생성/조회 성공:",s),s}async getDmMessages(t,n){const r=new URLSearchParams;n!=null&&n.cursor&&r.append("cursor",n.cursor),n!=null&&n.size&&r.append("size",n.size.toString());const s=`http://localhost:8080/api/dmRooms/${t}/dms${r.toString()?"?"+r.toString():""}`;console.log("🔍 DM 메시지 조회 요청:",{roomId:t,pagingDto:n,url:s});const a=await this.authenticatedFetch(s);if(!a.ok)throw console.error("❌ DM 메시지 조회 실패:",a.status,a.statusText),new Error(`Failed to fetch DM messages: ${a.status} ${a.statusText}`);const i=await a.json();return console.log("✅ DM 메시지 조회 성공:",i),i}async getFollowing(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}var Dw="AlertDialog",[vR,L5]=On(Dw,[xy]),br=xy(),Ow=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Dy,{...r,...n,modal:!0})};Ow.displayName=Dw;var xR="AlertDialogTrigger",yR=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Z4,{...s,...r,ref:t})});yR.displayName=xR;var wR="AlertDialogPortal",Lw=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Oy,{...r,...n})};Lw.displayName=wR;var bR="AlertDialogOverlay",Mw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Ly,{...s,...r,ref:t})});Mw.displayName=bR;var ao="AlertDialogContent",[SR,NR]=vR(ao),jR=dk("AlertDialogContent"),$w=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=br(n),i=d.useRef(null),l=Pe(t,i),c=d.useRef(null);return o.jsx(X4,{contentName:ao,titleName:zw,docsSlug:"alert-dialog",children:o.jsx(SR,{scope:n,cancelRef:c,children:o.jsxs(My,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:we(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(jR,{children:r}),o.jsx(kR,{contentRef:i})]})})})});$w.displayName=ao;var zw="AlertDialogTitle",Fw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx($y,{...s,...r,ref:t})});Fw.displayName=zw;var Uw="AlertDialogDescription",Bw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(eT,{...s,...r,ref:t})});Bw.displayName=Uw;var CR="AlertDialogAction",Ww=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Rh,{...s,...r,ref:t})});Ww.displayName=CR;var Vw="AlertDialogCancel",Hw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=NR(Vw,n),a=br(n),i=Pe(t,s);return o.jsx(Rh,{...a,...r,ref:i})});Hw.displayName=Vw;var kR=({contentRef:e})=>{const t=`\`${ao}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ao}\` by passing a \`${Uw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ao}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ER=Ow,TR=Lw,PR=Mw,RR=$w,_R=Ww,AR=Hw,IR=Fw,DR=Bw;function Gh({...e}){return o.jsx(ER,{"data-slot":"alert-dialog",...e})}function OR({...e}){return o.jsx(TR,{"data-slot":"alert-dialog-portal",...e})}function LR({className:e,...t}){return o.jsx(PR,{"data-slot":"alert-dialog-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Xh({className:e,...t}){return o.jsxs(OR,{children:[o.jsx(LR,{}),o.jsx(RR,{"data-slot":"alert-dialog-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function qh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:Te("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Qh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:Te("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Jh({className:e,...t}){return o.jsx(IR,{"data-slot":"alert-dialog-title",className:Te("text-lg font-semibold",e),...t})}function Zh({className:e,...t}){return o.jsx(DR,{"data-slot":"alert-dialog-description",className:Te("text-muted-foreground text-sm",e),...t})}function em({className:e,...t}){return o.jsx(_R,{className:Te(bh(),e),...t})}function Kw({className:e,...t}){return o.jsx(AR,{className:Te(bh({variant:"outline"}),e),...t})}function MR({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:a,getOrCreateDmRoom:i}){const[l,c]=d.useState(""),[u,h]=d.useState(!1),[f,m]=d.useState([]),[p,w]=d.useState([]),[x,S]=d.useState(!1),[g,v]=d.useState(null),[y,N]=d.useState(!1),[C,P]=d.useState(null),[R,E]=d.useState(!1),b=new gR(r),j=f.filter(U=>U.name.toLowerCase().includes(l.toLowerCase())),D=p.filter(U=>U.name.toLowerCase().includes(l.toLowerCase())),k=U=>{console.log(`Opening conversation with ${U.name}`),n({id:U.userId,name:U.name,avatar:U.avatar,isOnline:U.isOnline,roomId:U.id})},L=()=>{h(!0),c("")},O=()=>{h(!1),c("")},K=async U=>{try{S(!0);const X=await i(U.id);console.log(`Starting new conversation with ${U.name}, room: ${X}`),n({id:U.id,name:U.name,avatar:U.avatar,isOnline:U.isOnline,roomId:X}),h(!1),c("")}catch(X){console.error("Error starting conversation:",X),v("대화를 시작할 수 없습니다.")}finally{S(!1)}},F=(U,X)=>{U.stopPropagation(),P(X),N(!0)},_=async()=>{if(C)try{if(E(!0),!(await r(`http://localhost:8080/api/dmRooms/${C}`,{method:"DELETE"})).ok)throw new Error("DM 방 삭제 실패");await I(),N(!1),P(null)}catch(U){console.error("Error deleting DM room:",U),v("채팅방을 삭제할 수 없습니다.")}finally{E(!1)}},T=()=>{N(!1),P(null)};d.useEffect(()=>{e&&s&&(I(),B())},[e,s]);const I=async()=>{try{S(!0),v(null);const X=(await a()).map(ee=>{const se=ee.senderId===s?{id:ee.receiverId,name:ee.receiverName,avatar:"",isOnline:!1}:{id:ee.senderId,name:ee.senderName,avatar:"",isOnline:!1},xe=ke=>{const J=new Date(ke),fe=new Date().getTime()-J.getTime(),he=Math.floor(fe/(1e3*60)),le=Math.floor(fe/(1e3*60*60)),pe=Math.floor(fe/(1e3*60*60*24));return he<1?"방금 전":he<60?`${he}분 전`:le<24?`${le}시간 전`:pe===1?"어제":`${pe}일 전`};return{id:ee.id,userId:(se==null?void 0:se.id)||"",name:(se==null?void 0:se.name)||"알 수 없는 사용자",avatar:(se==null?void 0:se.avatar)||"",lastMessage:ee.lastMessage||"아직 메시지가 없습니다",timestamp:(ee.lastMessage,xe(ee.createdAt)),unreadCount:ee.newMessageCount||0,isOnline:(se==null?void 0:se.isOnline)||!1}});m(X)}catch(U){console.error("Error loading DM rooms:",U),v("대화 목록을 불러올 수 없습니다.")}finally{S(!1)}},B=async()=>{if(s)try{const X=(await b.getFollowing(s)).map(ee=>({id:ee.id,name:ee.name||"알 수 없는 사용자",avatar:ee.profileImage||"",isOnline:!1,mutualFriends:0}));w(X)}catch(U){console.error("Error loading chat partners:",U)}};return e?o.jsxs("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[u&&o.jsx($,{variant:"ghost",size:"sm",onClick:O,className:"p-1 hover:bg-white/10",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:u?"대화상대 선택":"메시지"})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(_n,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(He,{placeholder:"대화상대 검색...",value:l,onChange:U=>c(U.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u?o.jsx(o.Fragment,{children:D.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"검색 결과가 없습니다":"대화상대가 없습니다"}):o.jsx("div",{className:"space-y-1 p-2",children:D.map(U=>o.jsxs("div",{onClick:()=>K(U),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(ot,{className:"h-14 w-14",children:[o.jsx(at,{src:U.avatar}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:U.name.charAt(0)})]}),U.isOnline&&o.jsx(zp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:U.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["공통 팔로우 ",U.mutualFriends,"명"]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:U.isOnline?"온라인":"오프라인"})]},U.id))})}):o.jsxs(o.Fragment,{children:[x&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"대화 목록을 불러오는 중..."}),g&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:g}),!x&&!g&&j.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"검색 결과가 없습니다":"대화가 없습니다"}),!x&&!g&&j.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:j.map(U=>o.jsxs("div",{onClick:()=>k(U),className:"group flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(ot,{className:"h-14 w-14",children:[o.jsx(at,{src:U.avatar}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:U.name.charAt(0)})]}),U.isOnline&&o.jsx(zp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:U.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:U.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:U.lastMessage}),U.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:U.unreadCount>9?"9+":U.unreadCount})]})]}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:o.jsx($,{variant:"ghost",size:"sm",onClick:X=>F(X,U.id),className:"p-2 hover:bg-red-500/20 text-white/60 hover:text-red-400",children:o.jsx(Ml,{className:"w-4 h-4"})})})]},U.id))})]})}),!u&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs($,{onClick:L,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Ft,{className:"w-5 h-5 mr-2"}),"새 메시지"]})})]}),o.jsx(Gh,{open:y,onOpenChange:N,children:o.jsxs(Xh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(qh,{children:[o.jsx(Jh,{className:"text-white",children:"채팅방 나가기"}),o.jsx(Zh,{className:"text-white/70",children:"채팅방을 나가시겠습니까? 나가면 다시 볼 수 없습니다."})]}),o.jsxs(Qh,{children:[o.jsx(Kw,{onClick:T,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:"취소"}),o.jsx(em,{onClick:_,disabled:R,className:"bg-red-600 hover:bg-red-700 text-white",children:R?"삭제 중...":"나가기"})]})]})})]}):null}function $R(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var tm="ScrollArea",[Yw,M5]=On(tm),[zR,vn]=Yw(tm),Gw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[p,w]=d.useState(null),[x,S]=d.useState(null),[g,v]=d.useState(0),[y,N]=d.useState(0),[C,P]=d.useState(!1),[R,E]=d.useState(!1),b=Pe(t,D=>c(D)),j=Ga(s);return o.jsx(zR,{scope:n,type:r,dir:j,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:R,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:N,children:o.jsx(be.div,{dir:j,...i,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});Gw.displayName=tm;var Xw="ScrollAreaViewport",qw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=vn(Xw,n),l=d.useRef(null),c=Pe(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(be.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});qw.displayName=Xw;var er="ScrollAreaScrollbar",Qw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=vn(er,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(FR,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(UR,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(Jw,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(nm,{...r,ref:t}):null});Qw.displayName=er;var FR=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=vn(er,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(wr,{present:n||a,children:o.jsx(Jw,{"data-state":a?"visible":"hidden",...r,ref:t})})}),UR=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=vn(er,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Ec(()=>c("SCROLL_END"),100),[l,c]=$R("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=a?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const p=u[h];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(wr,{present:n||l!=="hidden",children:o.jsx(nm,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:we(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Jw=d.forwardRef((e,t)=>{const n=vn(er,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=Ec(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:h)}},10);return xo(n.viewport,c),xo(n.content,c),o.jsx(wr,{present:r||a,children:o.jsx(nm,{"data-state":a?"visible":"hidden",...s,ref:t})})}),nm=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=vn(er,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rb(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return YR(m,i.current,l,p)}return n==="horizontal"?o.jsx(BR,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=Sg(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(WR,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=Sg(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),BR=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=vn(er,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Pe(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(eb,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kc(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),ob(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Kl(i.paddingLeft),paddingEnd:Kl(i.paddingRight)}})}})}),WR=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=vn(er,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Pe(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(eb,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kc(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),ob(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Kl(i.paddingTop),paddingEnd:Kl(i.paddingBottom)}})}})}),[VR,Zw]=Yw(er),eb=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,p=vn(er,n),[w,x]=d.useState(null),S=Pe(t,b=>x(b)),g=d.useRef(null),v=d.useRef(""),y=p.viewport,N=r.content-r.viewport,C=It(h),P=It(c),R=Ec(f,10);function E(b){if(g.current){const j=b.clientX-g.current.left,D=b.clientY-g.current.top;u({x:j,y:D})}}return d.useEffect(()=>{const b=j=>{const D=j.target;(w==null?void 0:w.contains(D))&&C(j,N)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[y,w,N,C]),d.useEffect(P,[r,P]),xo(w,R),xo(p.content,R),o.jsx(VR,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:It(a),onThumbPointerUp:It(i),onThumbPositionChange:P,onThumbPointerDown:It(l),children:o.jsx(be.div,{...m,ref:S,style:{position:"absolute",...m.style},onPointerDown:we(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(b))}),onPointerMove:we(e.onPointerMove,E),onPointerUp:we(e.onPointerUp,b=>{const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),Hl="ScrollAreaThumb",tb=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Zw(Hl,e.__scopeScrollArea);return o.jsx(wr,{present:n||s.hasThumb,children:o.jsx(HR,{ref:t,...r})})}),HR=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=vn(Hl,n),i=Zw(Hl,n),{onThumbPositionChange:l}=i,c=Pe(t,f=>i.onThumbChange(f)),u=d.useRef(void 0),h=Ec(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(h(),!u.current){const p=GR(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,h,l]),o.jsx(be.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:we(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,x=f.clientY-p.top;i.onThumbPointerDown({x:w,y:x})}),onPointerUp:we(e.onPointerUp,i.onThumbPointerUp)})});tb.displayName=Hl;var rm="ScrollAreaCorner",nb=d.forwardRef((e,t)=>{const n=vn(rm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(KR,{...e,ref:t}):null});nb.displayName=rm;var KR=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=vn(rm,n),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return xo(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),xo(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),i(h)}),u?o.jsx(be.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kl(e){return e?parseInt(e,10):0}function rb(e,t){const n=e/t;return isNaN(n)?0:n}function kc(e){const t=rb(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function YR(e,t,n,r="ltr"){const s=kc(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return sb([c,u],f)(e)}function Sg(e,t,n="ltr"){const r=kc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Aa(e,c);return sb([0,i],[0,l])(u)}function sb(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ob(e,t){return e>0&&e<t}var GR=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ec(e,t){const n=It(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function xo(e,t){const n=It(t);mt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var XR=Gw,qR=qw,QR=nb;function JR({className:e,children:t,...n}){return o.jsxs(XR,{"data-slot":"scroll-area",className:Te("relative",e),...n,children:[o.jsx(qR,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(ZR,{}),o.jsx(QR,{})]})}function ZR({className:e,orientation:t="vertical",...n}){return o.jsx(Qw,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Te("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(tb,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function e_(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=i=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),a==null||a.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const ea={LF:`
`,NULL:"\0"};class Dr{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=a=>a.replace(/^\s+|\s+$/g,"");for(const a of t.headers.reverse()){a.indexOf(":");const i=s(a[0]);let l=s(a[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=Dr.hdrValueUnEscape(l)),r[i]=l}return new Dr({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Dr.toUnit8Array(t,this._binaryBody).buffer:t+this._body+ea.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${Dr.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(ea.LF)+ea.LF+ea.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),a=new Uint8Array(r.length+n.length+s.length);return a.set(r),a.set(n,r.length),a.set(s,r.length+n.length),a}static marshall(t){return new Dr(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const Ng=0,zi=10,Fi=13,t_=58;class n_{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const a=r[s];this._onByte(a)}}_collectFrame(t){if(t!==Ng&&t!==Fi){if(t===zi){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Fi){if(t===zi){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Fi){if(t===zi){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===t_){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Fi){if(t===zi){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===Ng){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Or;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Or||(Or={}));var Nn;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Nn||(Nn={}));var Yl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Yl||(Yl={}));var Oa;(function(e){e.Interval="interval",e.Worker="worker"})(Oa||(Oa={}));class r_{constructor(t,n=Oa.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Oa.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class zt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}zt.V1_0="1.0";zt.V1_1="1.1";zt.V1_2="1.2";zt.default=new zt([zt.V1_2,zt.V1_1,zt.V1_0]);class s_{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===zt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const a=s.headers.subscription,i=this._subscriptions[a]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===zt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,a,h),l.nack=(h={})=>c.nack(u,a,h),i(l)},RECEIPT:s=>{const a=this._receiptWatchers[s.headers["receipt-id"]];a?(a(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new n_(n=>{const r=Dr.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==zt.V1_1&&t.version!==zt.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new r_(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Or.OPEN&&(this._webSocket.send(ea.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>s*2&&(this.debug(`did not receive server activity for the last ${a}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Or.CONNECTING||this._webSocket.readyState===Or.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&e_(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=new Dr({command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Or.CONNECTING||this._webSocket.readyState===Or.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:a,skipContentLengthHeader:i})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(a){return s.unsubscribe(r.id,a)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===zt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===zt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class ab{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Nn.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=zt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Yl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Oa.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Nn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Nn.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Nn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new s_(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Nn.DEACTIVATING&&this._changeState(Nn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Yl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var a;const n=t.force||!1,r=this.active;let s;if(this.state===Nn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Nn.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Or.CLOSED){const i=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState(Nn.INACTIVE),Promise.resolve();return n?(a=this._stompHandler)==null||a.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var ib={exports:{}},Qd={};globalThis.crypto&&globalThis.crypto.getRandomValues?Qd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Qd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var o_=Qd,jg="abcdefghijklmnopqrstuvwxyz012345",To={string:function(e){for(var t=jg.length,n=o_.randomBytes(e),r=[],s=0;s<e;s++)r.push(jg.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=To,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,l),globalThis.attachEvent("on"+i,l))},detachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,l),globalThis.detachEvent("on"+i,l))},unloadAdd:function(i){if(s)return null;var l=t.string(8);return n[l]=i,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in n&&delete n[i]},triggerUnloadCallbacks:function(){for(var i in n)n[i](),delete n[i]}};var a=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)})(ib);var os=ib.exports,a_=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},sm={},i_=Object.prototype.hasOwnProperty,l_;function Cg(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function kg(e){try{return encodeURIComponent(e)}catch{return null}}function c_(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=Cg(r[1]),a=Cg(r[2]);s===null||a===null||s in n||(n[s]=a)}return n}function u_(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(i_.call(e,s)){if(r=e[s],!r&&(r===null||r===l_||isNaN(r))&&(r=""),s=kg(s),r=kg(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}sm.stringify=u_;sm.parse=c_;var lb=a_,Tc=sm,d_=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,cb=/[\n\r\t]/g,f_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ub=/:\d+$/,h_=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,m_=/^[a-zA-Z]:/;function om(e){return(e||"").toString().replace(d_,"")}var Jd=[["#","hash"],["?","query"],function(t,n){return Yn(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Eg={hash:1,query:1};function db(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,a;if(e.protocol==="blob:")r=new qn(unescape(e.pathname),{});else if(s==="string"){r=new qn(e,{});for(a in Eg)delete r[a]}else if(s==="object"){for(a in e)a in Eg||(r[a]=e[a]);r.slashes===void 0&&(r.slashes=f_.test(e.href))}return r}function Yn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function fb(e,t){e=om(e),e=e.replace(cb,""),t=t||{};var n=h_.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],a=!!n[3],i=0,l;return s?a?(l=n[2]+n[3]+n[4],i=n[2].length+n[3].length):(l=n[2]+n[4],i=n[2].length):a?(l=n[3]+n[4],i=n[3].length):l=n[4],r==="file:"?i>=2&&(l=l.slice(2)):Yn(r)?l=n[4]:r?s&&(l=l.slice(2)):i>=2&&Yn(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||Yn(r),slashesCount:i,rest:l}}function p_(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],a=!1,i=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),i++):i&&(r===0&&(a=!0),n.splice(r,1),i--);return a&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function qn(e,t,n){if(e=om(e),e=e.replace(cb,""),!(this instanceof qn))return new qn(e,t,n);var r,s,a,i,l,c,u=Jd.slice(),h=typeof t,f=this,m=0;for(h!=="object"&&h!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Tc.parse),t=db(t),s=fb(e||"",t),r=!s.protocol&&!s.slashes,f.slashes=s.slashes||r&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||m_.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Yn(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(i=u[m],typeof i=="function"){e=i(e,f);continue}a=i[0],c=i[1],a!==a?f[c]=e:typeof a=="string"?(l=a==="@"?e.lastIndexOf(a):e.indexOf(a),~l&&(typeof i[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+i[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=a.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||r&&i[3]&&t[c]||"",i[4]&&(f[c]=f[c].toLowerCase())}n&&(f.query=n(f.query)),r&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=p_(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&Yn(f.protocol)&&(f.pathname="/"+f.pathname),lb(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&Yn(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function g_(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Tc.parse)(t)),r[e]=t;break;case"port":r[e]=t,lb(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,ub.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(r.username=t.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var i=0;i<Jd.length;i++){var l=Jd[i];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&Yn(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function v_(e){(!e||typeof e!="function")&&(e=Tc.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var a=s+(n.protocol&&n.slashes||Yn(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):n.protocol!=="file:"&&Yn(n.protocol)&&!r&&n.pathname!=="/"&&(a+="@"),(r[r.length-1]===":"||ub.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(a+=n.hash),a}qn.prototype={set:g_,toString:v_};qn.extractProtocol=fb;qn.location=db;qn.trimLeft=om;qn.qs=Tc;var hb=qn,x_=hb,xn={getOrigin:function(e){if(!e)return null;var t=new x_(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Zd={exports:{}};typeof Object.create=="function"?Zd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Zd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var Le=Zd.exports,Lt={};function Pc(){this._listeners={}}Pc.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};Pc.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};Pc.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var mb=Pc,y_=Le,Rc=mb;function Zr(){Rc.call(this)}y_(Zr,Rc);Zr.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Zr.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Zr.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var a=0;a<t.length;a++)t[a].apply(this,r)}};Zr.prototype.on=Zr.prototype.addListener=Rc.prototype.addEventListener;Zr.prototype.removeListener=Rc.prototype.removeEventListener;Lt.EventEmitter=Zr;var ef={exports:{}},Tg=globalThis.WebSocket||globalThis.MozWebSocket;Tg?ef.exports=function(t){return new Tg(t)}:ef.exports=void 0;var w_=ef.exports,pb=os,b_=xn,S_=Le,gb=Lt.EventEmitter,vb=w_,Pg=function(){};function Sr(e,t,n){if(!Sr.enabled())throw new Error("Transport created when disabled");gb.call(this);var r=this,s=b_.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new vb(this.url,[],n),this.ws.onmessage=function(a){Pg("message event",a.data),r.emit("message",a.data)},this.unloadRef=pb.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(a){Pg("close event",a.code,a.reason),r.emit("close",a.code,a.reason),r._cleanup()},this.ws.onerror=function(a){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}S_(Sr,gb);Sr.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};Sr.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};Sr.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),pb.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Sr.enabled=function(){return!!vb};Sr.transportName="websocket";Sr.roundTrips=2;var N_=Sr,j_=Le,xb=Lt.EventEmitter,C_=function(){};function Rs(e,t){xb.call(this),this.sendBuffer=[],this.sender=t,this.url=e}j_(Rs,xb);Rs.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};Rs.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};Rs.prototype.sendSchedule=function(){C_("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};Rs.prototype._cleanup=function(){this.removeAllListeners()};Rs.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var k_=Rs,E_=Le,yb=Lt.EventEmitter,T_=function(){};function _c(e,t,n){yb.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}E_(_c,yb);_c.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){T_("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};_c.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var P_=_c,R_=Le,__=xn,am=k_,A_=P_;function im(e,t,n,r,s){var a=__.addPath(e,t),i=this;am.call(this,e,n),this.poll=new A_(r,a,s),this.poll.on("message",function(l){i.emit("message",l)}),this.poll.once("close",function(l,c){i.poll=null,i.emit("close",l,c),i.close()})}R_(im,am);im.prototype.close=function(){am.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var wb=im,I_=Le,D_=xn,bb=wb;function O_(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var a=D_.addPath(t,"/xhr_send"),i=new e("POST",a,n,s);return i.once("finish",function(l){if(i=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){i.close(),i=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function Sb(e,t,n,r){bb.call(this,e,t,O_(r),n,r)}I_(Sb,bb);var Po=Sb,L_=Le,Nb=Lt.EventEmitter;function qa(e,t){Nb.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var a=r===200?"network":"permanent";n.emit("close",null,a),n._cleanup()})}L_(qa,Nb);qa.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};qa.prototype._cleanup=function(){this.removeAllListeners()};qa.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Ac=qa,jb=Lt.EventEmitter,M_=Le,Cb=os,$_=xn,La=globalThis.XMLHttpRequest,ju=function(){};function Qn(e,t,n,r){var s=this;jb.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}M_(Qn,jb);Qn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new La}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=$_.addQuery(t,"t="+ +new Date),this.unloadRef=Cb.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){ju("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Qn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var a in r.headers)this.xhr.setRequestHeader(a,r.headers[a]);this.xhr.onreadystatechange=function(){if(s.xhr){var i=s.xhr,l,c;switch(ju("readyState",i.readyState),i.readyState){case 3:try{c=i.status,l=i.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=i.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),ju("finish",c,i.responseText),s.emit("finish",c,i.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Qn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Cb.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Qn.prototype.close=function(){this._cleanup(!0)};Qn.enabled=!!La;var Rg=["Active"].concat("Object").join("X");!Qn.enabled&&Rg in globalThis&&(La=function(){try{return new globalThis[Rg]("Microsoft.XMLHTTP")}catch{return null}},Qn.enabled=!!new La);var kb=!1;try{kb="withCredentials"in new La}catch{}Qn.supportsCORS=kb;var Eb=Qn,z_=Le,Gl=Eb;function lm(e,t,n,r){Gl.call(this,e,t,n,r)}z_(lm,Gl);lm.enabled=Gl.enabled&&Gl.supportsCORS;var Ic=lm,F_=Le,cm=Eb;function um(e,t,n){cm.call(this,e,t,n,{noCredentials:!0})}F_(um,cm);um.enabled=cm.enabled;var Qa=um,Ja={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},U_=Le,Tb=Po,B_=Ac,tf=Ic,W_=Qa,V_=Ja;function Ro(e){if(!W_.enabled&&!tf.enabled)throw new Error("Transport created when disabled");Tb.call(this,e,"/xhr_streaming",B_,tf)}U_(Ro,Tb);Ro.enabled=function(e){return e.nullOrigin||V_.isOpera()?!1:tf.enabled};Ro.transportName="xhr-streaming";Ro.roundTrips=2;Ro.needBody=!!globalThis.document;var H_=Ro,Pb=Lt.EventEmitter,K_=Le,Rb=os,Y_=Ja,G_=xn,X_=function(){};function _s(e,t,n){var r=this;Pb.call(this),setTimeout(function(){r._start(e,t,n)},0)}K_(_s,Pb);_s.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=G_.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){X_("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=Rb.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};_s.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};_s.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Rb.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};_s.prototype.close=function(){this._cleanup(!0)};_s.enabled=!!(globalThis.XDomainRequest&&Y_.hasDomain());var dm=_s,q_=Le,_b=Po,Q_=Ac,nf=dm;function Za(e){if(!nf.enabled)throw new Error("Transport created when disabled");_b.call(this,e,"/xhr_streaming",Q_,nf)}q_(Za,_b);Za.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:nf.enabled&&e.sameScheme};Za.transportName="xdr-streaming";Za.roundTrips=2;var Ab=Za,Ib=globalThis.EventSource,J_=Le,Db=Lt.EventEmitter,Z_=Ib,_g=function(){};function ei(e){Db.call(this);var t=this,n=this.es=new Z_(e);n.onmessage=function(r){_g("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){_g("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}J_(ei,Db);ei.prototype.abort=function(){this._cleanup(),this._close("user")};ei.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};ei.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var eA=ei,tA=Le,Ob=Po,nA=eA,rA=Ic,sA=Ib;function _o(e){if(!_o.enabled())throw new Error("Transport created when disabled");Ob.call(this,e,"/eventsource",nA,rA)}tA(_o,Ob);_o.enabled=function(){return!!sA};_o.transportName="eventsource";_o.roundTrips=2;var Ag=_o,Cu,Ig;function Lb(){return Ig||(Ig=1,Cu="1.6.1"),Cu}var ku={exports:{}},Dg;function ti(){return Dg||(Dg=1,function(e){var t=os,n=Ja;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var a=globalThis.document.createElement("iframe"),i,l,c=function(){clearTimeout(i);try{a.onload=null}catch{}a.onerror=null},u=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},h=function(m){a&&(u(),s(m))},f=function(m,p){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(m,p)}catch{}},0)};return a.src=r,a.style.display="none",a.style.position="absolute",a.onerror=function(){h("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(a),i=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var a=["Active"].concat("Object").join("X"),i=new globalThis[a]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){i&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=i=null,CollectGarbage())},m=function(x){i&&(f(),s(x))},p=function(x,S){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,S)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=i.createElement("div");return i.body.appendChild(w),u=i.createElement("iframe"),w.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(f),{post:p,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())}(ku)),ku.exports}var oA=Le,Mb=Lt.EventEmitter,aA=Lb(),rf=xn,$b=ti(),zb=os,iA=To,Go=function(){};function tr(e,t,n){if(!tr.enabled())throw new Error("Transport created when disabled");Mb.call(this);var r=this;this.origin=rf.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=iA.string(8);var s=rf.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=$b.createIframe(s,function(a){r.emit("close",1006,"Unable to load an iframe ("+a+")"),r.close()}),this.onmessageCallback=this._message.bind(this),zb.attachEvent("message",this.onmessageCallback)}oA(tr,Mb);tr.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){zb.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};tr.prototype._message=function(e){if(Go("message",e.data),!rf.isOriginEqual(e.origin,this.origin)){Go("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Go("bad json",e.data);return}if(t.windowId!==this.windowId){Go("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([aA,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Go("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};tr.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};tr.prototype.send=function(e){this.postMessage("m",e)};tr.enabled=function(){return $b.iframeEnabled};tr.transportName="iframe";tr.roundTrips=2;var Fb=tr,fm={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},lA=Le,Ui=Fb,cA=fm,Eu=function(e){function t(n,r){Ui.call(this,e.transportName,n,r)}return lA(t,Ui),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=cA.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&Ui.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Ui.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},uA=Le,ls=ti(),dA=xn,Ub=Lt.EventEmitter,fA=To,hA=function(){};function Dn(e){Ub.call(this);var t=this;ls.polluteGlobalNamespace(),this.id="a"+fA.string(6),e=dA.addQuery(e,"c="+decodeURIComponent(ls.WPrefix+"."+this.id)),hA("using htmlfile",Dn.htmlfileEnabled);var n=Dn.htmlfileEnabled?ls.createHtmlfile:ls.createIframe;globalThis[ls.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}uA(Dn,Ub);Dn.prototype.abort=function(){this._cleanup(),this._close("user")};Dn.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[ls.WPrefix][this.id]};Dn.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};Dn.htmlfileEnabled=!1;var Og=["Active"].concat("Object").join("X");if(Og in globalThis)try{Dn.htmlfileEnabled=!!new globalThis[Og]("htmlfile")}catch{}Dn.enabled=Dn.htmlfileEnabled||ls.iframeEnabled;var mA=Dn,pA=Le,sf=mA,gA=Qa,Bb=Po;function ni(e){if(!sf.enabled)throw new Error("Transport created when disabled");Bb.call(this,e,"/htmlfile",sf,gA)}pA(ni,Bb);ni.enabled=function(e){return sf.enabled&&e.sameOrigin};ni.transportName="htmlfile";ni.roundTrips=2;var Lg=ni,vA=Le,Wb=Po,xA=Ac,of=Ic,Vb=Qa;function ri(e){if(!Vb.enabled&&!of.enabled)throw new Error("Transport created when disabled");Wb.call(this,e,"/xhr",xA,of)}vA(ri,Wb);ri.enabled=function(e){return e.nullOrigin?!1:Vb.enabled&&e.sameOrigin?!0:of.enabled};ri.transportName="xhr-polling";ri.roundTrips=2;var Mg=ri,yA=Le,Hb=Po,wA=Ab,bA=Ac,$g=dm;function si(e){if(!$g.enabled)throw new Error("Transport created when disabled");Hb.call(this,e,"/xhr",bA,$g)}yA(si,Hb);si.enabled=wA.enabled;si.transportName="xdr-polling";si.roundTrips=2;var SA=si,fa=ti(),Kb=To,NA=Ja,jA=xn,CA=Le,Yb=Lt.EventEmitter,kA=function(){};function gn(e){var t=this;Yb.call(this),fa.polluteGlobalNamespace(),this.id="a"+Kb.string(6);var n=jA.addQuery(e,"c="+encodeURIComponent(fa.WPrefix+"."+this.id));globalThis[fa.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},gn.timeout)}CA(gn,Yb);gn.prototype.abort=function(){if(globalThis[fa.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};gn.timeout=35e3;gn.scriptErrorTimeout=1e3;gn.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};gn.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};gn.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[fa.WPrefix][this.id]};gn.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},gn.scriptErrorTimeout))};gn.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+Kb.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(kA("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(NA.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var EA=gn,TA=To,zg=xn,PA=function(){},Jt,ha;function RA(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function _A(){Jt=globalThis.document.createElement("form"),Jt.style.display="none",Jt.style.position="absolute",Jt.method="POST",Jt.enctype="application/x-www-form-urlencoded",Jt.acceptCharset="UTF-8",ha=globalThis.document.createElement("textarea"),ha.name="d",Jt.appendChild(ha),globalThis.document.body.appendChild(Jt)}var AA=function(e,t,n){Jt||_A();var r="a"+TA.string(8);Jt.target=r,Jt.action=zg.addQuery(zg.addPath(e,"/jsonp_send"),"i="+r);var s=RA(r);s.id=r,s.style.display="none",Jt.appendChild(s);try{ha.value=t}catch{}Jt.submit();var a=function(i){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),ha.value="",n(i))};return s.onerror=function(){a()},s.onload=function(){a()},s.onreadystatechange=function(i){PA("onreadystatechange",r,s.readyState),s.readyState==="complete"&&a()},function(){a(new Error("Aborted"))}},IA=Le,Gb=wb,DA=EA,OA=AA;function As(e){if(!As.enabled())throw new Error("Transport created when disabled");Gb.call(this,e,"/jsonp",OA,DA)}IA(As,Gb);As.enabled=function(){return!!globalThis.document};As.transportName="jsonp-polling";As.roundTrips=1;As.needBody=!0;var LA=As,MA=[N_,H_,Ab,Ag,Eu(Ag),Lg,Eu(Lg),Mg,SA,Eu(Mg),LA],Ma=Array.prototype,hm=Object.prototype,$A=Function.prototype,$a=String.prototype,Tu=Ma.slice,mm=hm.toString,Xb=function(e){return hm.toString.call(e)==="[object Function]"},zA=function(t){return mm.call(t)==="[object Array]"},qb=function(t){return mm.call(t)==="[object String]"},FA=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),af;FA?af=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:af=function(e,t,n,r){!r&&t in e||(e[t]=n)};var oi=function(e,t,n){for(var r in t)hm.hasOwnProperty.call(t,r)&&af(e,r,t[r],n)},Qb=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function UA(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function BA(e){return e>>>0}function Pu(){}oi($A,{bind:function(t){var n=this;if(!Xb(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Tu.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(Tu.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Tu.call(arguments)))},a=Math.max(0,n.length-r.length),i=[],l=0;l<a;l++)i.push("$"+l);var c=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(Pu.prototype=n.prototype,c.prototype=new Pu,Pu.prototype=null),c}});oi(Array,{isArray:zA});var Fg=Object("a"),Jb=Fg[0]!=="a"||!(0 in Fg),WA=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,a,i){typeof i!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};oi(Ma,{forEach:function(t){var n=Qb(this),r=Jb&&qb(this)?this.split(""):n,s=arguments[1],a=-1,i=r.length>>>0;if(!Xb(t))throw new TypeError;for(;++a<i;)a in r&&t.call(s,r[a],a,n)}},!WA(Ma.forEach));var VA=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;oi(Ma,{indexOf:function(t){var n=Jb&&qb(this)?this.split(""):Qb(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=UA(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},VA);var Ug=$a.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;$a.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(mm.call(t)!=="[object RegExp]")return Ug.call(this,t,n);var s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),i=0,l,c,u,h;for(t=new RegExp(t.source,a+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",a)),n=n===void 0?-1>>>0:BA(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>i&&(s.push(r.slice(i,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<r.length&&Ma.push.apply(s,c.slice(1)),h=c[0].length,i=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return i===r.length?(h||!t.test(""))&&s.push(""):s.push(r.slice(i)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&($a.split=function(t,n){return t===void 0&&n===0?[]:Ug.call(this,t,n)});var HA=$a.substr,KA="".substr&&"0b".substr(-1)!=="b";oi($a,{substr:function(t,n){return HA.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},KA);var Bi=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Ru,YA=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},GA={quote:function(e){var t=JSON.stringify(e);return Bi.lastIndex=0,Bi.test(t)?(Ru||(Ru=YA(Bi)),t.replace(Bi,function(n){return Ru[n]})):t}},_u=function(){},XA=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){_u("not in whitelist",s.transportName);return}s.enabled(n)?(_u("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):_u("disabled",s.transportName)}}),r}}},lf={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}lf[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:lf.log});var qA=lf;function Is(e){this.type=e}Is.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};Is.prototype.stopPropagation=function(){};Is.prototype.preventDefault=function(){};Is.CAPTURING_PHASE=1;Is.AT_TARGET=2;Is.BUBBLING_PHASE=3;var pm=Is,Zb=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},QA=Le,e1=pm;function t1(){e1.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}QA(t1,e1);var JA=t1,ZA=Le,n1=pm;function r1(e){n1.call(this),this.initEvent("message",!1,!1),this.data=e}ZA(r1,n1);var e3=r1,s1=Lt.EventEmitter,t3=Le;function ai(){var e=this;s1.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},ai.timeout)}t3(ai,s1);ai.prototype.close=function(){clearTimeout(this.to)};ai.timeout=2e3;var n3=ai,o1=Lt.EventEmitter,r3=Le,s3=fm;function gm(e,t){o1.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,a){var i,l;if(s===200){if(l=+new Date-r,a)try{i=JSON.parse(a)}catch{}s3.isObject(i)||(i={})}n.emit("finish",i,l),n.removeAllListeners()})}r3(gm,o1);gm.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var a1=gm,Au,Bg;function i1(){if(Bg)return Au;Bg=1;var e=Le,t=Lt.EventEmitter,n=Qa,r=a1;function s(a){var i=this;t.call(this),this.ir=new r(a,n),this.ir.once("finish",function(l,c){i.ir=null,i.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Au=s,Au}var l1=Lt.EventEmitter,o3=Le,a3=os,c1=Fb,i3=i1();function Dc(e,t){var n=this;l1.call(this);var r=function(){var s=n.ifr=new c1(i3.transportName,t,e);s.once("message",function(a){if(a){var i;try{i=JSON.parse(a)}catch{n.emit("finish"),n.close();return}var l=i[0],c=i[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():a3.attachEvent("load",r)}o3(Dc,l1);Dc.enabled=function(){return c1.enabled()};Dc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var l3=Dc,u1=Lt.EventEmitter,c3=Le,u3=xn,Wg=dm,Vg=Ic,d3=Qa,f3=n3,Hg=l3,Wi=a1;function lr(e,t){var n=this;u1.call(this),setTimeout(function(){n.doXhr(e,t)},0)}c3(lr,u1);lr._getReceiver=function(e,t,n){return n.sameOrigin?new Wi(t,d3):Vg.enabled?new Wi(t,Vg):Wg.enabled&&n.sameScheme?new Wi(t,Wg):Hg.enabled()?new Hg(e,t):new Wi(t,f3)};lr.prototype.doXhr=function(e,t){var n=this,r=u3.addPath(e,"/info");this.xo=lr._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},lr.timeout),this.xo.once("finish",function(s,a){n._cleanup(!0),n.emit("finish",s,a)})};lr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};lr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};lr.timeout=8e3;var h3=lr,Iu,Kg;function m3(){if(Kg)return Iu;Kg=1;var e=ti();function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Iu=t,Iu}var Du,Yg;function p3(){if(Yg)return Du;Yg=1;var e=xn,t=os,n=m3(),r=i1(),s=ti(),a=Zb,i=function(){};return Du=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[r.transportName]=r;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=a.hash.slice(1);var m=function(p){if(p.source===parent&&(typeof h>"u"&&(h=p.origin),p.origin===h)){var w;try{w=JSON.parse(p.data)}catch{i("bad json",p.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{i("bad json",w.data);break}var S=x[0],g=x[1],v=x[2],y=x[3];if(S!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+S+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(v,a.href)||!e.isOriginEqual(y,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+v+", "+y+")");f=new n(new u[g](v,y));break;case"m":f._send(w.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},Du}var g3=hb,v3=Le,Gg=To,x3=GA,ta=xn,y3=os,w3=XA,b3=fm,S3=Ja,N3=qA,vm=pm,d1=mb,Vi=Zb,j3=JA,Xg=e3,C3=h3,Gn=function(){},f1;function De(e,t,n){if(!(this instanceof De))return new De(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");d1.call(this),this.readyState=De.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&N3.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Gg.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Gg.numberString(1e3);var s=new g3(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a=s.protocol==="https:";if(Vi.protocol==="https:"&&!a&&!ta.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var i=t.sort();i.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<i.length-1&&c===i[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=ta.getOrigin(Vi.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Gn("using url",this.url),this._urlInfo={nullOrigin:!S3.hasDomain(),sameOrigin:ta.isOriginEqual(this.url,Vi.href),sameScheme:ta.isSchemeEqual(this.url,Vi.href)},this._ir=new C3(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}v3(De,d1);function h1(e){return e===1e3||e>=3e3&&e<=4999}De.prototype.close=function(e,t){if(e&&!h1(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===De.CLOSING||this.readyState===De.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};De.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===De.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===De.OPEN&&this._transport.send(x3.quote(e))};De.version=Lb();De.CONNECTING=0;De.OPEN=1;De.CLOSING=2;De.CLOSED=3;De.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=b3.extend(e,this._urlInfo);var n=f1.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,Gn(this._transports.length+" enabled transports"),this._connect()};De.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Gn("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),y3.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=ta.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};De.prototype._transportTimeout=function(){this.readyState===De.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};De.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new vm("heartbeat")),Gn("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(a){Gn("message",t.transport),t.dispatchEvent(new Xg(a))});break;case"m":Gn("message",this.transport),this.dispatchEvent(new Xg(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};De.prototype._transportClose=function(e,t){if(Gn("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!h1(e)&&e!==2e3&&this.readyState===De.CONNECTING){this._connect();return}this._close(e,t)};De.prototype._open=function(){Gn("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===De.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=De.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new vm("open")),Gn("connected",this.transport)):this._close(1006,"Server lost session")};De.prototype._close=function(e,t,n){Gn("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===De.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=De.CLOSING,setTimeout((function(){this.readyState=De.CLOSED,r&&this.dispatchEvent(new vm("error"));var s=new j3;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};De.prototype.countRTO=function(e){return e>100?4*e:300+e};var k3=function(e){return f1=w3(e),p3()(De,e),De},E3=MA,T3=k3(E3);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const m1=hf(T3),P3=({roomId:e,userId:t,onMessageReceived:n,onError:r})=>{const[s,a]=d.useState(!1),[i,l]=d.useState("disconnected"),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),[f,m]=d.useState(0),p=3,[w,x]=d.useState(0),S=C=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C),g=()=>localStorage.getItem("accessToken"),v=d.useCallback(()=>{var R;if(console.log("🚀 WebSocket connect() 함수 호출됨!"),console.log("📊 연결 시도 조건 검사:",{hasClient:!!c.current,clientConnected:(R=c.current)==null?void 0:R.connected,connectionStatus:i,roomId:e,userId:t,hasToken:!!g(),timestamp:new Date().toISOString()}),c.current&&c.current.connected){console.log("⏭️ 이미 연결됨 - 중복 연결 방지");return}if(i==="connecting"){console.log("⏭️ 연결 시도 중 - 중복 연결 방지");return}if(c.current&&!c.current.connected&&i!=="disconnected"&&(console.log("🧹 기존 비활성 클라이언트 정리"),c.current.deactivate(),c.current=null),!e||!t){console.log("❌ 필수 정보 누락:",{roomId:e,userId:t}),l("error");return}const C=g();if(console.log("WebSocket 연결 시도 - 토큰:",C?"존재함":"없음"),!C){console.error("❌ 액세스 토큰이 없습니다. 웹소켓 연결을 중단합니다."),r==null||r("로그인이 필요합니다. 다시 로그인해주세요."),l("error");return}if(C.length<10){console.error("❌ 유효하지 않은 토큰 형식입니다."),r==null||r("인증 토큰이 올바르지 않습니다. 다시 로그인해주세요."),l("error");return}l("connecting"),x(E=>E+1),console.log(`🔄 WebSocket 연결 시도 #${w+1}`,{roomId:e,userId:t,currentStatus:i,reconnectAttempt:f+1,url:"http://localhost:8080/ws"}),console.log("🔌 SockJS 인스턴스 생성 중..."),console.log("🌍 브라우저 네트워크 탭에서 다음을 확인하세요:"),console.log("   - WebSocket 핸드셰이크 요청 (101 Switching Protocols)"),console.log("   - SockJS 초기 연결 요청들");const P=new ab({webSocketFactory:()=>(console.log("🏭 WebSocket Factory 실행됨 - SockJS 연결 시작!"),new m1("http://localhost:8080/ws")),connectHeaders:C?{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log("🔄 DM WebSocket 연결 시도 중... 헤더:",C?{Authorization:`Bearer ${C.substring(0,10)}...`}:{token:"none"})},debug:E=>{console.log("STOMP Debug:",E)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log("✅ DM WebSocket 연결 성공!",{roomId:e,userId:t}),a(!0),l("connected"),m(0);const E=g();if(!E){console.error("❌ 구독을 위한 토큰이 없습니다. 이미 연결되었으므로 재연결 시도하지 않음."),r==null||r("인증 오류로 구독할 수 없습니다.");return}console.log("📡 DM 룸 구독 중:",`/topic/dm/${e}`),P.subscribe(`/topic/dm/${e}`,b=>{try{const j=JSON.parse(b.body);console.log("📥 DM 메시지 수신:",j),n(j)}catch(j){console.error("❌ DM 메시지 파싱 오류:",j)}},{Authorization:`Bearer ${E}`}),console.log("✅ DM WebSocket 설정 완료")},onDisconnect:()=>{console.log("❌ DM WebSocket 연결 해제",{roomId:e,userId:t}),a(!1),l("disconnected")},onStompError:E=>{console.error("❌ STOMP 에러:",{message:E.headers.message,body:E.body,headers:E.headers});const b=E.headers.message||"";if(b.includes("Unauthorized")||b.includes("Authentication")||b.includes("Token")||b.includes("401")||b.includes("Forbidden")||b.includes("403")){console.error("🔐 인증 실패 - 토큰 관련 에러"),r==null||r("인증에 실패했습니다. 다시 로그인해주세요."),l("error");return}else b.includes("ExecutorSubscribableChannel")?(console.error("🔧 백엔드 인터셉터 문제 - WebSocketAuthInterceptor 확인 필요"),r==null||r("서버 연결 오류가 발생했습니다. 잠시 후 다시 시도해주세요.")):r==null||r(`연결 오류: ${b}`);l("error"),!b.includes("Unauthorized")&&!b.includes("Authentication")&&!b.includes("Token")&&!b.includes("401")&&!b.includes("Forbidden")&&!b.includes("403")?f<p&&(m(j=>j+1),u.current=setTimeout(()=>{v()},5e3*f)):console.log("🚫 인증 오류로 인해 재연결 시도를 중단합니다.")},onWebSocketError:E=>{console.error("❌ WebSocket 에러:",E),l("error"),r==null||r("WebSocket 연결 오류가 발생했습니다."),c.current&&(c.current.deactivate(),c.current=null)}});c.current=P,P.activate()},[e,t,n,r,f,i]),y=d.useCallback(()=>{c.current&&(c.current.deactivate(),c.current=null),u.current&&(clearTimeout(u.current),u.current=null),a(!1),l("disconnected"),m(0)},[]),N=d.useCallback(C=>{var E;const P=g();if(!P){console.error("❌ 메시지 전송 실패: 액세스 토큰이 없습니다."),r==null||r("인증이 만료되었습니다. 다시 로그인해주세요.");return}if(!((E=c.current)!=null&&E.connected)){r==null||r("WebSocket에 연결되지 않았습니다.");return}if(!e||!t){console.error("Cannot send message: missing roomId or userId");return}if(!S(e)){console.error("❌ 메시지 전송 실패: 유효하지 않은 UUID 형식:",{roomId:e});return}if(!S(t)){console.error("❌ 메시지 전송 실패: 유효하지 않은 senderId UUID 형식:",{userId:t});return}const R={senderId:t,roomId:e,content:C};console.log("📤 DM 메시지 전송 (with Auth):",{dmRequest:R,hasToken:!0,tokenPrefix:P.substring(0,10)+"..."}),c.current.publish({destination:`/app/dm/${e}`,headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify(R)})},[e,t,r]);return d.useEffect(()=>{console.log("🔄 useDmWebSocket useEffect 트리거:",{roomId:e,userId:t,hasRoomId:!!e,hasUserId:!!t}),e&&t?(console.log("✅ 조건 만족 - 웹소켓 연결 시작"),v()):(console.log("❌ 조건 불만족 - 웹소켓 연결 생략:",{roomId:e,userId:t}),y())},[e,t]),d.useEffect(()=>{const C=g();h.current!==C&&(console.log("🔄 토큰 변경 감지 - 웹소켓 재연결:",{oldToken:h.current?"existed":"none",newToken:C?"exists":"none",roomId:e,userId:t}),h.current=C,c.current&&e&&t&&(console.log("🔄 기존 연결 해제 후 재연결 시도"),y(),C?setTimeout(()=>{console.log("⚡ 토큰 기반 재연결 시도"),v()},1e3):console.log("❌ 토큰이 없어 재연결 취소")))},[]),d.useEffect(()=>()=>{y()},[y]),{isConnected:s,connectionStatus:i,connect:v,disconnect:y,sendMessage:N,reconnectAttempts:f,connectionAttempts:w}};function R3({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:a}){const[i,l]=d.useState([]),[c,u]=d.useState(""),[h]=d.useState(!1),[f,m]=d.useState(!1),[p,w]=d.useState(null),[x,S]=d.useState(null),g=d.useRef(null),v=d.useRef(null),{isConnected:y,sendMessage:N}=P3({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:j=>{console.log("📥 ChatRoom에서 메시지 수신:",j);const D={id:j.id,senderId:j.senderId,senderName:j.senderId===s?"나":(r==null?void 0:r.name)||"Unknown",content:j.content,timestamp:C(j.createdAt),type:"text",isOwnMessage:j.senderId===s};l(k=>k.find(O=>O.id===j.id)?(console.log("📥 중복 메시지 무시:",j.id),k):[...k,D])},onError:j=>{console.error("❌ DM WebSocket 에러:",j),j.includes("로그인")||j.includes("인증")||j.includes("Authentication")?(S(j),w(null)):(w(j),S(null))}});d.useEffect(()=>{var j;(j=g.current)==null||j.scrollIntoView({behavior:"smooth"})},[i]),d.useEffect(()=>{e&&v.current&&v.current.focus()},[e]),d.useEffect(()=>{r!=null&&r.roomId&&P()},[r==null?void 0:r.roomId]);const C=j=>new Date(j).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),P=async()=>{if(r!=null&&r.roomId)try{m(!0),w(null);const D=(await a(r.roomId,{size:50})).data.sort((k,L)=>new Date(k.createdAt).getTime()-new Date(L.createdAt).getTime()).map(k=>({id:k.id,senderId:k.senderId,senderName:k.senderId===s?"나":(r==null?void 0:r.name)||"Unknown",content:k.content,timestamp:C(k.createdAt),type:"text",isOwnMessage:k.senderId===s}));l(D)}catch(j){console.error("Error loading messages:",j),w("메시지를 불러올 수 없습니다.")}finally{m(!1)}},R=()=>{if(!c.trim()||!r||!y){console.warn("⚠️ 메시지 전송 실패:",{hasMessage:!!c.trim(),hasUser:!!r,isConnected:y,roomId:r==null?void 0:r.roomId,userId:s});return}console.log("📤 ChatRoom에서 메시지 전송:",{content:c.trim(),roomId:r.roomId,userId:s,isConnected:y}),N(c.trim()),u("")},E=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),R())},b=j=>j;return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(ot,{className:"h-8 w-8",children:[o.jsx(at,{src:r.avatar}),o.jsx(it,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsxs("p",{className:"text-xs text-white/60",children:[r.isOnline?"온라인":"오프라인"," • ",o.jsx("span",{className:`${y?"text-green-400":"text-red-400"}`,children:y?"연결됨":"연결 안됨"})]})]})]})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(_n,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(JR,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[f&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"메시지를 불러오는 중..."}),p&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:p}),x&&o.jsx("div",{className:"flex items-center justify-center h-32 text-orange-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-3",children:x}),o.jsx($,{onClick:()=>{S(null)},size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:"다시 시도"})]})}),!f&&!p&&!x&&i.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"아직 메시지가 없습니다."}),i.map((j,D)=>{const k=D===0||i[D-1].timestamp!==j.timestamp||i[D-1].isOwnMessage!==j.isOwnMessage;return o.jsx("div",{className:`flex ${j.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${j.isOwnMessage?"order-2":"order-1"}`,children:[!j.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(ot,{className:"h-6 w-6",children:[o.jsx(at,{src:r.avatar}),o.jsx(it,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:j.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${j.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:j.content})}),k&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${j.isOwnMessage?"text-right":"text-left"}`,children:b(j.timestamp)})]})},j.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ot,{className:"h-6 w-6",children:[o.jsx(at,{src:r.avatar}),o.jsx(it,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:g})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(ph,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(He,{ref:v,value:c,onChange:j=>u(j.target.value),onKeyPress:E,placeholder:"메시지를 입력하세요...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(PC,{className:"w-4 h-4"})})]}),o.jsx($,{onClick:R,disabled:!c.trim()||!y,size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(vh,{className:"w-4 h-4"})})]})})]})})}function _3({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:a,onError:i}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),m=d.useRef(),[p,w]=d.useState(0),x=3,S=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const C=S();console.log("WebSocket 연결 시도 - 토큰:",C?"존재함":"없음"),C||console.warn("⚠️  토큰이 없지만 연결을 시도합니다 (디버깅용)"),h("connecting"),console.log("WebSocket 연결 시작:",{url:"http://localhost:8080/ws",token:C?`${C.substring(0,10)}...`:"null"});const P=new ab({webSocketFactory:()=>new m1("http://localhost:8080/ws"),connectHeaders:C?{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log("🔄 WebSocket 연결 시도 중... 헤더:",C?{Authorization:`Bearer ${C.substring(0,10)}...`}:{token:"none"})},debug:R=>{console.log("STOMP Debug:",R)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log("✅ WebSocket 연결 성공!"),c(!0),h("connected"),w(0),P.subscribe(`/topic/rooms/${e}/chat`,R=>{try{const E=JSON.parse(R.body);n==null||n(E)}catch(E){console.error("채팅 메시지 파싱 오류:",E)}}),P.subscribe(`/topic/rooms/${e}/participants`,R=>{try{const E=JSON.parse(R.body);r==null||r(E),h("connected"),c(!0)}catch(E){console.error("참여자 정보 파싱 오류:",E)}}),P.subscribe(`/topic/rooms/${e}/video`,R=>{try{const E=JSON.parse(R.body);s==null||s(E)}catch(E){console.error("비디오 동기화 데이터 파싱 오류:",E)}}),P.subscribe("/user/queue/sync",R=>{try{const E=JSON.parse(R.body);(!("participantsInfoDto"in E)||!E.participantsInfoDto)&&(E.participantsInfoDto={participantDtoList:[],participantCount:0}),a==null||a(E),h("connected"),c(!0)}catch(E){console.error("룸 동기화 데이터 파싱 오류:",E)}}),P.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log("❌ WebSocket 연결 해제"),c(!1),h("disconnected")},onStompError:R=>{var E;console.error("❌ STOMP 에러:",{message:R.headers.message,body:R.body,headers:R.headers}),(E=R.headers.message)!=null&&E.includes("ExecutorSubscribableChannel")?(console.error("🔧 백엔드 인터셉터 문제 - WebSocketAuthInterceptor 확인 필요"),i==null||i("백엔드 인증 처리 오류가 발생했습니다. 관리자에게 문의하세요.")):i==null||i(`연결 오류: ${R.headers.message}`),h("error"),p<x&&(w(b=>b+1),m.current=setTimeout(()=>{g()},5e3*p))},onWebSocketError:R=>{console.error("❌ WebSocket 에러:",R),h("error"),i==null||i("WebSocket 연결 오류가 발생했습니다."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=P,P.activate()},[e,t,n,r,s,a,i]),v=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),m.current&&clearTimeout(m.current),c(!1),h("disconnected"),w(0)},[e,t]),y=d.useCallback(C=>{var R;if(!((R=f.current)!=null&&R.connected)){i==null||i("WebSocket에 연결되지 않았습니다.");return}const P={chatRoomId:e,content:C};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(P)})},[e,i]),N=d.useCallback(C=>{var P;if(!((P=f.current)!=null&&P.connected)){console.error("❌ Cannot send video control: WebSocket not connected"),i==null||i("WebSocket에 연결되지 않았습니다.");return}console.log("🎮 Sending video control to backend:",{action:C.videoControlAction,currentTime:C.currentTime,destination:`/app/rooms/${e}/video-control`}),f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(C)})},[e,i]);return d.useEffect(()=>{const C=R=>{if(l)return R.preventDefault(),R.returnValue="시청방에서 나가시겠습니까?","시청방에서 나가시겠습니까?"},P=()=>{v()};return window.addEventListener("beforeunload",C),window.addEventListener("unload",P),()=>{window.removeEventListener("beforeunload",C),window.removeEventListener("unload",P)}},[l,v]),d.useEffect(()=>()=>{v()},[v]),{isConnected:l,connectionStatus:u,connect:g,disconnect:v,sendChatMessage:y,sendVideoControl:N,reconnectAttempts:p}}function A3(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(a=>({...a,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const a=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(a))},100);setTimeout(()=>{clearInterval(a),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API 로드 타임아웃"})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API 스크립트 로드 완료")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API 스크립트 로드 실패"})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var p1=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(p1||{}),ll=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(ll||{});function I3({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s,onTimeUpdate:a}){const[i,l]=d.useState(null),[c,u]=d.useState(!1),h=d.useRef(null),f=d.useRef(!1),m=d.useRef(null),p=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:E=>{console.log("YouTube Player Ready - verifying functionality"),h.current=E.target,l(E.target);const b=()=>{try{const j=typeof E.target.getPlayerState=="function",D=typeof E.target.getCurrentTime=="function",k=E.target.getPlayerState();j&&D&&k!==void 0?(console.log("🎬 Player functionality verified, setting ready"),u(!0)):(console.log("🎬 Player not fully ready, retrying in 200ms..."),setTimeout(b,200))}catch(j){console.log("🎬 Player verification failed, retrying in 200ms...",j),setTimeout(b,200)}};b()},onStateChange:E=>{const b=E.data,j=E.target.getCurrentTime(),D=Math.round(j*100)/100;let k=null,L=!1;switch(m.current&&(clearInterval(m.current),m.current=null),b){case window.YT.PlayerState.PLAYING:k=ll.PLAY,L=!0,m.current=setInterval(()=>{E.target.getPlayerState()===window.YT.PlayerState.PLAYING?a==null||a(E.target.getCurrentTime()):(clearInterval(m.current),m.current=null)},500);break;case window.YT.PlayerState.PAUSED:k=ll.PAUSE,L=!1;break;case window.YT.PlayerState.ENDED:k=ll.PAUSE,L=!1;break;default:return}console.log("🎵 YouTube Player State Change:",{state:b,rawTime:j,currentTime:D,isPlaying:L,isHost:n,isHostControl:f.current}),console.log("🎵 Updating local UI state only"),r==null||r(L,D,k)},onError:E=>{console.error("YouTube Player Error:",E.data);let b="YouTube 플레이어 오류가 발생했습니다.";switch(E.data){case 2:b="잘못된 비디오 ID입니다.";break;case 5:b="HTML5 플레이어 오류가 발생했습니다.";break;case 100:b="비디오를 찾을 수 없습니다.";break;case 101:case 150:b="비디오 재생이 허용되지 않습니다.";break}s==null||s(b)}}})}catch(E){console.error("YouTube Player 초기화 오류:",E),s==null||s("YouTube 플레이어를 초기화할 수 없습니다.")}},[e,t,n,r,s,a]);d.useEffect(()=>{e&&(h.current&&h.current.getVideoUrl()!==e&&(console.log("🧹 videoId 변경으로 기존 플레이어 파기"),h.current.destroy(),h.current=null,l(null),u(!1),m.current&&(clearInterval(m.current),m.current=null)),!h.current&&window.YT&&window.YT.Player&&p())},[e,p]);const w=d.useCallback(()=>{var E,b,j,D;if(console.log("▶️ YouTube play() called:",{playerExists:!!h.current,isReady:c,playerState:(b=(E=h.current)==null?void 0:E.getPlayerState)==null?void 0:b.call(E),currentTime:(D=(j=h.current)==null?void 0:j.getCurrentTime)==null?void 0:D.call(j)}),h.current&&c){try{f.current=!0;const k=h.current.playVideo();console.log("▶️ playVideo() result:",k),setTimeout(()=>{var O,K;const L=(K=(O=h.current)==null?void 0:O.getPlayerState)==null?void 0:K.call(O);console.log("▶️ Player state after play():",L)},500)}catch(k){console.error("❌ playVideo() error:",k)}setTimeout(()=>{f.current=!1},100)}else console.error("❌ Cannot play: player not ready:",{playerExists:!!h.current,isReady:c})},[c]),x=d.useCallback(()=>{var E,b,j,D;if(console.log("⏸️ YouTube pause() called:",{playerExists:!!h.current,isReady:c,playerState:(b=(E=h.current)==null?void 0:E.getPlayerState)==null?void 0:b.call(E),currentTime:(D=(j=h.current)==null?void 0:j.getCurrentTime)==null?void 0:D.call(j)}),h.current&&c){try{f.current=!0;const k=h.current.pauseVideo();console.log("⏸️ pauseVideo() result:",k),setTimeout(()=>{var O,K;const L=(K=(O=h.current)==null?void 0:O.getPlayerState)==null?void 0:K.call(O);console.log("⏸️ Player state after pause():",L)},500)}catch(k){console.error("❌ pauseVideo() error:",k)}setTimeout(()=>{f.current=!1},100)}else console.error("❌ Cannot pause: player not ready:",{playerExists:!!h.current,isReady:c})},[c]),S=d.useCallback(E=>{h.current&&c&&(f.current=!0,h.current.seekTo(E,!0),setTimeout(()=>{f.current=!1},100))},[c]),g=d.useCallback(()=>{var b,j,D,k;let E=0;try{if(h.current&&c){const L=h.current.getCurrentTime();E=Math.round(L*100)/100,console.log("🎵 getCurrentTime called:",{rawTime:L,preciseTime:E,isReady:c,playerExists:!!h.current,playerState:(j=(b=h.current)==null?void 0:b.getPlayerState)==null?void 0:j.call(b)}),(E>1e4||E<0||isNaN(E))&&console.warn("🚨 ABNORMAL TIME FROM YOUTUBE PLAYER:",{rawTime:L,preciseTime:E,playerState:(k=(D=h.current)==null?void 0:D.getPlayerState)==null?void 0:k.call(D)})}else console.log("🎵 getCurrentTime called but player not ready")}catch(L){console.error("🎵 getCurrentTime error:",L)}return E},[c]),v=d.useCallback(()=>h.current&&c?Math.floor(h.current.getDuration()):0,[c]),y=d.useCallback(()=>{var E;return{target:h.current,data:((E=h.current)==null?void 0:E.getPlayerState())??p1.UNSTARTED}},[c]),N=d.useCallback(E=>{h.current&&c&&h.current.setVolume(E)},[c]),C=d.useCallback(()=>h.current&&c?h.current.getVolume():0,[c]),P=d.useCallback(()=>{h.current&&(h.current.destroy(),h.current=null,l(null),u(!1)),m.current&&(clearInterval(m.current),m.current=null)},[]),R=d.useCallback((E,b=0)=>(console.log("[syncVideo] Called:",{isReady:c,retryCount:b,hasPlayer:!!h.current}),h.current==null?(console.error("플레이어가 초기화되지 않았습니다."),!1):(f.current=!0,h.current.seekTo(E.currentTime,!0),h.current.pauseVideo(),E.action==="PLAY"||E.isPlaying===!0?(h.current.setVolume(0),h.current.playVideo(),console.log("▶️ 동기화 재생 시작 (음소거)"),setTimeout(()=>{h.current&&(h.current.setVolume(80),console.log("🔊 볼륨 복원"))},100)):E.action==="PAUSE"&&(h.current.pauseVideo(),console.log("⏸️ 동기화 일시정지")),setTimeout(()=>{f.current=!1},100),!0)),[c]);return d.useEffect(()=>{if(h.current&&c){console.log("🎵 Starting player status monitoring");const E=setInterval(()=>{var b,j,D,k,L,O,K,F,_,T,I,B;try{const U=!!h.current,X=typeof((b=h.current)==null?void 0:b.getPlayerState)=="function",ee=typeof((j=h.current)==null?void 0:j.getCurrentTime)=="function",se=(k=(D=h.current)==null?void 0:D.getPlayerState)==null?void 0:k.call(D),xe={isReady:c,playerExists:U,canGetState:X,canGetTime:ee,state:se,currentTime:Math.floor(((O=(L=h.current)==null?void 0:L.getCurrentTime)==null?void 0:O.call(L))||0),duration:Math.floor(((F=(K=h.current)==null?void 0:K.getDuration)==null?void 0:F.call(K))||0),volume:(T=(_=h.current)==null?void 0:_.getVolume)==null?void 0:T.call(_),playbackRate:(B=(I=h.current)==null?void 0:I.getPlaybackRate)==null?void 0:B.call(I),wouldSyncPass:c&&U&&ee&&se!==void 0&&se!==null};console.log("🎵 Player Status:",xe)}catch(U){console.error("❌ Error checking player status:",U)}},5e3);return()=>{console.log("🎵 Stopping player status monitoring"),clearInterval(E)}}},[c]),d.useEffect(()=>()=>{P(),m.current&&(clearInterval(m.current),m.current=null)},[P]),{player:i,isReady:c,play:w,pause:x,seekTo:S,getCurrentTime:g,getDuration:v,getPlayerState:y,setVolume:N,getVolume:C,destroy:P,syncVideo:R}}var g1=["PageUp","PageDown"],v1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],x1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ao="Slider",[cf,D3,O3]=_h(Ao),[y1,$5]=On(Ao,[O3]),[L3,Oc]=y1(Ao),w1=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:w,...x}=e,S=d.useRef(new Set),g=d.useRef(0),y=i==="horizontal"?M3:$3,[N=[],C]=bs({prop:h,defaultProp:u,onChange:D=>{var L;(L=[...S.current][g.current])==null||L.focus(),f(D)}}),P=d.useRef(N);function R(D){const k=W3(N,D);j(D,k)}function E(D){j(D,g.current)}function b(){const D=P.current[g.current];N[g.current]!==D&&m(N)}function j(D,k,{commit:L}={commit:!1}){const O=Y3(a),K=G3(Math.round((D-r)/a)*a+r,O),F=Aa(K,[r,s]);C((_=[])=>{const T=U3(_,F,k);if(K3(T,c*a)){g.current=T.indexOf(F);const I=String(T)!==String(_);return I&&L&&m(T),I?T:_}else return _})}return o.jsx(L3,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:g,thumbs:S.current,values:N,orientation:i,form:w,children:o.jsx(cf.Provider,{scope:e.__scopeSlider,children:o.jsx(cf.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:we(x.onPointerDown,()=>{l||(P.current=N)}),min:r,max:s,inverted:p,onSlideStart:l?void 0:R,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:b,onHomeKeyDown:()=>!l&&j(r,0,{commit:!0}),onEndKeyDown:()=>!l&&j(s,N.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:k})=>{if(!l){const K=g1.includes(D.key)||D.shiftKey&&v1.includes(D.key)?10:1,F=g.current,_=N[F],T=a*K*k;j(_+T,F,{commit:!0})}}})})})})});w1.displayName=Ao;var[b1,S1]=y1(Ao,{startEdge:"left",endEdge:"right",size:"width",direction:1}),M3=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,m]=d.useState(null),p=Pe(t,y=>m(y)),w=d.useRef(void 0),x=Ga(s),S=x==="ltr",g=S&&!a||!S&&a;function v(y){const N=w.current||f.getBoundingClientRect(),C=[0,N.width],R=xm(C,g?[n,r]:[r,n]);return w.current=N,R(y-N.left)}return o.jsx(b1,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(N1,{dir:x,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const N=v(y.clientX);i==null||i(N)},onSlideMove:y=>{const N=v(y.clientX);l==null||l(N)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const C=x1[g?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:C?-1:1})}})})}),$3=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=Pe(t,h),m=d.useRef(void 0),p=!s;function w(x){const S=m.current||h.current.getBoundingClientRect(),g=[0,S.height],y=xm(g,p?[r,n]:[n,r]);return m.current=S,y(x-S.top)}return o.jsx(b1,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(N1,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const S=w(x.clientY);a==null||a(S)},onSlideMove:x=>{const S=w(x.clientY);i==null||i(S)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=x1[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),N1=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=Oc(Ao,n);return o.jsx(be.span,{...u,ref:t,onKeyDown:we(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):g1.concat(v1).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:we(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():r(f)}),onPointerMove:we(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:we(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),a(f))})})}),j1="SliderTrack",C1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Oc(j1,n);return o.jsx(be.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});C1.displayName=j1;var uf="SliderRange",k1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Oc(uf,n),a=S1(uf,n),i=d.useRef(null),l=Pe(t,i),c=s.values.length,u=s.values.map(m=>P1(m,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(be.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:f+"%"}})});k1.displayName=uf;var df="SliderThumb",E1=d.forwardRef((e,t)=>{const n=D3(e.__scopeSlider),[r,s]=d.useState(null),a=Pe(t,l=>s(l)),i=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(z3,{...e,ref:a,index:i})}),z3=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,i=Oc(df,n),l=S1(df,n),[c,u]=d.useState(null),h=Pe(t,v=>u(v)),f=c?i.form||!!c.closest("form"):!0,m=zh(c),p=i.values[r],w=p===void 0?0:P1(p,i.min,i.max),x=B3(r,i.values.length),S=m==null?void 0:m[l.size],g=S?V3(S,w,l.direction):0;return d.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(cf.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(be.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:h,style:p===void 0?{display:"none"}:e.style,onFocus:we(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),f&&o.jsx(T1,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},r)]})});E1.displayName=df;var F3="RadioBubbleInput",T1=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),a=Pe(s,r),i=Bh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(be.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});T1.displayName=F3;function U3(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function P1(e,t,n){const a=100/(n-t)*(e-t);return Aa(a,[0,100])}function B3(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function W3(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function V3(e,t,n){const r=e/2,a=xm([0,50],[0,r]);return(r-a(t)*n)*n}function H3(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function K3(e,t){if(t>0){const n=H3(e);return Math.min(...n)>=t}return!0}function xm(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Y3(e){return(String(e).split(".")[1]||"").length}function G3(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var X3=w1,q3=C1,Q3=k1,J3=E1;function qg({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...a}){const i=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(X3,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:Te("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[o.jsx(q3,{"data-slot":"slider-track",className:Te("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(Q3,{"data-slot":"slider-range",className:Te("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(l,c)=>o.jsx(J3,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function Z3({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:a,onSeek:i,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:h=!1,onPermissionDenied:f}){const[m,p]=d.useState([80]),[w,x]=d.useState(!1),[S,g]=d.useState(!1),[v,y]=d.useState(!1),[N,C]=d.useState(0),P=d.useRef();d.useEffect(()=>{if(e.isReady){const _=e.getVolume();p([_]),x(_===0)}},[e.isReady]),d.useEffect(()=>(S&&(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{g(!1)},3e3)),()=>{P.current&&clearTimeout(P.current)}),[S,m]);const R=()=>{if(S){x(!w);const _=w?m[0]:0;e.setVolume(_),l(_)}else g(!0)},E=_=>{p(_);const T=_[0];x(T===0),e.setVolume(T),l(T)},b=()=>{y(!0),C(r)},j=_=>{v&&C(_[0])},D=()=>{v&&t&&(i(N),y(!1))},k=()=>{if(t){const _=Math.max(0,r-10);i(_)}else f==null||f()},L=()=>{if(t){const _=Math.min(s,r+10);i(_)}else f==null||f()},O=()=>{t?a():f==null||f()},K=()=>w||m[0]===0?o.jsx(DC,{className:"w-5 h-5"}):m[0]<50?o.jsx(AC,{className:"w-5 h-5"}):o.jsx(IC,{className:"w-5 h-5"}),F=_=>{const T=Math.floor(_/3600),I=Math.floor(_%3600/60),B=_%60;return T>0?`${T}:${I.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`:`${I}:${B.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(qg,{value:[v?N:r],onValueChange:j,onPointerDown:b,onPointerUp:D,max:s,step:1,disabled:h||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:F(v?N:r)}),o.jsx("span",{children:F(s)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:k,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10초 뒤로",children:o.jsx(EC,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>{console.log("🚨 하단 재생 버튼 클릭됨!",{isHost:t,disabled:h||!t}),O()},onMouseDown:()=>console.log("🚨 하단 버튼 마우스 다운 감지"),onMouseUp:()=>console.log("🚨 하단 버튼 마우스 업 감지"),disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"일시정지":"재생":"호스트만 제어 가능",children:n?o.jsx(D0,{className:"w-5 h-5"}):o.jsx(Et,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:L,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10초 앞으로",children:o.jsx(TC,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:R,className:"hover:bg-white/10",title:"볼륨 조절",children:K()}),S&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(qg,{value:m,onValueChange:E,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[m[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(qs,{className:"w-4 h-4 mr-1"}),"호스트만 제어 가능"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"설정",children:o.jsx(jC,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?"전체화면 해제":"전체화면",children:u?o.jsx(SC,{className:"w-5 h-5"}):o.jsx(bC,{className:"w-5 h-5"})})]})]})]})}function e5({open:e,onClose:t}){return o.jsx(Gh,{open:e,onOpenChange:t,children:o.jsxs(Xh,{className:"bg-[#1a1a1a] border-white/20 text-white",children:[o.jsxs(qh,{children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center",children:o.jsx(qs,{className:"w-8 h-8 text-yellow-400"})})}),o.jsx(Jh,{className:"text-center text-xl font-medium",children:"제어 권한이 없습니다"}),o.jsxs(Zh,{className:"text-center text-white/70",children:["호스트만 비디오를 제어할 수 있습니다.",o.jsx("br",{}),"재생, 일시정지, 구간 이동은 방장만 가능합니다."]})]}),o.jsx(Qh,{children:o.jsx(em,{onClick:t,className:"w-full teal-gradient hover:opacity-80 text-black font-medium",children:"확인"})})]})})}var Tr=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Tr||{});function t5(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function n5({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var qe,Ze,ut,yt;const[a,i]=d.useState(!1),{isLoaded:l}=A3(!0),[c,u]=d.useState(!0),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1),[S,g]=d.useState(!1),[v,y]=d.useState(null),[N,C]=d.useState(null),[P,R]=d.useState([]),[E,b]=d.useState([]),[j,D]=d.useState(!1),[k,L]=d.useState(!0),[O,K]=d.useState(null),[F,_]=d.useState(null),[T,I]=d.useState(!1),[B,U]=d.useState(0),[X,ee]=d.useState(null),se=d.useRef(null),xe=d.useRef(!1),ke=d.useRef(null),J=B>0?B:N!=null&&N.duration?parseInt(N.duration):0,[ie,fe]=d.useState(!1),[he,le]=d.useState(0),pe=F?t5(F):null;d.useEffect(()=>{console.log("🎬 YouTube URL/ID 변경:",{youtubeUrl:F,youtubeVideoId:pe,extractedFrom:F})},[F,pe]);const{isConnected:Ce,connectionStatus:Me,connect:Xe,disconnect:A,sendChatMessage:Y,sendVideoControl:ne,reconnectAttempts:q}=_3({roomId:e,userId:n,onChatMessage:d.useCallback(V=>{b(me=>[...me,V])},[]),onParticipantsUpdate:d.useCallback(V=>{console.log("👥 Participants updated:",V);const me=(V.participantDtoList??[]).map(Fe=>({userId:Fe.id,userName:Fe.username,userAvatar:Fe.profile,isHost:Fe.isOwner,isOnline:Fe.isOnline??!0,joinedAt:Fe.joinedAt??""}));R(me);const Ae=me.find(Fe=>Fe.userId===n),oe=(Ae==null?void 0:Ae.isHost)||!1;console.log("🔑 Host status check:",{currentUserId:n,currentUserParticipant:Ae,newIsHost:oe,allParticipants:me}),D(oe)},[n]),onVideoSync:d.useCallback(V=>{console.log("📡 Video sync received:",{action:V.videoControlAction,currentTime:V.currentTime,isPlaying:V.isPlaying,timestamp:V.timestamp,timestampAge:Date.now()-V.timestamp,isHost:j});const me=V.timestamp===0||Date.now()-V.timestamp<1e4;me&&W&&W.syncVideo?(console.log("📡 Executing video sync"),W.syncVideo({action:V.videoControlAction,currentTime:V.currentTime,isPlaying:V.isPlaying}),console.log("📡 Video sync successful")):console.log("📡 Video sync ignored:",{isValidTimestamp:me,hasPlayerController:!!W}),fe(V.isPlaying),le(V.currentTime)},[j]),onRoomSync:d.useCallback(V=>{var Nt;console.log("🏠 Room sync received:",V);const me={id:V.id,title:V.title,contentDto:V.content,ownerId:"",ownerName:"",createdAt:"",headCount:V.participantsInfoDto.participantsCount||V.participantsInfoDto.participantCount,contentTitle:V.content.title,contentId:V.content.id};y(me),C(V.content);const oe=(V.participantsInfoDto.participantDtoList||[]).map(pt=>({userId:pt.id,userName:pt.username,userAvatar:pt.profile,isHost:pt.isOwner,isOnline:pt.isOnline??!0,joinedAt:pt.joinedAt??""}));R(oe),b(V.chatMessages??[]);const Fe=oe.find(pt=>pt.userId===n),wt=(Fe==null?void 0:Fe.isHost)||!1;if(console.log("🔑 Host status check (room sync):",{currentUserId:n,currentUserParticipant:Fe,newIsHost:wt,allParticipants:oe}),D(wt),(Nt=V.content)!=null&&Nt.youtubeUrl?(console.log("🎬 Setting YouTube URL from content.youtubeUrl:",V.content.youtubeUrl),_(V.content.youtubeUrl)):(console.warn("⚠️ No content.youtubeUrl provided"),_(null)),V.playTime!==void 0&&V.isPlaying!==void 0){console.log("🎬 Storing initial sync data from roomInfo:",{playTime:V.playTime,isPlaying:V.isPlaying});const pt={videoControlAction:V.isPlaying?Tr.PLAY:Tr.PAUSE,currentTime:V.playTime,isPlaying:V.isPlaying,timestamp:Date.now()};ee(pt)}else V.videoSyncDto?(console.log("🎬 Fallback: Storing initial videoSyncDto:",V.videoSyncDto),ee(V.videoSyncDto)):ee(null);L(!1)},[n]),onError:d.useCallback(V=>{K(V)},[])}),M=d.useCallback((V,me,Ae)=>{const oe=typeof me=="number"?Math.round(me*100)/100:0;console.log("🎵 Video state changed:",{isPlaying:V,currentTime:oe,action:Ae,isHost:j,isConnected:Ce,rawCurrentTime:me}),fe(V),le(oe)},[j,Ce]),W=I3({videoId:pe||"",containerId:"youtube-player-container",isHost:j,onStateChange:M,onError:d.useCallback(V=>{console.error("YouTube Player Error:",V),K(V)},[]),onTimeUpdate:d.useCallback(V=>{le(Math.round(V*100)/100)},[])}),re=!!(pe&&l);d.useEffect(()=>{const V=async()=>{var Ae;if(xe.current){console.log("⚠️ loadInitialData 이미 실행 중, 중복 실행 방지");return}xe.current=!0,console.log("🔄 loadInitialData 실행 시작:",{roomId:e,userId:n}),L(!0),K(null);try{const oe=await Ya.joinWatchRoom(e);console.log("📋 Room info loaded:",oe);const Fe={id:oe.id,title:oe.title,contentDto:oe.content,ownerId:"",ownerName:"",createdAt:"",headCount:oe.participantsInfoDto.participantsCount||oe.participantsInfoDto.participantCount,contentTitle:oe.content.title,contentId:oe.content.id};if(y(Fe),C(oe.content),console.log("🔑 Initial host status set to false (will be updated via WebSocket)"),D(!1),fe(!1),le(0),b([]),(Ae=oe.content)!=null&&Ae.youtubeUrl?(console.log("🎬 Initial: Setting YouTube URL from content.youtubeUrl:",oe.content.youtubeUrl),_(oe.content.youtubeUrl)):(console.warn("⚠️ Initial: No content.youtubeUrl provided"),_(null)),oe.playTime!==void 0&&oe.isPlaying!==void 0){console.log("🎬 Initial: Storing initial sync data from roomInfo:",{playTime:oe.playTime,isPlaying:oe.isPlaying});const wt={videoControlAction:oe.isPlaying?Tr.PLAY:Tr.PAUSE,currentTime:oe.playTime,isPlaying:oe.isPlaying,timestamp:Date.now()};ee(wt)}else oe.videoSyncDto?(console.log("🎬 Initial: Fallback: Storing initial videoSyncDto:",oe.videoSyncDto),ee(oe.videoSyncDto)):ee(null);console.log("✅ loadInitialData 완료"),r&&Xe()}catch(oe){console.error("Failed to load room data:",oe),K(oe instanceof Error?oe.message:"시청방 데이터를 불러오는 중 오류가 발생했습니다.")}finally{L(!1),xe.current=!1}},me=setTimeout(()=>{V()},0);return()=>{clearTimeout(me)}},[e,n,r]),d.useEffect(()=>{if(W!=null&&W.isReady&&W.syncVideo&&X){console.log("🎬 Applying initial video sync now that player is ready:",X);const V={action:X.videoControlAction,currentTime:X.currentTime,isPlaying:X.isPlaying};W.syncVideo(V),fe(X.isPlaying),le(X.currentTime),ee(null)}},[W,X]),d.useEffect(()=>{var V;(V=se.current)==null||V.scrollIntoView({behavior:"smooth"})},[E]),d.useEffect(()=>{if(W!=null&&W.isReady&&B===0)try{const V=W.getDuration();console.log("🎬 YouTube 동영상 길이:",V,"초"),V>0&&U(Math.floor(V))}catch(V){console.error("❌ 동영상 길이 가져오기 실패:",V)}},[W==null?void 0:W.isReady,B,W]),d.useEffect(()=>{var V;console.log("🔑 Host Status Debug:",{isHost:j,userId:n,participants:P.map(me=>({userId:me.userId,userName:me.userName,isHost:me.isHost})),canUsePlayer:re,isConnected:Ce,currentUserIsHost:((V=P.find(me=>me.userId===n))==null?void 0:V.isHost)||!1})},[j,n,P,re,Ce]);const ue=()=>{if(!j||!re||!Ce){console.log("❌ Cannot control video:",{isHost:j,canUsePlayer:re,isConnected:Ce}),j||I(!0);return}const V=ie?Tr.PAUSE:Tr.PLAY,me=(W==null?void 0:W.getCurrentTime())||0;console.log("🎵 Host sending video control:",{action:V,currentTime:me,isPlaying:ie}),ne({videoControlAction:V,currentTime:me})},ve=()=>{g(!0)},Ee=()=>{g(!1),A(),t()},Se=V=>{var me;if(console.log("🎯 Seek requested:",{isHost:j,seconds:V,isConnected:Ce,canUsePlayer:re}),!j){console.log("❌ Not host, cannot seek video"),I(!0);return}if(!re){console.log("❌ Player not ready, cannot seek video");return}try{const Ae=((me=W==null?void 0:W.getDuration)==null?void 0:me.call(W))||J;let oe=V;Ae&&V>Ae&&(oe=Ae,console.warn("🎯 SEEK 시간이 동영상 길이 초과, 최대값으로 조정:",{requested:V,adjusted:oe,maxDuration:Ae})),oe<0&&(oe=0),console.log("🎯 SEEK - 이동할 시간 전송:",{originalSeconds:V,validSeekTime:oe,maxDuration:Ae}),ne({videoControlAction:Tr.SEEK,currentTime:oe})}catch(Ae){console.error("❌ SEEK 시간 전송 실패:",Ae)}},ce=V=>{W.setVolume(V),console.log(`Volume changed to: ${V}%`)},$e=()=>{i(!a),u(!!a)},Pt=()=>{!m.trim()||!Ce||(Y(m),console.log("Sending message:",m),p(""))},Mt=V=>new Date(V).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return k?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"시청방에 입장하는 중..."})]})}):!r&&!Ce?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:((qe=v==null?void 0:v.contentDto)==null?void 0:qe.title)||"시청방"}),o.jsx("p",{className:"text-white/60 mb-4",children:"시청방에 참여하시겠습니까?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ft,{className:"w-4 h-4"}),o.jsxs("span",{children:[(v==null?void 0:v.headCount)||0,"명 시청 중"]})]}),o.jsx("span",{children:"•"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Dd,{className:"w-4 h-4"}),o.jsx("span",{children:"실시간 채팅"})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"뒤로가기"}),o.jsxs($,{onClick:Xe,className:"teal-gradient hover:opacity-80 text-black",children:[Me==="connecting"?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(Ft,{className:"w-4 h-4 mr-2"}),"시청방 참여"]})]})]})}):O?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:"⚠️"}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"시청방 입장 실패"}),o.jsx("p",{className:"text-white/60 mb-4",children:O}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"뒤로가기"}),o.jsx($,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:"새로고침"})]})]})}):v?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!a&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs($,{variant:"ghost",onClick:ve,className:"hover:bg-white/10",children:[o.jsx(jo,{className:"w-5 h-5 mr-2"}),"나가기"]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:v.title}),j&&o.jsxs(hn,{variant:"secondary",className:"text-xs",children:[o.jsx(qs,{className:"w-3 h-3 mr-1"}),"호스트"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:N?N.title:(Ze=v.contentDto)==null?void 0:Ze.title}),N&&N.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"•"}),o.jsx("span",{children:N.contentType})]}),o.jsx("span",{children:"•"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ft,{className:"w-4 h-4"}),o.jsxs("span",{children:[P.filter(V=>V.isOnline).length,"명 시청 중"]})]}),o.jsx("span",{children:"•"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[Ce?o.jsx(LC,{className:"w-4 h-4 text-green-400"}):o.jsx(OC,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:Ce?"text-green-400":"text-yellow-400",children:Ce?"연결됨":Me==="connecting"?"연결 중":"연결 끊김"}),q>0&&o.jsxs("span",{className:"text-yellow-400",children:["(재연결 시도 ",q,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs($,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(Dd,{className:"w-5 h-5"}),c?o.jsx(_r,{className:"w-4 h-4 ml-1"}):o.jsx(da,{className:"w-4 h-4 ml-1"})]})})]}),!Ce&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:Me==="connecting"?"🔄 서버에 연결하는 중...":Me==="error"?"⚠️ 연결 오류 - 재연결 시도 중":"🔧 서버 연결이 끊어졌습니다"})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{ref:ke,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API 로딩 중..."})]})}),l&&!pe&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[N&&N.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:N.thumbnailUrl,alt:N.title,className:"w-full h-full object-cover",onError:V=>{const me=V.target;me.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Et,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60 mb-2",children:N?N.title:"비디오 정보를 불러오는 중..."}),F?o.jsxs("p",{className:"text-white/40 text-sm",children:["YouTube 비디오 ID를 추출할 수 없습니다",o.jsx("br",{}),"URL: ",F]}):o.jsx("p",{className:"text-white/40 text-sm",children:"유효한 YouTube URL이 제공되지 않았습니다"})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:re?"block":"none",position:"relative",zIndex:1,pointerEvents:"auto"}}),!re&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((yt=(ut=v==null?void 0:v.contentDto)==null?void 0:ut.title)==null?void 0:yt.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:`absolute inset-0 bg-black/30 flex items-center justify-center transition-opacity duration-300 ${ie&&!w?"opacity-0":"opacity-100"}`,style:{zIndex:10,pointerEvents:ie&&!w?"none":"auto"},children:[o.jsx($,{size:"lg",onClick:()=>{console.log("🚨 중앙 재생 버튼 클릭됨!",{isHost:j,disabled:!j}),ue()},onMouseDown:()=>console.log("🚨 중앙 버튼 마우스 다운 감지"),onMouseUp:()=>console.log("🚨 중앙 버튼 마우스 업 감지"),disabled:!j,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${j?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,style:{position:"relative",zIndex:20,pointerEvents:j?"auto":"none"},children:ie?o.jsx(D0,{className:"w-10 h-10 fill-current"}):o.jsx(Et,{className:"w-10 h-10 fill-current ml-1"})}),!j&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(qs,{className:"w-4 h-4 inline mr-1"}),"호스트만 비디오를 제어할 수 있습니다"]})]}),o.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 bg-black/50 backdrop-blur-sm
                        transition-opacity duration-300 z-50
                        ${ie&&!w&&!a?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}
                        ${a?"hidden":""} `,children:o.jsx(Z3,{playerController:W,isHost:j,isPlaying:ie,currentTime:he,totalDuration:J,onPlayPause:ue,onSeek:Se,onVolumeChange:ce,onFullscreenToggle:$e,isFullscreen:a,disabled:!Ce||!re,onPermissionDenied:()=>I(!0)})}),a&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC 또는 축소 버튼으로 전체화면 종료"})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:"채팅"}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>f(!h),className:"p-1 hover:bg-white/10",children:o.jsx(Ft,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[P.filter(V=>V.isOnline).length,"명이 시청 중입니다"]})]}),h&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"참여자"}),o.jsx("div",{className:`space-y-2 ${P.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:P.length===0?o.jsx("div",{className:"text-xs text-white/50",children:"참여자가 없습니다."}):P.map(V=>{var me;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ot,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{V.userId!==n&&s&&s(V.userId)},children:[o.jsx(at,{src:V.userAvatar}),o.jsx(it,{className:"bg-[#4ecdc4] text-black text-xs",children:((me=V.userName)==null?void 0:me.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${V.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{V.userId!==n&&s&&s(V.userId)},children:V.userName}),V.isHost&&o.jsxs(hn,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(qs,{className:"w-3 h-3 mr-1"}),"호스트"]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${V.isOnline?"bg-green-400":"bg-gray-400"}`})]},V.userId+V.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[k&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"이전 메시지를 불러오는 중..."})}),E.map(V=>{var me,Ae;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(ot,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(at,{src:(me=P.find(oe=>oe.userId===V.senderId))==null?void 0:me.userAvatar}),o.jsx(it,{className:"bg-[#4ecdc4] text-black text-xs",children:V.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:V.senderName}),((Ae=P.find(oe=>oe.userId===V.senderId))==null?void 0:Ae.isHost)&&o.jsx(qs,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:Mt(V.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:V.content})]})]})},V.id)}),o.jsx("div",{ref:se})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(He,{placeholder:Ce?"메시지를 입력하세요...":"서버에 연결 중...",value:m,onChange:V=>p(V.target.value),onKeyPress:V=>V.key==="Enter"&&Pt(),disabled:!Ce,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx($,{onClick:Pt,disabled:!m.trim()||!Ce,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(vh,{className:"w-4 h-4"})})]})})]})})]}),o.jsx(e5,{open:T,onClose:()=>I(!1)}),o.jsx(Gh,{open:S,onOpenChange:g,children:o.jsxs(Xh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(qh,{children:[o.jsx(Jh,{className:"text-white",children:"시청방 나가기"}),o.jsx(Zh,{className:"text-white/70",children:j?"방장이 나가면 시청방이 삭제됩니다. 정말로 나가시겠습니까?":"시청방에서 나가시겠습니까?"})]}),o.jsxs(Qh,{children:[o.jsx(Kw,{onClick:()=>g(!1),className:"border-white/20 hover:bg-white/5 text-white",children:"취소"}),o.jsx(em,{onClick:Ee,className:"bg-red-600 hover:bg-red-700 text-white",children:"나가기"})]})]})})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"시청방 데이터를 불러오는 중..."})})})}function r5({onJoinRoom:e,onCreateRoom:t,currentUserId:n}){const[r,s]=d.useState(""),[a,i]=d.useState("participants"),[l,c]=d.useState([]),[u,h]=d.useState(!0),[f,m]=d.useState(null),[p,w]=d.useState(!1),[x,S]=d.useState(null),g=async(C=!0)=>{try{C?h(!0):w(!0),m(null);const P=await Ya.getWatchRooms({query:r,sortBy:a==="participants"?"participantCount":"createdAt"});c(P)}catch(P){console.error("시청방 목록 로드 오류:",P),m(P instanceof Error?P.message:"시청방 목록을 불러오는 중 오류가 발생했습니다.")}finally{h(!1),w(!1)}};d.useEffect(()=>{const C=setTimeout(()=>{g(!1)},300);return()=>clearTimeout(C)},[r,a]),d.useEffect(()=>{g(!0)},[]);const v=l.filter(C=>C.headCount>=10),y=l,N=async C=>{if(!x){S(C.id);try{await(e==null?void 0:e(C))}finally{S(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:"라이브 시청방"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs($,{onClick:()=>g(!1),disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[p?o.jsx(tn,{className:"w-4 h-4 animate-spin"}):o.jsx(Kr,{className:"w-4 h-4"}),"새로고침"]}),o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"시청방 생성"]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(He,{placeholder:"방 이름, 개설자, 콘텐츠 검색...",value:r,onChange:C=>s(C.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Vh,{value:a,onValueChange:C=>i(C),children:[o.jsx(Kh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Hh,{placeholder:"정렬"})}),o.jsxs(Yh,{children:[o.jsx(Wn,{value:"participants",children:"시청자 많은 순"}),o.jsx(Wn,{value:"latest",children:"최신순"}),o.jsx(Wn,{value:"oldest",children:"오래된 순"})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:["현재 ",y.length,"개 시청방 활성화"]}),o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4] border border-[#4ecdc4]/30",children:[o.jsx(Ft,{className:"w-3 h-3 mr-1 inline"}),"실시간"]})]})]}),f&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:f}),o.jsx($,{onClick:()=>g(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:"다시 시도"})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"시청방 목록을 불러오는 중..."})]}),!u&&!f&&o.jsxs(o.Fragment,{children:[!r&&v.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(xh,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:"인기 시청방"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(C=>{var P,R,E;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(P=C.contentDto)!=null&&P.thumbnailUrl?o.jsx("img",{src:C.contentDto.thumbnailUrl,alt:C.contentDto.title,className:"w-full h-full object-cover",onError:b=>{var j;b.currentTarget.style.display="none",(j=b.currentTarget.nextElementSibling)==null||j.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(R=C.contentDto)!=null&&R.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:"시청방"})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:"🔴 LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:["👥 ",C.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs($,{size:"sm",onClick:b=>{b.stopPropagation(),N(C)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===C.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),"참여하기"]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(E=C.contentDto)==null?void 0:E.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[C.ownerName,"의 방"]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kr,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:"실시간"})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[C.headCount,"명 시청중"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:["호스트: ",C.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},C.id)})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:"모든 시청방"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(C=>{var P,R,E;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(P=C.contentDto)!=null&&P.thumbnailUrl?o.jsx("img",{src:C.contentDto.thumbnailUrl,alt:C.contentDto.title,className:"w-full h-full object-cover",onError:b=>{var j;b.currentTarget.style.display="none",(j=b.currentTarget.nextElementSibling)==null||j.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(R=C.contentDto)!=null&&R.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:"시청방"})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:"🔴 LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:["👥 ",C.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs($,{size:"sm",onClick:b=>{b.stopPropagation(),N(C)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===C.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),"참여하기"]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(E=C.contentDto)==null?void 0:E.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[C.ownerName,"의 방"]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kr,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:"실시간"})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[C.headCount,"명 시청중"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:["호스트: ",C.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},C.id)})})]}),y.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ft,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:r?"검색 결과가 없습니다.":n?"현재 활성화된 시청방이 없습니다.":"로그인하시면 더 많은 시청방을 보 수 있습니다."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[r&&o.jsx($,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"모든 시청방 보기"}),n?o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"새 시청방 만들기"]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/40 text-sm mb-2",children:"시청방을 만들려면 로그인이 필요합니다"}),o.jsx($,{variant:"outline",onClick:()=>window.location.reload(),className:"border-[#4ecdc4]/30 text-[#4ecdc4] hover:bg-[#4ecdc4]/10",children:"로그인하기"})]})]})]})]})]})})}var Lc="Switch",[s5,z5]=On(Lc),[o5,a5]=s5(Lc),R1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,p]=d.useState(null),w=Pe(t,y=>p(y)),x=d.useRef(!1),S=m?h||!!m.closest("form"):!0,[g,v]=bs({prop:s,defaultProp:a??!1,onChange:u,caller:Lc});return o.jsxs(o5,{scope:n,checked:g,disabled:l,children:[o.jsx(be.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":D1(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:we(e.onClick,y=>{v(N=>!N),S&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),S&&o.jsx(I1,{control:m,bubbles:!x.current,name:r,value:c,checked:g,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});R1.displayName=Lc;var _1="SwitchThumb",A1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=a5(_1,n);return o.jsx(be.span,{"data-state":D1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});A1.displayName=_1;var i5="SwitchBubbleInput",I1=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=d.useRef(null),l=Pe(i,a),c=Bh(n),u=zh(t);return d.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(h,n),h.dispatchEvent(w)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});I1.displayName=i5;function D1(e){return e?"checked":"unchecked"}var l5=R1,c5=A1;function u5({className:e,...t}){return o.jsx(l5,{"data-slot":"switch",className:Te("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(c5,{"data-slot":"switch-thumb",className:Te("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Qg({isOpen:e,onClose:t,onCreateWatchParty:n,content:r}){const[s,a]=d.useState(!0),[i,l]=d.useState("");d.useEffect(()=>{r&&e&&l(`${r.title} 시청방`)},[r,e]);const c=()=>{const u={isPublic:s,roomName:i||`${r==null?void 0:r.title} 시청방`};n(u)};return r?o.jsx(gc,{open:e,onOpenChange:t,children:o.jsxs(vc,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(xc,{children:o.jsxs(yc,{className:"flex items-center space-x-2",children:[o.jsx(Ft,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:"시청방을 만들어주세요"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover",onError:u=>{const h=u.target;h.style.display="none",h.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:r.title}),o.jsx("p",{className:"text-sm text-white/60",children:r.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:r.description})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Ft,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:"같이 시청하기"}),o.jsx("div",{className:"text-xs text-white/60",children:"친구들과 실시간으로 시청하며 채팅하세요"})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"roomName",className:"text-sm",children:"방 이름"}),o.jsx(He,{id:"roomName",value:i,onChange:u=>l(u.target.value),placeholder:"시청방 이름을 입력하세요",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[s?o.jsx(Dl,{className:"w-4 h-4 text-green-400"}):o.jsx(Ol,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"isPublic",className:"text-sm",children:s?"공개방":"비공개방"}),o.jsx("p",{className:"text-xs text-white/60",children:s?"누구나 참여 가능":"초대받은 사람만 참여"})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(u5,{id:"isPublic",checked:s,onCheckedChange:a,disabled:!0})})]})}),o.jsxs($,{onClick:c,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!i.trim(),children:[o.jsx(Ft,{className:"w-4 h-4 mr-2"}),"시청방 만들기"]})]})]})})]})]})}):null}function Jg({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:a}){const[i,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(""),[S,g]=d.useState(!0),[v,y]=d.useState([]),[N,C]=d.useState(!1);d.useEffect(()=>{e&&P()},[e]);const P=async()=>{try{C(!0);const L=await r();y(L)}catch(L){console.error("Error loading playlists:",L)}finally{C(!1)}},R=v.filter(L=>L.title.toLowerCase().includes(i.toLowerCase())||L.description.toLowerCase().includes(i.toLowerCase())),E=L=>{u(O=>O.includes(L)?O.filter(K=>K!==L):[...O,L])},b=async()=>{if(n)try{const L=c.map(O=>a(O,[n.id]));await Promise.all(L),alert(`"${n.title}"을(를) ${c.length}개의 플레이리스트에 추가했습니다.`),u([]),l(""),t()}catch(L){console.error("플레이리스트에 콘텐츠 추가 실패:",L),alert("플레이리스트에 콘텐츠 추가 중 오류가 발생했습니다.")}},j=async()=>{if(!(!m.trim()||!n))try{const L=await s({name:m,description:w,isPublic:S});await a(L.id,[n.id]),alert(`새 플레이리스트 "${m}"을(를) 만들고 "${n.title}"을(를) 추가했습니다.`),p(""),x(""),g(!0),f(!1),t()}catch(L){console.error("Error creating playlist:",L),alert("플레이리스트 생성 중 오류가 발생했습니다.")}},D=()=>{u([]),l(""),f(!1),p(""),x(""),g(!0)},k=()=>{D(),t()};return n?o.jsx(gc,{open:e,onOpenChange:k,children:o.jsxs(vc,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(xc,{children:o.jsx(yc,{className:"gradient-text",children:"플레이리스트에 추가"})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(ot,{className:"h-12 w-12 rounded-lg",children:[o.jsx(at,{src:n.thumbnail,className:"object-cover"}),o.jsx(it,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"영화":n.type==="tv"?"TV":"스포츠"," • ",n.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(He,{placeholder:"플레이리스트 제목",value:m,onChange:L=>p(L.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(He,{placeholder:"설명 (선택사항)",value:w,onChange:L=>x(L.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[S?o.jsx(Dl,{className:"w-4 h-4 text-green-400"}):o.jsx(Ol,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:S?"공개":"비공개"})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>g(!S),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:"변경"})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:"뒤로"}),o.jsx($,{onClick:j,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:"만들기"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(He,{placeholder:"플레이리스트 검색...",value:i,onChange:L=>l(L.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs($,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"새 플레이리스트 만들기"]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:N?o.jsx("div",{className:"text-center py-8 text-white/60",children:"플레이리스트를 불러오는 중..."}):R.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:i?"검색 결과가 없습니다":"플레이리스트가 없습니다"}):R.map(L=>o.jsxs("div",{onClick:()=>E(L.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(L.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(ot,{className:"h-10 w-10 rounded-lg",children:[o.jsx(at,{src:L.thumbnail,className:"object-cover"}),o.jsx(it,{children:L.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:L.title}),L.isPublic?o.jsx(Dl,{className:"w-3 h-3 text-green-400"}):o.jsx(Ol,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[L.contentCount,"개 콘텐츠"]})]}),c.includes(L.id)&&o.jsx(ro,{className:"w-5 h-5 text-[#4ecdc4]"})]},L.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:k,className:"flex-1 border-white/20 hover:bg-white/5",children:"취소"}),o.jsxs($,{onClick:b,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:["추가 (",c.length,")"]})]})]})]})]})}):null}function Zg({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState(""),[m,p]=d.useState("select"),[w,x]=d.useState(!1),[S,g]=d.useState(null),[v,y]=d.useState([]),[N,C]=d.useState(!1),[P,R]=d.useState(!1),[E,b]=d.useState(),[j,D]=d.useState(!1),k=async(T=!1)=>{try{T?D(!0):C(!0),g(null);const I=await hs.getContents({type:i==="all"?void 0:i.toUpperCase(),query:s||void 0,cursor:T?E:void 0,size:20});y(T?B=>[...B,...I.data]:I.data),R(I.hasNext),b(I.nextCursor)}catch(I){console.error("콘텐츠 로드 오류:",I),g(I instanceof Error?I.message:"콘텐츠를 불러오는 중 오류가 발생했습니다.")}finally{C(!1),D(!1)}};d.useEffect(()=>{e&&k(!1)},[e]),d.useEffect(()=>{if(!e)return;const T=setTimeout(()=>{k(!1)},300);return()=>clearTimeout(T)},[s,i,e]);const L=()=>{P&&!N&&!j&&k(!0)},O=T=>{u(T),f(`${T.title} 시청방`),p("create"),g(null)},K=async()=>{if(!c||!h.trim()){g("시청방 제목을 입력해주세요.");return}x(!0),g(null);try{const T={contentId:c.id,ownerId:r,title:h.trim()},I=await Ya.createWatchRoom(T),B=`room-content-${I.id}`;localStorage.setItem(B,JSON.stringify({contentId:c.id,contentData:c,savedAt:Date.now()})),n(I),F()}catch(T){console.error("시청방 생성 오류:",T),g(T instanceof Error?T.message:"시청방 생성 중 오류가 발생했습니다.")}finally{x(!1)}},F=()=>{a(""),l("all"),u(null),f(""),p("select"),x(!1),g(null),y([]),C(!1),R(!1),b(void 0),D(!1),t()},_=T=>{switch(T){case"MOVIE":return"영화";case"TV":return"TV/드라마";case"SPORTS":return"스포츠";default:return"콘텐츠"}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:m,selectedContent:c,loading:N}),o.jsx(gc,{open:e,onOpenChange:F,children:o.jsxs(vc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(xc,{children:o.jsx(yc,{className:"text-xl",children:m==="select"?"실시간 시청방 만들기":"시청방 생성 확인"})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"원하는 콘텐츠를 선택해 실시간 시청방을 생성할 수 있습니다."}),m==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(He,{placeholder:"콘텐츠 검색...",value:s,onChange:T=>a(T.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(Vh,{value:i,onValueChange:l,children:[o.jsx(Kh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Hh,{placeholder:"카테고리"})}),o.jsxs(Yh,{children:[o.jsx(Wn,{value:"all",children:"전체"}),o.jsx(Wn,{value:"movie",children:"영화"}),o.jsx(Wn,{value:"tv",children:"TV/드라마"}),o.jsx(Wn,{value:"sports",children:"스포츠"})]})]})]}),N&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"콘텐츠를 불러오는 중..."})]}),S&&!N&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:S}),o.jsx($,{onClick:()=>k(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:"다시 시도"})]}),!N&&!S&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[v.map(T=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>O(T),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:T.thumbnail||T.thumbnailUrl,alt:T.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:I=>{const B=I.target;B.style.display="none";const U=B.parentElement;if(U&&!U.querySelector(".image-fallback")){const X=document.createElement("div");X.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",X.textContent=T.title.charAt(0).toUpperCase(),U.appendChild(X)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:w,children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),"선택"]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:T.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:T.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[T.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:`w-3 h-3 ${T.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-xs",children:T.avgRating.toFixed(2)})]}),o.jsx(hn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:_(T.contentType)})]})]})]},T.id)),P&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx($,{onClick:L,disabled:j||w,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:j?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"}),"로딩 중..."]}):"더 보기"})})]}),!N&&!S&&v.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"검색 결과가 없습니다."}),o.jsx($,{variant:"outline",onClick:()=>{a(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"전체 콘텐츠 보기"})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail||c.thumbnailUrl,alt:c.title,className:"w-full h-full object-cover",onError:T=>{const I=T.target;I.style.display="none";const B=I.parentElement;if(B&&!B.querySelector(".image-fallback")){const U=document.createElement("div");U.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",U.textContent=c.title.charAt(0).toUpperCase(),B.appendChild(U)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[c.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:`w-4 h-4 ${c.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:c.avgRating.toFixed(2)})]}),o.jsx(hn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:_(c.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:"시청방 제목"}),o.jsx(He,{id:"room-title",placeholder:"시청방 제목을 입력하세요...",value:h,onChange:T=>f(T.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[h.length,"/50자"]})]}),S&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:S})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{p("select"),u(null),f(""),g(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:w,children:"뒤로가기"}),o.jsx($,{onClick:K,disabled:!c||!h.trim()||w,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:w?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"}),"생성 중..."]}):"시청방 생성"})]})]})})]})})}var Ou="rovingFocusGroup.onEntryFocus",d5={bubbles:!1,cancelable:!0},ii="RovingFocusGroup",[ff,O1,f5]=_h(ii),[h5,L1]=On(ii,[f5]),[m5,p5]=h5(ii),M1=d.forwardRef((e,t)=>o.jsx(ff.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ff.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(g5,{...e,ref:t})})}));M1.displayName=ii;var g5=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),p=Pe(t,m),w=Ga(a),[x,S]=bs({prop:i,defaultProp:l??null,onChange:c,caller:ii}),[g,v]=d.useState(!1),y=It(u),N=O1(n),C=d.useRef(!1),[P,R]=d.useState(0);return d.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Ou,y),()=>E.removeEventListener(Ou,y)},[y]),o.jsx(m5,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(E=>S(E),[S]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>R(E=>E+1),[]),onFocusableItemRemove:d.useCallback(()=>R(E=>E-1),[]),children:o.jsx(be.div,{tabIndex:g||P===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{C.current=!0}),onFocus:we(e.onFocus,E=>{const b=!C.current;if(E.target===E.currentTarget&&b&&!g){const j=new CustomEvent(Ou,d5);if(E.currentTarget.dispatchEvent(j),!j.defaultPrevented){const D=N().filter(F=>F.focusable),k=D.find(F=>F.active),L=D.find(F=>F.id===x),K=[k,L,...D].filter(Boolean).map(F=>F.ref.current);F1(K,h)}}C.current=!1}),onBlur:we(e.onBlur,()=>v(!1))})})}),$1="RovingFocusGroupItem",z1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Yr(),u=a||c,h=p5($1,n),f=h.currentTabStopId===u,m=O1(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:x}=h;return d.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),o.jsx(ff.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(be.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:we(e.onMouseDown,S=>{r?h.onItemFocus(u):S.preventDefault()}),onFocus:we(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:we(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const g=y5(S,h.orientation,h.dir);if(g!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let y=m().filter(N=>N.focusable).map(N=>N.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const N=y.indexOf(S.currentTarget);y=h.loop?w5(y,N+1):y.slice(N+1)}setTimeout(()=>F1(y))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});z1.displayName=$1;var v5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function y5(e,t,n){const r=x5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return v5[r]}function F1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function w5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var b5=M1,S5=z1,Mc="Tabs",[N5,F5]=On(Mc,[L1]),U1=L1(),[j5,ym]=N5(Mc),B1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Ga(l),[f,m]=bs({prop:r,onChange:s,defaultProp:a??"",caller:Mc});return o.jsx(j5,{scope:n,baseId:Yr(),value:f,onValueChange:m,orientation:i,dir:h,activationMode:c,children:o.jsx(be.div,{dir:h,"data-orientation":i,...u,ref:t})})});B1.displayName=Mc;var W1="TabsList",V1=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=ym(W1,n),i=U1(n);return o.jsx(b5,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(be.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});V1.displayName=W1;var H1="TabsTrigger",K1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=ym(H1,n),l=U1(n),c=X1(i.baseId,r),u=q1(i.baseId,r),h=r===i.value;return o.jsx(S5,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(be.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:we(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:we(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:we(e.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!s&&f&&i.onValueChange(r)})})})});K1.displayName=H1;var Y1="TabsContent",G1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=ym(Y1,n),c=X1(l.baseId,r),u=q1(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(wr,{present:s||h,children:({present:m})=>o.jsx(be.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});G1.displayName=Y1;function X1(e,t){return`${e}-trigger-${t}`}function q1(e,t){return`${e}-content-${t}`}var C5=B1,k5=V1,E5=K1,T5=G1;function P5({className:e,...t}){return o.jsx(C5,{"data-slot":"tabs",className:Te("flex flex-col gap-2",e),...t})}function R5({className:e,...t}){return o.jsx(k5,{"data-slot":"tabs-list",className:Te("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Lu({className:e,...t}){return o.jsx(E5,{"data-slot":"tabs-trigger",className:Te("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Mu({className:e,...t}){return o.jsx(T5,{"data-slot":"tabs-content",className:Te("flex-1 outline-none",e),...t})}function _5({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s}){const[a,i]=d.useState(null),[l,c]=d.useState([]),[u,h]=d.useState([]),[f,m]=d.useState([]),[p,w]=d.useState(!1),[x,S]=d.useState(!0),[g,v]=d.useState(null),[y,N]=d.useState(!1),C=e===t,P=async()=>{try{console.log("사용자 정보 조회 시작:",e);const k=await r(`http://localhost:8080/api/users/${e}`);if(console.log("사용자 정보 조회 응답:",{status:k.status,statusText:k.statusText,headers:Object.fromEntries(k.headers.entries())}),!k.ok){const O=await k.text();throw console.error("사용자 정보 조회 실패:",{status:k.status,statusText:k.statusText,errorText:O}),new Error(`사용자 정보를 가져오는데 실패했습니다. (${k.status})`)}const L=await k.json();console.log("사용자 정보 조회 성공:",L),i(L)}catch(k){console.error("사용자 정보 조회 오류:",k),v(k instanceof Error?k.message:"사용자 정보를 불러올 수 없습니다.")}},R=async()=>{try{const k=await r(`http://localhost:8080/api/follows/${e}/followers`);if(!k.ok)throw new Error("팔로워 목록을 가져오는데 실패했습니다.");const L=await k.json();c(L)}catch(k){console.error("팔로워 목록 조회 오류:",k)}},E=async()=>{try{const k=await r(`http://localhost:8080/api/follows/${e}/following`);if(!k.ok)throw new Error("팔로잉 목록을 가져오는데 실패했습니다.");const L=await k.json();h(L)}catch(k){console.error("팔로잉 목록 조회 오류:",k)}},b=async()=>{try{const k=await r(`http://localhost:8080/api/users/${e}/playlists`);if(!k.ok)throw new Error("플레이리스트를 가져오는데 실패했습니다.");const L=await k.json();m(L)}catch(k){console.error("플레이리스트 조회 오류:",k),m([])}},j=async()=>{if(!(!t||C))try{const k=await r(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!k.ok)throw new Error("팔로우 상태를 확인하는데 실패했습니다.");const L=await k.json();w(L)}catch(k){console.error("팔로우 상태 확인 오류:",k),w(!1)}},D=async()=>{if(!(!t||C)){N(!0);try{if(p){if(!(await r(`http://localhost:8080/api/follows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("언팔로우에 실패했습니다.");w(!1),c(L=>L.filter(O=>O.id!==t))}else{const k=new FormData;if(k.append("followerId",t),k.append("followingId",e),!(await r(`http://localhost:8080/api/follows/${e}`,{method:"POST"})).ok)throw new Error("팔로우에 실패했습니다.");w(!0),a&&c(O=>[...O,{id:t,name:"나",email:"",profileImage:""}])}}catch(k){console.error("팔로우 처리 오류:",k),alert(k instanceof Error?k.message:"팔로우 처리 중 오류가 발생했습니다.")}finally{N(!1)}}};return d.useEffect(()=>{e&&(async()=>{S(!0),v(null),await Promise.allSettled([P(),R(),E(),t?j():Promise.resolve(),b()]),S(!1)})()},[e,t]),x?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"프로필을 불러오는 중..."})]})}):g?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:g}),o.jsx($,{onClick:n,variant:"outline",children:"돌아가기"})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(jo,{className:"w-4 h-4"}),o.jsx("span",{children:"돌아가기"})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:"프로필"}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(ot,{className:"h-32 w-32",children:[o.jsx(at,{src:a.profileImage}),o.jsx(it,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:l.length}),o.jsx("div",{className:"text-sm text-white/60",children:"팔로워"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:u.length}),o.jsx("div",{className:"text-sm text-white/60",children:"팔로잉"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:f.length}),o.jsx("div",{className:"text-sm text-white/60",children:"플레이리스트"})]})]}),!C&&o.jsx($,{onClick:D,disabled:y,className:`${p?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:y?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):p?o.jsxs(o.Fragment,{children:[o.jsx(O0,{className:"w-4 h-4"}),o.jsx("span",{children:"언팔로우"})]}):o.jsxs(o.Fragment,{children:[o.jsx(yh,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로우"})]})})]})]})}),o.jsxs(P5,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(R5,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(Lu,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Fp,{className:"w-4 h-4"}),o.jsx("span",{children:"플레이리스트"})]}),o.jsxs(Lu,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(Ft,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로워"})]}),o.jsxs(Lu,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(mr,{className:"w-4 h-4"}),o.jsx("span",{children:"팔로잉"})]})]}),o.jsxs(Mu,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(k=>{var L;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:"플레이리스트"})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:k.name||k.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:k.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((L=k.contents)==null?void 0:L.length)||k.itemCount||0,"개 항목"]})]})]},k.id)})}),f.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Fp,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"플레이리스트가 없습니다."})]})]}),o.jsxs(Mu,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(k=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{k.id&&s&&s(k.id)},children:[o.jsxs(ot,{className:"h-12 w-12",children:[o.jsx(at,{src:k.profileImage}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:k.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:k.name}),o.jsx("p",{className:"text-white/60 text-sm",children:k.email})]})]},k.id))}),l.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ft,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"팔로워가 없습니다."})]})]}),o.jsxs(Mu,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(k=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{k.id&&s&&s(k.id)},children:[o.jsxs(ot,{className:"h-12 w-12",children:[o.jsx(at,{src:k.profileImage}),o.jsx(it,{className:"bg-[#4ecdc4] text-black",children:k.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:k.name}),o.jsx("p",{className:"text-white/60 text-sm",children:k.email})]})]},k.id))}),u.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(mr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"팔로잉이 없습니다."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"사용자를 찾을 수 없습니다."}),o.jsx($,{onClick:n,variant:"outline",children:"돌아가기"})]})})}function A5(){const[e,t]=d.useState(!1),[n,r]=d.useState(null),s=yr(),[a]=aC(),i=s.pathname,l=window.location.pathname==="/oauth/callback",c=a.get("id"),u=i.startsWith("/playlist")&&!!c,[h,f]=d.useState(()=>{if(u)return console.log("🔍 초기 페이지 로드: playlist-detail (공유 링크)"),"playlist-detail";const z=localStorage.getItem("currentPage")||"home";return console.log("🔍 초기 페이지 로드:",z),z}),m=z=>{try{if(!z||typeof z!="string")return console.error("유효하지 않은 토큰:",z),null;const H=z.split(".");if(H.length!==3)return console.error("잘못된 JWT 형식:",z),null;const G=JSON.parse(atob(H[1])),Z=G.userId||G.sub||G.id||null;return Z||console.error("토큰에서 사용자 ID를 찾을 수 없음:",G),Z}catch(H){return console.error("JWT 토큰 파싱 오류:",H,"Token:",z),null}},p=z=>{try{const H=JSON.parse(atob(z.split(".")[1])),G=Date.now()/1e3,Z=H.exp,Ne=5,Qe=Z<G+Ne;return console.log("토큰 만료 체크:",{currentTime:G,expTime:Z,bufferTime:Ne,isExpired:Qe,timeUntilExpiry:Z-G,payload:{...H,userId:H.userId||H.sub||H.id}}),Qe}catch(H){return console.error("토큰 만료 체크 오류:",H),!0}},w=()=>{console.log("토큰이 만료되어 자동 로그아웃됩니다."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),f("home")},x=(z,H=300)=>{try{const G=JSON.parse(atob(z.split(".")[1])),Z=Date.now()/1e3,Ne=G.iat;return Ne&&Z-Ne<H}catch(G){return console.error("토큰 발급 시간 확인 오류:",G),!1}},S=d.useRef(null),g=async()=>S.current?(console.log("토큰 재발급이 이미 진행 중입니다. 기존 요청을 대기합니다."),S.current):(S.current=(async()=>{try{console.log("토큰 재발급 시작");const z=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",credentials:"include"});if(!z.ok)return console.log(`토큰 재발급 실패: ${z.status} ${z.statusText}`),z.status===401?console.log("Refresh token이 만료되었습니다."):z.status===500&&console.log("서버 오류로 토큰 재발급 실패"),null;const H=await z.text();if(!H||H.trim()==="")return console.log("빈 응답으로 토큰 재발급 실패"),null;const G=H.replace(/"/g,"");return console.log("토큰 재발급 완료"),G}catch(z){return console.error("Token refresh 오류:",z),null}finally{S.current=null}})(),S.current),v=async(z,H={})=>{let G=localStorage.getItem("accessToken");const Z=G?m(G):null;if(console.log("authenticatedFetch 호출:",{url:z,accessToken:G?"토큰 존재":"토큰 없음",userIdFromToken:Z,currentUserId:n}),!G)throw console.error("인증 토큰이 없습니다. 로그인이 필요합니다."),w(),new Error("인증 토큰이 없습니다.");if(p(G)&&!x(G)){console.log("토큰이 만료되어 재발급을 시도합니다.");const ln=await g();if(ln){localStorage.setItem("accessToken",ln),G=ln;const Io=m(ln);Io&&r(Io)}else throw w(),new Error("세션이 만료되었습니다. 다시 로그인해주세요.")}else p(G)&&x(G)&&console.log("토큰이 최근에 발급되어 재발급을 스킵합니다.");const Mn={"Content-Type":"application/json",...["http://localhost:8080/api/auth/login","http://localhost:8080/api/auth/refresh","http://localhost:8080/api/auth/change-password","http://localhost:8080/api/auth/temp-password","http://localhost:8080/api/users"].some(ln=>z.startsWith(ln))?{}:{Authorization:`Bearer ${G}`},...H.headers||{}},li=await fetch(z,{...H,headers:Mn,credentials:"include"});if(li.status===401){console.log("401 에러 발생, 토큰 재발급 시도");const ln=await g();if(ln){localStorage.setItem("accessToken",ln),G=ln;const Io=m(ln);Io&&r(Io),console.log("토큰 재발급 성공, 요청 재시도");const nS={...Mn,Authorization:`Bearer ${ln}`};return fetch(z,{...H,headers:nS,credentials:"include"})}else throw console.log("토큰 재발급 실패, 로그아웃 처리"),w(),new Error("세션이 만료되었습니다. 다시 로그인해주세요.")}if(li.status===403)throw console.log("권한이 없습니다."),new Error("해당 작업을 수행할 권한이 없습니다.");if(li.status===404)throw new Error("요청한 리소스를 찾을 수 없습니다.");return li},y=async z=>{try{await v(`http://localhost:8080/api/notifications/${z}`,{method:"DELETE"})}catch(H){throw console.error("알림 삭제 실패:",H),H}},N=async()=>{try{await v("http://localhost:8080/api/notifications",{method:"DELETE"})}catch(z){throw console.error("모든 알림 삭제 실패:",z),z}},C=async()=>{try{const z=await v("http://localhost:8080/api/dmRooms/");if(!z.ok)throw new Error("DM 룸 목록 조회 실패");return await z.json()}catch(z){throw console.error("DM 룸 목록 조회 실패:",z),z}},P=async z=>{try{const H=await v(`http://localhost:8080/api/dmRooms/userRoom?userB=${z}`);if(!H.ok)throw new Error("DM 룸 생성/조회 실패");return await H.json()}catch(H){throw console.error("DM 룸 생성/조회 실패:",H),H}},R=async(z,H)=>{try{const G=new URLSearchParams;H!=null&&H.cursor&&G.append("cursor",H.cursor),H!=null&&H.size&&G.append("size",H.size.toString());const Z=await v(`http://localhost:8080/api/dmRooms/${z}/dms?${G}`);if(!Z.ok)throw new Error("DM 메시지 목록 조회 실패");return await Z.json()}catch(G){throw console.error("DM 메시지 목록 조회 실패:",G),G}},E=async(z,H="all")=>{try{let G,Z;if(H==="subscribed")G="http://localhost:8080/api/playlists/subscribed";else if(z&&z.trim()!==""){const Qe=new URLSearchParams;Qe.append("keyword",z.trim()),G=`http://localhost:8080/api/playlists/search?${Qe}`}else G="http://localhost:8080/api/playlists";if(console.log("🚀 API 호출:",G),Z=await v(G),console.log("📡 응답 상태:",Z.status,Z.statusText),!Z.ok){let Qe="플레이리스트 목록 조회 실패";try{const lt=await Z.text();console.error("❌ 에러 응답:",lt),Qe=`${Z.status} ${Z.statusText}: ${lt}`}catch(lt){console.error("❌ 에러 파싱 실패:",lt)}throw new Error(Qe)}const Ne=await Z.json();return console.log("✅ 성공 응답:",{url:G,status:Z.status,dataType:Array.isArray(Ne)?`배열 (길이: ${Ne.length})`:typeof Ne,data:Array.isArray(Ne)&&Ne.length>0?Ne.slice(0,2):Ne,headers:Object.fromEntries(Z.headers.entries())}),Array.isArray(Ne)&&z&&z.trim()!==""?Ne.filter(lt=>lt.userId===n?!0:lt.isPublic===!0):Ne}catch(G){throw console.error("❌ 플레이리스트 목록 조회 실패:",G),G}},b=async z=>{try{const H=`http://localhost:8080/api/playlists/${z}`,G=u;console.log("🚀 플레이리스트 조회 API 호출:",H,{isSharedAccess:G,isSharedPlaylistPage:u});let Z;if(G?(console.log("🌐 공유 링크 접근으로 인증 우회하여 호출"),Z=await fetch(H)):Z=await v(H),console.log("📡 응답 상태:",Z.status,Z.statusText),!Z.ok){let Qe="플레이리스트 조회 실패";if(G&&Z.status===401)throw console.log("🔒 비공개 플레이리스트 접근 시도"),new Error("비공개 플레이리스트입니다. 접근 권한이 없습니다.");try{const lt=await Z.text();console.error("❌ 에러 응답:",lt),Qe=`${Z.status} ${Z.statusText}: ${lt}`}catch(lt){console.error("❌ 에러 파싱 실패:",lt)}throw new Error(Qe)}const Ne=await Z.json();return console.log("✅ 플레이리스트 조회 성공:",{url:H,status:Z.status,data:Ne}),Ne}catch(H){throw console.error("❌ 플레이리스트 조회 실패:",H),H}},j=async z=>{var H,G;try{if(!z.name||z.name.trim()==="")throw new Error("플레이리스트 이름은 필수입니다.");if(!n)throw new Error("로그인이 필요합니다.");const Z={name:z.name.trim(),description:z.description||"",isPublic:z.isPublic??!0};console.log("🚀 플레이리스트 생성 요청:",Z);const Ne=await v("http://localhost:8080/api/playlists",{method:"POST",body:JSON.stringify(Z)});if(console.log("📡 플레이리스트 생성 응답 상태:",Ne.status,Ne.statusText),!Ne.ok){let lt="플레이리스트 생성 실패";try{const Mn=await Ne.json();console.error("❌ 플레이리스트 생성 에러:",Mn),lt=Mn.message||lt}catch(Mn){console.error("Error parsing error response:",Mn)}throw new Error(lt)}const Qe=await Ne.json();return console.log("✅ 플레이리스트 생성 성공:",{createdPlaylist:Qe,createdBy:(H=Qe.user)==null?void 0:H.id,createdByName:(G=Qe.user)==null?void 0:G.name,currentUserId:n}),Qe}catch(Z){throw console.error("플레이리스트 생성 실패:",Z),Z}},D=async(z,H)=>{try{if(!H||H.length===0)throw new Error("추가할 콘텐츠를 선택해주세요.");const G={contentIds:H},Z=await v(`http://localhost:8080/api/playlists/${z}/contents`,{method:"POST",body:JSON.stringify(G)});if(!Z.ok){let lt="플레이리스트에 콘텐츠 추가 실패";try{lt=(await Z.json()).message||lt}catch(Mn){console.error("Error parsing error response:",Mn)}throw new Error(lt)}let Ne=null;const Qe=await Z.text();return Qe&&(Ne=JSON.parse(Qe)),console.log("플레이리스트 콘텐츠 추가 성공:",Ne),Ne}catch(G){throw console.error("플레이리스트 콘텐츠 추가 실패:",G),G}},k=async(z,H)=>{try{if(!H||H.length===0)throw new Error("삭제할 콘텐츠를 선택해주세요.");const G={contentIds:H},Z=await v(`http://localhost:8080/api/playlists/${z}/contents`,{method:"DELETE",body:JSON.stringify(G)});if(!Z.ok){let Ne="플레이리스트에서 콘텐츠 삭제 실패";try{Ne=(await Z.json()).message||Ne}catch(Qe){console.error("Error parsing error response:",Qe)}throw new Error(Ne)}console.log("플레이리스트 콘텐츠 삭제 성공")}catch(G){throw console.error("플레이리스트 콘텐츠 삭제 실패:",G),G}},L=async z=>{try{if(!n)throw new Error("로그인이 필요합니다");console.log("🔔 구독 요청 시작:",{userId:n,playlistId:z});const H={userId:n,playlistId:z};console.log("📤 구독 요청 데이터:",H);const G=await v("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(console.log("📡 구독 응답 상태:",G.status,G.statusText),!G.ok){let Z="플레이리스트 구독 실패";try{Z=(await G.json()).message||Z}catch(Ne){console.error("Error parsing error response:",Ne)}throw new Error(Z)}console.log("플레이리스트 구독 성공")}catch(H){throw console.error("플레이리스트 구독 실패:",H),H}},O=async z=>{try{console.log("🔕 구독 취소 요청 시작:",{subscriptionId:z});const H=await v(`http://localhost:8080/api/subscriptions/${z}`,{method:"DELETE"});if(console.log("📡 구독 취소 응답 상태:",H.status,H.statusText),!H.ok){let G="플레이리스트 구독 취소 실패";try{G=(await H.json()).message||G}catch(Z){console.error("Error parsing error response:",Z)}throw new Error(G)}console.log("플레이리스트 구독 취소 성공")}catch(H){throw console.error("플레이리스트 구독 취소 실패:",H),H}},[K,F]=d.useState(()=>u?a.get("id"):null),[_,T]=d.useState(null),[I,B]=d.useState(null),[U,X]=d.useState(!1),[ee,se]=d.useState(!1),[xe,ke]=d.useState(null),[J,ie]=d.useState(!1),[fe,he]=d.useState(!1),[le,pe]=d.useState(null),[Ce,Me]=d.useState(!1),[Xe,A]=d.useState(null),[Y,ne]=d.useState(!1),[q,M]=d.useState(null),[W,re]=d.useState(!1),[ue,ve]=d.useState(null),[Ee,Se]=d.useState(!1),ce=u,$e=()=>{const z=new URL(window.location.href);if(z.pathname==="/oauth/callback"){const G=z.searchParams.get("access_token");G?(Mt(G),window.history.replaceState({},document.title,"/"),console.log("OAuth 로그인 성공! 메인 페이지로 이동합니다.")):(alert("로그인 중 오류가 발생했습니다. 액세스 토큰을 받지 못했습니다."),window.history.replaceState({},document.title,"/"))}},Pt=()=>{const H=new URLSearchParams(window.location.search).get("playlist");H&&(console.log("📋 공유 플레이리스트 링크 감지:",H),f("playlist-detail"),F(H),localStorage.setItem("currentPage","playlist-detail"),window.history.replaceState({},document.title,"/"),console.log("✅ 플레이리스트 공유 링크 처리 완료"))};d.useEffect(()=>{(async()=>{$e(),Pt();const H=localStorage.getItem("accessToken");if(H){if(p(H)){console.log("저장된 토큰이 만료됨, 백엔드 연결 실패로 인해 로그아웃 처리"),w();return}const G=m(H);G?(r(G),t(!0)):(console.log("토큰에서 사용자 ID 추출 실패"),localStorage.removeItem("accessToken"),w())}})()},[]),d.useEffect(()=>{if(!e)return;const H=setInterval(async()=>{const G=localStorage.getItem("accessToken");if(G&&p(G)){console.log("토큰 만료 감지, 재발급 시도");const Z=await g();if(Z){localStorage.setItem("accessToken",Z);const Ne=m(Z);Ne&&r(Ne),console.log("토큰 재발급 성공")}else console.log("토큰 재발급 실패, 자동 로그아웃"),w()}},3e4);return()=>clearInterval(H)},[e]);const Mt=z=>{localStorage.setItem("accessToken",z);const H=m(z);H?r(H):(localStorage.removeItem("accessToken"),t(!1)),t(!0)},qe=z=>{if(console.log("🔄 페이지 변경:",z),z==="create-room"){re(!0);return}f(z),localStorage.setItem("currentPage",z);const H={page:z,selectedPlaylistId:K,selectedContentDetail:_,selectedUserId:I,currentWatchRoomId:ue};window.history.pushState(H,"",window.location.pathname),console.log("🔄 브라우저 히스토리 업데이트:",H),z!=="playlist-detail"&&F(null),z!=="watch-party"&&ve(null),z!=="content-detail"&&T(null),z!=="user-profile"&&B(null)};d.useEffect(()=>{localStorage.setItem("currentPage",h)},[h]),d.useEffect(()=>{const z=G=>{if(console.log("🔍 popstate 이벤트 발생:",G.state),G.state){console.log("🔄 브라우저 히스토리 상태로 복원:",G.state);const Z=G.state.page||"home";["watch-party","content-detail","user-profile"].includes(Z)?Z==="watch-party"&&!G.state.currentWatchRoomId?(console.log("⚠️ 시청방 페이지이지만 룸 ID가 없어서 라이브 페이지로 이동"),f("live"),localStorage.setItem("currentPage","live")):Z==="content-detail"&&!G.state.selectedContentDetail?(console.log("⚠️ 콘텐츠 상세 페이지이지만 콘텐츠가 없어서 홈으로 이동"),f("home"),localStorage.setItem("currentPage","home")):Z==="user-profile"&&!G.state.selectedUserId?(console.log("⚠️ 사용자 프로필 페이지이지만 사용자 ID가 없어서 홈으로 이동"),f("home"),localStorage.setItem("currentPage","home")):(f(Z),localStorage.setItem("currentPage",Z)):(f(Z),localStorage.setItem("currentPage",Z)),F(G.state.selectedPlaylistId||null),T(G.state.selectedContentDetail||null),B(G.state.selectedUserId||null),ve(G.state.currentWatchRoomId||null)}else{const Z=localStorage.getItem("currentPage")||"home";console.log("🔄 localStorage에서 페이지 복원:",Z),["watch-party","content-detail","user-profile"].includes(Z)?(console.log("⚠️ 헤더 숨김 페이지가 저장되어 있어서 홈으로 이동"),f("home"),localStorage.setItem("currentPage","home")):f(Z),F(null),T(null),B(null),ve(null)}};return(()=>{const G=["watch-party","content-detail","user-profile"];let Z=h;u?Z="playlist-detail":G.includes(h)&&(h==="watch-party"&&!ue||h==="content-detail"&&!_||h==="user-profile"&&!I)&&(Z="home");const Ne={page:Z,selectedPlaylistId:u?a.get("id"):K,selectedContentDetail:_,selectedUserId:I,currentWatchRoomId:ue};Z!==h&&(f(Z),localStorage.setItem("currentPage",Z),console.log("⚠️ 초기 페이지를 안전한 페이지로 변경:",h,"->",Z)),window.history.replaceState(Ne,"",window.location.pathname),console.log("🔄 초기 히스토리 상태 설정:",Ne)})(),window.addEventListener("popstate",z),()=>{window.removeEventListener("popstate",z)}},[]),d.useLayoutEffect(()=>{if(!e&&u){const z=a.get("id");if(z){console.log("🎯 공유 페이지 진입 감지 → playlist-detail로 이동"),F(z),console.log("🧩 setSelectedPlaylistId 직후 상태 (id):",z),console.log("🧩 setSelectedPlaylistId 직후 selectedPlaylistId:",K),f("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const H={page:"playlist-detail",selectedPlaylistId:z,selectedContentDetail:_,selectedUserId:I,currentWatchRoomId:ue};window.history.replaceState(H,"",window.location.pathname),console.log("📝 공유 페이지 히스토리 설정 완료:",H)}}},[e,u,a]);const Ze=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),f("home")},ut=()=>{X(!U)},yt=async()=>{const z=prompt("임시 비밀번호를 발급받을 이메일을 입력하세요:");if(!(z!=null&&z.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.trim())){alert("유효한 이메일 주소를 입력해주세요.");return}try{const G=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:z.trim()})});if(!G.ok){let Z="임시 비밀번호 발급에 실패했습니다.";try{Z=(await G.json()).message||Z}catch(Ne){console.error("Error parsing error response:",Ne)}throw new Error(Z)}alert(`${z}로 임시 비밀번호를 발송했습니다.
이메일을 확인하고 임시 비밀번호로 로그인 후 비밀번호를 변경해주세요.`)}catch(G){console.error("임시 비밀번호 발급 오류:",G),alert(G instanceof Error?G.message:"임시 비밀번호 발급 중 오류가 발생했습니다.")}},V=z=>{F(z),f("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const H={page:"playlist-detail",selectedPlaylistId:z,selectedContentDetail:_,selectedUserId:I,currentWatchRoomId:ue};window.history.pushState(H,"",window.location.pathname),console.log("🔄 플레이리스트 상세 페이지 히스토리 업데이트:",H)},me=()=>{F(null),f("playlist"),localStorage.setItem("currentPage","playlist");const z={page:"playlist",selectedPlaylistId:null,selectedContentDetail:_,selectedUserId:I,currentWatchRoomId:ue};window.history.pushState(z,"",window.location.pathname),console.log("🔄 플레이리스트 목록 히스토리 업데이트:",z)},Ae=z=>{T(z),f("content-detail"),localStorage.setItem("currentPage","content-detail");const H={page:"content-detail",selectedPlaylistId:K,selectedContentDetail:z,selectedUserId:I,currentWatchRoomId:ue};window.history.pushState(H,"",window.location.pathname),console.log("🔄 콘텐츠 상세 페이지 히스토리 업데이트:",H)},oe=()=>{let z="home";_&&(z={movie:"movies",tv:"tv",sports:"sports"}[_.type]||"home"),T(null),f(z),localStorage.setItem("currentPage",z);const H={page:z,selectedPlaylistId:K,selectedContentDetail:null,selectedUserId:I,currentWatchRoomId:ue};window.history.pushState(H,"",window.location.pathname),console.log("🔄 콘텐츠 상세에서 뒤로가기 히스토리 업데이트:",H)},Fe=z=>{const H={...z,year:z.year||2024,rating:z.rating||4};M(H),ne(!0)},wt=()=>{ne(!1),M(null)},Nt=z=>{A(z),Me(!0)},pt=async z=>{if(!Xe)return;const H=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",z),console.log("Room code:",H);try{if(console.log("시청방 생성 시작:",{config:z,selectedContent:Xe}),!n){alert("로그인이 필요합니다.");return}const G={contentId:Xe.id,ownerId:n,title:z.roomName},Z=await Ya.createWatchRoom(G);console.log("시청방 생성 성공:",Z),ve(Z.id),Se(!0),f("watch-party"),localStorage.setItem("currentPage","watch-party"),console.log("시청방 입장 완료:",{roomId:Z.id})}catch(G){console.error("시청방 생성 실패:",G),alert("시청방 생성에 실패했습니다. 다시 시도해주세요.")}Me(!1),A(null)},jt=z=>{ve(z.id),Se(!1),f("watch-party"),localStorage.setItem("currentPage","watch-party");const H={page:"watch-party",selectedPlaylistId:K,selectedContentDetail:_,selectedUserId:I,currentWatchRoomId:z.id};window.history.pushState(H,"",window.location.pathname),console.log("🔄 시청방 참여 히스토리 업데이트:",H)},Nr=z=>{ve(z.id),Se(!0),re(!1),f("watch-party"),localStorage.setItem("currentPage","watch-party");const H={page:"watch-party",selectedPlaylistId:K,selectedContentDetail:_,selectedUserId:I,currentWatchRoomId:z.id};window.history.pushState(H,"",window.location.pathname),console.log("🔄 시청방 생성 히스토리 업데이트:",H)},ge=()=>{ve(null),Se(!1),f("live"),localStorage.setItem("currentPage","live");const z={page:"live",selectedPlaylistId:K,selectedContentDetail:_,selectedUserId:I,currentWatchRoomId:null};window.history.pushState(z,"",window.location.pathname),console.log("🔄 시청방에서 뒤로가기 히스토리 업데이트:",z)},ye=()=>{re(!0)},je=()=>{re(!1)},Ue=()=>{ke(null),se(!0)},Be=()=>{se(!1),ke(null)},We=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Oe=z=>{B(z),f("user-profile"),localStorage.setItem("currentPage","user-profile");const H={page:"user-profile",selectedPlaylistId:K,selectedContentDetail:_,selectedUserId:z,currentWatchRoomId:ue};window.history.pushState(H,"",window.location.pathname),console.log("🔄 사용자 프로필 페이지 히스토리 업데이트:",H)},et=()=>{n&&Oe(n)},dt=()=>{B(null),f("home"),localStorage.setItem("currentPage","home");const z={page:"home",selectedPlaylistId:K,selectedContentDetail:_,selectedUserId:null,currentWatchRoomId:ue};window.history.pushState(z,"",window.location.pathname),console.log("🔄 사용자 프로필에서 뒤로가기 히스토리 업데이트:",z)},jr=()=>{fe?(he(!1),pe(null),ie(!0)):ie(!J)},Q1=()=>{ie(!1)},wm=()=>{ie(!1),he(!1),pe(null)},J1=z=>{pe(z),ie(!1),he(!0)},Z1=()=>{he(!1),pe(null)},eS=()=>{he(!1),pe(null),ie(!0)},tS=()=>{(J||fe)&&wm()};if(console.log("✅ isLoggedIn:",e),console.log("📍 pathname:",i),console.log("🔎 searchParams:",a.toString()),console.log("🧪 isSharedPlaylistPage:",u),!e&&!l&&!u)return console.log("🔍 로그인 상태 디버깅:",{isLoggedIn:e,accessToken:localStorage.getItem("accessToken"),userId:n}),o.jsx("div",{children:o.jsx(jE,{onLogin:Mt,onToggleAuth:ut,onForgotPassword:yt,isRegister:U})});const bm=()=>{switch(console.log("🔍 현재 페이지:",h),h){case"curation":return o.jsx(_E,{onContentPlay:Nt,onContentDetail:Ae,onAddToPlaylist:Fe,userId:n||void 0});case"movies":return o.jsx(Nu,{category:"movies",onContentPlay:Nt,onContentDetail:Ae,onAddToPlaylist:Fe});case"tv":return o.jsx(Nu,{category:"tv",onContentPlay:Nt,onContentDetail:Ae,onAddToPlaylist:Fe});case"sports":return o.jsx(Nu,{category:"sports",onContentPlay:Nt,onContentDetail:Ae,onAddToPlaylist:Fe});case"playlist":return o.jsx(Zp,{onPlaylistOpen:V,getPlaylists:E,createPlaylist:j,subscribePlaylist:L,unsubscribePlaylist:O,currentUserId:n||void 0,onUserProfileOpen:Oe});case"playlist-detail":return console.log("🧭 renderCurrentPage - playlist-detail 진입, selectedPlaylistId:",K),console.log("🎬 renderCurrentPage - playlist-detail 조건 체크",{selectedPlaylistId:K,isSharedPlaylistPage:u}),u&&!K?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"플레이리스트 불러오는 중..."}):K?o.jsx(rT,{playlistId:K,onBack:me,onContentPlay:Nt,getPlaylistById:b,addPlaylistContents:D,deletePlaylistContents:k,currentUserId:n||void 0,isSharedAccess:ce}):o.jsx(Zp,{onPlaylistOpen:V,getPlaylists:E,createPlaylist:j});case"content-detail":return _?o.jsx(mR,{content:_,onBack:oe,onPlay:Nt,currentUser:n?{id:n,name:"",avatar:void 0}:void 0}):ce?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"공유 링크로 접근하셨습니다. 플레이리스트만 조회 가능합니다."})}):o.jsx(Pi,{onPageChange:qe,onPlaylistOpen:V,onContentPlay:Nt,onJoinRoom:jt});case"watch-party":return ue&&n?o.jsx(n5,{roomId:ue,userId:n,onBack:ge,shouldConnect:Ee,onUserProfileOpen:Oe}):ce?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"공유 링크로 접근하셨습니다. 플레이리스트만 조회 가능합니다."})}):o.jsx(Pi,{onPageChange:qe,onPlaylistOpen:V,onContentPlay:Nt,onJoinRoom:jt});case"user-profile":return I?o.jsx(_5,{userId:I,currentUserId:n,onBack:dt,authenticatedFetch:v,onUserProfileOpen:Oe},I):ce?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"공유 링크로 접근하셨습니다. 플레이리스트만 조회 가능합니다."})}):o.jsx(Pi,{onPageChange:qe,onPlaylistOpen:V,onContentPlay:Nt,onJoinRoom:jt});case"live":return o.jsx(r5,{onJoinRoom:jt,onCreateRoom:ye,currentUserId:n});default:return ce?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"공유 링크로 접근하셨습니다. 플레이리스트만 조회 가능합니다."})}):o.jsx(Pi,{onPageChange:qe,onPlaylistOpen:V,onContentPlay:Nt,onJoinRoom:jt})}};return h==="watch-party"||h==="content-detail"||h==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[bm(),o.jsx(Qg,{isOpen:Ce,onClose:()=>Me(!1),onCreateWatchParty:pt,content:Xe}),o.jsx(Jg,{isOpen:Y,onClose:wt,content:q,getPlaylists:E,createPlaylist:j,addPlaylistContents:D}),o.jsx(Zg,{isOpen:W,onClose:je,onCreateRoom:Nr,userId:n||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(pE,{currentPage:h,onPageChange:qe,onProfileClick:Ue,onMyProfileClick:et,onCloseDM:wm,onLogout:Ze,authenticatedFetch:v,userId:n,refreshUserProfile:We,deleteNotification:y,deleteAllNotifications:N,refreshAccessToken:g,isSharedAccess:ce}),o.jsx("main",{className:"flex-1",onClick:tS,children:bm()}),o.jsx(gE,{}),o.jsx(pR,{isOpen:ee,onClose:Be,userId:n,targetUserId:xe,authenticatedFetch:v,onUserProfileOpen:Oe,refreshUserProfile:We,onPlaylistOpen:V}),!ce&&o.jsxs(o.Fragment,{children:[o.jsx(MR,{isOpen:J,onClose:Q1,onOpenChat:J1,authenticatedFetch:v,currentUserId:n,getDmRooms:C,getOrCreateDmRoom:P}),o.jsx(R3,{isOpen:fe,onClose:Z1,onBack:eS,user:le,currentUserId:n,getDmMessages:R})]}),o.jsx(Qg,{isOpen:Ce,onClose:()=>Me(!1),onCreateWatchParty:pt,content:Xe}),o.jsx(Jg,{isOpen:Y,onClose:wt,content:q,getPlaylists:E,createPlaylist:j,addPlaylistContents:D}),o.jsx(Zg,{isOpen:W,onClose:je,onCreateRoom:Nr,userId:n||""}),!ce&&o.jsx($,{size:"lg",onClick:jr,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${J||fe?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(Dd,{className:"w-6 h-6"})}),o.jsx(ck,{richColors:!0,position:"top-center"})]})}$u.createRoot(document.getElementById("root")).render(o.jsx(te.StrictMode,{children:o.jsx(tC,{children:o.jsx(A5,{})})}));
