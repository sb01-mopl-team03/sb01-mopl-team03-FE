var tb=Object.defineProperty;var rb=(e,t,r)=>t in e?tb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ze=(e,t,r)=>rb(e,typeof t!="symbol"?t+"":t,r);function nb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Td(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hp={exports:{}},xl={},Vp={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=Symbol.for("react.element"),ob=Symbol.for("react.portal"),ib=Symbol.for("react.fragment"),ab=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),cb=Symbol.for("react.provider"),ub=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),hb=Symbol.for("react.memo"),mb=Symbol.for("react.lazy"),jh=Symbol.iterator;function pb(e){return e===null||typeof e!="object"?null:(e=jh&&e[jh]||e["@@iterator"],typeof e=="function"?e:null)}var Kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gp=Object.assign,Xp={};function ro(e,t,r){this.props=e,this.context=t,this.refs=Xp,this.updater=r||Kp}ro.prototype.isReactComponent={};ro.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qp(){}qp.prototype=ro.prototype;function _d(e,t,r){this.props=e,this.context=t,this.refs=Xp,this.updater=r||Kp}var Rd=_d.prototype=new qp;Rd.constructor=_d;Gp(Rd,ro.prototype);Rd.isPureReactComponent=!0;var Nh=Array.isArray,Qp=Object.prototype.hasOwnProperty,Pd={current:null},Yp={key:!0,ref:!0,__self:!0,__source:!0};function Jp(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Qp.call(t,n)&&!Yp.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:wi,type:e,key:i,ref:a,props:s,_owner:Pd.current}}function gb(e,t){return{$$typeof:wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ad(e){return typeof e=="object"&&e!==null&&e.$$typeof===wi}function vb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sh=/\/+/g;function oc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vb(""+e.key):t.toString(36)}function ba(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case wi:case ob:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+oc(a,0):n,Nh(s)?(r="",e!=null&&(r=e.replace(Sh,"$&/")+"/"),ba(s,t,r,"",function(u){return u})):s!=null&&(Ad(s)&&(s=gb(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Sh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Nh(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+oc(i,l);a+=ba(i,t,r,c,s)}else if(c=pb(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+oc(i,l++),a+=ba(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Fi(e,t,r){if(e==null)return e;var n=[],s=0;return ba(e,n,"","",function(i){return t.call(r,i,s++)}),n}function xb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},ja={transition:null},yb={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:ja,ReactCurrentOwner:Pd};function Zp(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Fi,forEach:function(e,t,r){Fi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fi(e,function(){t++}),t},toArray:function(e){return Fi(e,function(t){return t})||[]},only:function(e){if(!Ad(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=ro;fe.Fragment=ib;fe.Profiler=lb;fe.PureComponent=_d;fe.StrictMode=ab;fe.Suspense=fb;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yb;fe.act=Zp;fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Gp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Pd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Qp.call(t,c)&&!Yp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:wi,type:e.type,key:s,ref:i,props:n,_owner:a}};fe.createContext=function(e){return e={$$typeof:ub,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cb,_context:e},e.Consumer=e};fe.createElement=Jp;fe.createFactory=function(e){var t=Jp.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:db,render:e}};fe.isValidElement=Ad;fe.lazy=function(e){return{$$typeof:mb,_payload:{_status:-1,_result:e},_init:xb}};fe.memo=function(e,t){return{$$typeof:hb,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=ja.transition;ja.transition={};try{e()}finally{ja.transition=t}};fe.unstable_act=Zp;fe.useCallback=function(e,t){return St.current.useCallback(e,t)};fe.useContext=function(e){return St.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return St.current.useDeferredValue(e)};fe.useEffect=function(e,t){return St.current.useEffect(e,t)};fe.useId=function(){return St.current.useId()};fe.useImperativeHandle=function(e,t,r){return St.current.useImperativeHandle(e,t,r)};fe.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return St.current.useMemo(e,t)};fe.useReducer=function(e,t,r){return St.current.useReducer(e,t,r)};fe.useRef=function(e){return St.current.useRef(e)};fe.useState=function(e){return St.current.useState(e)};fe.useSyncExternalStore=function(e,t,r){return St.current.useSyncExternalStore(e,t,r)};fe.useTransition=function(){return St.current.useTransition()};fe.version="18.3.1";Vp.exports=fe;var d=Vp.exports;const Ur=Td(d),eg=nb({__proto__:null,default:Ur},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb=d,bb=Symbol.for("react.element"),jb=Symbol.for("react.fragment"),Nb=Object.prototype.hasOwnProperty,Sb=wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kb={key:!0,ref:!0,__self:!0,__source:!0};function tg(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Nb.call(t,n)&&!kb.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:bb,type:e,key:i,ref:a,props:s,_owner:Sb.current}}xl.Fragment=jb;xl.jsx=tg;xl.jsxs=tg;Hp.exports=xl;var o=Hp.exports,nu={},rg={exports:{}},Ut={},ng={exports:{}},sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,W){var H=A.length;A.push(W);e:for(;0<H;){var X=H-1>>>1,Z=A[X];if(0<s(Z,W))A[X]=W,A[H]=Z,H=X;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var W=A[0],H=A.pop();if(H!==W){A[0]=H;e:for(var X=0,Z=A.length,oe=Z>>>1;X<oe;){var xe=2*(X+1)-1,Ee=A[xe],ke=xe+1,re=A[ke];if(0>s(Ee,H))ke<Z&&0>s(re,Ee)?(A[X]=re,A[ke]=H,X=ke):(A[X]=Ee,A[xe]=H,X=xe);else if(ke<Z&&0>s(re,H))A[X]=re,A[ke]=H,X=ke;else break e}}return W}function s(A,W){var H=A.sortIndex-W.sortIndex;return H!==0?H:A.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,y=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=A)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function b(A){if(x=!1,v(A),!w)if(r(c)!==null)w=!0,E(C);else{var W=r(u);W!==null&&D(b,W.startTime-A)}}function C(A,W){w=!1,x&&(x=!1,g(k),k=-1),y=!0;var H=m;try{for(v(W),f=r(c);f!==null&&(!(f.expirationTime>W)||A&&!z());){var X=f.callback;if(typeof X=="function"){f.callback=null,m=f.priorityLevel;var Z=X(f.expirationTime<=W);W=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(c)&&n(c),v(W)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var xe=r(u);xe!==null&&D(b,xe.startTime-W),oe=!1}return oe}finally{f=null,m=H,y=!1}}var R=!1,S=null,k=-1,_=5,P=-1;function z(){return!(e.unstable_now()-P<_)}function N(){if(S!==null){var A=e.unstable_now();P=A;var W=!0;try{W=S(!0,A)}finally{W?T():(R=!1,S=null)}}else R=!1}var T;if(typeof p=="function")T=function(){p(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=N,T=function(){V.postMessage(null)}}else T=function(){j(N,0)};function E(A){S=A,R||(R=!0,T())}function D(A,W){k=j(function(){A(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,E(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var H=m;m=W;try{return A()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,W){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=m;m=A;try{return W()}finally{m=H}},e.unstable_scheduleCallback=function(A,W,H){var X=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,A){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,A={id:h++,callback:W,priorityLevel:A,startTime:H,expirationTime:Z,sortIndex:-1},H>X?(A.sortIndex=H,t(u,A),r(c)===null&&A===r(u)&&(x?(g(k),k=-1):x=!0,D(b,H-X))):(A.sortIndex=Z,t(c,A),w||y||(w=!0,E(C))),A},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(A){var W=m;return function(){var H=m;m=W;try{return A.apply(this,arguments)}finally{m=H}}}})(sg);ng.exports=sg;var Cb=ng.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=d,Bt=Cb;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var og=new Set,qo={};function os(e,t){Us(e,t),Us(e+"Capture",t)}function Us(e,t){for(qo[e]=t,e=0;e<t.length;e++)og.add(t[e])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=Object.prototype.hasOwnProperty,Tb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kh={},Ch={};function _b(e){return su.call(Ch,e)?!0:su.call(kh,e)?!1:Tb.test(e)?Ch[e]=!0:(kh[e]=!0,!1)}function Rb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pb(e,t,r,n){if(t===null||typeof t>"u"||Rb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dt[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dt[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dt[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dt[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Id=/[\-:]([a-z])/g;function Od(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Id,Od);dt[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Id,Od);dt[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Id,Od);dt[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dt[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});dt.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dt[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Md(e,t,r,n){var s=dt.hasOwnProperty(t)?dt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pb(t,r,s,n)&&(r=null),n||s===null?_b(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var rn=Eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),ws=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),Ld=Symbol.for("react.strict_mode"),ou=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),ag=Symbol.for("react.context"),Dd=Symbol.for("react.forward_ref"),iu=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),$d=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),lg=Symbol.for("react.offscreen"),Eh=Symbol.iterator;function xo(e){return e===null||typeof e!="object"?null:(e=Eh&&e[Eh]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,ic;function Ro(e){if(ic===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ic=t&&t[1]||""}return`
`+ic+e}var ac=!1;function lc(e,t){if(!e||ac)return"";ac=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ac=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ro(e):""}function Ab(e){switch(e.tag){case 5:return Ro(e.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return e=lc(e.type,!1),e;case 11:return e=lc(e.type.render,!1),e;case 1:return e=lc(e.type,!0),e;default:return""}}function lu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bs:return"Fragment";case ws:return"Portal";case ou:return"Profiler";case Ld:return"StrictMode";case iu:return"Suspense";case au:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ag:return(e.displayName||"Context")+".Consumer";case ig:return(e._context.displayName||"Context")+".Provider";case Dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $d:return t=e.displayName||null,t!==null?t:lu(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return lu(e(t))}catch{}}return null}function Ib(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lu(t);case 8:return t===Ld?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ob(e){var t=cg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){e._valueTracker||(e._valueTracker=Ob(e))}function ug(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=cg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function La(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cu(e,t){var r=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Th(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Cn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dg(e,t){t=t.checked,t!=null&&Md(e,"checked",t,!1)}function uu(e,t){dg(e,t);var r=Cn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?du(e,t.type,r):t.hasOwnProperty("defaultValue")&&du(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _h(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function du(e,t,r){(t!=="number"||La(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Po=Array.isArray;function Is(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Cn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(Po(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Cn(r)}}function fg(e,t){var r=Cn(t.value),n=Cn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ph(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ui,mg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ui.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mb=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(e){Mb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Do[t]=Do[e]})});function pg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Do.hasOwnProperty(e)&&Do[e]?(""+t).trim():t+"px"}function gg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Lb=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mu(e,t){if(t){if(Lb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function pu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function zd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vu=null,Os=null,Ms=null;function Ah(e){if(e=Ni(e)){if(typeof vu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Nl(t),vu(e.stateNode,e.type,t))}}function vg(e){Os?Ms?Ms.push(e):Ms=[e]:Os=e}function xg(){if(Os){var e=Os,t=Ms;if(Ms=Os=null,Ah(e),t)for(e=0;e<t.length;e++)Ah(t[e])}}function yg(e,t){return e(t)}function wg(){}var cc=!1;function bg(e,t,r){if(cc)return e(t,r);cc=!0;try{return yg(e,t,r)}finally{cc=!1,(Os!==null||Ms!==null)&&(wg(),xg())}}function Yo(e,t){var r=e.stateNode;if(r===null)return null;var n=Nl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var xu=!1;if(Qr)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){xu=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{xu=!1}function Db(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var $o=!1,Da=null,$a=!1,yu=null,$b={onError:function(e){$o=!0,Da=e}};function zb(e,t,r,n,s,i,a,l,c){$o=!1,Da=null,Db.apply($b,arguments)}function Fb(e,t,r,n,s,i,a,l,c){if(zb.apply(this,arguments),$o){if($o){var u=Da;$o=!1,Da=null}else throw Error(U(198));$a||($a=!0,yu=u)}}function is(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ih(e){if(is(e)!==e)throw Error(U(188))}function Bb(e){var t=e.alternate;if(!t){if(t=is(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ih(s),e;if(i===n)return Ih(s),t;i=i.sibling}throw Error(U(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function Ng(e){return e=Bb(e),e!==null?Sg(e):null}function Sg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sg(e);if(t!==null)return t;e=e.sibling}return null}var kg=Bt.unstable_scheduleCallback,Oh=Bt.unstable_cancelCallback,Wb=Bt.unstable_shouldYield,Ub=Bt.unstable_requestPaint,Xe=Bt.unstable_now,Hb=Bt.unstable_getCurrentPriorityLevel,Fd=Bt.unstable_ImmediatePriority,Cg=Bt.unstable_UserBlockingPriority,za=Bt.unstable_NormalPriority,Vb=Bt.unstable_LowPriority,Eg=Bt.unstable_IdlePriority,yl=null,Tr=null;function Kb(e){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(yl,e,void 0,(e.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:qb,Gb=Math.log,Xb=Math.LN2;function qb(e){return e>>>=0,e===0?32:31-(Gb(e)/Xb|0)|0}var Hi=64,Vi=4194304;function Ao(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ao(l):(i&=a,i!==0&&(n=Ao(i)))}else a=r&~s,a!==0?n=Ao(a):i!==0&&(n=Ao(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-hr(t),s=1<<r,n|=e[r],t&=~s;return n}function Qb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-hr(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=Qb(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function wu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tg(){var e=Hi;return Hi<<=1,!(Hi&4194240)&&(Hi=64),e}function uc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hr(t),e[t]=r}function Jb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-hr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Bd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-hr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ce=0;function _g(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rg,Wd,Pg,Ag,Ig,bu=!1,Ki=[],vn=null,xn=null,yn=null,Jo=new Map,Zo=new Map,dn=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mh(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function wo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ni(t),t!==null&&Wd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function e1(e,t,r,n,s){switch(t){case"focusin":return vn=wo(vn,e,t,r,n,s),!0;case"dragenter":return xn=wo(xn,e,t,r,n,s),!0;case"mouseover":return yn=wo(yn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Jo.set(i,wo(Jo.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Zo.set(i,wo(Zo.get(i)||null,e,t,r,n,s)),!0}return!1}function Og(e){var t=Un(e.target);if(t!==null){var r=is(t);if(r!==null){if(t=r.tag,t===13){if(t=jg(r),t!==null){e.blockedOn=t,Ig(e.priority,function(){Pg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ju(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gu=n,r.target.dispatchEvent(n),gu=null}else return t=Ni(r),t!==null&&Wd(t),e.blockedOn=r,!1;t.shift()}return!0}function Lh(e,t,r){Na(e)&&r.delete(t)}function t1(){bu=!1,vn!==null&&Na(vn)&&(vn=null),xn!==null&&Na(xn)&&(xn=null),yn!==null&&Na(yn)&&(yn=null),Jo.forEach(Lh),Zo.forEach(Lh)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,bu||(bu=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,t1)))}function ei(e){function t(s){return bo(s,e)}if(0<Ki.length){bo(Ki[0],e);for(var r=1;r<Ki.length;r++){var n=Ki[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vn!==null&&bo(vn,e),xn!==null&&bo(xn,e),yn!==null&&bo(yn,e),Jo.forEach(t),Zo.forEach(t),r=0;r<dn.length;r++)n=dn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<dn.length&&(r=dn[0],r.blockedOn===null);)Og(r),r.blockedOn===null&&dn.shift()}var Ls=rn.ReactCurrentBatchConfig,Ba=!0;function r1(e,t,r,n){var s=Ce,i=Ls.transition;Ls.transition=null;try{Ce=1,Ud(e,t,r,n)}finally{Ce=s,Ls.transition=i}}function n1(e,t,r,n){var s=Ce,i=Ls.transition;Ls.transition=null;try{Ce=4,Ud(e,t,r,n)}finally{Ce=s,Ls.transition=i}}function Ud(e,t,r,n){if(Ba){var s=ju(e,t,r,n);if(s===null)wc(e,t,n,Wa,r),Mh(e,n);else if(e1(s,e,t,r,n))n.stopPropagation();else if(Mh(e,n),t&4&&-1<Zb.indexOf(e)){for(;s!==null;){var i=Ni(s);if(i!==null&&Rg(i),i=ju(e,t,r,n),i===null&&wc(e,t,n,Wa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wc(e,t,n,null,r)}}var Wa=null;function ju(e,t,r,n){if(Wa=null,e=zd(n),e=Un(e),e!==null)if(t=is(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wa=e,null}function Mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hb()){case Fd:return 1;case Cg:return 4;case za:case Vb:return 16;case Eg:return 536870912;default:return 16}default:return 16}}var pn=null,Hd=null,Sa=null;function Lg(){if(Sa)return Sa;var e,t=Hd,r=t.length,n,s="value"in pn?pn.value:pn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Sa=s.slice(e,1<n?1-n:void 0)}function ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Dh(){return!1}function Ht(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gi:Dh,this.isPropagationStopped=Dh,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=Ht(no),ji=He({},no,{view:0,detail:0}),s1=Ht(ji),dc,fc,jo,wl=He({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jo&&(jo&&e.type==="mousemove"?(dc=e.screenX-jo.screenX,fc=e.screenY-jo.screenY):fc=dc=0,jo=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:fc}}),$h=Ht(wl),o1=He({},wl,{dataTransfer:0}),i1=Ht(o1),a1=He({},ji,{relatedTarget:0}),hc=Ht(a1),l1=He({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),c1=Ht(l1),u1=He({},no,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d1=Ht(u1),f1=He({},no,{data:0}),zh=Ht(f1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p1[e])?!!t[e]:!1}function Kd(){return g1}var v1=He({},ji,{key:function(e){if(e.key){var t=h1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(e){return e.type==="keypress"?ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x1=Ht(v1),y1=He({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=Ht(y1),w1=He({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),b1=Ht(w1),j1=He({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=Ht(j1),S1=He({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k1=Ht(S1),C1=[9,13,27,32],Gd=Qr&&"CompositionEvent"in window,zo=null;Qr&&"documentMode"in document&&(zo=document.documentMode);var E1=Qr&&"TextEvent"in window&&!zo,Dg=Qr&&(!Gd||zo&&8<zo&&11>=zo),Bh=" ",Wh=!1;function $g(e,t){switch(e){case"keyup":return C1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function T1(e,t){switch(e){case"compositionend":return zg(t);case"keypress":return t.which!==32?null:(Wh=!0,Bh);case"textInput":return e=t.data,e===Bh&&Wh?null:e;default:return null}}function _1(e,t){if(js)return e==="compositionend"||!Gd&&$g(e,t)?(e=Lg(),Sa=Hd=pn=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dg&&t.locale!=="ko"?null:t.data;default:return null}}var R1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R1[e.type]:t==="textarea"}function Fg(e,t,r,n){vg(n),t=Ua(t,"onChange"),0<t.length&&(r=new Vd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fo=null,ti=null;function P1(e){Yg(e,0)}function bl(e){var t=ks(e);if(ug(t))return e}function A1(e,t){if(e==="change")return t}var Bg=!1;if(Qr){var mc;if(Qr){var pc="oninput"in document;if(!pc){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),pc=typeof Hh.oninput=="function"}mc=pc}else mc=!1;Bg=mc&&(!document.documentMode||9<document.documentMode)}function Vh(){Fo&&(Fo.detachEvent("onpropertychange",Wg),ti=Fo=null)}function Wg(e){if(e.propertyName==="value"&&bl(ti)){var t=[];Fg(t,ti,e,zd(e)),bg(P1,t)}}function I1(e,t,r){e==="focusin"?(Vh(),Fo=t,ti=r,Fo.attachEvent("onpropertychange",Wg)):e==="focusout"&&Vh()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(ti)}function M1(e,t){if(e==="click")return bl(t)}function L1(e,t){if(e==="input"||e==="change")return bl(t)}function D1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:D1;function ri(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!su.call(t,s)||!pr(e[s],t[s]))return!1}return!0}function Kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gh(e,t){var r=Kh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kh(r)}}function Ug(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ug(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hg(){for(var e=window,t=La();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=La(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $1(e){var t=Hg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ug(r.ownerDocument.documentElement,r)){if(n!==null&&Xd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Gh(r,i);var a=Gh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var z1=Qr&&"documentMode"in document&&11>=document.documentMode,Ns=null,Nu=null,Bo=null,Su=!1;function Xh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Su||Ns==null||Ns!==La(n)||(n=Ns,"selectionStart"in n&&Xd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bo&&ri(Bo,n)||(Bo=n,n=Ua(Nu,"onSelect"),0<n.length&&(t=new Vd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ns)))}function Xi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ss={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},gc={},Vg={};Qr&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function jl(e){if(gc[e])return gc[e];if(!Ss[e])return e;var t=Ss[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vg)return gc[e]=t[r];return e}var Kg=jl("animationend"),Gg=jl("animationiteration"),Xg=jl("animationstart"),qg=jl("transitionend"),Qg=new Map,qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){Qg.set(e,t),os(t,[e])}for(var vc=0;vc<qh.length;vc++){var xc=qh[vc],F1=xc.toLowerCase(),B1=xc[0].toUpperCase()+xc.slice(1);In(F1,"on"+B1)}In(Kg,"onAnimationEnd");In(Gg,"onAnimationIteration");In(Xg,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(qg,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Qh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Fb(n,t,void 0,e),e.currentTarget=null}function Yg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Qh(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Qh(s,l,u),i=c}}}if($a)throw e=yu,$a=!1,yu=null,e}function Ie(e,t){var r=t[_u];r===void 0&&(r=t[_u]=new Set);var n=e+"__bubble";r.has(n)||(Jg(t,e,2,!1),r.add(n))}function yc(e,t,r){var n=0;t&&(n|=4),Jg(r,e,n,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function ni(e){if(!e[qi]){e[qi]=!0,og.forEach(function(r){r!=="selectionchange"&&(W1.has(r)||yc(r,!1,e),yc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,yc("selectionchange",!1,t))}}function Jg(e,t,r,n){switch(Mg(t)){case 1:var s=r1;break;case 4:s=n1;break;default:s=Ud}r=s.bind(null,t,r,e),s=void 0,!xu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function wc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Un(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}bg(function(){var u=i,h=zd(r),f=[];e:{var m=Qg.get(e);if(m!==void 0){var y=Vd,w=e;switch(e){case"keypress":if(ka(r)===0)break e;case"keydown":case"keyup":y=x1;break;case"focusin":w="focus",y=hc;break;case"focusout":w="blur",y=hc;break;case"beforeblur":case"afterblur":y=hc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=i1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=b1;break;case Kg:case Gg:case Xg:y=c1;break;case qg:y=N1;break;case"scroll":y=s1;break;case"wheel":y=k1;break;case"copy":case"cut":case"paste":y=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Fh}var x=(t&4)!==0,j=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=Yo(p,g),b!=null&&x.push(si(p,b,v)))),j)break;p=p.return}0<x.length&&(m=new y(m,w,null,r,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==gu&&(w=r.relatedTarget||r.fromElement)&&(Un(w)||w[Yr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?Un(w):null,w!==null&&(j=is(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=$h,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Fh,b="onPointerLeave",g="onPointerEnter",p="pointer"),j=y==null?m:ks(y),v=w==null?m:ks(w),m=new x(b,p+"leave",y,r,h),m.target=j,m.relatedTarget=v,b=null,Un(h)===u&&(x=new x(g,p+"enter",w,r,h),x.target=v,x.relatedTarget=j,b=x),j=b,y&&w)t:{for(x=y,g=w,p=0,v=x;v;v=gs(v))p++;for(v=0,b=g;b;b=gs(b))v++;for(;0<p-v;)x=gs(x),p--;for(;0<v-p;)g=gs(g),v--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=gs(x),g=gs(g)}x=null}else x=null;y!==null&&Yh(f,m,y,x,!1),w!==null&&j!==null&&Yh(f,j,w,x,!0)}}e:{if(m=u?ks(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var C=A1;else if(Uh(m))if(Bg)C=L1;else{C=O1;var R=I1}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=M1);if(C&&(C=C(e,u))){Fg(f,C,r,h);break e}R&&R(e,m,u),e==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&du(m,"number",m.value)}switch(R=u?ks(u):window,e){case"focusin":(Uh(R)||R.contentEditable==="true")&&(Ns=R,Nu=u,Bo=null);break;case"focusout":Bo=Nu=Ns=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Xh(f,r,h);break;case"selectionchange":if(z1)break;case"keydown":case"keyup":Xh(f,r,h)}var S;if(Gd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else js?$g(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Dg&&r.locale!=="ko"&&(js||k!=="onCompositionStart"?k==="onCompositionEnd"&&js&&(S=Lg()):(pn=h,Hd="value"in pn?pn.value:pn.textContent,js=!0)),R=Ua(u,k),0<R.length&&(k=new zh(k,e,null,r,h),f.push({event:k,listeners:R}),S?k.data=S:(S=zg(r),S!==null&&(k.data=S)))),(S=E1?T1(e,r):_1(e,r))&&(u=Ua(u,"onBeforeInput"),0<u.length&&(h=new zh("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=S))}Yg(f,t)})}function si(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ua(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yo(e,r),i!=null&&n.unshift(si(e,i,s)),i=Yo(e,t),i!=null&&n.push(si(e,i,s))),e=e.return}return n}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yh(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Yo(r,i),c!=null&&a.unshift(si(r,c,l))):s||(c=Yo(r,i),c!=null&&a.push(si(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var U1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Jh(e){return(typeof e=="string"?e:""+e).replace(U1,`
`).replace(H1,"")}function Qi(e,t,r){if(t=Jh(t),Jh(e)!==t&&r)throw Error(U(425))}function Ha(){}var ku=null,Cu=null;function Eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(e){return Zh.resolve(null).then(e).catch(G1)}:Tu;function G1(e){setTimeout(function(){throw e})}function bc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ei(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ei(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),Sr="__reactFiber$"+so,oi="__reactProps$"+so,Yr="__reactContainer$"+so,_u="__reactEvents$"+so,X1="__reactListeners$"+so,q1="__reactHandles$"+so;function Un(e){var t=e[Sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yr]||r[Sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=em(e);e!==null;){if(r=e[Sr])return r;e=em(e)}return t}e=r,r=e.parentNode}return null}function Ni(e){return e=e[Sr]||e[Yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Nl(e){return e[oi]||null}var Ru=[],Cs=-1;function On(e){return{current:e}}function Oe(e){0>Cs||(e.current=Ru[Cs],Ru[Cs]=null,Cs--)}function Re(e,t){Cs++,Ru[Cs]=e.current,e.current=t}var En={},xt=On(En),Rt=On(!1),qn=En;function Hs(e,t){var r=e.type.contextTypes;if(!r)return En;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(e){return e=e.childContextTypes,e!=null}function Va(){Oe(Rt),Oe(xt)}function tm(e,t,r){if(xt.current!==En)throw Error(U(168));Re(xt,t),Re(Rt,r)}function Zg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(U(108,Ib(e)||"Unknown",s));return He({},r,n)}function Ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,qn=xt.current,Re(xt,e),Re(Rt,Rt.current),!0}function rm(e,t,r){var n=e.stateNode;if(!n)throw Error(U(169));r?(e=Zg(e,t,qn),n.__reactInternalMemoizedMergedChildContext=e,Oe(Rt),Oe(xt),Re(xt,e)):Oe(Rt),Re(Rt,r)}var Vr=null,Sl=!1,jc=!1;function ev(e){Vr===null?Vr=[e]:Vr.push(e)}function Q1(e){Sl=!0,ev(e)}function Mn(){if(!jc&&Vr!==null){jc=!0;var e=0,t=Ce;try{var r=Vr;for(Ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vr=null,Sl=!1}catch(s){throw Vr!==null&&(Vr=Vr.slice(e+1)),kg(Fd,Mn),s}finally{Ce=t,jc=!1}}return null}var Es=[],Ts=0,Ga=null,Xa=0,Xt=[],qt=0,Qn=null,Kr=1,Gr="";function Fn(e,t){Es[Ts++]=Xa,Es[Ts++]=Ga,Ga=e,Xa=t}function tv(e,t,r){Xt[qt++]=Kr,Xt[qt++]=Gr,Xt[qt++]=Qn,Qn=e;var n=Kr;e=Gr;var s=32-hr(n)-1;n&=~(1<<s),r+=1;var i=32-hr(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Kr=1<<32-hr(t)+s|r<<s|n,Gr=i+e}else Kr=1<<i|r<<s|n,Gr=e}function qd(e){e.return!==null&&(Fn(e,1),tv(e,1,0))}function Qd(e){for(;e===Ga;)Ga=Es[--Ts],Es[Ts]=null,Xa=Es[--Ts],Es[Ts]=null;for(;e===Qn;)Qn=Xt[--qt],Xt[qt]=null,Gr=Xt[--qt],Xt[qt]=null,Kr=Xt[--qt],Xt[qt]=null}var $t=null,Dt=null,Fe=!1,dr=null;function rv(e,t){var r=Qt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function nm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Dt=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qn!==null?{id:Kr,overflow:Gr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$t=e,Dt=null,!0):!1;default:return!1}}function Pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Au(e){if(Fe){var t=Dt;if(t){var r=t;if(!nm(e,t)){if(Pu(e))throw Error(U(418));t=wn(r.nextSibling);var n=$t;t&&nm(e,t)?rv(n,r):(e.flags=e.flags&-4097|2,Fe=!1,$t=e)}}else{if(Pu(e))throw Error(U(418));e.flags=e.flags&-4097|2,Fe=!1,$t=e}}}function sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function Yi(e){if(e!==$t)return!1;if(!Fe)return sm(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eu(e.type,e.memoizedProps)),t&&(t=Dt)){if(Pu(e))throw nv(),Error(U(418));for(;t;)rv(e,t),t=wn(t.nextSibling)}if(sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dt=wn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=$t?wn(e.stateNode.nextSibling):null;return!0}function nv(){for(var e=Dt;e;)e=wn(e.nextSibling)}function Vs(){Dt=$t=null,Fe=!1}function Yd(e){dr===null?dr=[e]:dr.push(e)}var Y1=rn.ReactCurrentBatchConfig;function No(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function om(e){var t=e._init;return t(e._payload)}function sv(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Sn(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,v,b){return p===null||p.tag!==6?(p=_c(v,g.mode,b),p.return=g,p):(p=s(p,v),p.return=g,p)}function c(g,p,v,b){var C=v.type;return C===bs?h(g,p,v.props.children,b,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===cn&&om(C)===p.type)?(b=s(p,v.props),b.ref=No(g,p,v),b.return=g,b):(b=Aa(v.type,v.key,v.props,null,g.mode,b),b.ref=No(g,p,v),b.return=g,b)}function u(g,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Rc(v,g.mode,b),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function h(g,p,v,b,C){return p===null||p.tag!==7?(p=Xn(v,g.mode,b,C),p.return=g,p):(p=s(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_c(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bi:return v=Aa(p.type,p.key,p.props,null,g.mode,v),v.ref=No(g,null,p),v.return=g,v;case ws:return p=Rc(p,g.mode,v),p.return=g,p;case cn:var b=p._init;return f(g,b(p._payload),v)}if(Po(p)||xo(p))return p=Xn(p,g.mode,v,null),p.return=g,p;Ji(g,p)}return null}function m(g,p,v,b){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(g,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bi:return v.key===C?c(g,p,v,b):null;case ws:return v.key===C?u(g,p,v,b):null;case cn:return C=v._init,m(g,p,C(v._payload),b)}if(Po(v)||xo(v))return C!==null?null:h(g,p,v,b,null);Ji(g,v)}return null}function y(g,p,v,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,l(p,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bi:return g=g.get(b.key===null?v:b.key)||null,c(p,g,b,C);case ws:return g=g.get(b.key===null?v:b.key)||null,u(p,g,b,C);case cn:var R=b._init;return y(g,p,v,R(b._payload),C)}if(Po(b)||xo(b))return g=g.get(v)||null,h(p,g,b,C,null);Ji(p,b)}return null}function w(g,p,v,b){for(var C=null,R=null,S=p,k=p=0,_=null;S!==null&&k<v.length;k++){S.index>k?(_=S,S=null):_=S.sibling;var P=m(g,S,v[k],b);if(P===null){S===null&&(S=_);break}e&&S&&P.alternate===null&&t(g,S),p=i(P,p,k),R===null?C=P:R.sibling=P,R=P,S=_}if(k===v.length)return r(g,S),Fe&&Fn(g,k),C;if(S===null){for(;k<v.length;k++)S=f(g,v[k],b),S!==null&&(p=i(S,p,k),R===null?C=S:R.sibling=S,R=S);return Fe&&Fn(g,k),C}for(S=n(g,S);k<v.length;k++)_=y(S,g,k,v[k],b),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?k:_.key),p=i(_,p,k),R===null?C=_:R.sibling=_,R=_);return e&&S.forEach(function(z){return t(g,z)}),Fe&&Fn(g,k),C}function x(g,p,v,b){var C=xo(v);if(typeof C!="function")throw Error(U(150));if(v=C.call(v),v==null)throw Error(U(151));for(var R=C=null,S=p,k=p=0,_=null,P=v.next();S!==null&&!P.done;k++,P=v.next()){S.index>k?(_=S,S=null):_=S.sibling;var z=m(g,S,P.value,b);if(z===null){S===null&&(S=_);break}e&&S&&z.alternate===null&&t(g,S),p=i(z,p,k),R===null?C=z:R.sibling=z,R=z,S=_}if(P.done)return r(g,S),Fe&&Fn(g,k),C;if(S===null){for(;!P.done;k++,P=v.next())P=f(g,P.value,b),P!==null&&(p=i(P,p,k),R===null?C=P:R.sibling=P,R=P);return Fe&&Fn(g,k),C}for(S=n(g,S);!P.done;k++,P=v.next())P=y(S,g,k,P.value,b),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?k:P.key),p=i(P,p,k),R===null?C=P:R.sibling=P,R=P);return e&&S.forEach(function(N){return t(g,N)}),Fe&&Fn(g,k),C}function j(g,p,v,b){if(typeof v=="object"&&v!==null&&v.type===bs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Bi:e:{for(var C=v.key,R=p;R!==null;){if(R.key===C){if(C=v.type,C===bs){if(R.tag===7){r(g,R.sibling),p=s(R,v.props.children),p.return=g,g=p;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===cn&&om(C)===R.type){r(g,R.sibling),p=s(R,v.props),p.ref=No(g,R,v),p.return=g,g=p;break e}r(g,R);break}else t(g,R);R=R.sibling}v.type===bs?(p=Xn(v.props.children,g.mode,b,v.key),p.return=g,g=p):(b=Aa(v.type,v.key,v.props,null,g.mode,b),b.ref=No(g,p,v),b.return=g,g=b)}return a(g);case ws:e:{for(R=v.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Rc(v,g.mode,b),p.return=g,g=p}return a(g);case cn:return R=v._init,j(g,p,R(v._payload),b)}if(Po(v))return w(g,p,v,b);if(xo(v))return x(g,p,v,b);Ji(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,v),p.return=g,g=p):(r(g,p),p=_c(v,g.mode,b),p.return=g,g=p),a(g)):r(g,p)}return j}var Ks=sv(!0),ov=sv(!1),qa=On(null),Qa=null,_s=null,Jd=null;function Zd(){Jd=_s=Qa=null}function ef(e){var t=qa.current;Oe(qa),e._currentValue=t}function Iu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ds(e,t){Qa=e,Jd=_s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(Jd!==e)if(e={context:e,memoizedValue:t,next:null},_s===null){if(Qa===null)throw Error(U(308));_s=e,Qa.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Hn=null;function tf(e){Hn===null?Hn=[e]:Hn.push(e)}function iv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,tf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Jr(e,n)}function Jr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var un=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function av(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Jr(e,r)}return s=n.interleaved,s===null?(t.next=t,tf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Jr(e,r)}function Ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bd(e,r)}}function im(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ya(e,t,r,n){var s=e.updateQueue;un=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,y=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(y,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(y,f,m):w,m==null)break e;f=He({},f,m);break e;case 2:un=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Jn|=a,e.lanes=a,e.memoizedState=f}}function am(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(U(191,s));s.call(n)}}}var Si={},_r=On(Si),ii=On(Si),ai=On(Si);function Vn(e){if(e===Si)throw Error(U(174));return e}function nf(e,t){switch(Re(ai,t),Re(ii,e),Re(_r,Si),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hu(t,e)}Oe(_r),Re(_r,t)}function Gs(){Oe(_r),Oe(ii),Oe(ai)}function lv(e){Vn(ai.current);var t=Vn(_r.current),r=hu(t,e.type);t!==r&&(Re(ii,e),Re(_r,r))}function sf(e){ii.current===e&&(Oe(_r),Oe(ii))}var Be=On(0);function Ja(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nc=[];function of(){for(var e=0;e<Nc.length;e++)Nc[e]._workInProgressVersionPrimary=null;Nc.length=0}var Ea=rn.ReactCurrentDispatcher,Sc=rn.ReactCurrentBatchConfig,Yn=0,Ue=null,tt=null,st=null,Za=!1,Wo=!1,li=0,J1=0;function mt(){throw Error(U(321))}function af(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function lf(e,t,r,n,s,i){if(Yn=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ea.current=e===null||e.memoizedState===null?rj:nj,e=r(n,s),Wo){i=0;do{if(Wo=!1,li=0,25<=i)throw Error(U(301));i+=1,st=tt=null,t.updateQueue=null,Ea.current=sj,e=r(n,s)}while(Wo)}if(Ea.current=el,t=tt!==null&&tt.next!==null,Yn=0,st=tt=Ue=null,Za=!1,t)throw Error(U(300));return e}function cf(){var e=li!==0;return li=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ue.memoizedState=st=e:st=st.next=e,st}function Zt(){if(tt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=st===null?Ue.memoizedState:st.next;if(t!==null)st=t,tt=e;else{if(e===null)throw Error(U(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},st===null?Ue.memoizedState=st=e:st=st.next=e}return st}function ci(e,t){return typeof t=="function"?t(e):t}function kc(e){var t=Zt(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=tt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((Yn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Ue.lanes|=h,Jn|=h}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,pr(n,t.memoizedState)||(_t=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ue.lanes|=i,Jn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cc(e){var t=Zt(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);pr(i,t.memoizedState)||(_t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function cv(){}function uv(e,t){var r=Ue,n=Zt(),s=t(),i=!pr(n.memoizedState,s);if(i&&(n.memoizedState=s,_t=!0),n=n.queue,uf(hv.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,ui(9,fv.bind(null,r,n,s,t),void 0,null),ot===null)throw Error(U(349));Yn&30||dv(r,t,s)}return s}function dv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fv(e,t,r,n){t.value=r,t.getSnapshot=n,mv(t)&&pv(e)}function hv(e,t,r){return r(function(){mv(t)&&pv(e)})}function mv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function pv(e){var t=Jr(e,1);t!==null&&mr(t,e,1,-1)}function lm(e){var t=Nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},t.queue=e,e=e.dispatch=tj.bind(null,Ue,e),[t.memoizedState,e]}function ui(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gv(){return Zt().memoizedState}function Ta(e,t,r,n){var s=Nr();Ue.flags|=e,s.memoizedState=ui(1|t,r,void 0,n===void 0?null:n)}function kl(e,t,r,n){var s=Zt();n=n===void 0?null:n;var i=void 0;if(tt!==null){var a=tt.memoizedState;if(i=a.destroy,n!==null&&af(n,a.deps)){s.memoizedState=ui(t,r,i,n);return}}Ue.flags|=e,s.memoizedState=ui(1|t,r,i,n)}function cm(e,t){return Ta(8390656,8,e,t)}function uf(e,t){return kl(2048,8,e,t)}function vv(e,t){return kl(4,2,e,t)}function xv(e,t){return kl(4,4,e,t)}function yv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wv(e,t,r){return r=r!=null?r.concat([e]):null,kl(4,4,yv.bind(null,t,e),r)}function df(){}function bv(e,t){var r=Zt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&af(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jv(e,t){var r=Zt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&af(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Nv(e,t,r){return Yn&21?(pr(r,t)||(r=Tg(),Ue.lanes|=r,Jn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=r)}function Z1(e,t){var r=Ce;Ce=r!==0&&4>r?r:4,e(!0);var n=Sc.transition;Sc.transition={};try{e(!1),t()}finally{Ce=r,Sc.transition=n}}function Sv(){return Zt().memoizedState}function ej(e,t,r){var n=Nn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kv(e))Cv(t,r);else if(r=iv(e,t,r,n),r!==null){var s=Nt();mr(r,e,n,s),Ev(r,t,n)}}function tj(e,t,r){var n=Nn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kv(e))Cv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,pr(l,a)){var c=t.interleaved;c===null?(s.next=s,tf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=iv(e,t,s,n),r!==null&&(s=Nt(),mr(r,e,n,s),Ev(r,t,n))}}function kv(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Cv(e,t){Wo=Za=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ev(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bd(e,r)}}var el={readContext:Jt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},rj={readContext:Jt,useCallback:function(e,t){return Nr().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:cm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ta(4194308,4,yv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var r=Nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ej.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=Nr();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:df,useDeferredValue:function(e){return Nr().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=Z1.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,s=Nr();if(Fe){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),ot===null)throw Error(U(349));Yn&30||dv(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,cm(hv.bind(null,n,i,e),[e]),n.flags|=2048,ui(9,fv.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Nr(),t=ot.identifierPrefix;if(Fe){var r=Gr,n=Kr;r=(n&~(1<<32-hr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=li++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=J1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nj={readContext:Jt,useCallback:bv,useContext:Jt,useEffect:uf,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:xv,useMemo:jv,useReducer:kc,useRef:gv,useState:function(){return kc(ci)},useDebugValue:df,useDeferredValue:function(e){var t=Zt();return Nv(t,tt.memoizedState,e)},useTransition:function(){var e=kc(ci)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:cv,useSyncExternalStore:uv,useId:Sv,unstable_isNewReconciler:!1},sj={readContext:Jt,useCallback:bv,useContext:Jt,useEffect:uf,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:xv,useMemo:jv,useReducer:Cc,useRef:gv,useState:function(){return Cc(ci)},useDebugValue:df,useDeferredValue:function(e){var t=Zt();return tt===null?t.memoizedState=e:Nv(t,tt.memoizedState,e)},useTransition:function(){var e=Cc(ci)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:cv,useSyncExternalStore:uv,useId:Sv,unstable_isNewReconciler:!1};function cr(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ou(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:He({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cl={isMounted:function(e){return(e=e._reactInternals)?is(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Nt(),s=Nn(e),i=Xr(n,s);i.payload=t,r!=null&&(i.callback=r),t=bn(e,i,s),t!==null&&(mr(t,e,s,n),Ca(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Nt(),s=Nn(e),i=Xr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=bn(e,i,s),t!==null&&(mr(t,e,s,n),Ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Nt(),n=Nn(e),s=Xr(r,n);s.tag=2,t!=null&&(s.callback=t),t=bn(e,s,n),t!==null&&(mr(t,e,n,r),Ca(t,e,n))}};function um(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ri(r,n)||!ri(s,i):!0}function Tv(e,t,r){var n=!1,s=En,i=t.contextType;return typeof i=="object"&&i!==null?i=Jt(i):(s=Pt(t)?qn:xt.current,n=t.contextTypes,i=(n=n!=null)?Hs(e,s):En),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function dm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cl.enqueueReplaceState(t,t.state,null)}function Mu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},rf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Jt(i):(i=Pt(t)?qn:xt.current,s.context=Hs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ou(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Cl.enqueueReplaceState(s,s.state,null),Ya(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xs(e,t){try{var r="",n=t;do r+=Ab(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ec(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oj=typeof WeakMap=="function"?WeakMap:Map;function _v(e,t,r){r=Xr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rl||(rl=!0,Ku=n),Lu(e,t)},r}function Rv(e,t,r){r=Xr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Lu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Lu(e,t),typeof n!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function fm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=yj.bind(null,e,t,r),t.then(e,e))}function hm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xr(-1,1),t.tag=2,bn(r,t,1))),r.lanes|=1),e)}var ij=rn.ReactCurrentOwner,_t=!1;function bt(e,t,r,n){t.child=e===null?ov(t,null,r,n):Ks(t,e.child,r,n)}function pm(e,t,r,n,s){r=r.render;var i=t.ref;return Ds(t,s),n=lf(e,t,r,n,i,s),r=cf(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zr(e,t,s)):(Fe&&r&&qd(t),t.flags|=1,bt(e,t,n,s),t.child)}function gm(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!yf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Pv(e,t,i,n,s)):(e=Aa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ri,r(a,n)&&e.ref===t.ref)return Zr(e,t,s)}return t.flags|=1,e=Sn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Pv(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ri(i,n)&&e.ref===t.ref)if(_t=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Zr(e,t,s)}return Du(e,t,r,n,s)}function Av(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ps,Ot),Ot|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Ps,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Re(Ps,Ot),Ot|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Re(Ps,Ot),Ot|=n;return bt(e,t,s,r),t.child}function Iv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Du(e,t,r,n,s){var i=Pt(r)?qn:xt.current;return i=Hs(t,i),Ds(t,s),r=lf(e,t,r,n,i,s),n=cf(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zr(e,t,s)):(Fe&&n&&qd(t),t.flags|=1,bt(e,t,r,s),t.child)}function vm(e,t,r,n,s){if(Pt(r)){var i=!0;Ka(t)}else i=!1;if(Ds(t,s),t.stateNode===null)_a(e,t),Tv(t,r,n),Mu(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=Pt(r)?qn:xt.current,u=Hs(t,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&dm(t,a,n,u),un=!1;var m=t.memoizedState;a.state=m,Ya(t,n,a,s),c=t.memoizedState,l!==n||m!==c||Rt.current||un?(typeof h=="function"&&(Ou(t,r,h,n),c=t.memoizedState),(l=un||um(t,r,l,n,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,av(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:cr(t.type,l),a.props=u,f=t.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jt(c):(c=Pt(r)?qn:xt.current,c=Hs(t,c));var y=r.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&dm(t,a,n,c),un=!1,m=t.memoizedState,a.state=m,Ya(t,n,a,s);var w=t.memoizedState;l!==f||m!==w||Rt.current||un?(typeof y=="function"&&(Ou(t,r,y,n),w=t.memoizedState),(u=un||um(t,r,u,n,m,w,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return $u(e,t,r,n,i,s)}function $u(e,t,r,n,s,i){Iv(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&rm(t,r,!1),Zr(e,t,i);n=t.stateNode,ij.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ks(t,e.child,null,i),t.child=Ks(t,null,l,i)):bt(e,t,l,i),t.memoizedState=n.state,s&&rm(t,r,!0),t.child}function Ov(e){var t=e.stateNode;t.pendingContext?tm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tm(e,t.context,!1),nf(e,t.containerInfo)}function xm(e,t,r,n,s){return Vs(),Yd(s),t.flags|=256,bt(e,t,r,n),t.child}var zu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mv(e,t,r){var n=t.pendingProps,s=Be.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(Be,s&1),e===null)return Au(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=_l(a,n,0,null),e=Xn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fu(r),t.memoizedState=zu,e):ff(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return aj(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Sn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=Xn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Fu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=zu,n}return i=e.child,e=i.sibling,n=Sn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ff(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zi(e,t,r,n){return n!==null&&Yd(n),Ks(t,e.child,null,r),e=ff(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aj(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Ec(Error(U(422))),Zi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=_l({mode:"visible",children:n.children},s,0,null),i=Xn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ks(t,e.child,null,a),t.child.memoizedState=Fu(a),t.memoizedState=zu,i);if(!(t.mode&1))return Zi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(U(419)),n=Ec(i,n,void 0),Zi(e,t,a,n)}if(l=(a&e.childLanes)!==0,_t||l){if(n=ot,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jr(e,s),mr(n,e,s,-1))}return xf(),n=Ec(Error(U(421))),Zi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Dt=wn(s.nextSibling),$t=t,Fe=!0,dr=null,e!==null&&(Xt[qt++]=Kr,Xt[qt++]=Gr,Xt[qt++]=Qn,Kr=e.id,Gr=e.overflow,Qn=t),t=ff(t,n.children),t.flags|=4096,t)}function ym(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Iu(e.return,t,r)}function Tc(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Lv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(bt(e,t,n.children,r),n=Be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,r,t);else if(e.tag===19)ym(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(Be,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ja(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Tc(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ja(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Tc(t,!0,r,null,i);break;case"together":Tc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _a(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Sn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lj(e,t,r){switch(t.tag){case 3:Ov(t),Vs();break;case 5:lv(t);break;case 1:Pt(t.type)&&Ka(t);break;case 4:nf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Re(qa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(Be,Be.current&1),t.flags|=128,null):r&t.child.childLanes?Mv(e,t,r):(Re(Be,Be.current&1),e=Zr(e,t,r),e!==null?e.sibling:null);Re(Be,Be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Lv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Be,Be.current),n)break;return null;case 22:case 23:return t.lanes=0,Av(e,t,r)}return Zr(e,t,r)}var Dv,Bu,$v,zv;Dv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bu=function(){};$v=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Vn(_r.current);var i=null;switch(r){case"input":s=cu(e,s),n=cu(e,n),i=[];break;case"select":s=He({},s,{value:void 0}),n=He({},n,{value:void 0}),i=[];break;case"textarea":s=fu(e,s),n=fu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ha)}mu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};zv=function(e,t,r,n){r!==n&&(t.flags|=4)};function So(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function cj(e,t,r){var n=t.pendingProps;switch(Qd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return Pt(t.type)&&Va(),pt(t),null;case 3:return n=t.stateNode,Gs(),Oe(Rt),Oe(xt),of(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dr!==null&&(qu(dr),dr=null))),Bu(e,t),pt(t),null;case 5:sf(t);var s=Vn(ai.current);if(r=t.type,e!==null&&t.stateNode!=null)$v(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return pt(t),null}if(e=Vn(_r.current),Yi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Sr]=t,n[oi]=i,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(s=0;s<Io.length;s++)Ie(Io[s],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Th(n,i),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",n);break;case"textarea":Rh(n,i),Ie("invalid",n)}mu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qi(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qi(n.textContent,l,e),s=["children",""+l]):qo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ie("scroll",n)}switch(r){case"input":Wi(n),_h(n,i,!0);break;case"textarea":Wi(n),Ph(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ha)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Sr]=t,e[oi]=n,Dv(e,t,!1,!1),t.stateNode=e;e:{switch(a=pu(r,n),r){case"dialog":Ie("cancel",e),Ie("close",e),s=n;break;case"iframe":case"object":case"embed":Ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<Io.length;s++)Ie(Io[s],e);s=n;break;case"source":Ie("error",e),s=n;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=n;break;case"details":Ie("toggle",e),s=n;break;case"input":Th(e,n),s=cu(e,n),Ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=He({},n,{value:void 0}),Ie("invalid",e);break;case"textarea":Rh(e,n),s=fu(e,n),Ie("invalid",e);break;default:s=n}mu(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?gg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mg(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qo(e,c):typeof c=="number"&&Qo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",e):c!=null&&Md(e,i,c,a))}switch(r){case"input":Wi(e),_h(e,n,!1);break;case"textarea":Wi(e),Ph(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Cn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Is(e,!!n.multiple,i,!1):n.defaultValue!=null&&Is(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ha)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)zv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(r=Vn(ai.current),Vn(_r.current),Yi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Sr]=t,(i=n.nodeValue!==r)&&(e=$t,e!==null))switch(e.tag){case 3:Qi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Sr]=t,t.stateNode=n}return pt(t),null;case 13:if(Oe(Be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Dt!==null&&t.mode&1&&!(t.flags&128))nv(),Vs(),t.flags|=98560,i=!1;else if(i=Yi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Sr]=t}else Vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),i=!1}else dr!==null&&(qu(dr),dr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?rt===0&&(rt=3):xf())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return Gs(),Bu(e,t),e===null&&ni(t.stateNode.containerInfo),pt(t),null;case 10:return ef(t.type._context),pt(t),null;case 17:return Pt(t.type)&&Va(),pt(t),null;case 19:if(Oe(Be),i=t.memoizedState,i===null)return pt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)So(i,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ja(e),a!==null){for(t.flags|=128,So(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Be,Be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xe()>qs&&(t.flags|=128,n=!0,So(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ja(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),So(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Fe)return pt(t),null}else 2*Xe()-i.renderingStartTime>qs&&r!==1073741824&&(t.flags|=128,n=!0,So(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=Be.current,Re(Be,n?r&1|2:r&1),t):(pt(t),null);case 22:case 23:return vf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ot&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function uj(e,t){switch(Qd(t),t.tag){case 1:return Pt(t.type)&&Va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),Oe(Rt),Oe(xt),of(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sf(t),null;case 13:if(Oe(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Be),null;case 4:return Gs(),null;case 10:return ef(t.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var ea=!1,gt=!1,dj=typeof WeakSet=="function"?WeakSet:Set,te=null;function Rs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ke(e,t,n)}else r.current=null}function Wu(e,t,r){try{r()}catch(n){Ke(e,t,n)}}var wm=!1;function fj(e,t){if(ku=Ba,e=Hg(),Xd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=a),m===i&&++h===n&&(c=a),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cu={focusedElem:e,selectionRange:r},Ba=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:cr(t.type,x),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){Ke(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return w=wm,wm=!1,w}function Uo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wu(t,r,i)}s=s.next}while(s!==n)}}function El(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Uu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Fv(e){var t=e.alternate;t!==null&&(e.alternate=null,Fv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[oi],delete t[_u],delete t[X1],delete t[q1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bv(e){return e.tag===5||e.tag===3||e.tag===4}function bm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ha));else if(n!==4&&(e=e.child,e!==null))for(Hu(e,t,r),e=e.sibling;e!==null;)Hu(e,t,r),e=e.sibling}function Vu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Vu(e,t,r),e=e.sibling;e!==null;)Vu(e,t,r),e=e.sibling}var ct=null,ur=!1;function on(e,t,r){for(r=r.child;r!==null;)Wv(e,t,r),r=r.sibling}function Wv(e,t,r){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(yl,r)}catch{}switch(r.tag){case 5:gt||Rs(r,t);case 6:var n=ct,s=ur;ct=null,on(e,t,r),ct=n,ur=s,ct!==null&&(ur?(e=ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ct.removeChild(r.stateNode));break;case 18:ct!==null&&(ur?(e=ct,r=r.stateNode,e.nodeType===8?bc(e.parentNode,r):e.nodeType===1&&bc(e,r),ei(e)):bc(ct,r.stateNode));break;case 4:n=ct,s=ur,ct=r.stateNode.containerInfo,ur=!0,on(e,t,r),ct=n,ur=s;break;case 0:case 11:case 14:case 15:if(!gt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Wu(r,t,a),s=s.next}while(s!==n)}on(e,t,r);break;case 1:if(!gt&&(Rs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ke(r,t,l)}on(e,t,r);break;case 21:on(e,t,r);break;case 22:r.mode&1?(gt=(n=gt)||r.memoizedState!==null,on(e,t,r),gt=n):on(e,t,r);break;default:on(e,t,r)}}function jm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dj),t.forEach(function(n){var s=bj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function or(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,ur=!1;break e;case 3:ct=l.stateNode.containerInfo,ur=!0;break e;case 4:ct=l.stateNode.containerInfo,ur=!0;break e}l=l.return}if(ct===null)throw Error(U(160));Wv(i,a,s),ct=null,ur=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ke(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uv(t,e),t=t.sibling}function Uv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(t,e),jr(e),n&4){try{Uo(3,e,e.return),El(3,e)}catch(x){Ke(e,e.return,x)}try{Uo(5,e,e.return)}catch(x){Ke(e,e.return,x)}}break;case 1:or(t,e),jr(e),n&512&&r!==null&&Rs(r,r.return);break;case 5:if(or(t,e),jr(e),n&512&&r!==null&&Rs(r,r.return),e.flags&32){var s=e.stateNode;try{Qo(s,"")}catch(x){Ke(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dg(s,i),pu(l,a);var u=pu(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?gg(s,f):h==="dangerouslySetInnerHTML"?mg(s,f):h==="children"?Qo(s,f):Md(s,h,f,u)}switch(l){case"input":uu(s,i);break;case"textarea":fg(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Is(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Is(s,!!i.multiple,i.defaultValue,!0):Is(s,!!i.multiple,i.multiple?[]:"",!1))}s[oi]=i}catch(x){Ke(e,e.return,x)}}break;case 6:if(or(t,e),jr(e),n&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ke(e,e.return,x)}}break;case 3:if(or(t,e),jr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(x){Ke(e,e.return,x)}break;case 4:or(t,e),jr(e);break;case 13:or(t,e),jr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pf=Xe())),n&4&&jm(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(gt=(u=gt)||h,or(t,e),gt=u):or(t,e),jr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(te=e,h=e.child;h!==null;){for(f=te=h;te!==null;){switch(m=te,y=m.child,m.tag){case 0:case 11:case 14:case 15:Uo(4,m,m.return);break;case 1:Rs(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ke(n,r,x)}}break;case 5:Rs(m,m.return);break;case 22:if(m.memoizedState!==null){Sm(f);continue}}y!==null?(y.return=m,te=y):Sm(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=pg("display",a))}catch(x){Ke(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ke(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(t,e),jr(e),n&4&&jm(e);break;case 21:break;default:or(t,e),jr(e)}}function jr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bv(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qo(s,""),n.flags&=-33);var i=bm(e);Vu(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=bm(e);Hu(e,l,a);break;default:throw Error(U(161))}}catch(c){Ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hj(e,t,r){te=e,Hv(e)}function Hv(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ea;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||gt;l=ea;var u=gt;if(ea=a,(gt=c)&&!u)for(te=s;te!==null;)a=te,c=a.child,a.tag===22&&a.memoizedState!==null?km(s):c!==null?(c.return=a,te=c):km(s);for(;i!==null;)te=i,Hv(i),i=i.sibling;te=s,ea=l,gt=u}Nm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):Nm(e)}}function Nm(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||El(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:cr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&am(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}am(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ei(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}gt||t.flags&512&&Uu(t)}catch(m){Ke(t,t.return,m)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function Sm(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function km(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{El(4,t)}catch(c){Ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ke(t,s,c)}}var i=t.return;try{Uu(t)}catch(c){Ke(t,i,c)}break;case 5:var a=t.return;try{Uu(t)}catch(c){Ke(t,a,c)}}}catch(c){Ke(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var mj=Math.ceil,tl=rn.ReactCurrentDispatcher,hf=rn.ReactCurrentOwner,Yt=rn.ReactCurrentBatchConfig,we=0,ot=null,Je=null,ut=0,Ot=0,Ps=On(0),rt=0,di=null,Jn=0,Tl=0,mf=0,Ho=null,Et=null,pf=0,qs=1/0,Hr=null,rl=!1,Ku=null,jn=null,ta=!1,gn=null,nl=0,Vo=0,Gu=null,Ra=-1,Pa=0;function Nt(){return we&6?Xe():Ra!==-1?Ra:Ra=Xe()}function Nn(e){return e.mode&1?we&2&&ut!==0?ut&-ut:Y1.transition!==null?(Pa===0&&(Pa=Tg()),Pa):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Mg(e.type)),e):1}function mr(e,t,r,n){if(50<Vo)throw Vo=0,Gu=null,Error(U(185));bi(e,r,n),(!(we&2)||e!==ot)&&(e===ot&&(!(we&2)&&(Tl|=r),rt===4&&fn(e,ut)),At(e,n),r===1&&we===0&&!(t.mode&1)&&(qs=Xe()+500,Sl&&Mn()))}function At(e,t){var r=e.callbackNode;Yb(e,t);var n=Fa(e,e===ot?ut:0);if(n===0)r!==null&&Oh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Oh(r),t===1)e.tag===0?Q1(Cm.bind(null,e)):ev(Cm.bind(null,e)),K1(function(){!(we&6)&&Mn()}),r=null;else{switch(_g(n)){case 1:r=Fd;break;case 4:r=Cg;break;case 16:r=za;break;case 536870912:r=Eg;break;default:r=za}r=Jv(r,Vv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vv(e,t){if(Ra=-1,Pa=0,we&6)throw Error(U(327));var r=e.callbackNode;if($s()&&e.callbackNode!==r)return null;var n=Fa(e,e===ot?ut:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sl(e,n);else{t=n;var s=we;we|=2;var i=Gv();(ot!==e||ut!==t)&&(Hr=null,qs=Xe()+500,Gn(e,t));do try{vj();break}catch(l){Kv(e,l)}while(!0);Zd(),tl.current=i,we=s,Je!==null?t=0:(ot=null,ut=0,t=rt)}if(t!==0){if(t===2&&(s=wu(e),s!==0&&(n=s,t=Xu(e,s))),t===1)throw r=di,Gn(e,0),fn(e,n),At(e,Xe()),r;if(t===6)fn(e,n);else{if(s=e.current.alternate,!(n&30)&&!pj(s)&&(t=sl(e,n),t===2&&(i=wu(e),i!==0&&(n=i,t=Xu(e,i))),t===1))throw r=di,Gn(e,0),fn(e,n),At(e,Xe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:Bn(e,Et,Hr);break;case 3:if(fn(e,n),(n&130023424)===n&&(t=pf+500-Xe(),10<t)){if(Fa(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Tu(Bn.bind(null,e,Et,Hr),t);break}Bn(e,Et,Hr);break;case 4:if(fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-hr(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mj(n/1960))-n,10<n){e.timeoutHandle=Tu(Bn.bind(null,e,Et,Hr),n);break}Bn(e,Et,Hr);break;case 5:Bn(e,Et,Hr);break;default:throw Error(U(329))}}}return At(e,Xe()),e.callbackNode===r?Vv.bind(null,e):null}function Xu(e,t){var r=Ho;return e.current.memoizedState.isDehydrated&&(Gn(e,t).flags|=256),e=sl(e,t),e!==2&&(t=Et,Et=r,t!==null&&qu(t)),e}function qu(e){Et===null?Et=e:Et.push.apply(Et,e)}function pj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!pr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~mf,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-hr(t),n=1<<r;e[r]=-1,t&=~n}}function Cm(e){if(we&6)throw Error(U(327));$s();var t=Fa(e,0);if(!(t&1))return At(e,Xe()),null;var r=sl(e,t);if(e.tag!==0&&r===2){var n=wu(e);n!==0&&(t=n,r=Xu(e,n))}if(r===1)throw r=di,Gn(e,0),fn(e,t),At(e,Xe()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,Et,Hr),At(e,Xe()),null}function gf(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(qs=Xe()+500,Sl&&Mn())}}function Zn(e){gn!==null&&gn.tag===0&&!(we&6)&&$s();var t=we;we|=1;var r=Yt.transition,n=Ce;try{if(Yt.transition=null,Ce=1,e)return e()}finally{Ce=n,Yt.transition=r,we=t,!(we&6)&&Mn()}}function vf(){Ot=Ps.current,Oe(Ps)}function Gn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,V1(r)),Je!==null)for(r=Je.return;r!==null;){var n=r;switch(Qd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Va();break;case 3:Gs(),Oe(Rt),Oe(xt),of();break;case 5:sf(n);break;case 4:Gs();break;case 13:Oe(Be);break;case 19:Oe(Be);break;case 10:ef(n.type._context);break;case 22:case 23:vf()}r=r.return}if(ot=e,Je=e=Sn(e.current,null),ut=Ot=t,rt=0,di=null,mf=Tl=Jn=0,Et=Ho=null,Hn!==null){for(t=0;t<Hn.length;t++)if(r=Hn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Hn=null}return e}function Kv(e,t){do{var r=Je;try{if(Zd(),Ea.current=el,Za){for(var n=Ue.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Za=!1}if(Yn=0,st=tt=Ue=null,Wo=!1,li=0,hf.current=null,r===null||r.return===null){rt=1,di=t,Je=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=ut,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=hm(a);if(y!==null){y.flags&=-257,mm(y,a,l,i,t),y.mode&1&&fm(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){fm(i,u,t),xf();break e}c=Error(U(426))}}else if(Fe&&l.mode&1){var j=hm(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),mm(j,a,l,i,t),Yd(Xs(c,l));break e}}i=c=Xs(c,l),rt!==4&&(rt=2),Ho===null?Ho=[i]:Ho.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=_v(i,c,t);im(i,g);break e;case 1:l=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(jn===null||!jn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Rv(i,l,t);im(i,b);break e}}i=i.return}while(i!==null)}qv(r)}catch(C){t=C,Je===r&&r!==null&&(Je=r=r.return);continue}break}while(!0)}function Gv(){var e=tl.current;return tl.current=el,e===null?el:e}function xf(){(rt===0||rt===3||rt===2)&&(rt=4),ot===null||!(Jn&268435455)&&!(Tl&268435455)||fn(ot,ut)}function sl(e,t){var r=we;we|=2;var n=Gv();(ot!==e||ut!==t)&&(Hr=null,Gn(e,t));do try{gj();break}catch(s){Kv(e,s)}while(!0);if(Zd(),we=r,tl.current=n,Je!==null)throw Error(U(261));return ot=null,ut=0,rt}function gj(){for(;Je!==null;)Xv(Je)}function vj(){for(;Je!==null&&!Wb();)Xv(Je)}function Xv(e){var t=Yv(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?qv(e):Je=t,hf.current=null}function qv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uj(r,t),r!==null){r.flags&=32767,Je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Je=null;return}}else if(r=cj(r,t,Ot),r!==null){Je=r;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);rt===0&&(rt=5)}function Bn(e,t,r){var n=Ce,s=Yt.transition;try{Yt.transition=null,Ce=1,xj(e,t,r,n)}finally{Yt.transition=s,Ce=n}return null}function xj(e,t,r,n){do $s();while(gn!==null);if(we&6)throw Error(U(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Jb(e,i),e===ot&&(Je=ot=null,ut=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ta||(ta=!0,Jv(za,function(){return $s(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Yt.transition,Yt.transition=null;var a=Ce;Ce=1;var l=we;we|=4,hf.current=null,fj(e,r),Uv(r,e),$1(Cu),Ba=!!ku,Cu=ku=null,e.current=r,hj(r),Ub(),we=l,Ce=a,Yt.transition=i}else e.current=r;if(ta&&(ta=!1,gn=e,nl=s),i=e.pendingLanes,i===0&&(jn=null),Kb(r.stateNode),At(e,Xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(rl)throw rl=!1,e=Ku,Ku=null,e;return nl&1&&e.tag!==0&&$s(),i=e.pendingLanes,i&1?e===Gu?Vo++:(Vo=0,Gu=e):Vo=0,Mn(),null}function $s(){if(gn!==null){var e=_g(nl),t=Yt.transition,r=Ce;try{if(Yt.transition=null,Ce=16>e?16:e,gn===null)var n=!1;else{if(e=gn,gn=null,nl=0,we&6)throw Error(U(331));var s=we;for(we|=4,te=e.current;te!==null;){var i=te,a=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Uo(8,h,i)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var m=h.sibling,y=h.return;if(Fv(h),h===u){te=null;break}if(m!==null){m.return=y,te=m;break}te=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}te=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,te=a;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,te=g;break e}te=i.return}}var p=e.current;for(te=p;te!==null;){a=te;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,te=v;else e:for(a=p;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:El(9,l)}}catch(C){Ke(l,l.return,C)}if(l===a){te=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,te=b;break e}te=l.return}}if(we=s,Mn(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(yl,e)}catch{}n=!0}return n}finally{Ce=r,Yt.transition=t}}return!1}function Em(e,t,r){t=Xs(r,t),t=_v(e,t,1),e=bn(e,t,1),t=Nt(),e!==null&&(bi(e,1,t),At(e,t))}function Ke(e,t,r){if(e.tag===3)Em(e,e,r);else for(;t!==null;){if(t.tag===3){Em(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jn===null||!jn.has(n))){e=Xs(r,e),e=Rv(t,e,1),t=bn(t,e,1),e=Nt(),t!==null&&(bi(t,1,e),At(t,e));break}}t=t.return}}function yj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&r,ot===e&&(ut&r)===r&&(rt===4||rt===3&&(ut&130023424)===ut&&500>Xe()-pf?Gn(e,0):mf|=r),At(e,t)}function Qv(e,t){t===0&&(e.mode&1?(t=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):t=1);var r=Nt();e=Jr(e,t),e!==null&&(bi(e,t,r),At(e,r))}function wj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Qv(e,r)}function bj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),Qv(e,r)}var Yv;Yv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)_t=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _t=!1,lj(e,t,r);_t=!!(e.flags&131072)}else _t=!1,Fe&&t.flags&1048576&&tv(t,Xa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_a(e,t),e=t.pendingProps;var s=Hs(t,xt.current);Ds(t,r),s=lf(null,t,n,e,s,r);var i=cf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(n)?(i=!0,Ka(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rf(t),s.updater=Cl,t.stateNode=s,s._reactInternals=t,Mu(t,n,e,r),t=$u(null,t,n,!0,i,r)):(t.tag=0,Fe&&i&&qd(t),bt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_a(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Nj(n),e=cr(n,e),s){case 0:t=Du(null,t,n,e,r);break e;case 1:t=vm(null,t,n,e,r);break e;case 11:t=pm(null,t,n,e,r);break e;case 14:t=gm(null,t,n,cr(n.type,e),r);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cr(n,s),Du(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cr(n,s),vm(e,t,n,s,r);case 3:e:{if(Ov(t),e===null)throw Error(U(387));n=t.pendingProps,i=t.memoizedState,s=i.element,av(e,t),Ya(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xs(Error(U(423)),t),t=xm(e,t,n,r,s);break e}else if(n!==s){s=Xs(Error(U(424)),t),t=xm(e,t,n,r,s);break e}else for(Dt=wn(t.stateNode.containerInfo.firstChild),$t=t,Fe=!0,dr=null,r=ov(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vs(),n===s){t=Zr(e,t,r);break e}bt(e,t,n,r)}t=t.child}return t;case 5:return lv(t),e===null&&Au(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Eu(n,s)?a=null:i!==null&&Eu(n,i)&&(t.flags|=32),Iv(e,t),bt(e,t,a,r),t.child;case 6:return e===null&&Au(t),null;case 13:return Mv(e,t,r);case 4:return nf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ks(t,null,n,r):bt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cr(n,s),pm(e,t,n,s,r);case 7:return bt(e,t,t.pendingProps,r),t.child;case 8:return bt(e,t,t.pendingProps.children,r),t.child;case 12:return bt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Re(qa,n._currentValue),n._currentValue=a,i!==null)if(pr(i.value,a)){if(i.children===s.children&&!Rt.current){t=Zr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Xr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Iu(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(U(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Iu(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}bt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ds(t,r),s=Jt(s),n=n(s),t.flags|=1,bt(e,t,n,r),t.child;case 14:return n=t.type,s=cr(n,t.pendingProps),s=cr(n.type,s),gm(e,t,n,s,r);case 15:return Pv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cr(n,s),_a(e,t),t.tag=1,Pt(n)?(e=!0,Ka(t)):e=!1,Ds(t,r),Tv(t,n,s),Mu(t,n,s,r),$u(null,t,n,!0,e,r);case 19:return Lv(e,t,r);case 22:return Av(e,t,r)}throw Error(U(156,t.tag))};function Jv(e,t){return kg(e,t)}function jj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,r,n){return new jj(e,t,r,n)}function yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nj(e){if(typeof e=="function")return yf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dd)return 11;if(e===$d)return 14}return 2}function Sn(e,t){var r=e.alternate;return r===null?(r=Qt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Aa(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")yf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case bs:return Xn(r.children,s,i,t);case Ld:a=8,s|=8;break;case ou:return e=Qt(12,r,t,s|2),e.elementType=ou,e.lanes=i,e;case iu:return e=Qt(13,r,t,s),e.elementType=iu,e.lanes=i,e;case au:return e=Qt(19,r,t,s),e.elementType=au,e.lanes=i,e;case lg:return _l(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ig:a=10;break e;case ag:a=9;break e;case Dd:a=11;break e;case $d:a=14;break e;case cn:a=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Qt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Xn(e,t,r,n){return e=Qt(7,e,n,t),e.lanes=r,e}function _l(e,t,r,n){return e=Qt(22,e,n,t),e.elementType=lg,e.lanes=r,e.stateNode={isHidden:!1},e}function _c(e,t,r){return e=Qt(6,e,null,t),e.lanes=r,e}function Rc(e,t,r){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wf(e,t,r,n,s,i,a,l,c){return e=new Sj(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(i),e}function kj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Zv(e){if(!e)return En;e=e._reactInternals;e:{if(is(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(Pt(r))return Zg(e,r,t)}return t}function ex(e,t,r,n,s,i,a,l,c){return e=wf(r,n,!0,e,s,i,a,l,c),e.context=Zv(null),r=e.current,n=Nt(),s=Nn(r),i=Xr(n,s),i.callback=t??null,bn(r,i,s),e.current.lanes=s,bi(e,s,n),At(e,n),e}function Rl(e,t,r,n){var s=t.current,i=Nt(),a=Nn(s);return r=Zv(r),t.context===null?t.context=r:t.pendingContext=r,t=Xr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bn(s,t,a),e!==null&&(mr(e,s,a,i),Ca(e,s,a)),a}function ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bf(e,t){Tm(e,t),(e=e.alternate)&&Tm(e,t)}function Cj(){return null}var tx=typeof reportError=="function"?reportError:function(e){console.error(e)};function jf(e){this._internalRoot=e}Pl.prototype.render=jf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Rl(e,t,null,null)};Pl.prototype.unmount=jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){Rl(null,e,null,null)}),t[Yr]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ag();e={blockedOn:null,target:e,priority:t};for(var r=0;r<dn.length&&t!==0&&t<dn[r].priority;r++);dn.splice(r,0,e),r===0&&Og(e)}};function Nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _m(){}function Ej(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ol(a);i.call(u)}}var a=ex(t,n,e,0,null,!1,!1,"",_m);return e._reactRootContainer=a,e[Yr]=a.current,ni(e.nodeType===8?e.parentNode:e),Zn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ol(c);l.call(u)}}var c=wf(e,0,!1,null,null,!1,!1,"",_m);return e._reactRootContainer=c,e[Yr]=c.current,ni(e.nodeType===8?e.parentNode:e),Zn(function(){Rl(t,c,r,n)}),c}function Il(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ol(a);l.call(c)}}Rl(t,a,e,s)}else a=Ej(r,t,e,s,n);return ol(a)}Rg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ao(t.pendingLanes);r!==0&&(Bd(t,r|1),At(t,Xe()),!(we&6)&&(qs=Xe()+500,Mn()))}break;case 13:Zn(function(){var n=Jr(e,1);if(n!==null){var s=Nt();mr(n,e,1,s)}}),bf(e,1)}};Wd=function(e){if(e.tag===13){var t=Jr(e,134217728);if(t!==null){var r=Nt();mr(t,e,134217728,r)}bf(e,134217728)}};Pg=function(e){if(e.tag===13){var t=Nn(e),r=Jr(e,t);if(r!==null){var n=Nt();mr(r,e,t,n)}bf(e,t)}};Ag=function(){return Ce};Ig=function(e,t){var r=Ce;try{return Ce=e,t()}finally{Ce=r}};vu=function(e,t,r){switch(t){case"input":if(uu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Nl(n);if(!s)throw Error(U(90));ug(n),uu(n,s)}}}break;case"textarea":fg(e,r);break;case"select":t=r.value,t!=null&&Is(e,!!r.multiple,t,!1)}};yg=gf;wg=Zn;var Tj={usingClientEntryPoint:!1,Events:[Ni,ks,Nl,vg,xg,gf]},ko={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_j={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ng(e),e===null?null:e.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||Cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{yl=ra.inject(_j),Tr=ra}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tj;Ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nf(t))throw Error(U(200));return kj(e,t,null,r)};Ut.createRoot=function(e,t){if(!Nf(e))throw Error(U(299));var r=!1,n="",s=tx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wf(e,1,!1,null,null,r,!1,n,s),e[Yr]=t.current,ni(e.nodeType===8?e.parentNode:e),new jf(t)};Ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Ng(t),e=e===null?null:e.stateNode,e};Ut.flushSync=function(e){return Zn(e)};Ut.hydrate=function(e,t,r){if(!Al(t))throw Error(U(200));return Il(null,e,t,!0,r)};Ut.hydrateRoot=function(e,t,r){if(!Nf(e))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=tx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=ex(t,null,e,1,r??null,s,!1,i,a),e[Yr]=t.current,ni(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pl(t)};Ut.render=function(e,t,r){if(!Al(t))throw Error(U(200));return Il(null,e,t,!1,r)};Ut.unmountComponentAtNode=function(e){if(!Al(e))throw Error(U(40));return e._reactRootContainer?(Zn(function(){Il(null,null,e,!1,function(){e._reactRootContainer=null,e[Yr]=null})}),!0):!1};Ut.unstable_batchedUpdates=gf;Ut.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Al(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Il(e,t,r,!1,n)};Ut.version="18.3.1-next-f1338f8080-20240426";function rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rx)}catch(e){console.error(e)}}rx(),rg.exports=Ut;var oo=rg.exports;const Rj=Td(oo);var Rm=oo;nu.createRoot=Rm.createRoot,nu.hydrateRoot=Rm.hydrateRoot;var Pj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Aj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ij=(e,t)=>{const r=d.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>d.createElement("svg",{ref:u,...Pj,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Aj(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var se=Ij;const io=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Pm=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Sf=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),nx=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),zs=se("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),sx=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ox=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ko=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Oj=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Am=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),fi=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),na=se("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Mj=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Qs=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Lj=se("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),il=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Tn=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),kf=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Dj=se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Pc=se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),fr=se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),al=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),$j=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),zj=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Fj=se("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Fs=se("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Cf=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Bj=se("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ix=se("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Qu=se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Im=se("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Wj=se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Om=se("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Wt=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),zt=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),as=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ef=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Uj=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Hj=se("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Vj=se("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Kj=se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),_n=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Mm=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Yu=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Tf=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Gj=se("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Xj=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ax=se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),_f=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Lm=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),nt=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),qj=se("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),Qj=se("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Yj=se("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Jj=se("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Zj=se("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),gr=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Dm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lx(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Dm(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Dm(e[s],null)}}}}function ge(...e){return d.useCallback(lx(...e),e)}function Ys(e){const t=eN(e),r=d.forwardRef((n,s)=>{const{children:i,...a}=n,l=d.Children.toArray(i),c=l.find(rN);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var cx=Ys("Slot");function eN(e){const t=d.forwardRef((r,n)=>{const{children:s,...i}=r;if(d.isValidElement(s)){const a=sN(s),l=nN(i,s.props);return s.type!==d.Fragment&&(l.ref=n?lx(n,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tN=Symbol("radix.slottable");function rN(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tN}function nN(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function sN(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ux(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ux(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dx(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ux(e))&&(n&&(n+=" "),n+=t);return n}const $m=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zm=dx,fx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return zm(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],f=i==null?void 0:i[u];if(h===null)return null;const m=$m(h)||$m(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(w=>{let[x,j]=w;return Array.isArray(j)?j.includes({...i,...l}[x]):{...i,...l}[x]===j})?[...u,f,m]:u},[]);return zm(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};function oN(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=hx(t))&&(n&&(n+=" "),n+=r);return n}function hx(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=hx(e[n]))&&(r&&(r+=" "),r+=t);return r}var Rf="-";function iN(e){var t=lN(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,s=n===void 0?{}:n;function i(l){var c=l.split(Rf);return c[0]===""&&c.length!==1&&c.shift(),mx(c,t)||aN(l)}function a(l,c){var u=r[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function mx(e,t){var a;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),s=n?mx(e.slice(1),n):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Rf);return(a=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:a.classGroupId}}var Fm=/^\[(.+)\]$/;function aN(e){if(Fm.test(e)){var t=Fm.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function lN(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},s=uN(Object.entries(e.classGroups),r);return s.forEach(function(i){var a=i[0],l=i[1];Ju(l,n,a,t)}),n}function Ju(e,t,r,n){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:Bm(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(cN(s)){Ju(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(a){var l=a[0],c=a[1];Ju(c,Bm(t,l),r,n)})})}function Bm(e,t){var r=e;return t.split(Rf).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function cN(e){return e.isThemeGetter}function uN(e,t){return t?e.map(function(r){var n=r[0],s=r[1],i=s.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):a});return[n,i]}):e}function dN(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function s(i,a){r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(a){var l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return s(a,l),l},set:function(a,l){r.has(a)?r.set(a,l):s(a,l)}}}var px="!";function fN(e){var t=e.separator||":",r=t.length===1,n=t[0],s=t.length;return function(a){for(var l=[],c=0,u=0,h,f=0;f<a.length;f++){var m=a[f];if(c===0){if(m===n&&(r||a.slice(f,f+s)===t)){l.push(a.slice(u,f)),u=f+s;continue}if(m==="/"){h=f;continue}}m==="["?c++:m==="]"&&c--}var y=l.length===0?a:a.substring(u),w=y.startsWith(px),x=w?y.substring(1):y,j=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:j}}}function hN(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var s=n[0]==="[";s?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function mN(e){return{cache:dN(e.cacheSize),splitModifiers:fN(e),...iN(e)}}var pN=/\s+/;function gN(e,t){var r=t.splitModifiers,n=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(pN).map(function(a){var l=r(a),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,m=n(f?h.substring(0,f):h),y=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:a};if(m=n(h),!m)return{isTailwindClass:!1,originalClassName:a};y=!1}var w=hN(c).join(":"),x=u?w+px:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:a,hasPostfixModifier:y}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,h=l+c;return i.has(h)?!1:(i.add(h),s(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function vN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,s,i,a=l;function l(u){var h=t[0],f=t.slice(1),m=f.reduce(function(y,w){return w(y)},h());return n=mN(m),s=n.cache.get,i=n.cache.set,a=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=gN(u,n);return i(u,f),f}return function(){return a(oN.apply(null,arguments))}}function Ae(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var gx=/^\[(?:([a-z-]+):)?(.+)\]$/i,xN=/^\d+\/\d+$/,yN=new Set(["px","full","screen"]),wN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ir(e){return Kn(e)||yN.has(e)||xN.test(e)||Zu(e)}function Zu(e){return ls(e,"length",TN)}function NN(e){return ls(e,"size",vx)}function SN(e){return ls(e,"position",vx)}function kN(e){return ls(e,"url",_N)}function sa(e){return ls(e,"number",Kn)}function Kn(e){return!Number.isNaN(Number(e))}function CN(e){return e.endsWith("%")&&Kn(e.slice(0,-1))}function Co(e){return Wm(e)||ls(e,"number",Wm)}function pe(e){return gx.test(e)}function Eo(){return!0}function an(e){return wN.test(e)}function EN(e){return ls(e,"",RN)}function ls(e,t,r){var n=gx.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function TN(e){return bN.test(e)}function vx(){return!1}function _N(e){return e.startsWith("url(")}function Wm(e){return Number.isInteger(Number(e))}function RN(e){return jN.test(e)}function PN(){var e=Ae("colors"),t=Ae("spacing"),r=Ae("blur"),n=Ae("brightness"),s=Ae("borderColor"),i=Ae("borderRadius"),a=Ae("borderSpacing"),l=Ae("borderWidth"),c=Ae("contrast"),u=Ae("grayscale"),h=Ae("hueRotate"),f=Ae("invert"),m=Ae("gap"),y=Ae("gradientColorStops"),w=Ae("gradientColorStopPositions"),x=Ae("inset"),j=Ae("margin"),g=Ae("opacity"),p=Ae("padding"),v=Ae("saturate"),b=Ae("scale"),C=Ae("sepia"),R=Ae("skew"),S=Ae("space"),k=Ae("translate"),_=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},z=function(){return["auto",pe,t]},N=function(){return[pe,t]},T=function(){return["",ir]},O=function(){return["auto",Kn,pe]},V=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},E=function(){return["solid","dashed","dotted","double","none"]},D=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},W=function(){return["","0",pe]},H=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},X=function(){return[Kn,sa]},Z=function(){return[Kn,pe]};return{cacheSize:500,theme:{colors:[Eo],spacing:[ir],blur:["none","",an,pe],brightness:X(),borderColor:[e],borderRadius:["none","","full",an,pe],borderSpacing:N(),borderWidth:T(),contrast:X(),grayscale:W(),hueRotate:Z(),invert:W(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[CN,Zu],inset:z(),margin:z(),opacity:X(),padding:N(),saturate:X(),scale:X(),sepia:W(),skew:Z(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(V(),[pe])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Co]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Co]}],"grid-cols":[{"grid-cols":[Eo]}],"col-start-end":[{col:["auto",{span:["full",Co]},pe]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Eo]}],"row-start-end":[{row:["auto",{span:[Co]},pe]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",pe,t]}],"min-w":[{"min-w":["min","max","fit",pe,ir]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[an]},an,pe]}],h:[{h:[pe,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",pe,ir]}],"max-h":[{"max-h":[pe,t,"min","max","fit"]}],"font-size":[{text:["base",an,Zu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sa]}],"font-family":[{font:[Eo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Kn,sa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pe,ir]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(E(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ir]}],"underline-offset":[{"underline-offset":["auto",pe,ir]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(V(),[SN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(E(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:E()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(E())}],"outline-offset":[{"outline-offset":[pe,ir]}],"outline-w":[{outline:[ir]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ir]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",an,EN]}],"shadow-color":[{shadow:[Eo]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":D()}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",an,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Co,pe]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ir,sa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var AN=vN(PN);function Se(...e){return AN(dx(e))}const IN=fx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function $({className:e,variant:t,size:r,asChild:n=!1,...s}){const i=n?cx:"button";return o.jsx(i,{"data-slot":"button",className:Se(IN({variant:t,size:r,className:e})),...s})}function ON(e,t){const r=d.createContext(t),n=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=d.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Lr(e,t=[]){let r=[];function n(i,a){const l=d.createContext(a),c=r.length;r=[...r,a];const u=f=>{var g;const{scope:m,children:y,...w}=f,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,j=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:j,children:y})};u.displayName=i+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=r.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,MN(s,...t)]}function MN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function vt(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Ze=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},LN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=LN.reduce((e,t)=>{const r=Ys(`Primitive.${t}`),n=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function DN(e,t){e&&oo.flushSync(()=>e.dispatchEvent(t))}var xx={exports:{}},yx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=d;function $N(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zN=typeof Object.is=="function"?Object.is:$N,FN=Js.useState,BN=Js.useEffect,WN=Js.useLayoutEffect,UN=Js.useDebugValue;function HN(e,t){var r=t(),n=FN({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return WN(function(){s.value=r,s.getSnapshot=t,Ac(s)&&i({inst:s})},[e,r,t]),BN(function(){return Ac(s)&&i({inst:s}),e(function(){Ac(s)&&i({inst:s})})},[e]),UN(r),r}function Ac(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zN(e,r)}catch{return!0}}function VN(e,t){return t()}var KN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VN:HN;yx.useSyncExternalStore=Js.useSyncExternalStore!==void 0?Js.useSyncExternalStore:KN;xx.exports=yx;var GN=xx.exports;function XN(){return GN.useSyncExternalStore(qN,()=>!0,()=>!1)}function qN(){return()=>{}}var Pf="Avatar",[QN,cR]=Lr(Pf),[YN,wx]=QN(Pf),bx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=d.useState("idle");return o.jsx(YN,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(ie.span,{...n,ref:t})})});bx.displayName=Pf;var jx="AvatarImage",Nx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=wx(jx,r),l=JN(n,i),c=vt(u=>{s(u),a.onImageLoadingStatusChange(u)});return Ze(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ie.img,{...i,ref:t,src:n}):null});Nx.displayName=jx;var Sx="AvatarFallback",kx=d.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=wx(Sx,r),[a,l]=d.useState(n===void 0);return d.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ie.span,{...s,ref:t}):null});kx.displayName=Sx;function Um(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function JN(e,{referrerPolicy:t,crossOrigin:r}){const n=XN(),s=d.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=d.useState(()=>Um(i,e));return Ze(()=>{l(Um(i,e))},[i,e]),Ze(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),h=c("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,r,t]),a}var ZN=bx,eS=Nx,tS=kx;function Me({className:e,...t}){return o.jsx(ZN,{"data-slot":"avatar",className:Se("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function Le({className:e,...t}){return o.jsx(eS,{"data-slot":"avatar-image",className:Se("aspect-square size-full",e),...t})}function De({className:e,...t}){return o.jsx(tS,{"data-slot":"avatar-fallback",className:Se("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class rS{constructor(){ze(this,"baseUrl","/api/users")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getUser(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("   :",r),r}}}const nS=new rS;var ed={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(r){var n=r.setTimeout,s=r.clearTimeout,i=r.XMLHttpRequest,a=r.XDomainRequest,l=r.ActiveXObject,c=r.EventSource,u=r.document,h=r.Promise,f=r.fetch,m=r.Response,y=r.TextDecoder,w=r.TextEncoder,x=r.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(L){u.readyState="complete"},!1)),i==null&&l!=null&&(i=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(L){function G(){}return G.prototype=L,new G}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var j=f;f=function(L,G){var ee=G.signal;return j(L,{headers:G.headers,credentials:G.credentials,cache:G.cache}).then(function(I){var Q=I.body.getReader();return ee._reader=Q,ee._aborted&&ee._reader.cancel(),{status:I.status,statusText:I.statusText,headers:I.headers,body:{getReader:function(){return Q}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(L){function G(je,ve,ue){if(ue===1)return je>=128>>ve&&je<<ve<=2047;if(ue===2)return je>=2048>>ve&&je<<ve<=55295||je>=57344>>ve&&je<<ve<=65535;if(ue===3)return je>=65536>>ve&&je<<ve<=1114111;throw new Error}function ee(je,ve){if(je===6*1)return ve>>6>15?3:ve>31?2:1;if(je===6*2)return ve>15?3:2;if(je===6*3)return 3;throw new Error}for(var I=65533,Q="",Y=this.bitsNeeded,J=this.codePoint,de=0;de<L.length;de+=1){var he=L[de];Y!==0&&(he<128||he>191||!G(J<<6|he&63,Y-6,ee(Y,J)))&&(Y=0,J=I,Q+=String.fromCharCode(J)),Y===0?(he>=0&&he<=127?(Y=0,J=he):he>=192&&he<=223?(Y=6*1,J=he&31):he>=224&&he<=239?(Y=6*2,J=he&15):he>=240&&he<=247?(Y=6*3,J=he&7):(Y=0,J=I),Y!==0&&!G(J,Y,ee(Y,J))&&(Y=0,J=I)):(Y-=6,J=J<<6|he&63),Y===0&&(J<=65535?Q+=String.fromCharCode(J):(Q+=String.fromCharCode(55296+(J-65535-1>>10)),Q+=String.fromCharCode(56320+(J-65535-1&1023))))}return this.bitsNeeded=Y,this.codePoint=J,Q};var p=function(){try{return new y().decode(new w().encode("test"),{stream:!0})==="test"}catch(L){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+L)}return!1};(y==null||w==null||!p())&&(y=g);var v=function(){};function b(L){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=L,this._sendTimeout=0,this._abort=v}b.prototype.open=function(L,G){this._abort(!0);var ee=this,I=this._xhr,Q=1,Y=0;this._abort=function(ue){ee._sendTimeout!==0&&(s(ee._sendTimeout),ee._sendTimeout=0),(Q===1||Q===2||Q===3)&&(Q=4,I.onload=v,I.onerror=v,I.onabort=v,I.onprogress=v,I.onreadystatechange=v,I.abort(),Y!==0&&(s(Y),Y=0),ue||(ee.readyState=4,ee.onabort(null),ee.onreadystatechange())),Q=0};var J=function(){if(Q===1){var ue=0,Te="",nr=void 0;if("contentType"in I)ue=200,Te="OK",nr=I.contentType;else try{ue=I.status,Te=I.statusText,nr=I.getResponseHeader("Content-Type")}catch{ue=0,Te="",nr=void 0}ue!==0&&(Q=2,ee.readyState=2,ee.status=ue,ee.statusText=Te,ee._contentType=nr,ee.onreadystatechange())}},de=function(){if(J(),Q===2||Q===3){Q=3;var ue="";try{ue=I.responseText}catch{}ee.readyState=3,ee.responseText=ue,ee.onprogress()}},he=function(ue,Te){if((Te==null||Te.preventDefault==null)&&(Te={preventDefault:v}),de(),Q===1||Q===2||Q===3){if(Q=4,Y!==0&&(s(Y),Y=0),ee.readyState=4,ue==="load")ee.onload(Te);else if(ue==="error")ee.onerror(Te);else if(ue==="abort")ee.onabort(Te);else throw new TypeError;ee.onreadystatechange()}},je=function(ue){I!=null&&(I.readyState===4?(!("onload"in I)||!("onerror"in I)||!("onabort"in I))&&he(I.responseText===""?"error":"load",ue):I.readyState===3?"onprogress"in I||de():I.readyState===2&&J())},ve=function(){Y=n(function(){ve()},500),I.readyState===3&&de()};"onload"in I&&(I.onload=function(ue){he("load",ue)}),"onerror"in I&&(I.onerror=function(ue){he("error",ue)}),"onabort"in I&&(I.onabort=function(ue){he("abort",ue)}),"onprogress"in I&&(I.onprogress=de),"onreadystatechange"in I&&(I.onreadystatechange=function(ue){je(ue)}),("contentType"in I||!("ontimeout"in i.prototype))&&(G+=(G.indexOf("?")===-1?"?":"&")+"padding=true"),I.open(L,G,!0),"readyState"in I&&(Y=n(function(){ve()},0))},b.prototype.abort=function(){this._abort(!1)},b.prototype.getResponseHeader=function(L){return this._contentType},b.prototype.setRequestHeader=function(L,G){var ee=this._xhr;"setRequestHeader"in ee&&ee.setRequestHeader(L,G)},b.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},b.prototype.send=function(){if((!("ontimeout"in i.prototype)||!("sendAsBinary"in i.prototype)&&!("mozAnon"in i.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var L=this;L._sendTimeout=n(function(){L._sendTimeout=0,L.send()},4);return}var G=this._xhr;"withCredentials"in G&&(G.withCredentials=this.withCredentials);try{G.send(void 0)}catch(ee){throw ee}};function C(L){return L.replace(/[A-Z]/g,function(G){return String.fromCharCode(G.charCodeAt(0)+32)})}function R(L){for(var G=Object.create(null),ee=L.split(`\r
`),I=0;I<ee.length;I+=1){var Q=ee[I],Y=Q.split(": "),J=Y.shift(),de=Y.join(": ");G[C(J)]=de}this._map=G}R.prototype.get=function(L){return this._map[C(L)]},i!=null&&i.HEADERS_RECEIVED==null&&(i.HEADERS_RECEIVED=2);function S(){}S.prototype.open=function(L,G,ee,I,Q,Y,J){L.open("GET",Q);var de=0;L.onprogress=function(){var je=L.responseText,ve=je.slice(de);de+=ve.length,ee(ve)},L.onerror=function(je){je.preventDefault(),I(new Error("NetworkError"))},L.onload=function(){I(null)},L.onabort=function(){I(null)},L.onreadystatechange=function(){if(L.readyState===i.HEADERS_RECEIVED){var je=L.status,ve=L.statusText,ue=L.getResponseHeader("Content-Type"),Te=L.getAllResponseHeaders();G(je,ve,ue,new R(Te))}},L.withCredentials=Y;for(var he in J)Object.prototype.hasOwnProperty.call(J,he)&&L.setRequestHeader(he,J[he]);return L.send(),L};function k(L){this._headers=L}k.prototype.get=function(L){return this._headers.get(L)};function _(){}_.prototype.open=function(L,G,ee,I,Q,Y,J){var de=null,he=new x,je=he.signal,ve=new y;return f(Q,{headers:J,credentials:Y?"include":"same-origin",signal:je,cache:"no-store"}).then(function(ue){return de=ue.body.getReader(),G(ue.status,ue.statusText,ue.headers.get("Content-Type"),new k(ue.headers)),new h(function(Te,nr){var br=function(){de.read().then(function(ft){if(ft.done)Te(void 0);else{var _e=ve.decode(ft.value,{stream:!0});ee(_e),br()}}).catch(function(ft){nr(ft)})};br()})}).catch(function(ue){if(ue.name!=="AbortError")return ue}).then(function(ue){I(ue)}),{abort:function(){de!=null&&de.cancel(),he.abort()}}};function P(){this._listeners=Object.create(null)}function z(L){n(function(){throw L},0)}P.prototype.dispatchEvent=function(L){L.target=this;var G=this._listeners[L.type];if(G!=null)for(var ee=G.length,I=0;I<ee;I+=1){var Q=G[I];try{typeof Q.handleEvent=="function"?Q.handleEvent(L):Q.call(this,L)}catch(Y){z(Y)}}},P.prototype.addEventListener=function(L,G){L=String(L);var ee=this._listeners,I=ee[L];I==null&&(I=[],ee[L]=I);for(var Q=!1,Y=0;Y<I.length;Y+=1)I[Y]===G&&(Q=!0);Q||I.push(G)},P.prototype.removeEventListener=function(L,G){L=String(L);var ee=this._listeners,I=ee[L];if(I!=null){for(var Q=[],Y=0;Y<I.length;Y+=1)I[Y]!==G&&Q.push(I[Y]);Q.length===0?delete ee[L]:ee[L]=Q}};function N(L){this.type=L,this.target=void 0}function T(L,G){N.call(this,L),this.data=G.data,this.lastEventId=G.lastEventId}T.prototype=Object.create(N.prototype);function O(L,G){N.call(this,L),this.status=G.status,this.statusText=G.statusText,this.headers=G.headers}O.prototype=Object.create(N.prototype);function V(L,G){N.call(this,L),this.error=G.error}V.prototype=Object.create(N.prototype);var E=-1,D=0,A=1,W=2,H=-1,X=0,Z=1,oe=2,xe=3,Ee=/^text\/event\-stream(;.*)?$/i,ke=1e3,re=18e6,le=function(L,G){var ee=L==null?G:parseInt(L,10);return ee!==ee&&(ee=G),ye(ee)},ye=function(L){return Math.min(Math.max(L,ke),re)},F=function(L,G,ee){try{typeof G=="function"&&G.call(L,ee)}catch(I){z(I)}};function M(L,G){P.call(this),G=G||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Ve(this,L,G)}function ne(){return i!=null&&"withCredentials"in i.prototype||a==null?new i:new a}var $e=f!=null&&m!=null&&"body"in m.prototype;function Ve(L,G,ee){G=String(G);var I=!!ee.withCredentials,Q=ee.lastEventIdQueryParameterName||"lastEventId",Y=ye(1e3),J=le(ee.heartbeatTimeout,45e3),de="",he=Y,je=!1,ve=0,ue=ee.headers||{},Te=ee.Transport,nr=$e&&Te==null?void 0:new b(Te!=null?new Te:ne()),br=Te!=null&&typeof Te!="string"?new Te:nr==null?new _:new S,ft=void 0,_e=0,Ct=E,Fr="",hs="",Vt="",ms="",it=X,ps=0,Br=0,sc=function(Ye,Ge,ht,wt){if(Ct===D)if(Ye===200&&ht!=null&&Ee.test(ht)){Ct=A,je=Date.now(),he=Y,L.readyState=A;var at=new O("open",{status:Ye,statusText:Ge,headers:wt});L.dispatchEvent(at),F(L,L.onopen,at)}else{var et="";Ye!==200?(Ge&&(Ge=Ge.replace(/\s+/g," ")),et="EventSource's response has a status "+Ye+" "+Ge+" that is not 200. Aborting the connection."):et="EventSource's response has a Content-Type specifying an unsupported type: "+(ht==null?"-":ht.replace(/\s+/g," "))+". Aborting the connection.",go();var at=new O("error",{status:Ye,statusText:Ge,headers:wt});L.dispatchEvent(at),F(L,L.onerror,at),console.error(et)}},zi=function(Ye){if(Ct===A){for(var Ge=-1,ht=0;ht<Ye.length;ht+=1){var wt=Ye.charCodeAt(ht);(wt===10||wt===13)&&(Ge=ht)}var at=(Ge!==-1?ms:"")+Ye.slice(0,Ge+1);ms=(Ge===-1?ms:"")+Ye.slice(Ge+1),Ye!==""&&(je=Date.now(),ve+=Ye.length);for(var et=0;et<at.length;et+=1){var wt=at.charCodeAt(et);if(it===H&&wt===10)it=X;else if(it===H&&(it=X),wt===13||wt===10){if(it!==X){it===Z&&(Br=et+1);var sr=at.slice(ps,Br-1),Kt=at.slice(Br+(Br<et&&at.charCodeAt(Br)===32?1:0),et);sr==="data"?(Fr+=`
`,Fr+=Kt):sr==="id"?hs=Kt:sr==="event"?Vt=Kt:sr==="retry"?(Y=le(Kt,Y),he=Y):sr==="heartbeatTimeout"&&(J=le(Kt,J),_e!==0&&(s(_e),_e=n(function(){zn()},J)))}if(it===X){if(Fr!==""){de=hs,Vt===""&&(Vt="message");var B=new T(Vt,{data:Fr.slice(1),lastEventId:hs});if(L.dispatchEvent(B),Vt==="open"?F(L,L.onopen,B):Vt==="message"?F(L,L.onmessage,B):Vt==="error"&&F(L,L.onerror,B),Ct===W)return}Fr="",Vt=""}it=wt===13?H:X}else it===X&&(ps=et,it=Z),it===Z?wt===58&&(Br=et+1,it=oe):it===oe&&(it=xe)}}},Wr=function(Ye){if(Ct===A||Ct===D){Ct=E,_e!==0&&(s(_e),_e=0),_e=n(function(){zn()},he),he=ye(Math.min(Y*16,he*2)),L.readyState=D;var Ge=new V("error",{error:Ye});L.dispatchEvent(Ge),F(L,L.onerror,Ge),Ye!=null&&console.error(Ye)}},go=function(){Ct=W,ft!=null&&(ft.abort(),ft=void 0),_e!==0&&(s(_e),_e=0),L.readyState=W},zn=function(){if(_e=0,Ct!==E){if(!je&&ft!=null)Wr(new Error("No activity within "+J+" milliseconds. "+(Ct===D?"No response received.":ve+" chars received.")+" Reconnecting.")),ft!=null&&(ft.abort(),ft=void 0);else{var Ye=Math.max((je||Date.now())+J-Date.now(),1);je=!1,_e=n(function(){zn()},Ye)}return}je=!1,ve=0,_e=n(function(){zn()},J),Ct=D,Fr="",Vt="",hs=de,ms="",ps=0,Br=0,it=X;var Ge=G;if(G.slice(0,5)!=="data:"&&G.slice(0,5)!=="blob:"&&de!==""){var ht=G.indexOf("?");Ge=ht===-1?G:G.slice(0,ht+1)+G.slice(ht+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Kt,B){return B===Q?"":Kt}),Ge+=(G.indexOf("?")===-1?"?":"&")+Q+"="+encodeURIComponent(de)}var wt=L.withCredentials,at={};at.Accept="text/event-stream";var et=L.headers;if(et!=null)for(var sr in et)Object.prototype.hasOwnProperty.call(et,sr)&&(at[sr]=et[sr]);try{ft=br.open(nr,sc,zi,Wr,Ge,wt,at)}catch(Kt){throw go(),Kt}};L.url=G,L.readyState=D,L.withCredentials=I,L.headers=ue,L._close=go,zn()}M.prototype=Object.create(P.prototype),M.prototype.CONNECTING=D,M.prototype.OPEN=A,M.prototype.CLOSED=W,M.prototype.close=function(){this._close()},M.CONNECTING=D,M.OPEN=A,M.CLOSED=W,M.prototype.withCredentials=void 0;var Qe=c;i!=null&&(c==null||!("withCredentials"in c.prototype))&&(Qe=M),function(L){{var G=L(t);G!==void 0&&(e.exports=G)}}(function(L){L.EventSourcePolyfill=M,L.NativeEventSource=c,L.EventSource=Qe})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:sb:globalThis)})(ed,ed.exports);var Ic=ed.exports;class sS{constructor(t){ze(this,"_userId");ze(this,"apiBaseUrl");ze(this,"maxReconnectAttempts");ze(this,"eventSource",null);ze(this,"reconnectAttempts",0);ze(this,"reconnectTimeout",null);ze(this,"tokenRefreshTimeout",null);ze(this,"isManualDisconnect",!1);ze(this,"onNotification");ze(this,"onAuthRequired");ze(this,"onConnectionOpen");ze(this,"onConnectionError");ze(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===Ic.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}const r=this.getTokenExpiry(t),n=Date.now();if(r&&r<=n){console.log(" .  ..."),this.refreshTokenAndConnect();return}if(this.startSSEConnection(t),r){const s=r-n-3e5;s>0&&this.scheduleTokenRefresh(s)}}startSSEConnection(t){this.disconnect();const r=`${this.apiBaseUrl}/api/notifications/subscribe`;this.eventSource=new Ic.EventSourcePolyfill(r,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var n;console.log("SSE  "),this.reconnectAttempts=0,(n=this.onConnectionOpen)==null||n.call(this)},this.eventSource.onmessage=n=>{this.handleMessage(n)},this.eventSource.addEventListener("auth-error",n=>{var s;console.warn(" :",n.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var n;console.log("   "),(n=this.eventSource)==null||n.close(),this.refreshTokenAndConnect()}),this.eventSource.onerror=n=>{var s;console.error("SSE  :",n),(s=this.onConnectionError)==null||s.call(this,n),this.handleReconnect()}}handleMessage(t){var r;if(t.data!=="ping"&&t.type!=="heartbeat")try{const n=JSON.parse(t.data);if(n.notificationType==="CONNECTED")return;(r=this.onNotification)==null||r.call(this,n)}catch(n){console.error("SSE   :",n)}}async refreshTokenAndConnect(){try{await this.refreshToken()?this.connect():this.handleAuthRequired()}catch(t){console.error("  :",t),this.handleAuthRequired()}}scheduleTokenRefresh(t){this.clearTokenRefreshTimeout(),this.tokenRefreshTimeout=setTimeout(()=>{console.log("    "),this.refreshTokenAndReconnect()},t)}async refreshTokenAndReconnect(){console.log("    "),this.disconnect(),await this.refreshTokenAndConnect()}handleReconnect(){if(!this.isManualDisconnect)if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts),3e4);console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(()=>{this.connect()},t)}else console.error("    "),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}getTokenExpiry(t){try{return JSON.parse(atob(t.split(".")[1])).exp*1e3}catch{return null}}async refreshToken(){if(this.onTokenRefresh)return await this.onTokenRefresh();if(!localStorage.getItem("refreshToken"))return null;try{const r=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include"});if(r.ok){const s=(await r.text()).replace(/"/g,"");return localStorage.setItem("accessToken",s),s}return null}catch(r){return console.error("  :",r),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}clearTokenRefreshTimeout(){this.tokenRefreshTimeout&&(clearTimeout(this.tokenRefreshTimeout),this.tokenRefreshTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.clearTokenRefreshTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===Ic.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}}const oS=e=>{const{userId:t,apiBaseUrl:r="http://localhost:8080",maxReconnectAttempts:n=5,onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0}=e,h=d.useRef(null),[f,m]=d.useState(!1),[y,w]=d.useState(0),x=d.useRef({onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{x.current={onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c}});const j=d.useCallback(()=>{var S,k;m(!0),w(0),(k=(S=x.current).onConnectionOpen)==null||k.call(S)},[]),g=d.useCallback(S=>{var k,_;m(!1),(_=(k=x.current).onConnectionError)==null||_.call(k,S)},[]),p=d.useCallback(S=>{var k,_;(_=(k=x.current).onNotification)==null||_.call(k,S)},[]),v=d.useCallback(()=>{var S,k;m(!1),(k=(S=x.current).onAuthRequired)==null||k.call(S)},[]),b=d.useCallback(()=>{h.current&&t&&h.current.connect()},[t]),C=d.useCallback(()=>{h.current&&(h.current.disconnect(),m(!1),w(0))},[]),R=d.useCallback(()=>{h.current&&h.current.reconnect()},[]);return d.useEffect(()=>{if(t){const S={userId:t,apiBaseUrl:r,maxReconnectAttempts:n,onNotification:p,onAuthRequired:v,onConnectionOpen:j,onConnectionError:g,onTokenRefresh:x.current.onTokenRefresh};h.current=new sS(S),u&&setTimeout(()=>{var P;(P=h.current)==null||P.connect()},2e3);const _=setInterval(()=>{h.current&&(m(h.current.isConnected()),w(h.current.getReconnectAttempts()))},1e3);return()=>{var P;clearInterval(_),(P=h.current)==null||P.disconnect(),h.current=null}}else h.current&&(h.current.disconnect(),h.current=null),m(!1),w(0)},[t,r,n,u]),d.useEffect(()=>{h.current&&t&&h.current.updateUserId(t)},[t]),{isConnected:f,reconnectAttempts:y,connect:b,disconnect:C,reconnect:R}};class iS{constructor(t={}){ze(this,"apiBaseUrl");ze(this,"refreshPromise",null);ze(this,"onTokenExpired");ze(this,"onTokenRefreshed");this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.onTokenExpired=t.onTokenExpired,this.onTokenRefreshed=t.onTokenRefreshed}extractUserIdFromToken(t){try{if(!t||typeof t!="string")return console.error("  :",t),null;const r=t.split(".");if(r.length!==3)return console.error(" JWT :",t),null;const n=JSON.parse(atob(r[1])),s=n.userId||n.sub||n.id||null;return s||console.error("  ID   :",n),s}catch(r){return console.error("JWT   :",r),null}}isTokenExpired(t){try{const r=JSON.parse(atob(t.split(".")[1])),n=Date.now()/1e3;return r.exp<n}catch(r){return console.error("   :",r),!0}}getTokenExpiry(t){try{return JSON.parse(atob(t.split(".")[1])).exp*1e3}catch(r){return console.error("    :",r),null}}getTokenInfo(t){try{const r=this.extractUserIdFromToken(t),n=this.getTokenExpiry(t);return!r||!n?null:{token:t,userId:r,exp:n}}catch(r){return console.error("   :",r),null}}async refreshAccessToken(){if(this.refreshPromise)return console.log("    .   ."),this.refreshPromise;this.refreshPromise=this.performTokenRefresh();const t=await this.refreshPromise;return this.refreshPromise=null,t}async performTokenRefresh(){var t,r;try{console.log("  ");const n=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include"});if(!n.ok)return console.log(`  : ${n.status} ${n.statusText}`),n.status===401&&(console.log("Refresh token ."),(t=this.onTokenExpired)==null||t.call(this)),null;const s=await n.text();if(!s||s.trim()==="")return console.log("    "),null;const i=s.replace(/"/g,"");return localStorage.setItem("accessToken",i),console.log("  "),(r=this.onTokenRefreshed)==null||r.call(this,i),i}catch(n){return console.error("Token refresh :",n),null}}async ensureValidToken(){var r,n;const t=localStorage.getItem("accessToken");if(!t)return console.error("  ."),(r=this.onTokenExpired)==null||r.call(this),null;if(this.isTokenExpired(t)){console.log(" .   ...");const s=await this.refreshAccessToken();return s||((n=this.onTokenExpired)==null||n.call(this),null)}return t}scheduleTokenRefresh(t,r){const n=this.getTokenExpiry(t);if(!n)return null;const s=Date.now(),i=n-s-5*60*1e3;return i>0?(console.log(`  ${i}ms  `),setTimeout(r,i)):null}clearToken(){localStorage.removeItem("accessToken")}getStoredToken(){return localStorage.getItem("accessToken")}isLoggedIn(){const t=this.getStoredToken();return t!==null&&!this.isTokenExpired(t)}logout(){var t;this.clearToken(),(t=this.onTokenExpired)==null||t.call(this)}}function aS({currentPage:e,onPageChange:t,onProfileClick:r,onMyProfileClick:n,onCloseDM:s,onLogout:i,authenticatedFetch:a,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h}){const[f,m]=d.useState([]),[y,w]=d.useState(!1),[x,j]=d.useState(!1),[g,p]=d.useState(null),v=new iS({onTokenExpired:()=>{console.log("   ."),i()},onTokenRefreshed:()=>{console.log(" .")}});oS({userId:l,onNotification:E=>{if(E.notificationType==="CONNECTED")return;const D=b(E);m(A=>[D,...A])},onAuthRequired:()=>{console.log("SSE    "),i()},onTokenRefresh:async()=>await v.refreshAccessToken()});const b=E=>{const D=H=>{switch(H){case"DM_RECEIVED":case"NEW_DM_ROOM":return"message";case"FOLLOWED":return"follow";case"PLAYLIST_SUBSCRIBED":case"FOLLOWING_POSTED_PLAYLIST":return"like";default:return"notification"}},A=H=>{switch(H){case"DM_RECEIVED":return"  ";case"NEW_DM_ROOM":return"  ";case"FOLLOWED":return"  ";case"PLAYLIST_SUBSCRIBED":return" ";case"FOLLOWING_POSTED_PLAYLIST":return"   ";case"ROLE_CHANGED":return" ";default:return" "}},W=H=>{const X=new Date(H),oe=new Date().getTime()-X.getTime(),xe=Math.floor(oe/(1e3*60)),Ee=Math.floor(oe/(1e3*60*60)),ke=Math.floor(oe/(1e3*60*60*24));return xe<1?" ":xe<60?`${xe} `:Ee<24?`${Ee} `:ke===1?"":`${ke} `};return{id:E.id,type:D(E.notificationType),title:A(E.notificationType),content:E.content,avatar:"",timestamp:W(E.createdAt),isRead:!1}},C=async()=>{if(l)try{const E=await nS.getUser(l);p(E)}catch(E){console.error("   :",E),E instanceof Error&&(E.message.includes("not found")||E.message.includes("401")||E.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i())}},R=async()=>{if(l)try{const E=await a("/api/notifications");if(!E.ok){if(E.status===401||E.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i();return}throw new Error(`   . (: ${E.status})`)}const A=(await E.json()).map(W=>({...b(W),isRead:!0}));m(A)}catch(E){console.error("   :",E),E instanceof Error&&(E.message.includes("401")||E.message.includes("403"))&&m([])}};d.useEffect(()=>{l&&(C(),R())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=C),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const S=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],k=f.filter(E=>!E.isRead).length;d.useEffect(()=>{const E=D=>{const A=D.target;!A.closest(".notification-container")&&!A.closest(".profile-container")&&(w(!1),j(!1))};return document.addEventListener("click",E),()=>document.removeEventListener("click",E)},[]);const _=E=>{switch(E){case"message":return o.jsx(Cf,{className:"w-4 h-4"});case"follow":return o.jsx(_f,{className:"w-4 h-4"});case"like":return o.jsx(Tn,{className:"w-4 h-4"});case"watch":return o.jsx(Wt,{className:"w-4 h-4"});default:return o.jsx(Pm,{className:"w-4 h-4"})}},P=async E=>{try{await u(E),m(D=>D.filter(A=>A.id!==E))}catch(D){console.error("  :",D)}},z=E=>{m(D=>D.map(A=>A.id===E?{...A,isRead:!0}:A))},N=async()=>{try{await R(),m(E=>E.map(D=>({...D,isRead:!0})))}catch(E){console.error("   :",E)}},T=E=>{s&&s(),t(E)},O=E=>{E.stopPropagation(),s&&s(),w(!y),j(!1)},V=async()=>{try{if(!(await a("/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");j(!1),i()}catch(E){console.error(" :",E),j(!1),i()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>T("home"),children:""}),o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:S.map(E=>o.jsx("li",{children:o.jsx("button",{onClick:()=>T(E.id),className:`transition-colors hover:text-[#4ecdc4] ${e===E.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:E.label})},E.id))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative notification-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:O,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Pm,{className:"w-5 h-5"}),k>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:k>9?"9+":k})]}),y&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[k>0&&o.jsx($,{variant:"ghost",size:"sm",onClick:N,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx($,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),m([])}catch(E){console.error("   :",E)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(Yu,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${f.length>4?"max-h-96":""}`,children:f.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:f.map(E=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>z(E.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Me,{className:"h-12 w-12",children:[o.jsx(Le,{src:E.avatar}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:E.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:_(E.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${E.isRead?"text-white/60":"font-medium"}`,children:E.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:E.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:E.content})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:async D=>{D.stopPropagation(),await P(E.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Yu,{className:"w-3 h-3"})}),!E.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},E.id))})})]})]}),o.jsxs("div",{className:"relative profile-container",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:E=>{E.stopPropagation(),j(!x),w(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(Me,{className:"h-8 w-8",children:[o.jsx(Le,{src:(g==null?void 0:g.profileImage)||""}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:(g==null?void 0:g.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(g==null?void 0:g.name)||""})]}),x&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{j(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Lm,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{j(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Lm,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs($,{variant:"ghost",size:"sm",onClick:V,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx($j,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function lS(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},r=[{name:"Github",icon:Lj,href:"#github"},{name:"Twitter",icon:Gj,href:"#twitter"},{name:"Instagram",icon:Dj,href:"#instagram"},{name:"Email",icon:zj,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:r.map(n=>{const s=n.icon;return o.jsx("a",{href:n.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":n.name,children:o.jsx(s,{className:"w-5 h-5"})},n.name)})})]}),Object.entries(t).map(([n,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:n}),o.jsx("ul",{className:"space-y-3",children:s.map(i=>o.jsx("li",{children:o.jsx("a",{href:i.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:i.name})},i.name))})]},n))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(Tn,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const We=d.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,"data-slot":"input",className:Se("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:n,...r}));We.displayName="Input";var cS="Label",Cx=d.forwardRef((e,t)=>o.jsx(ie.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Cx.displayName=cS;var uS=Cx;function Tt({className:e,...t}){return o.jsx(uS,{"data-slot":"label",className:Se("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var dS="Separator",Hm="horizontal",fS=["horizontal","vertical"],Ex=d.forwardRef((e,t)=>{const{decorative:r,orientation:n=Hm,...s}=e,i=hS(n)?n:Hm,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ie.div,{"data-orientation":i,...l,...s,ref:t})});Ex.displayName=dS;function hS(e){return fS.includes(e)}var mS=Ex;function pS({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return o.jsx(mS,{"data-slot":"separator-root",decorative:r,orientation:t,className:Se("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function Tx({selectedImage:e,onImageSelect:t,onClose:r,userName:n}){const[s,i]=d.useState(null),a=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){i("    .");return}if(u.size>5*1024*1024){i("  5MB  .");return}i(null),t(u)}},l=()=>{t(null),i(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),r&&o.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:r,className:"p-1 hover:bg-white/10",children:o.jsx(gr,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(Me,{className:"h-20 w-20",children:[o.jsx(Le,{src:URL.createObjectURL(e)}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:(n==null?void 0:n.charAt(0))||"U"})]}),o.jsx($,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(gr,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(We,{type:"file",accept:"image/*",onChange:a,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(Xj,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function gS({onLogin:e,onToggleAuth:t,onForgotPassword:r,isRegister:n}){const[s,i]=d.useState(!1),[a,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,y]=d.useState(null),[w,x]=d.useState(!1),j=()=>{window.location.href="/api/oauth2/login/kakao"},g=()=>{window.location.href="/api/oauth2/login/google"},p=async v=>{v.preventDefault(),u(null),f(!0);try{if(n){if(!a.name.trim()){u(" .");return}if(a.name.length<3||a.name.length>50){u(" 3  50  .");return}if(!a.email.trim()){u(" .");return}if(!a.password.trim()){u(" .");return}if(a.password!==a.confirmPassword){u("  .");return}const b=new FormData;b.append("email",a.email),b.append("name",a.name),b.append("password",a.password),m&&b.append("profile",m);const C=await fetch("/api/users",{method:"POST",body:b});if(!C.ok){let R=" .";const S=C.headers.get("content-type");if(S&&S.includes("application/json"))try{const k=await C.text();k&&(R=JSON.parse(k).message||R)}catch(k){console.error("Error parsing error response:",k)}throw new Error(R)}alert(" . ."),t()}else{const b={email:a.email,password:a.password},C=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!C.ok){let S=" .";const k=C.headers.get("content-type");if(k&&k.includes("application/json"))try{const _=await C.text();_&&(S=JSON.parse(_).message||S)}catch(_){console.error("Error parsing error response:",_)}throw new Error(S)}const R=await C.text();if(!R||R.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const S=JSON.parse(R);e(S.accessToken,S.isTempPassword)}catch(S){throw console.error("Error parsing success response:",S),new Error("    .")}}}catch(b){u(b instanceof Error?b.message:"   .")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:n?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n&&o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"name",className:"text-base",children:""}),o.jsx(We,{id:"name",type:"text",value:a.name,onChange:v=>l({...a,name:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"email",className:"text-base",children:""}),o.jsx(We,{id:"email",type:"email",value:a.email,onChange:v=>l({...a,email:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(We,{id:"password",type:s?"text":"password",value:a.password,onChange:v=>l({...a,password:v.target.value}),className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(Mj,{className:"w-5 h-5"}):o.jsx(Qs,{className:"w-5 h-5"})})]})]}),n&&o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(We,{id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:v=>l({...a,confirmPassword:v.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),n&&o.jsxs("div",{children:[o.jsx(Tt,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(Me,{className:"h-16 w-16",children:[o.jsx(Le,{src:m?URL.createObjectURL(m):void 0}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:a.name.charAt(0)||"U"})]}),o.jsxs($,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(nx,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(Tx,{selectedImage:m,onImageSelect:y,onClose:()=>x(!1),userName:a.name})})]}),o.jsx($,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?" ...":n?"":""})]}),o.jsx(pS,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:j,disabled:h,children:[" ",n?"":""]}),o.jsxs($,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:g,disabled:h,children:["Google ",n?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[n?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:n?"":""})]}),!n&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:r,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:" "})]})]})]})]})}const vS=fx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function qe({className:e,variant:t,asChild:r=!1,...n}){const s=r?cx:"span";return o.jsx(s,{"data-slot":"badge",className:Se(vS({variant:t}),e),...n})}function Zs(e){const[t,r]=d.useState(!1),n=()=>{r(!0)},{src:s,alt:i,style:a,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:a,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(kf,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:i,className:l,style:a,...c,onError:n})}function xS({title:e,thumbnail:t,year:r,rating:n,genre:s,duration:i,viewers:a,reviewCount:l,description:c,type:u,isLive:h=!1,onClick:f,onAddToPlaylist:m}){return o.jsxs("div",{className:"group relative bg-card rounded-xl overflow-hidden glass-effect border border-white/10 transition-all duration-300 hover:scale-105 hover:border-[#4ecdc4]/50",children:[o.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden",children:[o.jsx(Zs,{src:t,alt:e,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:o.jsxs($,{size:"lg",onClick:f,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Wt,{className:"w-6 h-6 mr-2"}),""]})}),h&&o.jsx(qe,{className:"absolute top-2 left-2 bg-red-500 text-white",children:"LIVE"}),u&&o.jsx(qe,{className:"absolute top-2 right-2 bg-black/50 text-white",children:u==="movie"?"":u==="tv"?"TV":""}),o.jsx($,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),m==null||m()},className:"absolute bottom-2 right-2 p-2 bg-black/50 hover:bg-[#4ecdc4]/20 hover:text-[#4ecdc4] opacity-0 group-hover:opacity-100 transition-all duration-300",children:o.jsx(zt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"mb-3 line-clamp-2 font-medium",children:e}),(n!==void 0||l!==void 0)&&o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60 mb-2",children:[n!==void 0&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_n,{className:"w-3 h-3 text-yellow-500 fill-current"}),o.jsx("span",{children:n.toFixed(1)})]}),l!==void 0&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Fs,{className:"w-3 h-3"}),o.jsx("span",{children:l.toLocaleString()})]}),r&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Sf,{className:"w-3 h-3"}),o.jsx("span",{children:r})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60 mb-3",children:[s&&Array.isArray(s)&&o.jsx("span",{children:s.slice(0,2).join(", ")}),typeof s=="string"&&o.jsx("span",{children:s}),i&&o.jsx("span",{children:i}),a&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(nt,{className:"w-4 h-4"}),o.jsxs("span",{children:[a,""]})]})]}),c&&o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:c}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),m==null||m()},className:"p-2 hover:bg-white/10 text-[#4ecdc4] hover:text-[#26a69a]",children:[o.jsx(zt,{className:"w-4 h-4 mr-1"}),o.jsx("span",{className:"text-xs",children:""})]}),o.jsx($,{size:"sm",variant:"outline",onClick:f,className:"border-[#4ecdc4] text-[#4ecdc4] hover:bg-[#4ecdc4] hover:text-black",children:""})]})]})]})}function yS({roomName:e,contentTitle:t,hostName:r,hostAvatar:n,viewers:s,messages:i,thumbnail:a,category:l}){return o.jsxs("div",{className:"group relative bg-card rounded-xl overflow-hidden glass-effect border border-white/10 transition-all duration-300 hover:scale-105 hover:border-[#4ecdc4]/50",children:[o.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[o.jsx(Zs,{src:a,alt:t,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),o.jsx(qe,{className:"absolute top-2 left-2 bg-red-500 text-white animate-pulse",children:"LIVE"}),o.jsxs("div",{className:"absolute top-2 right-2 flex items-center space-x-1 bg-black/60 rounded-full px-2 py-1",children:[o.jsx(Qs,{className:"w-3 h-3 text-white"}),o.jsx("span",{className:"text-xs text-white",children:s})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"})]}),o.jsxs("div",{className:"p-4",children:[o.jsx(qe,{variant:"secondary",className:"mb-2 text-xs",children:l}),o.jsx("h3",{className:"mb-1",children:e}),o.jsx("p",{className:"text-sm text-white/60 mb-3",children:t}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6",children:[o.jsx(Le,{src:n}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-xs",children:r.charAt(0)})]}),o.jsx("span",{className:"text-sm text-white/80",children:r})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Fs,{className:"w-4 h-4 text-white/60"}),o.jsx("span",{className:"text-xs text-white/60",children:i})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-white/60",children:[o.jsx(nt,{className:"w-4 h-4"}),o.jsxs("span",{children:[s,"  "]})]}),o.jsx($,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})]})}function oa({onPageChange:e,onPlaylistOpen:t,onContentPlay:r}){const n=[],s=[],i=[],a=()=>{e&&e("playlist")},l=c=>{t&&t(c)};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs($,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(zt,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tf,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(Ko,{className:"w-4 h-4 ml-1"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((c,u)=>o.jsx(yS,{...c},u))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(_n,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(Ko,{className:"w-4 h-4 ml-1"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((c,u)=>o.jsx(xS,{title:c.title,thumbnail:c.imageUrl,rating:c.rating,genre:[c.genre],duration:c.duration,type:c.type,viewers:c.viewers,isLive:c.isLive,onClick:()=>r&&r({id:`dashboard-${u+1}`,title:c.title,thumbnail:c.imageUrl,type:c.type,duration:c.duration||"120",description:`${c.genre}   .`})},u))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(fi,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs($,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:a,children:["",o.jsx(Ko,{className:"w-4 h-4 ml-1"})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((c,u)=>o.jsxs("div",{className:"group relative p-6 rounded-xl glass-effect border border-white/10 transition-all duration-300 hover:scale-105 hover:border-[#4ecdc4]/50 cursor-pointer",onClick:()=>l(c.id),children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.color} opacity-10 rounded-xl`}),o.jsxs("div",{className:"relative",children:[o.jsx("h3",{className:"mb-2",children:c.name}),o.jsxs("p",{className:"text-sm text-white/60",children:[c.count," "]})]})]},u))})]})]})]})}class wS{constructor(){ze(this,"baseUrl","/api/keywords")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async createKeyword(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteKeyword(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!r.ok)throw new Error(`  . Status: ${r.status}`)}catch(r){throw console.error("  :",r),r}}async getKeywordContents(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("   :",r),r}}async getUserKeywords(t){try{const r=await this.authenticatedFetch(`/api/users/${t}/keywords`);if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("   :",r),r}}}const ia=new wS,bS=e=>({id:e.id,title:e.title,thumbnail:`/api/placeholder/300/400?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function jS({onContentPlay:e,onContentDetail:t,onAddToPlaylist:r,userId:n}){const[s,i]=d.useState(""),[a,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{j()},[]),d.useEffect(()=>{if(c.length>0&&!s){const _=c[0];i(_.id),g(_.id)}},[c,s]);const j=async()=>{try{if(!n){console.error(" ID .");return}const P=(await ia.getUserKeywords(n)).map(z=>({id:z.keywordId,label:z.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(P)}catch(_){console.error("   :",_),u([])}},g=async _=>{try{x(!0);const z=(await ia.getKeywordContents(_)).map(bS),N=c.find(D=>D.id===_),T=z.filter(D=>D.type==="movie"),O=z.filter(D=>D.type==="tv"),V=z.filter(D=>D.type==="sports"),E=[];T.length>0&&E.push({id:`${_}-movie`,title:`${(N==null?void 0:N.label)||""} `,items:T,category:""}),O.length>0&&E.push({id:`${_}-tv`,title:`${(N==null?void 0:N.label)||""} TV `,items:O,category:"TV"}),V.length>0&&E.push({id:`${_}-sports`,title:`${(N==null?void 0:N.label)||""} `,items:V,category:""}),l(E)}catch(P){console.error("  :",P),l([])}finally{x(!1)}},p=_=>{i(_),g(_)},v=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const _=await ia.createKeyword({userId:n||"temp-user-id",keyword:m.trim()}),P={id:_.keywordId,label:_.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(z=>[...z,P]),y(""),f(!1),alert(" !")}catch(_){console.error("  :",_),alert("  .")}}},b=async _=>{if(window.confirm("  ?"))try{if(await ia.deleteKeyword(_),u(P=>P.filter(z=>z.id!==_)),s===_){const P=c.filter(z=>z.id!==_);P.length>0?(i(P[0].id),g(P[0].id)):(i(""),l([]))}alert(" .")}catch(P){console.error("  :",P),alert("  .")}},C=_=>{const P=document.getElementById(_);P&&P.scrollBy({left:-400,behavior:"smooth"})},R=_=>{const P=document.getElementById(_);P&&P.scrollBy({left:400,behavior:"smooth"})},S=_=>_>=1e4?`${Math.floor(_/1e3)}K`:_.toLocaleString(),k=_=>{r==null||r(_),console.log(`Opening playlist modal for: ${_.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Mm,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(_=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx($,{variant:s===_.id?"default":"outline",size:"sm",onClick:()=>p(_.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===_.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===_.id?_.color:void 0,backgroundColor:s===_.id?_.color:void 0},children:_.label}),o.jsx($,{size:"sm",variant:"ghost",onClick:P=>{P.stopPropagation(),b(_.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(gr,{className:"w-3 h-3"})})]},_.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(We,{value:m,onChange:_=>y(_.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:_=>_.key==="Enter"&&v(),autoFocus:!0}),o.jsx($,{size:"sm",onClick:v,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(zs,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>{f(!1),y("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(gr,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(zt,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:a.map(_=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[_.title,o.jsxs(qe,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(nt,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx($,{size:"sm",variant:"outline",onClick:()=>C(`section-${_.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(ox,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>R(`section-${_.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Ko,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${_.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:_.items.map((P,z)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[_.id==="trending"&&z<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(qe,{className:`
                              ${z===0?"bg-yellow-500 text-black":""}
                              ${z===1?"bg-gray-300 text-black":""}
                              ${z===2?"bg-amber-600 text-white":""}
                            `,children:["#",z+1]})}),o.jsx("img",{src:P.thumbnail,alt:P.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:N=>{const T=N.target;T.style.display="none";const O=T.parentElement;if(O&&!O.querySelector(".image-fallback")){const V=document.createElement("div");V.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",V.textContent=P.title.charAt(0).toUpperCase(),O.appendChild(V)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs($,{size:"sm",onClick:()=>e(P),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Wt,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs($,{size:"sm",variant:"outline",onClick:()=>t(P),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Qs,{className:"w-4 h-4 mr-1"}),""]}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>k(P),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(zt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(Tf,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:S(P.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:P.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:P.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_n,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:P.rating})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(Cf,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:P.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:P.displayGenres.slice(0,2).map(N=>o.jsx(qe,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:N},N))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:P.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs($,{size:"sm",onClick:()=>e(P),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Wt,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx($,{size:"sm",variant:"outline",onClick:()=>t(P),className:"border-white/20 hover:bg-white/10",children:o.jsx(Qs,{className:"w-4 h-4"})}),o.jsx($,{size:"sm",variant:"outline",onClick:()=>k(P),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(zt,{className:"w-4 h-4"})})]})]})]})]},P.id))})]},_.id))}),!w&&a.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Mm,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function NS({items:e=[],maxVisible:t=4,size:r="md"}){const n=e.slice(0,t),s=Math.max(0,e.length-t),i={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},a={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[n.map((l,c)=>o.jsx("div",{className:`${i[r]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(Zs,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${i[r]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${a[r]} font-medium text-white/80`,children:["+",s]})})]})})}function td({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Se("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const To=[null];function SS({isOpen:e,onClose:t,onCreatePlaylist:r}){const[n,s]=d.useState(""),[i,a]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,m]=d.useState(!1),[y,w]=d.useState(!1),x=async v=>{v.preventDefault(),n.trim()&&(w(!0),console.log("Creating playlist:",{title:n.trim(),description:i.trim(),isPublic:l,coverImage:To[u]}),await new Promise(b=>setTimeout(b,1e3)),r({title:n.trim(),description:i.trim(),isPublic:l,coverImage:To[u]}),s(""),a(""),c(!0),h(0),m(!1),w(!1),t())},j=()=>{y||(s(""),a(""),c(!0),h(0),m(!1),t())},g=()=>{const v=To[u];return v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(Qu,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})}):o.jsx("img",{src:v,alt:" ",className:"w-full h-full object-cover"})},p=(v,b)=>v===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(Qu,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:v,alt:`  ${b+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:j}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx($,{variant:"ghost",size:"sm",onClick:j,className:"p-2 hover:bg-white/10",disabled:y,children:o.jsx(gr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Tt,{className:"text-sm mb-3 block",children:" "}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[g(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs($,{type:"button",variant:"ghost",onClick:()=>m(!f),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(kf,{className:"w-4 h-4 mr-2"}),To[u]===null?" ":" "]})})]}),f&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:To.map((v,b)=>o.jsxs("button",{type:"button",onClick:()=>{h(b),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===b?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[p(v,b),u===b&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(zs,{className:"w-3 h-3 text-[#4ecdc4]"})})]},b))})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(We,{id:"title",value:n,onChange:v=>s(v.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[n.length,"/50"]})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"description",className:"text-sm",children:""}),o.jsx(td,{id:"description",value:i,onChange:v=>a(v.target.value),placeholder:"   ...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[i.length,"/200"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Tt,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(il,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(zs,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(al,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(zs,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx($,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:j,disabled:y,children:""}),o.jsx($,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!n.trim()||y,children:y?" ...":" "})]})]})]})]}):null}function Vm({onPlaylistOpen:e,getPlaylists:t,createPlaylist:r,subscribePlaylist:n,unsubscribePlaylist:s,currentUserId:i,onUserProfileOpen:a}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,m]=d.useState(!1),[y,w]=d.useState(!0),[x,j]=d.useState(null),g=N=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(N);d.useEffect(()=>{p()},[]),d.useEffect(()=>{const N=setTimeout(()=>{p(l.trim()||void 0)},300);return()=>clearTimeout(N)},[l]);const p=async N=>{try{w(!0),j(null),console.log("   :",{searchKeyword:N});const T=await t(N);console.log("   :",T),h(T)}catch(T){console.error("Error loading playlists:",T),j("   .")}finally{w(!1)}},v=u,b=N=>{console.log(`Starting playlist with ID: ${N}`)},C=()=>{m(!0)},R=N=>{e&&e(N)},S=async N=>{try{await r({name:N.title,description:N.description,isPublic:N.isPublic}),console.log("     "),await p(l.trim()||void 0)}catch(T){console.error("Error creating playlist:",T),j("   .")}},k=N=>!N.subscriptions||!i?!1:N.subscriptions.some(T=>T.userId===i),_=N=>!N.subscriptions||!i?null:N.subscriptions.find(T=>T.userId===i),P=async N=>{if(console.log("    :",{playlistId:N,currentUserId:i}),!n||!s||!i){console.error("    ID :",{subscribePlaylist:!!n,unsubscribePlaylist:!!s,currentUserId:i});return}const T=u.find(V=>V.id===N);if(!T){console.error("   :",N);return}const O=k(T);console.log("  :",{isSubscribed:O,subscriptions:T.subscriptions});try{if(O){const V=_(T);if(!V){console.error("    ");return}console.log("  :",V.id),await s(V.id)}else console.log(" :",N),await n(N);await p()}catch(V){console.error("   :",V)}},z=N=>N.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(Qu,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:N.name.charAt(0)})]})}):o.jsx(Zs,{src:N.thumbnail,alt:N.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs($,{onClick:C,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(zt,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(We,{placeholder:" ...",value:l,onChange:N=>c(N.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.reduce((N,T)=>{var O;return N+(T.contentCount||((O=T.playlistContents)==null?void 0:O.length)||0)},0)}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.filter(N=>N.isPublic).length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]})]}),(console.log(" Playlist  :",{loading:y,error:x,playlistsLength:u.length,filteredLength:v.length}),y?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx($,{onClick:()=>p(l.trim()||void 0),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):v.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":" "}),!l&&o.jsx($,{onClick:C,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(N=>{var T;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>R(N.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[z(N),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx($,{size:"lg",onClick:O=>{O.stopPropagation(),b(N.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Wt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:N.isPublic?"":""})}),N.userId&&N.userId!==i&&g(N.userId)&&n&&s&&o.jsx($,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${k(N)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:O=>{O.stopPropagation(),P(N.id)},children:o.jsx(Tn,{className:`w-4 h-4 ${k(N)?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:O=>O.stopPropagation(),children:o.jsx(ix,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:N.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:N.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(NS,{items:N.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[N.contentCount||((T=N.playlistContents)==null?void 0:T.length)||0," "]})]}),N.userId&&N.userId!==i&&g(N.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:O=>{O.stopPropagation(),a==null||a(N.userId)},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:N.username?N.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:N.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(fi,{className:"w-3 h-3"}),o.jsx("span",{children:N.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Sf,{className:"w-3 h-3"}),o.jsx("span",{children:N.createdAt?new Date(N.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},N.id)})}))]}),o.jsx(SS,{isOpen:f,onClose:()=>m(!1),onCreatePlaylist:S})]})}function ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var kS=eg[" useId ".trim().toString()]||(()=>{}),CS=0;function kn(e){const[t,r]=d.useState(kS());return Ze(()=>{r(n=>n??String(CS++))},[e]),e||(t?`radix-${t}`:"")}var ES=eg[" useInsertionEffect ".trim().toString()]||Ze;function es({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=TS({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=d.useCallback(h=>{var f;if(l){const m=_S(h)?h(e):h;m!==e&&((f=a.current)==null||f.call(a,m))}else i(h)},[l,e,i,a]);return[c,u]}function TS({defaultProp:e,onChange:t}){const[r,n]=d.useState(e),s=d.useRef(r),i=d.useRef(t);return ES(()=>{i.current=t},[t]),d.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function _S(e){return typeof e=="function"}function RS(e,t=globalThis==null?void 0:globalThis.document){const r=vt(e);d.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var PS="DismissableLayer",rd="dismissableLayer.update",AS="dismissableLayer.pointerDownOutside",IS="dismissableLayer.focusOutside",Km,_x=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Af=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=d.useContext(_x),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=d.useState({}),w=ge(t,S=>f(S)),x=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(j),p=h?x.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,b=p>=g,C=LS(S=>{const k=S.target,_=[...u.branches].some(P=>P.contains(k));!b||_||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},m),R=DS(S=>{const k=S.target;[...u.branches].some(P=>P.contains(k))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},m);return RS(S=>{p===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Km=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Gm(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Km)}},[h,m,r,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Gm())},[h,u]),d.useEffect(()=>{const S=()=>y({});return document.addEventListener(rd,S),()=>document.removeEventListener(rd,S)},[]),o.jsx(ie.div,{...c,ref:w,style:{pointerEvents:v?b?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,R.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,C.onPointerDownCapture)})});Af.displayName=PS;var OS="DismissableLayerBranch",MS=d.forwardRef((e,t)=>{const r=d.useContext(_x),n=d.useRef(null),s=ge(t,n);return d.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(ie.div,{...e,ref:s})});MS.displayName=OS;function LS(e,t=globalThis==null?void 0:globalThis.document){const r=vt(e),n=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Rx(AS,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function DS(e,t=globalThis==null?void 0:globalThis.document){const r=vt(e),n=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!n.current&&Rx(IS,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Gm(){const e=new CustomEvent(rd);document.dispatchEvent(e)}function Rx(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?DN(s,i):s.dispatchEvent(i)}var Oc="focusScope.autoFocusOnMount",Mc="focusScope.autoFocusOnUnmount",Xm={bubbles:!1,cancelable:!0},$S="FocusScope",If=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=d.useState(null),u=vt(s),h=vt(i),f=d.useRef(null),m=ge(t,x=>c(x)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let x=function(v){if(y.paused||!l)return;const b=v.target;l.contains(b)?f.current=b:ln(f.current,{select:!0})},j=function(v){if(y.paused||!l)return;const b=v.relatedTarget;b!==null&&(l.contains(b)||ln(f.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const C of v)C.removedNodes.length>0&&ln(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",j);const p=new MutationObserver(g);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),p.disconnect()}}},[n,l,y.paused]),d.useEffect(()=>{if(l){Qm.add(y);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(Oc,Xm);l.addEventListener(Oc,u),l.dispatchEvent(g),g.defaultPrevented||(zS(HS(Px(l)),{select:!0}),document.activeElement===x&&ln(l))}return()=>{l.removeEventListener(Oc,u),setTimeout(()=>{const g=new CustomEvent(Mc,Xm);l.addEventListener(Mc,h),l.dispatchEvent(g),g.defaultPrevented||ln(x??document.body,{select:!0}),l.removeEventListener(Mc,h),Qm.remove(y)},0)}}},[l,u,h,y]);const w=d.useCallback(x=>{if(!r&&!n||y.paused)return;const j=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(j&&g){const p=x.currentTarget,[v,b]=FS(p);v&&b?!x.shiftKey&&g===b?(x.preventDefault(),r&&ln(v,{select:!0})):x.shiftKey&&g===v&&(x.preventDefault(),r&&ln(b,{select:!0})):g===p&&x.preventDefault()}},[r,n,y.paused]);return o.jsx(ie.div,{tabIndex:-1,...a,ref:m,onKeyDown:w})});If.displayName=$S;function zS(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ln(n,{select:t}),document.activeElement!==r)return}function FS(e){const t=Px(e),r=qm(t,e),n=qm(t.reverse(),e);return[r,n]}function Px(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qm(e,t){for(const r of e)if(!BS(r,{upTo:t}))return r}function BS(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WS(e){return e instanceof HTMLInputElement&&"select"in e}function ln(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&WS(e)&&t&&e.select()}}var Qm=US();function US(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ym(e,t),e.unshift(t)},remove(t){var r;e=Ym(e,t),(r=e[0])==null||r.resume()}}}function Ym(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function HS(e){return e.filter(t=>t.tagName!=="A")}var VS="Portal",Of=d.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=d.useState(!1);Ze(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Rj.createPortal(o.jsx(ie.div,{...n,ref:t}),a):null});Of.displayName=VS;function KS(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var nn=e=>{const{present:t,children:r}=e,n=GS(t),s=typeof r=="function"?r({present:n.isPresent}):d.Children.only(r),i=ge(n.ref,XS(s));return typeof r=="function"||n.isPresent?d.cloneElement(s,{ref:i}):null};nn.displayName="Presence";function GS(e){const[t,r]=d.useState(),n=d.useRef(null),s=d.useRef(e),i=d.useRef("none"),a=e?"mounted":"unmounted",[l,c]=KS(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=aa(n.current);i.current=l==="mounted"?u:"none"},[l]),Ze(()=>{const u=n.current,h=s.current;if(h!==e){const m=i.current,y=aa(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ze(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=y=>{const x=aa(n.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},m=y=>{y.target===t&&(i.current=aa(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function aa(e){return(e==null?void 0:e.animationName)||"none"}function XS(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lc=0;function Ax(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jm()),document.body.insertAdjacentElement("beforeend",e[1]??Jm()),Lc++,()=>{Lc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lc--}},[])}function Jm(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kr=function(){return kr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},kr.apply(this,arguments)};function Ix(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function qS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ia="right-scroll-bar-position",Oa="width-before-scroll-bar",QS="with-scroll-bars-hidden",YS="--removed-body-scroll-bar-size";function Dc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function JS(e,t){var r=d.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var ZS=typeof window<"u"?d.useLayoutEffect:d.useEffect,Zm=new WeakMap;function e2(e,t){var r=JS(null,function(n){return e.forEach(function(s){return Dc(s,n)})});return ZS(function(){var n=Zm.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||Dc(l,null)}),i.forEach(function(l){s.has(l)||Dc(l,a)})}Zm.set(r,e)},[e]),r}function t2(e){return e}function r2(e,t){t===void 0&&(t=t2);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),r}}}};return s}function n2(e){e===void 0&&(e={});var t=r2(null);return t.options=kr({async:!0,ssr:!1},e),t}var Ox=function(e){var t=e.sideCar,r=Ix(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return d.createElement(n,kr({},r))};Ox.isSideCarExport=!0;function s2(e,t){return e.useMedium(t),Ox}var Mx=n2(),$c=function(){},Ol=d.forwardRef(function(e,t){var r=d.useRef(null),n=d.useState({onScrollCapture:$c,onWheelCapture:$c,onTouchMoveCapture:$c}),s=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,j=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,v=e.gapMode,b=Ix(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,R=e2([r,t]),S=kr(kr({},b),s);return d.createElement(d.Fragment,null,h&&d.createElement(C,{sideCar:Mx,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:x,setCallbacks:i,allowPinchZoom:!!j,lockRef:r,gapMode:v}),a?d.cloneElement(d.Children.only(l),kr(kr({},S),{ref:R})):d.createElement(p,kr({},S,{className:c,ref:R}),l))});Ol.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ol.classNames={fullWidth:Oa,zeroRight:Ia};var o2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=o2();return t&&e.setAttribute("nonce",t),e}function a2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var c2=function(){var e=0,t=null;return{add:function(r){e==0&&(t=i2())&&(a2(t,r),l2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},u2=function(){var e=c2();return function(t,r){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Lx=function(){var e=u2(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},d2={left:0,top:0,right:0,gap:0},zc=function(e){return parseInt(e||"",10)||0},f2=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[zc(r),zc(n),zc(s)]},h2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return d2;var t=f2(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},m2=Lx(),Bs="data-scroll-locked",p2=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(QS,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ia,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Oa,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ia," .").concat(Ia,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Oa," .").concat(Oa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bs,`] {
    `).concat(YS,": ").concat(l,`px;
  }
`)},ep=function(){var e=parseInt(document.body.getAttribute(Bs)||"0",10);return isFinite(e)?e:0},g2=function(){d.useEffect(function(){return document.body.setAttribute(Bs,(ep()+1).toString()),function(){var e=ep()-1;e<=0?document.body.removeAttribute(Bs):document.body.setAttribute(Bs,e.toString())}},[])},v2=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;g2();var i=d.useMemo(function(){return h2(s)},[s]);return d.createElement(m2,{styles:p2(i,!t,s,r?"":"!important")})},nd=!1;if(typeof window<"u")try{var la=Object.defineProperty({},"passive",{get:function(){return nd=!0,!0}});window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{nd=!1}var vs=nd?{passive:!1}:!1,x2=function(e){return e.tagName==="TEXTAREA"},Dx=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!x2(e)&&r[t]==="visible")},y2=function(e){return Dx(e,"overflowY")},w2=function(e){return Dx(e,"overflowX")},tp=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=$x(e,n);if(s){var i=zx(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},b2=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},j2=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},$x=function(e,t){return e==="v"?y2(t):w2(t)},zx=function(e,t){return e==="v"?b2(t):j2(t)},N2=function(e,t){return e==="h"&&t==="rtl"?-1:1},S2=function(e,t,r,n,s){var i=N2(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),u=!1,h=a>0,f=0,m=0;do{if(!l)break;var y=zx(e,l),w=y[0],x=y[1],j=y[2],g=x-j-i*w;(w||g)&&$x(e,l)&&(f+=g,m+=w);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},ca=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rp=function(e){return[e.deltaX,e.deltaY]},np=function(e){return e&&"current"in e?e.current:e},k2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E2=0,xs=[];function T2(e){var t=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),s=d.useState(E2++)[0],i=d.useState(Lx)[0],a=d.useRef(e);d.useEffect(function(){a.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=qS([e.lockRef.current],(e.shards||[]).map(np),!0).filter(Boolean);return x.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,j){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var g=ca(x),p=r.current,v="deltaX"in x?x.deltaX:p[0]-g[0],b="deltaY"in x?x.deltaY:p[1]-g[1],C,R=x.target,S=Math.abs(v)>Math.abs(b)?"h":"v";if("touches"in x&&S==="h"&&R.type==="range")return!1;var k=tp(S,R);if(!k)return!0;if(k?C=S:(C=S==="v"?"h":"v",k=tp(S,R)),!k)return!1;if(!n.current&&"changedTouches"in x&&(v||b)&&(n.current=C),!C)return!0;var _=n.current||C;return S2(_,j,x,_==="h"?v:b)},[]),c=d.useCallback(function(x){var j=x;if(!(!xs.length||xs[xs.length-1]!==i)){var g="deltaY"in j?rp(j):ca(j),p=t.current.filter(function(C){return C.name===j.type&&(C.target===j.target||j.target===C.shadowParent)&&k2(C.delta,g)})[0];if(p&&p.should){j.cancelable&&j.preventDefault();return}if(!p){var v=(a.current.shards||[]).map(np).filter(Boolean).filter(function(C){return C.contains(j.target)}),b=v.length>0?l(j,v[0]):!a.current.noIsolation;b&&j.cancelable&&j.preventDefault()}}},[]),u=d.useCallback(function(x,j,g,p){var v={name:x,delta:j,target:g,should:p,shadowParent:_2(g)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(b){return b!==v})},1)},[]),h=d.useCallback(function(x){r.current=ca(x),n.current=void 0},[]),f=d.useCallback(function(x){u(x.type,rp(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,ca(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return xs.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,vs),document.addEventListener("touchmove",c,vs),document.addEventListener("touchstart",h,vs),function(){xs=xs.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,vs),document.removeEventListener("touchmove",c,vs),document.removeEventListener("touchstart",h,vs)}},[]);var y=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(i,{styles:C2(s)}):null,y?d.createElement(v2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function _2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const R2=s2(Mx,T2);var Mf=d.forwardRef(function(e,t){return d.createElement(Ol,kr({},e,{ref:t,sideCar:R2}))});Mf.classNames=Ol.classNames;var P2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ys=new WeakMap,ua=new WeakMap,da={},Fc=0,Fx=function(e){return e&&(e.host||Fx(e.parentNode))},A2=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Fx(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},I2=function(e,t,r,n){var s=A2(t,Array.isArray(e)?e:[e]);da[r]||(da[r]=new WeakMap);var i=da[r],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(n),w=y!==null&&y!=="false",x=(ys.get(m)||0)+1,j=(i.get(m)||0)+1;ys.set(m,x),i.set(m,j),a.push(m),x===1&&w&&ua.set(m,!0),j===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return h(t),l.clear(),Fc++,function(){a.forEach(function(f){var m=ys.get(f)-1,y=i.get(f)-1;ys.set(f,m),i.set(f,y),m||(ua.has(f)||f.removeAttribute(n),ua.delete(f)),y||f.removeAttribute(r)}),Fc--,Fc||(ys=new WeakMap,ys=new WeakMap,ua=new WeakMap,da={})}},Bx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=P2(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),I2(n,s,r,"aria-hidden")):function(){return null}},Ml="Dialog",[Wx,uR]=Lr(Ml),[O2,wr]=Wx(Ml),Ux=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=es({prop:n,defaultProp:s??!1,onChange:i,caller:Ml});return o.jsx(O2,{scope:t,triggerRef:l,contentRef:c,contentId:kn(),titleId:kn(),descriptionId:kn(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:a,children:r})};Ux.displayName=Ml;var Hx="DialogTrigger",M2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(Hx,r),i=ge(t,s.triggerRef);return o.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$f(s.open),...n,ref:i,onClick:ae(e.onClick,s.onOpenToggle)})});M2.displayName=Hx;var Lf="DialogPortal",[L2,Vx]=Wx(Lf,{forceMount:void 0}),Kx=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=wr(Lf,t);return o.jsx(L2,{scope:t,forceMount:r,children:d.Children.map(n,a=>o.jsx(nn,{present:r||i.open,children:o.jsx(Of,{asChild:!0,container:s,children:a})}))})};Kx.displayName=Lf;var ll="DialogOverlay",Gx=d.forwardRef((e,t)=>{const r=Vx(ll,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=wr(ll,e.__scopeDialog);return i.modal?o.jsx(nn,{present:n||i.open,children:o.jsx($2,{...s,ref:t})}):null});Gx.displayName=ll;var D2=Ys("DialogOverlay.RemoveScroll"),$2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(ll,r);return o.jsx(Mf,{as:D2,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ie.div,{"data-state":$f(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ts="DialogContent",Xx=d.forwardRef((e,t)=>{const r=Vx(ts,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=wr(ts,e.__scopeDialog);return o.jsx(nn,{present:n||i.open,children:i.modal?o.jsx(z2,{...s,ref:t}):o.jsx(F2,{...s,ref:t})})});Xx.displayName=ts;var z2=d.forwardRef((e,t)=>{const r=wr(ts,e.__scopeDialog),n=d.useRef(null),s=ge(t,r.contentRef,n);return d.useEffect(()=>{const i=n.current;if(i)return Bx(i)},[]),o.jsx(qx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,i=>i.preventDefault())})}),F2=d.forwardRef((e,t)=>{const r=wr(ts,e.__scopeDialog),n=d.useRef(!1),s=d.useRef(!1);return o.jsx(qx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),qx=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=wr(ts,r),c=d.useRef(null),u=ge(t,c);return Ax(),o.jsxs(o.Fragment,{children:[o.jsx(If,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Af,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$f(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(W2,{titleId:l.titleId}),o.jsx(H2,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Df="DialogTitle",Qx=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(Df,r);return o.jsx(ie.h2,{id:s.titleId,...n,ref:t})});Qx.displayName=Df;var Yx="DialogDescription",B2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(Yx,r);return o.jsx(ie.p,{id:s.descriptionId,...n,ref:t})});B2.displayName=Yx;var Jx="DialogClose",Zx=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(Jx,r);return o.jsx(ie.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});Zx.displayName=Jx;function $f(e){return e?"open":"closed"}var ey="DialogTitleWarning",[dR,ty]=ON(ey,{contentName:ts,titleName:Df,docsSlug:"dialog"}),W2=({titleId:e})=>{const t=ty(ey),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},U2="DialogDescriptionWarning",H2=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ty(U2).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},V2=Ux,K2=Kx,G2=Gx,X2=Xx,q2=Qx,Q2=Zx;function Ll({...e}){return o.jsx(V2,{"data-slot":"dialog",...e})}function Y2({...e}){return o.jsx(K2,{"data-slot":"dialog-portal",...e})}function J2({className:e,...t}){return o.jsx(G2,{"data-slot":"dialog-overlay",className:Se("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function Dl({className:e,children:t,...r}){return o.jsxs(Y2,{"data-slot":"dialog-portal",children:[o.jsx(J2,{}),o.jsxs(X2,{"data-slot":"dialog-content",className:Se("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,o.jsxs(Q2,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(gr,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function $l({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Se("flex flex-col gap-2 text-center sm:text-left",e),...t})}function zl({className:e,...t}){return o.jsx(q2,{"data-slot":"dialog-title",className:Se("text-lg leading-none font-semibold",e),...t})}class Z2{constructor(){ze(this,"baseUrl","/api/contents")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getContents(t){try{const r=new URLSearchParams;if(t!=null&&t.query&&r.append("title",t.query),t!=null&&t.type){const a=t.type.toUpperCase();r.append("contentType",a)}t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.direction&&r.append("direction",t.direction),t!=null&&t.cursor&&r.append("cursor",t.cursor),t!=null&&t.size&&r.append("size",t.size.toString());const n=`${this.baseUrl}?${r.toString()}`,s=await this.authenticatedFetch(n);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(r){throw console.error("   :",r),r}}async getContent(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async getContentsByType(t,r){return this.getContents({...r,type:t})}async searchContents(t,r){return this.getContents({...r,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const As=new Z2;function ek({playlistId:e,onBack:t,onContentPlay:r,getPlaylistById:n,addPlaylistContents:s,deletePlaylistContents:i}){var le,ye;const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!0),[w,x]=d.useState(null),[j,g]=d.useState(!1),[p,v]=d.useState([]),[b,C]=d.useState([]),[R,S]=d.useState(""),[k,_]=d.useState(!1),[P,z]=d.useState(!1),[N,T]=d.useState([]),O=d.useCallback(async()=>{try{y(!0),x(null),console.log("    :",e);const F=await n(e);if(console.log("   :",F),!F){console.error("   "),x("   .");return}l(F),u(F.playlistContents||[]),console.log("    :",{playlist:F,contents:F.playlistContents||[]})}catch(F){console.error("    :",F),x("   .")}finally{y(!1)}},[e,n]),V=d.useCallback(async()=>{try{console.log("   :",{searchQuery:R}),_(!0);const F=await As.getContents({size:20,query:R||void 0});console.log("   :",F),v(F.data||[]),console.log("   :",F.data||[])}catch(F){console.error("   :",F)}finally{_(!1)}},[R]);if(d.useEffect(()=>{O()},[O]),d.useEffect(()=>{let F;return j&&(F=setTimeout(()=>{V()},300)),()=>{F&&clearTimeout(F)}},[R,j,V]),m)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(w||!a)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:w||"   "}),o.jsx($,{onClick:t,variant:"outline",children:""})]})});const E=F=>{console.log(`Removing content ${F} from playlist ${e}`),u(M=>M.filter(ne=>ne.id!==F))},D=F=>{r?r({id:F.id,title:F.title,thumbnail:F.thumbnail,type:F.type,duration:F.duration,description:F.description}):alert(`"${F.title}"  .`)},A=()=>{console.log(`Playing playlist: ${a.name}`),alert(`"${a.name}"   .`)},W=()=>{console.log(`Shuffling playlist: ${a.name}`),alert(`"${a.name}"   .`)},H=()=>{g(!0),V()},X=F=>{C(M=>M.includes(F)?M.filter(ne=>ne!==F):[...M,F])},Z=async()=>{if(b.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,b),await s(e,b),await O(),g(!1),C([]),S(""),alert(`${b.length}   .`)}catch(F){console.error("  :",F),alert("  .")}},oe=()=>{console.log("    :",!P),z(!P),T([])},xe=F=>{T(M=>M.includes(F)?M.filter(ne=>ne!==F):[...M,F])},Ee=()=>{N.length===c.length?T([]):T(c.map(F=>F.id))},ke=async()=>{if(N.length===0){alert("  .");return}if(confirm(` ${N.length}   ?`))try{await i(e,N),await O(),T([]),z(!1),alert(`${N.length}  .`)}catch(M){console.error("  :",M),alert("  .")}},re=()=>a.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:a.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:""})]})}):o.jsx(Zs,{src:a.coverImage,alt:a.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs($,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(io,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:re()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(qe,{variant:"secondary",className:"bg-white/10 text-white",children:""}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:a.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:a.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6",children:[o.jsx(Le,{src:(le=a.user)==null?void 0:le.profileImage}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-xs",children:((ye=a.username)==null?void 0:ye.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:a.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[c.length," "]}),o.jsx("span",{children:""}),o.jsx("span",{children:a.totalDuration||"0"}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Sf,{className:"w-4 h-4"}),o.jsx("span",{children:a.createdAt?new Date(a.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs($,{size:"lg",onClick:A,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(Wt,{className:"w-6 h-6 mr-2 fill-current"}),""]}),o.jsxs($,{size:"lg",variant:"outline",onClick:W,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Vj,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs($,{size:"lg",variant:"outline",onClick:oe,className:`border-white/20 hover:bg-white/10 ${P?"bg-white/10":""}`,children:[o.jsx(gr,{className:"w-5 h-5 mr-2"}),P?" ":" "]}),P&&o.jsxs(o.Fragment,{children:[o.jsx($,{size:"lg",variant:"outline",onClick:Ee,className:"border-white/20 hover:bg-white/10",children:N.length===c.length?" ":" "}),N.length>0&&o.jsxs($,{size:"lg",variant:"destructive",onClick:ke,className:"bg-red-600 hover:bg-red-700",children:["  (",N.length,")"]})]}),o.jsx($,{variant:"ghost",size:"lg",onClick:()=>f(!h),className:`p-3 hover:bg-white/10 ${h?"text-[#4ecdc4]":"text-white/60"}`,children:o.jsx(Tn,{className:`w-6 h-6 ${h?"fill-current":""}`})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(Hj,{className:"w-6 h-6"})}),o.jsx($,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(ix,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:""}),o.jsx("div",{className:"col-span-2",children:""}),o.jsx("div",{className:"col-span-2",children:" "}),o.jsx("div",{className:"col-span-1",children:o.jsx(fi,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:c.map((F,M)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:P,contentId:F.id}),P)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>xe(F.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${N.includes(F.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:N.includes(F.id)&&o.jsx(zt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:M+1}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>D(F),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(Wt,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(Zs,{src:F.thumbnail,alt:F.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:F.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[F.year,"  ",F.type==="movie"?"":F.type==="tv"?"":""]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:F.genre&&Array.isArray(F.genre)?F.genre.slice(0,2).join(", "):F.genre||" "})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(F.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:F.duration})}),o.jsx("div",{className:"col-span-1",children:o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx($,{variant:"ghost",size:"sm",onClick:()=>E(F.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(gr,{className:"w-4 h-4"})})})})]})},F.id))}),c.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),o.jsx($,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:H,children:" "})]})]})}),o.jsx(Ll,{open:j,onOpenChange:g,children:o.jsxs(Dl,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx($l,{children:o.jsx(zl,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(We,{placeholder:" ...",value:R,onChange:F=>S(F.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),b.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[b.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:k?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!p||p.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(p||[]).map(F=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${b.includes(F.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>X(F.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:F.thumbnail||"/placeholder-content.jpg",alt:F.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:F.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:F.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(qe,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:F.contentType}),F.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:F.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:b.includes(F.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(zt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},F.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{g(!1),C([]),S("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx($,{onClick:Z,disabled:b.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:b.length>0?`${b.length} `:""})]})]})})]})}function hi(e,[t,r]){return Math.min(r,Math.max(t,e))}function zf(e){const t=e+"CollectionProvider",[r,n]=Lr(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:j,children:g}=x,p=Ur.useRef(null),v=Ur.useRef(new Map).current;return o.jsx(s,{scope:j,itemMap:v,collectionRef:p,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=Ys(l),u=Ur.forwardRef((x,j)=>{const{scope:g,children:p}=x,v=i(l,g),b=ge(j,v.collectionRef);return o.jsx(c,{ref:b,children:p})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ys(h),y=Ur.forwardRef((x,j)=>{const{scope:g,children:p,...v}=x,b=Ur.useRef(null),C=ge(j,b),R=i(h,g);return Ur.useEffect(()=>(R.itemMap.set(b,{ref:b,...v}),()=>void R.itemMap.delete(b))),o.jsx(m,{[f]:"",ref:C,children:p})});y.displayName=h;function w(x){const j=i(e+"CollectionConsumer",x);return Ur.useCallback(()=>{const p=j.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((R,S)=>v.indexOf(R.ref.current)-v.indexOf(S.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:a,Slot:u,ItemSlot:y},w,n]}var tk=d.createContext(void 0);function ki(e){const t=d.useContext(tk);return e||t||"ltr"}const rk=["top","right","bottom","left"],Rn=Math.min,Lt=Math.max,cl=Math.round,fa=Math.floor,Rr=e=>({x:e,y:e}),nk={left:"right",right:"left",bottom:"top",top:"bottom"},sk={start:"end",end:"start"};function sd(e,t,r){return Lt(e,Rn(t,r))}function en(e,t){return typeof e=="function"?e(t):e}function tn(e){return e.split("-")[0]}function ao(e){return e.split("-")[1]}function Ff(e){return e==="x"?"y":"x"}function Bf(e){return e==="y"?"height":"width"}const ok=new Set(["top","bottom"]);function Cr(e){return ok.has(tn(e))?"y":"x"}function Wf(e){return Ff(Cr(e))}function ik(e,t,r){r===void 0&&(r=!1);const n=ao(e),s=Wf(e),i=Bf(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=ul(a)),[a,ul(a)]}function ak(e){const t=ul(e);return[od(e),t,od(t)]}function od(e){return e.replace(/start|end/g,t=>sk[t])}const sp=["left","right"],op=["right","left"],lk=["top","bottom"],ck=["bottom","top"];function uk(e,t,r){switch(e){case"top":case"bottom":return r?t?op:sp:t?sp:op;case"left":case"right":return t?lk:ck;default:return[]}}function dk(e,t,r,n){const s=ao(e);let i=uk(tn(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(od)))),i}function ul(e){return e.replace(/left|right|bottom|top/g,t=>nk[t])}function fk(e){return{top:0,right:0,bottom:0,left:0,...e}}function ry(e){return typeof e!="number"?fk(e):{top:e,right:e,bottom:e,left:e}}function dl(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function ip(e,t,r){let{reference:n,floating:s}=e;const i=Cr(t),a=Wf(t),l=Bf(a),c=tn(t),u=i==="y",h=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-s.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-s.width,y:f};break;default:y={x:n.x,y:n.y}}switch(ao(t)){case"start":y[a]-=m*(r&&u?-1:1);break;case"end":y[a]+=m*(r&&u?-1:1);break}return y}const hk=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=ip(u,n,c),m=n,y={},w=0;for(let x=0;x<l.length;x++){const{name:j,fn:g}=l[x],{x:p,y:v,data:b,reset:C}=await g({x:h,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:y,rects:u,platform:a,elements:{reference:e,floating:t}});h=p??h,f=v??f,y={...y,[j]:{...y[j],...b}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:h,y:f}=ip(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function mi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=en(t,e),w=ry(y),j=l[m?f==="floating"?"reference":"floating":f],g=dl(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),p=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},C=dl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(g.top-C.top+w.top)/b.y,bottom:(C.bottom-g.bottom+w.bottom)/b.y,left:(g.left-C.left+w.left)/b.x,right:(C.right-g.right+w.right)/b.x}}const mk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=en(e,t)||{};if(u==null)return{};const f=ry(h),m={x:r,y:n},y=Wf(s),w=Bf(y),x=await a.getDimensions(u),j=y==="y",g=j?"top":"left",p=j?"bottom":"right",v=j?"clientHeight":"clientWidth",b=i.reference[w]+i.reference[y]-m[y]-i.floating[w],C=m[y]-i.reference[y],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=R?R[v]:0;(!S||!await(a.isElement==null?void 0:a.isElement(R)))&&(S=l.floating[v]||i.floating[w]);const k=b/2-C/2,_=S/2-x[w]/2-1,P=Rn(f[g],_),z=Rn(f[p],_),N=P,T=S-x[w]-z,O=S/2-x[w]/2+k,V=sd(N,O,T),E=!c.arrow&&ao(s)!=null&&O!==V&&i.reference[w]/2-(O<N?P:z)-x[w]/2<0,D=E?O<N?O-N:O-T:0;return{[y]:m[y]+D,data:{[y]:V,centerOffset:O-V-D,...E&&{alignmentOffset:D}},reset:E}}}),pk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...j}=en(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=tn(s),p=Cr(l),v=tn(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(v||!x?[ul(l)]:ak(l)),R=w!=="none";!m&&R&&C.push(...dk(l,x,w,b));const S=[l,...C],k=await mi(t,j),_=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&_.push(k[g]),f){const O=ik(s,a,b);_.push(k[O[0]],k[O[1]])}if(P=[...P,{placement:s,overflows:_}],!_.every(O=>O<=0)){var z,N;const O=(((z=i.flip)==null?void 0:z.index)||0)+1,V=S[O];if(V&&(!(f==="alignment"?p!==Cr(V):!1)||P.every(A=>A.overflows[0]>0&&Cr(A.placement)===p)))return{data:{index:O,overflows:P},reset:{placement:V}};let E=(N=P.filter(D=>D.overflows[0]<=0).sort((D,A)=>D.overflows[1]-A.overflows[1])[0])==null?void 0:N.placement;if(!E)switch(y){case"bestFit":{var T;const D=(T=P.filter(A=>{if(R){const W=Cr(A.placement);return W===p||W==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(W=>W>0).reduce((W,H)=>W+H,0)]).sort((A,W)=>A[1]-W[1])[0])==null?void 0:T[0];D&&(E=D);break}case"initialPlacement":E=l;break}if(s!==E)return{reset:{placement:E}}}return{}}}};function ap(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lp(e){return rk.some(t=>e[t]>=0)}const gk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=en(e,t);switch(n){case"referenceHidden":{const i=await mi(t,{...s,elementContext:"reference"}),a=ap(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lp(a)}}}case"escaped":{const i=await mi(t,{...s,altBoundary:!0}),a=ap(i,r.floating);return{data:{escapedOffsets:a,escaped:lp(a)}}}default:return{}}}}},ny=new Set(["left","top"]);async function vk(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=tn(r),l=ao(r),c=Cr(r)==="y",u=ny.has(a)?-1:1,h=i&&c?-1:1,f=en(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:m*u}:{x:m*u,y:y*h}}const xk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await vk(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},yk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:j=>{let{x:g,y:p}=j;return{x:g,y:p}}},...c}=en(e,t),u={x:r,y:n},h=await mi(t,c),f=Cr(tn(s)),m=Ff(f);let y=u[m],w=u[f];if(i){const j=m==="y"?"top":"left",g=m==="y"?"bottom":"right",p=y+h[j],v=y-h[g];y=sd(p,y,v)}if(a){const j=f==="y"?"top":"left",g=f==="y"?"bottom":"right",p=w+h[j],v=w-h[g];w=sd(p,w,v)}const x=l.fn({...t,[m]:y,[f]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:i,[f]:a}}}}}},wk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=en(e,t),h={x:r,y:n},f=Cr(s),m=Ff(f);let y=h[m],w=h[f];const x=en(l,t),j=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",b=i.reference[m]-i.floating[v]+j.mainAxis,C=i.reference[m]+i.reference[v]-j.mainAxis;y<b?y=b:y>C&&(y=C)}if(u){var g,p;const v=m==="y"?"width":"height",b=ny.has(tn(s)),C=i.reference[f]-i.floating[v]+(b&&((g=a.offset)==null?void 0:g[f])||0)+(b?0:j.crossAxis),R=i.reference[f]+i.reference[v]+(b?0:((p=a.offset)==null?void 0:p[f])||0)-(b?j.crossAxis:0);w<C?w=C:w>R&&(w=R)}return{[m]:y,[f]:w}}}},bk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=en(e,t),h=await mi(t,u),f=tn(s),m=ao(s),y=Cr(s)==="y",{width:w,height:x}=i.floating;let j,g;f==="top"||f==="bottom"?(j=f,g=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,j=m==="end"?"top":"bottom");const p=x-h.top-h.bottom,v=w-h.left-h.right,b=Rn(x-h[j],p),C=Rn(w-h[g],v),R=!t.middlewareData.shift;let S=b,k=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=p),R&&!m){const P=Lt(h.left,0),z=Lt(h.right,0),N=Lt(h.top,0),T=Lt(h.bottom,0);y?k=w-2*(P!==0||z!==0?P+z:Lt(h.left,h.right)):S=x-2*(N!==0||T!==0?N+T:Lt(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:S});const _=await a.getDimensions(l.floating);return w!==_.width||x!==_.height?{reset:{rects:!0}}:{}}}};function Fl(){return typeof window<"u"}function lo(e){return sy(e)?(e.nodeName||"").toLowerCase():"#document"}function Ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dr(e){var t;return(t=(sy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sy(e){return Fl()?e instanceof Node||e instanceof Ft(e).Node:!1}function vr(e){return Fl()?e instanceof Element||e instanceof Ft(e).Element:!1}function Ir(e){return Fl()?e instanceof HTMLElement||e instanceof Ft(e).HTMLElement:!1}function cp(e){return!Fl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ft(e).ShadowRoot}const jk=new Set(["inline","contents"]);function Ci(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=xr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!jk.has(s)}const Nk=new Set(["table","td","th"]);function Sk(e){return Nk.has(lo(e))}const kk=[":popover-open",":modal"];function Bl(e){return kk.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ck=["transform","translate","scale","rotate","perspective"],Ek=["transform","translate","scale","rotate","perspective","filter"],Tk=["paint","layout","strict","content"];function Uf(e){const t=Hf(),r=vr(e)?xr(e):e;return Ck.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Ek.some(n=>(r.willChange||"").includes(n))||Tk.some(n=>(r.contain||"").includes(n))}function _k(e){let t=Pn(e);for(;Ir(t)&&!eo(t);){if(Uf(t))return t;if(Bl(t))return null;t=Pn(t)}return null}function Hf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Rk=new Set(["html","body","#document"]);function eo(e){return Rk.has(lo(e))}function xr(e){return Ft(e).getComputedStyle(e)}function Wl(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pn(e){if(lo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cp(e)&&e.host||Dr(e);return cp(t)?t.host:t}function oy(e){const t=Pn(e);return eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ir(t)&&Ci(t)?t:oy(t)}function pi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=oy(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=Ft(s);if(i){const l=id(a);return t.concat(a,a.visualViewport||[],Ci(s)?s:[],l&&r?pi(l):[])}return t.concat(s,pi(s,[],r))}function id(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function iy(e){const t=xr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ir(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=cl(r)!==i||cl(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function Vf(e){return vr(e)?e:e.contextElement}function Ws(e){const t=Vf(e);if(!Ir(t))return Rr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=iy(t);let a=(i?cl(r.width):r.width)/n,l=(i?cl(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Pk=Rr(0);function ay(e){const t=Ft(e);return!Hf()||!t.visualViewport?Pk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ak(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ft(e)?!1:t}function rs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Vf(e);let a=Rr(1);t&&(n?vr(n)&&(a=Ws(n)):a=Ws(e));const l=Ak(i,r,n)?ay(i):Rr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=Ft(i),y=n&&vr(n)?Ft(n):n;let w=m,x=id(w);for(;x&&n&&y!==w;){const j=Ws(x),g=x.getBoundingClientRect(),p=xr(x),v=g.left+(x.clientLeft+parseFloat(p.paddingLeft))*j.x,b=g.top+(x.clientTop+parseFloat(p.paddingTop))*j.y;c*=j.x,u*=j.y,h*=j.x,f*=j.y,c+=v,u+=b,w=Ft(x),x=id(w)}}return dl({width:h,height:f,x:c,y:u})}function Kf(e,t){const r=Wl(e).scrollLeft;return t?t.left+r:rs(Dr(e)).left+r}function ly(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Kf(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function Ik(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=Dr(n),l=t?Bl(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Rr(1);const h=Rr(0),f=Ir(n);if((f||!f&&!i)&&((lo(n)!=="body"||Ci(a))&&(c=Wl(n)),Ir(n))){const y=rs(n);u=Ws(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const m=a&&!f&&!i?ly(a,c,!0):Rr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:r.y*u.y-c.scrollTop*u.y+h.y+m.y}}function Ok(e){return Array.from(e.getClientRects())}function Mk(e){const t=Dr(e),r=Wl(e),n=e.ownerDocument.body,s=Lt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Lt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Kf(e);const l=-r.scrollTop;return xr(n).direction==="rtl"&&(a+=Lt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function Lk(e,t){const r=Ft(e),n=Dr(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Hf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const Dk=new Set(["absolute","fixed"]);function $k(e,t){const r=rs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ir(e)?Ws(e):Rr(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function up(e,t,r){let n;if(t==="viewport")n=Lk(e,r);else if(t==="document")n=Mk(Dr(e));else if(vr(t))n=$k(t,r);else{const s=ay(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return dl(n)}function cy(e,t){const r=Pn(e);return r===t||!vr(r)||eo(r)?!1:xr(r).position==="fixed"||cy(r,t)}function zk(e,t){const r=t.get(e);if(r)return r;let n=pi(e,[],!1).filter(l=>vr(l)&&lo(l)!=="body"),s=null;const i=xr(e).position==="fixed";let a=i?Pn(e):e;for(;vr(a)&&!eo(a);){const l=xr(a),c=Uf(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Dk.has(s.position)||Ci(a)&&!c&&cy(e,a))?n=n.filter(h=>h!==a):s=l,a=Pn(a)}return t.set(e,n),n}function Fk(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?Bl(t)?[]:zk(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,h)=>{const f=up(t,h,s);return u.top=Lt(f.top,u.top),u.right=Rn(f.right,u.right),u.bottom=Rn(f.bottom,u.bottom),u.left=Lt(f.left,u.left),u},up(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Bk(e){const{width:t,height:r}=iy(e);return{width:t,height:r}}function Wk(e,t,r){const n=Ir(t),s=Dr(t),i=r==="fixed",a=rs(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Rr(0);function u(){c.x=Kf(s)}if(n||!n&&!i)if((lo(t)!=="body"||Ci(s))&&(l=Wl(t)),n){const y=rs(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();i&&!n&&s&&u();const h=s&&!n&&!i?ly(s,l):Rr(0),f=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Bc(e){return xr(e).position==="static"}function dp(e,t){if(!Ir(e)||xr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Dr(e)===r&&(r=r.ownerDocument.body),r}function uy(e,t){const r=Ft(e);if(Bl(e))return r;if(!Ir(e)){let s=Pn(e);for(;s&&!eo(s);){if(vr(s)&&!Bc(s))return s;s=Pn(s)}return r}let n=dp(e,t);for(;n&&Sk(n)&&Bc(n);)n=dp(n,t);return n&&eo(n)&&Bc(n)&&!Uf(n)?r:n||_k(e)||r}const Uk=async function(e){const t=this.getOffsetParent||uy,r=this.getDimensions,n=await r(e.floating);return{reference:Wk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Hk(e){return xr(e).direction==="rtl"}const Vk={convertOffsetParentRelativeRectToViewportRelativeRect:Ik,getDocumentElement:Dr,getClippingRect:Fk,getOffsetParent:uy,getElementRects:Uk,getClientRects:Ok,getDimensions:Bk,getScale:Ws,isElement:vr,isRTL:Hk};function dy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Kk(e,t){let r=null,n;const s=Dr(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=u;if(l||t(),!m||!y)return;const w=fa(f),x=fa(s.clientWidth-(h+m)),j=fa(s.clientHeight-(f+y)),g=fa(h),v={rootMargin:-w+"px "+-x+"px "+-j+"px "+-g+"px",threshold:Lt(0,Rn(1,c))||1};let b=!0;function C(R){const S=R[0].intersectionRatio;if(S!==c){if(!b)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!dy(u,e.getBoundingClientRect())&&a(),b=!1}try{r=new IntersectionObserver(C,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,v)}r.observe(e)}return a(!0),i}function Gk(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Vf(e),h=s||i?[...u?pi(u):[],...pi(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?Kk(u,r):null;let m=-1,y=null;a&&(y=new ResizeObserver(g=>{let[p]=g;p&&p.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let w,x=c?rs(e):null;c&&j();function j(){const g=rs(e);x&&!dy(x,g)&&r(),x=g,w=requestAnimationFrame(j)}return r(),()=>{var g;h.forEach(p=>{s&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),f==null||f(),(g=y)==null||g.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const Xk=xk,qk=yk,Qk=pk,Yk=bk,Jk=gk,fp=mk,Zk=wk,eC=(e,t,r)=>{const n=new Map,s={platform:Vk,...r},i={...s.platform,_c:n};return hk(e,t,{...s,platform:i})};var tC=typeof document<"u",rC=function(){},Ma=tC?d.useLayoutEffect:rC;function fl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!fl(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!fl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function fy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hp(e,t){const r=fy(e);return Math.round(t*r)/r}function Wc(e){const t=d.useRef(e);return Ma(()=>{t.current=e}),t}function nC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=d.useState(n);fl(m,n)||y(n);const[w,x]=d.useState(null),[j,g]=d.useState(null),p=d.useCallback(A=>{A!==R.current&&(R.current=A,x(A))},[]),v=d.useCallback(A=>{A!==S.current&&(S.current=A,g(A))},[]),b=i||w,C=a||j,R=d.useRef(null),S=d.useRef(null),k=d.useRef(h),_=c!=null,P=Wc(c),z=Wc(s),N=Wc(u),T=d.useCallback(()=>{if(!R.current||!S.current)return;const A={placement:t,strategy:r,middleware:m};z.current&&(A.platform=z.current),eC(R.current,S.current,A).then(W=>{const H={...W,isPositioned:N.current!==!1};O.current&&!fl(k.current,H)&&(k.current=H,oo.flushSync(()=>{f(H)}))})},[m,t,r,z,N]);Ma(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const O=d.useRef(!1);Ma(()=>(O.current=!0,()=>{O.current=!1}),[]),Ma(()=>{if(b&&(R.current=b),C&&(S.current=C),b&&C){if(P.current)return P.current(b,C,T);T()}},[b,C,T,P,_]);const V=d.useMemo(()=>({reference:R,floating:S,setReference:p,setFloating:v}),[p,v]),E=d.useMemo(()=>({reference:b,floating:C}),[b,C]),D=d.useMemo(()=>{const A={position:r,left:0,top:0};if(!E.floating)return A;const W=hp(E.floating,h.x),H=hp(E.floating,h.y);return l?{...A,transform:"translate("+W+"px, "+H+"px)",...fy(E.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:H}},[r,l,E.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:T,refs:V,elements:E,floatingStyles:D}),[h,T,V,E,D])}const sC=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?fp({element:n.current,padding:s}).fn(r):{}:n?fp({element:n,padding:s}).fn(r):{}}}},oC=(e,t)=>({...Xk(e),options:[e,t]}),iC=(e,t)=>({...qk(e),options:[e,t]}),aC=(e,t)=>({...Zk(e),options:[e,t]}),lC=(e,t)=>({...Qk(e),options:[e,t]}),cC=(e,t)=>({...Yk(e),options:[e,t]}),uC=(e,t)=>({...Jk(e),options:[e,t]}),dC=(e,t)=>({...sC(e),options:[e,t]});var fC="Arrow",hy=d.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(ie.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});hy.displayName=fC;var hC=hy;function Gf(e){const[t,r]=d.useState(void 0);return Ze(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Xf="Popper",[my,py]=Lr(Xf),[mC,gy]=my(Xf),vy=e=>{const{__scopePopper:t,children:r}=e,[n,s]=d.useState(null);return o.jsx(mC,{scope:t,anchor:n,onAnchorChange:s,children:r})};vy.displayName=Xf;var xy="PopperAnchor",yy=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=gy(xy,r),a=d.useRef(null),l=ge(t,a);return d.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(ie.div,{...s,ref:l})});yy.displayName=xy;var qf="PopperContent",[pC,gC]=my(qf),wy=d.forwardRef((e,t)=>{var re,le,ye,F,M,ne;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,j=gy(qf,r),[g,p]=d.useState(null),v=ge(t,$e=>p($e)),[b,C]=d.useState(null),R=Gf(b),S=(R==null?void 0:R.width)??0,k=(R==null?void 0:R.height)??0,_=n+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},z=Array.isArray(u)?u:[u],N=z.length>0,T={padding:P,boundary:z.filter(xC),altBoundary:N},{refs:O,floatingStyles:V,placement:E,isPositioned:D,middlewareData:A}=nC({strategy:"fixed",placement:_,whileElementsMounted:(...$e)=>Gk(...$e,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[oC({mainAxis:s+k,alignmentAxis:a}),c&&iC({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aC():void 0,...T}),c&&lC({...T}),cC({...T,apply:({elements:$e,rects:Ve,availableWidth:Qe,availableHeight:L})=>{const{width:G,height:ee}=Ve.reference,I=$e.floating.style;I.setProperty("--radix-popper-available-width",`${Qe}px`),I.setProperty("--radix-popper-available-height",`${L}px`),I.setProperty("--radix-popper-anchor-width",`${G}px`),I.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),b&&dC({element:b,padding:l}),yC({arrowWidth:S,arrowHeight:k}),m&&uC({strategy:"referenceHidden",...T})]}),[W,H]=Ny(E),X=vt(w);Ze(()=>{D&&(X==null||X())},[D,X]);const Z=(re=A.arrow)==null?void 0:re.x,oe=(le=A.arrow)==null?void 0:le.y,xe=((ye=A.arrow)==null?void 0:ye.centerOffset)!==0,[Ee,ke]=d.useState();return Ze(()=>{g&&ke(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:D?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(F=A.transformOrigin)==null?void 0:F.x,(M=A.transformOrigin)==null?void 0:M.y].join(" "),...((ne=A.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(pC,{scope:r,placedSide:W,onArrowChange:C,arrowX:Z,arrowY:oe,shouldHideArrow:xe,children:o.jsx(ie.div,{"data-side":W,"data-align":H,...x,ref:v,style:{...x.style,animation:D?void 0:"none"}})})})});wy.displayName=qf;var by="PopperArrow",vC={top:"bottom",right:"left",bottom:"top",left:"right"},jy=d.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=gC(by,n),a=vC[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(hC,{...s,ref:r,style:{...s.style,display:"block"}})})});jy.displayName=by;function xC(e){return e!==null}var yC=e=>({name:"transformOrigin",options:e,fn(t){var j,g,p;const{placement:r,rects:n,middlewareData:s}=t,a=((j=s.arrow)==null?void 0:j.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,h]=Ny(r),f={start:"0%",center:"50%",end:"100%"}[h],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,y=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=a?f:`${m}px`,x=`${-c}px`):u==="top"?(w=a?f:`${m}px`,x=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=a?f:`${y}px`):u==="left"&&(w=`${n.floating.width+c}px`,x=a?f:`${y}px`),{data:{x:w,y:x}}}});function Ny(e){const[t,r="center"]=e.split("-");return[t,r]}var wC=vy,bC=yy,jC=wy,NC=jy;function Qf(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Sy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SC="VisuallyHidden",kC=d.forwardRef((e,t)=>o.jsx(ie.span,{...e,ref:t,style:{...Sy,...e.style}}));kC.displayName=SC;var CC=[" ","Enter","ArrowUp","ArrowDown"],EC=[" ","Enter"],ns="Select",[Ul,Hl,TC]=zf(ns),[co,fR]=Lr(ns,[TC,py]),Vl=py(),[_C,Ln]=co(ns),[RC,PC]=co(ns),ky=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:y,form:w}=e,x=Vl(t),[j,g]=d.useState(null),[p,v]=d.useState(null),[b,C]=d.useState(!1),R=ki(u),[S,k]=es({prop:n,defaultProp:s??!1,onChange:i,caller:ns}),[_,P]=es({prop:a,defaultProp:l,onChange:c,caller:ns}),z=d.useRef(null),N=j?w||!!j.closest("form"):!0,[T,O]=d.useState(new Set),V=Array.from(T).map(E=>E.props.value).join(";");return o.jsx(wC,{...x,children:o.jsxs(_C,{required:y,scope:t,trigger:j,onTriggerChange:g,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:kn(),value:_,onValueChange:P,open:S,onOpenChange:k,dir:R,triggerPointerDownPosRef:z,disabled:m,children:[o.jsx(Ul.Provider,{scope:t,children:o.jsx(RC,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(E=>{O(D=>new Set(D).add(E))},[]),onNativeOptionRemove:d.useCallback(E=>{O(D=>{const A=new Set(D);return A.delete(E),A})},[]),children:r})}),N?o.jsxs(Gy,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:_,onChange:E=>P(E.target.value),disabled:m,form:w,children:[_===void 0?o.jsx("option",{value:""}):null,Array.from(T)]},V):null]})})};ky.displayName=ns;var Cy="SelectTrigger",Ey=d.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Vl(r),a=Ln(Cy,r),l=a.disabled||n,c=ge(t,a.onTriggerChange),u=Hl(r),h=d.useRef("touch"),[f,m,y]=qy(x=>{const j=u().filter(v=>!v.disabled),g=j.find(v=>v.value===a.value),p=Qy(j,x,g);p!==void 0&&a.onValueChange(p.value)}),w=x=>{l||(a.onOpenChange(!0),y()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(bC,{asChild:!0,...i,children:o.jsx(ie.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Xy(a.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:ae(s.onPointerDown,x=>{h.current=x.pointerType;const j=x.target;j.hasPointerCapture(x.pointerId)&&j.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:ae(s.onKeyDown,x=>{const j=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(j&&x.key===" ")&&CC.includes(x.key)&&(w(),x.preventDefault())})})})});Ey.displayName=Cy;var Ty="SelectValue",_y=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=e,c=Ln(Ty,r),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=ge(t,c.onValueNodeChange);return Ze(()=>{u(h)},[u,h]),o.jsx(ie.span,{...l,ref:f,style:{pointerEvents:"none"},children:Xy(c.value)?o.jsx(o.Fragment,{children:a}):i})});_y.displayName=Ty;var AC="SelectIcon",Ry=d.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(ie.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Ry.displayName=AC;var IC="SelectPortal",Py=e=>o.jsx(Of,{asChild:!0,...e});Py.displayName=IC;var ss="SelectContent",Ay=d.forwardRef((e,t)=>{const r=Ln(ss,e.__scopeSelect),[n,s]=d.useState();if(Ze(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?oo.createPortal(o.jsx(Iy,{scope:e.__scopeSelect,children:o.jsx(Ul.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(Oy,{...e,ref:t})});Ay.displayName=ss;var ar=10,[Iy,Dn]=co(ss),OC="SelectContentImpl",MC=Ys("SelectContent.RemoveScroll"),Oy=d.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:j,...g}=e,p=Ln(ss,r),[v,b]=d.useState(null),[C,R]=d.useState(null),S=ge(t,re=>b(re)),[k,_]=d.useState(null),[P,z]=d.useState(null),N=Hl(r),[T,O]=d.useState(!1),V=d.useRef(!1);d.useEffect(()=>{if(v)return Bx(v)},[v]),Ax();const E=d.useCallback(re=>{const[le,...ye]=N().map(ne=>ne.ref.current),[F]=ye.slice(-1),M=document.activeElement;for(const ne of re)if(ne===M||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===le&&C&&(C.scrollTop=0),ne===F&&C&&(C.scrollTop=C.scrollHeight),ne==null||ne.focus(),document.activeElement!==M))return},[N,C]),D=d.useCallback(()=>E([k,v]),[E,k,v]);d.useEffect(()=>{T&&D()},[T,D]);const{onOpenChange:A,triggerPointerDownPosRef:W}=p;d.useEffect(()=>{if(v){let re={x:0,y:0};const le=F=>{var M,ne;re={x:Math.abs(Math.round(F.pageX)-(((M=W.current)==null?void 0:M.x)??0)),y:Math.abs(Math.round(F.pageY)-(((ne=W.current)==null?void 0:ne.y)??0))}},ye=F=>{re.x<=10&&re.y<=10?F.preventDefault():v.contains(F.target)||A(!1),document.removeEventListener("pointermove",le),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ye,{capture:!0})}}},[v,A,W]),d.useEffect(()=>{const re=()=>A(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[A]);const[H,X]=qy(re=>{const le=N().filter(M=>!M.disabled),ye=le.find(M=>M.ref.current===document.activeElement),F=Qy(le,re,ye);F&&setTimeout(()=>F.ref.current.focus())}),Z=d.useCallback((re,le,ye)=>{const F=!V.current&&!ye;(p.value!==void 0&&p.value===le||F)&&(_(re),F&&(V.current=!0))},[p.value]),oe=d.useCallback(()=>v==null?void 0:v.focus(),[v]),xe=d.useCallback((re,le,ye)=>{const F=!V.current&&!ye;(p.value!==void 0&&p.value===le||F)&&z(re)},[p.value]),Ee=n==="popper"?ad:My,ke=Ee===ad?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:j}:{};return o.jsx(Iy,{scope:r,content:v,viewport:C,onViewportChange:R,itemRefCallback:Z,selectedItem:k,onItemLeave:oe,itemTextRefCallback:xe,focusSelectedItem:D,selectedItemText:P,position:n,isPositioned:T,searchRef:H,children:o.jsx(Mf,{as:MC,allowPinchZoom:!0,children:o.jsx(If,{asChild:!0,trapped:p.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ae(s,re=>{var le;(le=p.trigger)==null||le.focus({preventScroll:!0}),re.preventDefault()}),children:o.jsx(Af,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:o.jsx(Ee,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:re=>re.preventDefault(),...g,...ke,onPlaced:()=>O(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ae(g.onKeyDown,re=>{const le=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!le&&re.key.length===1&&X(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let F=N().filter(M=>!M.disabled).map(M=>M.ref.current);if(["ArrowUp","End"].includes(re.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const M=re.target,ne=F.indexOf(M);F=F.slice(ne+1)}setTimeout(()=>E(F)),re.preventDefault()}})})})})})})});Oy.displayName=OC;var LC="SelectItemAlignedPosition",My=d.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Ln(ss,r),a=Dn(ss,r),[l,c]=d.useState(null),[u,h]=d.useState(null),f=ge(t,S=>h(S)),m=Hl(r),y=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:j,selectedItemText:g,focusSelectedItem:p}=a,v=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&j&&g){const S=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),P=g.getBoundingClientRect();if(i.dir!=="rtl"){const M=P.left-k.left,ne=_.left-M,$e=S.left-ne,Ve=S.width+$e,Qe=Math.max(Ve,k.width),L=window.innerWidth-ar,G=hi(ne,[ar,Math.max(ar,L-Qe)]);l.style.minWidth=Ve+"px",l.style.left=G+"px"}else{const M=k.right-P.right,ne=window.innerWidth-_.right-M,$e=window.innerWidth-S.right-ne,Ve=S.width+$e,Qe=Math.max(Ve,k.width),L=window.innerWidth-ar,G=hi(ne,[ar,Math.max(ar,L-Qe)]);l.style.minWidth=Ve+"px",l.style.right=G+"px"}const z=m(),N=window.innerHeight-ar*2,T=x.scrollHeight,O=window.getComputedStyle(u),V=parseInt(O.borderTopWidth,10),E=parseInt(O.paddingTop,10),D=parseInt(O.borderBottomWidth,10),A=parseInt(O.paddingBottom,10),W=V+E+T+A+D,H=Math.min(j.offsetHeight*5,W),X=window.getComputedStyle(x),Z=parseInt(X.paddingTop,10),oe=parseInt(X.paddingBottom,10),xe=S.top+S.height/2-ar,Ee=N-xe,ke=j.offsetHeight/2,re=j.offsetTop+ke,le=V+E+re,ye=W-le;if(le<=xe){const M=z.length>0&&j===z[z.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-x.offsetTop-x.offsetHeight,$e=Math.max(Ee,ke+(M?oe:0)+ne+D),Ve=le+$e;l.style.height=Ve+"px"}else{const M=z.length>0&&j===z[0].ref.current;l.style.top="0px";const $e=Math.max(xe,V+x.offsetTop+(M?Z:0)+ke)+ye;l.style.height=$e+"px",x.scrollTop=le-xe+x.offsetTop}l.style.margin=`${ar}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,j,g,i.dir,n]);Ze(()=>v(),[v]);const[b,C]=d.useState();Ze(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const R=d.useCallback(S=>{S&&w.current===!0&&(v(),p==null||p(),w.current=!1)},[v,p]);return o.jsx($C,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:o.jsx(ie.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});My.displayName=LC;var DC="SelectPopperPosition",ad=d.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ar,...i}=e,a=Vl(r);return o.jsx(jC,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ad.displayName=DC;var[$C,Yf]=co(ss,{}),ld="SelectViewport",Ly=d.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Dn(ld,r),a=Yf(ld,r),l=ge(t,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Ul.Slot,{scope:r,children:o.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const w=window.innerHeight-ar*2,x=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),g=Math.max(x,j);if(g<w){const p=g+y,v=Math.min(w,p),b=p-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Ly.displayName=ld;var Dy="SelectGroup",[zC,FC]=co(Dy),BC=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=kn();return o.jsx(zC,{scope:r,id:s,children:o.jsx(ie.div,{role:"group","aria-labelledby":s,...n,ref:t})})});BC.displayName=Dy;var $y="SelectLabel",WC=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=FC($y,r);return o.jsx(ie.div,{id:s.id,...n,ref:t})});WC.displayName=$y;var hl="SelectItem",[UC,zy]=co(hl),Fy=d.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,l=Ln(hl,r),c=Dn(hl,r),u=l.value===n,[h,f]=d.useState(i??""),[m,y]=d.useState(!1),w=ge(t,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,n,s)}),x=kn(),j=d.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(UC,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(p=>{f(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:o.jsx(Ul.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:o.jsx(ie.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:ae(a.onFocus,()=>y(!0)),onBlur:ae(a.onBlur,()=>y(!1)),onClick:ae(a.onClick,()=>{j.current!=="mouse"&&g()}),onPointerUp:ae(a.onPointerUp,()=>{j.current==="mouse"&&g()}),onPointerDown:ae(a.onPointerDown,p=>{j.current=p.pointerType}),onPointerMove:ae(a.onPointerMove,p=>{var v;j.current=p.pointerType,s?(v=c.onItemLeave)==null||v.call(c):j.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(a.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ae(a.onKeyDown,p=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(EC.includes(p.key)&&g(),p.key===" "&&p.preventDefault())})})})})});Fy.displayName=hl;var Oo="SelectItemText",By=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=Ln(Oo,r),l=Dn(Oo,r),c=zy(Oo,r),u=PC(Oo,r),[h,f]=d.useState(null),m=ge(t,g=>f(g),c.onItemTextChange,g=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,g,c.value,c.disabled)}),y=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:j}=u;return Ze(()=>(x(w),()=>j(w)),[x,j,w]),o.jsxs(o.Fragment,{children:[o.jsx(ie.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?oo.createPortal(i.children,a.valueNode):null]})});By.displayName=Oo;var Wy="SelectItemIndicator",Uy=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zy(Wy,r).isSelected?o.jsx(ie.span,{"aria-hidden":!0,...n,ref:t}):null});Uy.displayName=Wy;var cd="SelectScrollUpButton",Hy=d.forwardRef((e,t)=>{const r=Dn(cd,e.__scopeSelect),n=Yf(cd,e.__scopeSelect),[s,i]=d.useState(!1),a=ge(t,n.onScrollButtonChange);return Ze(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(Ky,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Hy.displayName=cd;var ud="SelectScrollDownButton",Vy=d.forwardRef((e,t)=>{const r=Dn(ud,e.__scopeSelect),n=Yf(ud,e.__scopeSelect),[s,i]=d.useState(!1),a=ge(t,n.onScrollButtonChange);return Ze(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(Ky,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Vy.displayName=ud;var Ky=d.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Dn("SelectScrollButton",r),a=d.useRef(null),l=Hl(r),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Ze(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(ie.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ae(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),HC="SelectSeparator",VC=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ie.div,{"aria-hidden":!0,...n,ref:t})});VC.displayName=HC;var dd="SelectArrow",KC=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Vl(r),i=Ln(dd,r),a=Dn(dd,r);return i.open&&a.position==="popper"?o.jsx(NC,{...s,...n,ref:t}):null});KC.displayName=dd;var GC="SelectBubbleInput",Gy=d.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=d.useRef(null),i=ge(n,s),a=Qf(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ie.select,{...r,style:{...Sy,...r.style},ref:i,defaultValue:t})});Gy.displayName=GC;function Xy(e){return e===""||e===void 0}function qy(e){const t=vt(e),r=d.useRef(""),n=d.useRef(0),s=d.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Qy(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=XC(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function XC(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var qC=ky,QC=Ey,YC=_y,JC=Ry,ZC=Py,eE=Ay,tE=Ly,rE=Fy,nE=By,sE=Uy,oE=Hy,iE=Vy;function Jf({...e}){return o.jsx(qC,{"data-slot":"select",...e})}function Zf({...e}){return o.jsx(YC,{"data-slot":"select-value",...e})}function eh({className:e,size:t="default",children:r,...n}){return o.jsxs(QC,{"data-slot":"select-trigger","data-size":t,className:Se("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,o.jsx(JC,{asChild:!0,children:o.jsx(sx,{className:"size-4 opacity-50"})})]})}function th({className:e,children:t,position:r="popper",...n}){return o.jsx(ZC,{children:o.jsxs(eE,{"data-slot":"select-content",className:Se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(aE,{}),o.jsx(tE,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(lE,{})]})})}function Er({className:e,children:t,...r}){return o.jsxs(rE,{"data-slot":"select-item",className:Se("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(sE,{children:o.jsx(zs,{className:"size-4"})})}),o.jsx(nE,{children:t})]})}function aE({className:e,...t}){return o.jsx(oE,{"data-slot":"select-scroll-up-button",className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Oj,{className:"size-4"})})}function lE({className:e,...t}){return o.jsx(iE,{"data-slot":"select-scroll-down-button",className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(sx,{className:"size-4"})})}const cE=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function Uc({category:e,onContentPlay:t,onContentDetail:r,onAddToPlaylist:n}){const[s,i]=d.useState(""),[a,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,y]=d.useState(null),[w,x]=d.useState(!1),[j,g]=d.useState(),[p,v]=d.useState(!1),b=cE(e),C=N=>{switch(N){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},R=async(N=!1)=>{try{N?v(!0):f(!0),y(null);const T=await As.getContents({type:C(e),query:s||void 0,sortBy:a==="latest"||a==="rating"?"RELEASE_AT":a==="title"?"TITLE":"RELEASE_AT",direction:a==="title"?"ASC":"DESC",cursor:N?j:void 0,size:20});u(N?O=>[...O,...T.data]:T.data),x(T.hasNext),g(T.nextCursor)}catch(T){console.error("  :",T),y(T instanceof Error?T.message:"    .")}finally{f(!1),v(!1)}};d.useEffect(()=>{R(!1)},[e]),d.useEffect(()=>{const N=setTimeout(()=>{R(!1)},300);return()=>clearTimeout(N)},[s,a]);const S=()=>{w&&!h&&!p&&R(!0)},k=N=>({id:N.id,title:N.title,thumbnail:N.thumbnail||"",type:N.contentType.toLowerCase(),duration:N.duration||"120",description:N.description||"",rating:N.rating,reviewCount:N.reviewCount,year:N.year||new Date(N.releaseDate).getFullYear()}),_=N=>{n==null||n(k(N))},P=N=>{t(k(N))},z=N=>{r==null||r(k(N))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:b}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(as,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(We,{placeholder:`${b} ...`,value:s,onChange:N=>i(N.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Jf,{value:a,onValueChange:l,children:[o.jsx(eh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Zf,{placeholder:""})}),o.jsxs(th,{children:[o.jsx(Er,{value:"latest",children:""}),o.jsx(Er,{value:"rating",children:"  "}),o.jsx(Er,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?" ...":`${c.length} `}),o.jsx(qe,{variant:"outline",className:As.getTypeColor(C(e)),children:b})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx($,{onClick:()=>R(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(fr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(N=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>z(N),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] group-hover:scale-105 transition-transform duration-300 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:N.contentType})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs($,{size:"sm",onClick:T=>{T.stopPropagation(),P(N)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Wt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx($,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),_(N)},className:"border-white/20 hover:bg-white/10",children:o.jsx(zt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:N.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:N.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[N.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_n,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:N.rating}),N.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",N.reviewCount,")"]})]}),N.year&&o.jsx("span",{className:"text-xs text-white/60",children:N.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:N.duration}),o.jsx(qe,{variant:"outline",className:As.getTypeColor(N.contentType),children:As.getTypeLabel(N.contentType)})]})]})]},N.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx($,{onClick:S,disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:p?o.jsxs(o.Fragment,{children:[o.jsx(fr,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Cf,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${b}  .`}),s&&o.jsxs($,{variant:"outline",onClick:()=>i(""),className:"border-white/20 hover:bg-white/5",children:[" ",b," "]})]})]})]})})}class uE{constructor(){ze(this,"baseUrl","/api/reviews")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getReviewsByContentId(t){try{const r=await this.authenticatedFetch(`/api/contents/${t}/reviews`);if(!r.ok)throw new Error(`   . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("   :",r),r}}async getReviewById(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async createReview(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async updateReview(t,r){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(r)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteReview(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!r.ok)throw new Error(`  . Status: ${r.status}`)}catch(r){throw console.error("  :",r),r}}async getReviewsByUserId(t){try{const r=await this.authenticatedFetch(`/api/users/${t}/reviews`);if(!r.ok)throw new Error(`    . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("    :",r),r}}}const ha=new uE,ma=({rating:e,editable:t=!1,size:r="md",onChange:n})=>{const[s,i]=d.useState(0),a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return o.jsx("div",{className:"star-rating",children:[1,2,3,4,5].map(l=>o.jsx(_n,{className:`${a[r]} ${l<=(s||e)?"star filled":"star"} ${t?"cursor-pointer":"cursor-default"}`,onClick:t?()=>n==null?void 0:n(l):void 0,onMouseEnter:t?()=>i(l):void 0,onMouseLeave:t?()=>i(0):void 0},l))})};function dE({content:e,onBack:t,onPlay:r,currentUser:n}){const[s,i]=d.useState(""),[a,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!1),[w,x]=d.useState(null),[j,g]=d.useState(""),[p,v]=d.useState(0),[b,C]=d.useState(!1),[R,S]=d.useState(null),k=async()=>{f(!0);try{const D=(await ha.getReviewsByContentId(e.id)).map(A=>({...A,contentId:e.id,createdAt:new Date().toISOString(),user:{id:A.authorId,name:A.authorName,avatar:A.authorId===(n==null?void 0:n.id)?n.avatar:void 0}}));u(D)}catch(E){console.error("  :",E)}finally{f(!1)}},_=c.length>0?c.reduce((E,D)=>E+D.rating,0)/c.length:0,P=async()=>{if(!(!s.trim()||a===0||!n)){y(!0);try{const E={userId:n.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:a},A={...await ha.createReview(E),contentId:e.id,createdAt:new Date().toISOString(),user:{id:n.id,name:n.name,avatar:n.avatar}};u([A,...c]),i(""),l(0)}catch(E){console.error("  :",E)}finally{y(!1)}}},z=E=>{x(E),g(E.comment),v(E.rating)},N=()=>{x(null),g(""),v(0)},T=async()=>{if(!(!w||!j.trim()||p===0)){C(!0);try{const E={title:j.trim().substring(0,100),comment:j.trim(),rating:p},D=await ha.updateReview(w.id,E);u(c.map(A=>A.id===w.id?{...A,...D}:A)),N()}catch(E){console.error("  :",E)}finally{C(!1)}}},O=async E=>{S(E);try{await ha.deleteReview(E),u(c.filter(D=>D.id!==E))}catch(D){console.error("  :",D)}finally{S(null)}};d.useEffect(()=>{e.id&&k()},[e.id]);const V=E=>{switch(E){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs($,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(io,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:V(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(qe,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:V(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ma,{rating:_,size:"lg"}),o.jsx("span",{className:"text-xl",children:_.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs($,{size:"lg",onClick:()=>r(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(Wt,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),n&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(ma,{rating:a,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(td,{value:s,onChange:E=>i(E.target.value),placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs($,{onClick:P,disabled:!s.trim()||a===0||m||!n,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Ef,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(E=>{var D,A,W,H;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(w==null?void 0:w.id)===E.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(Me,{children:[o.jsx(Le,{src:(D=E.user)==null?void 0:D.avatar}),o.jsx(De,{children:((A=E.authorName)==null?void 0:A[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:E.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(ma,{rating:p,editable:!0,size:"lg",onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(td,{value:j,onChange:X=>g(X.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($,{onClick:T,disabled:!j.trim()||p===0||b,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:b?" ...":" "}),o.jsx($,{onClick:N,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(Me,{children:[o.jsx(Le,{src:(W=E.user)==null?void 0:W.avatar}),o.jsx(De,{children:((H=E.authorName)==null?void 0:H[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:E.authorName||" "}),o.jsx(ma,{rating:E.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:E.createdAt?new Date(E.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:E.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:n&&E.authorId===n.id&&o.jsxs(o.Fragment,{children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>z(E),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(Wj,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs($,{variant:"ghost",size:"sm",onClick:()=>O(E.id),disabled:R===E.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Yu,{className:"w-4 h-4 mr-1"}),R===E.id?" ...":""]})]})})]})]})},E.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function fE({isOpen:e,onClose:t,userId:r,targetUserId:n,authenticatedFetch:s,onUserProfileOpen:i,refreshUserProfile:a,getPlaylists:l,onPlaylistOpen:c}){const[u,h]=d.useState(""),[f,m]=d.useState("user@moplay.kr"),[y,w]=d.useState(!1),[x,j]=d.useState(null),[g,p]=d.useState(""),[v,b]=d.useState(!1),[C,R]=d.useState(null),[S,k]=d.useState(null),[_,P]=d.useState([]),[z,N]=d.useState([]),[T,O]=d.useState(!1),[V,E]=d.useState(!1),[D,A]=d.useState("profile"),[W,H]=d.useState([]),X=n||r,Z=!!(n&&n!==r);d.useEffect(()=>{e&&(R(null),X?(oe(),xe(),Ee(),le(),Z&&ke()):R("  .  ."))},[e,X,Z]);const oe=async()=>{try{const M=await fetch(`/api/users/${X}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!M.ok)throw new Error("   .");const ne=await M.json();k(ne),h(ne.name),m(ne.email)}catch(M){console.error("   :",M),R("   .")}},xe=async()=>{try{const M=await s(`/api/follows/${X}/followers`);if(!M.ok)throw new Error("   .");const ne=await M.json();P(ne)}catch(M){console.error("   :",M)}},Ee=async()=>{try{const M=await s(`/api/follows/${X}/following`);if(!M.ok)throw new Error("   .");const ne=await M.json();N(ne)}catch(M){console.error("   :",M)}},ke=async()=>{if(!(!r||!X))try{const M=await s(`/api/follows/${r}/is-following/${X}`);if(!M.ok)throw new Error("   .");const ne=await M.json();O(ne)}catch(M){console.error("   :",M)}},re=async()=>{if(!(!r||!X)){E(!0);try{if(T){if(!(await s("/api/follows/unfollow",{method:"DELETE",body:JSON.stringify({followerId:r,followingId:X})})).ok)throw new Error(" .");O(!1),P(ne=>ne.filter($e=>$e.id!==r))}else{if(!(await s("/api/follows/follow",{method:"POST",body:JSON.stringify({followerId:r,followingId:X})})).ok)throw new Error(" .");O(!0),S&&P(ne=>[...ne,{id:r,name:"",email:"",profileImage:""}])}}catch(M){console.error("  :",M),alert(M instanceof Error?M.message:"    .")}finally{E(!1)}}},le=async()=>{if(l)try{const M=await l();H(M)}catch(M){console.error("   :",M)}},ye=M=>{i&&(t(),i(M))},F=async()=>{b(!0),R(null);try{if(!r){R("  .  ."),b(!1);return}if(!g.trim()){R("     ."),b(!1);return}const M=new FormData,ne={newName:u,newPassword:g};console.log("Request data:",ne);const $e=new Blob([JSON.stringify(ne)],{type:"application/json"});M.append("request",$e),x&&(M.append("profile",x),console.log("Profile image added:",x.name)),console.log("FormData entries:");for(let[L,G]of M.entries())console.log(L,G);const Ve=await fetch(`/api/users/${r}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:M});if(!Ve.ok){const L=await Ve.json();throw new Error(L.message||"  .")}const Qe=await Ve.json();k(Qe),h(Qe.name),m(Qe.email),j(null),await oe(),alert("  ."),a&&a(),p(""),t()}catch(M){console.error("  :",M),R(M instanceof Error?M.message:"    .")}finally{b(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:Z?`${(S==null?void 0:S.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[Z&&o.jsx($,{onClick:re,disabled:V,className:`${T?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:V?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):T?o.jsxs(o.Fragment,{children:[o.jsx(ax,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(_f,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(gr,{className:"w-5 h-5"})})]})]}),C&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:C}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Me,{className:"h-20 w-20 mb-4",children:[o.jsx(Le,{src:x?URL.createObjectURL(x):S==null?void 0:S.profileImage}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-xl",children:u.charAt(0)})]}),!Z&&o.jsx($,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>w(!y),children:o.jsx(nx,{className:"w-4 h-4"})})]}),y&&!Z&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(Tx,{selectedImage:x,onImageSelect:j,onClose:()=>w(!1),userName:u})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:_.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:z.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx($,{variant:D==="profile"?"default":"ghost",size:"sm",onClick:()=>A("profile"),className:D==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs($,{variant:D==="followers"?"default":"ghost",size:"sm",onClick:()=>A("followers"),className:`${D==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(nt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs($,{variant:D==="following"?"default":"ghost",size:"sm",onClick:()=>A("following"),className:`${D==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Tn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs($,{variant:D==="playlists"?"default":"ghost",size:"sm",onClick:()=>A("playlists"),className:`${D==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Pc,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[D==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(We,{id:"name",value:u,onChange:M=>h(M.target.value),disabled:Z,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${Z?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(We,{id:"email",value:f,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!Z&&o.jsxs("div",{children:[o.jsxs(Tt,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(We,{id:"password",type:"password",value:g,onChange:M=>p(M.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"     ."})]})]}),D==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[_.map(M=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>M.id&&ye(M.id),children:[o.jsxs(Me,{className:"h-10 w-10",children:[o.jsx(Le,{src:M.profileImage}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.name}),o.jsx("p",{className:"text-white/60 text-sm",children:M.email})]})]},M.id)),_.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(nt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),D==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[z.map(M=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>M.id&&ye(M.id),children:[o.jsxs(Me,{className:"h-10 w-10",children:[o.jsx(Le,{src:M.profileImage}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.name}),o.jsx("p",{className:"text-white/60 text-sm",children:M.email})]})]},M.id)),z.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Tn,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),D==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[W.map(M=>{var ne;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{c&&(t(),c(M.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:M.thumbnail?o.jsx("img",{src:M.thumbnail,alt:M.title||M.name,className:"w-full h-full object-cover"}):o.jsx(Pc,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:M.title||M.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[M.contentCount||((ne=M.playlistContents)==null?void 0:ne.length)||0," ",M.isPublic?"  ":"  "]})]})]},M.id)}),W.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Pc,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:Z?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx($,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:v,children:Z?"":""}),!Z&&o.jsx($,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:F,disabled:v||!r,children:v?" ...":""})]})]})]}):null}class hE{constructor(t){ze(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t=await this.authenticatedFetch("/api/dmRooms/");if(!t.ok)throw new Error("Failed to fetch DM rooms");return t.json()}async getRoom(t){const r=await this.authenticatedFetch(`/api/dmRooms/${t}`);if(!r.ok)throw new Error("Failed to fetch DM room");return r.json()}async getOrCreateRoom(t){const r=await this.authenticatedFetch(`/api/dmRooms/userRoom?userB=${t}`);if(!r.ok)throw new Error("Failed to get or create DM room");return r.json()}async getDmMessages(t){const r=await this.authenticatedFetch(`/api/dm/${t}`);if(!r.ok)throw new Error("Failed to fetch DM messages");return r.json()}async getFollowing(t){const r=await this.authenticatedFetch(`/api/follows/${t}/following`);if(!r.ok)throw new Error("Failed to fetch following list");return r.json()}}function mE({isOpen:e,onClose:t,onOpenChat:r,authenticatedFetch:n,currentUserId:s,getDmRooms:i,getOrCreateDmRoom:a}){const[l,c]=d.useState(""),[u,h]=d.useState(!1),[f,m]=d.useState([]),[y,w]=d.useState([]),[x,j]=d.useState(!1),[g,p]=d.useState(null),v=new hE(n),b=f.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())),C=y.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())),R=N=>{console.log(`Opening conversation with ${N.name}`),r({id:N.userId,name:N.name,avatar:N.avatar,isOnline:N.isOnline,roomId:N.id})},S=()=>{h(!0),c("")},k=()=>{h(!1),c("")},_=async N=>{try{j(!0);const T=await a(N.id);console.log(`Starting new conversation with ${N.name}, room: ${T}`),r({id:N.id,name:N.name,avatar:N.avatar,isOnline:N.isOnline,roomId:T}),h(!1),c("")}catch(T){console.error("Error starting conversation:",T),p("   .")}finally{j(!1)}};d.useEffect(()=>{e&&s&&(P(),z())},[e,s]);const P=async()=>{try{j(!0),p(null);const T=(await i()).map(O=>{const V=O.senderId===s?{id:O.receiverId,name:O.receiverName,avatar:"",isOnline:!1}:{id:O.senderId,name:O.senderName,avatar:"",isOnline:!1},E=D=>{const A=new Date(D),H=new Date().getTime()-A.getTime(),X=Math.floor(H/(1e3*60)),Z=Math.floor(H/(1e3*60*60)),oe=Math.floor(H/(1e3*60*60*24));return X<1?" ":X<60?`${X} `:Z<24?`${Z} `:oe===1?"":`${oe} `};return{id:O.id,userId:(V==null?void 0:V.id)||"",name:(V==null?void 0:V.name)||"   ",avatar:(V==null?void 0:V.avatar)||"",lastMessage:O.lastMessage||"  ",timestamp:(O.lastMessage,E(O.createdAt)),unreadCount:O.newMessageCount||0,isOnline:(V==null?void 0:V.isOnline)||!1}});m(T)}catch(N){console.error("Error loading DM rooms:",N),p("    .")}finally{j(!1)}},z=async()=>{if(s)try{const T=(await v.getFollowing(s)).map(O=>({id:O.id,name:O.name||"   ",avatar:O.profileImage||"",isOnline:!1,mutualFriends:0}));w(T)}catch(N){console.error("Error loading chat partners:",N)}};return e?o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[u&&o.jsx($,{variant:"ghost",size:"sm",onClick:k,className:"p-1 hover:bg-white/10",children:o.jsx(io,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:u?" ":""})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(gr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(We,{placeholder:" ...",value:l,onChange:N=>c(N.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u?o.jsx(o.Fragment,{children:C.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:C.map(N=>o.jsxs("div",{onClick:()=>_(N),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Me,{className:"h-14 w-14",children:[o.jsx(Le,{src:N.avatar}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:N.name.charAt(0)})]}),N.isOnline&&o.jsx(Am,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:N.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",N.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:N.isOnline?"":""})]},N.id))})}):o.jsxs(o.Fragment,{children:[x&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),g&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:g}),!x&&!g&&b.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}),!x&&!g&&b.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:b.map(N=>o.jsxs("div",{onClick:()=>R(N),className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(Me,{className:"h-14 w-14",children:[o.jsx(Le,{src:N.avatar}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:N.name.charAt(0)})]}),N.isOnline&&o.jsx(Am,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:N.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:N.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:N.lastMessage}),N.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:N.unreadCount>9?"9+":N.unreadCount})]})]})]},N.id))})]})}),!u&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs($,{onClick:S,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(nt,{className:"w-5 h-5 mr-2"})," "]})})]})}):null}function pE(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var rh="ScrollArea",[Yy,hR]=Lr(rh),[gE,tr]=Yy(rh),Jy=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[y,w]=d.useState(null),[x,j]=d.useState(null),[g,p]=d.useState(0),[v,b]=d.useState(0),[C,R]=d.useState(!1),[S,k]=d.useState(!1),_=ge(t,z=>c(z)),P=ki(s);return o.jsx(gE,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:R,scrollbarY:x,onScrollbarYChange:j,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:p,onCornerHeightChange:b,children:o.jsx(ie.div,{dir:P,...a,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});Jy.displayName=rh;var Zy="ScrollAreaViewport",e0=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=tr(Zy,r),l=d.useRef(null),c=ge(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});e0.displayName=Zy;var $r="ScrollAreaScrollbar",t0=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=tr($r,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(vE,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(xE,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(r0,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(nh,{...n,ref:t}):null});t0.displayName=$r;var vE=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=tr($r,e.__scopeScrollArea),[i,a]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(nn,{present:r||i,children:o.jsx(r0,{"data-state":i?"visible":"hidden",...n,ref:t})})}),xE=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=tr($r,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Gl(()=>c("SCROLL_END"),100),[l,c]=pE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const y=u[h];f!==y&&(c("SCROLL"),a()),f=y};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,i,c,a]),o.jsx(nn,{present:r||l!=="hidden",children:o.jsx(nh,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ae(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ae(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),r0=d.forwardRef((e,t)=>{const r=tr($r,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=d.useState(!1),l=e.orientation==="horizontal",c=Gl(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:h)}},10);return to(r.viewport,c),to(r.content,c),o.jsx(nn,{present:n||i,children:o.jsx(nh,{"data-state":i?"visible":"hidden",...s,ref:t})})}),nh=d.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=tr($r,e.__scopeScrollArea),i=d.useRef(null),a=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=a0(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,y){return SE(m,a.current,l,y)}return r==="horizontal"?o.jsx(yE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,y=mp(m,l,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?o.jsx(wE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,y=mp(m,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),yE=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=tr($r,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=ge(t,c,i.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(s0,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kl(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),c0(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:pl(a.paddingLeft),paddingEnd:pl(a.paddingRight)}})}})}),wE=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=tr($r,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=ge(t,c,i.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(s0,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kl(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),c0(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:pl(a.paddingTop),paddingEnd:pl(a.paddingBottom)}})}})}),[bE,n0]=Yy($r),s0=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,y=tr($r,r),[w,x]=d.useState(null),j=ge(t,_=>x(_)),g=d.useRef(null),p=d.useRef(""),v=y.viewport,b=n.content-n.viewport,C=vt(h),R=vt(c),S=Gl(f,10);function k(_){if(g.current){const P=_.clientX-g.current.left,z=_.clientY-g.current.top;u({x:P,y:z})}}return d.useEffect(()=>{const _=P=>{const z=P.target;(w==null?void 0:w.contains(z))&&C(P,b)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[v,w,b,C]),d.useEffect(R,[n,R]),to(w,S),to(y.content,S),o.jsx(bE,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:vt(i),onThumbPointerUp:vt(a),onThumbPositionChange:R,onThumbPointerDown:vt(l),children:o.jsx(ie.div,{...m,ref:j,style:{position:"absolute",...m.style},onPointerDown:ae(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),g.current=w.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(_))}),onPointerMove:ae(e.onPointerMove,k),onPointerUp:ae(e.onPointerUp,_=>{const P=_.target;P.hasPointerCapture(_.pointerId)&&P.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=p.current,y.viewport&&(y.viewport.style.scrollBehavior=""),g.current=null})})})}),ml="ScrollAreaThumb",o0=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=n0(ml,e.__scopeScrollArea);return o.jsx(nn,{present:r||s.hasThumb,children:o.jsx(jE,{ref:t,...n})})}),jE=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=tr(ml,r),a=n0(ml,r),{onThumbPositionChange:l}=a,c=ge(t,f=>a.onThumbChange(f)),u=d.useRef(void 0),h=Gl(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!u.current){const y=kE(f,l);u.current=y,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,l]),o.jsx(ie.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ae(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,x=f.clientY-y.top;a.onThumbPointerDown({x:w,y:x})}),onPointerUp:ae(e.onPointerUp,a.onThumbPointerUp)})});o0.displayName=ml;var sh="ScrollAreaCorner",i0=d.forwardRef((e,t)=>{const r=tr(sh,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(NE,{...e,ref:t}):null});i0.displayName=sh;var NE=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=tr(sh,r),[i,a]=d.useState(0),[l,c]=d.useState(0),u=!!(i&&l);return to(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),to(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),u?o.jsx(ie.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function pl(e){return e?parseInt(e,10):0}function a0(e,t){const r=e/t;return isNaN(r)?0:r}function Kl(e){const t=a0(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function SE(e,t,r,n="ltr"){const s=Kl(r),i=s/2,a=t||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=n==="ltr"?[0,h]:[h*-1,0];return l0([c,u],f)(e)}function mp(e,t,r="ltr"){const n=Kl(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,a]:[a*-1,0],u=hi(e,c);return l0([0,a],[0,l])(u)}function l0(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function c0(e,t){return e>0&&e<t}var kE=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Gl(e,t){const r=vt(e),n=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),d.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function to(e,t){const r=vt(t);Ze(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var CE=Jy,EE=e0,TE=i0;function _E({className:e,children:t,...r}){return o.jsxs(CE,{"data-slot":"scroll-area",className:Se("relative",e),...r,children:[o.jsx(EE,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(RE,{}),o.jsx(TE,{})]})}function RE({className:e,orientation:t="vertical",...r}){return o.jsx(t0,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Se("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:o.jsx(o0,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function PE(e,t){e.terminate=function(){const r=()=>{};this.onerror=r,this.onmessage=r,this.onopen=r;const n=new Date,s=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const l=new Date().getTime()-n.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Mo={LF:`
`,NULL:"\0"};class hn{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:r,headers:n,body:s,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:l}=t;this.command=r,this.headers=Object.assign({},n||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,r){const n={},s=i=>i.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const a=s(i[0]);let l=s(i[1]);r&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=hn.hdrValueUnEscape(l)),n[a]=l}return new hn({command:t.command,headers:n,binaryBody:t.binaryBody,escapeHeaderValues:r})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?hn.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Mo.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const r of Object.keys(this.headers||{})){const n=this.headers[r];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${r}:${hn.hdrValueEscape(`${n}`)}`):t.push(`${r}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Mo.LF)+Mo.LF+Mo.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,r){const n=new TextEncoder().encode(t),s=new Uint8Array([0]),i=new Uint8Array(n.length+r.length+s.length);return i.set(n),i.set(r,n.length),i.set(s,n.length+r.length),i}static marshall(t){return new hn(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const pp=0,pa=10,ga=13,AE=58;class IE{constructor(t,r){this.onFrame=t,this.onIncomingPing=r,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,r=!1){let n;if(typeof t=="string"?n=this._encoder.encode(t):n=new Uint8Array(t),r&&n[n.length-1]!==0){const s=new Uint8Array(n.length+1);s.set(n,0),s[n.length]=0,n=s}for(let s=0;s<n.length;s++){const i=n[s];this._onByte(i)}}_collectFrame(t){if(t!==pp&&t!==ga){if(t===pa){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==ga){if(t===pa){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==ga){if(t===pa){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===AE){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==ga){if(t===pa){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(r=>r[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===pp){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var mn;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(mn||(mn={}));var lr;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(lr||(lr={}));var gl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(gl||(gl={}));var gi;(function(e){e.Interval="interval",e.Worker="worker"})(gi||(gi={}));class OE{constructor(t,r=gi.Interval,n){this._interval=t,this._strategy=r,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===gi.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=r=>t(r.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const r=Date.now();this._timer=setInterval(()=>{t(Date.now()-r)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class jt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}jt.V1_0="1.0";jt.V1_1="1.1";jt.V1_2="1.2";jt.default=new jt([jt.V1_2,jt.V1_1,jt.V1_0]);class ME{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,r,n){this._client=t,this._webSocket=r,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===jt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const i=s.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===jt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,i,h),l.nack=(h={})=>c.nack(u,i,h),a(l)},RECEIPT:s=>{const i=this._receiptWatchers[s.headers["receipt-id"]];i?(i(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}start(){const t=new IE(r=>{const n=hn.fromRawFrame(r,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=r=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data;this.debug(`<<< ${n}`)}t.parseChunk(r.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=r=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(r)},this._webSocket.onerror=r=>{this.onWebSocketError(r)},this._webSocket.onopen=()=>{const r=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),r["accept-version"]=this.stompVersions.supportedVersions(),r["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:r})}}_setupHeartbeat(t){if(t.version!==jt.V1_1&&t.version!==jt.V1_2||!t["heart-beat"])return;const[r,n]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&n!==0){const s=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${s}ms`),this._pinger=new OE(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===mn.OPEN&&(this._webSocket.send(Mo.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&r!==0){const s=Math.max(this.heartbeatIncoming,r);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>s*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===mn.CONNECTING||this._webSocket.readyState===mn.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&PE(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:r,headers:n,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=new hn({command:r,headers:n,body:s,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,r=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(r)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===mn.CONNECTING||this._webSocket.readyState===mn.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:r,headers:n,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=Object.assign({destination:r},n);this._transmit({command:"SEND",headers:l,body:s,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(t,r){this._receiptWatchers[t]=r}subscribe(t,r,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=t,this._subscriptions[n.id]=r,this._transmit({command:"SUBSCRIBE",headers:n});const s=this;return{id:n.id,unsubscribe(i){return s.unsubscribe(n.id,i)}}}unsubscribe(t,r={}){r=Object.assign({},r),delete this._subscriptions[t],r.id=t,this._transmit({command:"UNSUBSCRIBE",headers:r})}begin(t){const r=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:r}});const n=this;return{id:r,commit(){n.commit(r)},abort(){n.abort(r)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,r,n={}){n=Object.assign({},n),this._connectedVersion===jt.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"ACK",headers:n})}nack(t,r,n={}){return n=Object.assign({},n),this._connectedVersion===jt.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"NACK",headers:n})}}class u0{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===lr.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=jt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=gl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=gi.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=lr.INACTIVE;const r=()=>{};this.debug=r,this.beforeConnect=r,this.onConnect=r,this.onDisconnect=r,this.onUnhandledMessage=r,this.onUnhandledReceipt=r,this.onUnhandledFrame=r,this.onStompError=r,this.onWebSocketClose=r,this.onWebSocketError=r,this.logRawCommunication=!1,this.onChangeState=r,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(lr.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===lr.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new ME(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:r=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(r)},onDisconnect:r=>{this.onDisconnect(r)},onStompError:r=>{this.onStompError(r)},onWebSocketClose:r=>{this._stompHandler=void 0,this.state===lr.DEACTIVATING&&this._changeState(lr.INACTIVE),this.onWebSocketClose(r),this.active&&this._schedule_reconnect()},onWebSocketError:r=>{this.onWebSocketError(r)},onUnhandledMessage:r=>{this.onUnhandledMessage(r)},onUnhandledReceipt:r=>{this.onUnhandledReceipt(r)},onUnhandledFrame:r=>{this.onUnhandledFrame(r)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===gl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var i;const r=t.force||!1,n=this.active;let s;if(this.state===lr.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(lr.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==mn.CLOSED){const a=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{a(u),l()}})}else return this._changeState(lr.INACTIVE),Promise.resolve();return r?(i=this._stompHandler)==null||i.discardWebsocket():n&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,r){this._checkConnection(),this._stompHandler.watchForReceipt(t,r)}subscribe(t,r,n={}){return this._checkConnection(),this._stompHandler.subscribe(t,r,n)}unsubscribe(t,r={}){this._checkConnection(),this._stompHandler.unsubscribe(t,r)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,r,n={}){this._checkConnection(),this._stompHandler.ack(t,r,n)}nack(t,r,n={}){this._checkConnection(),this._stompHandler.nack(t,r,n)}}const LE=({roomId:e,userId:t,onMessageReceived:r})=>{const[n,s]=d.useState(!1),[i,a]=d.useState(!1),l=d.useRef(null),c=d.useRef(null),u=d.useRef(0),h=5,f=d.useCallback(()=>{if(u.current>=h){console.error("Max reconnection attempts reached");return}const x=Math.min(1e3*Math.pow(2,u.current),3e4);console.log(`Scheduling reconnect attempt ${u.current+1} in ${x}ms`),c.current=setTimeout(()=>{u.current++,m()},x)},[]),m=d.useCallback(()=>{if(!e||!t||i||n)return;const x=localStorage.getItem("accessToken");if(!x){console.error("No access token found for WebSocket connection");return}console.log("Connecting to DM WebSocket for room:",e,"Attempt:",u.current+1),a(!0);const j=new u0({brokerURL:"wss://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws",connectHeaders:{Authorization:`Bearer ${x}`},debug:g=>{console.log("STOMP Debug:",g)},onConnect:()=>{console.log("DM WebSocket connected for room:",e),s(!0),a(!1),u.current=0,j.subscribe(`/topic/dm.room.${e}`,g=>{try{const p=JSON.parse(g.body);console.log("Received DM message:",p),r(p)}catch(p){console.error("Error parsing DM message:",p)}})},onDisconnect:()=>{console.log("DM WebSocket disconnected"),s(!1),a(!1),l.current&&u.current<h&&f()},onStompError:g=>{console.error("STOMP Error:",g),s(!1),a(!1),u.current<h&&f()}});l.current=j,j.activate()},[e,t,i,n,r,f]),y=d.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),u.current=0,l.current&&(console.log("Disconnecting DM WebSocket"),l.current.deactivate(),l.current=null,s(!1),a(!1))},[]),w=d.useCallback(x=>{if(!l.current||!n||!e||!t){console.error("Cannot send message: WebSocket not connected or missing required data");return}const j={senderId:t,roomId:e,content:x,isRead:!1,createdAt:new Date().toISOString()};console.log("Sending DM message:",j),l.current.publish({destination:"/app/dm.send",body:JSON.stringify(j)})},[e,t,n]);return d.useEffect(()=>(e&&t?m():y(),()=>{c.current&&(clearTimeout(c.current),c.current=null),y()}),[e,t,m,y]),{isConnected:n,isConnecting:i,sendMessage:w,connect:m,disconnect:y}};function DE({isOpen:e,onClose:t,onBack:r,user:n,currentUserId:s,getDmMessages:i}){const[a,l]=d.useState([]),[c,u]=d.useState(""),[h]=d.useState(!1),[f,m]=d.useState(!1),[y,w]=d.useState(null),x=d.useRef(null),j=d.useRef(null),{isConnected:g,sendMessage:p}=LE({roomId:(n==null?void 0:n.roomId)||null,userId:s,onMessageReceived:k=>{const _={id:k.id,senderId:k.senderId,senderName:k.senderId===s?"":(n==null?void 0:n.name)||"Unknown",content:k.content,timestamp:v(k.createdAt),type:"text",isOwnMessage:k.senderId===s};l(P=>[...P,_])}});d.useEffect(()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})},[a]),d.useEffect(()=>{e&&j.current&&j.current.focus()},[e]),d.useEffect(()=>{n!=null&&n.roomId&&b()},[n==null?void 0:n.roomId]);const v=k=>new Date(k).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),b=async()=>{if(n!=null&&n.roomId)try{m(!0),w(null);const _=(await i(n.roomId)).data.map(P=>({id:P.id,senderId:P.senderId,senderName:P.senderId===s?"":(n==null?void 0:n.name)||"Unknown",content:P.content,timestamp:v(P.createdAt),type:"text",isOwnMessage:P.senderId===s}));l(_)}catch(k){console.error("Error loading messages:",k),w("   .")}finally{m(!1)}},C=()=>{!c.trim()||!n||!g||(console.log("Sending message via WebSocket:",c.trim()),p(c.trim()),u(""))},R=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),C())},S=k=>k;return!e||!n?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:r,className:"p-1 hover:bg-white/10",children:o.jsx(io,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Me,{className:"h-8 w-8",children:[o.jsx(Le,{src:n.avatar}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-sm",children:n.name.charAt(0)})]}),n.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:n.name}),o.jsx("p",{className:"text-xs text-white/60",children:n.isOnline?"":""})]})]})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(gr,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(_E,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[f&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),y&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:y}),!f&&!y&&a.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),a.map((k,_)=>{const P=_===0||a[_-1].timestamp!==k.timestamp||a[_-1].isOwnMessage!==k.isOwnMessage;return o.jsx("div",{className:`flex ${k.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${k.isOwnMessage?"order-2":"order-1"}`,children:[!k.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(Me,{className:"h-6 w-6",children:[o.jsx(Le,{src:n.avatar}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-xs",children:n.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:k.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${k.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:k.content})}),P&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${k.isOwnMessage?"text-right":"text-left"}`,children:S(k.timestamp)})]})},k.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6",children:[o.jsx(Le,{src:n.avatar}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-xs",children:n.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:x})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(kf,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(We,{ref:j,value:c,onChange:k=>u(k.target.value),onKeyPress:R,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx($,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(Kj,{className:"w-4 h-4"})})]}),o.jsx($,{onClick:C,disabled:!c.trim(),size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]})})}var d0=["PageUp","PageDown"],f0=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],h0={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},uo="Slider",[fd,$E,zE]=zf(uo),[m0,mR]=Lr(uo,[zE]),[FE,Xl]=m0(uo),p0=d.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:w,...x}=e,j=d.useRef(new Set),g=d.useRef(0),v=a==="horizontal"?BE:WE,[b=[],C]=es({prop:h,defaultProp:u,onChange:z=>{var T;(T=[...j.current][g.current])==null||T.focus(),f(z)}}),R=d.useRef(b);function S(z){const N=GE(b,z);P(z,N)}function k(z){P(z,g.current)}function _(){const z=R.current[g.current];b[g.current]!==z&&m(b)}function P(z,N,{commit:T}={commit:!1}){const O=YE(i),V=JE(Math.round((z-n)/i)*i+n,O),E=hi(V,[n,s]);C((D=[])=>{const A=VE(D,E,N);if(QE(A,c*i)){g.current=A.indexOf(E);const W=String(A)!==String(D);return W&&T&&m(A),W?A:D}else return D})}return o.jsx(FE,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:g,thumbs:j.current,values:b,orientation:a,form:w,children:o.jsx(fd.Provider,{scope:e.__scopeSlider,children:o.jsx(fd.Slot,{scope:e.__scopeSlider,children:o.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:ae(x.onPointerDown,()=>{l||(R.current=b)}),min:n,max:s,inverted:y,onSlideStart:l?void 0:S,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:_,onHomeKeyDown:()=>!l&&P(n,0,{commit:!0}),onEndKeyDown:()=>!l&&P(s,b.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:N})=>{if(!l){const V=d0.includes(z.key)||z.shiftKey&&f0.includes(z.key)?10:1,E=g.current,D=b[E],A=i*V*N;P(D+A,E,{commit:!0})}}})})})})});p0.displayName=uo;var[g0,v0]=m0(uo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),BE=d.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,m]=d.useState(null),y=ge(t,v=>m(v)),w=d.useRef(void 0),x=ki(s),j=x==="ltr",g=j&&!i||!j&&i;function p(v){const b=w.current||f.getBoundingClientRect(),C=[0,b.width],S=oh(C,g?[r,n]:[n,r]);return w.current=b,S(v-b.left)}return o.jsx(g0,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(x0,{dir:x,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const b=p(v.clientX);a==null||a(b)},onSlideMove:v=>{const b=p(v.clientX);l==null||l(b)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:v=>{const C=h0[g?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:C?-1:1})}})})}),WE=d.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=ge(t,h),m=d.useRef(void 0),y=!s;function w(x){const j=m.current||h.current.getBoundingClientRect(),g=[0,j.height],v=oh(g,y?[n,r]:[r,n]);return m.current=j,v(x-j.top)}return o.jsx(g0,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(x0,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const j=w(x.clientY);i==null||i(j)},onSlideMove:x=>{const j=w(x.clientY);a==null||a(j)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=h0[y?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),x0=d.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=Xl(uo,r);return o.jsx(ie.span,{...u,ref:t,onKeyDown:ae(e.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):d0.concat(f0).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ae(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():n(f)}),onPointerMove:ae(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ae(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),y0="SliderTrack",w0=d.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Xl(y0,r);return o.jsx(ie.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});w0.displayName=y0;var hd="SliderRange",b0=d.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Xl(hd,r),i=v0(hd,r),a=d.useRef(null),l=ge(t,a),c=s.values.length,u=s.values.map(m=>S0(m,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(ie.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});b0.displayName=hd;var md="SliderThumb",j0=d.forwardRef((e,t)=>{const r=$E(e.__scopeSlider),[n,s]=d.useState(null),i=ge(t,l=>s(l)),a=d.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(UE,{...e,ref:i,index:a})}),UE=d.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...i}=e,a=Xl(md,r),l=v0(md,r),[c,u]=d.useState(null),h=ge(t,p=>u(p)),f=c?a.form||!!c.closest("form"):!0,m=Gf(c),y=a.values[n],w=y===void 0?0:S0(y,a.min,a.max),x=KE(n,a.values.length),j=m==null?void 0:m[l.size],g=j?XE(j,w,l.direction):0;return d.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(fd.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(ie.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:ae(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),f&&o.jsx(N0,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:y},n)]})});j0.displayName=md;var HE="RadioBubbleInput",N0=d.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=d.useRef(null),i=ge(s,n),a=Qf(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(ie.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});N0.displayName=HE;function VE(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,i)=>s-i)}function S0(e,t,r){const i=100/(r-t)*(e-t);return hi(i,[0,100])}function KE(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function GE(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function XE(e,t,r){const n=e/2,i=oh([0,50],[0,n]);return(n-i(t)*r)*r}function qE(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function QE(e,t){if(t>0){const r=qE(e);return Math.min(...r)>=t}return!0}function oh(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function YE(e){return(String(e).split(".")[1]||"").length}function JE(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var ZE=p0,e4=w0,t4=b0,r4=j0;function n4({className:e,defaultValue:t,value:r,min:n=0,max:s=100,...i}){const a=d.useMemo(()=>Array.isArray(r)?r:Array.isArray(t)?t:[n,s],[r,t,n,s]);return o.jsxs(ZE,{"data-slot":"slider",defaultValue:t,value:r,min:n,max:s,className:Se("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[o.jsx(e4,{"data-slot":"slider-track",className:Se("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(t4,{"data-slot":"slider-range",className:Se("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(l,c)=>o.jsx(r4,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}var k0={exports:{}},pd={};globalThis.crypto&&globalThis.crypto.getRandomValues?pd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:pd.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t};var s4=pd,gp="abcdefghijklmnopqrstuvwxyz012345",fo={string:function(e){for(var t=gp.length,r=s4.randomBytes(e),n=[],s=0;s<e;s++)n.push(gp.substr(r[s]%t,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,r=new Array(t+1).join("0");return(r+this.number(e)).slice(-t)}};(function(e){var t=fo,r={},n=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(a,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+a,l),globalThis.attachEvent("on"+a,l))},detachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(a,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+a,l),globalThis.detachEvent("on"+a,l))},unloadAdd:function(a){if(s)return null;var l=t.string(8);return r[l]=a,n&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(a){a in r&&delete r[a]},triggerUnloadCallbacks:function(){for(var a in r)r[a](),delete r[a]}};var i=function(){n||(n=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",i)})(k0);var $n=k0.exports,o4=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},ih={},i4=Object.prototype.hasOwnProperty,a4;function vp(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function xp(e){try{return encodeURIComponent(e)}catch{return null}}function l4(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var s=vp(n[1]),i=vp(n[2]);s===null||i===null||s in r||(r[s]=i)}return r}function c4(e,t){t=t||"";var r=[],n,s;typeof t!="string"&&(t="?");for(s in e)if(i4.call(e,s)){if(n=e[s],!n&&(n===null||n===a4||isNaN(n))&&(n=""),s=xp(s),n=xp(n),s===null||n===null)continue;r.push(s+"="+n)}return r.length?t+r.join("&"):""}ih.stringify=c4;ih.parse=l4;var C0=o4,ql=ih,u4=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,E0=/[\n\r\t]/g,d4=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,T0=/:\d+$/,f4=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,h4=/^[a-zA-Z]:/;function ah(e){return(e||"").toString().replace(u4,"")}var gd=[["#","hash"],["?","query"],function(t,r){return Pr(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],yp={hash:1,query:1};function _0(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},s=typeof e,i;if(e.protocol==="blob:")n=new Or(unescape(e.pathname),{});else if(s==="string"){n=new Or(e,{});for(i in yp)delete n[i]}else if(s==="object"){for(i in e)i in yp||(n[i]=e[i]);n.slashes===void 0&&(n.slashes=d4.test(e.href))}return n}function Pr(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function R0(e,t){e=ah(e),e=e.replace(E0,""),t=t||{};var r=f4.exec(e),n=r[1]?r[1].toLowerCase():"",s=!!r[2],i=!!r[3],a=0,l;return s?i?(l=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(l=r[2]+r[4],a=r[2].length):i?(l=r[3]+r[4],a=r[3].length):l=r[4],n==="file:"?a>=2&&(l=l.slice(2)):Pr(n)?l=r[4]:n?s&&(l=l.slice(2)):a>=2&&Pr(t.protocol)&&(l=r[4]),{protocol:n,slashes:s||Pr(n),slashesCount:a,rest:l}}function m4(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,s=r[n-1],i=!1,a=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),a++):a&&(n===0&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),(s==="."||s==="..")&&r.push(""),r.join("/")}function Or(e,t,r){if(e=ah(e),e=e.replace(E0,""),!(this instanceof Or))return new Or(e,t,r);var n,s,i,a,l,c,u=gd.slice(),h=typeof t,f=this,m=0;for(h!=="object"&&h!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=ql.parse),t=_0(t),s=R0(e||"",t),n=!s.protocol&&!s.slashes,f.slashes=s.slashes||n&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||h4.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Pr(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(a=u[m],typeof a=="function"){e=a(e,f);continue}i=a[0],c=a[1],i!==i?f[c]=e:typeof i=="string"?(l=i==="@"?e.lastIndexOf(i):e.indexOf(i),~l&&(typeof a[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+a[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=i.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||n&&a[3]&&t[c]||"",a[4]&&(f[c]=f[c].toLowerCase())}r&&(f.query=r(f.query)),n&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=m4(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&Pr(f.protocol)&&(f.pathname="/"+f.pathname),C0(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&Pr(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function p4(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||ql.parse)(t)),n[e]=t;break;case"port":n[e]=t,C0(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,T0.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==s?s+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(n.username=t.slice(0,i),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(i+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<gd.length;a++){var l=gd[a];l[4]&&(n[l[1]]=n[l[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&Pr(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function g4(e){(!e||typeof e!="function")&&(e=ql.stringify);var t,r=this,n=r.host,s=r.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var i=s+(r.protocol&&r.slashes||Pr(r.protocol)?"//":"");return r.username?(i+=r.username,r.password&&(i+=":"+r.password),i+="@"):r.password?(i+=":"+r.password,i+="@"):r.protocol!=="file:"&&Pr(r.protocol)&&!n&&r.pathname!=="/"&&(i+="@"),(n[n.length-1]===":"||T0.test(r.hostname)&&!r.port)&&(n+=":"),i+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(i+=r.hash),i}Or.prototype={set:p4,toString:g4};Or.extractProtocol=R0;Or.location=_0;Or.trimLeft=ah;Or.qs=ql;var P0=Or,v4=P0,rr={getOrigin:function(e){if(!e)return null;var t=new v4(e);if(t.protocol==="file:")return null;var r=t.port;return r||(r=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},vd={exports:{}};typeof Object.create=="function"?vd.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:vd.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Ne=vd.exports,yt={};function Ql(){this._listeners={}}Ql.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];r.indexOf(t)===-1&&(r=r.concat([t])),this._listeners[e]=r};Ql.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var n=r.indexOf(t);if(n!==-1){r.length>1?this._listeners[e]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[e];return}}};Ql.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var n=this._listeners[t],s=0;s<n.length;s++)n[s].apply(this,r)};var A0=Ql,x4=Ne,Yl=A0;function An(){Yl.call(this)}x4(An,Yl);An.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};An.prototype.once=function(e,t){var r=this,n=!1;function s(){r.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}this.on(e,s)};An.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var r=arguments.length,n=new Array(r-1),s=1;s<r;s++)n[s-1]=arguments[s];for(var i=0;i<t.length;i++)t[i].apply(this,n)}};An.prototype.on=An.prototype.addListener=Yl.prototype.addEventListener;An.prototype.removeListener=Yl.prototype.removeEventListener;yt.EventEmitter=An;var xd={exports:{}},wp=globalThis.WebSocket||globalThis.MozWebSocket;wp?xd.exports=function(t){return new wp(t)}:xd.exports=void 0;var y4=xd.exports,I0=$n,w4=rr,b4=Ne,O0=yt.EventEmitter,M0=y4,bp=function(){};function sn(e,t,r){if(!sn.enabled())throw new Error("Transport created when disabled");O0.call(this);var n=this,s=w4.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new M0(this.url,[],r),this.ws.onmessage=function(i){bp("message event",i.data),n.emit("message",i.data)},this.unloadRef=I0.unloadAdd(function(){n.ws.close()}),this.ws.onclose=function(i){bp("close event",i.code,i.reason),n.emit("close",i.code,i.reason),n._cleanup()},this.ws.onerror=function(i){n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}b4(sn,O0);sn.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};sn.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};sn.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),I0.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};sn.enabled=function(){return!!M0};sn.transportName="websocket";sn.roundTrips=2;var j4=sn,N4=Ne,L0=yt.EventEmitter,S4=function(){};function cs(e,t){L0.call(this),this.sendBuffer=[],this.sender=t,this.url=e}N4(cs,L0);cs.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};cs.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};cs.prototype.sendSchedule=function(){S4("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(r){e.sendStop=null,r?(e.emit("close",r.code||1006,"Sending error: "+r),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};cs.prototype._cleanup=function(){this.removeAllListeners()};cs.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var k4=cs,C4=Ne,D0=yt.EventEmitter,E4=function(){};function Jl(e,t,r){D0.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=r,this._scheduleReceiver()}C4(Jl,D0);Jl.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(r){e.emit("message",r)}),t.once("close",function(r,n){E4("close",r,n,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(n==="network"?e._scheduleReceiver():(e.emit("close",r||1006,n),e.removeAllListeners()))})};Jl.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var T4=Jl,_4=Ne,R4=rr,lh=k4,P4=T4;function ch(e,t,r,n,s){var i=R4.addPath(e,t),a=this;lh.call(this,e,r),this.poll=new P4(n,i,s),this.poll.on("message",function(l){a.emit("message",l)}),this.poll.once("close",function(l,c){a.poll=null,a.emit("close",l,c),a.close()})}_4(ch,lh);ch.prototype.close=function(){lh.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var $0=ch,A4=Ne,I4=rr,z0=$0;function O4(e){return function(t,r,n){var s={};typeof r=="string"&&(s.headers={"Content-type":"text/plain"});var i=I4.addPath(t,"/xhr_send"),a=new e("POST",i,r,s);return a.once("finish",function(l){if(a=null,l!==200&&l!==204)return n(new Error("http status "+l));n()}),function(){a.close(),a=null;var l=new Error("Aborted");l.code=1e3,n(l)}}}function F0(e,t,r,n){z0.call(this,e,t,O4(n),r,n)}A4(F0,z0);var ho=F0,M4=Ne,B0=yt.EventEmitter;function Ei(e,t){B0.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,s){r._chunkHandler(n,s),r.xo=null;var i=n===200?"network":"permanent";r.emit("close",null,i),r._cleanup()})}M4(Ei,B0);Ei.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var r=-1;;this.bufferPosition+=r+1){var n=t.slice(this.bufferPosition);if(r=n.indexOf(`
`),r===-1)break;var s=n.slice(0,r);s&&this.emit("message",s)}};Ei.prototype._cleanup=function(){this.removeAllListeners()};Ei.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Zl=Ei,W0=yt.EventEmitter,L4=Ne,U0=$n,D4=rr,vi=globalThis.XMLHttpRequest,Hc=function(){};function Mr(e,t,r,n){var s=this;W0.call(this),setTimeout(function(){s._start(e,t,r,n)},0)}L4(Mr,W0);Mr.prototype._start=function(e,t,r,n){var s=this;try{this.xhr=new vi}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=D4.addQuery(t,"t="+ +new Date),this.unloadRef=U0.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Hc("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&Mr.supportsCORS&&(this.xhr.withCredentials=!0),n&&n.headers)for(var i in n.headers)this.xhr.setRequestHeader(i,n.headers[i]);this.xhr.onreadystatechange=function(){if(s.xhr){var a=s.xhr,l,c;switch(Hc("readyState",a.readyState),a.readyState){case 3:try{c=a.status,l=a.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=a.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Hc("finish",c,a.responseText),s.emit("finish",c,a.responseText),s._cleanup(!1);break}}};try{s.xhr.send(r)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Mr.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),U0.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Mr.prototype.close=function(){this._cleanup(!0)};Mr.enabled=!!vi;var jp=["Active"].concat("Object").join("X");!Mr.enabled&&jp in globalThis&&(vi=function(){try{return new globalThis[jp]("Microsoft.XMLHTTP")}catch{return null}},Mr.enabled=!!new vi);var H0=!1;try{H0="withCredentials"in new vi}catch{}Mr.supportsCORS=H0;var V0=Mr,$4=Ne,vl=V0;function uh(e,t,r,n){vl.call(this,e,t,r,n)}$4(uh,vl);uh.enabled=vl.enabled&&vl.supportsCORS;var ec=uh,z4=Ne,dh=V0;function fh(e,t,r){dh.call(this,e,t,r,{noCredentials:!0})}z4(fh,dh);fh.enabled=dh.enabled;var Ti=fh,_i={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},F4=Ne,K0=ho,B4=Zl,yd=ec,W4=Ti,U4=_i;function mo(e){if(!W4.enabled&&!yd.enabled)throw new Error("Transport created when disabled");K0.call(this,e,"/xhr_streaming",B4,yd)}F4(mo,K0);mo.enabled=function(e){return e.nullOrigin||U4.isOpera()?!1:yd.enabled};mo.transportName="xhr-streaming";mo.roundTrips=2;mo.needBody=!!globalThis.document;var H4=mo,G0=yt.EventEmitter,V4=Ne,X0=$n,K4=_i,G4=rr,X4=function(){};function us(e,t,r){var n=this;G0.call(this),setTimeout(function(){n._start(e,t,r)},0)}V4(us,G0);us.prototype._start=function(e,t,r){var n=this,s=new globalThis.XDomainRequest;t=G4.addQuery(t,"t="+ +new Date),s.onerror=function(){n._error()},s.ontimeout=function(){n._error()},s.onprogress=function(){X4("progress",s.responseText),n.emit("chunk",200,s.responseText)},s.onload=function(){n.emit("finish",200,s.responseText),n._cleanup(!1)},this.xdr=s,this.unloadRef=X0.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};us.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};us.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),X0.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};us.prototype.close=function(){this._cleanup(!0)};us.enabled=!!(globalThis.XDomainRequest&&K4.hasDomain());var hh=us,q4=Ne,q0=ho,Q4=Zl,wd=hh;function Ri(e){if(!wd.enabled)throw new Error("Transport created when disabled");q0.call(this,e,"/xhr_streaming",Q4,wd)}q4(Ri,q0);Ri.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:wd.enabled&&e.sameScheme};Ri.transportName="xdr-streaming";Ri.roundTrips=2;var Q0=Ri,Y0=globalThis.EventSource,Y4=Ne,J0=yt.EventEmitter,J4=Y0,Np=function(){};function Pi(e){J0.call(this);var t=this,r=this.es=new J4(e);r.onmessage=function(n){Np("message",n.data),t.emit("message",decodeURI(n.data))},r.onerror=function(n){Np("error",r.readyState);var s=r.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}Y4(Pi,J0);Pi.prototype.abort=function(){this._cleanup(),this._close("user")};Pi.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Pi.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var Z4=Pi,eT=Ne,Z0=ho,tT=Z4,rT=ec,nT=Y0;function po(e){if(!po.enabled())throw new Error("Transport created when disabled");Z0.call(this,e,"/eventsource",tT,rT)}eT(po,Z0);po.enabled=function(){return!!nT};po.transportName="eventsource";po.roundTrips=2;var Sp=po,Vc,kp;function ew(){return kp||(kp=1,Vc="1.6.1"),Vc}var tw={exports:{}};(function(e){var t=$n,r=_i;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(n,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:n,data:s||""}),"*")},createIframe:function(n,s){var i=globalThis.document.createElement("iframe"),a,l,c=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},u=function(){i&&(c(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),t.unloadDel(l))},h=function(m){i&&(u(),s(m))},f=function(m,y){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(m,y)}catch{}},0)};return i.src=n,i.style.display="none",i.style.position="absolute",i.onerror=function(){h("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(i),a=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(n,s){var i=["Active"].concat("Object").join("X"),a=new globalThis[i]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){a&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=a=null,CollectGarbage())},m=function(x){a&&(f(),s(x))},y=function(x,j){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,j)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=a.createElement("div");return a.body.appendChild(w),u=a.createElement("iframe"),w.appendChild(u),u.src=n,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(f),{post:y,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!r.isKonqueror())})(tw);var Ai=tw.exports,sT=Ne,rw=yt.EventEmitter,oT=ew(),bd=rr,nw=Ai,sw=$n,iT=fo,_o=function(){};function zr(e,t,r){if(!zr.enabled())throw new Error("Transport created when disabled");rw.call(this);var n=this;this.origin=bd.getOrigin(r),this.baseUrl=r,this.transUrl=t,this.transport=e,this.windowId=iT.string(8);var s=bd.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=nw.createIframe(s,function(i){n.emit("close",1006,"Unable to load an iframe ("+i+")"),n.close()}),this.onmessageCallback=this._message.bind(this),sw.attachEvent("message",this.onmessageCallback)}sT(zr,rw);zr.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){sw.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};zr.prototype._message=function(e){if(_o("message",e.data),!bd.isOriginEqual(e.origin,this.origin)){_o("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{_o("bad json",e.data);return}if(t.windowId!==this.windowId){_o("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([oT,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=JSON.parse(t.data)}catch{_o("bad json",t.data);return}this.emit("close",r[0],r[1]),this.close();break}};zr.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};zr.prototype.send=function(e){this.postMessage("m",e)};zr.enabled=function(){return nw.iframeEnabled};zr.transportName="iframe";zr.roundTrips=2;var ow=zr,mh={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}},aT=Ne,va=ow,lT=mh,Kc=function(e){function t(r,n){va.call(this,e.transportName,r,n)}return aT(t,va),t.enabled=function(r,n){if(!globalThis.document)return!1;var s=lT.extend({},n);return s.sameOrigin=!0,e.enabled(s)&&va.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=va.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},cT=Ne,Wn=Ai,uT=rr,iw=yt.EventEmitter,dT=fo,fT=function(){};function yr(e){iw.call(this);var t=this;Wn.polluteGlobalNamespace(),this.id="a"+dT.string(6),e=uT.addQuery(e,"c="+decodeURIComponent(Wn.WPrefix+"."+this.id)),fT("using htmlfile",yr.htmlfileEnabled);var r=yr.htmlfileEnabled?Wn.createHtmlfile:Wn.createIframe;globalThis[Wn.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(n){t.emit("message",n)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=r(e,function(){t._cleanup(),t._close("permanent")})}cT(yr,iw);yr.prototype.abort=function(){this._cleanup(),this._close("user")};yr.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Wn.WPrefix][this.id]};yr.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};yr.htmlfileEnabled=!1;var Cp=["Active"].concat("Object").join("X");if(Cp in globalThis)try{yr.htmlfileEnabled=!!new globalThis[Cp]("htmlfile")}catch{}yr.enabled=yr.htmlfileEnabled||Wn.iframeEnabled;var hT=yr,mT=Ne,jd=hT,pT=Ti,aw=ho;function Ii(e){if(!jd.enabled)throw new Error("Transport created when disabled");aw.call(this,e,"/htmlfile",jd,pT)}mT(Ii,aw);Ii.enabled=function(e){return jd.enabled&&e.sameOrigin};Ii.transportName="htmlfile";Ii.roundTrips=2;var Ep=Ii,gT=Ne,lw=ho,vT=Zl,Nd=ec,cw=Ti;function Oi(e){if(!cw.enabled&&!Nd.enabled)throw new Error("Transport created when disabled");lw.call(this,e,"/xhr",vT,Nd)}gT(Oi,lw);Oi.enabled=function(e){return e.nullOrigin?!1:cw.enabled&&e.sameOrigin?!0:Nd.enabled};Oi.transportName="xhr-polling";Oi.roundTrips=2;var Tp=Oi,xT=Ne,uw=ho,yT=Q0,wT=Zl,_p=hh;function Mi(e){if(!_p.enabled)throw new Error("Transport created when disabled");uw.call(this,e,"/xhr",wT,_p)}xT(Mi,uw);Mi.enabled=yT.enabled;Mi.transportName="xdr-polling";Mi.roundTrips=2;var bT=Mi,Go=Ai,dw=fo,jT=_i,NT=rr,ST=Ne,fw=yt.EventEmitter,kT=function(){};function er(e){var t=this;fw.call(this),Go.polluteGlobalNamespace(),this.id="a"+dw.string(6);var r=NT.addQuery(e,"c="+encodeURIComponent(Go.WPrefix+"."+this.id));globalThis[Go.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},er.timeout)}ST(er,fw);er.prototype.abort=function(){if(globalThis[Go.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};er.timeout=35e3;er.scriptErrorTimeout=1e3;er.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};er.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};er.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[Go.WPrefix][this.id]};er.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},er.scriptErrorTimeout))};er.prototype._createScript=function(e){var t=this,r=this.script=globalThis.document.createElement("script"),n;if(r.id="a"+dw.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(kT("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){t.loadedOkay=!0;try{r.onclick()}catch{}}r&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&globalThis.document.attachEvent)if(jT.isOpera())n=this.script2=globalThis.document.createElement("script"),n.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=n.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild),n&&s.insertBefore(n,s.firstChild)};var CT=er,ET=fo,Rp=rr,TT=function(){},Mt,Xo;function _T(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function RT(){Mt=globalThis.document.createElement("form"),Mt.style.display="none",Mt.style.position="absolute",Mt.method="POST",Mt.enctype="application/x-www-form-urlencoded",Mt.acceptCharset="UTF-8",Xo=globalThis.document.createElement("textarea"),Xo.name="d",Mt.appendChild(Xo),globalThis.document.body.appendChild(Mt)}var PT=function(e,t,r){Mt||RT();var n="a"+ET.string(8);Mt.target=n,Mt.action=Rp.addQuery(Rp.addPath(e,"/jsonp_send"),"i="+n);var s=_T(n);s.id=n,s.style.display="none",Mt.appendChild(s);try{Xo.value=t}catch{}Mt.submit();var i=function(a){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),Xo.value="",r(a))};return s.onerror=function(){i()},s.onload=function(){i()},s.onreadystatechange=function(a){TT("onreadystatechange",n,s.readyState),s.readyState==="complete"&&i()},function(){i(new Error("Aborted"))}},AT=Ne,hw=$0,IT=CT,OT=PT;function ds(e){if(!ds.enabled())throw new Error("Transport created when disabled");hw.call(this,e,"/jsonp",OT,IT)}AT(ds,hw);ds.enabled=function(){return!!globalThis.document};ds.transportName="jsonp-polling";ds.roundTrips=1;ds.needBody=!0;var MT=ds,LT=[j4,H4,Q0,Sp,Kc(Sp),Ep,Kc(Ep),Tp,bT,Kc(Tp),MT],xi=Array.prototype,ph=Object.prototype,DT=Function.prototype,yi=String.prototype,Gc=xi.slice,gh=ph.toString,mw=function(e){return ph.toString.call(e)==="[object Function]"},$T=function(t){return gh.call(t)==="[object Array]"},pw=function(t){return gh.call(t)==="[object String]"},zT=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Sd;zT?Sd=function(e,t,r,n){!n&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:Sd=function(e,t,r,n){!n&&t in e||(e[t]=r)};var Li=function(e,t,r){for(var n in t)ph.hasOwnProperty.call(t,n)&&Sd(e,n,t[n],r)},gw=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function FT(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function BT(e){return e>>>0}function Xc(){}Li(DT,{bind:function(t){var r=this;if(!mw(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=Gc.call(arguments,1),s=function(){if(this instanceof c){var u=r.apply(this,n.concat(Gc.call(arguments)));return Object(u)===u?u:this}else return r.apply(t,n.concat(Gc.call(arguments)))},i=Math.max(0,r.length-n.length),a=[],l=0;l<i;l++)a.push("$"+l);var c=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(s);return r.prototype&&(Xc.prototype=r.prototype,c.prototype=new Xc,Xc.prototype=null),c}});Li(Array,{isArray:$T});var Pp=Object("a"),vw=Pp[0]!=="a"||!(0 in Pp),WT=function(t){var r=!0,n=!0;return t&&(t.call("foo",function(s,i,a){typeof a!="object"&&(r=!1)}),t.call([1],function(){n=typeof this=="string"},"x")),!!t&&r&&n};Li(xi,{forEach:function(t){var r=gw(this),n=vw&&pw(this)?this.split(""):r,s=arguments[1],i=-1,a=n.length>>>0;if(!mw(t))throw new TypeError;for(;++i<a;)i in n&&t.call(s,n[i],i,r)}},!WT(xi.forEach));var UT=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Li(xi,{indexOf:function(t){var r=vw&&pw(this)?this.split(""):gw(this),n=r.length>>>0;if(!n)return-1;var s=0;for(arguments.length>1&&(s=FT(arguments[1])),s=s>=0?s:Math.max(0,n+s);s<n;s++)if(s in r&&r[s]===t)return s;return-1}},UT);var Ap=yi.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;yi.split=function(t,r){var n=this;if(t===void 0&&r===0)return[];if(gh.call(t)!=="[object RegExp]")return Ap.call(this,t,r);var s=[],i=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,l,c,u,h;for(t=new RegExp(t.source,i+"g"),n+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",i)),r=r===void 0?-1>>>0:BT(r);(c=t.exec(n))&&(u=c.index+c[0].length,!(u>a&&(s.push(n.slice(a,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<n.length&&xi.push.apply(s,c.slice(1)),h=c[0].length,a=u,s.length>=r)));)t.lastIndex===c.index&&t.lastIndex++;return a===n.length?(h||!t.test(""))&&s.push(""):s.push(n.slice(a)),s.length>r?s.slice(0,r):s}}():"0".split(void 0,0).length&&(yi.split=function(t,r){return t===void 0&&r===0?[]:Ap.call(this,t,r)});var HT=yi.substr,VT="".substr&&"0b".substr(-1)!=="b";Li(yi,{substr:function(t,r){return HT.call(this,t<0&&(t=this.length+t)<0?0:t,r)}},VT);var xa=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,qc,KT=function(e){var t,r={},n=[];for(t=0;t<65536;t++)n.push(String.fromCharCode(t));return e.lastIndex=0,n.join("").replace(e,function(s){return r[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,r},GT={quote:function(e){var t=JSON.stringify(e);return xa.lastIndex=0,xa.test(t)?(qc||(qc=KT(xa)),t.replace(xa,function(r){return qc[r]})):t}},Qc=function(){},XT=function(e){return{filterToEnabled:function(t,r){var n={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&r.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Qc("not in whitelist",s.transportName);return}s.enabled(r)?(Qc("enabled",s.transportName),n.main.push(s),s.facadeTransport&&n.facade.push(s.facadeTransport)):Qc("disabled",s.transportName)}}),n}}},kd={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}kd[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:kd.log});var qT=kd;function fs(e){this.type=e}fs.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this};fs.prototype.stopPropagation=function(){};fs.prototype.preventDefault=function(){};fs.CAPTURING_PHASE=1;fs.AT_TARGET=2;fs.BUBBLING_PHASE=3;var vh=fs,xw=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},QT=Ne,yw=vh;function ww(){yw.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}QT(ww,yw);var YT=ww,JT=Ne,bw=vh;function jw(e){bw.call(this),this.initEvent("message",!1,!1),this.data=e}JT(jw,bw);var ZT=jw,Nw=yt.EventEmitter,e_=Ne;function Di(){var e=this;Nw.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Di.timeout)}e_(Di,Nw);Di.prototype.close=function(){clearTimeout(this.to)};Di.timeout=2e3;var t_=Di,Sw=yt.EventEmitter,r_=Ne,n_=mh;function xh(e,t){Sw.call(this);var r=this,n=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,i){var a,l;if(s===200){if(l=+new Date-n,i)try{a=JSON.parse(i)}catch{}n_.isObject(a)||(a={})}r.emit("finish",a,l),r.removeAllListeners()})}r_(xh,Sw);xh.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var kw=xh,Yc,Ip;function Cw(){if(Ip)return Yc;Ip=1;var e=Ne,t=yt.EventEmitter,r=Ti,n=kw;function s(i){var a=this;t.call(this),this.ir=new n(i,r),this.ir.once("finish",function(l,c){a.ir=null,a.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Yc=s,Yc}var Ew=yt.EventEmitter,s_=Ne,o_=$n,Tw=ow,i_=Cw();function tc(e,t){var r=this;Ew.call(this);var n=function(){var s=r.ifr=new Tw(i_.transportName,t,e);s.once("message",function(i){if(i){var a;try{a=JSON.parse(i)}catch{r.emit("finish"),r.close();return}var l=a[0],c=a[1];r.emit("finish",l,c)}r.close()}),s.once("close",function(){r.emit("finish"),r.close()})};globalThis.document.body?n():o_.attachEvent("load",n)}s_(tc,Ew);tc.enabled=function(){return Tw.enabled()};tc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var a_=tc,_w=yt.EventEmitter,l_=Ne,c_=rr,Op=hh,Mp=ec,u_=Ti,d_=t_,Lp=a_,ya=kw;function qr(e,t){var r=this;_w.call(this),setTimeout(function(){r.doXhr(e,t)},0)}l_(qr,_w);qr._getReceiver=function(e,t,r){return r.sameOrigin?new ya(t,u_):Mp.enabled?new ya(t,Mp):Op.enabled&&r.sameScheme?new ya(t,Op):Lp.enabled()?new Lp(e,t):new ya(t,d_)};qr.prototype.doXhr=function(e,t){var r=this,n=c_.addPath(e,"/info");this.xo=qr._getReceiver(e,n,t),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},qr.timeout),this.xo.once("finish",function(s,i){r._cleanup(!0),r.emit("finish",s,i)})};qr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};qr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};qr.timeout=8e3;var f_=qr,Jc,Dp;function h_(){if(Dp)return Jc;Dp=1;var e=Ai;function t(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(r,n){e.postMessage("c",JSON.stringify([r,n]))},t.prototype._transportMessage=function(r){e.postMessage("t",r)},t.prototype._send=function(r){this._transport.send(r)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Jc=t,Jc}var Zc,$p;function m_(){if($p)return Zc;$p=1;var e=rr,t=$n,r=h_(),n=Cw(),s=Ai,i=xw,a=function(){};return Zc=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[n.transportName]=n;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=i.hash.slice(1);var m=function(y){if(y.source===parent&&(typeof h>"u"&&(h=y.origin),y.origin===h)){var w;try{w=JSON.parse(y.data)}catch{a("bad json",y.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{a("bad json",w.data);break}var j=x[0],g=x[1],p=x[2],v=x[3];if(j!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+j+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(p,i.href)||!e.isOriginEqual(v,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+p+", "+v+")");f=new r(new u[g](p,v));break;case"m":f._send(w.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},Zc}var p_=P0,g_=Ne,zp=fo,v_=GT,Lo=rr,x_=$n,y_=XT,w_=mh,b_=_i,j_=qT,yh=vh,Rw=A0,wa=xw,N_=YT,Fp=ZT,S_=f_,Ar=function(){},Pw;function be(e,t,r){if(!(this instanceof be))return new be(e,t,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");Rw.call(this),this.readyState=be.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&j_.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return zp.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||zp.numberString(1e3);var s=new p_(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var i=s.protocol==="https:";if(wa.protocol==="https:"&&!i&&!Lo.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<a.length-1&&c===a[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Lo.getOrigin(wa.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Ar("using url",this.url),this._urlInfo={nullOrigin:!b_.hasDomain(),sameOrigin:Lo.isOriginEqual(this.url,wa.href),sameScheme:Lo.isSchemeEqual(this.url,wa.href)},this._ir=new S_(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}g_(be,Rw);function Aw(e){return e===1e3||e>=3e3&&e<=4999}be.prototype.close=function(e,t){if(e&&!Aw(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===be.CLOSING||this.readyState===be.CLOSED)){var r=!0;this._close(e||1e3,t||"Normal closure",r)}};be.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===be.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===be.OPEN&&this._transport.send(v_.quote(e))};be.version=ew();be.CONNECTING=0;be.OPEN=1;be.CLOSING=2;be.CLOSED=3;be.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=w_.extend(e,this._urlInfo);var r=Pw.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main,Ar(this._transports.length+" enabled transports"),this._connect()};be.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Ar("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),x_.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var r=Lo.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[e.transportName],s=new e(r,this._transUrl,n);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};be.prototype._transportTimeout=function(){this.readyState===be.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};be.prototype._transportMessage=function(e){var t=this,r=e.slice(0,1),n=e.slice(1),s;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new yh("heartbeat")),Ar("heartbeat",this.transport);return}if(n)try{s=JSON.parse(n)}catch{}if(!(typeof s>"u"))switch(r){case"a":Array.isArray(s)&&s.forEach(function(i){Ar("message",t.transport),t.dispatchEvent(new Fp(i))});break;case"m":Ar("message",this.transport),this.dispatchEvent(new Fp(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};be.prototype._transportClose=function(e,t){if(Ar("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Aw(e)&&e!==2e3&&this.readyState===be.CONNECTING){this._connect();return}this._close(e,t)};be.prototype._open=function(){Ar("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===be.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=be.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new yh("open")),Ar("connected",this.transport)):this._close(1006,"Server lost session")};be.prototype._close=function(e,t,r){Ar("_close",this.transport,e,t,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===be.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=be.CLOSING,setTimeout((function(){this.readyState=be.CLOSED,n&&this.dispatchEvent(new yh("error"));var s=new N_;s.wasClean=r||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};be.prototype.countRTO=function(e){return e>100?4*e:300+e};var k_=function(e){return Pw=y_(e),m_()(be,e),be},C_=LT,E_=k_(C_);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const T_=Td(E_);function __({roomId:e,userId:t,onChatMessage:r,onParticipantsUpdate:n,onVideoSync:s,onRoomSync:i,onError:a}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),m=d.useRef(),[y,w]=d.useState(0),x=3,j=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const C=j();console.log("WebSocket   - :",C?"":""),C||console.warn("      ()"),h("connecting"),console.log("WebSocket  :",{url:"http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws",token:C?`${C.substring(0,10)}...`:"null"});const R=new u0({webSocketFactory:()=>new T_("http://mopl-alb-1621700412.ap-northeast-2.elb.amazonaws.com/ws"),connectHeaders:C?{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",C?{Authorization:`Bearer ${C.substring(0,10)}...`}:{token:"none"})},debug:S=>{console.log("STOMP Debug:",S)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),h("connected"),w(0),R.subscribe(`/topic/rooms/${e}/chat`,S=>{try{const k=JSON.parse(S.body);r==null||r(k)}catch(k){console.error("   :",k)}}),R.subscribe(`/topic/rooms/${e}/participants`,S=>{try{const k=JSON.parse(S.body);n==null||n(k),h("connected"),c(!0)}catch(k){console.error("   :",k)}}),R.subscribe(`/topic/rooms/${e}/video`,S=>{try{const k=JSON.parse(S.body);s==null||s(k)}catch(k){console.error("    :",k)}}),R.subscribe("/user/queue/sync",S=>{try{const k=JSON.parse(S.body);(!("participantsInfoDto"in k)||!k.participantsInfoDto)&&(k.participantsInfoDto={participantDtoList:[],participantsCount:0}),i==null||i(k),h("connected"),c(!0)}catch(k){console.error("    :",k)}}),R.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),h("disconnected")},onStompError:S=>{var k;console.error(" STOMP :",{message:S.headers.message,body:S.body,headers:S.headers}),(k=S.headers.message)!=null&&k.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),a==null||a("    .  .")):a==null||a(` : ${S.headers.message}`),h("error"),y<x&&(w(_=>_+1),m.current=setTimeout(()=>{g()},5e3*y))},onWebSocketError:S=>{console.error(" WebSocket :",S),h("error"),a==null||a("WebSocket   ."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=R,R.activate()},[e,t,r,n,s,i,a]),p=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),m.current&&clearTimeout(m.current),c(!1),h("disconnected"),w(0)},[e,t]),v=d.useCallback(C=>{var S;if(!((S=f.current)!=null&&S.connected)){a==null||a("WebSocket  .");return}const R={chatRoomId:e,content:C};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(R)})},[e,a]),b=d.useCallback(C=>{var R;if(!((R=f.current)!=null&&R.connected)){a==null||a("WebSocket  .");return}f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(C)})},[e,a]);return d.useEffect(()=>{const C=S=>{if(l)return S.preventDefault(),S.returnValue=" ?"," ?"},R=()=>{p()};return window.addEventListener("beforeunload",C),window.addEventListener("unload",R),()=>{window.removeEventListener("beforeunload",C),window.removeEventListener("unload",R)}},[l,p]),d.useEffect(()=>()=>{p()},[p]),{isConnected:l,connectionStatus:u,connect:g,disconnect:p,sendChatMessage:v,sendVideoControl:b,reconnectAttempts:y}}var Cd=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Cd||{});class R_{constructor(){ze(this,"baseUrl","/api/rooms")}async authenticatedFetch(t,r={}){const n=localStorage.getItem("accessToken");if(!n)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...r.headers||{}},i=await fetch(t,{...r,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getWatchRooms(t){try{const r=new URLSearchParams;t!=null&&t.query&&r.append("query",t.query),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.offset&&r.append("offset",t.offset.toString());const n=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,s=await this.authenticatedFetch(n);if(!s.ok)throw new Error(`   . Status: ${s.status}`);const i=await s.json();return t!=null&&t.sortBy?this.sortWatchRooms(i,t.sortBy):i}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const r=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async getWatchRoom(t){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async joinWatchRoom(t){try{return{room:await this.getWatchRoom(t),participants:[],videoStatus:{videoControlAction:"PAUSE",currentTime:0,isPlaying:!1,timestamp:Date.now()},chatMessages:[]}}catch(r){throw console.error("  :",r),r}}async searchWatchRooms(t,r="participants"){return this.getWatchRooms({query:t,sortBy:r})}sortWatchRooms(t,r){return[...t].sort((n,s)=>{switch(r){case"participants":return s.headCount-n.headCount;case"latest":return s.headCount-n.headCount;case"oldest":return n.headCount-s.headCount;default:return s.headCount-n.headCount}})}filterWatchRooms(t,r){if(!r.trim())return t;const n=r.toLowerCase();return t.filter(s=>s.contentTitle.toLowerCase().includes(n)||s.ownerName.toLowerCase().includes(n))}}const wh=new R_;function P_({roomId:e,onBack:t,userId:r,shouldConnect:n=!1,onUserProfileOpen:s}){var ee;const[i,a]=d.useState(!1),[l,c]=d.useState([80]),[u,h]=d.useState(!1),[f,m]=d.useState(!1),[y,w]=d.useState(!0),[x,j]=d.useState(!1),[g,p]=d.useState(""),[v,b]=d.useState(null),[C,R]=d.useState([]),[S,k]=d.useState([]),[_,P]=d.useState(!1),[z,N]=d.useState(!0),[T,O]=d.useState(null),V=d.useRef(null),E=d.useRef(),D=7200,[A,W]=d.useState(!1),[H,X]=d.useState(0),{isConnected:Z,connectionStatus:oe,connect:xe,disconnect:Ee,sendChatMessage:ke,sendVideoControl:re,reconnectAttempts:le}=__({roomId:e,userId:r,onChatMessage:I=>{k(Q=>[...Q,I])},onParticipantsUpdate:I=>{const Q=(I.participantDtoList??[]).map(J=>({userId:J.userId??J.username??"",userName:J.userName??J.username??"",userAvatar:J.userAvatar??J.profile??"",isHost:J.isHost??J.isOwner??!1,isOnline:J.isOnline??!0,joinedAt:J.joinedAt??""}));R(Q);const Y=Q.find(J=>J.userId===r);P((Y==null?void 0:Y.isHost)||!1),!Z&&typeof xe=="function"&&xe()},onVideoSync:I=>{Date.now()-I.timestamp<5e3&&!_&&(W(I.isPlaying),X(I.currentTime))},onRoomSync:I=>{I.room&&b(I.room);let Q=[];"participants"in I&&Array.isArray(I.participants)?Q=I.participants:"participantDtoList"in I&&Array.isArray(I.participantDtoList)&&(Q=I.participantDtoList);const Y=Q.map(de=>({userId:de.userId??de.username??"",userName:de.userName??de.username??"",userAvatar:de.userAvatar??de.profile??"",isHost:de.isHost??de.isOwner??!1,isOnline:de.isOnline??!0,joinedAt:de.joinedAt??""}));R(Y),I.videoStatus&&(W(I.videoStatus.isPlaying),X(I.videoStatus.currentTime)),k(I.chatMessages??[]);const J=Y.find(de=>de.userId===r);P((J==null?void 0:J.isHost)||!1),N(!1)},onError:I=>{O(I)}});d.useEffect(()=>{(async()=>{N(!0),O(null);try{const Q=await wh.joinWatchRoom(e);b(Q.room);const Y=Q.participants.find(J=>J.userId===r);P((Y==null?void 0:Y.isHost)||!1),W(Q.videoStatus.isPlaying),X(Q.videoStatus.currentTime),k(Q.chatMessages),n&&xe()}catch(Q){console.error("Failed to load room data:",Q),O(Q instanceof Error?Q.message:"     .")}finally{N(!1)}})()},[e,r]),d.useEffect(()=>()=>{Ee()},[Ee]),d.useEffect(()=>{var I;(I=V.current)==null||I.scrollIntoView({behavior:"smooth"})},[S]),d.useEffect(()=>{if(!A)return;const I=setInterval(()=>{X(Q=>Q+1)},1e3);return()=>clearInterval(I)},[A]),d.useEffect(()=>(u&&(E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{h(!1)},3e3)),()=>{E.current&&clearTimeout(E.current)}),[u,l]);const ye=()=>{if(!_)return;const I=!A;W(I),re({videoControlAction:I?Cd.PLAY:Cd.PAUSE,currentTime:H,isPlaying:I})},F=()=>{u?a(!i):h(!0)},M=I=>{c(I),a(I[0]===0),console.log(`Volume changed to: ${I[0]}%`)},ne=()=>i||l[0]===0?o.jsx(Yj,{className:"w-5 h-5"}):l[0]<50?o.jsx(qj,{className:"w-5 h-5"}):o.jsx(Qj,{className:"w-5 h-5"}),$e=()=>{m(!f),w(!!f)},Ve=()=>{!g.trim()||!Z||(ke(g),console.log("Sending message:",g),p(""))},Qe=I=>{const Q=Math.floor(I/3600),Y=Math.floor(I%3600/60),J=I%60;return Q>0?`${Q}:${Y.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`:`${Y}:${J.toString().padStart(2,"0")}`},L=I=>new Date(I).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),G=H/D*100;return z?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(fr,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!n&&!Z?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:(v==null?void 0:v.contentTitle)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nt,{className:"w-4 h-4"}),o.jsxs("span",{children:[(v==null?void 0:v.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Fs,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs($,{onClick:xe,className:"teal-gradient hover:opacity-80 text-black",children:[oe==="connecting"?o.jsx(fr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(nt,{className:"w-4 h-4 mr-2"})," "]})]})]})}):T?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:T}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx($,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx($,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):v?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!f&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs($,{variant:"ghost",onClick:t,className:"hover:bg-white/10",children:[o.jsx(io,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:v.contentTitle}),_&&o.jsxs(qe,{variant:"secondary",className:"text-xs",children:[o.jsx(na,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsxs("span",{children:[": ",v.contentTitle]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(nt,{className:"w-4 h-4"}),o.jsxs("span",{children:[C.filter(I=>I.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[Z?o.jsx(Zj,{className:"w-4 h-4 text-green-400"}):o.jsx(Jj,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:Z?"text-green-400":"text-yellow-400",children:Z?"":oe==="connecting"?" ":" "}),le>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",le,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs($,{variant:"ghost",onClick:()=>w(!y),className:"hover:bg-white/10",children:[o.jsx(Fs,{className:"w-5 h-5"}),y?o.jsx(Ko,{className:"w-4 h-4 ml-1"}):o.jsx(ox,{className:"w-4 h-4 ml-1"})]})})]}),!Z&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:oe==="connecting"?"   ...":oe==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((ee=v==null?void 0:v.contentTitle)==null?void 0:ee.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center group",children:[o.jsx($,{size:"lg",onClick:ye,disabled:!_,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${_?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,children:A?o.jsx(Im,{className:"w-10 h-10 fill-current"}):o.jsx(Wt,{className:"w-10 h-10 fill-current ml-1"})}),!_&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(na,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"w-full bg-white/20 rounded-full h-1 mb-2",children:o.jsx("div",{className:"bg-[#4ecdc4] h-1 rounded-full transition-all duration-300",style:{width:`${G}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:Qe(H)}),o.jsx("span",{children:Qe(D)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:ye,className:"hover:bg-white/10",children:A?o.jsx(Im,{className:"w-5 h-5"}):o.jsx(Wt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx($,{variant:"ghost",size:"sm",onClick:F,className:"hover:bg-white/10",children:ne()}),u&&o.jsxs("div",{className:"absolute left-12 bottom-0 flex items-center rounded-lg px-3 py-2",children:[o.jsx(n4,{value:l,onValueChange:M,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[l[0],"%"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($,{variant:"ghost",size:"sm",className:"hover:bg-white/10",children:o.jsx(Uj,{className:"w-5 h-5"})}),f&&o.jsx($,{variant:"ghost",size:"sm",onClick:()=>w(!y),className:"hover:bg-white/10",children:o.jsx(Fs,{className:"w-5 h-5"})}),o.jsx($,{variant:"ghost",size:"sm",onClick:$e,className:"hover:bg-white/10",children:f?o.jsx(Bj,{className:"w-5 h-5"}):o.jsx(Fj,{className:"w-5 h-5"})})]})]})]}),f&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${y?"w-80":"w-0 overflow-hidden"}`,children:y&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>j(!x),className:"p-1 hover:bg-white/10",children:o.jsx(nt,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[C.filter(I=>I.isOnline).length,"  "]})]}),x&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${C.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:C.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):C.map(I=>{var Q;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{I.userId!==r&&s&&s(I.userId)},children:[o.jsx(Le,{src:I.userAvatar}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-xs",children:((Q=I.userName)==null?void 0:Q.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${I.userId!==r?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{I.userId!==r&&s&&s(I.userId)},children:I.userName}),I.isHost&&o.jsxs(qe,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(na,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${I.isOnline?"bg-green-400":"bg-gray-400"}`})]},I.userId+I.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[z&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),S.map(I=>{var Q,Y;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Me,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(Le,{src:(Q=C.find(J=>J.userId===I.senderId))==null?void 0:Q.userAvatar}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-xs",children:I.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:I.senderName}),((Y=C.find(J=>J.userId===I.senderId))==null?void 0:Y.isHost)&&o.jsx(na,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:L(I.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:I.content})]})]})},I.id)}),o.jsx("div",{ref:V})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(We,{placeholder:Z?" ...":"  ...",value:g,onChange:I=>p(I.target.value),onKeyPress:I=>I.key==="Enter"&&Ve(),disabled:!Z,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx($,{onClick:Ve,disabled:!g.trim()||!Z,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]})})]})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function A_({onJoinRoom:e,onCreateRoom:t,onUserProfileOpen:r}){const[n,s]=d.useState(""),[i,a]=d.useState("participants"),[l,c]=d.useState([]),[u,h]=d.useState(!0),[f,m]=d.useState(null),[y,w]=d.useState(!1),[x,j]=d.useState(null),g=async(S=!0)=>{try{S?h(!0):w(!0),m(null);const k=await wh.getWatchRooms({query:n,sortBy:i});c(k)}catch(k){console.error("   :",k),m(k instanceof Error?k.message:"     .")}finally{h(!1),w(!1)}};d.useEffect(()=>{const S=setTimeout(()=>{g(!1)},300);return()=>clearTimeout(S)},[n,i]),d.useEffect(()=>{g(!0)},[]);const p=S=>{switch(S){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}},v=S=>{switch(S){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}},b=l.filter(S=>S.headCount>=10),C=l,R=async S=>{if(!x){j(S.id);try{await(e==null?void 0:e(S))}finally{j(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs($,{onClick:()=>g(!1),disabled:y,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[y?o.jsx(fr,{className:"w-4 h-4 animate-spin"}):o.jsx(fi,{className:"w-4 h-4"}),""]}),o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(zt,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(as,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(We,{placeholder:" , ,  ...",value:n,onChange:S=>s(S.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Jf,{value:i,onValueChange:S=>a(S),children:[o.jsx(eh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Zf,{placeholder:""})}),o.jsxs(th,{children:[o.jsx(Er,{value:"participants",children:"  "}),o.jsx(Er,{value:"latest",children:""}),o.jsx(Er,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",C.length,"  "]}),o.jsxs(qe,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(nt,{className:"w-3 h-3 mr-1"}),""]})]})]}),f&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:f}),o.jsx($,{onClick:()=>g(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(fr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!u&&!f&&o.jsxs(o.Fragment,{children:[!n&&b.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(Tf,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(S=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-[#4ecdc4]/30 hover:border-[#4ecdc4]/50 transition-all duration-300 group relative",children:[o.jsx("div",{className:"absolute top-3 left-3 z-10",children:o.jsxs(qe,{className:"bg-[#4ecdc4] text-black",children:[o.jsx(_n,{className:"w-3 h-3 mr-1"}),""]})}),o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:S.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{onClick:()=>R(S),className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===S.id?o.jsx(fr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(nt,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/70 backdrop-blur-sm rounded-lg px-2 py-1 flex items-center gap-1",children:[o.jsx(Qs,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:S.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(qe,{variant:"outline",className:v("movie"),children:p("movie")}),o.jsx("span",{className:"text-xs text-white/60",children:" "})]}),o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:S.contentTitle}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:S.contentTitle}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{className:"w-6 h-6 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>r==null?void 0:r(S.ownerId),children:[o.jsx(Le,{src:""}),o.jsx(De,{children:S.ownerName[0]})]}),o.jsx("span",{className:"text-sm text-white/80 cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:()=>r==null?void 0:r(S.ownerId),children:S.ownerName})]})]})]},S.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map(S=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:"/api/placeholder/400/225",alt:S.contentTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{size:"sm",onClick:()=>R(S),className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===S.id?o.jsx(fr,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(nt,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(Qs,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:S.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(qe,{variant:"outline",className:v("movie"),children:p("movie")}),S.headCount>=10&&o.jsx(qe,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:""})]}),o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:S.contentTitle}),o.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-1",children:S.contentTitle}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{className:"w-5 h-5 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>r==null?void 0:r(S.ownerId),children:[o.jsx(Le,{src:""}),o.jsx(De,{children:S.ownerName[0]})]}),o.jsx("span",{className:"text-xs text-white/80 truncate cursor-pointer hover:text-[#4ecdc4] transition-colors",onClick:()=>r==null?void 0:r(S.ownerId),children:S.ownerName})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60",children:[o.jsx(fi,{className:"w-3 h-3"})," "]})]})]})]},S.id))})]}),C.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(nt,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:n?"  .":"   ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[n&&o.jsx($,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"  "}),o.jsxs($,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(zt,{className:"w-4 h-4 mr-2"}),"  "]})]})]})]})]})})}var rc="Switch",[I_,pR]=Lr(rc),[O_,M_]=I_(rc),Iw=d.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,y]=d.useState(null),w=ge(t,v=>y(v)),x=d.useRef(!1),j=m?h||!!m.closest("form"):!0,[g,p]=es({prop:s,defaultProp:i??!1,onChange:u,caller:rc});return o.jsxs(O_,{scope:r,checked:g,disabled:l,children:[o.jsx(ie.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":Dw(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:ae(e.onClick,v=>{p(b=>!b),j&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),j&&o.jsx(Lw,{control:m,bubbles:!x.current,name:n,value:c,checked:g,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Iw.displayName=rc;var Ow="SwitchThumb",Mw=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=M_(Ow,r);return o.jsx(ie.span,{"data-state":Dw(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Mw.displayName=Ow;var L_="SwitchBubbleInput",Lw=d.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=d.useRef(null),l=ge(a,i),c=Qf(r),u=Gf(t);return d.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&y){const w=new Event("click",{bubbles:n});y.call(h,r),h.dispatchEvent(w)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Lw.displayName=L_;function Dw(e){return e?"checked":"unchecked"}var D_=Iw,$_=Mw;function z_({className:e,...t}){return o.jsx(D_,{"data-slot":"switch",className:Se("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx($_,{"data-slot":"switch-thumb",className:Se("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Bp({isOpen:e,onClose:t,onCreateWatchParty:r,onWatchAlone:n,content:s}){const[i,a]=d.useState(!1),[l,c]=d.useState("");d.useEffect(()=>{s&&e&&c(`${s.title} `)},[s,e]);const u=()=>{const h={isPublic:i,roomName:l||`${s==null?void 0:s.title} `};r(h)};return s?o.jsx(Ll,{open:e,onOpenChange:t,children:o.jsxs(Dl,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx($l,{children:o.jsxs(zl,{className:"flex items-center space-x-2",children:[o.jsx(nt,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:"  "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover",onError:h=>{const f=h.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:s.title}),o.jsx("p",{className:"text-sm text-white/60",children:s.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:s.description})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx($,{onClick:n,variant:"outline",className:"w-full justify-start border-white/20 hover:bg-white/5 h-auto p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(Wt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"  "})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(nt,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(We,{id:"roomName",value:l,onChange:h=>c(h.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[i?o.jsx(il,{className:"w-4 h-4 text-green-400"}):o.jsx(al,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Tt,{htmlFor:"isPublic",className:"text-sm",children:i?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:i?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(z_,{id:"isPublic",checked:i,onCheckedChange:a})})]})}),o.jsxs($,{onClick:u,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!l.trim(),children:[o.jsx(nt,{className:"w-4 h-4 mr-2"})," "]})]})]})]})]})]})}):null}function Wp({isOpen:e,onClose:t,content:r,getPlaylists:n,createPlaylist:s,addPlaylistContents:i}){const[a,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[w,x]=d.useState(""),[j,g]=d.useState(!0),[p,v]=d.useState([]),[b,C]=d.useState(!1);d.useEffect(()=>{e&&R()},[e]);const R=async()=>{try{C(!0);const T=await n();v(T)}catch(T){console.error("Error loading playlists:",T)}finally{C(!1)}},S=p.filter(T=>T.title.toLowerCase().includes(a.toLowerCase())||T.description.toLowerCase().includes(a.toLowerCase())),k=T=>{u(O=>O.includes(T)?O.filter(V=>V!==T):[...O,T])},_=async()=>{if(r)try{const T=c.map(O=>i(O,[r.id]));await Promise.all(T),alert(`"${r.title}"() ${c.length}  .`),u([]),l(""),t()}catch(T){console.error("   :",T),alert("     .")}},P=async()=>{if(!(!m.trim()||!r))try{const T=await s({name:m,description:w,isPublic:j});await i(T.id,[r.id]),alert(`  "${m}"()  "${r.title}"() .`),y(""),x(""),g(!0),f(!1),t()}catch(T){console.error("Error creating playlist:",T),alert("    .")}},z=()=>{u([]),l(""),f(!1),y(""),x(""),g(!0)},N=()=>{z(),t()};return r?o.jsx(Ll,{open:e,onOpenChange:N,children:o.jsxs(Dl,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx($l,{children:o.jsx(zl,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(Me,{className:"h-12 w-12 rounded-lg",children:[o.jsx(Le,{src:r.thumbnail,className:"object-cover"}),o.jsx(De,{children:r.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:r.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[r.type==="movie"?"":r.type==="tv"?"TV":"","  ",r.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(We,{placeholder:" ",value:m,onChange:T=>y(T.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(We,{placeholder:" ()",value:w,onChange:T=>x(T.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[j?o.jsx(il,{className:"w-4 h-4 text-green-400"}):o.jsx(al,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:j?"":""})]}),o.jsx($,{variant:"ghost",size:"sm",onClick:()=>g(!j),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx($,{onClick:P,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(We,{placeholder:" ...",value:a,onChange:T=>l(T.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs($,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(zt,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:b?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):S.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:a?"  ":" "}):S.map(T=>o.jsxs("div",{onClick:()=>k(T.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(T.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(Me,{className:"h-10 w-10 rounded-lg",children:[o.jsx(Le,{src:T.thumbnail,className:"object-cover"}),o.jsx(De,{children:T.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:T.title}),T.isPublic?o.jsx(il,{className:"w-3 h-3 text-green-400"}):o.jsx(al,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[T.contentCount," "]})]}),c.includes(T.id)&&o.jsx(zs,{className:"w-5 h-5 text-[#4ecdc4]"})]},T.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx($,{variant:"outline",onClick:N,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs($,{onClick:_,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function Up({isOpen:e,onClose:t,onCreateRoom:r,userId:n}){const[s,i]=d.useState(""),[a,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState("select"),[m,y]=d.useState(!1),[w,x]=d.useState(null),[j,g]=d.useState([]),[p,v]=d.useState(!1),[b,C]=d.useState(!1),[R,S]=d.useState(),[k,_]=d.useState(!1),P=async(E=!1)=>{try{E?_(!0):v(!0),x(null);const D=await As.getContents({type:a==="all"?void 0:a.toUpperCase(),query:s||void 0,cursor:E?R:void 0,size:20});g(E?A=>[...A,...D.data]:D.data),C(D.hasNext),S(D.nextCursor)}catch(D){console.error("  :",D),x(D instanceof Error?D.message:"    .")}finally{v(!1),_(!1)}};d.useEffect(()=>{e&&P(!1)},[e]),d.useEffect(()=>{if(!e)return;const E=setTimeout(()=>{P(!1)},300);return()=>clearTimeout(E)},[s,a,e]);const z=()=>{b&&!p&&!k&&P(!0)},N=E=>{u(E),f("create"),x(null)},T=async()=>{if(c){y(!0),x(null);try{const E={contentId:c.id,ownerId:n},D=await wh.createWatchRoom(E);r(D),O()}catch(E){console.error("  :",E),x(E instanceof Error?E.message:"    .")}finally{y(!1)}}},O=()=>{i(""),l("all"),u(null),f("select"),y(!1),x(null),g([]),v(!1),C(!1),S(void 0),_(!1),t()},V=E=>{switch(E){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:h,selectedContent:c,loading:p}),o.jsx(Ll,{open:e,onOpenChange:O,children:o.jsxs(Dl,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx($l,{children:o.jsx(zl,{className:"text-xl",children:h==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),h==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(as,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(We,{placeholder:" ...",value:s,onChange:E=>i(E.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(Jf,{value:a,onValueChange:l,children:[o.jsx(eh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Zf,{placeholder:""})}),o.jsxs(th,{children:[o.jsx(Er,{value:"all",children:""}),o.jsx(Er,{value:"movie",children:""}),o.jsx(Er,{value:"tv",children:"TV/"}),o.jsx(Er,{value:"sports",children:""})]})]})]}),p&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(fr,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),w&&!p&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:w}),o.jsx($,{onClick:()=>P(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!p&&!w&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[j.map(E=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>N(E),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:E.thumbnail,alt:E.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:D=>{const A=D.target;A.style.display="none";const W=A.parentElement;if(W&&!W.querySelector(".image-fallback")){const H=document.createElement("div");H.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",H.textContent=E.title.charAt(0).toUpperCase(),W.appendChild(H)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs($,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:m,children:[o.jsx(Wt,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:E.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:E.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[E.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_n,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs",children:E.rating})]}),o.jsx(qe,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:V(E.contentType)})]})]})]},E.id)),b&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx($,{onClick:z,disabled:k||m,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:k?o.jsxs(o.Fragment,{children:[o.jsx(fr,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!p&&!w&&j.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx($,{variant:"outline",onClick:()=>{i(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-full object-cover",onError:E=>{const D=E.target;D.style.display="none";const A=D.parentElement;if(A&&!A.querySelector(".image-fallback")){const W=document.createElement("div");W.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",W.textContent=c.title.charAt(0).toUpperCase(),A.appendChild(W)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[c.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_n,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:c.rating})]}),o.jsx(qe,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:V(c.contentType)})]})]})]}),w&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx($,{variant:"outline",onClick:()=>{f("select"),u(null),x(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:m,children:""}),o.jsx($,{onClick:T,disabled:!c||m,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:m?o.jsxs(o.Fragment,{children:[o.jsx(fr,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var eu="rovingFocusGroup.onEntryFocus",F_={bubbles:!1,cancelable:!0},$i="RovingFocusGroup",[Ed,$w,B_]=zf($i),[W_,zw]=Lr($i,[B_]),[U_,H_]=W_($i),Fw=d.forwardRef((e,t)=>o.jsx(Ed.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ed.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(V_,{...e,ref:t})})}));Fw.displayName=$i;var V_=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),y=ge(t,m),w=ki(i),[x,j]=es({prop:a,defaultProp:l??null,onChange:c,caller:$i}),[g,p]=d.useState(!1),v=vt(u),b=$w(r),C=d.useRef(!1),[R,S]=d.useState(0);return d.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(eu,v),()=>k.removeEventListener(eu,v)},[v]),o.jsx(U_,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(k=>j(k),[j]),onItemShiftTab:d.useCallback(()=>p(!0),[]),onFocusableItemAdd:d.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>S(k=>k-1),[]),children:o.jsx(ie.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{C.current=!0}),onFocus:ae(e.onFocus,k=>{const _=!C.current;if(k.target===k.currentTarget&&_&&!g){const P=new CustomEvent(eu,F_);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const z=b().filter(E=>E.focusable),N=z.find(E=>E.active),T=z.find(E=>E.id===x),V=[N,T,...z].filter(Boolean).map(E=>E.ref.current);Uw(V,h)}}C.current=!1}),onBlur:ae(e.onBlur,()=>p(!1))})})}),Bw="RovingFocusGroupItem",Ww=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=kn(),u=i||c,h=H_(Bw,r),f=h.currentTabStopId===u,m=$w(r),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=h;return d.useEffect(()=>{if(n)return y(),()=>w()},[n,y,w]),o.jsx(Ed.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(ie.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ae(e.onMouseDown,j=>{n?h.onItemFocus(u):j.preventDefault()}),onFocus:ae(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:ae(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){h.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const g=X_(j,h.orientation,h.dir);if(g!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let v=m().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const b=v.indexOf(j.currentTarget);v=h.loop?q_(v,b+1):v.slice(b+1)}setTimeout(()=>Uw(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});Ww.displayName=Bw;var K_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G_(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function X_(e,t,r){const n=G_(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return K_[n]}function Uw(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function q_(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Q_=Fw,Y_=Ww,nc="Tabs",[J_,gR]=Lr(nc,[zw]),Hw=zw(),[Z_,bh]=J_(nc),Vw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=ki(l),[f,m]=es({prop:n,onChange:s,defaultProp:i??"",caller:nc});return o.jsx(Z_,{scope:r,baseId:kn(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(ie.div,{dir:h,"data-orientation":a,...u,ref:t})})});Vw.displayName=nc;var Kw="TabsList",Gw=d.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=bh(Kw,r),a=Hw(r);return o.jsx(Q_,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(ie.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Gw.displayName=Kw;var Xw="TabsTrigger",qw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=bh(Xw,r),l=Hw(r),c=Jw(a.baseId,n),u=Zw(a.baseId,n),h=n===a.value;return o.jsx(Y_,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(ie.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ae(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:ae(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:ae(e.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(n)})})})});qw.displayName=Xw;var Qw="TabsContent",Yw=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=bh(Qw,r),c=Jw(l.baseId,n),u=Zw(l.baseId,n),h=n===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(nn,{present:s||h,children:({present:m})=>o.jsx(ie.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});Yw.displayName=Qw;function Jw(e,t){return`${e}-trigger-${t}`}function Zw(e,t){return`${e}-content-${t}`}var eR=Vw,tR=Gw,rR=qw,nR=Yw;function sR({className:e,...t}){return o.jsx(eR,{"data-slot":"tabs",className:Se("flex flex-col gap-2",e),...t})}function oR({className:e,...t}){return o.jsx(tR,{"data-slot":"tabs-list",className:Se("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function tu({className:e,...t}){return o.jsx(rR,{"data-slot":"tabs-trigger",className:Se("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function ru({className:e,...t}){return o.jsx(nR,{"data-slot":"tabs-content",className:Se("flex-1 outline-none",e),...t})}function iR({userId:e,currentUserId:t,onBack:r,authenticatedFetch:n,onUserProfileOpen:s,getPlaylists:i}){const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState([]),[m,y]=d.useState([]),[w,x]=d.useState(!1),[j,g]=d.useState(!0),[p,v]=d.useState(null),[b,C]=d.useState(!1),R=e===t,S=async()=>{try{const T=await n(`/api/users/${e}`);if(!T.ok)throw new Error("   .");const O=await T.json();l(O)}catch(T){console.error("   :",T),v("    .")}},k=async()=>{try{const T=await n(`/api/follows/${e}/followers`);if(!T.ok)throw new Error("   .");const O=await T.json();u(O)}catch(T){console.error("   :",T)}},_=async()=>{try{const T=await n(`/api/follows/${e}/following`);if(!T.ok)throw new Error("   .");const O=await T.json();f(O)}catch(T){console.error("   :",T)}},P=async()=>{try{if(i){const T=await n(`/api/users/${e}/playlists`);if(!T.ok)throw new Error("  .");const O=await T.json();y(O)}else y([])}catch(T){console.error("  :",T),y([])}},z=async()=>{if(!(!t||R))try{const T=await n(`/api/follows/${t}/is-following/${e}`);if(!T.ok)throw new Error("   .");const O=await T.json();x(O)}catch(T){console.error("   :",T)}},N=async()=>{if(!(!t||R)){C(!0);try{if(w){if(!(await n("/api/follows/unfollow",{method:"DELETE",body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error(" .");x(!1),u(O=>O.filter(V=>V.id!==t))}else{if(!(await n("/api/follows/follow",{method:"POST",body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error(" .");x(!0),a&&u(O=>[...O,{id:t,name:"",email:"",profileImage:""}])}}catch(T){console.error("  :",T),alert(T instanceof Error?T.message:"    .")}finally{C(!1)}}};return d.useEffect(()=>{e&&(async()=>{g(!0),v(null),await Promise.all([S(),k(),_(),z(),P()]),g(!1)})()},[e,t]),j?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):p?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:p}),o.jsx($,{onClick:r,variant:"outline",children:""})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs($,{variant:"ghost",size:"sm",onClick:r,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(io,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(Me,{className:"h-32 w-32",children:[o.jsx(Le,{src:a.profileImage}),o.jsx(De,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:c.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:h.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:m.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!R&&o.jsx($,{onClick:N,disabled:b,className:`${w?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:b?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):w?o.jsxs(o.Fragment,{children:[o.jsx(ax,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(_f,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(sR,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(oR,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(tu,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Om,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(tu,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(nt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(tu,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(Tn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(ru,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(T=>{var O;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:T.name||T.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:T.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((O=T.contents)==null?void 0:O.length)||T.itemCount||0," "]})]})]},T.id)})}),m.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Om,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(ru,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(T=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{T.id&&s&&s(T.id)},children:[o.jsxs(Me,{className:"h-12 w-12",children:[o.jsx(Le,{src:T.profileImage}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:T.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:T.name}),o.jsx("p",{className:"text-white/60 text-sm",children:T.email})]})]},T.id))}),c.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(nt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(ru,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(T=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{T.id&&s&&s(T.id)},children:[o.jsxs(Me,{className:"h-12 w-12",children:[o.jsx(Le,{src:T.profileImage}),o.jsx(De,{className:"bg-[#4ecdc4] text-black",children:T.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:T.name}),o.jsx("p",{className:"text-white/60 text-sm",children:T.email})]})]},T.id))}),h.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Tn,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx($,{onClick:r,variant:"outline",children:""})]})})}function aR(){const[e,t]=d.useState(()=>{const B=localStorage.getItem("currentPage")||"home";return console.log("   :",B),B}),[r,n]=d.useState(!1),[s,i]=d.useState(null),a=B=>{try{if(!B||typeof B!="string")return console.error("  :",B),null;const K=B.split(".");if(K.length!==3)return console.error(" JWT :",B),null;const q=JSON.parse(atob(K[1])),ce=q.userId||q.sub||q.id||null;return ce||console.error("  ID   :",q),ce}catch(K){return console.error("JWT   :",K,"Token:",B),null}},l=B=>{try{const K=JSON.parse(atob(B.split(".")[1])),q=Date.now()/1e3;return K.exp<q}catch(K){return console.error("   :",K),!0}},c=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),n(!1),t("home")},u=d.useRef(null),h=async()=>u.current?(console.log("    .   ."),u.current):(u.current=(async()=>{try{console.log("  ");const B=await fetch("/api/auth/refresh",{method:"POST",credentials:"include"});if(!B.ok)return console.log(`  : ${B.status} ${B.statusText}`),B.status===401?console.log("Refresh token ."):B.status===500&&console.log("    "),null;const K=await B.text();if(!K||K.trim()==="")return console.log("    "),null;const q=K.replace(/"/g,"");return console.log("  "),q}catch(B){return console.error("Token refresh :",B),null}finally{u.current=null}})(),u.current),f=async(B,K={})=>{let q=localStorage.getItem("accessToken");const ce=q?a(q):null;if(console.log("authenticatedFetch :",{url:B,accessToken:q?" ":" ",userIdFromToken:ce,currentUserId:s}),!q)throw console.error("  .  ."),c(),new Error("  .");if(l(q)){const Gt=await h();if(Gt){localStorage.setItem("accessToken",Gt),q=Gt;const vo=a(Gt);vo&&i(vo)}else throw c(),new Error(" .  .")}const It={"Content-Type":"application/json",...["/api/auth/login","/api/auth/refresh","/api/auth/change-password","/api/auth/temp-password","/api/users"].some(Gt=>B.startsWith(Gt))?{}:{Authorization:`Bearer ${q}`},...K.headers||{}},lt=await fetch(B,{...K,headers:It});if(lt.status===401){console.log("401  ,   ");const Gt=await h();if(Gt){localStorage.setItem("accessToken",Gt),q=Gt;const vo=a(Gt);vo&&i(vo),console.log("  ,  ");const eb={...It,Authorization:`Bearer ${Gt}`};return fetch(B,{...K,headers:eb})}else throw console.log("  ,  "),c(),new Error(" .  .")}if(lt.status===403)throw console.log(" ."),new Error("    .");if(lt.status===404)throw new Error("    .");return lt},m=async B=>{try{await f(`/api/notifications/${B}`,{method:"DELETE"})}catch(K){throw console.error("  :",K),K}},y=async()=>{try{await f("/api/notifications",{method:"DELETE"})}catch(B){throw console.error("   :",B),B}},w=async()=>{try{const B=await f("/api/dmRooms/");if(!B.ok)throw new Error("DM    ");return await B.json()}catch(B){throw console.error("DM    :",B),B}},x=async B=>{try{const K=await f(`/api/dmRooms/userRoom?userB=${B}`);if(!K.ok)throw new Error("DM  / ");return await K.text()}catch(K){throw console.error("DM  / :",K),K}},j=async(B,K)=>{try{const q=new URLSearchParams;K!=null&&K.cursor&&q.append("cursor",K.cursor),K!=null&&K.size&&q.append("size",K.size.toString());const ce=await f(`/api/dm/${B}?${q}`);if(!ce.ok)throw new Error("DM    ");return await ce.json()}catch(q){throw console.error("DM    :",q),q}},g=async B=>{try{const K=B&&B.trim()!==""?B.trim():"",q=new URLSearchParams;q.append("keyword",K);const ce=`/api/playlists/search?${q}`;console.log(" API :",ce);const me=await f(ce);if(console.log("  :",me.status,me.statusText),!me.ok){let It="   ";try{const lt=await me.text();console.error("  :",lt),It=`${me.status} ${me.statusText}: ${lt}`}catch(lt){console.error("   :",lt)}throw new Error(It)}const Pe=await me.json();return console.log("  :",{url:ce,status:me.status,dataType:Array.isArray(Pe)?` (: ${Pe.length})`:typeof Pe,data:Array.isArray(Pe)&&Pe.length>0?Pe.slice(0,2):Pe,headers:Object.fromEntries(me.headers.entries())}),Pe}catch(K){throw console.error("    :",K),K}},p=async B=>{try{const K=`/api/playlists/${B}`;console.log("   API :",K);const q=await f(K);if(console.log("  :",q.status,q.statusText),!q.ok){let me="  ";try{const Pe=await q.text();console.error("  :",Pe),me=`${q.status} ${q.statusText}: ${Pe}`}catch(Pe){console.error("   :",Pe)}throw new Error(me)}const ce=await q.json();return console.log("   :",{url:K,status:q.status,data:ce}),ce}catch(K){throw console.error("   :",K),K}},v=async B=>{var K,q;try{if(!B.name||B.name.trim()==="")throw new Error("  .");if(!s)throw new Error(" .");const ce={name:B.name.trim(),description:B.description||"",isPublic:B.isPublic??!0};console.log("   :",ce);const me=await f("/api/playlists",{method:"POST",body:JSON.stringify(ce)});if(console.log("    :",me.status,me.statusText),!me.ok){let It="  ";try{const lt=await me.json();console.error("   :",lt),It=lt.message||It}catch(lt){console.error("Error parsing error response:",lt)}throw new Error(It)}const Pe=await me.json();return console.log("   :",{createdPlaylist:Pe,createdBy:(K=Pe.user)==null?void 0:K.id,createdByName:(q=Pe.user)==null?void 0:q.name,currentUserId:s}),Pe}catch(ce){throw console.error("  :",ce),ce}},b=async(B,K)=>{try{if(!K||K.length===0)throw new Error("  .");const q={contentIds:K},ce=await f(`/api/playlists/${B}/contents`,{method:"POST",body:JSON.stringify(q)});if(!ce.ok){let It="   ";try{It=(await ce.json()).message||It}catch(lt){console.error("Error parsing error response:",lt)}throw new Error(It)}let me=null;const Pe=await ce.text();return Pe&&(me=JSON.parse(Pe)),console.log("   :",me),me}catch(q){throw console.error("   :",q),q}},C=async(B,K)=>{try{if(!K||K.length===0)throw new Error("  .");const q={contentIds:K},ce=await f(`/api/playlists/${B}/contents`,{method:"DELETE",body:JSON.stringify(q)});if(!ce.ok){let me="   ";try{me=(await ce.json()).message||me}catch(Pe){console.error("Error parsing error response:",Pe)}throw new Error(me)}console.log("   ")}catch(q){throw console.error("   :",q),q}},R=async B=>{try{if(!s)throw new Error(" ");console.log("   :",{userId:s,playlistId:B});const K={userId:s,playlistId:B};console.log("   :",K);const q=await f("/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(console.log("   :",q.status,q.statusText),!q.ok){let ce="  ";try{ce=(await q.json()).message||ce}catch(me){console.error("Error parsing error response:",me)}throw new Error(ce)}console.log("  ")}catch(K){throw console.error("  :",K),K}},S=async B=>{try{console.log("    :",{subscriptionId:B});const K=await f(`/api/subscriptions/${B}`,{method:"DELETE"});if(console.log("    :",K.status,K.statusText),!K.ok){let q="   ";try{q=(await K.json()).message||q}catch(ce){console.error("Error parsing error response:",ce)}throw new Error(q)}console.log("   ")}catch(K){throw console.error("   :",K),K}},[k,_]=d.useState(null),[P,z]=d.useState(null),[N,T]=d.useState(null),[O,V]=d.useState(!1),[E,D]=d.useState(!1),[A,W]=d.useState(null),[H,X]=d.useState(!1),[Z,oe]=d.useState(!1),[xe,Ee]=d.useState(null),[ke,re]=d.useState(!1),[le,ye]=d.useState(null),[F,M]=d.useState(!1),[ne,$e]=d.useState(null),[Ve,Qe]=d.useState(!1),[L,G]=d.useState(null),[ee,I]=d.useState(!1),Q=()=>{const B=new URL(window.location.href),K=B.pathname;if(K==="/oauth/success"){const q=B.searchParams.get("access_token");q?(Y(q),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}if(K==="/oauth/error"){const q=B.searchParams.get("message");if(q){const ce=decodeURIComponent(q);ce.includes("jwt_sessions_user_id_key")?alert(`  .

   .`):ce.includes("users_name_key")?alert(`     .

     .`):ce.includes("duplicate key value violates unique constraint")?alert(`   .

 .`):alert(ce)}else alert("OAuth       .");window.history.replaceState({},document.title,"/")}};d.useEffect(()=>{(async()=>{Q();const K=localStorage.getItem("accessToken");if(K){if(l(K)){console.log("  ,      "),c();return}const q=a(K);q?(i(q),n(!0)):(console.log("  ID  "),localStorage.removeItem("accessToken"),c())}})()},[]),d.useEffect(()=>{if(!r)return;const K=setInterval(async()=>{const q=localStorage.getItem("accessToken");if(q&&l(q)){console.log("  ,  ");const ce=await h();if(ce){localStorage.setItem("accessToken",ce);const me=a(ce);me&&i(me),console.log("  ")}else console.log("  ,  "),c()}},3e4);return()=>clearInterval(K)},[r]);const Y=B=>{localStorage.setItem("accessToken",B);const K=a(B);K?i(K):(localStorage.removeItem("accessToken"),n(!1)),n(!0)},J=B=>{if(console.log("  :",B),B==="create-room"){Qe(!0);return}t(B),localStorage.setItem("currentPage",B),B!=="playlist-detail"&&_(null),B!=="watch-party"&&G(null),B!=="content-detail"&&z(null),B!=="user-profile"&&T(null)};d.useEffect(()=>{localStorage.setItem("currentPage",e)},[e]);const de=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),n(!1),t("home")},he=()=>{V(!O)},je=async()=>{const B=prompt("    :");if(!(B!=null&&B.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B.trim())){alert("   .");return}try{const q=await fetch("/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:B.trim()})});if(!q.ok){let ce="   .";try{ce=(await q.json()).message||ce}catch(me){console.error("Error parsing error response:",me)}throw new Error(ce)}alert(`${B}   .
       .`)}catch(q){console.error("   :",q),alert(q instanceof Error?q.message:"     .")}},ve=B=>{_(B),t("playlist-detail")},ue=()=>{_(null),t("playlist")},Te=B=>{z(B),t("content-detail")},nr=()=>{z(null),t(P&&{movie:"movies",tv:"tv",sports:"sports"}[P.type]||"home")},br=B=>{const K={...B,year:B.year||2024,rating:B.rating||4};$e(K),M(!0)},ft=()=>{M(!1),$e(null)},_e=B=>{ye(B),re(!0)},Ct=()=>{re(!1),console.log(`Starting solo viewing for: ${le==null?void 0:le.title}`),alert(`"${le==null?void 0:le.title}"  .`),ye(null)},Fr=B=>{if(!le)return;const K=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",B),console.log("Room code:",K),alert("Watch party creation not implemented yet"),re(!1),ye(null)},hs=B=>{G(B.id),I(!1),t("watch-party")},Vt=B=>{G(B.id),I(!0),Qe(!1),t("watch-party")},ms=()=>{G(null),I(!1),t("live")},it=()=>{Qe(!0)},ps=()=>{Qe(!1)},Br=()=>{W(null),D(!0)},sc=()=>{D(!1),W(null)},zi=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Wr=B=>{T(B),t("user-profile")},go=()=>{s&&Wr(s)},zn=()=>{T(null),t("home")},Ye=()=>{Z?(oe(!1),Ee(null),X(!0)):X(!H)},Ge=()=>{X(!1)},ht=()=>{X(!1),oe(!1),Ee(null)},wt=B=>{Ee(B),X(!1),oe(!0)},at=()=>{oe(!1),Ee(null)},et=()=>{oe(!1),Ee(null),X(!0)},sr=()=>{(H||Z)&&ht()};if(!r)return console.log("   :",{isLoggedIn:r,accessToken:localStorage.getItem("accessToken"),userId:s}),o.jsx("div",{children:o.jsx(gS,{onLogin:Y,onToggleAuth:he,onForgotPassword:je,isRegister:O})});const Kt=()=>{switch(console.log("  :",e),e){case"curation":return o.jsx(jS,{onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:br,userId:s||void 0});case"movies":return o.jsx(Uc,{category:"movies",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:br});case"tv":return o.jsx(Uc,{category:"tv",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:br});case"sports":return o.jsx(Uc,{category:"sports",onContentPlay:_e,onContentDetail:Te,onAddToPlaylist:br});case"playlist":return o.jsx(Vm,{onPlaylistOpen:ve,getPlaylists:g,createPlaylist:v,subscribePlaylist:R,unsubscribePlaylist:S,currentUserId:s||void 0,onUserProfileOpen:Wr});case"playlist-detail":return k?o.jsx(ek,{playlistId:k,onBack:ue,onContentPlay:_e,getPlaylistById:p,addPlaylistContents:b,deletePlaylistContents:C}):o.jsx(Vm,{onPlaylistOpen:ve,getPlaylists:g,createPlaylist:v});case"content-detail":return P?o.jsx(dE,{content:P,onBack:nr,onPlay:_e,currentUser:s?{id:s,name:"",avatar:void 0}:void 0}):o.jsx(oa,{onPageChange:J,onPlaylistOpen:ve,onContentPlay:_e});case"watch-party":return L&&s?o.jsx(P_,{roomId:L,userId:s,onBack:ms,shouldConnect:ee,onUserProfileOpen:Wr}):o.jsx(oa,{onPageChange:J,onPlaylistOpen:ve,onContentPlay:_e});case"user-profile":return N?o.jsx(iR,{userId:N,currentUserId:s,onBack:zn,authenticatedFetch:f,onUserProfileOpen:Wr,getPlaylists:g},N):o.jsx(oa,{onPageChange:J,onPlaylistOpen:ve,onContentPlay:_e});case"live":return o.jsx(A_,{onJoinRoom:hs,onCreateRoom:it,onUserProfileOpen:Wr});default:return o.jsx(oa,{onPageChange:J,onPlaylistOpen:ve,onContentPlay:_e})}};return e==="watch-party"||e==="content-detail"||e==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[Kt(),o.jsx(Bp,{isOpen:ke,onClose:()=>re(!1),onCreateWatchParty:Fr,onWatchAlone:Ct,content:le}),o.jsx(Wp,{isOpen:F,onClose:ft,content:ne,getPlaylists:g,createPlaylist:v,addPlaylistContents:b}),o.jsx(Up,{isOpen:Ve,onClose:ps,onCreateRoom:Vt,userId:s||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(aS,{currentPage:e,onPageChange:J,onProfileClick:Br,onMyProfileClick:go,onCloseDM:ht,onLogout:de,authenticatedFetch:f,userId:s,refreshUserProfile:zi,deleteNotification:m,deleteAllNotifications:y}),o.jsx("main",{className:"flex-1",onClick:sr,children:Kt()}),o.jsx(lS,{}),o.jsx(fE,{isOpen:E,onClose:sc,userId:s,targetUserId:A,authenticatedFetch:f,onUserProfileOpen:Wr,refreshUserProfile:zi,getPlaylists:g,onPlaylistOpen:ve}),o.jsx(mE,{isOpen:H,onClose:Ge,onOpenChat:wt,authenticatedFetch:f,currentUserId:s,getDmRooms:w,getOrCreateDmRoom:x}),o.jsx(DE,{isOpen:Z,onClose:at,onBack:et,user:xe,currentUserId:s,getDmMessages:j}),o.jsx(Bp,{isOpen:ke,onClose:()=>re(!1),onCreateWatchParty:Fr,onWatchAlone:Ct,content:le}),o.jsx(Wp,{isOpen:F,onClose:ft,content:ne,getPlaylists:g,createPlaylist:v,addPlaylistContents:b}),o.jsx(Up,{isOpen:Ve,onClose:ps,onCreateRoom:Vt,userId:s||""}),o.jsx($,{size:"lg",onClick:Ye,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${H||Z?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(Fs,{className:"w-6 h-6"})})]})}nu.createRoot(document.getElementById("root")).render(o.jsx(Ur.StrictMode,{children:o.jsx(aR,{})}));
