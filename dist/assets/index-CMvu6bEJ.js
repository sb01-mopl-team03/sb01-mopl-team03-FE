var aS=Object.defineProperty;var iS=(e,t,n)=>t in e?aS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gt=(e,t,n)=>iS(e,typeof t!="symbol"?t+"":t,n);function lS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var cS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ev={exports:{}},ql={},tv={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=Symbol.for("react.element"),uS=Symbol.for("react.portal"),dS=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),pS=Symbol.for("react.context"),gS=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),xS=Symbol.for("react.memo"),yS=Symbol.for("react.lazy"),Sm=Symbol.iterator;function wS(e){return e===null||typeof e!="object"?null:(e=Sm&&e[Sm]||e["@@iterator"],typeof e=="function"?e:null)}var nv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rv=Object.assign,sv={};function yo(e,t,n){this.props=e,this.context=t,this.refs=sv,this.updater=n||nv}yo.prototype.isReactComponent={};yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ov(){}ov.prototype=yo.prototype;function mf(e,t,n){this.props=e,this.context=t,this.refs=sv,this.updater=n||nv}var pf=mf.prototype=new ov;pf.constructor=mf;rv(pf,yo.prototype);pf.isPureReactComponent=!0;var Nm=Array.isArray,av=Object.prototype.hasOwnProperty,gf={current:null},iv={key:!0,ref:!0,__self:!0,__source:!0};function lv(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)av.call(t,r)&&!iv.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Fa,type:e,key:a,ref:i,props:s,_owner:gf.current}}function bS(e,t){return{$$typeof:Fa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fa}function SS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jm=/\/+/g;function zc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SS(""+e.key):t.toString(36)}function Ki(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fa:case uS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+zc(i,0):r,Nm(s)?(n="",e!=null&&(n=e.replace(jm,"$&/")+"/"),Ki(s,t,n,"",function(u){return u})):s!=null&&(vf(s)&&(s=bS(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(jm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Nm(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+zc(a,l);i+=Ki(a,t,n,c,s)}else if(c=wS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+zc(a,l++),i+=Ki(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ui(e,t,n){if(e==null)return e;var r=[],s=0;return Ki(e,r,"","",function(a){return t.call(n,a,s++)}),r}function NS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},Yi={transition:null},jS={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Yi,ReactCurrentOwner:gf};function cv(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:ui,forEach:function(e,t,n){ui(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ui(e,function(){t++}),t},toArray:function(e){return ui(e,function(t){return t})||[]},only:function(e){if(!vf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=yo;Re.Fragment=dS;Re.Profiler=hS;Re.PureComponent=mf;Re.StrictMode=fS;Re.Suspense=vS;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jS;Re.act=cv;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rv({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=gf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)av.call(t,c)&&!iv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Fa,type:e.type,key:s,ref:a,props:r,_owner:i}};Re.createContext=function(e){return e={$$typeof:pS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mS,_context:e},e.Consumer=e};Re.createElement=lv;Re.createFactory=function(e){var t=lv.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:gS,render:e}};Re.isValidElement=vf;Re.lazy=function(e){return{$$typeof:yS,_payload:{_status:-1,_result:e},_init:NS}};Re.memo=function(e,t){return{$$typeof:xS,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Yi.transition;Yi.transition={};try{e()}finally{Yi.transition=t}};Re.unstable_act=cv;Re.useCallback=function(e,t){return Ut.current.useCallback(e,t)};Re.useContext=function(e){return Ut.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Ut.current.useEffect(e,t)};Re.useId=function(){return Ut.current.useId()};Re.useImperativeHandle=function(e,t,n){return Ut.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Ut.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return Ut.current.useReducer(e,t,n)};Re.useRef=function(e){return Ut.current.useRef(e)};Re.useState=function(e){return Ut.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return Ut.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return Ut.current.useTransition()};Re.version="18.3.1";tv.exports=Re;var d=tv.exports;const ne=hf(d),uv=lS({__proto__:null,default:ne},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS=d,kS=Symbol.for("react.element"),ES=Symbol.for("react.fragment"),TS=Object.prototype.hasOwnProperty,PS=CS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RS={key:!0,ref:!0,__self:!0,__source:!0};function dv(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)TS.call(t,r)&&!RS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:kS,type:e,key:a,ref:i,props:s,_owner:PS.current}}ql.Fragment=ES;ql.jsx=dv;ql.jsxs=dv;ev.exports=ql;var o=ev.exports,zu={},fv={exports:{}},on={},hv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,A){var L=j.length;j.push(A);e:for(;0<L;){var te=L-1>>>1,$=j[te];if(0<s($,A))j[te]=A,j[L]=$,L=te;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var A=j[0],L=j.pop();if(L!==A){j[0]=L;e:for(var te=0,$=j.length,ee=$>>>1;te<ee;){var re=2*(te+1)-1,ce=j[re],Ee=re+1,Z=j[Ee];if(0>s(ce,L))Ee<$&&0>s(Z,ce)?(j[te]=Z,j[Ee]=L,te=Ee):(j[te]=ce,j[re]=L,te=re);else if(Ee<$&&0>s(Z,L))j[te]=Z,j[Ee]=L,te=Ee;else break e}}return A}function s(j,A){var L=j.sortIndex-A.sortIndex;return L!==0?L:j.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,m=3,p=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=j)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function N(j){if(x=!1,y(j),!w)if(n(c)!==null)w=!0,B(E);else{var A=n(u);A!==null&&M(N,A.startTime-j)}}function E(j,A){w=!1,x&&(x=!1,g(T),T=-1),p=!0;var L=m;try{for(y(A),f=n(c);f!==null&&(!(f.expirationTime>A)||j&&!_());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var $=te(f.expirationTime<=A);A=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&r(c),y(A)}else r(c);f=n(c)}if(f!==null)var ee=!0;else{var re=n(u);re!==null&&M(N,re.startTime-A),ee=!1}return ee}finally{f=null,m=L,p=!1}}var R=!1,P=null,T=-1,S=5,k=-1;function _(){return!(e.unstable_now()-k<S)}function C(){if(P!==null){var j=e.unstable_now();k=j;var A=!0;try{A=P(!0,j)}finally{A?I():(R=!1,P=null)}}else R=!1}var I;if(typeof v=="function")I=function(){v(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Y=D.port2;D.port1.onmessage=C,I=function(){Y.postMessage(null)}}else I=function(){b(C,0)};function B(j){P=j,R||(R=!0,I())}function M(j,A){T=b(function(){j(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,B(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var L=m;m=A;try{return j()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,A){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var L=m;m=j;try{return A()}finally{m=L}},e.unstable_scheduleCallback=function(j,A,L){var te=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?te+L:te):L=te,j){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=L+$,j={id:h++,callback:A,priorityLevel:j,startTime:L,expirationTime:$,sortIndex:-1},L>te?(j.sortIndex=L,t(u,j),n(c)===null&&j===n(u)&&(x?(g(T),T=-1):x=!0,M(N,L-te))):(j.sortIndex=$,t(c,j),w||p||(w=!0,B(E))),j},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(j){var A=m;return function(){var L=m;m=A;try{return j.apply(this,arguments)}finally{m=L}}}})(mv);hv.exports=mv;var _S=hv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS=d,sn=_S;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pv=new Set,ma={};function ks(e,t){io(e,t),io(e+"Capture",t)}function io(e,t){for(ma[e]=t,e=0;e<t.length;e++)pv.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=Object.prototype.hasOwnProperty,IS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cm={},km={};function DS(e){return Fu.call(km,e)?!0:Fu.call(Cm,e)?!1:IS.test(e)?km[e]=!0:(Cm[e]=!0,!1)}function OS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LS(e,t,n,r){if(t===null||typeof t>"u"||OS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xf=/[\-:]([a-z])/g;function yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xf,yf);Tt[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xf,yf);Tt[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xf,yf);Tt[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wf(e,t,n,r){var s=Tt.hasOwnProperty(t)?Tt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LS(t,n,s,r)&&(n=null),r||s===null?DS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vr=AS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,di=Symbol.for("react.element"),$s=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),Uu=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),vv=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Wu=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),xv=Symbol.for("react.offscreen"),Em=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=Em&&e[Em]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Fc;function Xo(e){if(Fc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fc=t&&t[1]||""}return`
`+Fc+e}var Uc=!1;function Bc(e,t){if(!e||Uc)return"";Uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Uc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xo(e):""}function MS(e){switch(e.tag){case 5:return Xo(e.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return e=Bc(e.type,!1),e;case 11:return e=Bc(e.type.render,!1),e;case 1:return e=Bc(e.type,!0),e;default:return""}}function Vu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case $s:return"Portal";case Uu:return"Profiler";case bf:return"StrictMode";case Bu:return"Suspense";case Wu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vv:return(e.displayName||"Context")+".Consumer";case gv:return(e._context.displayName||"Context")+".Provider";case Sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nf:return t=e.displayName||null,t!==null?t:Vu(e.type)||"Memo";case Tr:t=e._payload,e=e._init;try{return Vu(e(t))}catch{}}return null}function $S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vu(t);case 8:return t===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zS(e){var t=yv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fi(e){e._valueTracker||(e._valueTracker=zS(e))}function wv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hu(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bv(e,t){t=t.checked,t!=null&&wf(e,"checked",t,!1)}function Ku(e,t){bv(e,t);var n=Kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yu(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yu(e,t,n){(t!=="number"||ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qo=Array.isArray;function Qs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(qo(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kr(n)}}function Sv(e,t){var n=Kr(t.value),r=Kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _m(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hi,jv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FS=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){FS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),na[t]=na[e]})});function Cv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||na.hasOwnProperty(e)&&na[e]?(""+t).trim():t+"px"}function kv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Cv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var US=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qu(e,t){if(t){if(US[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Qu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=null;function jf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zu=null,Js=null,Zs=null;function Am(e){if(e=Wa(e)){if(typeof Zu!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=tc(t),Zu(e.stateNode,e.type,t))}}function Ev(e){Js?Zs?Zs.push(e):Zs=[e]:Js=e}function Tv(){if(Js){var e=Js,t=Zs;if(Zs=Js=null,Am(e),t)for(e=0;e<t.length;e++)Am(t[e])}}function Pv(e,t){return e(t)}function Rv(){}var Wc=!1;function _v(e,t,n){if(Wc)return e(t,n);Wc=!0;try{return Pv(e,t,n)}finally{Wc=!1,(Js!==null||Zs!==null)&&(Rv(),Tv())}}function ga(e,t){var n=e.stateNode;if(n===null)return null;var r=tc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var ed=!1;if(ur)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){ed=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{ed=!1}function BS(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var ra=!1,dl=null,fl=!1,td=null,WS={onError:function(e){ra=!0,dl=e}};function VS(e,t,n,r,s,a,i,l,c){ra=!1,dl=null,BS.apply(WS,arguments)}function HS(e,t,n,r,s,a,i,l,c){if(VS.apply(this,arguments),ra){if(ra){var u=dl;ra=!1,dl=null}else throw Error(Q(198));fl||(fl=!0,td=u)}}function Es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Av(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Im(e){if(Es(e)!==e)throw Error(Q(188))}function KS(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Im(s),e;if(a===r)return Im(s),t;a=a.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function Iv(e){return e=KS(e),e!==null?Dv(e):null}function Dv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dv(e);if(t!==null)return t;e=e.sibling}return null}var Ov=sn.unstable_scheduleCallback,Dm=sn.unstable_cancelCallback,YS=sn.unstable_shouldYield,GS=sn.unstable_requestPaint,ft=sn.unstable_now,XS=sn.unstable_getCurrentPriorityLevel,Cf=sn.unstable_ImmediatePriority,Lv=sn.unstable_UserBlockingPriority,hl=sn.unstable_NormalPriority,qS=sn.unstable_LowPriority,Mv=sn.unstable_IdlePriority,Ql=null,Hn=null;function QS(e){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Ql,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:eN,JS=Math.log,ZS=Math.LN2;function eN(e){return e>>>=0,e===0?32:31-(JS(e)/ZS|0)|0}var mi=64,pi=4194304;function Qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Qo(l):(a&=i,a!==0&&(r=Qo(a)))}else i=n&~s,i!==0?r=Qo(i):a!==0&&(r=Qo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tn(t),s=1<<n,r|=e[n],t&=~s;return r}function tN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Tn(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=tN(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function nd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $v(){var e=mi;return mi<<=1,!(mi&4194240)&&(mi=64),e}function Vc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ua(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=n}function rN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function kf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Me=0;function zv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fv,Ef,Uv,Bv,Wv,rd=!1,gi=[],Mr=null,$r=null,zr=null,va=new Map,xa=new Map,_r=[],sN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function Lo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Wa(t),t!==null&&Ef(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oN(e,t,n,r,s){switch(t){case"focusin":return Mr=Lo(Mr,e,t,n,r,s),!0;case"dragenter":return $r=Lo($r,e,t,n,r,s),!0;case"mouseover":return zr=Lo(zr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return va.set(a,Lo(va.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xa.set(a,Lo(xa.get(a)||null,e,t,n,r,s)),!0}return!1}function Vv(e){var t=ls(e.target);if(t!==null){var n=Es(t);if(n!==null){if(t=n.tag,t===13){if(t=Av(n),t!==null){e.blockedOn=t,Wv(e.priority,function(){Uv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ju=r,n.target.dispatchEvent(r),Ju=null}else return t=Wa(n),t!==null&&Ef(t),e.blockedOn=n,!1;t.shift()}return!0}function Lm(e,t,n){Gi(e)&&n.delete(t)}function aN(){rd=!1,Mr!==null&&Gi(Mr)&&(Mr=null),$r!==null&&Gi($r)&&($r=null),zr!==null&&Gi(zr)&&(zr=null),va.forEach(Lm),xa.forEach(Lm)}function Mo(e,t){e.blockedOn===t&&(e.blockedOn=null,rd||(rd=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,aN)))}function ya(e){function t(s){return Mo(s,e)}if(0<gi.length){Mo(gi[0],e);for(var n=1;n<gi.length;n++){var r=gi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mr!==null&&Mo(Mr,e),$r!==null&&Mo($r,e),zr!==null&&Mo(zr,e),va.forEach(t),xa.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Vv(n),n.blockedOn===null&&_r.shift()}var eo=vr.ReactCurrentBatchConfig,pl=!0;function iN(e,t,n,r){var s=Me,a=eo.transition;eo.transition=null;try{Me=1,Tf(e,t,n,r)}finally{Me=s,eo.transition=a}}function lN(e,t,n,r){var s=Me,a=eo.transition;eo.transition=null;try{Me=4,Tf(e,t,n,r)}finally{Me=s,eo.transition=a}}function Tf(e,t,n,r){if(pl){var s=sd(e,t,n,r);if(s===null)eu(e,t,r,gl,n),Om(e,r);else if(oN(s,e,t,n,r))r.stopPropagation();else if(Om(e,r),t&4&&-1<sN.indexOf(e)){for(;s!==null;){var a=Wa(s);if(a!==null&&Fv(a),a=sd(e,t,n,r),a===null&&eu(e,t,r,gl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else eu(e,t,r,null,n)}}var gl=null;function sd(e,t,n,r){if(gl=null,e=jf(r),e=ls(e),e!==null)if(t=Es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Av(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function Hv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XS()){case Cf:return 1;case Lv:return 4;case hl:case qS:return 16;case Mv:return 536870912;default:return 16}default:return 16}}var Or=null,Pf=null,Xi=null;function Kv(){if(Xi)return Xi;var e,t=Pf,n=t.length,r,s="value"in Or?Or.value:Or.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Xi=s.slice(e,1<r?1-r:void 0)}function qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function Mm(){return!1}function an(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vi:Mm,this.isPropagationStopped=Mm,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rf=an(wo),Ba=tt({},wo,{view:0,detail:0}),cN=an(Ba),Hc,Kc,$o,Jl=tt({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$o&&($o&&e.type==="mousemove"?(Hc=e.screenX-$o.screenX,Kc=e.screenY-$o.screenY):Kc=Hc=0,$o=e),Hc)},movementY:function(e){return"movementY"in e?e.movementY:Kc}}),$m=an(Jl),uN=tt({},Jl,{dataTransfer:0}),dN=an(uN),fN=tt({},Ba,{relatedTarget:0}),Yc=an(fN),hN=tt({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),mN=an(hN),pN=tt({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gN=an(pN),vN=tt({},wo,{data:0}),zm=an(vN),xN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wN[e])?!!t[e]:!1}function _f(){return bN}var SN=tt({},Ba,{key:function(e){if(e.key){var t=xN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NN=an(SN),jN=tt({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fm=an(jN),CN=tt({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),kN=an(CN),EN=tt({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),TN=an(EN),PN=tt({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RN=an(PN),_N=[9,13,27,32],Af=ur&&"CompositionEvent"in window,sa=null;ur&&"documentMode"in document&&(sa=document.documentMode);var AN=ur&&"TextEvent"in window&&!sa,Yv=ur&&(!Af||sa&&8<sa&&11>=sa),Um=" ",Bm=!1;function Gv(e,t){switch(e){case"keyup":return _N.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function IN(e,t){switch(e){case"compositionend":return Xv(t);case"keypress":return t.which!==32?null:(Bm=!0,Um);case"textInput":return e=t.data,e===Um&&Bm?null:e;default:return null}}function DN(e,t){if(Fs)return e==="compositionend"||!Af&&Gv(e,t)?(e=Kv(),Xi=Pf=Or=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yv&&t.locale!=="ko"?null:t.data;default:return null}}var ON={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ON[e.type]:t==="textarea"}function qv(e,t,n,r){Ev(r),t=vl(t,"onChange"),0<t.length&&(n=new Rf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oa=null,wa=null;function LN(e){ix(e,0)}function Zl(e){var t=Ws(e);if(wv(t))return e}function MN(e,t){if(e==="change")return t}var Qv=!1;if(ur){var Gc;if(ur){var Xc="oninput"in document;if(!Xc){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),Xc=typeof Vm.oninput=="function"}Gc=Xc}else Gc=!1;Qv=Gc&&(!document.documentMode||9<document.documentMode)}function Hm(){oa&&(oa.detachEvent("onpropertychange",Jv),wa=oa=null)}function Jv(e){if(e.propertyName==="value"&&Zl(wa)){var t=[];qv(t,wa,e,jf(e)),_v(LN,t)}}function $N(e,t,n){e==="focusin"?(Hm(),oa=t,wa=n,oa.attachEvent("onpropertychange",Jv)):e==="focusout"&&Hm()}function zN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(wa)}function FN(e,t){if(e==="click")return Zl(t)}function UN(e,t){if(e==="input"||e==="change")return Zl(t)}function BN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:BN;function ba(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fu.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function Km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,t){var n=Km(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Km(n)}}function Zv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ex(){for(var e=window,t=ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ul(e.document)}return t}function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WN(e){var t=ex(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zv(n.ownerDocument.documentElement,n)){if(r!==null&&If(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Ym(n,a);var i=Ym(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VN=ur&&"documentMode"in document&&11>=document.documentMode,Us=null,od=null,aa=null,ad=!1;function Gm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ad||Us==null||Us!==ul(r)||(r=Us,"selectionStart"in r&&If(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&ba(aa,r)||(aa=r,r=vl(od,"onSelect"),0<r.length&&(t=new Rf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Us)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bs={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},qc={},tx={};ur&&(tx=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function ec(e){if(qc[e])return qc[e];if(!Bs[e])return e;var t=Bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tx)return qc[e]=t[n];return e}var nx=ec("animationend"),rx=ec("animationiteration"),sx=ec("animationstart"),ox=ec("transitionend"),ax=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){ax.set(e,t),ks(t,[e])}for(var Qc=0;Qc<Xm.length;Qc++){var Jc=Xm[Qc],HN=Jc.toLowerCase(),KN=Jc[0].toUpperCase()+Jc.slice(1);Zr(HN,"on"+KN)}Zr(nx,"onAnimationEnd");Zr(rx,"onAnimationIteration");Zr(sx,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(ox,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function qm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HS(r,t,void 0,e),e.currentTarget=null}function ix(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;qm(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;qm(s,l,u),a=c}}}if(fl)throw e=td,fl=!1,td=null,e}function Ke(e,t){var n=t[dd];n===void 0&&(n=t[dd]=new Set);var r=e+"__bubble";n.has(r)||(lx(t,e,2,!1),n.add(r))}function Zc(e,t,n){var r=0;t&&(r|=4),lx(n,e,r,t)}var yi="_reactListening"+Math.random().toString(36).slice(2);function Sa(e){if(!e[yi]){e[yi]=!0,pv.forEach(function(n){n!=="selectionchange"&&(YN.has(n)||Zc(n,!1,e),Zc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yi]||(t[yi]=!0,Zc("selectionchange",!1,t))}}function lx(e,t,n,r){switch(Hv(t)){case 1:var s=iN;break;case 4:s=lN;break;default:s=Tf}n=s.bind(null,t,n,e),s=void 0,!ed||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function eu(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ls(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}_v(function(){var u=a,h=jf(n),f=[];e:{var m=ax.get(e);if(m!==void 0){var p=Rf,w=e;switch(e){case"keypress":if(qi(n)===0)break e;case"keydown":case"keyup":p=NN;break;case"focusin":w="focus",p=Yc;break;case"focusout":w="blur",p=Yc;break;case"beforeblur":case"afterblur":p=Yc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kN;break;case nx:case rx:case sx:p=mN;break;case ox:p=TN;break;case"scroll":p=cN;break;case"wheel":p=RN;break;case"copy":case"cut":case"paste":p=gN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fm}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,y;v!==null;){y=v;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,g!==null&&(N=ga(v,g),N!=null&&x.push(Na(v,N,y)))),b)break;v=v.return}0<x.length&&(m=new p(m,w,null,n,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Ju&&(w=n.relatedTarget||n.fromElement)&&(ls(w)||w[dr]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?ls(w):null,w!==null&&(b=Es(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(x=$m,N="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Fm,N="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?m:Ws(p),y=w==null?m:Ws(w),m=new x(N,v+"leave",p,n,h),m.target=b,m.relatedTarget=y,N=null,ls(h)===u&&(x=new x(g,v+"enter",w,n,h),x.target=y,x.relatedTarget=b,N=x),b=N,p&&w)t:{for(x=p,g=w,v=0,y=x;y;y=Ds(y))v++;for(y=0,N=g;N;N=Ds(N))y++;for(;0<v-y;)x=Ds(x),v--;for(;0<y-v;)g=Ds(g),y--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ds(x),g=Ds(g)}x=null}else x=null;p!==null&&Qm(f,m,p,x,!1),w!==null&&b!==null&&Qm(f,b,w,x,!0)}}e:{if(m=u?Ws(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var E=MN;else if(Wm(m))if(Qv)E=UN;else{E=zN;var R=$N}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=FN);if(E&&(E=E(e,u))){qv(f,E,n,h);break e}R&&R(e,m,u),e==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&Yu(m,"number",m.value)}switch(R=u?Ws(u):window,e){case"focusin":(Wm(R)||R.contentEditable==="true")&&(Us=R,od=u,aa=null);break;case"focusout":aa=od=Us=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,Gm(f,n,h);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":Gm(f,n,h)}var P;if(Af)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Fs?Gv(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Yv&&n.locale!=="ko"&&(Fs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Fs&&(P=Kv()):(Or=h,Pf="value"in Or?Or.value:Or.textContent,Fs=!0)),R=vl(u,T),0<R.length&&(T=new zm(T,e,null,n,h),f.push({event:T,listeners:R}),P?T.data=P:(P=Xv(n),P!==null&&(T.data=P)))),(P=AN?IN(e,n):DN(e,n))&&(u=vl(u,"onBeforeInput"),0<u.length&&(h=new zm("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=P))}ix(f,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ga(e,n),a!=null&&r.unshift(Na(e,a,s)),a=ga(e,t),a!=null&&r.push(Na(e,a,s))),e=e.return}return r}function Ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qm(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ga(n,a),c!=null&&i.unshift(Na(n,c,l))):s||(c=ga(n,a),c!=null&&i.push(Na(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var GN=/\r\n?/g,XN=/\u0000|\uFFFD/g;function Jm(e){return(typeof e=="string"?e:""+e).replace(GN,`
`).replace(XN,"")}function wi(e,t,n){if(t=Jm(t),Jm(e)!==t&&n)throw Error(Q(425))}function xl(){}var id=null,ld=null;function cd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ud=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(e){return Zm.resolve(null).then(e).catch(JN)}:ud;function JN(e){setTimeout(function(){throw e})}function tu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ya(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ya(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Un="__reactFiber$"+bo,ja="__reactProps$"+bo,dr="__reactContainer$"+bo,dd="__reactEvents$"+bo,ZN="__reactListeners$"+bo,ej="__reactHandles$"+bo;function ls(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dr]||n[Un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ep(e);e!==null;){if(n=e[Un])return n;e=ep(e)}return t}e=n,n=e.parentNode}return null}function Wa(e){return e=e[Un]||e[dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function tc(e){return e[ja]||null}var fd=[],Vs=-1;function es(e){return{current:e}}function Ye(e){0>Vs||(e.current=fd[Vs],fd[Vs]=null,Vs--)}function We(e,t){Vs++,fd[Vs]=e.current,e.current=t}var Yr={},Ot=es(Yr),Gt=es(!1),gs=Yr;function lo(e,t){var n=e.type.contextTypes;if(!n)return Yr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(e){return e=e.childContextTypes,e!=null}function yl(){Ye(Gt),Ye(Ot)}function tp(e,t,n){if(Ot.current!==Yr)throw Error(Q(168));We(Ot,t),We(Gt,n)}function cx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Q(108,$S(e)||"Unknown",s));return tt({},n,r)}function wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,gs=Ot.current,We(Ot,e),We(Gt,Gt.current),!0}function np(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=cx(e,t,gs),r.__reactInternalMemoizedMergedChildContext=e,Ye(Gt),Ye(Ot),We(Ot,e)):Ye(Gt),We(Gt,n)}var sr=null,nc=!1,nu=!1;function ux(e){sr===null?sr=[e]:sr.push(e)}function tj(e){nc=!0,ux(e)}function ts(){if(!nu&&sr!==null){nu=!0;var e=0,t=Me;try{var n=sr;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sr=null,nc=!1}catch(s){throw sr!==null&&(sr=sr.slice(e+1)),Ov(Cf,ts),s}finally{Me=t,nu=!1}}return null}var Hs=[],Ks=0,bl=null,Sl=0,un=[],dn=0,vs=null,or=1,ar="";function os(e,t){Hs[Ks++]=Sl,Hs[Ks++]=bl,bl=e,Sl=t}function dx(e,t,n){un[dn++]=or,un[dn++]=ar,un[dn++]=vs,vs=e;var r=or;e=ar;var s=32-Tn(r)-1;r&=~(1<<s),n+=1;var a=32-Tn(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,or=1<<32-Tn(t)+s|n<<s|r,ar=a+e}else or=1<<a|n<<s|r,ar=e}function Df(e){e.return!==null&&(os(e,1),dx(e,1,0))}function Of(e){for(;e===bl;)bl=Hs[--Ks],Hs[Ks]=null,Sl=Hs[--Ks],Hs[Ks]=null;for(;e===vs;)vs=un[--dn],un[dn]=null,ar=un[--dn],un[dn]=null,or=un[--dn],un[dn]=null}var nn=null,en=null,qe=!1,En=null;function fx(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,en=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vs!==null?{id:or,overflow:ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nn=e,en=null,!0):!1;default:return!1}}function hd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function md(e){if(qe){var t=en;if(t){var n=t;if(!rp(e,t)){if(hd(e))throw Error(Q(418));t=Fr(n.nextSibling);var r=nn;t&&rp(e,t)?fx(r,n):(e.flags=e.flags&-4097|2,qe=!1,nn=e)}}else{if(hd(e))throw Error(Q(418));e.flags=e.flags&-4097|2,qe=!1,nn=e}}}function sp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function bi(e){if(e!==nn)return!1;if(!qe)return sp(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cd(e.type,e.memoizedProps)),t&&(t=en)){if(hd(e))throw hx(),Error(Q(418));for(;t;)fx(e,t),t=Fr(t.nextSibling)}if(sp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){en=Fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}en=null}}else en=nn?Fr(e.stateNode.nextSibling):null;return!0}function hx(){for(var e=en;e;)e=Fr(e.nextSibling)}function co(){en=nn=null,qe=!1}function Lf(e){En===null?En=[e]:En.push(e)}var nj=vr.ReactCurrentBatchConfig;function zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Si(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function op(e){var t=e._init;return t(e._payload)}function mx(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Vr(g,v),g.index=0,g.sibling=null,g}function a(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,y,N){return v===null||v.tag!==6?(v=cu(y,g.mode,N),v.return=g,v):(v=s(v,y),v.return=g,v)}function c(g,v,y,N){var E=y.type;return E===zs?h(g,v,y.props.children,N,y.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tr&&op(E)===v.type)?(N=s(v,y.props),N.ref=zo(g,v,y),N.return=g,N):(N=rl(y.type,y.key,y.props,null,g.mode,N),N.ref=zo(g,v,y),N.return=g,N)}function u(g,v,y,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=uu(y,g.mode,N),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function h(g,v,y,N,E){return v===null||v.tag!==7?(v=ms(y,g.mode,N,E),v.return=g,v):(v=s(v,y),v.return=g,v)}function f(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cu(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case di:return y=rl(v.type,v.key,v.props,null,g.mode,y),y.ref=zo(g,null,v),y.return=g,y;case $s:return v=uu(v,g.mode,y),v.return=g,v;case Tr:var N=v._init;return f(g,N(v._payload),y)}if(qo(v)||Do(v))return v=ms(v,g.mode,y,null),v.return=g,v;Si(g,v)}return null}function m(g,v,y,N){var E=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(g,v,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case di:return y.key===E?c(g,v,y,N):null;case $s:return y.key===E?u(g,v,y,N):null;case Tr:return E=y._init,m(g,v,E(y._payload),N)}if(qo(y)||Do(y))return E!==null?null:h(g,v,y,N,null);Si(g,y)}return null}function p(g,v,y,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(y)||null,l(v,g,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case di:return g=g.get(N.key===null?y:N.key)||null,c(v,g,N,E);case $s:return g=g.get(N.key===null?y:N.key)||null,u(v,g,N,E);case Tr:var R=N._init;return p(g,v,y,R(N._payload),E)}if(qo(N)||Do(N))return g=g.get(y)||null,h(v,g,N,E,null);Si(v,N)}return null}function w(g,v,y,N){for(var E=null,R=null,P=v,T=v=0,S=null;P!==null&&T<y.length;T++){P.index>T?(S=P,P=null):S=P.sibling;var k=m(g,P,y[T],N);if(k===null){P===null&&(P=S);break}e&&P&&k.alternate===null&&t(g,P),v=a(k,v,T),R===null?E=k:R.sibling=k,R=k,P=S}if(T===y.length)return n(g,P),qe&&os(g,T),E;if(P===null){for(;T<y.length;T++)P=f(g,y[T],N),P!==null&&(v=a(P,v,T),R===null?E=P:R.sibling=P,R=P);return qe&&os(g,T),E}for(P=r(g,P);T<y.length;T++)S=p(P,g,T,y[T],N),S!==null&&(e&&S.alternate!==null&&P.delete(S.key===null?T:S.key),v=a(S,v,T),R===null?E=S:R.sibling=S,R=S);return e&&P.forEach(function(_){return t(g,_)}),qe&&os(g,T),E}function x(g,v,y,N){var E=Do(y);if(typeof E!="function")throw Error(Q(150));if(y=E.call(y),y==null)throw Error(Q(151));for(var R=E=null,P=v,T=v=0,S=null,k=y.next();P!==null&&!k.done;T++,k=y.next()){P.index>T?(S=P,P=null):S=P.sibling;var _=m(g,P,k.value,N);if(_===null){P===null&&(P=S);break}e&&P&&_.alternate===null&&t(g,P),v=a(_,v,T),R===null?E=_:R.sibling=_,R=_,P=S}if(k.done)return n(g,P),qe&&os(g,T),E;if(P===null){for(;!k.done;T++,k=y.next())k=f(g,k.value,N),k!==null&&(v=a(k,v,T),R===null?E=k:R.sibling=k,R=k);return qe&&os(g,T),E}for(P=r(g,P);!k.done;T++,k=y.next())k=p(P,g,T,k.value,N),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?T:k.key),v=a(k,v,T),R===null?E=k:R.sibling=k,R=k);return e&&P.forEach(function(C){return t(g,C)}),qe&&os(g,T),E}function b(g,v,y,N){if(typeof y=="object"&&y!==null&&y.type===zs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case di:e:{for(var E=y.key,R=v;R!==null;){if(R.key===E){if(E=y.type,E===zs){if(R.tag===7){n(g,R.sibling),v=s(R,y.props.children),v.return=g,g=v;break e}}else if(R.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tr&&op(E)===R.type){n(g,R.sibling),v=s(R,y.props),v.ref=zo(g,R,y),v.return=g,g=v;break e}n(g,R);break}else t(g,R);R=R.sibling}y.type===zs?(v=ms(y.props.children,g.mode,N,y.key),v.return=g,g=v):(N=rl(y.type,y.key,y.props,null,g.mode,N),N.ref=zo(g,v,y),N.return=g,g=N)}return i(g);case $s:e:{for(R=y.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=uu(y,g.mode,N),v.return=g,g=v}return i(g);case Tr:return R=y._init,b(g,v,R(y._payload),N)}if(qo(y))return w(g,v,y,N);if(Do(y))return x(g,v,y,N);Si(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,y),v.return=g,g=v):(n(g,v),v=cu(y,g.mode,N),v.return=g,g=v),i(g)):n(g,v)}return b}var uo=mx(!0),px=mx(!1),Nl=es(null),jl=null,Ys=null,Mf=null;function $f(){Mf=Ys=jl=null}function zf(e){var t=Nl.current;Ye(Nl),e._currentValue=t}function pd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function to(e,t){jl=e,Mf=Ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(Mf!==e)if(e={context:e,memoizedValue:t,next:null},Ys===null){if(jl===null)throw Error(Q(308));Ys=e,jl.dependencies={lanes:0,firstContext:e}}else Ys=Ys.next=e;return t}var cs=null;function Ff(e){cs===null?cs=[e]:cs.push(e)}function gx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ff(t)):(n.next=s.next,s.next=n),t.interleaved=n,fr(e,r)}function fr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,fr(e,n)}return s=r.interleaved,s===null?(t.next=t,Ff(r)):(t.next=s.next,s.next=t),r.interleaved=t,fr(e,n)}function Qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kf(e,n)}}function ap(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,r){var s=e.updateQueue;Pr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,h=u=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(p,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(p,f,m):w,m==null)break e;f=tt({},f,m);break e;case 2:Pr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=f):h=h.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ys|=i,e.lanes=i,e.memoizedState=f}}function ip(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Va={},Kn=es(Va),Ca=es(Va),ka=es(Va);function us(e){if(e===Va)throw Error(Q(174));return e}function Bf(e,t){switch(We(ka,t),We(Ca,e),We(Kn,Va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xu(t,e)}Ye(Kn),We(Kn,t)}function fo(){Ye(Kn),Ye(Ca),Ye(ka)}function xx(e){us(ka.current);var t=us(Kn.current),n=Xu(t,e.type);t!==n&&(We(Ca,e),We(Kn,n))}function Wf(e){Ca.current===e&&(Ye(Kn),Ye(Ca))}var Ze=es(0);function kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ru=[];function Vf(){for(var e=0;e<ru.length;e++)ru[e]._workInProgressVersionPrimary=null;ru.length=0}var Ji=vr.ReactCurrentDispatcher,su=vr.ReactCurrentBatchConfig,xs=0,et=null,wt=null,Nt=null,El=!1,ia=!1,Ea=0,rj=0;function Rt(){throw Error(Q(321))}function Hf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rn(e[n],t[n]))return!1;return!0}function Kf(e,t,n,r,s,a){if(xs=a,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ji.current=e===null||e.memoizedState===null?ij:lj,e=n(r,s),ia){a=0;do{if(ia=!1,Ea=0,25<=a)throw Error(Q(301));a+=1,Nt=wt=null,t.updateQueue=null,Ji.current=cj,e=n(r,s)}while(ia)}if(Ji.current=Tl,t=wt!==null&&wt.next!==null,xs=0,Nt=wt=et=null,El=!1,t)throw Error(Q(300));return e}function Yf(){var e=Ea!==0;return Ea=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?et.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function gn(){if(wt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Nt===null?et.memoizedState:Nt.next;if(t!==null)Nt=t,wt=e;else{if(e===null)throw Error(Q(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Nt===null?et.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Ta(e,t){return typeof t=="function"?t(e):t}function ou(e){var t=gn(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=wt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((xs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,et.lanes|=h,ys|=h}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,Rn(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,et.lanes|=a,ys|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function au(e){var t=gn(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Rn(a,t.memoizedState)||(Kt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yx(){}function wx(e,t){var n=et,r=gn(),s=t(),a=!Rn(r.memoizedState,s);if(a&&(r.memoizedState=s,Kt=!0),r=r.queue,Gf(Nx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Pa(9,Sx.bind(null,n,r,s,t),void 0,null),jt===null)throw Error(Q(349));xs&30||bx(n,t,s)}return s}function bx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sx(e,t,n,r){t.value=n,t.getSnapshot=r,jx(t)&&Cx(e)}function Nx(e,t,n){return n(function(){jx(t)&&Cx(e)})}function jx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rn(e,n)}catch{return!0}}function Cx(e){var t=fr(e,1);t!==null&&Pn(t,e,1,-1)}function lp(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=aj.bind(null,et,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kx(){return gn().memoizedState}function Zi(e,t,n,r){var s=Fn();et.flags|=e,s.memoizedState=Pa(1|t,n,void 0,r===void 0?null:r)}function rc(e,t,n,r){var s=gn();r=r===void 0?null:r;var a=void 0;if(wt!==null){var i=wt.memoizedState;if(a=i.destroy,r!==null&&Hf(r,i.deps)){s.memoizedState=Pa(t,n,a,r);return}}et.flags|=e,s.memoizedState=Pa(1|t,n,a,r)}function cp(e,t){return Zi(8390656,8,e,t)}function Gf(e,t){return rc(2048,8,e,t)}function Ex(e,t){return rc(4,2,e,t)}function Tx(e,t){return rc(4,4,e,t)}function Px(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rx(e,t,n){return n=n!=null?n.concat([e]):null,rc(4,4,Px.bind(null,t,e),n)}function Xf(){}function _x(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ax(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ix(e,t,n){return xs&21?(Rn(n,t)||(n=$v(),et.lanes|=n,ys|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=n)}function sj(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=su.transition;su.transition={};try{e(!1),t()}finally{Me=n,su.transition=r}}function Dx(){return gn().memoizedState}function oj(e,t,n){var r=Wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ox(e))Lx(t,n);else if(n=gx(e,t,n,r),n!==null){var s=Ft();Pn(n,e,r,s),Mx(n,t,r)}}function aj(e,t,n){var r=Wr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ox(e))Lx(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,Rn(l,i)){var c=t.interleaved;c===null?(s.next=s,Ff(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=gx(e,t,s,r),n!==null&&(s=Ft(),Pn(n,e,r,s),Mx(n,t,r))}}function Ox(e){var t=e.alternate;return e===et||t!==null&&t===et}function Lx(e,t){ia=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kf(e,n)}}var Tl={readContext:pn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},ij={readContext:pn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:cp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zi(4194308,4,Px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zi(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oj.bind(null,et,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:lp,useDebugValue:Xf,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=lp(!1),t=e[0];return e=sj.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=et,s=Fn();if(qe){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),jt===null)throw Error(Q(349));xs&30||bx(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,cp(Nx.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Sx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fn(),t=jt.identifierPrefix;if(qe){var n=ar,r=or;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lj={readContext:pn,useCallback:_x,useContext:pn,useEffect:Gf,useImperativeHandle:Rx,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Ax,useReducer:ou,useRef:kx,useState:function(){return ou(Ta)},useDebugValue:Xf,useDeferredValue:function(e){var t=gn();return Ix(t,wt.memoizedState,e)},useTransition:function(){var e=ou(Ta)[0],t=gn().memoizedState;return[e,t]},useMutableSource:yx,useSyncExternalStore:wx,useId:Dx,unstable_isNewReconciler:!1},cj={readContext:pn,useCallback:_x,useContext:pn,useEffect:Gf,useImperativeHandle:Rx,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Ax,useReducer:au,useRef:kx,useState:function(){return au(Ta)},useDebugValue:Xf,useDeferredValue:function(e){var t=gn();return wt===null?t.memoizedState=e:Ix(t,wt.memoizedState,e)},useTransition:function(){var e=au(Ta)[0],t=gn().memoizedState;return[e,t]},useMutableSource:yx,useSyncExternalStore:wx,useId:Dx,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sc={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ft(),s=Wr(e),a=ir(r,s);a.payload=t,n!=null&&(a.callback=n),t=Ur(e,a,s),t!==null&&(Pn(t,e,s,r),Qi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ft(),s=Wr(e),a=ir(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ur(e,a,s),t!==null&&(Pn(t,e,s,r),Qi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ft(),r=Wr(e),s=ir(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ur(e,s,r),t!==null&&(Pn(t,e,r,n),Qi(t,e,r))}};function up(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ba(n,r)||!ba(s,a):!0}function $x(e,t,n){var r=!1,s=Yr,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(s=Xt(t)?gs:Ot.current,r=t.contextTypes,a=(r=r!=null)?lo(e,s):Yr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function dp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sc.enqueueReplaceState(t,t.state,null)}function vd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Uf(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pn(a):(a=Xt(t)?gs:Ot.current,s.context=lo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(gd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sc.enqueueReplaceState(s,s.state,null),Cl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var n="",r=t;do n+=MS(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function iu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uj=typeof WeakMap=="function"?WeakMap:Map;function zx(e,t,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,Td=r),xd(e,t)},n}function Fx(e,t,n){n=ir(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){xd(e,t),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function fp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=jj.bind(null,e,t,n),t.then(e,e))}function hp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ir(-1,1),t.tag=2,Ur(n,t,1))),n.lanes|=1),e)}var dj=vr.ReactCurrentOwner,Kt=!1;function Mt(e,t,n,r){t.child=e===null?px(t,null,n,r):uo(t,e.child,n,r)}function pp(e,t,n,r,s){n=n.render;var a=t.ref;return to(t,s),r=Kf(e,t,n,r,a,s),n=Yf(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(qe&&n&&Df(t),t.flags|=1,Mt(e,t,r,s),t.child)}function gp(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!rh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ux(e,t,a,r,s)):(e=rl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ba,n(i,r)&&e.ref===t.ref)return hr(e,t,s)}return t.flags|=1,e=Vr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ux(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ba(a,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,hr(e,t,s)}return yd(e,t,n,r,s)}function Bx(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Xs,Qt),Qt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Xs,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,We(Xs,Qt),Qt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,We(Xs,Qt),Qt|=r;return Mt(e,t,s,n),t.child}function Wx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yd(e,t,n,r,s){var a=Xt(n)?gs:Ot.current;return a=lo(t,a),to(t,s),n=Kf(e,t,n,r,a,s),r=Yf(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(qe&&r&&Df(t),t.flags|=1,Mt(e,t,n,s),t.child)}function vp(e,t,n,r,s){if(Xt(n)){var a=!0;wl(t)}else a=!1;if(to(t,s),t.stateNode===null)el(e,t),$x(t,n,r),vd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=Xt(n)?gs:Ot.current,u=lo(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&dp(t,i,r,u),Pr=!1;var m=t.memoizedState;i.state=m,Cl(t,r,i,s),c=t.memoizedState,l!==r||m!==c||Gt.current||Pr?(typeof h=="function"&&(gd(t,n,h,r),c=t.memoizedState),(l=Pr||up(t,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,vx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cn(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=Xt(n)?gs:Ot.current,c=lo(t,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&dp(t,i,r,c),Pr=!1,m=t.memoizedState,i.state=m,Cl(t,r,i,s);var w=t.memoizedState;l!==f||m!==w||Gt.current||Pr?(typeof p=="function"&&(gd(t,n,p,r),w=t.memoizedState),(u=Pr||up(t,n,u,r,m,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return wd(e,t,n,r,a,s)}function wd(e,t,n,r,s,a){Wx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&np(t,n,!1),hr(e,t,a);r=t.stateNode,dj.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=uo(t,e.child,null,a),t.child=uo(t,null,l,a)):Mt(e,t,l,a),t.memoizedState=r.state,s&&np(t,n,!0),t.child}function Vx(e){var t=e.stateNode;t.pendingContext?tp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tp(e,t.context,!1),Bf(e,t.containerInfo)}function xp(e,t,n,r,s){return co(),Lf(s),t.flags|=256,Mt(e,t,n,r),t.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function Sd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hx(e,t,n){var r=t.pendingProps,s=Ze.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),We(Ze,s&1),e===null)return md(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ic(i,r,0,null),e=ms(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Sd(n),t.memoizedState=bd,e):qf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return fj(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Vr(l,a):(a=ms(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Sd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=bd,r}return a=e.child,e=a.sibling,r=Vr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qf(e,t){return t=ic({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ni(e,t,n,r){return r!==null&&Lf(r),uo(t,e.child,null,n),e=qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fj(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=iu(Error(Q(422))),Ni(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=ic({mode:"visible",children:r.children},s,0,null),a=ms(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&uo(t,e.child,null,i),t.child.memoizedState=Sd(i),t.memoizedState=bd,a);if(!(t.mode&1))return Ni(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Q(419)),r=iu(a,r,void 0),Ni(e,t,i,r)}if(l=(i&e.childLanes)!==0,Kt||l){if(r=jt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,fr(e,s),Pn(r,e,s,-1))}return nh(),r=iu(Error(Q(421))),Ni(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Cj.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,en=Fr(s.nextSibling),nn=t,qe=!0,En=null,e!==null&&(un[dn++]=or,un[dn++]=ar,un[dn++]=vs,or=e.id,ar=e.overflow,vs=t),t=qf(t,r.children),t.flags|=4096,t)}function yp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pd(e.return,t,n)}function lu(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Kx(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Mt(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yp(e,n,t);else if(e.tag===19)yp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&kl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),lu(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}lu(t,!0,n,null,a);break;case"together":lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ys|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=Vr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hj(e,t,n){switch(t.tag){case 3:Vx(t),co();break;case 5:xx(t);break;case 1:Xt(t.type)&&wl(t);break;case 4:Bf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;We(Nl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?Hx(e,t,n):(We(Ze,Ze.current&1),e=hr(e,t,n),e!==null?e.sibling:null);We(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Kx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Bx(e,t,n)}return hr(e,t,n)}var Yx,Nd,Gx,Xx;Yx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nd=function(){};Gx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,us(Kn.current);var a=null;switch(n){case"input":s=Hu(e,s),r=Hu(e,r),a=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),a=[];break;case"textarea":s=Gu(e,s),r=Gu(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xl)}qu(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ma.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ma.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ke("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Xx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fo(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mj(e,t,n){var r=t.pendingProps;switch(Of(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Xt(t.type)&&yl(),_t(t),null;case 3:return r=t.stateNode,fo(),Ye(Gt),Ye(Ot),Vf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(_d(En),En=null))),Nd(e,t),_t(t),null;case 5:Wf(t);var s=us(ka.current);if(n=t.type,e!==null&&t.stateNode!=null)Gx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return _t(t),null}if(e=us(Kn.current),bi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Un]=t,r[ja]=a,e=(t.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<Jo.length;s++)Ke(Jo[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Tm(r,a),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ke("invalid",r);break;case"textarea":Rm(r,a),Ke("invalid",r)}qu(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&wi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&wi(r.textContent,l,e),s=["children",""+l]):ma.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ke("scroll",r)}switch(n){case"input":fi(r),Pm(r,a,!0);break;case"textarea":fi(r),_m(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Un]=t,e[ja]=r,Yx(e,t,!1,!1),t.stateNode=e;e:{switch(i=Qu(n,r),n){case"dialog":Ke("cancel",e),Ke("close",e),s=r;break;case"iframe":case"object":case"embed":Ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<Jo.length;s++)Ke(Jo[s],e);s=r;break;case"source":Ke("error",e),s=r;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=r;break;case"details":Ke("toggle",e),s=r;break;case"input":Tm(e,r),s=Hu(e,r),Ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),Ke("invalid",e);break;case"textarea":Rm(e,r),s=Gu(e,r),Ke("invalid",e);break;default:s=r}qu(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?kv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jv(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pa(e,c):typeof c=="number"&&pa(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ma.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ke("scroll",e):c!=null&&wf(e,a,c,i))}switch(n){case"input":fi(e),Pm(e,r,!1);break;case"textarea":fi(e),_m(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Qs(e,!!r.multiple,a,!1):r.defaultValue!=null&&Qs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)Xx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=us(ka.current),us(Kn.current),bi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Un]=t,(a=r.nodeValue!==n)&&(e=nn,e!==null))switch(e.tag){case 3:wi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=t,t.stateNode=r}return _t(t),null;case 13:if(Ye(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&en!==null&&t.mode&1&&!(t.flags&128))hx(),co(),t.flags|=98560,a=!1;else if(a=bi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[Un]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),a=!1}else En!==null&&(_d(En),En=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?bt===0&&(bt=3):nh())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return fo(),Nd(e,t),e===null&&Sa(t.stateNode.containerInfo),_t(t),null;case 10:return zf(t.type._context),_t(t),null;case 17:return Xt(t.type)&&yl(),_t(t),null;case 19:if(Ye(Ze),a=t.memoizedState,a===null)return _t(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Fo(a,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=kl(e),i!==null){for(t.flags|=128,Fo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Ze,Ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&ft()>mo&&(t.flags|=128,r=!0,Fo(a,!1),t.lanes=4194304)}else{if(!r)if(e=kl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!qe)return _t(t),null}else 2*ft()-a.renderingStartTime>mo&&n!==1073741824&&(t.flags|=128,r=!0,Fo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ft(),t.sibling=null,n=Ze.current,We(Ze,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return th(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function pj(e,t){switch(Of(t),t.tag){case 1:return Xt(t.type)&&yl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),Ye(Gt),Ye(Ot),Vf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wf(t),null;case 13:if(Ye(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(Ze),null;case 4:return fo(),null;case 10:return zf(t.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var ji=!1,At=!1,gj=typeof WeakSet=="function"?WeakSet:Set,le=null;function Gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function jd(e,t,n){try{n()}catch(r){rt(e,t,r)}}var wp=!1;function vj(e,t){if(id=pl,e=ex(),If(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=i),m===a&&++h===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ld={focusedElem:e,selectionRange:n},pl=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Cn(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(N){rt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return w=wp,wp=!1,w}function la(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&jd(t,n,a)}s=s.next}while(s!==r)}}function oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qx(e){var t=e.alternate;t!==null&&(e.alternate=null,qx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[ja],delete t[dd],delete t[ZN],delete t[ej])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qx(e){return e.tag===5||e.tag===3||e.tag===4}function bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xl));else if(r!==4&&(e=e.child,e!==null))for(kd(e,t,n),e=e.sibling;e!==null;)kd(e,t,n),e=e.sibling}function Ed(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ed(e,t,n),e=e.sibling;e!==null;)Ed(e,t,n),e=e.sibling}var Ct=null,kn=!1;function jr(e,t,n){for(n=n.child;n!==null;)Jx(e,t,n),n=n.sibling}function Jx(e,t,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Ql,n)}catch{}switch(n.tag){case 5:At||Gs(n,t);case 6:var r=Ct,s=kn;Ct=null,jr(e,t,n),Ct=r,kn=s,Ct!==null&&(kn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(kn?(e=Ct,n=n.stateNode,e.nodeType===8?tu(e.parentNode,n):e.nodeType===1&&tu(e,n),ya(e)):tu(Ct,n.stateNode));break;case 4:r=Ct,s=kn,Ct=n.stateNode.containerInfo,kn=!0,jr(e,t,n),Ct=r,kn=s;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&jd(n,t,i),s=s.next}while(s!==r)}jr(e,t,n);break;case 1:if(!At&&(Gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rt(n,t,l)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,jr(e,t,n),At=r):jr(e,t,n);break;default:jr(e,t,n)}}function Sp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gj),t.forEach(function(r){var s=kj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,kn=!1;break e;case 3:Ct=l.stateNode.containerInfo,kn=!0;break e;case 4:Ct=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(Ct===null)throw Error(Q(160));Jx(a,i,s),Ct=null,kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){rt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zx(t,e),t=t.sibling}function Zx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),zn(e),r&4){try{la(3,e,e.return),oc(3,e)}catch(x){rt(e,e.return,x)}try{la(5,e,e.return)}catch(x){rt(e,e.return,x)}}break;case 1:wn(t,e),zn(e),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(wn(t,e),zn(e),r&512&&n!==null&&Gs(n,n.return),e.flags&32){var s=e.stateNode;try{pa(s,"")}catch(x){rt(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&bv(s,a),Qu(l,i);var u=Qu(l,a);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?kv(s,f):h==="dangerouslySetInnerHTML"?jv(s,f):h==="children"?pa(s,f):wf(s,h,f,u)}switch(l){case"input":Ku(s,a);break;case"textarea":Sv(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Qs(s,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?Qs(s,!!a.multiple,a.defaultValue,!0):Qs(s,!!a.multiple,a.multiple?[]:"",!1))}s[ja]=a}catch(x){rt(e,e.return,x)}}break;case 6:if(wn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){rt(e,e.return,x)}}break;case 3:if(wn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(x){rt(e,e.return,x)}break;case 4:wn(t,e),zn(e);break;case 13:wn(t,e),zn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Zf=ft())),r&4&&Sp(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(At=(u=At)||h,wn(t,e),At=u):wn(t,e),zn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(le=e,h=e.child;h!==null;){for(f=le=h;le!==null;){switch(m=le,p=m.child,m.tag){case 0:case 11:case 14:case 15:la(4,m,m.return);break;case 1:Gs(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){rt(r,n,x)}}break;case 5:Gs(m,m.return);break;case 22:if(m.memoizedState!==null){jp(f);continue}}p!==null?(p.return=m,le=p):jp(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Cv("display",i))}catch(x){rt(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){rt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wn(t,e),zn(e),r&4&&Sp(e);break;case 21:break;default:wn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qx(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pa(s,""),r.flags&=-33);var a=bp(e);Ed(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=bp(e);kd(e,l,i);break;default:throw Error(Q(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xj(e,t,n){le=e,e0(e)}function e0(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var s=le,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ji;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||At;l=ji;var u=At;if(ji=i,(At=c)&&!u)for(le=s;le!==null;)i=le,c=i.child,i.tag===22&&i.memoizedState!==null?Cp(s):c!==null?(c.return=i,le=c):Cp(s);for(;a!==null;)le=a,e0(a),a=a.sibling;le=s,ji=l,At=u}Np(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,le=a):Np(e)}}function Np(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||oc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!At)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Cn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ip(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ip(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}At||t.flags&512&&Cd(t)}catch(m){rt(t,t.return,m)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function jp(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Cp(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oc(4,t)}catch(c){rt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){rt(t,s,c)}}var a=t.return;try{Cd(t)}catch(c){rt(t,a,c)}break;case 5:var i=t.return;try{Cd(t)}catch(c){rt(t,i,c)}}}catch(c){rt(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var yj=Math.ceil,Pl=vr.ReactCurrentDispatcher,Qf=vr.ReactCurrentOwner,hn=vr.ReactCurrentBatchConfig,Ae=0,jt=null,vt=null,kt=0,Qt=0,Xs=es(0),bt=0,Ra=null,ys=0,ac=0,Jf=0,ca=null,Ht=null,Zf=0,mo=1/0,rr=null,Rl=!1,Td=null,Br=null,Ci=!1,Lr=null,_l=0,ua=0,Pd=null,tl=-1,nl=0;function Ft(){return Ae&6?ft():tl!==-1?tl:tl=ft()}function Wr(e){return e.mode&1?Ae&2&&kt!==0?kt&-kt:nj.transition!==null?(nl===0&&(nl=$v()),nl):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Hv(e.type)),e):1}function Pn(e,t,n,r){if(50<ua)throw ua=0,Pd=null,Error(Q(185));Ua(e,n,r),(!(Ae&2)||e!==jt)&&(e===jt&&(!(Ae&2)&&(ac|=n),bt===4&&Ar(e,kt)),qt(e,r),n===1&&Ae===0&&!(t.mode&1)&&(mo=ft()+500,nc&&ts()))}function qt(e,t){var n=e.callbackNode;nN(e,t);var r=ml(e,e===jt?kt:0);if(r===0)n!==null&&Dm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dm(n),t===1)e.tag===0?tj(kp.bind(null,e)):ux(kp.bind(null,e)),QN(function(){!(Ae&6)&&ts()}),n=null;else{switch(zv(r)){case 1:n=Cf;break;case 4:n=Lv;break;case 16:n=hl;break;case 536870912:n=Mv;break;default:n=hl}n=l0(n,t0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function t0(e,t){if(tl=-1,nl=0,Ae&6)throw Error(Q(327));var n=e.callbackNode;if(no()&&e.callbackNode!==n)return null;var r=ml(e,e===jt?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Al(e,r);else{t=r;var s=Ae;Ae|=2;var a=r0();(jt!==e||kt!==t)&&(rr=null,mo=ft()+500,hs(e,t));do try{Sj();break}catch(l){n0(e,l)}while(!0);$f(),Pl.current=a,Ae=s,vt!==null?t=0:(jt=null,kt=0,t=bt)}if(t!==0){if(t===2&&(s=nd(e),s!==0&&(r=s,t=Rd(e,s))),t===1)throw n=Ra,hs(e,0),Ar(e,r),qt(e,ft()),n;if(t===6)Ar(e,r);else{if(s=e.current.alternate,!(r&30)&&!wj(s)&&(t=Al(e,r),t===2&&(a=nd(e),a!==0&&(r=a,t=Rd(e,a))),t===1))throw n=Ra,hs(e,0),Ar(e,r),qt(e,ft()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:as(e,Ht,rr);break;case 3:if(Ar(e,r),(r&130023424)===r&&(t=Zf+500-ft(),10<t)){if(ml(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ud(as.bind(null,e,Ht,rr),t);break}as(e,Ht,rr);break;case 4:if(Ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Tn(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yj(r/1960))-r,10<r){e.timeoutHandle=ud(as.bind(null,e,Ht,rr),r);break}as(e,Ht,rr);break;case 5:as(e,Ht,rr);break;default:throw Error(Q(329))}}}return qt(e,ft()),e.callbackNode===n?t0.bind(null,e):null}function Rd(e,t){var n=ca;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=Al(e,t),e!==2&&(t=Ht,Ht=n,t!==null&&_d(t)),e}function _d(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function wj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Rn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ar(e,t){for(t&=~Jf,t&=~ac,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tn(t),r=1<<n;e[n]=-1,t&=~r}}function kp(e){if(Ae&6)throw Error(Q(327));no();var t=ml(e,0);if(!(t&1))return qt(e,ft()),null;var n=Al(e,t);if(e.tag!==0&&n===2){var r=nd(e);r!==0&&(t=r,n=Rd(e,r))}if(n===1)throw n=Ra,hs(e,0),Ar(e,t),qt(e,ft()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,as(e,Ht,rr),qt(e,ft()),null}function eh(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(mo=ft()+500,nc&&ts())}}function ws(e){Lr!==null&&Lr.tag===0&&!(Ae&6)&&no();var t=Ae;Ae|=1;var n=hn.transition,r=Me;try{if(hn.transition=null,Me=1,e)return e()}finally{Me=r,hn.transition=n,Ae=t,!(Ae&6)&&ts()}}function th(){Qt=Xs.current,Ye(Xs)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qN(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Of(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yl();break;case 3:fo(),Ye(Gt),Ye(Ot),Vf();break;case 5:Wf(r);break;case 4:fo();break;case 13:Ye(Ze);break;case 19:Ye(Ze);break;case 10:zf(r.type._context);break;case 22:case 23:th()}n=n.return}if(jt=e,vt=e=Vr(e.current,null),kt=Qt=t,bt=0,Ra=null,Jf=ac=ys=0,Ht=ca=null,cs!==null){for(t=0;t<cs.length;t++)if(n=cs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}cs=null}return e}function n0(e,t){do{var n=vt;try{if($f(),Ji.current=Tl,El){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}El=!1}if(xs=0,Nt=wt=et=null,ia=!1,Ea=0,Qf.current=null,n===null||n.return===null){bt=1,Ra=t,vt=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=hp(i);if(p!==null){p.flags&=-257,mp(p,i,l,a,t),p.mode&1&&fp(a,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){fp(a,u,t),nh();break e}c=Error(Q(426))}}else if(qe&&l.mode&1){var b=hp(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mp(b,i,l,a,t),Lf(ho(c,l));break e}}a=c=ho(c,l),bt!==4&&(bt=2),ca===null?ca=[a]:ca.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=zx(a,c,t);ap(a,g);break e;case 1:l=c;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Br===null||!Br.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Fx(a,l,t);ap(a,N);break e}}a=a.return}while(a!==null)}o0(n)}catch(E){t=E,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function r0(){var e=Pl.current;return Pl.current=Tl,e===null?Tl:e}function nh(){(bt===0||bt===3||bt===2)&&(bt=4),jt===null||!(ys&268435455)&&!(ac&268435455)||Ar(jt,kt)}function Al(e,t){var n=Ae;Ae|=2;var r=r0();(jt!==e||kt!==t)&&(rr=null,hs(e,t));do try{bj();break}catch(s){n0(e,s)}while(!0);if($f(),Ae=n,Pl.current=r,vt!==null)throw Error(Q(261));return jt=null,kt=0,bt}function bj(){for(;vt!==null;)s0(vt)}function Sj(){for(;vt!==null&&!YS();)s0(vt)}function s0(e){var t=i0(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?o0(e):vt=t,Qf.current=null}function o0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pj(n,t),n!==null){n.flags&=32767,vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,vt=null;return}}else if(n=mj(n,t,Qt),n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);bt===0&&(bt=5)}function as(e,t,n){var r=Me,s=hn.transition;try{hn.transition=null,Me=1,Nj(e,t,n,r)}finally{hn.transition=s,Me=r}return null}function Nj(e,t,n,r){do no();while(Lr!==null);if(Ae&6)throw Error(Q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(rN(e,a),e===jt&&(vt=jt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ci||(Ci=!0,l0(hl,function(){return no(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var i=Me;Me=1;var l=Ae;Ae|=4,Qf.current=null,vj(e,n),Zx(n,e),WN(ld),pl=!!id,ld=id=null,e.current=n,xj(n),GS(),Ae=l,Me=i,hn.transition=a}else e.current=n;if(Ci&&(Ci=!1,Lr=e,_l=s),a=e.pendingLanes,a===0&&(Br=null),QS(n.stateNode),qt(e,ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rl)throw Rl=!1,e=Td,Td=null,e;return _l&1&&e.tag!==0&&no(),a=e.pendingLanes,a&1?e===Pd?ua++:(ua=0,Pd=e):ua=0,ts(),null}function no(){if(Lr!==null){var e=zv(_l),t=hn.transition,n=Me;try{if(hn.transition=null,Me=16>e?16:e,Lr===null)var r=!1;else{if(e=Lr,Lr=null,_l=0,Ae&6)throw Error(Q(331));var s=Ae;for(Ae|=4,le=e.current;le!==null;){var a=le,i=a.child;if(le.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(le=u;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:la(8,h,a)}var f=h.child;if(f!==null)f.return=h,le=f;else for(;le!==null;){h=le;var m=h.sibling,p=h.return;if(qx(h),h===u){le=null;break}if(m!==null){m.return=p,le=m;break}le=p}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}le=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,le=i;else e:for(;le!==null;){if(a=le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:la(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,le=g;break e}le=a.return}}var v=e.current;for(le=v;le!==null;){i=le;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,le=y;else e:for(i=v;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oc(9,l)}}catch(E){rt(l,l.return,E)}if(l===i){le=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,le=N;break e}le=l.return}}if(Ae=s,ts(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Ql,e)}catch{}r=!0}return r}finally{Me=n,hn.transition=t}}return!1}function Ep(e,t,n){t=ho(n,t),t=zx(e,t,1),e=Ur(e,t,1),t=Ft(),e!==null&&(Ua(e,1,t),qt(e,t))}function rt(e,t,n){if(e.tag===3)Ep(e,e,n);else for(;t!==null;){if(t.tag===3){Ep(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){e=ho(n,e),e=Fx(t,e,1),t=Ur(t,e,1),e=Ft(),t!==null&&(Ua(t,1,e),qt(t,e));break}}t=t.return}}function jj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(kt&n)===n&&(bt===4||bt===3&&(kt&130023424)===kt&&500>ft()-Zf?hs(e,0):Jf|=n),qt(e,t)}function a0(e,t){t===0&&(e.mode&1?(t=pi,pi<<=1,!(pi&130023424)&&(pi=4194304)):t=1);var n=Ft();e=fr(e,t),e!==null&&(Ua(e,t,n),qt(e,n))}function Cj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),a0(e,n)}function kj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),a0(e,n)}var i0;i0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kt=!1,hj(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,qe&&t.flags&1048576&&dx(t,Sl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var s=lo(t,Ot.current);to(t,n),s=Kf(null,t,r,e,s,n);var a=Yf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(r)?(a=!0,wl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uf(t),s.updater=sc,t.stateNode=s,s._reactInternals=t,vd(t,r,e,n),t=wd(null,t,r,!0,a,n)):(t.tag=0,qe&&a&&Df(t),Mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Tj(r),e=Cn(r,e),s){case 0:t=yd(null,t,r,e,n);break e;case 1:t=vp(null,t,r,e,n);break e;case 11:t=pp(null,t,r,e,n);break e;case 14:t=gp(null,t,r,Cn(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),yd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),vp(e,t,r,s,n);case 3:e:{if(Vx(t),e===null)throw Error(Q(387));r=t.pendingProps,a=t.memoizedState,s=a.element,vx(e,t),Cl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ho(Error(Q(423)),t),t=xp(e,t,r,n,s);break e}else if(r!==s){s=ho(Error(Q(424)),t),t=xp(e,t,r,n,s);break e}else for(en=Fr(t.stateNode.containerInfo.firstChild),nn=t,qe=!0,En=null,n=px(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===s){t=hr(e,t,n);break e}Mt(e,t,r,n)}t=t.child}return t;case 5:return xx(t),e===null&&md(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,cd(r,s)?i=null:a!==null&&cd(r,a)&&(t.flags|=32),Wx(e,t),Mt(e,t,i,n),t.child;case 6:return e===null&&md(t),null;case 13:return Hx(e,t,n);case 4:return Bf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uo(t,null,r,n):Mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),pp(e,t,r,s,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,We(Nl,r._currentValue),r._currentValue=i,a!==null)if(Rn(a.value,i)){if(a.children===s.children&&!Gt.current){t=hr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ir(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),pd(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Q(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),pd(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,to(t,n),s=pn(s),r=r(s),t.flags|=1,Mt(e,t,r,n),t.child;case 14:return r=t.type,s=Cn(r,t.pendingProps),s=Cn(r.type,s),gp(e,t,r,s,n);case 15:return Ux(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),el(e,t),t.tag=1,Xt(r)?(e=!0,wl(t)):e=!1,to(t,n),$x(t,r,s),vd(t,r,s,n),wd(null,t,r,!0,e,n);case 19:return Kx(e,t,n);case 22:return Bx(e,t,n)}throw Error(Q(156,t.tag))};function l0(e,t){return Ov(e,t)}function Ej(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,r){return new Ej(e,t,n,r)}function rh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tj(e){if(typeof e=="function")return rh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sf)return 11;if(e===Nf)return 14}return 2}function Vr(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")rh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zs:return ms(n.children,s,a,t);case bf:i=8,s|=8;break;case Uu:return e=fn(12,n,t,s|2),e.elementType=Uu,e.lanes=a,e;case Bu:return e=fn(13,n,t,s),e.elementType=Bu,e.lanes=a,e;case Wu:return e=fn(19,n,t,s),e.elementType=Wu,e.lanes=a,e;case xv:return ic(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gv:i=10;break e;case vv:i=9;break e;case Sf:i=11;break e;case Nf:i=14;break e;case Tr:i=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=fn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ms(e,t,n,r){return e=fn(7,e,r,t),e.lanes=n,e}function ic(e,t,n,r){return e=fn(22,e,r,t),e.elementType=xv,e.lanes=n,e.stateNode={isHidden:!1},e}function cu(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function uu(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pj(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sh(e,t,n,r,s,a,i,l,c){return e=new Pj(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=fn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(a),e}function Rj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function c0(e){if(!e)return Yr;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Xt(n))return cx(e,n,t)}return t}function u0(e,t,n,r,s,a,i,l,c){return e=sh(n,r,!0,e,s,a,i,l,c),e.context=c0(null),n=e.current,r=Ft(),s=Wr(n),a=ir(r,s),a.callback=t??null,Ur(n,a,s),e.current.lanes=s,Ua(e,s,r),qt(e,r),e}function lc(e,t,n,r){var s=t.current,a=Ft(),i=Wr(s);return n=c0(n),t.context===null?t.context=n:t.pendingContext=n,t=ir(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ur(s,t,i),e!==null&&(Pn(e,s,i,a),Qi(e,s,i)),i}function Il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oh(e,t){Tp(e,t),(e=e.alternate)&&Tp(e,t)}function _j(){return null}var d0=typeof reportError=="function"?reportError:function(e){console.error(e)};function ah(e){this._internalRoot=e}cc.prototype.render=ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));lc(e,t,null,null)};cc.prototype.unmount=ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){lc(null,e,null,null)}),t[dr]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&Vv(e)}};function ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pp(){}function Aj(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Il(i);a.call(u)}}var i=u0(t,r,e,0,null,!1,!1,"",Pp);return e._reactRootContainer=i,e[dr]=i.current,Sa(e.nodeType===8?e.parentNode:e),ws(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Il(c);l.call(u)}}var c=sh(e,0,!1,null,null,!1,!1,"",Pp);return e._reactRootContainer=c,e[dr]=c.current,Sa(e.nodeType===8?e.parentNode:e),ws(function(){lc(t,c,n,r)}),c}function dc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Il(i);l.call(c)}}lc(t,i,e,s)}else i=Aj(n,t,e,s,r);return Il(i)}Fv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qo(t.pendingLanes);n!==0&&(kf(t,n|1),qt(t,ft()),!(Ae&6)&&(mo=ft()+500,ts()))}break;case 13:ws(function(){var r=fr(e,1);if(r!==null){var s=Ft();Pn(r,e,1,s)}}),oh(e,1)}};Ef=function(e){if(e.tag===13){var t=fr(e,134217728);if(t!==null){var n=Ft();Pn(t,e,134217728,n)}oh(e,134217728)}};Uv=function(e){if(e.tag===13){var t=Wr(e),n=fr(e,t);if(n!==null){var r=Ft();Pn(n,e,t,r)}oh(e,t)}};Bv=function(){return Me};Wv=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};Zu=function(e,t,n){switch(t){case"input":if(Ku(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=tc(r);if(!s)throw Error(Q(90));wv(r),Ku(r,s)}}}break;case"textarea":Sv(e,n);break;case"select":t=n.value,t!=null&&Qs(e,!!n.multiple,t,!1)}};Pv=eh;Rv=ws;var Ij={usingClientEntryPoint:!1,Events:[Wa,Ws,tc,Ev,Tv,eh]},Uo={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dj={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iv(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||_j,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{Ql=ki.inject(Dj),Hn=ki}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ij;on.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ih(t))throw Error(Q(200));return Rj(e,t,null,n)};on.createRoot=function(e,t){if(!ih(e))throw Error(Q(299));var n=!1,r="",s=d0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sh(e,1,!1,null,null,n,!1,r,s),e[dr]=t.current,Sa(e.nodeType===8?e.parentNode:e),new ah(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Iv(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return ws(e)};on.hydrate=function(e,t,n){if(!uc(t))throw Error(Q(200));return dc(null,e,t,!0,n)};on.hydrateRoot=function(e,t,n){if(!ih(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=d0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=u0(t,null,e,1,n??null,s,!1,a,i),e[dr]=t.current,Sa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new cc(t)};on.render=function(e,t,n){if(!uc(t))throw Error(Q(200));return dc(null,e,t,!1,n)};on.unmountComponentAtNode=function(e){if(!uc(e))throw Error(Q(40));return e._reactRootContainer?(ws(function(){dc(null,null,e,!1,function(){e._reactRootContainer=null,e[dr]=null})}),!0):!1};on.unstable_batchedUpdates=eh;on.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uc(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return dc(e,t,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function f0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f0)}catch(e){console.error(e)}}f0(),fv.exports=on;var So=fv.exports;const h0=hf(So);var Rp=So;zu.createRoot=Rp.createRoot,zu.hydrateRoot=Rp.hydrateRoot;var lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.parse=Uj;lh.serialize=Bj;const Oj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Lj=/^[\u0021-\u003A\u003C-\u007E]*$/,Mj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,$j=/^[\u0020-\u003A\u003D-\u007E]*$/,zj=Object.prototype.toString,Fj=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Uj(e,t){const n=new Fj,r=e.length;if(r<2)return n;const s=(t==null?void 0:t.decode)||Wj;let a=0;do{const i=e.indexOf("=",a);if(i===-1)break;const l=e.indexOf(";",a),c=l===-1?r:l;if(i>c){a=e.lastIndexOf(";",i-1)+1;continue}const u=_p(e,a,i),h=Ap(e,i,u),f=e.slice(u,h);if(n[f]===void 0){let m=_p(e,i+1,c),p=Ap(e,c,m);const w=s(e.slice(m,p));n[f]=w}a=c+1}while(a<r);return n}function _p(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Ap(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function Bj(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Oj.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=r(t);if(!Lj.test(s))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+s;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!Mj.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!$j.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!Vj(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function Wj(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Vj(e){return zj.call(e)==="[object Date]"}var Ip="popstate";function Hj(e={}){function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return Ad("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_a(s)}return Yj(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kj(){return Math.random().toString(36).substring(2,10)}function Dp(e,t){return{usr:e.state,key:e.key,idx:t}}function Ad(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ha(t):t,state:n,key:t&&t.key||r||Kj()}}function _a({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ha(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Yj(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l="POP",c=null,u=h();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function h(){return(i.state||{idx:null}).idx}function f(){l="POP";let b=h(),g=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:g})}function m(b,g){l="PUSH";let v=Ad(x.location,b,g);u=h()+1;let y=Dp(v,u),N=x.createHref(v);try{i.pushState(y,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(N)}a&&c&&c({action:l,location:x.location,delta:1})}function p(b,g){l="REPLACE";let v=Ad(x.location,b,g);u=h();let y=Dp(v,u),N=x.createHref(v);i.replaceState(y,"",N),a&&c&&c({action:l,location:x.location,delta:0})}function w(b){return Gj(b)}let x={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ip,f),c=b,()=>{s.removeEventListener(Ip,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:p,go(b){return i.go(b)}};return x}function Gj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_a(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function m0(e,t,n="/"){return Xj(e,t,n,!1)}function Xj(e,t,n,r){let s=typeof t=="string"?Ha(t):t,a=mr(s.pathname||"/",n);if(a==null)return null;let i=p0(e);qj(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=i2(a);l=o2(i[c],u,r)}return l}function p0(e,t=[],n=[],r=""){let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=lr([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(St(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),p0(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:r2(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of g0(a.path))s(a,i,c)}),t}function g0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=g0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:s2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Qj=/^:[\w-]+$/,Jj=3,Zj=2,e2=1,t2=10,n2=-2,Op=e=>e==="*";function r2(e,t){let n=e.split("/"),r=n.length;return n.some(Op)&&(r+=n2),t&&(r+=Zj),n.filter(s=>!Op(s)).reduce((s,a)=>s+(Qj.test(a)?Jj:a===""?e2:t2),r)}function s2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function o2(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",f=Dl({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Dl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:lr([a,f.pathname]),pathnameBase:d2(lr([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=lr([a,f.pathnameBase]))}return i}function Dl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},m)=>{if(h==="*"){let w=l[m]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const p=l[m];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function a2(e,t=!1,n=!0){_n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function i2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function l2(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ha(e):e;return{pathname:n?n.startsWith("/")?n:c2(n,t):t,search:f2(r),hash:h2(s)}}function c2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function du(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v0(e){let t=u2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function x0(e,t,n,r=!1){let s;typeof e=="string"?s=Ha(e):(s={...e},St(!s.pathname||!s.pathname.includes("?"),du("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),du("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),du("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=l2(s,l),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var lr=e=>e.join("/").replace(/\/\/+/g,"/"),d2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var p2=["GET",...y0];new Set(p2);var No=d.createContext(null);No.displayName="DataRouter";var fc=d.createContext(null);fc.displayName="DataRouterState";var w0=d.createContext({isTransitioning:!1});w0.displayName="ViewTransition";var g2=d.createContext(new Map);g2.displayName="Fetchers";var v2=d.createContext(null);v2.displayName="Await";var Zn=d.createContext(null);Zn.displayName="Navigation";var hc=d.createContext(null);hc.displayName="Location";var xr=d.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var ch=d.createContext(null);ch.displayName="RouteError";function x2(e,{relative:t}={}){St(Ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Zn),{hash:s,pathname:a,search:i}=Ya(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:lr([n,a])),r.createHref({pathname:l,search:i,hash:s})}function Ka(){return d.useContext(hc)!=null}function yr(){return St(Ka(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(hc).location}var b0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S0(e){d.useContext(Zn).static||d.useLayoutEffect(e)}function N0(){let{isDataRoute:e}=d.useContext(xr);return e?_2():y2()}function y2(){St(Ka(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(No),{basename:t,navigator:n}=d.useContext(Zn),{matches:r}=d.useContext(xr),{pathname:s}=yr(),a=JSON.stringify(v0(r)),i=d.useRef(!1);return S0(()=>{i.current=!0}),d.useCallback((c,u={})=>{if(_n(i.current,b0),!i.current)return;if(typeof c=="number"){n.go(c);return}let h=x0(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:lr([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,a,s,e])}d.createContext(null);function Ya(e,{relative:t}={}){let{matches:n}=d.useContext(xr),{pathname:r}=yr(),s=JSON.stringify(v0(n));return d.useMemo(()=>x0(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function w2(e,t,n,r){St(Ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=d.useContext(Zn),{matches:a}=d.useContext(xr),i=a[a.length-1],l=i?i.params:{},c=i?i.pathname:"/",u=i?i.pathnameBase:"/",h=i&&i.route;{let g=h&&h.path||"";j0(c,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=yr(),m;m=f;let p=m.pathname||"/",w=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=m0(e,{pathname:w});return _n(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),_n(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),C2(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:lr([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:lr([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r)}function b2(){let e=R2(),t=m2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=d.createElement(d.Fragment,null,d.createElement("p",null," Hey developer "),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:a},"ErrorBoundary")," or"," ",d.createElement("code",{style:a},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,i)}var S2=d.createElement(b2,null),N2=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?d.createElement(xr.Provider,{value:this.props.routeContext},d.createElement(ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j2({routeContext:e,match:t,children:n}){let r=d.useContext(No);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(xr.Provider,{value:e},n)}function C2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);St(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let i=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:h,errors:f}=n,m=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){i=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,h)=>{let f,m=!1,p=null,w=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||S2,i&&(l<0&&h===0?(j0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===h&&(m=!0,w=u.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,h+1)),b=()=>{let g;return f?g=p:m?g=w:u.route.Component?g=d.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,d.createElement(j2,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?d.createElement(N2,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function uh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k2(e){let t=d.useContext(No);return St(t,uh(e)),t}function E2(e){let t=d.useContext(fc);return St(t,uh(e)),t}function T2(e){let t=d.useContext(xr);return St(t,uh(e)),t}function dh(e){let t=T2(e),n=t.matches[t.matches.length-1];return St(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function P2(){return dh("useRouteId")}function R2(){var r;let e=d.useContext(ch),t=E2("useRouteError"),n=dh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function _2(){let{router:e}=k2("useNavigate"),t=dh("useNavigate"),n=d.useRef(!1);return S0(()=>{n.current=!0}),d.useCallback(async(s,a={})=>{_n(n.current,b0),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Lp={};function j0(e,t,n){!t&&!Lp[e]&&(Lp[e]=!0,_n(!1,n))}d.memo(A2);function A2({routes:e,future:t,state:n}){return w2(e,void 0,n,t)}function I2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){St(!Ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof n=="string"&&(n=Ha(n));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:m="default"}=n,p=d.useMemo(()=>{let w=mr(c,i);return w==null?null:{location:{pathname:w,search:u,hash:h,state:f,key:m},navigationType:r}},[i,c,u,h,f,m,r]);return _n(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(Zn.Provider,{value:l},d.createElement(hc.Provider,{children:t,value:p}))}var sl="get",ol="application/x-www-form-urlencoded";function mc(e){return e!=null&&typeof e.tagName=="string"}function D2(e){return mc(e)&&e.tagName.toLowerCase()==="button"}function O2(e){return mc(e)&&e.tagName.toLowerCase()==="form"}function L2(e){return mc(e)&&e.tagName.toLowerCase()==="input"}function M2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $2(e,t){return e.button===0&&(!t||t==="_self")&&!M2(e)}function Id(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function z2(e,t){let n=Id(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var Ei=null;function F2(){if(Ei===null)try{new FormData(document.createElement("form"),0),Ei=!1}catch{Ei=!0}return Ei}var U2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fu(e){return e!=null&&!U2.has(e)?(_n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ol}"`),null):e}function B2(e,t){let n,r,s,a,i;if(O2(e)){let l=e.getAttribute("action");r=l?mr(l,t):null,n=e.getAttribute("method")||sl,s=fu(e.getAttribute("enctype"))||ol,a=new FormData(e)}else if(D2(e)||L2(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?mr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||sl,s=fu(e.getAttribute("formenctype"))||fu(l.getAttribute("enctype"))||ol,a=new FormData(l,e),!F2()){let{name:u,type:h,value:f}=e;if(h==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(mc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sl,r=null,s=ol,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}function fh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function W2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function H2(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await W2(a,n);return i.links?i.links():[]}return[]}));return X2(r.flat(1).filter(V2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Mp(e,t,n,r,s,a){let i=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function K2(e,t,{includeHydrateFallback:n}={}){return Y2(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Y2(e){return[...new Set(e)]}function G2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function X2(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(G2(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q2=new Set([100,101,204,205]);function Q2(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&mr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function C0(){let e=d.useContext(No);return fh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function J2(){let e=d.useContext(fc);return fh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hh=d.createContext(void 0);hh.displayName="FrameworkContext";function k0(){let e=d.useContext(hh);return fh(e,"You must render this element inside a <HydratedRouter> element"),e}function Z2(e,t){let n=d.useContext(hh),[r,s]=d.useState(!1),[a,i]=d.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,m=d.useRef(null);d.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=g=>{g.forEach(v=>{i(v.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[e]),d.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{s(!0)},w=()=>{s(!1),i(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:Bo(l,p),onBlur:Bo(c,w),onMouseEnter:Bo(u,p),onMouseLeave:Bo(h,w),onTouchStart:Bo(f,p)}]:[!1,m,{}]}function Bo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function eC({page:e,...t}){let{router:n}=C0(),r=d.useMemo(()=>m0(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?d.createElement(nC,{page:e,matches:r,...t}):null}function tC(e){let{manifest:t,routeModules:n}=k0(),[r,s]=d.useState([]);return d.useEffect(()=>{let a=!1;return H2(e,t,n).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,n]),r}function nC({page:e,matches:t,...n}){let r=yr(),{manifest:s,routeModules:a}=k0(),{basename:i}=C0(),{loaderData:l,matches:c}=J2(),u=d.useMemo(()=>Mp(e,t,c,s,r,"data"),[e,t,c,s,r]),h=d.useMemo(()=>Mp(e,t,c,s,r,"assets"),[e,t,c,s,r]),f=d.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(t.forEach(g=>{var y;let v=s.routes[g.route.id];!v||!v.hasLoader||(!u.some(N=>N.route.id===g.route.id)&&g.route.id in l&&((y=a[g.route.id])!=null&&y.shouldRevalidate)||v.hasClientLoader?x=!0:w.add(g.route.id))}),w.size===0)return[];let b=Q2(e,i);return x&&w.size>0&&b.searchParams.set("_routes",t.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[i,l,r,s,u,t,e,a]),m=d.useMemo(()=>K2(h,s),[h,s]),p=tC(h);return d.createElement(d.Fragment,null,f.map(w=>d.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),m.map(w=>d.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),p.map(({key:w,link:x})=>d.createElement("link",{key:w,...x})))}function rC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var E0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E0&&(window.__reactRouterVersion="7.6.3")}catch{}function sC({basename:e,children:t,window:n}){let r=d.useRef();r.current==null&&(r.current=Hj({window:n,v5Compat:!0}));let s=r.current,[a,i]=d.useState({action:s.action,location:s.location}),l=d.useCallback(c=>{d.startTransition(()=>i(c))},[i]);return d.useLayoutEffect(()=>s.listen(l),[s,l]),d.createElement(I2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var T0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P0=d.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,...m},p){let{basename:w}=d.useContext(Zn),x=typeof u=="string"&&T0.test(u),b,g=!1;if(typeof u=="string"&&x&&(b=u,E0))try{let S=new URL(window.location.href),k=u.startsWith("//")?new URL(S.protocol+u):new URL(u),_=mr(k.pathname,w);k.origin===S.origin&&_!=null?u=_+k.search+k.hash:g=!0}catch{_n(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=x2(u,{relative:s}),[y,N,E]=Z2(r,m),R=lC(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function P(S){t&&t(S),S.defaultPrevented||R(S)}let T=d.createElement("a",{...m,...E,href:b||v,onClick:g||a?t:P,ref:rC(p,N),target:c,"data-discover":!x&&n==="render"?"true":void 0});return y&&!x?d.createElement(d.Fragment,null,T,d.createElement(eC,{page:v})):T});P0.displayName="Link";var oC=d.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:i,viewTransition:l,children:c,...u},h){let f=Ya(i,{relative:u.relative}),m=yr(),p=d.useContext(fc),{navigator:w,basename:x}=d.useContext(Zn),b=p!=null&&mC(f)&&l===!0,g=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,v=m.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&x&&(y=mr(y,x)||y);const N=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=v===g||!s&&v.startsWith(g)&&v.charAt(N)==="/",R=y!=null&&(y===g||!s&&y.startsWith(g)&&y.charAt(g.length)==="/"),P={isActive:E,isPending:R,isTransitioning:b},T=E?t:void 0,S;typeof r=="function"?S=r(P):S=[r,E?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(P):a;return d.createElement(P0,{...u,"aria-current":T,className:S,ref:h,style:k,to:i,viewTransition:l},typeof c=="function"?c(P):c)});oC.displayName="NavLink";var aC=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:i=sl,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...m},p)=>{let w=fC(),x=hC(l,{relative:u}),b=i.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&T0.test(l),v=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let N=y.nativeEvent.submitter,E=(N==null?void 0:N.getAttribute("formmethod"))||i;w(N||y.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:s,state:a,relative:u,preventScrollReset:h,viewTransition:f})};return d.createElement("form",{ref:p,method:b,action:x,onSubmit:r?c:v,...m,"data-discover":!g&&e==="render"?"true":void 0})});aC.displayName="Form";function iC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(e){let t=d.useContext(No);return St(t,iC(e)),t}function lC(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=N0(),c=yr(),u=Ya(e,{relative:a});return d.useCallback(h=>{if($2(h,t)){h.preventDefault();let f=n!==void 0?n:_a(c)===_a(u);l(e,{replace:f,state:r,preventScrollReset:s,relative:a,viewTransition:i})}},[c,l,u,n,r,t,e,s,a,i])}function cC(e){_n(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=d.useRef(Id(e)),n=d.useRef(!1),r=yr(),s=d.useMemo(()=>z2(r.search,n.current?null:t.current),[r.search]),a=N0(),i=d.useCallback((l,c)=>{const u=Id(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,i]}var uC=0,dC=()=>`__${String(++uC)}__`;function fC(){let{router:e}=R0("useSubmit"),{basename:t}=d.useContext(Zn),n=P2();return d.useCallback(async(r,s={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=B2(r,t);if(s.navigate===!1){let h=s.fetcherKey||dC();await e.fetch(h,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function hC(e,{relative:t}={}){let{basename:n}=d.useContext(Zn),r=d.useContext(xr);St(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ya(e||".",{relative:t})},i=yr();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:lr([n,a.pathname])),_a(a)}function mC(e,t={}){let n=d.useContext(w0);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=R0("useViewTransitionState"),s=Ya(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=mr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=mr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dl(s.pathname,i)!=null||Dl(s.pathname,a)!=null}[...q2];var pC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vC=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:l,...c},u)=>d.createElement("svg",{ref:u,...pC,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${gC(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var fe=vC;const jo=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),$p=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),mh=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_0=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ro=fe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),A0=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),da=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Rr=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),xC=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),zp=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ps=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),qs=fe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),yC=fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Dd=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),wC=fe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),Ol=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Gr=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ph=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),bC=fe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),hu=fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),tn=fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ll=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),SC=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),NC=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jC=fe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Od=fe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),gh=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),CC=fe("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),Ml=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),I0=fe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),kC=fe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Fp=fe("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Et=fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Yt=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ts=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),vh=fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),EC=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),TC=fe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),PC=fe("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),RC=fe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),_C=fe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Xr=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Up=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Aa=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xh=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),AC=fe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),IC=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),D0=fe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),yh=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Bp=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),zt=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),DC=fe("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),OC=fe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),LC=fe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),MC=fe("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),$C=fe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),An=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var zC=e=>{switch(e){case"success":return BC;case"info":return VC;case"warning":return WC;case"error":return HC;default:return null}},FC=Array(12).fill(0),UC=({visible:e,className:t})=>ne.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ne.createElement("div",{className:"sonner-spinner"},FC.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),VC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YC=()=>{let[e,t]=ne.useState(document.hidden);return ne.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ld=1,GC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ld++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,i=r.then(async c=>{if(a=["resolve",c],ne.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(qC(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Ld++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new GC,XC=(e,t)=>{let n=(t==null?void 0:t.id)||Ld++;return Vt.addToast({title:e,...t,id:n}),n},qC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",QC=XC,JC=()=>Vt.toasts,ZC=()=>Vt.getActiveToasts(),Wo=Object.assign(QC,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:JC,getToasts:ZC});function ek(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ek(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ti(e){return e.label!==void 0}var tk=3,nk="32px",rk="16px",Wp=4e3,sk=356,ok=14,ak=20,ik=200;function bn(...e){return e.filter(Boolean).join(" ")}function lk(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var ck=e=>{var t,n,r,s,a,i,l,c,u,h,f;let{invert:m,toast:p,unstyled:w,interacting:x,setHeights:b,visibleToasts:g,heights:v,index:y,toasts:N,expanded:E,removeToast:R,defaultRichColors:P,closeButton:T,style:S,cancelButtonStyle:k,actionButtonStyle:_,className:C="",descriptionClassName:I="",duration:D,position:Y,gap:B,loadingIcon:M,expandByDefault:j,classNames:A,icons:L,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:$}=e,[ee,re]=ne.useState(null),[ce,Ee]=ne.useState(null),[Z,ae]=ne.useState(!1),[he,ge]=ne.useState(!1),[ie,we]=ne.useState(!1),[be,Be]=ne.useState(!1),[ht,W]=ne.useState(!1),[O,q]=ne.useState(0),[X,F]=ne.useState(0),V=ne.useRef(p.duration||D||Wp),oe=ne.useRef(null),de=ne.useRef(null),ye=y===0,ke=y+1<=g,me=p.type,ue=p.dismissible!==!1,Le=p.className||"",yt=p.descriptionClassName||"",it=ne.useMemo(()=>v.findIndex(xe=>xe.toastId===p.id)||0,[v,p.id]),mt=ne.useMemo(()=>{var xe;return(xe=p.closeButton)!=null?xe:T},[p.closeButton,T]),Qe=ne.useMemo(()=>p.duration||D||Wp,[p.duration,D]),lt=ne.useRef(0),nt=ne.useRef(0),K=ne.useRef(0),pe=ne.useRef(null),[Oe,se]=Y.split("-"),Ge=ne.useMemo(()=>v.reduce((xe,ve,Ce)=>Ce>=it?xe:xe+ve.height,0),[v,it]),pt=YC(),Nr=p.invert||m,ct=me==="loading";nt.current=ne.useMemo(()=>it*B+Ge,[it,Ge]),ne.useEffect(()=>{V.current=Qe},[Qe]),ne.useEffect(()=>{ae(!0)},[]),ne.useEffect(()=>{let xe=de.current;if(xe){let ve=xe.getBoundingClientRect().height;return F(ve),b(Ce=>[{toastId:p.id,height:ve,position:p.position},...Ce]),()=>b(Ce=>Ce.filter($e=>$e.toastId!==p.id))}},[b,p.id]),ne.useLayoutEffect(()=>{if(!Z)return;let xe=de.current,ve=xe.style.height;xe.style.height="auto";let Ce=xe.getBoundingClientRect().height;xe.style.height=ve,F(Ce),b($e=>$e.find(ze=>ze.toastId===p.id)?$e.map(ze=>ze.toastId===p.id?{...ze,height:Ce}:ze):[{toastId:p.id,height:Ce,position:p.position},...$e])},[Z,p.title,p.description,b,p.id]);let Wt=ne.useCallback(()=>{ge(!0),q(nt.current),b(xe=>xe.filter(ve=>ve.toastId!==p.id)),setTimeout(()=>{R(p)},ik)},[p,R,b,nt]);ne.useEffect(()=>{if(p.promise&&me==="loading"||p.duration===1/0||p.type==="loading")return;let xe;return E||x||$&&pt?(()=>{if(K.current<lt.current){let ve=new Date().getTime()-lt.current;V.current=V.current-ve}K.current=new Date().getTime()})():V.current!==1/0&&(lt.current=new Date().getTime(),xe=setTimeout(()=>{var ve;(ve=p.onAutoClose)==null||ve.call(p,p),Wt()},V.current)),()=>clearTimeout(xe)},[E,x,p,me,$,pt,Wt]),ne.useEffect(()=>{p.delete&&Wt()},[Wt,p.delete]);function Pt(){var xe,ve,Ce;return L!=null&&L.loading?ne.createElement("div",{className:bn(A==null?void 0:A.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":me==="loading"},L.loading):M?ne.createElement("div",{className:bn(A==null?void 0:A.loader,(ve=p==null?void 0:p.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":me==="loading"},M):ne.createElement(UC,{className:bn(A==null?void 0:A.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader),visible:me==="loading"})}return ne.createElement("li",{tabIndex:0,ref:de,className:bn(C,Le,A==null?void 0:A.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[me],(n=p==null?void 0:p.classNames)==null?void 0:n[me]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:P,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Z,"data-promise":!!p.promise,"data-swiped":ht,"data-removed":he,"data-visible":ke,"data-y-position":Oe,"data-x-position":se,"data-index":y,"data-front":ye,"data-swiping":ie,"data-dismissible":ue,"data-type":me,"data-invert":Nr,"data-swipe-out":be,"data-swipe-direction":ce,"data-expanded":!!(E||j&&Z),style:{"--index":y,"--toasts-before":y,"--z-index":N.length-y,"--offset":`${he?O:nt.current}px`,"--initial-height":j?"auto":`${X}px`,...S,...p.style},onDragEnd:()=>{we(!1),re(null),pe.current=null},onPointerDown:xe=>{ct||!ue||(oe.current=new Date,q(nt.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(we(!0),pe.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,ve,Ce,$e;if(be||!ue)return;pe.current=null;let ze=Number(((xe=de.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fe=Number(((ve=de.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ue=new Date().getTime()-((Ce=oe.current)==null?void 0:Ce.getTime()),Je=ee==="x"?ze:Fe,ut=Math.abs(Je)/Ue;if(Math.abs(Je)>=ak||ut>.11){q(nt.current),($e=p.onDismiss)==null||$e.call(p,p),Ee(ee==="x"?ze>0?"right":"left":Fe>0?"down":"up"),Wt(),Be(!0),W(!1);return}we(!1),re(null)},onPointerMove:xe=>{var ve,Ce,$e,ze;if(!pe.current||!ue||((ve=window.getSelection())==null?void 0:ve.toString().length)>0)return;let Fe=xe.clientY-pe.current.y,Ue=xe.clientX-pe.current.x,Je=(Ce=e.swipeDirections)!=null?Ce:lk(Y);!ee&&(Math.abs(Ue)>1||Math.abs(Fe)>1)&&re(Math.abs(Ue)>Math.abs(Fe)?"x":"y");let ut={x:0,y:0};ee==="y"?(Je.includes("top")||Je.includes("bottom"))&&(Je.includes("top")&&Fe<0||Je.includes("bottom")&&Fe>0)&&(ut.y=Fe):ee==="x"&&(Je.includes("left")||Je.includes("right"))&&(Je.includes("left")&&Ue<0||Je.includes("right")&&Ue>0)&&(ut.x=Ue),(Math.abs(ut.x)>0||Math.abs(ut.y)>0)&&W(!0),($e=de.current)==null||$e.style.setProperty("--swipe-amount-x",`${ut.x}px`),(ze=de.current)==null||ze.style.setProperty("--swipe-amount-y",`${ut.y}px`)}},mt&&!p.jsx?ne.createElement("button",{"aria-label":te,"data-disabled":ct,"data-close-button":!0,onClick:ct||!ue?()=>{}:()=>{var xe;Wt(),(xe=p.onDismiss)==null||xe.call(p,p)},className:bn(A==null?void 0:A.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=L==null?void 0:L.close)!=null?a:KC):null,p.jsx||d.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ne.createElement(ne.Fragment,null,me||p.icon||p.promise?ne.createElement("div",{"data-icon":"",className:bn(A==null?void 0:A.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Pt():null,p.type!=="loading"?p.icon||(L==null?void 0:L[me])||zC(me):null):null,ne.createElement("div",{"data-content":"",className:bn(A==null?void 0:A.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},ne.createElement("div",{"data-title":"",className:bn(A==null?void 0:A.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ne.createElement("div",{"data-description":"",className:bn(I,yt,A==null?void 0:A.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),d.isValidElement(p.cancel)?p.cancel:p.cancel&&Ti(p.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:xe=>{var ve,Ce;Ti(p.cancel)&&ue&&((Ce=(ve=p.cancel).onClick)==null||Ce.call(ve,xe),Wt())},className:bn(A==null?void 0:A.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,d.isValidElement(p.action)?p.action:p.action&&Ti(p.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||_,onClick:xe=>{var ve,Ce;Ti(p.action)&&((Ce=(ve=p.action).onClick)==null||Ce.call(ve,xe),!xe.defaultPrevented&&Wt())},className:bn(A==null?void 0:A.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Vp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function uk(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?rk:nk;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var dk=d.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:w=tk,toastOptions:x,dir:b=Vp(),gap:g=ok,loadingIcon:v,icons:y,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:E}=e,[R,P]=ne.useState([]),T=ne.useMemo(()=>Array.from(new Set([r].concat(R.filter($=>$.position).map($=>$.position)))),[R,r]),[S,k]=ne.useState([]),[_,C]=ne.useState(!1),[I,D]=ne.useState(!1),[Y,B]=ne.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=ne.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=ne.useRef(null),L=ne.useRef(!1),te=ne.useCallback($=>{P(ee=>{var re;return(re=ee.find(ce=>ce.id===$.id))!=null&&re.delete||Vt.dismiss($.id),ee.filter(({id:ce})=>ce!==$.id)})},[]);return ne.useEffect(()=>Vt.subscribe($=>{if($.dismiss){P(ee=>ee.map(re=>re.id===$.id?{...re,delete:!0}:re));return}setTimeout(()=>{h0.flushSync(()=>{P(ee=>{let re=ee.findIndex(ce=>ce.id===$.id);return re!==-1?[...ee.slice(0,re),{...ee[re],...$},...ee.slice(re+1)]:[$,...ee]})})})}),[]),ne.useEffect(()=>{if(h!=="system"){B(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:ee})=>{B(ee?"dark":"light")})}catch{$.addListener(({matches:re})=>{try{B(re?"dark":"light")}catch(ce){console.error(ce)}})}},[h]),ne.useEffect(()=>{R.length<=1&&C(!1)},[R]),ne.useEffect(()=>{let $=ee=>{var re,ce;s.every(Ee=>ee[Ee]||ee.code===Ee)&&(C(!0),(re=M.current)==null||re.focus()),ee.code==="Escape"&&(document.activeElement===M.current||(ce=M.current)!=null&&ce.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),ne.useEffect(()=>{if(M.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,L.current=!1)}},[M.current]),ne.createElement("section",{ref:t,"aria-label":`${N} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map(($,ee)=>{var re;let[ce,Ee]=$.split("-");return R.length?ne.createElement("ol",{key:$,dir:b==="auto"?Vp():b,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":ce,"data-lifted":_&&R.length>1&&!a,"data-x-position":Ee,style:{"--front-toast-height":`${((re=S[0])==null?void 0:re.height)||0}px`,"--width":`${sk}px`,"--gap":`${g}px`,...p,...uk(c,u)},onBlur:Z=>{L.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(L.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||L.current||(L.current=!0,A.current=Z.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{I||C(!1)},onDragEnd:()=>C(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},R.filter(Z=>!Z.position&&ee===0||Z.position===$).map((Z,ae)=>{var he,ge;return ne.createElement(ck,{key:Z.id,icons:y,index:ae,toast:Z,defaultRichColors:f,duration:(he=x==null?void 0:x.duration)!=null?he:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:w,closeButton:(ge=x==null?void 0:x.closeButton)!=null?ge:i,interacting:I,position:$,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:te,toasts:R.filter(ie=>ie.position==Z.position),heights:S.filter(ie=>ie.position==Z.position),setHeights:k,expandByDefault:a,gap:g,loadingIcon:v,expanded:_,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});function Hp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function O0(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Hp(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Hp(e[s],null)}}}}function Pe(...e){return d.useCallback(O0(...e),e)}function po(e){const t=fk(e),n=d.forwardRef((r,s)=>{const{children:a,...i}=r,l=d.Children.toArray(a),c=l.find(mk);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var L0=po("Slot");function fk(e){const t=d.forwardRef((n,r)=>{const{children:s,...a}=n;if(d.isValidElement(s)){const i=gk(s),l=pk(a,s.props);return s.type!==d.Fragment&&(l.ref=r?O0(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var M0=Symbol("radix.slottable");function hk(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=M0,t}function mk(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M0}function pk(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function gk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function z0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$0(e))&&(r&&(r+=" "),r+=t);return r}const Kp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yp=z0,F0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Yp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=a==null?void 0:a[u];if(h===null)return null;const m=Kp(h)||Kp(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...a,...l}[x]):{...a,...l}[x]===b})?[...u,f,m]:u},[]);return Yp(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};function vk(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=U0(t))&&(r&&(r+=" "),r+=n);return r}function U0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=U0(e[r]))&&(n&&(n+=" "),n+=t);return n}var wh="-";function xk(e){var t=wk(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(wh);return c[0]===""&&c.length!==1&&c.shift(),B0(c,t)||yk(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function B0(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?B0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(wh);return(i=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:i.classGroupId}}var Gp=/^\[(.+)\]$/;function yk(e){if(Gp.test(e)){var t=Gp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function wk(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=Sk(Object.entries(e.classGroups),n);return s.forEach(function(a){var i=a[0],l=a[1];Md(l,r,i,t)}),r}function Md(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:Xp(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(bk(s)){Md(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Md(c,Xp(t,l),n,r)})})}function Xp(e,t){var n=e;return t.split(wh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function bk(e){return e.isThemeGetter}function Sk(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,a]}):e}function Nk(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,i){n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var W0="!";function jk(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,h,f=0;f<i.length;f++){var m=i[f];if(c===0){if(m===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(m==="/"){h=f;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(W0),x=w?p.substring(1):p,b=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:b}}}function Ck(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function kk(e){return{cache:Nk(e.cacheSize),splitModifiers:jk(e),...xk(e)}}var Ek=/\s+/;function Tk(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Ek).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?h.substring(0,f):h),p=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:i};if(m=r(h),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=Ck(c).join(":"),x=u?w+W0:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,h=l+c;return a.has(h)?!1:(a.add(h),s(c,u).forEach(function(f){return a.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function Pk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,i=l;function l(u){var h=t[0],f=t.slice(1),m=f.reduce(function(p,w){return w(p)},h());return r=kk(m),s=r.cache.get,a=r.cache.set,i=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=Tk(u,r);return a(u,f),f}return function(){return i(vk.apply(null,arguments))}}function He(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var V0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rk=/^\d+\/\d+$/,_k=new Set(["px","full","screen"]),Ak=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ik=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dk=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Sn(e){return ds(e)||_k.has(e)||Rk.test(e)||$d(e)}function $d(e){return Ps(e,"length",Fk)}function Ok(e){return Ps(e,"size",H0)}function Lk(e){return Ps(e,"position",H0)}function Mk(e){return Ps(e,"url",Uk)}function Pi(e){return Ps(e,"number",ds)}function ds(e){return!Number.isNaN(Number(e))}function $k(e){return e.endsWith("%")&&ds(e.slice(0,-1))}function Vo(e){return qp(e)||Ps(e,"number",qp)}function _e(e){return V0.test(e)}function Ho(){return!0}function Cr(e){return Ak.test(e)}function zk(e){return Ps(e,"",Bk)}function Ps(e,t,n){var r=V0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Fk(e){return Ik.test(e)}function H0(){return!1}function Uk(e){return e.startsWith("url(")}function qp(e){return Number.isInteger(Number(e))}function Bk(e){return Dk.test(e)}function Wk(){var e=He("colors"),t=He("spacing"),n=He("blur"),r=He("brightness"),s=He("borderColor"),a=He("borderRadius"),i=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),u=He("grayscale"),h=He("hueRotate"),f=He("invert"),m=He("gap"),p=He("gradientColorStops"),w=He("gradientColorStopPositions"),x=He("inset"),b=He("margin"),g=He("opacity"),v=He("padding"),y=He("saturate"),N=He("scale"),E=He("sepia"),R=He("skew"),P=He("space"),T=He("translate"),S=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},_=function(){return["auto",_e,t]},C=function(){return[_e,t]},I=function(){return["",Sn]},D=function(){return["auto",ds,_e]},Y=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},B=function(){return["solid","dashed","dotted","double","none"]},M=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},j=function(){return["start","end","center","between","around","evenly","stretch"]},A=function(){return["","0",_e]},L=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},te=function(){return[ds,Pi]},$=function(){return[ds,_e]};return{cacheSize:500,theme:{colors:[Ho],spacing:[Sn],blur:["none","",Cr,_e],brightness:te(),borderColor:[e],borderRadius:["none","","full",Cr,_e],borderSpacing:C(),borderWidth:I(),contrast:te(),grayscale:A(),hueRotate:$(),invert:A(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[$k,$d],inset:_(),margin:_(),opacity:te(),padding:C(),saturate:te(),scale:te(),sepia:A(),skew:$(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Cr]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Y(),[_e])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vo]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Vo]}],"grid-cols":[{"grid-cols":[Ho]}],"col-start-end":[{col:["auto",{span:["full",Vo]},_e]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Ho]}],"row-start-end":[{row:["auto",{span:[Vo]},_e]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(j())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(j(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(j(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",_e,t]}],"min-w":[{"min-w":["min","max","fit",_e,Sn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Cr]},Cr,_e]}],h:[{h:[_e,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",_e,Sn]}],"max-h":[{"max-h":[_e,t,"min","max","fit"]}],"font-size":[{text:["base",Cr,$d]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pi]}],"font-family":[{font:[Ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",ds,Pi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_e,Sn]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(B(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn]}],"underline-offset":[{"underline-offset":["auto",_e,Sn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Y(),[Lk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ok]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(B(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(B())}],"outline-offset":[{"outline-offset":[_e,Sn]}],"outline-w":[{outline:[Sn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Sn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cr,zk]}],"shadow-color":[{shadow:[Ho]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":M()}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cr,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Vo,_e]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,Pi]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Vk=Pk(Wk);function Te(...e){return Vk(z0(e))}const bh=F0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function U({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?L0:"button";return o.jsx(a,{"data-slot":"button",className:Te(bh({variant:t,size:n,className:e})),...s})}function Hk(e,t){const n=d.createContext(t),r=a=>{const{children:i,...l}=a,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Ln(e,t=[]){let n=[];function r(a,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=f=>{var g;const{scope:m,children:p,...w}=f,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:b,children:p})};u.displayName=a+"Provider";function h(f,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const s=()=>{const a=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Kk(s,...t)]}function Kk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function It(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var xt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Yk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=Yk.reduce((e,t)=>{const n=po(`Primitive.${t}`),r=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Gk(e,t){e&&So.flushSync(()=>e.dispatchEvent(t))}var K0={exports:{}},Y0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=d;function Xk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qk=typeof Object.is=="function"?Object.is:Xk,Qk=go.useState,Jk=go.useEffect,Zk=go.useLayoutEffect,eE=go.useDebugValue;function tE(e,t){var n=t(),r=Qk({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return Zk(function(){s.value=n,s.getSnapshot=t,mu(s)&&a({inst:s})},[e,n,t]),Jk(function(){return mu(s)&&a({inst:s}),e(function(){mu(s)&&a({inst:s})})},[e]),eE(n),n}function mu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qk(e,n)}catch{return!0}}function nE(e,t){return t()}var rE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nE:tE;Y0.useSyncExternalStore=go.useSyncExternalStore!==void 0?go.useSyncExternalStore:rE;K0.exports=Y0;var sE=K0.exports;function oE(){return sE.useSyncExternalStore(aE,()=>!0,()=>!1)}function aE(){return()=>{}}var Sh="Avatar",[iE,L5]=Ln(Sh),[lE,G0]=iE(Sh),X0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=d.useState("idle");return o.jsx(lE,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(Ne.span,{...r,ref:t})})});X0.displayName=Sh;var q0="AvatarImage",Q0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=G0(q0,n),l=cE(r,a),c=It(u=>{s(u),i.onImageLoadingStatusChange(u)});return xt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Ne.img,{...a,ref:t,src:r}):null});Q0.displayName=q0;var J0="AvatarFallback",Z0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=G0(J0,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(Ne.span,{...s,ref:t}):null});Z0.displayName=J0;function Qp(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function cE(e,{referrerPolicy:t,crossOrigin:n}){const r=oE(),s=d.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>Qp(a,e));return xt(()=>{l(Qp(a,e))},[a,e]),xt(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),h=c("error");return a.addEventListener("load",u),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,n,t]),i}var uE=X0,dE=Q0,fE=Z0;function st({className:e,...t}){return o.jsx(uE,{"data-slot":"avatar",className:Te("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function ot({className:e,...t}){return o.jsx(dE,{"data-slot":"avatar-image",className:Te("aspect-square size-full",e),...t})}function at({className:e,...t}){return o.jsx(fE,{"data-slot":"avatar-fallback",className:Te("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class hE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const mE=new hE;var zd={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,a=n.XMLHttpRequest,i=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,h=n.Promise,f=n.fetch,m=n.Response,p=n.TextDecoder,w=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(W){u.readyState="complete"},!1)),a==null&&l!=null&&(a=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(W){function O(){}return O.prototype=W,new O}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var b=f;f=function(W,O){var q=O.signal;return b(W,{headers:O.headers,credentials:O.credentials,cache:O.cache}).then(function(X){var F=X.body.getReader();return q._reader=F,q._aborted&&q._reader.cancel(),{status:X.status,statusText:X.statusText,headers:X.headers,body:{getReader:function(){return F}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(W){function O(ke,me,ue){if(ue===1)return ke>=128>>me&&ke<<me<=2047;if(ue===2)return ke>=2048>>me&&ke<<me<=55295||ke>=57344>>me&&ke<<me<=65535;if(ue===3)return ke>=65536>>me&&ke<<me<=1114111;throw new Error}function q(ke,me){if(ke===6*1)return me>>6>15?3:me>31?2:1;if(ke===6*2)return me>15?3:2;if(ke===6*3)return 3;throw new Error}for(var X=65533,F="",V=this.bitsNeeded,oe=this.codePoint,de=0;de<W.length;de+=1){var ye=W[de];V!==0&&(ye<128||ye>191||!O(oe<<6|ye&63,V-6,q(V,oe)))&&(V=0,oe=X,F+=String.fromCharCode(oe)),V===0?(ye>=0&&ye<=127?(V=0,oe=ye):ye>=192&&ye<=223?(V=6*1,oe=ye&31):ye>=224&&ye<=239?(V=6*2,oe=ye&15):ye>=240&&ye<=247?(V=6*3,oe=ye&7):(V=0,oe=X),V!==0&&!O(oe,V,q(V,oe))&&(V=0,oe=X)):(V-=6,oe=oe<<6|ye&63),V===0&&(oe<=65535?F+=String.fromCharCode(oe):(F+=String.fromCharCode(55296+(oe-65535-1>>10)),F+=String.fromCharCode(56320+(oe-65535-1&1023))))}return this.bitsNeeded=V,this.codePoint=oe,F};var v=function(){try{return new p().decode(new w().encode("test"),{stream:!0})==="test"}catch(W){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+W)}return!1};(p==null||w==null||!v())&&(p=g);var y=function(){};function N(W){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onload=y,this.onerror=y,this.onreadystatechange=y,this._contentType="",this._xhr=W,this._sendTimeout=0,this._abort=y}N.prototype.open=function(W,O){this._abort(!0);var q=this,X=this._xhr,F=1,V=0;this._abort=function(ue){q._sendTimeout!==0&&(s(q._sendTimeout),q._sendTimeout=0),(F===1||F===2||F===3)&&(F=4,X.onload=y,X.onerror=y,X.onabort=y,X.onprogress=y,X.onreadystatechange=y,X.abort(),V!==0&&(s(V),V=0),ue||(q.readyState=4,q.onabort(null),q.onreadystatechange())),F=0};var oe=function(){if(F===1){var ue=0,Le="",yt=void 0;if("contentType"in X)ue=200,Le="OK",yt=X.contentType;else try{ue=X.status,Le=X.statusText,yt=X.getResponseHeader("Content-Type")}catch{ue=0,Le="",yt=void 0}ue!==0&&(F=2,q.readyState=2,q.status=ue,q.statusText=Le,q._contentType=yt,q.onreadystatechange())}},de=function(){if(oe(),F===2||F===3){F=3;var ue="";try{ue=X.responseText}catch{}q.readyState=3,q.responseText=ue,q.onprogress()}},ye=function(ue,Le){if((Le==null||Le.preventDefault==null)&&(Le={preventDefault:y}),de(),F===1||F===2||F===3){if(F=4,V!==0&&(s(V),V=0),q.readyState=4,ue==="load")q.onload(Le);else if(ue==="error")q.onerror(Le);else if(ue==="abort")q.onabort(Le);else throw new TypeError;q.onreadystatechange()}},ke=function(ue){X!=null&&(X.readyState===4?(!("onload"in X)||!("onerror"in X)||!("onabort"in X))&&ye(X.responseText===""?"error":"load",ue):X.readyState===3?"onprogress"in X||de():X.readyState===2&&oe())},me=function(){V=r(function(){me()},500),X.readyState===3&&de()};"onload"in X&&(X.onload=function(ue){ye("load",ue)}),"onerror"in X&&(X.onerror=function(ue){ye("error",ue)}),"onabort"in X&&(X.onabort=function(ue){ye("abort",ue)}),"onprogress"in X&&(X.onprogress=de),"onreadystatechange"in X&&(X.onreadystatechange=function(ue){ke(ue)}),("contentType"in X||!("ontimeout"in a.prototype))&&(O+=(O.indexOf("?")===-1?"?":"&")+"padding=true"),X.open(W,O,!0),"readyState"in X&&(V=r(function(){me()},0))},N.prototype.abort=function(){this._abort(!1)},N.prototype.getResponseHeader=function(W){return this._contentType},N.prototype.setRequestHeader=function(W,O){var q=this._xhr;"setRequestHeader"in q&&q.setRequestHeader(W,O)},N.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},N.prototype.send=function(){if((!("ontimeout"in a.prototype)||!("sendAsBinary"in a.prototype)&&!("mozAnon"in a.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var W=this;W._sendTimeout=r(function(){W._sendTimeout=0,W.send()},4);return}var O=this._xhr;"withCredentials"in O&&(O.withCredentials=this.withCredentials);try{O.send(void 0)}catch(q){throw q}};function E(W){return W.replace(/[A-Z]/g,function(O){return String.fromCharCode(O.charCodeAt(0)+32)})}function R(W){for(var O=Object.create(null),q=W.split(`\r
`),X=0;X<q.length;X+=1){var F=q[X],V=F.split(": "),oe=V.shift(),de=V.join(": ");O[E(oe)]=de}this._map=O}R.prototype.get=function(W){return this._map[E(W)]},a!=null&&a.HEADERS_RECEIVED==null&&(a.HEADERS_RECEIVED=2);function P(){}P.prototype.open=function(W,O,q,X,F,V,oe){W.open("GET",F);var de=0;W.onprogress=function(){var ke=W.responseText,me=ke.slice(de);de+=me.length,q(me)},W.onerror=function(ke){ke.preventDefault(),X(new Error("NetworkError"))},W.onload=function(){X(null)},W.onabort=function(){X(null)},W.onreadystatechange=function(){if(W.readyState===a.HEADERS_RECEIVED){var ke=W.status,me=W.statusText,ue=W.getResponseHeader("Content-Type"),Le=W.getAllResponseHeaders();O(ke,me,ue,new R(Le))}},W.withCredentials=V;for(var ye in oe)Object.prototype.hasOwnProperty.call(oe,ye)&&W.setRequestHeader(ye,oe[ye]);return W.send(),W};function T(W){this._headers=W}T.prototype.get=function(W){return this._headers.get(W)};function S(){}S.prototype.open=function(W,O,q,X,F,V,oe){var de=null,ye=new x,ke=ye.signal,me=new p;return f(F,{headers:oe,credentials:V?"include":"same-origin",signal:ke,cache:"no-store"}).then(function(ue){return de=ue.body.getReader(),O(ue.status,ue.statusText,ue.headers.get("Content-Type"),new T(ue.headers)),new h(function(Le,yt){var it=function(){de.read().then(function(mt){if(mt.done)Le(void 0);else{var Qe=me.decode(mt.value,{stream:!0});q(Qe),it()}}).catch(function(mt){yt(mt)})};it()})}).catch(function(ue){if(ue.name!=="AbortError")return ue}).then(function(ue){X(ue)}),{abort:function(){de!=null&&de.cancel(),ye.abort()}}};function k(){this._listeners=Object.create(null)}function _(W){r(function(){throw W},0)}k.prototype.dispatchEvent=function(W){W.target=this;var O=this._listeners[W.type];if(O!=null)for(var q=O.length,X=0;X<q;X+=1){var F=O[X];try{typeof F.handleEvent=="function"?F.handleEvent(W):F.call(this,W)}catch(V){_(V)}}},k.prototype.addEventListener=function(W,O){W=String(W);var q=this._listeners,X=q[W];X==null&&(X=[],q[W]=X);for(var F=!1,V=0;V<X.length;V+=1)X[V]===O&&(F=!0);F||X.push(O)},k.prototype.removeEventListener=function(W,O){W=String(W);var q=this._listeners,X=q[W];if(X!=null){for(var F=[],V=0;V<X.length;V+=1)X[V]!==O&&F.push(X[V]);F.length===0?delete q[W]:q[W]=F}};function C(W){this.type=W,this.target=void 0}function I(W,O){C.call(this,W),this.data=O.data,this.lastEventId=O.lastEventId}I.prototype=Object.create(C.prototype);function D(W,O){C.call(this,W),this.status=O.status,this.statusText=O.statusText,this.headers=O.headers}D.prototype=Object.create(C.prototype);function Y(W,O){C.call(this,W),this.error=O.error}Y.prototype=Object.create(C.prototype);var B=-1,M=0,j=1,A=2,L=-1,te=0,$=1,ee=2,re=3,ce=/^text\/event\-stream(;.*)?$/i,Ee=1e3,Z=18e6,ae=function(W,O){var q=W==null?O:parseInt(W,10);return q!==q&&(q=O),he(q)},he=function(W){return Math.min(Math.max(W,Ee),Z)},ge=function(W,O,q){try{typeof O=="function"&&O.call(W,q)}catch(X){_(X)}};function ie(W,O){k.call(this),O=O||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Be(this,W,O)}function we(){return a!=null&&"withCredentials"in a.prototype||i==null?new a:new i}var be=f!=null&&m!=null&&"body"in m.prototype;function Be(W,O,q){O=String(O);var X=!!q.withCredentials,F=q.lastEventIdQueryParameterName||"lastEventId",V=he(1e3),oe=ae(q.heartbeatTimeout,45e3),de="",ye=V,ke=!1,me=0,ue=q.headers||{},Le=q.Transport,yt=be&&Le==null?void 0:new N(Le!=null?new Le:we()),it=Le!=null&&typeof Le!="string"?new Le:yt==null?new S:new P,mt=void 0,Qe=0,lt=B,nt="",K="",pe="",Oe="",se=te,Ge=0,pt=0,Nr=function(ve,Ce,$e,ze){if(lt===M)if(ve===200&&$e!=null&&ce.test($e)){lt=j,ke=Date.now(),ye=V,W.readyState=j;var Fe=new D("open",{status:ve,statusText:Ce,headers:ze});W.dispatchEvent(Fe),ge(W,W.onopen,Fe)}else{var Ue="";ve!==200?(Ce&&(Ce=Ce.replace(/\s+/g," ")),Ue="EventSource's response has a status "+ve+" "+Ce+" that is not 200. Aborting the connection."):Ue="EventSource's response has a Content-Type specifying an unsupported type: "+($e==null?"-":$e.replace(/\s+/g," "))+". Aborting the connection.",Pt();var Fe=new D("error",{status:ve,statusText:Ce,headers:ze});W.dispatchEvent(Fe),ge(W,W.onerror,Fe),console.error(Ue)}},ct=function(ve){if(lt===j){for(var Ce=-1,$e=0;$e<ve.length;$e+=1){var ze=ve.charCodeAt($e);(ze===10||ze===13)&&(Ce=$e)}var Fe=(Ce!==-1?Oe:"")+ve.slice(0,Ce+1);Oe=(Ce===-1?Oe:"")+ve.slice(Ce+1),ve!==""&&(ke=Date.now(),me+=ve.length);for(var Ue=0;Ue<Fe.length;Ue+=1){var ze=Fe.charCodeAt(Ue);if(se===L&&ze===10)se=te;else if(se===L&&(se=te),ze===13||ze===10){if(se!==te){se===$&&(pt=Ue+1);var Je=Fe.slice(Ge,pt-1),ut=Fe.slice(pt+(pt<Ue&&Fe.charCodeAt(pt)===32?1:0),Ue);Je==="data"?(nt+=`
`,nt+=ut):Je==="id"?K=ut:Je==="event"?pe=ut:Je==="retry"?(V=ae(ut,V),ye=V):Je==="heartbeatTimeout"&&(oe=ae(ut,oe),Qe!==0&&(s(Qe),Qe=r(function(){xe()},oe)))}if(se===te){if(nt!==""){de=K,pe===""&&(pe="message");var ln=new I(pe,{data:nt.slice(1),lastEventId:K});if(W.dispatchEvent(ln),pe==="open"?ge(W,W.onopen,ln):pe==="message"?ge(W,W.onmessage,ln):pe==="error"&&ge(W,W.onerror,ln),lt===A)return}nt="",pe=""}se=ze===13?L:te}else se===te&&(Ge=Ue,se=$),se===$?ze===58&&(pt=Ue+1,se=ee):se===ee&&(se=re)}}},Wt=function(ve){if(lt===j||lt===M){lt=B,Qe!==0&&(s(Qe),Qe=0),Qe=r(function(){xe()},ye),ye=he(Math.min(V*16,ye*2)),W.readyState=M;var Ce=new Y("error",{error:ve});W.dispatchEvent(Ce),ge(W,W.onerror,Ce),ve!=null&&console.error(ve)}},Pt=function(){lt=A,mt!=null&&(mt.abort(),mt=void 0),Qe!==0&&(s(Qe),Qe=0),W.readyState=A},xe=function(){if(Qe=0,lt!==B){if(!ke&&mt!=null)Wt(new Error("No activity within "+oe+" milliseconds. "+(lt===M?"No response received.":me+" chars received.")+" Reconnecting.")),mt!=null&&(mt.abort(),mt=void 0);else{var ve=Math.max((ke||Date.now())+oe-Date.now(),1);ke=!1,Qe=r(function(){xe()},ve)}return}ke=!1,me=0,Qe=r(function(){xe()},oe),lt=M,nt="",pe="",K=de,Oe="",Ge=0,pt=0,se=te;var Ce=O;if(O.slice(0,5)!=="data:"&&O.slice(0,5)!=="blob:"&&de!==""){var $e=O.indexOf("?");Ce=$e===-1?O:O.slice(0,$e+1)+O.slice($e+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(ut,ln){return ln===F?"":ut}),Ce+=(O.indexOf("?")===-1?"?":"&")+F+"="+encodeURIComponent(de)}var ze=W.withCredentials,Fe={};Fe.Accept="text/event-stream";var Ue=W.headers;if(Ue!=null)for(var Je in Ue)Object.prototype.hasOwnProperty.call(Ue,Je)&&(Fe[Je]=Ue[Je]);try{mt=it.open(yt,Nr,ct,Wt,Ce,ze,Fe)}catch(ut){throw Pt(),ut}};W.url=O,W.readyState=M,W.withCredentials=X,W.headers=ue,W._close=Pt,xe()}ie.prototype=Object.create(k.prototype),ie.prototype.CONNECTING=M,ie.prototype.OPEN=j,ie.prototype.CLOSED=A,ie.prototype.close=function(){this._close()},ie.CONNECTING=M,ie.OPEN=j,ie.CLOSED=A,ie.prototype.withCredentials=void 0;var ht=c;a!=null&&(c==null||!("withCredentials"in c.prototype))&&(ht=ie),function(W){{var O=W(t);O!==void 0&&(e.exports=O)}}(function(W){W.EventSourcePolyfill=ie,W.NativeEventSource=c,W.EventSource=ht})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:cS:globalThis)})(zd,zd.exports);var Ko=zd.exports;class pE{constructor(t){gt(this,"_userId");gt(this,"apiBaseUrl");gt(this,"maxReconnectAttempts");gt(this,"eventSource",null);gt(this,"reconnectAttempts",0);gt(this,"reconnectTimeout",null);gt(this,"isManualDisconnect",!1);gt(this,"onNotification");gt(this,"onAuthRequired");gt(this,"onConnectionOpen");gt(this,"onConnectionError");gt(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===Ko.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}this.startSSEConnection(t)}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;try{console.log("SSE  :",n),this.eventSource=new Ko.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE  "),this.reconnectAttempts=0,(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.onerror=r=>{var s,a,i,l;console.error("SSE  :",{error:r,readyState:(s=this.eventSource)==null?void 0:s.readyState,url:n}),(a=this.onConnectionError)==null||a.call(this,r),((i=this.eventSource)==null?void 0:i.readyState)===Ko.EventSourcePolyfill.CLOSED?(console.log("SSE  ."),this.eventSource=null,this.handleReconnect()):((l=this.eventSource)==null?void 0:l.readyState)===Ko.EventSourcePolyfill.CONNECTING&&console.log("SSE  ...")},this.eventSource.addEventListener("dm_received",r=>{console.log(" dm_received   ( )"),this.handleMessage(r)}),this.eventSource.addEventListener("auth-error",r=>{var s;console.warn(" :",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("   "),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()})}catch(r){console.error("SSE    :",r),this.handleReconnect()}}handleMessage(t){var n;if(console.log(" SSE  :",{type:t.type,event:t.event,lastEventId:t.lastEventId,data:t.data}),!(t.data==="ping"||t.data==="heartbeat"))try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;t.type==="dm_received"&&(console.log(" DM    (  )"),r.notificationType="DM_RECEIVED"),console.log(" SSE  :",r),(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE   :",r,"Raw data:",t.data)}}async refreshTokenAndConnect(){try{console.log("     ..."),await this.refreshToken()?(console.log("  , SSE  ..."),this.connect()):(console.error("   -  "),this.handleAuthRequired())}catch(t){console.error("    :",t),this.handleAuthRequired()}}handleReconnect(){if(this.isManualDisconnect){console.log("     .");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("  ...");const n=this.getValidToken();!n||this.isTokenExpired(n)?(console.log("  .    ."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("    .  ."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch{return!0}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("   :",t),null}try{console.log("   ...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const r=(await t.text()).replace(/"/g,"");if(r&&r!=="null")return localStorage.setItem("accessToken",r),console.log("  "),r}else console.error(`  : ${t.status} ${t.statusText}`),t.status===401&&localStorage.removeItem("accessToken");return null}catch(t){return console.error("   :",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("   ..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.isTokenExpired(t)?(console.log(" :    "),await this.refreshTokenAndConnect()):(console.log(" :   "),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===Ko.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}getUserId(){return this._userId}}const gE=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0,disabled:h=!1}=e,f=d.useRef(null),[m,p]=d.useState(!1),[w,x]=d.useState(0),b=d.useRef({onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{b.current={onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c}});const g=d.useCallback(()=>{var S,k;p(!0),x(0),(k=(S=b.current).onConnectionOpen)==null||k.call(S)},[]),v=d.useCallback(S=>{var k,_;p(!1),(_=(k=b.current).onConnectionError)==null||_.call(k,S)},[]),y=d.useCallback(S=>{var k,_;(_=(k=b.current).onNotification)==null||_.call(k,S)},[]),N=d.useCallback(()=>{var S,k;p(!1),(k=(S=b.current).onAuthRequired)==null||k.call(S)},[]),E=d.useCallback(()=>{f.current&&t&&!h&&f.current.connect()},[t,h]),R=d.useCallback(()=>{f.current&&(f.current.disconnect(),p(!1),x(0))},[]),P=d.useCallback(()=>{f.current&&f.current.reconnect()},[]),T=d.useCallback(()=>{f.current&&f.current.forceReconnect()},[]);return d.useEffect(()=>{if(t&&!h){const S={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:y,onAuthRequired:N,onConnectionOpen:g,onConnectionError:v,onTokenRefresh:b.current.onTokenRefresh};f.current=new pE(S),u&&setTimeout(()=>{var C;(C=f.current)==null||C.connect()},1e3);const _=setInterval(()=>{f.current&&(p(f.current.isConnected()),x(f.current.getReconnectAttempts()))},2e3);return()=>{var C;clearInterval(_),(C=f.current)==null||C.disconnect(),f.current=null}}else f.current&&(f.current.disconnect(),f.current=null),p(!1),x(0)},[t,h,n,r,u,y,N,g,v]),d.useEffect(()=>{f.current&&t&&f.current.updateUserId(t)},[t]),{isConnected:m,reconnectAttempts:w,connect:E,disconnect:R,reconnect:P,forceReconnect:T}};function vE({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:a,authenticatedFetch:i,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h,refreshAccessToken:f,isSharedAccess:m,onDMReceived:p}){const[w,x]=d.useState([]),[b,g]=d.useState(!1),[v,y]=d.useState(!1),[N,E]=d.useState(null);gE({userId:l,disabled:m,onNotification:j=>{if(j.notificationType==="CONNECTED")return;const A=j.notificationType;(A==="DM_RECEIVED"||A==="dm_received")&&(console.log(" DM    -   :",A),p?p():console.error(" onDMReceived  !"));const L=R(j);x(te=>[L,...te])},onAuthRequired:()=>{if(m){console.log("     - SSE   ");return}console.warn("SSE    -      "),f().then(j=>{j?console.log("SSE    -   "):(console.error("SSE     "),a())}).catch(j=>{console.error("SSE    :",j),a()})},onTokenRefresh:async()=>await f()});const R=j=>{const A=$=>{switch($.toLowerCase()){case"dm_received":case"new_dm_room":return"message";case"followed":return"follow";case"playlist_subscribed":case"following_posted_playlist":return"like";default:return"notification"}},L=$=>{switch($){case"dm_received":return"  ";case"new_dm_room":return"  ";case"followed":return"  ";case"playlist_subscribed":return" ";case"following_posted_playlist":return"   ";case"role_changed":return" ";default:return" "}},te=$=>{const ee=new Date($),ce=new Date().getTime()-ee.getTime(),Ee=Math.floor(ce/(1e3*60)),Z=Math.floor(ce/(1e3*60*60)),ae=Math.floor(ce/(1e3*60*60*24));return Ee<1?" ":Ee<60?`${Ee} `:Z<24?`${Z} `:ae===1?"":`${ae} `};return{id:j.id,type:A(j.notificationType),title:L(j.notificationType),content:j.content,avatar:"",timestamp:te(j.createdAt),isRead:!1}},P=async()=>{if(!l||m){console.log("       ID  -    ");return}try{const j=await mE.getUser(l);E(j)}catch(j){console.error("   :",j),j instanceof Error&&(j.message.includes("not found")||j.message.includes("401")||j.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a())}},T=async()=>{if(!l||m){console.log("       ID  -   ");return}try{const j=await i("http://localhost:8080/api/notifications");if(!j.ok){if(j.status===401||j.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a();return}throw new Error(`   . (: ${j.status})`)}const A=await j.json(),L=A.data||A;if(!Array.isArray(L)){console.error("   :",A),x([]);return}const te=L.map($=>({...R($),isRead:!0}));x(te)}catch(j){console.error("   :",j),j instanceof Error&&(j.message.includes("401")||j.message.includes("403"))&&x([])}};d.useEffect(()=>{l&&(P(),T())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=P),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const S=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],k=w.filter(j=>!j.isRead).length;d.useEffect(()=>{const j=A=>{const L=A.target;!L.closest(".notification-container")&&!L.closest(".profile-container")&&(g(!1),y(!1))};return document.addEventListener("click",j),()=>document.removeEventListener("click",j)},[]);const _=j=>{switch(j){case"message":return o.jsx(gh,{className:"w-4 h-4"});case"follow":return o.jsx(yh,{className:"w-4 h-4"});case"like":return o.jsx(Gr,{className:"w-4 h-4"});case"watch":return o.jsx(Et,{className:"w-4 h-4"});default:return o.jsx($p,{className:"w-4 h-4"})}},C=async j=>{try{await u(j),x(A=>A.filter(L=>L.id!==j))}catch(A){console.error("  :",A)}},I=j=>{x(A=>A.map(L=>L.id===j?{...L,isRead:!0}:L))},D=async()=>{try{await T(),x(j=>j.map(A=>({...A,isRead:!0})))}catch(j){console.error("   :",j)}},Y=j=>{s&&s(),t(j)},B=j=>{j.stopPropagation(),s&&s(),g(!b),y(!1)},M=async()=>{try{if(!(await i("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");y(!1),a()}catch(j){console.error(" :",j),y(!1),a()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>Y("home"),children:""}),!m&&o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:S.map(j=>o.jsx("li",{children:o.jsx("button",{onClick:()=>Y(j.id),className:`transition-colors hover:text-[#4ecdc4] ${e===j.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:j.label})},j.id))}),m&&o.jsx("div",{className:"text-white/60 text-sm",children:" "}),o.jsxs("div",{className:"flex items-center space-x-4",children:[!m&&o.jsxs("div",{className:"relative notification-container",children:[o.jsxs(U,{variant:"ghost",size:"sm",onClick:B,className:"relative p-2 hover:bg-white/10",children:[o.jsx($p,{className:"w-5 h-5"}),k>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:k>9?"9+":k})]}),b&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[k>0&&o.jsx(U,{variant:"ghost",size:"sm",onClick:D,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx(U,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),x([])}catch(j){console.error("   :",j)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(Aa,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${w.length>4?"max-h-96":""}`,children:w.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:w.map(j=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>I(j.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(st,{className:"h-12 w-12",children:[o.jsx(ot,{src:j.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:j.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:_(j.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${j.isRead?"text-white/60":"font-medium"}`,children:j.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:j.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:j.content})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:async A=>{A.stopPropagation(),await C(j.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Aa,{className:"w-3 h-3"})}),!j.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},j.id))})})]})]}),m?o.jsx(U,{variant:"outline",size:"sm",onClick:()=>window.location.href="/",className:"border-[#4ecdc4] text-[#4ecdc4] hover:bg-[#4ecdc4] hover:text-black",children:""}):o.jsxs("div",{className:"relative profile-container",children:[o.jsxs(U,{variant:"ghost",size:"sm",onClick:j=>{j.stopPropagation(),y(!v),g(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(st,{className:"h-8 w-8",children:[o.jsx(ot,{src:(N==null?void 0:N.profileImage)||""}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:(N==null?void 0:N.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(N==null?void 0:N.name)||""})]}),v&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>{y(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Bp,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>{y(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Bp,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs(U,{variant:"ghost",size:"sm",onClick:M,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(SC,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function xE(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},n=[{name:"Github",icon:wC,href:"#github"},{name:"Twitter",icon:AC,href:"#twitter"},{name:"Instagram",icon:bC,href:"#instagram"},{name:"Email",icon:NC,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(a=>o.jsx("li",{children:o.jsx("a",{href:a.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:a.name})},a.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]})})})]})})}const Ve=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:Te("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));Ve.displayName="Input";var yE="Label",ey=d.forwardRef((e,t)=>o.jsx(Ne.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ey.displayName=yE;var wE=ey;function Dt({className:e,...t}){return o.jsx(wE,{"data-slot":"label",className:Te("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var bE="Separator",Jp="horizontal",SE=["horizontal","vertical"],ty=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Jp,...s}=e,a=NE(r)?r:Jp,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Ne.div,{"data-orientation":a,...l,...s,ref:t})});ty.displayName=bE;function NE(e){return SE.includes(e)}var jE=ty;function CE({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(jE,{"data-slot":"separator-root",decorative:n,orientation:t,className:Te("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function ny({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,a]=d.useState(null),i=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){a("    .");return}if(u.size>5*1024*1024){a("  5MB  .");return}a(null),t(u)}},l=()=>{t(null),a(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),n&&o.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(An,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(st,{className:"h-20 w-20",children:[o.jsx(ot,{src:URL.createObjectURL(e)}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx(U,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(An,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Ve,{type:"file",accept:"image/*",onChange:i,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(IC,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function kE({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,a]=d.useState(!1),[i,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,p]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(""),v=R=>{R?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(R)?g(""):g(" 8 , , ,   ."):g(" .")},y=()=>{console.log("    "),window.location.href="http://localhost:8080/oauth2/authorization/kakao"},N=()=>{window.location.href="http://localhost:8080/oauth2/authorization/google"},E=async R=>{R.preventDefault(),u(null),f(!0);try{if(r){if(!i.name.trim()){u(" .");return}if(i.name.length<3||i.name.length>50){u(" 3  50  .");return}if(!i.email.trim()){u(" .");return}if(!i.password.trim()){u(" .");return}if(!/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(i.password)){u(" 8 , , ,   .");return}if(i.password!==i.confirmPassword){u("  .");return}const T=new FormData;T.append("email",i.email),T.append("name",i.name),T.append("password",i.password),m&&T.append("profile",m);const S=await fetch("http://localhost:8080/api/users",{method:"POST",credentials:"include",body:T});if(!S.ok){let k=" .";const _=S.headers.get("content-type");if(_&&_.includes("application/json"))try{const C=await S.text();C&&(k=JSON.parse(C).message||k)}catch(C){console.error("Error parsing error response:",C)}throw new Error(k)}alert(" . ."),t()}else{const P={email:i.email,password:i.password},T=await fetch("http://localhost:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(P)});if(!T.ok){let k=" .";const _=T.headers.get("content-type");if(_&&_.includes("application/json"))try{const C=await T.text();C&&(k=JSON.parse(C).message||k)}catch(C){console.error("Error parsing error response:",C)}throw new Error(k)}const S=await T.text();if(!S||S.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const k=JSON.parse(S);e(k.accessToken,k.isTempPassword)}catch(k){throw console.error("Error parsing success response:",k),new Error("    .")}}}catch(P){u(P instanceof Error?P.message:"   .")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"name",className:"text-base",children:""}),o.jsx(Ve,{id:"name",type:"text",value:i.name,onChange:R=>l({...i,name:R.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"email",className:"text-base",children:""}),o.jsx(Ve,{id:"email",type:"email",value:i.email,onChange:R=>l({...i,email:R.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(Ve,{id:"password",type:s?"text":"password",value:i.password,onChange:R=>{const P=R.target.value;l({...i,password:P}),r&&v(P)},className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(yC,{className:"w-5 h-5"}):o.jsx(Dd,{className:"w-5 h-5"})})]}),r&&b&&o.jsx("p",{className:"text-red-500 text-sm mt-2",children:b})]}),r&&o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(Ve,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:R=>l({...i,confirmPassword:R.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(Dt,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(st,{className:"h-16 w-16",children:[o.jsx(ot,{src:m?URL.createObjectURL(m):void 0}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:i.name.charAt(0)||"U"})]}),o.jsxs(U,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(_0,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(ny,{selectedImage:m,onImageSelect:p,onClose:()=>x(!1),userName:i.name})})]}),o.jsx(U,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?" ...":r?"":""})]}),o.jsx(CE,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(U,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:y,disabled:h,children:[" ",r?"":""]}),o.jsxs(U,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:N,disabled:h,children:["Google ",r?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:r?"":""})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:" "})]})]})]})]})}class EE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const i=t.type.toUpperCase();n.append("contentType",i)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(n){throw console.error("   :",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const fs=new EE;class TE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getWatchRooms(t){var n;try{const r=new URLSearchParams;t!=null&&t.query&&r.append("searchKeyword",t.query),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.limit&&r.append("size",t.limit.toString()),t!=null&&t.offset&&r.append("cursor",((n=t.offset)==null?void 0:n.toString())||"");const s=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,a=await this.authenticatedFetch(s);if(!a.ok)throw new Error(`   . Status: ${a.status}`);const i=await a.json(),l=i.data||i;return Array.isArray(l)?t!=null&&t.sortBy?this.sortWatchRooms(l,t.sortBy):l:(console.error("   :",i),[])}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async joinWatchRoom(t){var n,r;try{const s=await this.getWatchRoom(t);return{id:s.id,title:s.title,newUserId:"",playTime:0,isPlaying:!1,content:{id:((n=s.contentDto)==null?void 0:n.id)||s.contentId||"",title:((r=s.contentDto)==null?void 0:r.title)||s.contentTitle||"",titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:0}}}catch(s){throw console.error("  :",s),s}}async searchWatchRooms(t,n="participantCount"){return this.getWatchRooms({query:t,sortBy:n})}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>{var a;return s.title.toLowerCase().includes(r)||(((a=s.contentDto)==null?void 0:a.title)||s.contentTitle||"").toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r)})}}const Ga=new TE;class PE{constructor(){gt(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getPlaylistById(t){const n=`${this.baseUrl}/${t}`,r={"Content-Type":"application/json"},s=localStorage.getItem("accessToken");s&&(r.Authorization=`Bearer ${s}`);const a=await fetch(n,{headers:r});if(!a.ok)throw new Error(`   (status: ${a.status})`);return await a.json()}async getAllPublic(){const t=await fetch(this.baseUrl);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async getAllSubscribed(){const t=await this.authenticatedFetch(`${this.baseUrl}/subscribed`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async subscribe(t,n){const s=await this.authenticatedFetch("http://localhost:8080/api/subscriptions",{method:"POST",body:JSON.stringify({userId:t,playlistId:n})});if(!s.ok)throw new Error(`  . Status: ${s.status}`);return await s.json()}async unsubscribe(t){const n=`http://localhost:8080/api/subscriptions/${t}`,r=await this.authenticatedFetch(n,{method:"DELETE"});if(!r.ok)throw new Error(`   . Status: ${r.status}`)}async getUserPlaylists(t){const n=await this.authenticatedFetch(`${this.baseUrl.replace("/playlists","")}/users/${t}/playlists`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}async getPlaylistByUser(){const t=await this.authenticatedFetch(`${this.baseUrl}/user`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async deletePlaylist(t){console.log(" PlaylistService:   :",t);const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(console.log(" PlaylistService:   :",n.status,n.statusText),!n.ok){const r=await n.text().catch(()=>"Unknown error");throw console.error(" PlaylistService:   :",r),new Error(`  . Status: ${n.status}, Message: ${r}`)}console.log(" PlaylistService:  ")}}const $l=new PE;function Ri({onPageChange:e,onPlaylistOpen:t,onContentPlay:n,onJoinRoom:r}){const[s,a]=d.useState([]),[i,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,p]=d.useState(null),w=d.useRef(null),x=d.useRef(null),b=d.useRef(null),g=async()=>{try{const S=await Ga.getWatchRooms({limit:9});Array.isArray(S)?a(S):(console.error("Live rooms data is not an array:",S),a([]))}catch(S){console.error("Failed to fetch live rooms:",S),a([])}},v=async()=>{try{const S=await fs.getContents({size:20});l(S.data)}catch(S){console.error("Failed to fetch featured content:",S)}},y=async()=>{try{const S=await $l.getAllSubscribed();u(S.slice(0,4))}catch(S){console.error("Failed to fetch my playlists:",S),u([])}};d.useEffect(()=>{(async()=>{f(!0),await Promise.all([g(),v(),y()]),f(!1)})()},[]);const N=async S=>{if(console.log("Dashboard - handleJoinRoom :",S.id,S.title),m){console.log("Dashboard -     :",m);return}p(S.id);try{console.log("Dashboard - onJoinRoom   "),r?(await r(S),console.log("Dashboard - onJoinRoom   ")):console.error("Dashboard - onJoinRoom  ")}catch(k){console.error("Dashboard -   :",k)}finally{p(null)}},E=()=>{e&&e("playlist")},R=S=>{t&&t(S)},P=S=>{S.current&&S.current.scrollBy({left:-288,behavior:"smooth"})},T=S=>{S.current&&S.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs(U,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(xh,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs(U,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(Rr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(U,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>P(w),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>T(w),children:o.jsx(Rr,{className:"w-6 h-6"})}),o.jsx("div",{ref:w,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(3).fill(0).map((S,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},k)):(Array.isArray(s)?s:[]).slice(0,9).map(S=>{var k,_,C;return o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(k=S.contentDto)!=null&&k.thumbnailUrl?o.jsx("img",{src:S.contentDto.thumbnailUrl,alt:S.contentDto.title,className:"w-full h-full object-cover",onError:I=>{var D;I.currentTarget.style.display="none",(D=I.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(_=S.contentDto)!=null&&_.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",S.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(U,{size:"sm",onClick:I=>{I.stopPropagation(),N(S)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!m,children:[m===S.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(C=S.contentDto)==null?void 0:C.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[S.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ps,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[S.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",S.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},S.id)})})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Xr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(U,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(Rr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(U,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>P(x),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>T(x),children:o.jsx(Rr,{className:"w-6 h-6"})}),o.jsx("div",{ref:x,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(6).fill(0).map((S,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},k)):i.slice(0,20).map(S=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:S.id,title:S.title,thumbnail:S.thumbnailUrl||S.url||"",type:S.contentType==="MOVIE"?"movie":S.contentType==="TV"?"tv":"sports",description:S.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[S.thumbnailUrl?o.jsx("img",{src:S.thumbnailUrl,alt:S.title,className:"w-full h-full object-cover",onError:k=>{var _;k.currentTarget.style.display="none",(_=k.currentTarget.nextElementSibling)==null||_.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${S.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:S.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{size:"sm",onClick:k=>{k.stopPropagation(),n&&n({id:S.id,title:S.title,thumbnail:S.thumbnailUrl||S.url||"",type:S.contentType==="MOVIE"?"movie":S.contentType==="TV"?"tv":"sports",description:S.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(U,{size:"sm",variant:"outline",onClick:k=>{k.stopPropagation(),console.log("Add to playlist:",S.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:S.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:S.releaseDate?new Date(S.releaseDate).getFullYear():"2024"})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${S.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":S.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:S.contentType==="MOVIE"?"":S.contentType==="TV"?"TV/":""})})]})]},S.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ps,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(U,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:E,children:["",o.jsx(Rr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(U,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>P(b),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>T(b),children:o.jsx(Rr,{className:"w-6 h-6"})}),o.jsx("div",{ref:b,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:h?Array(4).fill(0).map((S,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},k)):c.map((S,k)=>{const _=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],C=_[k%_.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>R(S.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${C} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(Ml,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:S.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(U,{size:"lg",onClick:I=>{I.stopPropagation(),R(S.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Et,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:S.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:S.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[S.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ps,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(mh,{className:"w-3 h-3"}),o.jsx("span",{children:S.createdAt?new Date(S.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},S.id)})})]})]})]})}const RE=F0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function mn({className:e,variant:t,asChild:n=!1,...r}){const s=n?L0:"span";return o.jsx(s,{"data-slot":"badge",className:Te(RE({variant:t}),e),...r})}class _E{constructor(){gt(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const _i=new _E,AE=e=>({id:e.id,title:e.title,thumbnail:e.thumbnailUrl||`https://via.placeholder.com/300x400/1a1a1a/ffffff?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function IE({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{b()},[]),d.useEffect(()=>{if(c.length>0&&!s){const S=c[0];a(S.id),g(S.id)}},[c,s]);const b=async()=>{try{if(!r){console.error(" ID .");return}const k=(await _i.getUserKeywords(r)).map(_=>({id:_.keywordId,label:_.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(k)}catch(S){console.error("   :",S),u([])}},g=async S=>{try{x(!0);const _=(await _i.getKeywordContents(S)).map(AE),C=c.find(M=>M.id===S),I=_.filter(M=>M.type==="movie"),D=_.filter(M=>M.type==="tv"),Y=_.filter(M=>M.type==="sports"),B=[];I.length>0&&B.push({id:`${S}-movie`,title:`${(C==null?void 0:C.label)||""} `,items:I,category:""}),D.length>0&&B.push({id:`${S}-tv`,title:`${(C==null?void 0:C.label)||""} TV `,items:D,category:"TV"}),Y.length>0&&B.push({id:`${S}-sports`,title:`${(C==null?void 0:C.label)||""} `,items:Y,category:""}),l(B)}catch(k){console.error("  :",k),l([])}finally{x(!1)}},v=S=>{a(S),g(S)},y=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const S=await _i.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),k={id:S.keywordId,label:S.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(_=>[..._,k]),p(""),f(!1),alert(" !")}catch(S){console.error("  :",S),alert("  .")}}},N=async S=>{if(window.confirm("  ?"))try{if(await _i.deleteKeyword(S),u(k=>k.filter(_=>_.id!==S)),s===S){const k=c.filter(_=>_.id!==S);k.length>0?(a(k[0].id),g(k[0].id)):(a(""),l([]))}alert(" .")}catch(k){console.error("  :",k),alert("  .")}},E=S=>{const k=document.getElementById(S);k&&k.scrollBy({left:-400,behavior:"smooth"})},R=S=>{const k=document.getElementById(S);k&&k.scrollBy({left:400,behavior:"smooth"})},P=S=>S>=1e4?`${Math.floor(S/1e3)}K`:S.toLocaleString(),T=S=>{n==null||n(S),console.log(`Opening playlist modal for: ${S.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Up,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(S=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx(U,{variant:s===S.id?"default":"outline",size:"sm",onClick:()=>v(S.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===S.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===S.id?S.color:void 0,backgroundColor:s===S.id?S.color:void 0},children:S.label}),o.jsx(U,{size:"sm",variant:"ghost",onClick:k=>{k.stopPropagation(),N(S.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(An,{className:"w-3 h-3"})})]},S.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Ve,{value:m,onChange:S=>p(S.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:S=>S.key==="Enter"&&y(),autoFocus:!0}),o.jsx(U,{size:"sm",onClick:y,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(ro,{className:"w-4 h-4"})}),o.jsx(U,{size:"sm",variant:"outline",onClick:()=>{f(!1),p("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(An,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs(U,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:i.map(S=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[S.title,o.jsxs(mn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(zt,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{size:"sm",variant:"outline",onClick:()=>E(`section-${S.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(da,{className:"w-4 h-4"})}),o.jsx(U,{size:"sm",variant:"outline",onClick:()=>R(`section-${S.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Rr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${S.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:S.items.map((k,_)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[S.id==="trending"&&_<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(mn,{className:`
                              ${_===0?"bg-yellow-500 text-black":""}
                              ${_===1?"bg-gray-300 text-black":""}
                              ${_===2?"bg-amber-600 text-white":""}
                            `,children:["#",_+1]})}),o.jsx("img",{src:k.thumbnail,alt:k.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:C=>{const I=C.target;I.style.display="none";const D=I.parentElement;if(D&&!D.querySelector(".image-fallback")){const Y=document.createElement("div");Y.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",Y.textContent=k.title.charAt(0).toUpperCase(),D.appendChild(Y)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs(U,{size:"sm",onClick:()=>e(k),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs(U,{size:"sm",variant:"outline",onClick:()=>t(k),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Dd,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(U,{size:"sm",variant:"outline",onClick:()=>T(k),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(xh,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:P(k.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:k.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:k.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:`w-4 h-4 ${k.rating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:k.rating.toFixed(2)})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(gh,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:k.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:k.displayGenres.slice(0,2).map(C=>o.jsx(mn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:C},C))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:k.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs(U,{size:"sm",onClick:()=>e(k),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx(U,{size:"sm",variant:"outline",onClick:()=>t(k),className:"border-white/20 hover:bg-white/10",children:o.jsx(Dd,{className:"w-4 h-4"})}),o.jsx(U,{size:"sm",variant:"outline",onClick:()=>T(k),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Yt,{className:"w-4 h-4"})})]})]})]})]},k.id))})]},S.id))}),!w&&i.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Up,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function zl(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:a,style:i,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:i,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(ph,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:a,className:l,style:i,...c,onError:r})}function DE({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},i={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(zl,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${i[n]} font-medium text-white/80`,children:["+",s]})})]})})}function Fd({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Te("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Yo=[null];function OE({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[a,i]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,m]=d.useState(!1),[p,w]=d.useState(!1),x=async y=>{y.preventDefault(),r.trim()&&(w(!0),console.log("Creating playlist:",{title:r.trim(),description:a.trim(),isPublic:l,coverImage:Yo[u]}),await new Promise(N=>setTimeout(N,1e3)),n({title:r.trim(),description:a.trim(),isPublic:l,coverImage:Yo[u]}),s(""),i(""),c(!0),h(0),m(!1),w(!1),t())},b=()=>{p||(s(""),i(""),c(!0),h(0),m(!1),t())},g=()=>{const y=Yo[u];return y===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(Ml,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})}):o.jsx("img",{src:y,alt:" ",className:"w-full h-full object-cover"})},v=(y,N)=>y===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(Ml,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:y,alt:`  ${N+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:b}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx(U,{variant:"ghost",size:"sm",onClick:b,className:"p-2 hover:bg-white/10",disabled:p,children:o.jsx(An,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Dt,{className:"text-sm mb-3 block",children:" "}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[g(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs(U,{type:"button",variant:"ghost",onClick:()=>m(!f),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(ph,{className:"w-4 h-4 mr-2"}),Yo[u]===null?" ":" "]})})]}),f&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:Yo.map((y,N)=>o.jsxs("button",{type:"button",onClick:()=>{h(N),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===N?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[v(y,N),u===N&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(ro,{className:"w-3 h-3 text-[#4ecdc4]"})})]},N))})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(Ve,{id:"title",value:r,onChange:y=>s(y.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50"]})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"description",className:"text-sm",children:""}),o.jsx(Fd,{id:"description",value:a,onChange:y=>i(y.target.value),placeholder:"   ...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[a.length,"/200"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Dt,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(Ol,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(ro,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(Ll,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(ro,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(U,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:b,disabled:p,children:""}),o.jsx(U,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||p,children:p?" ...":" "})]})]})]})]}):null}function Zp({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:a,onUserProfileOpen:i}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,m]=d.useState(!1),[p,w]=d.useState(!0),[x,b]=d.useState(null),[g,v]=d.useState("all"),y=D=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D);d.useEffect(()=>{N()},[]),d.useEffect(()=>{const D=setTimeout(()=>{N(l.trim()||void 0,g)},300);return()=>clearTimeout(D)},[l,g]);const N=async(D,Y="all")=>{try{w(!0),b(null),console.log("   :",{searchKeyword:D,currentViewType:Y});const B=await t(D,Y);console.log("   :",B),h(B)}catch(B){console.error("Error loading playlists:",B),b("   .")}finally{w(!1)}},E=u,R=D=>{console.log(`Starting playlist with ID: ${D}`)},P=()=>{m(!0)},T=D=>{e&&e(D)},S=async D=>{try{await n({name:D.title,description:D.description,isPublic:D.isPublic}),console.log("     "),await N(l.trim()||void 0,g)}catch(Y){console.error("Error creating playlist:",Y),b("   .")}},k=D=>!D.subscriptions||!a?!1:D.subscriptions.some(Y=>Y.userId===a),_=D=>!D.subscriptions||!a?null:D.subscriptions.find(Y=>Y.userId===a),C=async D=>{if(console.log("    :",{playlistId:D,currentUserId:a}),!r||!s||!a){console.error("    ID :",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:a});return}const Y=u.find(M=>M.id===D);if(!Y){console.error("   :",D);return}const B=k(Y);console.log("  :",{isSubscribed:B,subscriptions:Y.subscriptions});try{if(B){const M=_(Y);if(!M){console.error("    ");return}if(console.log("   - subscription  :",M),!M.subscriptionId){console.error("subscription.subscriptionId undefined:",M);return}console.log("  :",M.subscriptionId),await s(M.subscriptionId)}else console.log(" :",D),await r(D);await N(l.trim()||void 0,g)}catch(M){console.error("   :",M)}},I=D=>D.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(Ml,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:D.name.charAt(0)})]})}):o.jsx(zl,{src:D.thumbnail,alt:D.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs(U,{onClick:P,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Ve,{placeholder:" ...",value:l,onChange:D=>c(D.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx(U,{variant:g==="all"?"default":"outline",onClick:()=>v("all"),className:g==="all"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:" "}),a&&o.jsxs(U,{variant:g==="subscribed"?"default":"outline",onClick:()=>v("subscribed"),className:g==="subscribed"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:[o.jsx(Gr,{className:"w-4 h-4 mr-2"})," "]})]})]}),(console.log(" Playlist  :",{loading:p,error:x,playlistsLength:u.length,filteredLength:E.length}),p?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx(U,{onClick:()=>N(l.trim()||void 0,g),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):E.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":g==="subscribed"?"   ":" "}),!l&&g==="all"&&o.jsx(U,{onClick:P,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(D=>{var Y,B;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>T(D.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[I(D),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(U,{size:"lg",onClick:M=>{M.stopPropagation(),R(D.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Et,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:D.isPublic?"":""})}),D.userId&&D.userId!==a&&y(D.userId)&&r&&s&&o.jsx(U,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${k(D)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:M=>{M.stopPropagation(),C(D.id)},children:o.jsx(Gr,{className:`w-4 h-4 ${k(D)?"fill-current":""}`})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:D.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:D.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(DE,{items:D.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[D.contentCount||((Y=D.playlistContents)==null?void 0:Y.length)||0," "]})]}),D.userId&&D.userId!==a&&y(D.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${a?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:M=>{M.stopPropagation(),a?i==null||i(D.userId):alert("  .   .")},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:D.username?D.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:D.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ps,{className:"w-3 h-3"}),o.jsx("span",{children:D.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(mh,{className:"w-3 h-3"}),o.jsx("span",{children:D.createdAt?new Date(D.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"mt-2 flex justify-between items-center text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:""}),o.jsxs("span",{children:[((B=D.subscriptions)==null?void 0:B.length)??0," "]})]}),o.jsxs("button",{onClick:M=>{M.stopPropagation();const j=`${window.location.origin}/playlist?id=${D.id}`;navigator.clipboard.writeText(j).then(()=>alert("  !")).catch(()=>alert("  ."))},className:"flex items-center gap-1 px-3 py-1 rounded-full bg-white/10 hover:bg-[#4ecdc4]/80 hover:text-black text-white text-xs font-semibold transition",title:"",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12v.01M12 4v.01M12 20v.01M20 12v.01M7.75 7.75l.01.01M16.25 7.75l.01.01M7.75 16.25l.01.01M16.25 16.25l.01.01"})}),""]})]})]})]},D.id)})}))]}),o.jsx(OE,{isOpen:f,onClose:()=>m(!1),onCreatePlaylist:S})]})}function Se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var LE=uv[" useId ".trim().toString()]||(()=>{}),ME=0;function Hr(e){const[t,n]=d.useState(LE());return xt(()=>{n(r=>r??String(ME++))},[e]),e||(t?`radix-${t}`:"")}var $E=uv[" useInsertionEffect ".trim().toString()]||xt;function bs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=zE({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const m=FE(h)?h(e):h;m!==e&&((f=i.current)==null||f.call(i,m))}else a(h)},[l,e,a,i]);return[c,u]}function zE({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),a=d.useRef(t);return $E(()=>{a.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function FE(e){return typeof e=="function"}function UE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var BE="DismissableLayer",Ud="dismissableLayer.update",WE="dismissableLayer.pointerDownOutside",VE="dismissableLayer.focusOutside",eg,ry=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nh=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(ry),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),w=Pe(t,P=>f(P)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(b),v=h?x.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,N=v>=g,E=YE(P=>{const T=P.target,S=[...u.branches].some(k=>k.contains(T));!N||S||(s==null||s(P),i==null||i(P),P.defaultPrevented||l==null||l())},m),R=GE(P=>{const T=P.target;[...u.branches].some(k=>k.contains(T))||(a==null||a(P),i==null||i(P),P.defaultPrevented||l==null||l())},m);return UE(P=>{v===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),tg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=eg)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),tg())},[h,u]),d.useEffect(()=>{const P=()=>p({});return document.addEventListener(Ud,P),()=>document.removeEventListener(Ud,P)},[]),o.jsx(Ne.div,{...c,ref:w,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,E.onPointerDownCapture)})});Nh.displayName=BE;var HE="DismissableLayerBranch",KE=d.forwardRef((e,t)=>{const n=d.useContext(ry),r=d.useRef(null),s=Pe(t,r);return d.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Ne.div,{...e,ref:s})});KE.displayName=HE;function YE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){sy(WE,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function GE(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=d.useRef(!1);return d.useEffect(()=>{const s=a=>{a.target&&!r.current&&sy(VE,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tg(){const e=new CustomEvent(Ud);document.dispatchEvent(e)}function sy(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Gk(s,a):s.dispatchEvent(a)}var pu="focusScope.autoFocusOnMount",gu="focusScope.autoFocusOnUnmount",ng={bubbles:!1,cancelable:!0},XE="FocusScope",jh=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=d.useState(null),u=It(s),h=It(a),f=d.useRef(null),m=Pe(t,x=>c(x)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(y){if(p.paused||!l)return;const N=y.target;l.contains(N)?f.current=N:kr(f.current,{select:!0})},b=function(y){if(p.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||kr(f.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&kr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[r,l,p.paused]),d.useEffect(()=>{if(l){sg.add(p);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(pu,ng);l.addEventListener(pu,u),l.dispatchEvent(g),g.defaultPrevented||(qE(t4(oy(l)),{select:!0}),document.activeElement===x&&kr(l))}return()=>{l.removeEventListener(pu,u),setTimeout(()=>{const g=new CustomEvent(gu,ng);l.addEventListener(gu,h),l.dispatchEvent(g),g.defaultPrevented||kr(x??document.body,{select:!0}),l.removeEventListener(gu,h),sg.remove(p)},0)}}},[l,u,h,p]);const w=d.useCallback(x=>{if(!n&&!r||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(b&&g){const v=x.currentTarget,[y,N]=QE(v);y&&N?!x.shiftKey&&g===N?(x.preventDefault(),n&&kr(y,{select:!0})):x.shiftKey&&g===y&&(x.preventDefault(),n&&kr(N,{select:!0})):g===v&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(Ne.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});jh.displayName=XE;function qE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(kr(r,{select:t}),document.activeElement!==n)return}function QE(e){const t=oy(e),n=rg(t,e),r=rg(t.reverse(),e);return[n,r]}function oy(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rg(e,t){for(const n of e)if(!JE(n,{upTo:t}))return n}function JE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZE(e){return e instanceof HTMLInputElement&&"select"in e}function kr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZE(e)&&t&&e.select()}}var sg=e4();function e4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=og(e,t),e.unshift(t)},remove(t){var n;e=og(e,t),(n=e[0])==null||n.resume()}}}function og(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function t4(e){return e.filter(t=>t.tagName!=="A")}var n4="Portal",Ch=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=d.useState(!1);xt(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?h0.createPortal(o.jsx(Ne.div,{...r,ref:t}),i):null});Ch.displayName=n4;function r4(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var wr=e=>{const{present:t,children:n}=e,r=s4(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),a=Pe(r.ref,o4(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:a}):null};wr.displayName="Presence";function s4(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=r4(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Ai(r.current);a.current=l==="mounted"?u:"none"},[l]),xt(()=>{const u=r.current,h=s.current;if(h!==e){const m=a.current,p=Ai(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),xt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=p=>{const x=Ai(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(a.current=Ai(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ai(e){return(e==null?void 0:e.animationName)||"none"}function o4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vu=0;function ay(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ag()),document.body.insertAdjacentElement("beforeend",e[1]??ag()),vu++,()=>{vu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vu--}},[])}function ag(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bn=function(){return Bn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Bn.apply(this,arguments)};function iy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function a4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var al="right-scroll-bar-position",il="width-before-scroll-bar",i4="with-scroll-bars-hidden",l4="--removed-body-scroll-bar-size";function xu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function c4(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var u4=typeof window<"u"?d.useLayoutEffect:d.useEffect,ig=new WeakMap;function d4(e,t){var n=c4(null,function(r){return e.forEach(function(s){return xu(s,r)})});return u4(function(){var r=ig.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||xu(l,null)}),a.forEach(function(l){s.has(l)||xu(l,i)})}ig.set(n,e)},[e]),n}function f4(e){return e}function h4(e,t){t===void 0&&(t=f4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function m4(e){e===void 0&&(e={});var t=h4(null);return t.options=Bn({async:!0,ssr:!1},e),t}var ly=function(e){var t=e.sideCar,n=iy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Bn({},n))};ly.isSideCarExport=!0;function p4(e,t){return e.useMedium(t),ly}var cy=m4(),yu=function(){},pc=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:yu,onWheelCapture:yu,onTouchMoveCapture:yu}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,x=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,y=e.gapMode,N=iy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,R=d4([n,t]),P=Bn(Bn({},N),s);return d.createElement(d.Fragment,null,h&&d.createElement(E,{sideCar:cy,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:y}),i?d.cloneElement(d.Children.only(l),Bn(Bn({},P),{ref:R})):d.createElement(v,Bn({},P,{className:c,ref:R}),l))});pc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pc.classNames={fullWidth:il,zeroRight:al};var g4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function v4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=g4();return t&&e.setAttribute("nonce",t),e}function x4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function y4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var w4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=v4())&&(x4(t,n),y4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},b4=function(){var e=w4();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uy=function(){var e=b4(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},S4={left:0,top:0,right:0,gap:0},wu=function(e){return parseInt(e||"",10)||0},N4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[wu(n),wu(r),wu(s)]},j4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return S4;var t=N4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},C4=uy(),so="data-scroll-locked",k4=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(i4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(so,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(al,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(il,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(al," .").concat(al,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(il," .").concat(il,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(so,`] {
    `).concat(l4,": ").concat(l,`px;
  }
`)},lg=function(){var e=parseInt(document.body.getAttribute(so)||"0",10);return isFinite(e)?e:0},E4=function(){d.useEffect(function(){return document.body.setAttribute(so,(lg()+1).toString()),function(){var e=lg()-1;e<=0?document.body.removeAttribute(so):document.body.setAttribute(so,e.toString())}},[])},T4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;E4();var a=d.useMemo(function(){return j4(s)},[s]);return d.createElement(C4,{styles:k4(a,!t,s,n?"":"!important")})},Bd=!1;if(typeof window<"u")try{var Ii=Object.defineProperty({},"passive",{get:function(){return Bd=!0,!0}});window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Bd=!1}var Os=Bd?{passive:!1}:!1,P4=function(e){return e.tagName==="TEXTAREA"},dy=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!P4(e)&&n[t]==="visible")},R4=function(e){return dy(e,"overflowY")},_4=function(e){return dy(e,"overflowX")},cg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=fy(e,r);if(s){var a=hy(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},A4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},I4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},fy=function(e,t){return e==="v"?R4(t):_4(t)},hy=function(e,t){return e==="v"?A4(t):I4(t)},D4=function(e,t){return e==="h"&&t==="rtl"?-1:1},O4=function(e,t,n,r,s){var a=D4(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,h=i>0,f=0,m=0;do{if(!l)break;var p=hy(e,l),w=p[0],x=p[1],b=p[2],g=x-b-a*w;(w||g)&&fy(e,l)&&(f+=g,m+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Di=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ug=function(e){return[e.deltaX,e.deltaY]},dg=function(e){return e&&"current"in e?e.current:e},L4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},M4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$4=0,Ls=[];function z4(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState($4++)[0],a=d.useState(uy)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=a4([e.lockRef.current],(e.shards||[]).map(dg),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var g=Di(x),v=n.current,y="deltaX"in x?x.deltaX:v[0]-g[0],N="deltaY"in x?x.deltaY:v[1]-g[1],E,R=x.target,P=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in x&&P==="h"&&R.type==="range")return!1;var T=cg(P,R);if(!T)return!0;if(T?E=P:(E=P==="v"?"h":"v",T=cg(P,R)),!T)return!1;if(!r.current&&"changedTouches"in x&&(y||N)&&(r.current=E),!E)return!0;var S=r.current||E;return O4(S,b,x,S==="h"?y:N)},[]),c=d.useCallback(function(x){var b=x;if(!(!Ls.length||Ls[Ls.length-1]!==a)){var g="deltaY"in b?ug(b):Di(b),v=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&L4(E.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(dg).filter(Boolean).filter(function(E){return E.contains(b.target)}),N=y.length>0?l(b,y[0]):!i.current.noIsolation;N&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(x,b,g,v){var y={name:x,delta:b,target:g,should:v,shadowParent:F4(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),h=d.useCallback(function(x){n.current=Di(x),r.current=void 0},[]),f=d.useCallback(function(x){u(x.type,ug(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,Di(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return Ls.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Os),document.addEventListener("touchmove",c,Os),document.addEventListener("touchstart",h,Os),function(){Ls=Ls.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Os),document.removeEventListener("touchmove",c,Os),document.removeEventListener("touchstart",h,Os)}},[]);var p=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(a,{styles:M4(s)}):null,p?d.createElement(T4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function F4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const U4=p4(cy,z4);var kh=d.forwardRef(function(e,t){return d.createElement(pc,Bn({},e,{ref:t,sideCar:U4}))});kh.classNames=pc.classNames;var B4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ms=new WeakMap,Oi=new WeakMap,Li={},bu=0,my=function(e){return e&&(e.host||my(e.parentNode))},W4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=my(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},V4=function(e,t,n,r){var s=W4(t,Array.isArray(e)?e:[e]);Li[n]||(Li[n]=new WeakMap);var a=Li[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(r),w=p!==null&&p!=="false",x=(Ms.get(m)||0)+1,b=(a.get(m)||0)+1;Ms.set(m,x),a.set(m,b),i.push(m),x===1&&w&&Oi.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return h(t),l.clear(),bu++,function(){i.forEach(function(f){var m=Ms.get(f)-1,p=a.get(f)-1;Ms.set(f,m),a.set(f,p),m||(Oi.has(f)||f.removeAttribute(r),Oi.delete(f)),p||f.removeAttribute(n)}),bu--,bu||(Ms=new WeakMap,Ms=new WeakMap,Oi=new WeakMap,Li={})}},py=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=B4(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),V4(r,s,n,"aria-hidden")):function(){return null}},gc="Dialog",[gy,vy]=Ln(gc),[H4,Mn]=gy(gc),xy=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=bs({prop:r,defaultProp:s??!1,onChange:a,caller:gc});return o.jsx(H4,{scope:t,triggerRef:l,contentRef:c,contentId:Hr(),titleId:Hr(),descriptionId:Hr(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:i,children:n})};xy.displayName=gc;var yy="DialogTrigger",wy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(yy,n),a=Pe(t,s.triggerRef);return o.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ph(s.open),...r,ref:a,onClick:Se(e.onClick,s.onOpenToggle)})});wy.displayName=yy;var Eh="DialogPortal",[K4,by]=gy(Eh,{forceMount:void 0}),Sy=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Mn(Eh,t);return o.jsx(K4,{scope:t,forceMount:n,children:d.Children.map(r,i=>o.jsx(wr,{present:n||a.open,children:o.jsx(Ch,{asChild:!0,container:s,children:i})}))})};Sy.displayName=Eh;var Fl="DialogOverlay",Ny=d.forwardRef((e,t)=>{const n=by(Fl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Mn(Fl,e.__scopeDialog);return a.modal?o.jsx(wr,{present:r||a.open,children:o.jsx(G4,{...s,ref:t})}):null});Ny.displayName=Fl;var Y4=po("DialogOverlay.RemoveScroll"),G4=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(Fl,n);return o.jsx(kh,{as:Y4,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ne.div,{"data-state":Ph(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",jy=d.forwardRef((e,t)=>{const n=by(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Mn(Ss,e.__scopeDialog);return o.jsx(wr,{present:r||a.open,children:a.modal?o.jsx(X4,{...s,ref:t}):o.jsx(q4,{...s,ref:t})})});jy.displayName=Ss;var X4=d.forwardRef((e,t)=>{const n=Mn(Ss,e.__scopeDialog),r=d.useRef(null),s=Pe(t,n.contentRef,r);return d.useEffect(()=>{const a=r.current;if(a)return py(a)},[]),o.jsx(Cy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Se(e.onFocusOutside,a=>a.preventDefault())})}),q4=d.forwardRef((e,t)=>{const n=Mn(Ss,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(Cy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Cy=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Mn(Ss,n),c=d.useRef(null),u=Pe(t,c);return ay(),o.jsxs(o.Fragment,{children:[o.jsx(jh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Nh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ph(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(J4,{titleId:l.titleId}),o.jsx(eT,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Th="DialogTitle",ky=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(Th,n);return o.jsx(Ne.h2,{id:s.titleId,...r,ref:t})});ky.displayName=Th;var Ey="DialogDescription",Ty=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(Ey,n);return o.jsx(Ne.p,{id:s.descriptionId,...r,ref:t})});Ty.displayName=Ey;var Py="DialogClose",Ry=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mn(Py,n);return o.jsx(Ne.button,{type:"button",...r,ref:t,onClick:Se(e.onClick,()=>s.onOpenChange(!1))})});Ry.displayName=Py;function Ph(e){return e?"open":"closed"}var _y="DialogTitleWarning",[Q4,Ay]=Hk(_y,{contentName:Ss,titleName:Th,docsSlug:"dialog"}),J4=({titleId:e})=>{const t=Ay(_y),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Z4="DialogDescriptionWarning",eT=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ay(Z4).contentName}}.`;return d.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Iy=xy,tT=wy,Dy=Sy,Oy=Ny,Ly=jy,My=ky,nT=Ty,Rh=Ry;function vc({...e}){return o.jsx(Iy,{"data-slot":"dialog",...e})}function rT({...e}){return o.jsx(Dy,{"data-slot":"dialog-portal",...e})}function sT({className:e,...t}){return o.jsx(Oy,{"data-slot":"dialog-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function xc({className:e,children:t,...n}){return o.jsxs(rT,{"data-slot":"dialog-portal",children:[o.jsx(sT,{}),o.jsxs(Ly,{"data-slot":"dialog-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(Rh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(An,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function yc({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Te("flex flex-col gap-2 text-center sm:text-left",e),...t})}function wc({className:e,...t}){return o.jsx(My,{"data-slot":"dialog-title",className:Te("text-lg leading-none font-semibold",e),...t})}function oT({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:a,deletePlaylist:i,currentUserId:l,isSharedAccess:c}){var ht,W;const[u,h]=d.useState(null),[f,m]=d.useState([]),[p,w]=d.useState(!1),[x,b]=d.useState(null),[g,v]=d.useState(!0),[y,N]=d.useState(null),[E,R]=d.useState(!1),[P,T]=d.useState([]),[S,k]=d.useState([]),[_,C]=d.useState(""),[I,D]=d.useState(!1),[Y,B]=d.useState(!1),[M,j]=d.useState([]),A=d.useCallback(async()=>{var O,q,X;try{v(!0),N(null),console.log("    :",e);const F=localStorage.getItem("accessToken");let V=null;if(F)try{const de=F.split(".");if(de.length===3){const ye=JSON.parse(atob(de[1]));V=ye.userId||ye.sub||ye.id||null}}catch(de){console.error("JWT   :",de)}const oe=await r(e);if(console.log("   :",oe),!oe){console.error("   "),N("   .");return}if(h(oe),m(oe.playlistContents||[]),V&&oe.subscriptions){const de=oe.subscriptions.find(ye=>ye.userId===V);w(!!de),b((de==null?void 0:de.subscriptionId)||null)}console.log("    :",{playlist:oe,contents:oe.playlistContents||[],isSubscribed:!!V&&((O=oe.subscriptions)==null?void 0:O.some(de=>de.userId===V)),subscriptionId:(X=(q=oe.subscriptions)==null?void 0:q.find(de=>de.userId===V))==null?void 0:X.subscriptionId})}catch(F){console.error("    :",F),N("   .")}finally{v(!1)}},[e,r]),L=d.useCallback(async()=>{try{console.log("   :",{searchQuery:_}),D(!0);const O=await fs.getContents({size:20,query:_||void 0});console.log("   :",O),T(O.data||[]),console.log("   :",O.data||[])}catch(O){console.error("   :",O)}finally{D(!1)}},[_]);if(d.useEffect(()=>{A()},[A]),d.useEffect(()=>{let O;return E&&(O=setTimeout(()=>{L()},300)),()=>{O&&clearTimeout(O)}},[_,E,L]),g)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(y||!u)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:y||"   "}),o.jsx(U,{onClick:t,variant:"outline",children:""})]})});const te=async()=>{if(!l){alert(" .");return}try{if(p&&x)await $l.unsubscribe(x),w(!1),b(null),console.log("   :",x);else{const O=await $l.subscribe(l,e);w(!0),b(O.subscriptionId),console.log("  :",O)}await A()}catch(O){console.error("    :",O),alert("   .")}},$=O=>{if(l!==u.userId){alert("     .");return}console.log(`Removing content ${O} from playlist ${e}`),m(q=>q.filter(X=>X.id!==O))},ee=O=>{n?n({id:O.id,title:O.title,thumbnail:O.thumbnail,type:O.type,duration:O.duration,description:O.description}):alert(`"${O.title}"  .`)},re=()=>{console.log(`Playing playlist: ${u.name}`),alert(`"${u.name}"   .`)},ce=()=>{if(l!==u.userId){alert("     .");return}R(!0),L()},Ee=O=>{k(q=>q.includes(O)?q.filter(X=>X!==O):[...q,O])},Z=async()=>{if(S.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,S),await s(e,S),await A(),R(!1),k([]),C(""),alert(`${S.length}   .`)}catch(O){console.error("  :",O),alert("  .")}},ae=()=>{console.log("    :",!Y),B(!Y),j([])},he=O=>{j(q=>q.includes(O)?q.filter(X=>X!==O):[...q,O])},ge=()=>{M.length===f.length?j([]):j(f.map(O=>O.id))},ie=async()=>{if(l!==u.userId){alert("     .");return}if(M.length===0){alert("  .");return}if(confirm(` ${M.length}   ?`))try{await a(e,M),await A(),j([]),B(!1),alert(`${M.length}  .`)}catch(q){console.error("  :",q),alert("  .")}},we=async()=>{try{const O=`${window.location.origin}/?playlist=${e}`;navigator.clipboard?(await navigator.clipboard.writeText(O),alert("    !")):prompt("   :",O),console.log("    :",O)}catch(O){console.error("   :",O),alert("   .")}},be=async()=>{if(console.log("   :",{deletePlaylist:!!i,currentUserId:l,playlistUserId:u==null?void 0:u.userId}),!i||!l){alert("  .");return}if(l!==(u==null?void 0:u.userId)){alert("    .");return}if(!confirm(` "${u==null?void 0:u.name}"  ?
    .`)){console.log("   ");return}try{console.log("   :",e),await i(e),console.log("   "),alert(" ."),t()}catch(O){console.error("   :",O),alert("  .")}},Be=()=>u.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:u.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:""})]})}):o.jsx(zl,{src:u.coverImage,alt:u.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs(U,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(jo,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:Be()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(mn,{variant:"secondary",className:"bg-white/10 text-white",children:""}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:u.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:u.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(st,{className:"h-6 w-6",children:[o.jsx(ot,{src:(ht=u.user)==null?void 0:ht.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:((W=u.username)==null?void 0:W.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:u.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[f.length," "]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(mh,{className:"w-4 h-4"}),o.jsx("span",{children:u.createdAt?new Date(u.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs(U,{size:"lg",onClick:re,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(Et,{className:"w-6 h-6 mr-2 fill-current"}),""]}),l?o.jsx(o.Fragment,{children:l===u.userId?o.jsxs(o.Fragment,{children:[o.jsxs(U,{size:"lg",variant:"outline",onClick:ce,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs(U,{size:"lg",variant:"outline",onClick:ae,className:`border-white/20 hover:bg-white/10 ${Y?"bg-white/10":""}`,children:[o.jsx(An,{className:"w-5 h-5 mr-2"}),Y?" ":" "]})]}):null}):o.jsxs(U,{size:"lg",variant:"outline",onClick:()=>alert(c?"  .     !":"    ."),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"})," "]}),Y&&o.jsxs(o.Fragment,{children:[o.jsx(U,{size:"lg",variant:"outline",onClick:ge,className:"border-white/20 hover:bg-white/10",children:M.length===f.length?" ":" "}),M.length>0&&o.jsxs(U,{size:"lg",variant:"destructive",onClick:ie,className:"bg-red-600 hover:bg-red-700",children:["  (",M.length,")"]})]}),l&&o.jsx(U,{variant:"ghost",size:"lg",onClick:te,className:`p-3 hover:bg-white/10 ${p?"text-[#4ecdc4]":"text-white/60"}`,title:p?" ":"",children:o.jsx(Gr,{className:`w-6 h-6 ${p?"fill-current":""}`})}),o.jsx(U,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",onClick:we,children:o.jsx(TC,{className:"w-6 h-6"})}),l===(u==null?void 0:u.userId)&&i&&!c&&o.jsx(U,{variant:"ghost",size:"lg",className:"p-3 hover:bg-red-500/20 text-red-400 hover:text-red-300",onClick:be,title:" ",children:o.jsx(Aa,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-9",children:""}),o.jsx("div",{className:"col-span-1"}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:f.map((O,q)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:Y,contentId:O.id}),Y)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>he(O.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${M.includes(O.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:M.includes(O.id)&&o.jsx(Yt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:q+1}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>ee(O),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(Et,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-9",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(zl,{src:O.thumbnail,alt:O.title,className:"w-full h-full object-cover"})}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:O.title})})]})}),o.jsx("div",{className:"col-span-1"}),o.jsx("div",{className:"col-span-1",children:l===u.userId&&o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>$(O.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(An,{className:"w-4 h-4"})})})})]})},O.id))}),f.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),l===u.userId&&o.jsx(U,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:ce,children:" "})]})]})}),o.jsx(vc,{open:E,onOpenChange:R,children:o.jsxs(xc,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(yc,{children:o.jsx(wc,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Ve,{placeholder:" ...",value:_,onChange:O=>C(O.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),S.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[S.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:I?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!P||P.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(P||[]).map(O=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${S.includes(O.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>Ee(O.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:O.thumbnail||"/placeholder-content.jpg",alt:O.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:O.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:O.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(mn,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:O.contentType}),O.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:O.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:S.includes(O.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Yt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},O.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx(U,{variant:"outline",onClick:()=>{R(!1),k([]),C("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx(U,{onClick:Z,disabled:S.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:S.length>0?`${S.length} `:""})]})]})})]})}function Ia(e,[t,n]){return Math.min(n,Math.max(t,e))}function _h(e){const t=e+"CollectionProvider",[n,r]=Ln(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:g}=x,v=ne.useRef(null),y=ne.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:y,collectionRef:v,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=po(l),u=ne.forwardRef((x,b)=>{const{scope:g,children:v}=x,y=a(l,g),N=Pe(b,y.collectionRef);return o.jsx(c,{ref:N,children:v})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=po(h),p=ne.forwardRef((x,b)=>{const{scope:g,children:v,...y}=x,N=ne.useRef(null),E=Pe(b,N),R=a(h,g);return ne.useEffect(()=>(R.itemMap.set(N,{ref:N,...y}),()=>void R.itemMap.delete(N))),o.jsx(m,{[f]:"",ref:E,children:v})});p.displayName=h;function w(x){const b=a(e+"CollectionConsumer",x);return ne.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((R,P)=>y.indexOf(R.ref.current)-y.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var aT=d.createContext(void 0);function Xa(e){const t=d.useContext(aT);return e||t||"ltr"}const iT=["top","right","bottom","left"],qr=Math.min,Zt=Math.max,Ul=Math.round,Mi=Math.floor,Yn=e=>({x:e,y:e}),lT={left:"right",right:"left",bottom:"top",top:"bottom"},cT={start:"end",end:"start"};function Wd(e,t,n){return Zt(e,qr(t,n))}function pr(e,t){return typeof e=="function"?e(t):e}function gr(e){return e.split("-")[0]}function Co(e){return e.split("-")[1]}function Ah(e){return e==="x"?"y":"x"}function Ih(e){return e==="y"?"height":"width"}const uT=new Set(["top","bottom"]);function Wn(e){return uT.has(gr(e))?"y":"x"}function Dh(e){return Ah(Wn(e))}function dT(e,t,n){n===void 0&&(n=!1);const r=Co(e),s=Dh(e),a=Ih(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Bl(i)),[i,Bl(i)]}function fT(e){const t=Bl(e);return[Vd(e),t,Vd(t)]}function Vd(e){return e.replace(/start|end/g,t=>cT[t])}const fg=["left","right"],hg=["right","left"],hT=["top","bottom"],mT=["bottom","top"];function pT(e,t,n){switch(e){case"top":case"bottom":return n?t?hg:fg:t?fg:hg;case"left":case"right":return t?hT:mT;default:return[]}}function gT(e,t,n,r){const s=Co(e);let a=pT(gr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Vd)))),a}function Bl(e){return e.replace(/left|right|bottom|top/g,t=>lT[t])}function vT(e){return{top:0,right:0,bottom:0,left:0,...e}}function $y(e){return typeof e!="number"?vT(e):{top:e,right:e,bottom:e,left:e}}function Wl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function mg(e,t,n){let{reference:r,floating:s}=e;const a=Wn(t),i=Dh(t),l=Ih(i),c=gr(t),u=a==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Co(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const xT=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=mg(u,r,c),m=r,p={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:g}=l[x],{x:v,y,data:N,reset:E}=await g({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});h=v??h,f=y??f,p={...p,[b]:{...p[b],...N}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(u=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:h,y:f}=mg(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Da(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=pr(t,e),w=$y(p),b=l[m?f==="floating"?"reference":"floating":f],g=Wl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},E=Wl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(g.top-E.top+w.top)/N.y,bottom:(E.bottom-g.bottom+w.bottom)/N.y,left:(g.left-E.left+w.left)/N.x,right:(E.right-g.right+w.right)/N.x}}const yT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=pr(e,t)||{};if(u==null)return{};const f=$y(h),m={x:n,y:r},p=Dh(s),w=Ih(p),x=await i.getDimensions(u),b=p==="y",g=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",N=a.reference[w]+a.reference[p]-m[p]-a.floating[w],E=m[p]-a.reference[p],R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let P=R?R[y]:0;(!P||!await(i.isElement==null?void 0:i.isElement(R)))&&(P=l.floating[y]||a.floating[w]);const T=N/2-E/2,S=P/2-x[w]/2-1,k=qr(f[g],S),_=qr(f[v],S),C=k,I=P-x[w]-_,D=P/2-x[w]/2+T,Y=Wd(C,D,I),B=!c.arrow&&Co(s)!=null&&D!==Y&&a.reference[w]/2-(D<C?k:_)-x[w]/2<0,M=B?D<C?D-C:D-I:0;return{[p]:m[p]+M,data:{[p]:Y,centerOffset:D-Y-M,...B&&{alignmentOffset:M}},reset:B}}}),wT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=pr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=gr(s),v=Wn(l),y=gr(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=m||(y||!x?[Bl(l)]:fT(l)),R=w!=="none";!m&&R&&E.push(...gT(l,x,w,N));const P=[l,...E],T=await Da(t,b),S=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&S.push(T[g]),f){const D=dT(s,i,N);S.push(T[D[0]],T[D[1]])}if(k=[...k,{placement:s,overflows:S}],!S.every(D=>D<=0)){var _,C;const D=(((_=a.flip)==null?void 0:_.index)||0)+1,Y=P[D];if(Y&&(!(f==="alignment"?v!==Wn(Y):!1)||k.every(j=>j.overflows[0]>0&&Wn(j.placement)===v)))return{data:{index:D,overflows:k},reset:{placement:Y}};let B=(C=k.filter(M=>M.overflows[0]<=0).sort((M,j)=>M.overflows[1]-j.overflows[1])[0])==null?void 0:C.placement;if(!B)switch(p){case"bestFit":{var I;const M=(I=k.filter(j=>{if(R){const A=Wn(j.placement);return A===v||A==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(A=>A>0).reduce((A,L)=>A+L,0)]).sort((j,A)=>j[1]-A[1])[0])==null?void 0:I[0];M&&(B=M);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function pg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gg(e){return iT.some(t=>e[t]>=0)}const bT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=pr(e,t);switch(r){case"referenceHidden":{const a=await Da(t,{...s,elementContext:"reference"}),i=pg(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:gg(i)}}}case"escaped":{const a=await Da(t,{...s,altBoundary:!0}),i=pg(a,n.floating);return{data:{escapedOffsets:i,escaped:gg(i)}}}default:return{}}}}},zy=new Set(["left","top"]);async function ST(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=gr(n),l=Co(n),c=Wn(n)==="y",u=zy.has(i)?-1:1,h=a&&c?-1:1,f=pr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*h,y:m*u}:{x:m*u,y:p*h}}const NT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await ST(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},jT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...c}=pr(e,t),u={x:n,y:r},h=await Da(t,c),f=Wn(gr(s)),m=Ah(f);let p=u[m],w=u[f];if(a){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",v=p+h[b],y=p-h[g];p=Wd(v,p,y)}if(i){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=w+h[b],y=w-h[g];w=Wd(v,w,y)}const x=l.fn({...t,[m]:p,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[f]:i}}}}}},CT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pr(e,t),h={x:n,y:r},f=Wn(s),m=Ah(f);let p=h[m],w=h[f];const x=pr(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const y=m==="y"?"height":"width",N=a.reference[m]-a.floating[y]+b.mainAxis,E=a.reference[m]+a.reference[y]-b.mainAxis;p<N?p=N:p>E&&(p=E)}if(u){var g,v;const y=m==="y"?"width":"height",N=zy.has(gr(s)),E=a.reference[f]-a.floating[y]+(N&&((g=i.offset)==null?void 0:g[f])||0)+(N?0:b.crossAxis),R=a.reference[f]+a.reference[y]+(N?0:((v=i.offset)==null?void 0:v[f])||0)-(N?b.crossAxis:0);w<E?w=E:w>R&&(w=R)}return{[m]:p,[f]:w}}}},kT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=pr(e,t),h=await Da(t,u),f=gr(s),m=Co(s),p=Wn(s)==="y",{width:w,height:x}=a.floating;let b,g;f==="top"||f==="bottom"?(b=f,g=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,b=m==="end"?"top":"bottom");const v=x-h.top-h.bottom,y=w-h.left-h.right,N=qr(x-h[b],v),E=qr(w-h[g],y),R=!t.middlewareData.shift;let P=N,T=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=v),R&&!m){const k=Zt(h.left,0),_=Zt(h.right,0),C=Zt(h.top,0),I=Zt(h.bottom,0);p?T=w-2*(k!==0||_!==0?k+_:Zt(h.left,h.right)):P=x-2*(C!==0||I!==0?C+I:Zt(h.top,h.bottom))}await c({...t,availableWidth:T,availableHeight:P});const S=await i.getDimensions(l.floating);return w!==S.width||x!==S.height?{reset:{rects:!0}}:{}}}};function bc(){return typeof window<"u"}function ko(e){return Fy(e)?(e.nodeName||"").toLowerCase():"#document"}function rn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function er(e){var t;return(t=(Fy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fy(e){return bc()?e instanceof Node||e instanceof rn(e).Node:!1}function In(e){return bc()?e instanceof Element||e instanceof rn(e).Element:!1}function qn(e){return bc()?e instanceof HTMLElement||e instanceof rn(e).HTMLElement:!1}function vg(e){return!bc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rn(e).ShadowRoot}const ET=new Set(["inline","contents"]);function qa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ET.has(s)}const TT=new Set(["table","td","th"]);function PT(e){return TT.has(ko(e))}const RT=[":popover-open",":modal"];function Sc(e){return RT.some(t=>{try{return e.matches(t)}catch{return!1}})}const _T=["transform","translate","scale","rotate","perspective"],AT=["transform","translate","scale","rotate","perspective","filter"],IT=["paint","layout","strict","content"];function Oh(e){const t=Lh(),n=In(e)?Dn(e):e;return _T.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||AT.some(r=>(n.willChange||"").includes(r))||IT.some(r=>(n.contain||"").includes(r))}function DT(e){let t=Qr(e);for(;qn(t)&&!vo(t);){if(Oh(t))return t;if(Sc(t))return null;t=Qr(t)}return null}function Lh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OT=new Set(["html","body","#document"]);function vo(e){return OT.has(ko(e))}function Dn(e){return rn(e).getComputedStyle(e)}function Nc(e){return In(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qr(e){if(ko(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vg(e)&&e.host||er(e);return vg(t)?t.host:t}function Uy(e){const t=Qr(e);return vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:qn(t)&&qa(t)?t:Uy(t)}function Oa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Uy(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=rn(s);if(a){const l=Hd(i);return t.concat(i,i.visualViewport||[],qa(s)?s:[],l&&n?Oa(l):[])}return t.concat(s,Oa(s,[],n))}function Hd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function By(e){const t=Dn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=qn(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Ul(n)!==a||Ul(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Mh(e){return In(e)?e:e.contextElement}function oo(e){const t=Mh(e);if(!qn(t))return Yn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=By(t);let i=(a?Ul(n.width):n.width)/r,l=(a?Ul(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const LT=Yn(0);function Wy(e){const t=rn(e);return!Lh()||!t.visualViewport?LT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==rn(e)?!1:t}function Ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Mh(e);let i=Yn(1);t&&(r?In(r)&&(i=oo(r)):i=oo(e));const l=MT(a,n,r)?Wy(a):Yn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(a){const m=rn(a),p=r&&In(r)?rn(r):r;let w=m,x=Hd(w);for(;x&&r&&p!==w;){const b=oo(x),g=x.getBoundingClientRect(),v=Dn(x),y=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,N=g.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,f*=b.y,c+=y,u+=N,w=rn(x),x=Hd(w)}}return Wl({width:h,height:f,x:c,y:u})}function $h(e,t){const n=Nc(e).scrollLeft;return t?t.left+n:Ns(er(e)).left+n}function Vy(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:$h(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function $T(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=er(r),l=t?Sc(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Yn(1);const h=Yn(0),f=qn(r);if((f||!f&&!a)&&((ko(r)!=="body"||qa(i))&&(c=Nc(r)),qn(r))){const p=Ns(r);u=oo(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=i&&!f&&!a?Vy(i,c,!0):Yn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function zT(e){return Array.from(e.getClientRects())}function FT(e){const t=er(e),n=Nc(e),r=e.ownerDocument.body,s=Zt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Zt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+$h(e);const l=-n.scrollTop;return Dn(r).direction==="rtl"&&(i+=Zt(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function UT(e,t){const n=rn(e),r=er(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Lh();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const BT=new Set(["absolute","fixed"]);function WT(e,t){const n=Ns(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=qn(e)?oo(e):Yn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function xg(e,t,n){let r;if(t==="viewport")r=UT(e,n);else if(t==="document")r=FT(er(e));else if(In(t))r=WT(t,n);else{const s=Wy(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Wl(r)}function Hy(e,t){const n=Qr(e);return n===t||!In(n)||vo(n)?!1:Dn(n).position==="fixed"||Hy(n,t)}function VT(e,t){const n=t.get(e);if(n)return n;let r=Oa(e,[],!1).filter(l=>In(l)&&ko(l)!=="body"),s=null;const a=Dn(e).position==="fixed";let i=a?Qr(e):e;for(;In(i)&&!vo(i);){const l=Dn(i),c=Oh(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&BT.has(s.position)||qa(i)&&!c&&Hy(e,i))?r=r.filter(h=>h!==i):s=l,i=Qr(i)}return t.set(e,r),r}function HT(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Sc(t)?[]:VT(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,h)=>{const f=xg(t,h,s);return u.top=Zt(f.top,u.top),u.right=qr(f.right,u.right),u.bottom=qr(f.bottom,u.bottom),u.left=Zt(f.left,u.left),u},xg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KT(e){const{width:t,height:n}=By(e);return{width:t,height:n}}function YT(e,t,n){const r=qn(t),s=er(t),a=n==="fixed",i=Ns(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Yn(0);function u(){c.x=$h(s)}if(r||!r&&!a)if((ko(t)!=="body"||qa(s))&&(l=Nc(t)),r){const p=Ns(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!r&&s&&u();const h=s&&!r&&!a?Vy(s,l):Yn(0),f=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:i.width,height:i.height}}function Su(e){return Dn(e).position==="static"}function yg(e,t){if(!qn(e)||Dn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return er(e)===n&&(n=n.ownerDocument.body),n}function Ky(e,t){const n=rn(e);if(Sc(e))return n;if(!qn(e)){let s=Qr(e);for(;s&&!vo(s);){if(In(s)&&!Su(s))return s;s=Qr(s)}return n}let r=yg(e,t);for(;r&&PT(r)&&Su(r);)r=yg(r,t);return r&&vo(r)&&Su(r)&&!Oh(r)?n:r||DT(e)||n}const GT=async function(e){const t=this.getOffsetParent||Ky,n=this.getDimensions,r=await n(e.floating);return{reference:YT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XT(e){return Dn(e).direction==="rtl"}const qT={convertOffsetParentRelativeRectToViewportRelativeRect:$T,getDocumentElement:er,getClippingRect:HT,getOffsetParent:Ky,getElementRects:GT,getClientRects:zT,getDimensions:KT,getScale:oo,isElement:In,isRTL:XT};function Yy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QT(e,t){let n=null,r;const s=er(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const w=Mi(f),x=Mi(s.clientWidth-(h+m)),b=Mi(s.clientHeight-(f+p)),g=Mi(h),y={rootMargin:-w+"px "+-x+"px "+-b+"px "+-g+"px",threshold:Zt(0,qr(1,c))||1};let N=!0;function E(R){const P=R[0].intersectionRatio;if(P!==c){if(!N)return i();P?i(!1,P):r=setTimeout(()=>{i(!1,1e-7)},1e3)}P===1&&!Yy(u,e.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(E,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(e)}return i(!0),a}function JT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Mh(e),h=s||a?[...u?Oa(u):[],...Oa(t)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const f=u&&l?QT(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,x=c?Ns(e):null;c&&b();function b(){const g=Ns(e);x&&!Yy(x,g)&&n(),x=g,w=requestAnimationFrame(b)}return n(),()=>{var g;h.forEach(v=>{s&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const ZT=NT,eP=jT,tP=wT,nP=kT,rP=bT,wg=yT,sP=CT,oP=(e,t,n)=>{const r=new Map,s={platform:qT,...n},a={...s.platform,_c:r};return xT(e,t,{...s,platform:a})};var aP=typeof document<"u",iP=function(){},ll=aP?d.useLayoutEffect:iP;function Vl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Vl(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Gy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bg(e,t){const n=Gy(e);return Math.round(t*n)/n}function Nu(e){const t=d.useRef(e);return ll(()=>{t.current=e}),t}function lP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=d.useState(r);Vl(m,r)||p(r);const[w,x]=d.useState(null),[b,g]=d.useState(null),v=d.useCallback(j=>{j!==R.current&&(R.current=j,x(j))},[]),y=d.useCallback(j=>{j!==P.current&&(P.current=j,g(j))},[]),N=a||w,E=i||b,R=d.useRef(null),P=d.useRef(null),T=d.useRef(h),S=c!=null,k=Nu(c),_=Nu(s),C=Nu(u),I=d.useCallback(()=>{if(!R.current||!P.current)return;const j={placement:t,strategy:n,middleware:m};_.current&&(j.platform=_.current),oP(R.current,P.current,j).then(A=>{const L={...A,isPositioned:C.current!==!1};D.current&&!Vl(T.current,L)&&(T.current=L,So.flushSync(()=>{f(L)}))})},[m,t,n,_,C]);ll(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const D=d.useRef(!1);ll(()=>(D.current=!0,()=>{D.current=!1}),[]),ll(()=>{if(N&&(R.current=N),E&&(P.current=E),N&&E){if(k.current)return k.current(N,E,I);I()}},[N,E,I,k,S]);const Y=d.useMemo(()=>({reference:R,floating:P,setReference:v,setFloating:y}),[v,y]),B=d.useMemo(()=>({reference:N,floating:E}),[N,E]),M=d.useMemo(()=>{const j={position:n,left:0,top:0};if(!B.floating)return j;const A=bg(B.floating,h.x),L=bg(B.floating,h.y);return l?{...j,transform:"translate("+A+"px, "+L+"px)",...Gy(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:L}},[n,l,B.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:I,refs:Y,elements:B,floatingStyles:M}),[h,I,Y,B,M])}const cP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?wg({element:r.current,padding:s}).fn(n):{}:r?wg({element:r,padding:s}).fn(n):{}}}},uP=(e,t)=>({...ZT(e),options:[e,t]}),dP=(e,t)=>({...eP(e),options:[e,t]}),fP=(e,t)=>({...sP(e),options:[e,t]}),hP=(e,t)=>({...tP(e),options:[e,t]}),mP=(e,t)=>({...nP(e),options:[e,t]}),pP=(e,t)=>({...rP(e),options:[e,t]}),gP=(e,t)=>({...cP(e),options:[e,t]});var vP="Arrow",Xy=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(Ne.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xy.displayName=vP;var xP=Xy;function zh(e){const[t,n]=d.useState(void 0);return xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Fh="Popper",[qy,Qy]=Ln(Fh),[yP,Jy]=qy(Fh),Zy=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(yP,{scope:t,anchor:r,onAnchorChange:s,children:n})};Zy.displayName=Fh;var ew="PopperAnchor",tw=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Jy(ew,n),i=d.useRef(null),l=Pe(t,i);return d.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(Ne.div,{...s,ref:l})});tw.displayName=ew;var Uh="PopperContent",[wP,bP]=qy(Uh),nw=d.forwardRef((e,t)=>{var Z,ae,he,ge,ie,we;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,b=Jy(Uh,n),[g,v]=d.useState(null),y=Pe(t,be=>v(be)),[N,E]=d.useState(null),R=zh(N),P=(R==null?void 0:R.width)??0,T=(R==null?void 0:R.height)??0,S=r+(a!=="center"?"-"+a:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},_=Array.isArray(u)?u:[u],C=_.length>0,I={padding:k,boundary:_.filter(NP),altBoundary:C},{refs:D,floatingStyles:Y,placement:B,isPositioned:M,middlewareData:j}=lP({strategy:"fixed",placement:S,whileElementsMounted:(...be)=>JT(...be,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[uP({mainAxis:s+T,alignmentAxis:i}),c&&dP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?fP():void 0,...I}),c&&hP({...I}),mP({...I,apply:({elements:be,rects:Be,availableWidth:ht,availableHeight:W})=>{const{width:O,height:q}=Be.reference,X=be.floating.style;X.setProperty("--radix-popper-available-width",`${ht}px`),X.setProperty("--radix-popper-available-height",`${W}px`),X.setProperty("--radix-popper-anchor-width",`${O}px`),X.setProperty("--radix-popper-anchor-height",`${q}px`)}}),N&&gP({element:N,padding:l}),jP({arrowWidth:P,arrowHeight:T}),m&&pP({strategy:"referenceHidden",...I})]}),[A,L]=ow(B),te=It(w);xt(()=>{M&&(te==null||te())},[M,te]);const $=(Z=j.arrow)==null?void 0:Z.x,ee=(ae=j.arrow)==null?void 0:ae.y,re=((he=j.arrow)==null?void 0:he.centerOffset)!==0,[ce,Ee]=d.useState();return xt(()=>{g&&Ee(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:M?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(ge=j.transformOrigin)==null?void 0:ge.x,(ie=j.transformOrigin)==null?void 0:ie.y].join(" "),...((we=j.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(wP,{scope:n,placedSide:A,onArrowChange:E,arrowX:$,arrowY:ee,shouldHideArrow:re,children:o.jsx(Ne.div,{"data-side":A,"data-align":L,...x,ref:y,style:{...x.style,animation:M?void 0:"none"}})})})});nw.displayName=Uh;var rw="PopperArrow",SP={top:"bottom",right:"left",bottom:"top",left:"right"},sw=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=bP(rw,r),i=SP[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(xP,{...s,ref:n,style:{...s.style,display:"block"}})})});sw.displayName=rw;function NP(e){return e!==null}var jP=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=ow(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?f:`${m}px`,x=`${-c}px`):u==="top"?(w=i?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?f:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?f:`${p}px`),{data:{x:w,y:x}}}});function ow(e){const[t,n="center"]=e.split("-");return[t,n]}var CP=Zy,kP=tw,EP=nw,TP=sw;function Bh(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var aw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PP="VisuallyHidden",RP=d.forwardRef((e,t)=>o.jsx(Ne.span,{...e,ref:t,style:{...aw,...e.style}}));RP.displayName=PP;var _P=[" ","Enter","ArrowUp","ArrowDown"],AP=[" ","Enter"],js="Select",[jc,Cc,IP]=_h(js),[Eo,M5]=Ln(js,[IP,Qy]),kc=Qy(),[DP,ns]=Eo(js),[OP,LP]=Eo(js),iw=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:p,form:w}=e,x=kc(t),[b,g]=d.useState(null),[v,y]=d.useState(null),[N,E]=d.useState(!1),R=Xa(u),[P,T]=bs({prop:r,defaultProp:s??!1,onChange:a,caller:js}),[S,k]=bs({prop:i,defaultProp:l,onChange:c,caller:js}),_=d.useRef(null),C=b?w||!!b.closest("form"):!0,[I,D]=d.useState(new Set),Y=Array.from(I).map(B=>B.props.value).join(";");return o.jsx(CP,{...x,children:o.jsxs(DP,{required:p,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:Hr(),value:S,onValueChange:k,open:P,onOpenChange:T,dir:R,triggerPointerDownPosRef:_,disabled:m,children:[o.jsx(jc.Provider,{scope:t,children:o.jsx(OP,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(B=>{D(M=>new Set(M).add(B))},[]),onNativeOptionRemove:d.useCallback(B=>{D(M=>{const j=new Set(M);return j.delete(B),j})},[]),children:n})}),C?o.jsxs(Pw,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:S,onChange:B=>k(B.target.value),disabled:m,form:w,children:[S===void 0?o.jsx("option",{value:""}):null,Array.from(I)]},Y):null]})})};iw.displayName=js;var lw="SelectTrigger",cw=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=kc(n),i=ns(lw,n),l=i.disabled||r,c=Pe(t,i.onTriggerChange),u=Cc(n),h=d.useRef("touch"),[f,m,p]=_w(x=>{const b=u().filter(y=>!y.disabled),g=b.find(y=>y.value===i.value),v=Aw(b,x,g);v!==void 0&&i.onValueChange(v.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(kP,{asChild:!0,...a,children:o.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Rw(i.value)?"":void 0,...s,ref:c,onClick:Se(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:Se(s.onPointerDown,x=>{h.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:Se(s.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&_P.includes(x.key)&&(w(),x.preventDefault())})})})});cw.displayName=lw;var uw="SelectValue",dw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=ns(uw,n),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,f=Pe(t,c.onValueNodeChange);return xt(()=>{u(h)},[u,h]),o.jsx(Ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:Rw(c.value)?o.jsx(o.Fragment,{children:i}):a})});dw.displayName=uw;var MP="SelectIcon",fw=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(Ne.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});fw.displayName=MP;var $P="SelectPortal",hw=e=>o.jsx(Ch,{asChild:!0,...e});hw.displayName=$P;var Cs="SelectContent",mw=d.forwardRef((e,t)=>{const n=ns(Cs,e.__scopeSelect),[r,s]=d.useState();if(xt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?So.createPortal(o.jsx(pw,{scope:e.__scopeSelect,children:o.jsx(jc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(gw,{...e,ref:t})});mw.displayName=Cs;var Nn=10,[pw,rs]=Eo(Cs),zP="SelectContentImpl",FP=po("SelectContent.RemoveScroll"),gw=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b,...g}=e,v=ns(Cs,n),[y,N]=d.useState(null),[E,R]=d.useState(null),P=Pe(t,Z=>N(Z)),[T,S]=d.useState(null),[k,_]=d.useState(null),C=Cc(n),[I,D]=d.useState(!1),Y=d.useRef(!1);d.useEffect(()=>{if(y)return py(y)},[y]),ay();const B=d.useCallback(Z=>{const[ae,...he]=C().map(we=>we.ref.current),[ge]=he.slice(-1),ie=document.activeElement;for(const we of Z)if(we===ie||(we==null||we.scrollIntoView({block:"nearest"}),we===ae&&E&&(E.scrollTop=0),we===ge&&E&&(E.scrollTop=E.scrollHeight),we==null||we.focus(),document.activeElement!==ie))return},[C,E]),M=d.useCallback(()=>B([T,y]),[B,T,y]);d.useEffect(()=>{I&&M()},[I,M]);const{onOpenChange:j,triggerPointerDownPosRef:A}=v;d.useEffect(()=>{if(y){let Z={x:0,y:0};const ae=ge=>{var ie,we;Z={x:Math.abs(Math.round(ge.pageX)-(((ie=A.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((we=A.current)==null?void 0:we.y)??0))}},he=ge=>{Z.x<=10&&Z.y<=10?ge.preventDefault():y.contains(ge.target)||j(!1),document.removeEventListener("pointermove",ae),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",he,{capture:!0})}}},[y,j,A]),d.useEffect(()=>{const Z=()=>j(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[j]);const[L,te]=_w(Z=>{const ae=C().filter(ie=>!ie.disabled),he=ae.find(ie=>ie.ref.current===document.activeElement),ge=Aw(ae,Z,he);ge&&setTimeout(()=>ge.ref.current.focus())}),$=d.useCallback((Z,ae,he)=>{const ge=!Y.current&&!he;(v.value!==void 0&&v.value===ae||ge)&&(S(Z),ge&&(Y.current=!0))},[v.value]),ee=d.useCallback(()=>y==null?void 0:y.focus(),[y]),re=d.useCallback((Z,ae,he)=>{const ge=!Y.current&&!he;(v.value!==void 0&&v.value===ae||ge)&&_(Z)},[v.value]),ce=r==="popper"?Kd:vw,Ee=ce===Kd?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return o.jsx(pw,{scope:n,content:y,viewport:E,onViewportChange:R,itemRefCallback:$,selectedItem:T,onItemLeave:ee,itemTextRefCallback:re,focusSelectedItem:M,selectedItemText:k,position:r,isPositioned:I,searchRef:L,children:o.jsx(kh,{as:FP,allowPinchZoom:!0,children:o.jsx(jh,{asChild:!0,trapped:v.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Se(s,Z=>{var ae;(ae=v.trigger)==null||ae.focus({preventScroll:!0}),Z.preventDefault()}),children:o.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(ce,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Z=>Z.preventDefault(),...g,...Ee,onPlaced:()=>D(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Se(g.onKeyDown,Z=>{const ae=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!ae&&Z.key.length===1&&te(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let ge=C().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ie=Z.target,we=ge.indexOf(ie);ge=ge.slice(we+1)}setTimeout(()=>B(ge)),Z.preventDefault()}})})})})})})});gw.displayName=zP;var UP="SelectItemAlignedPosition",vw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=ns(Cs,n),i=rs(Cs,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=Pe(t,P=>h(P)),m=Cc(n),p=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=i,y=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&b&&g){const P=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),S=a.valueNode.getBoundingClientRect(),k=g.getBoundingClientRect();if(a.dir!=="rtl"){const ie=k.left-T.left,we=S.left-ie,be=P.left-we,Be=P.width+be,ht=Math.max(Be,T.width),W=window.innerWidth-Nn,O=Ia(we,[Nn,Math.max(Nn,W-ht)]);l.style.minWidth=Be+"px",l.style.left=O+"px"}else{const ie=T.right-k.right,we=window.innerWidth-S.right-ie,be=window.innerWidth-P.right-we,Be=P.width+be,ht=Math.max(Be,T.width),W=window.innerWidth-Nn,O=Ia(we,[Nn,Math.max(Nn,W-ht)]);l.style.minWidth=Be+"px",l.style.right=O+"px"}const _=m(),C=window.innerHeight-Nn*2,I=x.scrollHeight,D=window.getComputedStyle(u),Y=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),M=parseInt(D.borderBottomWidth,10),j=parseInt(D.paddingBottom,10),A=Y+B+I+j+M,L=Math.min(b.offsetHeight*5,A),te=window.getComputedStyle(x),$=parseInt(te.paddingTop,10),ee=parseInt(te.paddingBottom,10),re=P.top+P.height/2-Nn,ce=C-re,Ee=b.offsetHeight/2,Z=b.offsetTop+Ee,ae=Y+B+Z,he=A-ae;if(ae<=re){const ie=_.length>0&&b===_[_.length-1].ref.current;l.style.bottom="0px";const we=u.clientHeight-x.offsetTop-x.offsetHeight,be=Math.max(ce,Ee+(ie?ee:0)+we+M),Be=ae+be;l.style.height=Be+"px"}else{const ie=_.length>0&&b===_[0].ref.current;l.style.top="0px";const be=Math.max(re,Y+x.offsetTop+(ie?$:0)+Ee)+he;l.style.height=be+"px",x.scrollTop=ae-re+x.offsetTop}l.style.margin=`${Nn}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=C+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,b,g,a.dir,r]);xt(()=>y(),[y]);const[N,E]=d.useState();xt(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const R=d.useCallback(P=>{P&&w.current===!0&&(y(),v==null||v(),w.current=!1)},[y,v]);return o.jsx(WP,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(Ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vw.displayName=UP;var BP="SelectPopperPosition",Kd=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Nn,...a}=e,i=kc(n);return o.jsx(EP,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kd.displayName=BP;var[WP,Wh]=Eo(Cs,{}),Yd="SelectViewport",xw=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=rs(Yd,n),i=Wh(Yd,n),l=Pe(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(jc.Slot,{scope:n,children:o.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Se(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-h.scrollTop);if(p>0){const w=window.innerHeight-Nn*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),g=Math.max(x,b);if(g<w){const v=g+p,y=Math.min(w,v),N=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});xw.displayName=Yd;var yw="SelectGroup",[VP,HP]=Eo(yw),KP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Hr();return o.jsx(VP,{scope:n,id:s,children:o.jsx(Ne.div,{role:"group","aria-labelledby":s,...r,ref:t})})});KP.displayName=yw;var ww="SelectLabel",YP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=HP(ww,n);return o.jsx(Ne.div,{id:s.id,...r,ref:t})});YP.displayName=ww;var Hl="SelectItem",[GP,bw]=Eo(Hl),Sw=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=ns(Hl,n),c=rs(Hl,n),u=l.value===r,[h,f]=d.useState(a??""),[m,p]=d.useState(!1),w=Pe(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,r,s)}),x=Hr(),b=d.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(GP,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(jc.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Ne.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:Se(i.onFocus,()=>p(!0)),onBlur:Se(i.onBlur,()=>p(!1)),onClick:Se(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:Se(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:Se(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:Se(i.onPointerMove,v=>{var y;b.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(i.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:Se(i.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(AP.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});Sw.displayName=Hl;var Zo="SelectItemText",Nw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=ns(Zo,n),l=rs(Zo,n),c=bw(Zo,n),u=LP(Zo,n),[h,f]=d.useState(null),m=Pe(t,g=>f(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),p=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return xt(()=>(x(w),()=>b(w)),[x,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(Ne.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?So.createPortal(a.children,i.valueNode):null]})});Nw.displayName=Zo;var jw="SelectItemIndicator",Cw=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return bw(jw,n).isSelected?o.jsx(Ne.span,{"aria-hidden":!0,...r,ref:t}):null});Cw.displayName=jw;var Gd="SelectScrollUpButton",kw=d.forwardRef((e,t)=>{const n=rs(Gd,e.__scopeSelect),r=Wh(Gd,e.__scopeSelect),[s,a]=d.useState(!1),i=Pe(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Tw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kw.displayName=Gd;var Xd="SelectScrollDownButton",Ew=d.forwardRef((e,t)=>{const n=rs(Xd,e.__scopeSelect),r=Wh(Xd,e.__scopeSelect),[s,a]=d.useState(!1),i=Pe(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Tw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ew.displayName=Xd;var Tw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=rs("SelectScrollButton",n),i=d.useRef(null),l=Cc(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),xt(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Se(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Se(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Se(s.onPointerLeave,()=>{c()})})}),XP="SelectSeparator",qP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(Ne.div,{"aria-hidden":!0,...r,ref:t})});qP.displayName=XP;var qd="SelectArrow",QP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=kc(n),a=ns(qd,n),i=rs(qd,n);return a.open&&i.position==="popper"?o.jsx(TP,{...s,...r,ref:t}):null});QP.displayName=qd;var JP="SelectBubbleInput",Pw=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),a=Pe(r,s),i=Bh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(Ne.select,{...n,style:{...aw,...n.style},ref:a,defaultValue:t})});Pw.displayName=JP;function Rw(e){return e===""||e===void 0}function _w(e){const t=It(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Aw(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=ZP(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function ZP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var eR=iw,tR=cw,nR=dw,rR=fw,sR=hw,oR=mw,aR=xw,iR=Sw,lR=Nw,cR=Cw,uR=kw,dR=Ew;function Vh({...e}){return o.jsx(eR,{"data-slot":"select",...e})}function Hh({...e}){return o.jsx(nR,{"data-slot":"select-value",...e})}function Kh({className:e,size:t="default",children:n,...r}){return o.jsxs(tR,{"data-slot":"select-trigger","data-size":t,className:Te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(rR,{asChild:!0,children:o.jsx(A0,{className:"size-4 opacity-50"})})]})}function Yh({className:e,children:t,position:n="popper",...r}){return o.jsx(sR,{children:o.jsxs(oR,{"data-slot":"select-content",className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(fR,{}),o.jsx(aR,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(hR,{})]})})}function Vn({className:e,children:t,...n}){return o.jsxs(iR,{"data-slot":"select-item",className:Te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(cR,{children:o.jsx(ro,{className:"size-4"})})}),o.jsx(lR,{children:t})]})}function fR({className:e,...t}){return o.jsx(uR,{"data-slot":"select-scroll-up-button",className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(xC,{className:"size-4"})})}function hR({className:e,...t}){return o.jsx(dR,{"data-slot":"select-scroll-down-button",className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(A0,{className:"size-4"})})}const mR=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function ju({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,a]=d.useState(""),[i,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,p]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(),[v,y]=d.useState(!1),N=mR(e),E=C=>{switch(C){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},R=async(C=!1)=>{try{C?y(!0):f(!0),p(null);const I=await fs.getContents({type:E(e),query:s||void 0,sortBy:i==="latest"||i==="rating"?"RELEASE_AT":i==="title"?"TITLE":"RELEASE_AT",direction:i==="title"?"ASC":"DESC",cursor:C?b:void 0,size:20});u(C?D=>[...D,...I.data]:I.data),x(I.hasNext),g(I.nextCursor)}catch(I){console.error("  :",I),p(I instanceof Error?I.message:"    .")}finally{f(!1),y(!1)}};d.useEffect(()=>{R(!1)},[e]),d.useEffect(()=>{const C=setTimeout(()=>{R(!1)},300);return()=>clearTimeout(C)},[s,i]);const P=()=>{w&&!h&&!v&&R(!0)},T=C=>({id:C.id,title:C.title,thumbnail:C.thumbnailUrl||C.thumbnail||"",type:C.contentType.toLowerCase(),duration:C.duration||"120",description:C.description||"",rating:C.avgRating,reviewCount:C.reviewCount,year:C.year||new Date(C.releaseDate).getFullYear()}),S=C=>{r==null||r(T(C))},k=C=>{t(T(C))},_=C=>{n==null||n(T(C))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:N}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ve,{placeholder:`${N} ...`,value:s,onChange:C=>a(C.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Vh,{value:i,onValueChange:l,children:[o.jsx(Kh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Hh,{placeholder:""})}),o.jsxs(Yh,{children:[o.jsx(Vn,{value:"latest",children:""}),o.jsx(Vn,{value:"rating",children:"  "}),o.jsx(Vn,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?" ...":`${c.length} `}),o.jsx(mn,{variant:"outline",className:fs.getTypeColor(E(e)),children:N})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(U,{onClick:()=>R(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(C=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>_(C),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[C.thumbnailUrl?o.jsx("img",{src:C.thumbnailUrl,alt:C.title,className:"w-full h-full object-cover",onError:I=>{var D;I.currentTarget.style.display="none",(D=I.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${C.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:C.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{size:"sm",onClick:I=>{I.stopPropagation(),k(C)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(U,{size:"sm",variant:"outline",onClick:I=>{I.stopPropagation(),S(C)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Yt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:C.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:C.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[C.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:`w-4 h-4 ${C.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:C.avgRating.toFixed(2)}),C.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",C.reviewCount,")"]})]}),C.year&&o.jsx("span",{className:"text-xs text-white/60",children:C.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:C.duration}),o.jsx(mn,{variant:"outline",className:fs.getTypeColor(C.contentType),children:fs.getTypeLabel(C.contentType)})]})]})]},C.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx(U,{onClick:P,disabled:v,variant:"outline",className:"border-white/20 hover:bg-white/5",children:v?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(gh,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${N}  .`}),s&&o.jsxs(U,{variant:"outline",onClick:()=>a(""),className:"border-white/20 hover:bg-white/5",children:[" ",N," "]})]})]})]})})}class pR{constructor(){gt(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok){console.log("HTTP  :",n.status),console.log("HTTP   :",n.statusText);let s=`  . Status: ${n.status}`,a=null;try{a=await n.json(),console.log("  :",a),s=a.message||s}catch(i){console.log("  JSON  :",i);try{const l=await n.text();console.log("  :",l),s=l||s}catch(l){console.log("    :",l)}}throw console.log("  :",s),n.status===409||n.status===400||s.includes("")||s.includes("")||s.includes("duplicate")||s.includes("already")||s.includes("DuplicateReview")?(console.log("   "),new Error("DUPLICATE_REVIEW")):new Error(s)}return await n.json()}catch(n){throw console.error("  :",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}}const $i=new pR,zi=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,a]=d.useState(0),i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,h)=>{if(!t||!r)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,p=f.width,x=m<p/2?u-.5:u;r(x)},c=(u,h)=>{if(!t)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,p=f.width,x=m<p/2?u-.5:u;a(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const h=s||e,f=u-.5<=h&&u>h,m=u<=h;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(Xr,{className:`${i[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?p=>l(u,p):void 0,onMouseMove:t?p=>c(u,p):void 0,onMouseLeave:t?()=>a(0):void 0}),(m||f)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${f?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(Xr,{className:`${i[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function gR({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,a]=d.useState(""),[i,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(null),[v,y]=d.useState(""),[N,E]=d.useState(0),[R,P]=d.useState(!1),[T,S]=d.useState(null),k=async()=>{f(!0);try{const A=(await $i.getReviewsByContentId(e.id)).map(L=>({...L,contentId:e.id,createdAt:new Date().toISOString(),user:{id:L.authorId,name:L.authorName,avatar:L.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(A)}catch(j){console.error("  :",j)}finally{f(!1)}},_=c.length>0?c.reduce((j,A)=>j+A.rating,0)/c.length:0,C=async()=>{if(!(!s.trim()||i===0||!r)){p(!0),x(null);try{const j={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:i},L={...await $i.createReview(j),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([L,...c]),a(""),l(0),Wo.success("  ")}catch(j){if(console.error("  :",j),console.log("Error type:",typeof j),console.log("Error message:",j instanceof Error?j.message:String(j)),j instanceof Error)if(j.message==="DUPLICATE_REVIEW"){const A="   .       .";x(A),alert(A),Wo.error("   ",{description:"      ."})}else if(j.message.includes("")||j.message.includes("")){const A="   .       .";x(A),alert(A),Wo.error("   ",{description:"      ."})}else{const A=j.message||"  .    .";x(A),alert(A),Wo.error("  ",{description:j.message||"   ."})}else{const A="  .    .";x(A),alert(A),Wo.error("  ",{description:"   ."})}}finally{p(!1)}}},I=j=>{g(j),y(j.comment),E(j.rating)},D=()=>{g(null),y(""),E(0)},Y=async()=>{if(!(!b||!v.trim()||N===0)){P(!0);try{const j={title:v.trim().substring(0,100),comment:v.trim(),rating:N},A=await $i.updateReview(b.id,j);u(c.map(L=>L.id===b.id?{...L,...A}:L)),D()}catch(j){console.error("  :",j)}finally{P(!1)}}},B=async j=>{S(j);try{await $i.deleteReview(j),u(c.filter(A=>A.id!==j))}catch(A){console.error("  :",A)}finally{S(null)}};d.useEffect(()=>{e.id&&k()},[e.id]);const M=j=>{switch(j){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs(U,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(jo,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:e.thumbnail?o.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:M(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(mn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:M(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zi,{rating:_,size:"lg"}),o.jsx("span",{className:"text-xl",children:_%1===0?_.toFixed(0):_.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs(U,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(Et,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(zi,{rating:i,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(Fd,{value:s,onChange:j=>{a(j.target.value),w&&x(null)},placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),w&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs(U,{onClick:C,disabled:!s.trim()||i===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(vh,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(j=>{var A,L,te,$;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(b==null?void 0:b.id)===j.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(st,{children:[o.jsx(ot,{src:(A=j.user)==null?void 0:A.avatar}),o.jsx(at,{children:((L=j.authorName)==null?void 0:L[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:j.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(zi,{rating:N,editable:!0,size:"lg",onChange:E})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(Fd,{value:v,onChange:ee=>y(ee.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{onClick:Y,disabled:!v.trim()||N===0||R,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:R?" ...":" "}),o.jsx(U,{onClick:D,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(st,{children:[o.jsx(ot,{src:(te=j.user)==null?void 0:te.avatar}),o.jsx(at,{children:(($=j.authorName)==null?void 0:$[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:j.authorName||" "}),o.jsx(zi,{rating:j.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:j.createdAt?new Date(j.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:j.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&j.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>I(j),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(kC,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>B(j.id),disabled:T===j.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Aa,{className:"w-4 h-4 mr-1"}),T===j.id?" ...":""]})]})})]})]})},j.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function vR({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:a,refreshUserProfile:i,onPlaylistOpen:l}){const[c,u]=d.useState(""),[h,f]=d.useState("user@moplay.kr"),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(""),[v,y]=d.useState(!1),[N,E]=d.useState(null),[R,P]=d.useState(null),[T,S]=d.useState([]),[k,_]=d.useState([]),[C,I]=d.useState(!1),[D,Y]=d.useState(!1),[B,M]=d.useState("profile"),[j,A]=d.useState([]),[L,te]=d.useState(""),[$,ee]=d.useState(""),[re,ce]=d.useState(""),[Ee,Z]=d.useState(""),ae=r||n,he=!!(r&&r!==n);d.useEffect(()=>{e&&(E(null),ae?(ge(),ie(),we(),ht(),he&&be()):E("  .  ."))},[e,ae,he]);const ge=async()=>{try{const F=await s(`http://localhost:8080/api/users/${ae}`);if(!F.ok)throw new Error("   .");const V=await F.json();P(V),u(V.name),f(V.email)}catch(F){console.error("   :",F),E("   .")}},ie=async()=>{try{const F=await s(`http://localhost:8080/api/follows/${ae}/followers`);if(!F.ok)throw new Error("   .");const V=await F.json();S(V)}catch(F){console.error("   :",F),S([])}},we=async()=>{try{const F=await s(`http://localhost:8080/api/follows/${ae}/following`);if(!F.ok)throw new Error("   .");const V=await F.json();_(V)}catch(F){console.error("   :",F),_([])}},be=async()=>{if(!(!n||!ae))try{const F=await s(`http://localhost:8080/api/follows/${n}/is-following/${ae}`);if(!F.ok)throw new Error("   .");const V=await F.json();I(V)}catch(F){console.error("   :",F),I(!1)}},Be=async()=>{if(!(!n||!ae)){Y(!0);try{if(C){if(!(await s(`http://localhost:8080/api/follows/${ae}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");I(!1),S(V=>V.filter(oe=>oe.id!==n))}else{const F=new FormData;if(F.append("followerId",n),F.append("followingId",ae),!(await s("http://localhost:8080/api/follows",{method:"POST",body:F})).ok)throw new Error(" .");I(!0),R&&S(oe=>[...oe,{id:n,name:"",email:"",profileImage:""}])}}catch(F){console.error("  :",F),alert(F instanceof Error?F.message:"    .")}finally{Y(!1)}}},ht=async()=>{if(ae)try{const F=await s(`http://localhost:8080/api/users/${ae}/playlists`);if(!F.ok)throw new Error("   .");const V=await F.json(),oe=he?V.filter(de=>de.isPublic):V;A(oe)}catch(F){console.error("   :",F),A([])}},W=F=>{a&&(t(),a(F))},O=F=>{F?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(F)?ce(""):ce(" 8 , , ,   ."):ce("")},q=F=>{Z(F!==L?"  .":"")},X=async()=>{y(!0),E(null);try{if(!n){E("  .  ."),y(!1);return}if(!b.trim()){E("     ."),y(!1);return}if(L){if(re||Ee){E("    ."),y(!1);return}if(!$){E("  ."),y(!1);return}if(L!==$){E("  ."),y(!1);return}}const F=new FormData,V={newName:c,currentPassword:b};L&&(V.newPassword=L),console.log("Request data:",V);const oe=new Blob([JSON.stringify(V)],{type:"application/json"});F.append("request",oe),w&&(F.append("profile",w),console.log("Profile image added:",w.name)),console.log("FormData entries:");for(let[ke,me]of F.entries())console.log(ke,me);const de=await fetch(`http://localhost:8080/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:F});if(!de.ok){const ke=await de.json();throw new Error(ke.message||"  .")}const ye=await de.json();P(ye),u(ye.name),f(ye.email),x(null),await ge(),alert("  ."),i&&i(),g(""),t()}catch(F){console.error("  :",F),E(F instanceof Error?F.message:"    .")}finally{y(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:he?`${(R==null?void 0:R.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[he&&o.jsx(U,{onClick:Be,disabled:D,className:`${C?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:D?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):C?o.jsxs(o.Fragment,{children:[o.jsx(D0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(yh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(An,{className:"w-5 h-5"})})]})]}),N&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:N}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(st,{className:"h-20 w-20 mb-4",children:[o.jsx(ot,{src:w?URL.createObjectURL(w):R==null?void 0:R.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!he&&o.jsx(U,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>p(!m),children:o.jsx(_0,{className:"w-4 h-4"})})]}),m&&!he&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(ny,{selectedImage:w,onImageSelect:x,onClose:()=>p(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:T.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:k.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx(U,{variant:B==="profile"?"default":"ghost",size:"sm",onClick:()=>M("profile"),className:B==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs(U,{variant:B==="followers"?"default":"ghost",size:"sm",onClick:()=>M("followers"),className:`${B==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(zt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(U,{variant:B==="following"?"default":"ghost",size:"sm",onClick:()=>M("following"),className:`${B==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(U,{variant:B==="playlists"?"default":"ghost",size:"sm",onClick:()=>M("playlists"),className:`${B==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(hu,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[B==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(Ve,{id:"name",value:c,onChange:F=>u(F.target.value),disabled:he,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${he?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(Ve,{id:"email",value:h,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!he&&o.jsxs("div",{children:[o.jsxs(Dt,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Ve,{id:"password",type:"password",value:b,onChange:F=>g(F.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"      ."}),!he&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-4",children:[o.jsx(Dt,{htmlFor:"newPassword",className:"text-sm",children:"  ()"}),o.jsx(Ve,{id:"newPassword",type:"password",value:L,onChange:F=>{const V=F.target.value;te(V),O(V)},placeholder:"   ()",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),re&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:re})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Dt,{htmlFor:"confirmPassword",className:"text-sm",children:"  "}),o.jsx(Ve,{id:"confirmPassword",type:"password",value:$,onChange:F=>{const V=F.target.value;ee(V),q(V)},placeholder:"   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),Ee&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:Ee})]})]})]})]}),B==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[T.map(F=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>F.id&&W(F.id),children:[o.jsxs(st,{className:"h-10 w-10",children:[o.jsx(ot,{src:F.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:F.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:F.name}),o.jsx("p",{className:"text-white/60 text-sm",children:F.email})]})]},F.id)),T.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(zt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),B==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[k.map(F=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>F.id&&W(F.id),children:[o.jsxs(st,{className:"h-10 w-10",children:[o.jsx(ot,{src:F.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:F.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:F.name}),o.jsx("p",{className:"text-white/60 text-sm",children:F.email})]})]},F.id)),k.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Gr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),B==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[j.map(F=>{var V;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l(F.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:F.thumbnail?o.jsx("img",{src:F.thumbnail,alt:F.title||F.name,className:"w-full h-full object-cover"}):o.jsx(hu,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:F.title||F.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[F.contentCount||((V=F.playlistContents)==null?void 0:V.length)||0," ",F.isPublic?"  ":"  "]})]})]},F.id)}),j.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(hu,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:he?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(U,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:v,children:he?"":""}),!he&&o.jsx(U,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:X,disabled:v||!n,children:v?" ...":""})]})]})]}):null}class xR{constructor(t){gt(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t="http://localhost:8080/api/dmRooms/";console.log("  DM   :",{url:t});const n=await this.authenticatedFetch(t);if(!n.ok)throw console.error(" DM   :",n.status,n.statusText),new Error(`Failed to fetch DM rooms: ${n.status} ${n.statusText}`);const r=await n.json();return console.log(" DM   :",r),r}async getRoom(t){const n=`http://localhost:8080/api/dmRooms/${t}`;console.log(" DM   :",{dmRoomId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM   :",r.status,r.statusText),new Error(`Failed to fetch DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM   :",s),s}async getOrCreateRoom(t){const n=`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`;console.log(" DM  / :",{userBId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM  / :",r.status,r.statusText),new Error(`Failed to get or create DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM  / :",s),s}async getDmMessages(t,n){const r=new URLSearchParams;n!=null&&n.cursor&&r.append("cursor",n.cursor),n!=null&&n.size&&r.append("size",n.size.toString());const s=`http://localhost:8080/api/dmRooms/${t}/dms${r.toString()?"?"+r.toString():""}`;console.log(" DM   :",{roomId:t,pagingDto:n,url:s});const a=await this.authenticatedFetch(s);if(!a.ok)throw console.error(" DM   :",a.status,a.statusText),new Error(`Failed to fetch DM messages: ${a.status} ${a.statusText}`);const i=await a.json();return console.log(" DM   :",i),i}async getFollowing(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}var Iw="AlertDialog",[yR,$5]=Ln(Iw,[vy]),br=vy(),Dw=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Iy,{...r,...n,modal:!0})};Dw.displayName=Iw;var wR="AlertDialogTrigger",bR=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(tT,{...s,...r,ref:t})});bR.displayName=wR;var SR="AlertDialogPortal",Ow=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Dy,{...r,...n})};Ow.displayName=SR;var NR="AlertDialogOverlay",Lw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Oy,{...s,...r,ref:t})});Lw.displayName=NR;var ao="AlertDialogContent",[jR,CR]=yR(ao),kR=hk("AlertDialogContent"),Mw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=br(n),i=d.useRef(null),l=Pe(t,i),c=d.useRef(null);return o.jsx(Q4,{contentName:ao,titleName:$w,docsSlug:"alert-dialog",children:o.jsx(jR,{scope:n,cancelRef:c,children:o.jsxs(Ly,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Se(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(kR,{children:r}),o.jsx(TR,{contentRef:i})]})})})});Mw.displayName=ao;var $w="AlertDialogTitle",zw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(My,{...s,...r,ref:t})});zw.displayName=$w;var Fw="AlertDialogDescription",Uw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(nT,{...s,...r,ref:t})});Uw.displayName=Fw;var ER="AlertDialogAction",Bw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Rh,{...s,...r,ref:t})});Bw.displayName=ER;var Ww="AlertDialogCancel",Vw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=CR(Ww,n),a=br(n),i=Pe(t,s);return o.jsx(Rh,{...a,...r,ref:i})});Vw.displayName=Ww;var TR=({contentRef:e})=>{const t=`\`${ao}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ao}\` by passing a \`${Fw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ao}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},PR=Dw,RR=Ow,_R=Lw,AR=Mw,IR=Bw,DR=Vw,OR=zw,LR=Uw;function Gh({...e}){return o.jsx(PR,{"data-slot":"alert-dialog",...e})}function MR({...e}){return o.jsx(RR,{"data-slot":"alert-dialog-portal",...e})}function $R({className:e,...t}){return o.jsx(_R,{"data-slot":"alert-dialog-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Xh({className:e,...t}){return o.jsxs(MR,{children:[o.jsx($R,{}),o.jsx(AR,{"data-slot":"alert-dialog-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function qh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:Te("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Qh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:Te("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Jh({className:e,...t}){return o.jsx(OR,{"data-slot":"alert-dialog-title",className:Te("text-lg font-semibold",e),...t})}function Zh({className:e,...t}){return o.jsx(LR,{"data-slot":"alert-dialog-description",className:Te("text-muted-foreground text-sm",e),...t})}function em({className:e,...t}){return o.jsx(IR,{className:Te(bh(),e),...t})}function Hw({className:e,...t}){return o.jsx(DR,{className:Te(bh({variant:"outline"}),e),...t})}function zR({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:a,getOrCreateDmRoom:i,refreshTrigger:l}){const[c,u]=d.useState(""),[h,f]=d.useState(!1),[m,p]=d.useState([]),[w,x]=d.useState([]),[b,g]=d.useState(!1),[v,y]=d.useState(null),[N,E]=d.useState(!1),[R,P]=d.useState(null),[T,S]=d.useState(!1),k=new xR(r),_=m.filter($=>$.name.toLowerCase().includes(c.toLowerCase())),C=w.filter($=>$.name.toLowerCase().includes(c.toLowerCase())),I=$=>{console.log(`Opening conversation with ${$.name}`),n({id:$.userId,name:$.name,avatar:$.avatar,isOnline:$.isOnline,roomId:$.id})},D=()=>{f(!0),u("")},Y=()=>{f(!1),u("")},B=async $=>{try{g(!0);const ee=await i($.id);console.log(`Starting new conversation with ${$.name}, room: ${ee}`),n({id:$.id,name:$.name,avatar:$.avatar,isOnline:$.isOnline,roomId:ee}),f(!1),u("")}catch(ee){console.error("Error starting conversation:",ee),y("   .")}finally{g(!1)}},M=($,ee)=>{$.stopPropagation(),P(ee),E(!0)},j=async()=>{if(R)try{if(S(!0),!(await r(`http://localhost:8080/api/dmRooms/${R}`,{method:"DELETE"})).ok)throw new Error("DM   ");await L(),E(!1),P(null)}catch($){console.error("Error deleting DM room:",$),y("   .")}finally{S(!1)}},A=()=>{E(!1),P(null)};d.useEffect(()=>{e&&s&&(L(),te())},[e,s]),d.useEffect(()=>{console.log("DMList - refreshTrigger  :",l),e&&s&&l!==void 0&&l>0&&(console.log("DMList - DM     - :",l),g(!0),y(null),L().then(()=>{console.log(" DM    ")}).catch($=>{console.error(" DM    :",$)}))},[l,e,s]);const L=async()=>{try{g(!0),y(null);const ee=(await a()).map(re=>{const ce=re.senderId===s?{id:re.receiverId,name:re.receiverName,avatar:"",isOnline:!1}:{id:re.senderId,name:re.senderName,avatar:"",isOnline:!1},Ee=Z=>{const ae=new Date(Z),ge=new Date().getTime()-ae.getTime(),ie=Math.floor(ge/(1e3*60)),we=Math.floor(ge/(1e3*60*60)),be=Math.floor(ge/(1e3*60*60*24));return ie<1?" ":ie<60?`${ie} `:we<24?`${we} `:be===1?"":`${be} `};return{id:re.id,userId:(ce==null?void 0:ce.id)||"",name:(ce==null?void 0:ce.name)||"   ",avatar:(ce==null?void 0:ce.avatar)||"",lastMessage:re.lastMessage||"  ",timestamp:(re.lastMessage,Ee(re.createdAt)),unreadCount:re.newMessageCount||0,isOnline:(ce==null?void 0:ce.isOnline)||!1}});p(ee)}catch($){console.error("Error loading DM rooms:",$),y("    .")}finally{g(!1)}},te=async()=>{if(s)try{const ee=(await k.getFollowing(s)).map(re=>({id:re.id,name:re.name||"   ",avatar:re.profileImage||"",isOnline:!1,mutualFriends:0}));x(ee)}catch($){console.error("Error loading chat partners:",$)}};return e?o.jsxs("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[h&&o.jsx(U,{variant:"ghost",size:"sm",onClick:Y,className:"p-1 hover:bg-white/10",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:h?" ":""})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(An,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Ve,{placeholder:" ...",value:c,onChange:$=>u($.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:h?o.jsx(o.Fragment,{children:C.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:c?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:C.map($=>o.jsxs("div",{onClick:()=>B($),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(st,{className:"h-14 w-14",children:[o.jsx(ot,{src:$.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:$.name.charAt(0)})]}),$.isOnline&&o.jsx(zp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:$.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",$.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:$.isOnline?"":""})]},$.id))})}):o.jsxs(o.Fragment,{children:[b&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),v&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:v}),!b&&!v&&_.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:c?"  ":" "}),!b&&!v&&_.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:_.map($=>o.jsxs("div",{onClick:()=>I($),className:"group flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(st,{className:"h-14 w-14",children:[o.jsx(ot,{src:$.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:$.name.charAt(0)})]}),$.isOnline&&o.jsx(zp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:$.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:$.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:$.lastMessage}),$.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:$.unreadCount>9?"9+":$.unreadCount})]})]}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:o.jsx(U,{variant:"ghost",size:"sm",onClick:ee=>M(ee,$.id),className:"p-2 hover:bg-red-500/20 text-white/60 hover:text-red-400",children:o.jsx(Aa,{className:"w-4 h-4"})})})]},$.id))})]})}),!h&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs(U,{onClick:D,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(zt,{className:"w-5 h-5 mr-2"})," "]})})]}),o.jsx(Gh,{open:N,onOpenChange:E,children:o.jsxs(Xh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(qh,{children:[o.jsx(Jh,{className:"text-white",children:" "}),o.jsx(Zh,{className:"text-white/70",children:" ?     ."})]}),o.jsxs(Qh,{children:[o.jsx(Hw,{onClick:A,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:""}),o.jsx(em,{onClick:j,disabled:T,className:"bg-red-600 hover:bg-red-700 text-white",children:T?" ...":""})]})]})})]}):null}function FR(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var tm="ScrollArea",[Kw,z5]=Ln(tm),[UR,xn]=Kw(tm),Yw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[p,w]=d.useState(null),[x,b]=d.useState(null),[g,v]=d.useState(0),[y,N]=d.useState(0),[E,R]=d.useState(!1),[P,T]=d.useState(!1),S=Pe(t,_=>c(_)),k=Xa(s);return o.jsx(UR,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:R,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:P,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:N,children:o.jsx(Ne.div,{dir:k,...i,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});Yw.displayName=tm;var Gw="ScrollAreaViewport",Xw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=xn(Gw,n),l=d.useRef(null),c=Pe(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Xw.displayName=Gw;var tr="ScrollAreaScrollbar",qw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xn(tr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(BR,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(WR,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(Qw,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(nm,{...r,ref:t}):null});qw.displayName=tr;var BR=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xn(tr,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(wr,{present:n||a,children:o.jsx(Qw,{"data-state":a?"visible":"hidden",...r,ref:t})})}),WR=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xn(tr,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Tc(()=>c("SCROLL_END"),100),[l,c]=FR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=a?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const p=u[h];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(wr,{present:n||l!=="hidden",children:o.jsx(nm,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Se(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Se(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Qw=d.forwardRef((e,t)=>{const n=xn(tr,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=Tc(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:h)}},10);return xo(n.viewport,c),xo(n.content,c),o.jsx(wr,{present:r||a,children:o.jsx(nm,{"data-state":a?"visible":"hidden",...s,ref:t})})}),nm=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=xn(tr,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=nb(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return XR(m,i.current,l,p)}return n==="horizontal"?o.jsx(VR,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=Sg(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(HR,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=Sg(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),VR=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=xn(tr,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Pe(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Zw,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ec(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),sb(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yl(i.paddingLeft),paddingEnd:Yl(i.paddingRight)}})}})}),HR=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=xn(tr,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Pe(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Zw,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ec(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),sb(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yl(i.paddingTop),paddingEnd:Yl(i.paddingBottom)}})}})}),[KR,Jw]=Kw(tr),Zw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,p=xn(tr,n),[w,x]=d.useState(null),b=Pe(t,S=>x(S)),g=d.useRef(null),v=d.useRef(""),y=p.viewport,N=r.content-r.viewport,E=It(h),R=It(c),P=Tc(f,10);function T(S){if(g.current){const k=S.clientX-g.current.left,_=S.clientY-g.current.top;u({x:k,y:_})}}return d.useEffect(()=>{const S=k=>{const _=k.target;(w==null?void 0:w.contains(_))&&E(k,N)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[y,w,N,E]),d.useEffect(R,[r,R]),xo(w,P),xo(p.content,P),o.jsx(KR,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:It(a),onThumbPointerUp:It(i),onThumbPositionChange:R,onThumbPointerDown:It(l),children:o.jsx(Ne.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:Se(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(S))}),onPointerMove:Se(e.onPointerMove,T),onPointerUp:Se(e.onPointerUp,S=>{const k=S.target;k.hasPointerCapture(S.pointerId)&&k.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),Kl="ScrollAreaThumb",eb=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Jw(Kl,e.__scopeScrollArea);return o.jsx(wr,{present:n||s.hasThumb,children:o.jsx(YR,{ref:t,...r})})}),YR=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=xn(Kl,n),i=Jw(Kl,n),{onThumbPositionChange:l}=i,c=Pe(t,f=>i.onThumbChange(f)),u=d.useRef(void 0),h=Tc(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(h(),!u.current){const p=qR(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,h,l]),o.jsx(Ne.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Se(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,x=f.clientY-p.top;i.onThumbPointerDown({x:w,y:x})}),onPointerUp:Se(e.onPointerUp,i.onThumbPointerUp)})});eb.displayName=Kl;var rm="ScrollAreaCorner",tb=d.forwardRef((e,t)=>{const n=xn(rm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(GR,{...e,ref:t}):null});tb.displayName=rm;var GR=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=xn(rm,n),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return xo(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),xo(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),i(h)}),u?o.jsx(Ne.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yl(e){return e?parseInt(e,10):0}function nb(e,t){const n=e/t;return isNaN(n)?0:n}function Ec(e){const t=nb(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function XR(e,t,n,r="ltr"){const s=Ec(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return rb([c,u],f)(e)}function Sg(e,t,n="ltr"){const r=Ec(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Ia(e,c);return rb([0,i],[0,l])(u)}function rb(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function sb(e,t){return e>0&&e<t}var qR=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Tc(e,t){const n=It(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function xo(e,t){const n=It(t);xt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var QR=Yw,JR=Xw,ZR=tb;function e_({className:e,children:t,...n}){return o.jsxs(QR,{"data-slot":"scroll-area",className:Te("relative",e),...n,children:[o.jsx(JR,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(t_,{}),o.jsx(ZR,{})]})}function t_({className:e,orientation:t="vertical",...n}){return o.jsx(qw,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Te("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(eb,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function n_(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=i=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),a==null||a.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const ea={LF:`
`,NULL:"\0"};class Ir{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=a=>a.replace(/^\s+|\s+$/g,"");for(const a of t.headers.reverse()){a.indexOf(":");const i=s(a[0]);let l=s(a[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=Ir.hdrValueUnEscape(l)),r[i]=l}return new Ir({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Ir.toUnit8Array(t,this._binaryBody).buffer:t+this._body+ea.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${Ir.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(ea.LF)+ea.LF+ea.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),a=new Uint8Array(r.length+n.length+s.length);return a.set(r),a.set(n,r.length),a.set(s,r.length+n.length),a}static marshall(t){return new Ir(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const Ng=0,Fi=10,Ui=13,r_=58;class s_{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const a=r[s];this._onByte(a)}}_collectFrame(t){if(t!==Ng&&t!==Ui){if(t===Fi){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Ui){if(t===Fi){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Ui){if(t===Fi){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===r_){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Ui){if(t===Fi){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===Ng){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Dr;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Dr||(Dr={}));var jn;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(jn||(jn={}));var Gl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Gl||(Gl={}));var La;(function(e){e.Interval="interval",e.Worker="worker"})(La||(La={}));class o_{constructor(t,n=La.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===La.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class $t{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}$t.V1_0="1.0";$t.V1_1="1.1";$t.V1_2="1.2";$t.default=new $t([$t.V1_2,$t.V1_1,$t.V1_0]);class a_{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===$t.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const a=s.headers.subscription,i=this._subscriptions[a]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===$t.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,a,h),l.nack=(h={})=>c.nack(u,a,h),i(l)},RECEIPT:s=>{const a=this._receiptWatchers[s.headers["receipt-id"]];a?(a(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new s_(n=>{const r=Ir.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==$t.V1_1&&t.version!==$t.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new o_(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Dr.OPEN&&(this._webSocket.send(ea.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>s*2&&(this.debug(`did not receive server activity for the last ${a}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Dr.CONNECTING||this._webSocket.readyState===Dr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&n_(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=new Ir({command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Dr.CONNECTING||this._webSocket.readyState===Dr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:a,skipContentLengthHeader:i})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(a){return s.unsubscribe(r.id,a)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===$t.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===$t.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class ob{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===jn.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=$t.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Gl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=La.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=jn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(jn.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===jn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new a_(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===jn.DEACTIVATING&&this._changeState(jn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Gl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var a;const n=t.force||!1,r=this.active;let s;if(this.state===jn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(jn.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Dr.CLOSED){const i=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState(jn.INACTIVE),Promise.resolve();return n?(a=this._stompHandler)==null||a.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var ab={exports:{}},Qd={};globalThis.crypto&&globalThis.crypto.getRandomValues?Qd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Qd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var i_=Qd,jg="abcdefghijklmnopqrstuvwxyz012345",To={string:function(e){for(var t=jg.length,n=i_.randomBytes(e),r=[],s=0;s<e;s++)r.push(jg.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=To,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,l),globalThis.attachEvent("on"+i,l))},detachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,l),globalThis.detachEvent("on"+i,l))},unloadAdd:function(i){if(s)return null;var l=t.string(8);return n[l]=i,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in n&&delete n[i]},triggerUnloadCallbacks:function(){for(var i in n)n[i](),delete n[i]}};var a=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)})(ab);var ss=ab.exports,l_=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},sm={},c_=Object.prototype.hasOwnProperty,u_;function Cg(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function kg(e){try{return encodeURIComponent(e)}catch{return null}}function d_(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=Cg(r[1]),a=Cg(r[2]);s===null||a===null||s in n||(n[s]=a)}return n}function f_(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(c_.call(e,s)){if(r=e[s],!r&&(r===null||r===u_||isNaN(r))&&(r=""),s=kg(s),r=kg(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}sm.stringify=f_;sm.parse=d_;var ib=l_,Pc=sm,h_=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,lb=/[\n\r\t]/g,m_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,cb=/:\d+$/,p_=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,g_=/^[a-zA-Z]:/;function om(e){return(e||"").toString().replace(h_,"")}var Jd=[["#","hash"],["?","query"],function(t,n){return Gn(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Eg={hash:1,query:1};function ub(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,a;if(e.protocol==="blob:")r=new Qn(unescape(e.pathname),{});else if(s==="string"){r=new Qn(e,{});for(a in Eg)delete r[a]}else if(s==="object"){for(a in e)a in Eg||(r[a]=e[a]);r.slashes===void 0&&(r.slashes=m_.test(e.href))}return r}function Gn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function db(e,t){e=om(e),e=e.replace(lb,""),t=t||{};var n=p_.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],a=!!n[3],i=0,l;return s?a?(l=n[2]+n[3]+n[4],i=n[2].length+n[3].length):(l=n[2]+n[4],i=n[2].length):a?(l=n[3]+n[4],i=n[3].length):l=n[4],r==="file:"?i>=2&&(l=l.slice(2)):Gn(r)?l=n[4]:r?s&&(l=l.slice(2)):i>=2&&Gn(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||Gn(r),slashesCount:i,rest:l}}function v_(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],a=!1,i=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),i++):i&&(r===0&&(a=!0),n.splice(r,1),i--);return a&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function Qn(e,t,n){if(e=om(e),e=e.replace(lb,""),!(this instanceof Qn))return new Qn(e,t,n);var r,s,a,i,l,c,u=Jd.slice(),h=typeof t,f=this,m=0;for(h!=="object"&&h!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Pc.parse),t=ub(t),s=db(e||"",t),r=!s.protocol&&!s.slashes,f.slashes=s.slashes||r&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||g_.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Gn(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(i=u[m],typeof i=="function"){e=i(e,f);continue}a=i[0],c=i[1],a!==a?f[c]=e:typeof a=="string"?(l=a==="@"?e.lastIndexOf(a):e.indexOf(a),~l&&(typeof i[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+i[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=a.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||r&&i[3]&&t[c]||"",i[4]&&(f[c]=f[c].toLowerCase())}n&&(f.query=n(f.query)),r&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=v_(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&Gn(f.protocol)&&(f.pathname="/"+f.pathname),ib(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&Gn(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function x_(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Pc.parse)(t)),r[e]=t;break;case"port":r[e]=t,ib(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,cb.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(r.username=t.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var i=0;i<Jd.length;i++){var l=Jd[i];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&Gn(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function y_(e){(!e||typeof e!="function")&&(e=Pc.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var a=s+(n.protocol&&n.slashes||Gn(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):n.protocol!=="file:"&&Gn(n.protocol)&&!r&&n.pathname!=="/"&&(a+="@"),(r[r.length-1]===":"||cb.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(a+=n.hash),a}Qn.prototype={set:x_,toString:y_};Qn.extractProtocol=db;Qn.location=ub;Qn.trimLeft=om;Qn.qs=Pc;var fb=Qn,w_=fb,yn={getOrigin:function(e){if(!e)return null;var t=new w_(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Zd={exports:{}};typeof Object.create=="function"?Zd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Zd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var De=Zd.exports,Lt={};function Rc(){this._listeners={}}Rc.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};Rc.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};Rc.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var hb=Rc,b_=De,_c=hb;function Jr(){_c.call(this)}b_(Jr,_c);Jr.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Jr.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Jr.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var a=0;a<t.length;a++)t[a].apply(this,r)}};Jr.prototype.on=Jr.prototype.addListener=_c.prototype.addEventListener;Jr.prototype.removeListener=_c.prototype.removeEventListener;Lt.EventEmitter=Jr;var ef={exports:{}},Tg=globalThis.WebSocket||globalThis.MozWebSocket;Tg?ef.exports=function(t){return new Tg(t)}:ef.exports=void 0;var S_=ef.exports,mb=ss,N_=yn,j_=De,pb=Lt.EventEmitter,gb=S_,Pg=function(){};function Sr(e,t,n){if(!Sr.enabled())throw new Error("Transport created when disabled");pb.call(this);var r=this,s=N_.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new gb(this.url,[],n),this.ws.onmessage=function(a){Pg("message event",a.data),r.emit("message",a.data)},this.unloadRef=mb.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(a){Pg("close event",a.code,a.reason),r.emit("close",a.code,a.reason),r._cleanup()},this.ws.onerror=function(a){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}j_(Sr,pb);Sr.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};Sr.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};Sr.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),mb.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Sr.enabled=function(){return!!gb};Sr.transportName="websocket";Sr.roundTrips=2;var C_=Sr,k_=De,vb=Lt.EventEmitter,E_=function(){};function Rs(e,t){vb.call(this),this.sendBuffer=[],this.sender=t,this.url=e}k_(Rs,vb);Rs.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};Rs.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};Rs.prototype.sendSchedule=function(){E_("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};Rs.prototype._cleanup=function(){this.removeAllListeners()};Rs.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var T_=Rs,P_=De,xb=Lt.EventEmitter,R_=function(){};function Ac(e,t,n){xb.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}P_(Ac,xb);Ac.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){R_("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};Ac.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var __=Ac,A_=De,I_=yn,am=T_,D_=__;function im(e,t,n,r,s){var a=I_.addPath(e,t),i=this;am.call(this,e,n),this.poll=new D_(r,a,s),this.poll.on("message",function(l){i.emit("message",l)}),this.poll.once("close",function(l,c){i.poll=null,i.emit("close",l,c),i.close()})}A_(im,am);im.prototype.close=function(){am.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var yb=im,O_=De,L_=yn,wb=yb;function M_(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var a=L_.addPath(t,"/xhr_send"),i=new e("POST",a,n,s);return i.once("finish",function(l){if(i=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){i.close(),i=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function bb(e,t,n,r){wb.call(this,e,t,M_(r),n,r)}O_(bb,wb);var Po=bb,$_=De,Sb=Lt.EventEmitter;function Qa(e,t){Sb.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var a=r===200?"network":"permanent";n.emit("close",null,a),n._cleanup()})}$_(Qa,Sb);Qa.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};Qa.prototype._cleanup=function(){this.removeAllListeners()};Qa.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Ic=Qa,Nb=Lt.EventEmitter,z_=De,jb=ss,F_=yn,Ma=globalThis.XMLHttpRequest,Cu=function(){};function Jn(e,t,n,r){var s=this;Nb.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}z_(Jn,Nb);Jn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new Ma}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=F_.addQuery(t,"t="+ +new Date),this.unloadRef=jb.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Cu("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Jn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var a in r.headers)this.xhr.setRequestHeader(a,r.headers[a]);this.xhr.onreadystatechange=function(){if(s.xhr){var i=s.xhr,l,c;switch(Cu("readyState",i.readyState),i.readyState){case 3:try{c=i.status,l=i.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=i.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Cu("finish",c,i.responseText),s.emit("finish",c,i.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Jn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),jb.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Jn.prototype.close=function(){this._cleanup(!0)};Jn.enabled=!!Ma;var Rg=["Active"].concat("Object").join("X");!Jn.enabled&&Rg in globalThis&&(Ma=function(){try{return new globalThis[Rg]("Microsoft.XMLHTTP")}catch{return null}},Jn.enabled=!!new Ma);var Cb=!1;try{Cb="withCredentials"in new Ma}catch{}Jn.supportsCORS=Cb;var kb=Jn,U_=De,Xl=kb;function lm(e,t,n,r){Xl.call(this,e,t,n,r)}U_(lm,Xl);lm.enabled=Xl.enabled&&Xl.supportsCORS;var Dc=lm,B_=De,cm=kb;function um(e,t,n){cm.call(this,e,t,n,{noCredentials:!0})}B_(um,cm);um.enabled=cm.enabled;var Ja=um,Za={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},W_=De,Eb=Po,V_=Ic,tf=Dc,H_=Ja,K_=Za;function Ro(e){if(!H_.enabled&&!tf.enabled)throw new Error("Transport created when disabled");Eb.call(this,e,"/xhr_streaming",V_,tf)}W_(Ro,Eb);Ro.enabled=function(e){return e.nullOrigin||K_.isOpera()?!1:tf.enabled};Ro.transportName="xhr-streaming";Ro.roundTrips=2;Ro.needBody=!!globalThis.document;var Y_=Ro,Tb=Lt.EventEmitter,G_=De,Pb=ss,X_=Za,q_=yn,Q_=function(){};function _s(e,t,n){var r=this;Tb.call(this),setTimeout(function(){r._start(e,t,n)},0)}G_(_s,Tb);_s.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=q_.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){Q_("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=Pb.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};_s.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};_s.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Pb.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};_s.prototype.close=function(){this._cleanup(!0)};_s.enabled=!!(globalThis.XDomainRequest&&X_.hasDomain());var dm=_s,J_=De,Rb=Po,Z_=Ic,nf=dm;function ei(e){if(!nf.enabled)throw new Error("Transport created when disabled");Rb.call(this,e,"/xhr_streaming",Z_,nf)}J_(ei,Rb);ei.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:nf.enabled&&e.sameScheme};ei.transportName="xdr-streaming";ei.roundTrips=2;var _b=ei,Ab=globalThis.EventSource,eA=De,Ib=Lt.EventEmitter,tA=Ab,_g=function(){};function ti(e){Ib.call(this);var t=this,n=this.es=new tA(e);n.onmessage=function(r){_g("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){_g("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}eA(ti,Ib);ti.prototype.abort=function(){this._cleanup(),this._close("user")};ti.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};ti.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var nA=ti,rA=De,Db=Po,sA=nA,oA=Dc,aA=Ab;function _o(e){if(!_o.enabled())throw new Error("Transport created when disabled");Db.call(this,e,"/eventsource",sA,oA)}rA(_o,Db);_o.enabled=function(){return!!aA};_o.transportName="eventsource";_o.roundTrips=2;var Ag=_o,ku,Ig;function Ob(){return Ig||(Ig=1,ku="1.6.1"),ku}var Eu={exports:{}},Dg;function ni(){return Dg||(Dg=1,function(e){var t=ss,n=Za;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var a=globalThis.document.createElement("iframe"),i,l,c=function(){clearTimeout(i);try{a.onload=null}catch{}a.onerror=null},u=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},h=function(m){a&&(u(),s(m))},f=function(m,p){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(m,p)}catch{}},0)};return a.src=r,a.style.display="none",a.style.position="absolute",a.onerror=function(){h("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(a),i=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var a=["Active"].concat("Object").join("X"),i=new globalThis[a]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){i&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=i=null,CollectGarbage())},m=function(x){i&&(f(),s(x))},p=function(x,b){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,b)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=i.createElement("div");return i.body.appendChild(w),u=i.createElement("iframe"),w.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(f),{post:p,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())}(Eu)),Eu.exports}var iA=De,Lb=Lt.EventEmitter,lA=Ob(),rf=yn,Mb=ni(),$b=ss,cA=To,Go=function(){};function nr(e,t,n){if(!nr.enabled())throw new Error("Transport created when disabled");Lb.call(this);var r=this;this.origin=rf.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=cA.string(8);var s=rf.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Mb.createIframe(s,function(a){r.emit("close",1006,"Unable to load an iframe ("+a+")"),r.close()}),this.onmessageCallback=this._message.bind(this),$b.attachEvent("message",this.onmessageCallback)}iA(nr,Lb);nr.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){$b.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};nr.prototype._message=function(e){if(Go("message",e.data),!rf.isOriginEqual(e.origin,this.origin)){Go("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Go("bad json",e.data);return}if(t.windowId!==this.windowId){Go("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([lA,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Go("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};nr.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};nr.prototype.send=function(e){this.postMessage("m",e)};nr.enabled=function(){return Mb.iframeEnabled};nr.transportName="iframe";nr.roundTrips=2;var zb=nr,fm={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},uA=De,Bi=zb,dA=fm,Tu=function(e){function t(n,r){Bi.call(this,e.transportName,n,r)}return uA(t,Bi),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=dA.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&Bi.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Bi.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},fA=De,is=ni(),hA=yn,Fb=Lt.EventEmitter,mA=To,pA=function(){};function On(e){Fb.call(this);var t=this;is.polluteGlobalNamespace(),this.id="a"+mA.string(6),e=hA.addQuery(e,"c="+decodeURIComponent(is.WPrefix+"."+this.id)),pA("using htmlfile",On.htmlfileEnabled);var n=On.htmlfileEnabled?is.createHtmlfile:is.createIframe;globalThis[is.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}fA(On,Fb);On.prototype.abort=function(){this._cleanup(),this._close("user")};On.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[is.WPrefix][this.id]};On.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};On.htmlfileEnabled=!1;var Og=["Active"].concat("Object").join("X");if(Og in globalThis)try{On.htmlfileEnabled=!!new globalThis[Og]("htmlfile")}catch{}On.enabled=On.htmlfileEnabled||is.iframeEnabled;var gA=On,vA=De,sf=gA,xA=Ja,Ub=Po;function ri(e){if(!sf.enabled)throw new Error("Transport created when disabled");Ub.call(this,e,"/htmlfile",sf,xA)}vA(ri,Ub);ri.enabled=function(e){return sf.enabled&&e.sameOrigin};ri.transportName="htmlfile";ri.roundTrips=2;var Lg=ri,yA=De,Bb=Po,wA=Ic,of=Dc,Wb=Ja;function si(e){if(!Wb.enabled&&!of.enabled)throw new Error("Transport created when disabled");Bb.call(this,e,"/xhr",wA,of)}yA(si,Bb);si.enabled=function(e){return e.nullOrigin?!1:Wb.enabled&&e.sameOrigin?!0:of.enabled};si.transportName="xhr-polling";si.roundTrips=2;var Mg=si,bA=De,Vb=Po,SA=_b,NA=Ic,$g=dm;function oi(e){if(!$g.enabled)throw new Error("Transport created when disabled");Vb.call(this,e,"/xhr",NA,$g)}bA(oi,Vb);oi.enabled=SA.enabled;oi.transportName="xdr-polling";oi.roundTrips=2;var jA=oi,fa=ni(),Hb=To,CA=Za,kA=yn,EA=De,Kb=Lt.EventEmitter,TA=function(){};function vn(e){var t=this;Kb.call(this),fa.polluteGlobalNamespace(),this.id="a"+Hb.string(6);var n=kA.addQuery(e,"c="+encodeURIComponent(fa.WPrefix+"."+this.id));globalThis[fa.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},vn.timeout)}EA(vn,Kb);vn.prototype.abort=function(){if(globalThis[fa.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};vn.timeout=35e3;vn.scriptErrorTimeout=1e3;vn.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};vn.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};vn.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[fa.WPrefix][this.id]};vn.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},vn.scriptErrorTimeout))};vn.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+Hb.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(TA("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(CA.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var PA=vn,RA=To,zg=yn,_A=function(){},Jt,ha;function AA(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function IA(){Jt=globalThis.document.createElement("form"),Jt.style.display="none",Jt.style.position="absolute",Jt.method="POST",Jt.enctype="application/x-www-form-urlencoded",Jt.acceptCharset="UTF-8",ha=globalThis.document.createElement("textarea"),ha.name="d",Jt.appendChild(ha),globalThis.document.body.appendChild(Jt)}var DA=function(e,t,n){Jt||IA();var r="a"+RA.string(8);Jt.target=r,Jt.action=zg.addQuery(zg.addPath(e,"/jsonp_send"),"i="+r);var s=AA(r);s.id=r,s.style.display="none",Jt.appendChild(s);try{ha.value=t}catch{}Jt.submit();var a=function(i){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),ha.value="",n(i))};return s.onerror=function(){a()},s.onload=function(){a()},s.onreadystatechange=function(i){_A("onreadystatechange",r,s.readyState),s.readyState==="complete"&&a()},function(){a(new Error("Aborted"))}},OA=De,Yb=yb,LA=PA,MA=DA;function As(e){if(!As.enabled())throw new Error("Transport created when disabled");Yb.call(this,e,"/jsonp",MA,LA)}OA(As,Yb);As.enabled=function(){return!!globalThis.document};As.transportName="jsonp-polling";As.roundTrips=1;As.needBody=!0;var $A=As,zA=[C_,Y_,_b,Ag,Tu(Ag),Lg,Tu(Lg),Mg,jA,Tu(Mg),$A],$a=Array.prototype,hm=Object.prototype,FA=Function.prototype,za=String.prototype,Pu=$a.slice,mm=hm.toString,Gb=function(e){return hm.toString.call(e)==="[object Function]"},UA=function(t){return mm.call(t)==="[object Array]"},Xb=function(t){return mm.call(t)==="[object String]"},BA=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),af;BA?af=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:af=function(e,t,n,r){!r&&t in e||(e[t]=n)};var ai=function(e,t,n){for(var r in t)hm.hasOwnProperty.call(t,r)&&af(e,r,t[r],n)},qb=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function WA(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function VA(e){return e>>>0}function Ru(){}ai(FA,{bind:function(t){var n=this;if(!Gb(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Pu.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(Pu.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Pu.call(arguments)))},a=Math.max(0,n.length-r.length),i=[],l=0;l<a;l++)i.push("$"+l);var c=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(Ru.prototype=n.prototype,c.prototype=new Ru,Ru.prototype=null),c}});ai(Array,{isArray:UA});var Fg=Object("a"),Qb=Fg[0]!=="a"||!(0 in Fg),HA=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,a,i){typeof i!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};ai($a,{forEach:function(t){var n=qb(this),r=Qb&&Xb(this)?this.split(""):n,s=arguments[1],a=-1,i=r.length>>>0;if(!Gb(t))throw new TypeError;for(;++a<i;)a in r&&t.call(s,r[a],a,n)}},!HA($a.forEach));var KA=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;ai($a,{indexOf:function(t){var n=Qb&&Xb(this)?this.split(""):qb(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=WA(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},KA);var Ug=za.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;za.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(mm.call(t)!=="[object RegExp]")return Ug.call(this,t,n);var s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),i=0,l,c,u,h;for(t=new RegExp(t.source,a+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",a)),n=n===void 0?-1>>>0:VA(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>i&&(s.push(r.slice(i,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<r.length&&$a.push.apply(s,c.slice(1)),h=c[0].length,i=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return i===r.length?(h||!t.test(""))&&s.push(""):s.push(r.slice(i)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&(za.split=function(t,n){return t===void 0&&n===0?[]:Ug.call(this,t,n)});var YA=za.substr,GA="".substr&&"0b".substr(-1)!=="b";ai(za,{substr:function(t,n){return YA.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},GA);var Wi=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,_u,XA=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},qA={quote:function(e){var t=JSON.stringify(e);return Wi.lastIndex=0,Wi.test(t)?(_u||(_u=XA(Wi)),t.replace(Wi,function(n){return _u[n]})):t}},Au=function(){},QA=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Au("not in whitelist",s.transportName);return}s.enabled(n)?(Au("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):Au("disabled",s.transportName)}}),r}}},lf={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}lf[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:lf.log});var JA=lf;function Is(e){this.type=e}Is.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};Is.prototype.stopPropagation=function(){};Is.prototype.preventDefault=function(){};Is.CAPTURING_PHASE=1;Is.AT_TARGET=2;Is.BUBBLING_PHASE=3;var pm=Is,Jb=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},ZA=De,Zb=pm;function e1(){Zb.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}ZA(e1,Zb);var e3=e1,t3=De,t1=pm;function n1(e){t1.call(this),this.initEvent("message",!1,!1),this.data=e}t3(n1,t1);var n3=n1,r1=Lt.EventEmitter,r3=De;function ii(){var e=this;r1.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},ii.timeout)}r3(ii,r1);ii.prototype.close=function(){clearTimeout(this.to)};ii.timeout=2e3;var s3=ii,s1=Lt.EventEmitter,o3=De,a3=fm;function gm(e,t){s1.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,a){var i,l;if(s===200){if(l=+new Date-r,a)try{i=JSON.parse(a)}catch{}a3.isObject(i)||(i={})}n.emit("finish",i,l),n.removeAllListeners()})}o3(gm,s1);gm.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var o1=gm,Iu,Bg;function a1(){if(Bg)return Iu;Bg=1;var e=De,t=Lt.EventEmitter,n=Ja,r=o1;function s(a){var i=this;t.call(this),this.ir=new r(a,n),this.ir.once("finish",function(l,c){i.ir=null,i.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Iu=s,Iu}var i1=Lt.EventEmitter,i3=De,l3=ss,l1=zb,c3=a1();function Oc(e,t){var n=this;i1.call(this);var r=function(){var s=n.ifr=new l1(c3.transportName,t,e);s.once("message",function(a){if(a){var i;try{i=JSON.parse(a)}catch{n.emit("finish"),n.close();return}var l=i[0],c=i[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():l3.attachEvent("load",r)}i3(Oc,i1);Oc.enabled=function(){return l1.enabled()};Oc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var u3=Oc,c1=Lt.EventEmitter,d3=De,f3=yn,Wg=dm,Vg=Dc,h3=Ja,m3=s3,Hg=u3,Vi=o1;function cr(e,t){var n=this;c1.call(this),setTimeout(function(){n.doXhr(e,t)},0)}d3(cr,c1);cr._getReceiver=function(e,t,n){return n.sameOrigin?new Vi(t,h3):Vg.enabled?new Vi(t,Vg):Wg.enabled&&n.sameScheme?new Vi(t,Wg):Hg.enabled()?new Hg(e,t):new Vi(t,m3)};cr.prototype.doXhr=function(e,t){var n=this,r=f3.addPath(e,"/info");this.xo=cr._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},cr.timeout),this.xo.once("finish",function(s,a){n._cleanup(!0),n.emit("finish",s,a)})};cr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};cr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};cr.timeout=8e3;var p3=cr,Du,Kg;function g3(){if(Kg)return Du;Kg=1;var e=ni();function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Du=t,Du}var Ou,Yg;function v3(){if(Yg)return Ou;Yg=1;var e=yn,t=ss,n=g3(),r=a1(),s=ni(),a=Jb,i=function(){};return Ou=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[r.transportName]=r;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=a.hash.slice(1);var m=function(p){if(p.source===parent&&(typeof h>"u"&&(h=p.origin),p.origin===h)){var w;try{w=JSON.parse(p.data)}catch{i("bad json",p.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{i("bad json",w.data);break}var b=x[0],g=x[1],v=x[2],y=x[3];if(b!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+b+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(v,a.href)||!e.isOriginEqual(y,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+v+", "+y+")");f=new n(new u[g](v,y));break;case"m":f._send(w.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},Ou}var x3=fb,y3=De,Gg=To,w3=qA,ta=yn,b3=ss,S3=QA,N3=fm,j3=Za,C3=JA,vm=pm,u1=hb,Hi=Jb,k3=e3,Xg=n3,E3=p3,Xn=function(){},d1;function Ie(e,t,n){if(!(this instanceof Ie))return new Ie(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");u1.call(this),this.readyState=Ie.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&C3.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Gg.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Gg.numberString(1e3);var s=new x3(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a=s.protocol==="https:";if(Hi.protocol==="https:"&&!a&&!ta.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var i=t.sort();i.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<i.length-1&&c===i[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=ta.getOrigin(Hi.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Xn("using url",this.url),this._urlInfo={nullOrigin:!j3.hasDomain(),sameOrigin:ta.isOriginEqual(this.url,Hi.href),sameScheme:ta.isSchemeEqual(this.url,Hi.href)},this._ir=new E3(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}y3(Ie,u1);function f1(e){return e===1e3||e>=3e3&&e<=4999}Ie.prototype.close=function(e,t){if(e&&!f1(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Ie.CLOSING||this.readyState===Ie.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};Ie.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===Ie.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Ie.OPEN&&this._transport.send(w3.quote(e))};Ie.version=Ob();Ie.CONNECTING=0;Ie.OPEN=1;Ie.CLOSING=2;Ie.CLOSED=3;Ie.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=N3.extend(e,this._urlInfo);var n=d1.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,Xn(this._transports.length+" enabled transports"),this._connect()};Ie.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Xn("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),b3.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=ta.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};Ie.prototype._transportTimeout=function(){this.readyState===Ie.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Ie.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new vm("heartbeat")),Xn("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(a){Xn("message",t.transport),t.dispatchEvent(new Xg(a))});break;case"m":Xn("message",this.transport),this.dispatchEvent(new Xg(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};Ie.prototype._transportClose=function(e,t){if(Xn("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!f1(e)&&e!==2e3&&this.readyState===Ie.CONNECTING){this._connect();return}this._close(e,t)};Ie.prototype._open=function(){Xn("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Ie.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Ie.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new vm("open")),Xn("connected",this.transport)):this._close(1006,"Server lost session")};Ie.prototype._close=function(e,t,n){Xn("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Ie.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Ie.CLOSING,setTimeout((function(){this.readyState=Ie.CLOSED,r&&this.dispatchEvent(new vm("error"));var s=new k3;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Ie.prototype.countRTO=function(e){return e>100?4*e:300+e};var T3=function(e){return d1=S3(e),v3()(Ie,e),Ie},P3=zA,R3=T3(P3);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const h1=hf(R3),_3=({roomId:e,userId:t,onMessageReceived:n,onError:r})=>{const[s,a]=d.useState(!1),[i,l]=d.useState("disconnected"),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),[f,m]=d.useState(0),p=3,[w,x]=d.useState(0),b=P=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(P),g=()=>localStorage.getItem("accessToken"),v=d.useCallback(()=>{var S;if(console.log(" WebSocket connect()  !"),console.log("    :",{hasClient:!!c.current,clientConnected:(S=c.current)==null?void 0:S.connected,connectionStatus:i,roomId:e,userId:t,hasToken:!!g(),timestamp:new Date().toISOString()}),c.current&&c.current.connected){console.log("   -   ");return}if(i==="connecting"){console.log("    -   ");return}if(c.current&&!c.current.connected&&i!=="disconnected"&&(console.log("    "),c.current.deactivate(),c.current=null),!e||!t){console.log("   :",{roomId:e,userId:t}),l("error");return}const P=g();if(console.log("WebSocket   - :",P?"":""),!P){console.error("   .   ."),r==null||r(" .  ."),l("error");return}if(P.length<10){console.error("    ."),r==null||r("   .  ."),l("error");return}l("connecting"),x(k=>k+1),console.log(` WebSocket   #${w+1}`,{roomId:e,userId:t,currentStatus:i,reconnectAttempt:f+1,url:"http://localhost:8080/ws"}),console.log(" SockJS   ..."),console.log("     :"),console.log("   - WebSocket   (101 Switching Protocols)"),console.log("   - SockJS   ");const T=new ob({webSocketFactory:()=>(console.log(" WebSocket Factory  - SockJS  !"),new h1("http://localhost:8080/ws")),connectHeaders:P?{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" DM WebSocket   ... :",P?{Authorization:`Bearer ${P.substring(0,10)}...`}:{token:"none"})},debug:k=>{console.log("STOMP Debug:",k)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" DM WebSocket  !",{roomId:e,userId:t}),a(!0),l("connected"),m(0);const k=g();if(!k){console.error("    .     ."),r==null||r("    .");return}console.log(" DM   :",`/topic/dm/${e}`),T.subscribe(`/topic/dm/${e}`,_=>{try{const C=JSON.parse(_.body);console.log(" DM  :",C),n(C)}catch(C){console.error(" DM   :",C)}},{Authorization:`Bearer ${k}`}),console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:k.substring(0,10)+"..."}),T.publish({destination:`/app/dmRooms/${e}/enter`,headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({})}),console.log(" DM WebSocket  ")},onDisconnect:()=>{console.log(" DM WebSocket  ",{roomId:e,userId:t}),a(!1),l("disconnected")},onStompError:k=>{console.error(" STOMP :",{message:k.headers.message,body:k.body,headers:k.headers});const _=k.headers.message||"";if(_.includes("Unauthorized")||_.includes("Authentication")||_.includes("Token")||_.includes("401")||_.includes("Forbidden")||_.includes("403")){console.error("   -   "),r==null||r(" .  ."),l("error");return}else _.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),r==null||r("   .    .")):r==null||r(` : ${_}`);l("error"),!_.includes("Unauthorized")&&!_.includes("Authentication")&&!_.includes("Token")&&!_.includes("401")&&!_.includes("Forbidden")&&!_.includes("403")?f<p&&(m(C=>C+1),u.current=setTimeout(()=>{v()},5e3*f)):console.log("      .")},onWebSocketError:k=>{console.error(" WebSocket :",k),l("error"),r==null||r("WebSocket   ."),c.current&&(c.current.deactivate(),c.current=null)}});c.current=T,T.activate()},[e,t,n,r,f,i]),y=d.useCallback(()=>{var T;const P=g();if(!P){console.error("   :   ."),r==null||r(" .  .");return}if(!((T=c.current)!=null&&T.connected)){console.error("   : WebSocket  .");return}if(!e){console.error("   : roomId .");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:P.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/enter`,headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({})})},[e,r]),N=d.useCallback(()=>{var T;const P=g();if(!P){console.error("   :   .");return}if(!((T=c.current)!=null&&T.connected)){console.error("   : WebSocket  .");return}if(!e){console.error("   : roomId .");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:P.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/exit`,headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({})})},[e]),E=d.useCallback(()=>{var P;if((P=c.current)!=null&&P.connected&&e){const T=g();T&&b(e)&&(console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:T.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/exit`,headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({})}))}c.current&&(c.current.deactivate(),c.current=null),u.current&&(clearTimeout(u.current),u.current=null),a(!1),l("disconnected"),m(0)},[e]),R=d.useCallback(P=>{var k;const T=g();if(!T){console.error("   :   ."),r==null||r(" .  .");return}if(!((k=c.current)!=null&&k.connected)){r==null||r("WebSocket  .");return}if(!e||!t){console.error("Cannot send message: missing roomId or userId");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}if(!b(t)){console.error("   :   senderId UUID :",{userId:t});return}const S={senderId:t,roomId:e,content:P};console.log(" DM   (with Auth):",{dmRequest:S,hasToken:!0,tokenPrefix:T.substring(0,10)+"..."}),c.current.publish({destination:`/app/dm/${e}`,headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify(S)})},[e,t,r]);return d.useEffect(()=>{console.log(" useDmWebSocket useEffect :",{roomId:e,userId:t,hasRoomId:!!e,hasUserId:!!t}),e&&t?(console.log("   -   "),v()):(console.log("   -   :",{roomId:e,userId:t}),E())},[e,t]),d.useEffect(()=>{const P=g();h.current!==P&&(console.log("    -  :",{oldToken:h.current?"existed":"none",newToken:P?"exists":"none",roomId:e,userId:t}),h.current=P,c.current&&e&&t&&(console.log("      "),E(),P?setTimeout(()=>{console.log("    "),v()},1e3):console.log("    ")))},[]),d.useEffect(()=>()=>{E()},[E]),{isConnected:s,connectionStatus:i,connect:v,disconnect:E,enterRoom:y,exitRoom:N,sendMessage:R,reconnectAttempts:f,connectionAttempts:w}};function A3({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:a,refreshTrigger:i}){const[l,c]=d.useState([]),[u,h]=d.useState(""),[f]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(null),v=d.useRef(null),y=d.useRef(null),{isConnected:N,sendMessage:E}=_3({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:_=>{console.log(" ChatRoom  :",_);const C={id:_.id,senderId:_.senderId,senderName:_.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:_.content,timestamp:R(_.createdAt),type:"text",isOwnMessage:_.senderId===s};c(I=>I.find(Y=>Y.id===_.id)?(console.log("   :",_.id),I):[...I,C])},onError:_=>{console.error(" DM WebSocket :",_),_.includes("")||_.includes("")||_.includes("Authentication")?(g(_),x(null)):(x(_),g(null))}});d.useEffect(()=>{var _;(_=v.current)==null||_.scrollIntoView({behavior:"smooth"})},[l]),d.useEffect(()=>{e&&y.current&&y.current.focus()},[e]),d.useEffect(()=>{r!=null&&r.roomId&&P()},[r==null?void 0:r.roomId]),d.useEffect(()=>{e&&r&&i&&i>0&&(console.log("     :",i),P())},[i,e,r]);const R=_=>new Date(_).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),P=async()=>{if(r!=null&&r.roomId)try{p(!0),x(null);const C=(await a(r.roomId,{size:50})).data.sort((I,D)=>new Date(I.createdAt).getTime()-new Date(D.createdAt).getTime()).map(I=>({id:I.id,senderId:I.senderId,senderName:I.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:I.content,timestamp:R(I.createdAt),type:"text",isOwnMessage:I.senderId===s}));c(C)}catch(_){console.error("Error loading messages:",_),x("   .")}finally{p(!1)}},T=()=>{if(!u.trim()||!r||!N){console.warn("   :",{hasMessage:!!u.trim(),hasUser:!!r,isConnected:N,roomId:r==null?void 0:r.roomId,userId:s});return}console.log(" ChatRoom  :",{content:u.trim(),roomId:r.roomId,userId:s,isConnected:N}),E(u.trim()),h("")},S=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),T())},k=_=>_;return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(st,{className:"h-8 w-8",children:[o.jsx(ot,{src:r.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsxs("p",{className:"text-xs text-white/60",children:[r.isOnline?"":"","  ",o.jsx("span",{className:`${N?"text-green-400":"text-red-400"}`,children:N?"":" "})]})]})]})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(An,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(e_,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[m&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),w&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:w}),b&&o.jsx("div",{className:"flex items-center justify-center h-32 text-orange-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-3",children:b}),o.jsx(U,{onClick:()=>{g(null)},size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:" "})]})}),!m&&!w&&!b&&l.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),l.map((_,C)=>{const I=C===0||l[C-1].timestamp!==_.timestamp||l[C-1].isOwnMessage!==_.isOwnMessage;return o.jsx("div",{className:`flex ${_.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${_.isOwnMessage?"order-2":"order-1"}`,children:[!_.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(st,{className:"h-6 w-6",children:[o.jsx(ot,{src:r.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:_.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${_.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:_.content})}),I&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${_.isOwnMessage?"text-right":"text-left"}`,children:k(_.timestamp)})]})},_.id)}),f&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(st,{className:"h-6 w-6",children:[o.jsx(ot,{src:r.avatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:v})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(U,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(ph,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ve,{ref:y,value:u,onChange:_=>h(_.target.value),onKeyPress:S,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(_C,{className:"w-4 h-4"})})]}),o.jsx(U,{onClick:T,disabled:!u.trim()||!N,size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(vh,{className:"w-4 h-4"})})]})})]})})}function I3({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:a,onError:i}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),m=d.useRef(),[p,w]=d.useState(0),x=3,b=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const E=b();console.log("WebSocket   - :",E?"":""),E||console.warn("      ()"),h("connecting"),console.log("WebSocket  :",{url:"http://localhost:8080/ws",token:E?`${E.substring(0,10)}...`:"null"});const R=new ob({webSocketFactory:()=>new h1("http://localhost:8080/ws"),connectHeaders:E?{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",E?{Authorization:`Bearer ${E.substring(0,10)}...`}:{token:"none"})},debug:P=>{console.log("STOMP Debug:",P)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),h("connected"),w(0),R.subscribe(`/topic/rooms/${e}/chat`,P=>{try{const T=JSON.parse(P.body);n==null||n(T)}catch(T){console.error("   :",T)}}),R.subscribe(`/topic/rooms/${e}/participants`,P=>{try{const T=JSON.parse(P.body);r==null||r(T),h("connected"),c(!0)}catch(T){console.error("   :",T)}}),R.subscribe(`/topic/rooms/${e}/video`,P=>{try{const T=JSON.parse(P.body);s==null||s(T)}catch(T){console.error("    :",T)}}),R.subscribe("/user/queue/sync",P=>{try{const T=JSON.parse(P.body);(!("participantsInfoDto"in T)||!T.participantsInfoDto)&&(T.participantsInfoDto={participantDtoList:[],participantCount:0}),a==null||a(T),h("connected"),c(!0)}catch(T){console.error("    :",T)}}),R.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),h("disconnected")},onStompError:P=>{var T;console.error(" STOMP :",{message:P.headers.message,body:P.body,headers:P.headers}),(T=P.headers.message)!=null&&T.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),i==null||i("    .  .")):i==null||i(` : ${P.headers.message}`),h("error"),p<x&&(w(S=>S+1),m.current=setTimeout(()=>{g()},5e3*p))},onWebSocketError:P=>{console.error(" WebSocket :",P),h("error"),i==null||i("WebSocket   ."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=R,R.activate()},[e,t,n,r,s,a,i]),v=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),m.current&&clearTimeout(m.current),c(!1),h("disconnected"),w(0)},[e,t]),y=d.useCallback(E=>{var P;if(!((P=f.current)!=null&&P.connected)){i==null||i("WebSocket  .");return}const R={chatRoomId:e,content:E};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(R)})},[e,i]),N=d.useCallback(E=>{var R;if(!((R=f.current)!=null&&R.connected)){console.error(" Cannot send video control: WebSocket not connected"),i==null||i("WebSocket  .");return}console.log(" Sending video control to backend:",{action:E.videoControlAction,currentTime:E.currentTime,destination:`/app/rooms/${e}/video-control`}),f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(E)})},[e,i]);return d.useEffect(()=>{const E=P=>{if(l)return P.preventDefault(),P.returnValue=" ?"," ?"},R=()=>{v()};return window.addEventListener("beforeunload",E),window.addEventListener("unload",R),()=>{window.removeEventListener("beforeunload",E),window.removeEventListener("unload",R)}},[l,v]),d.useEffect(()=>()=>{v()},[v]),{isConnected:l,connectionStatus:u,connect:g,disconnect:v,sendChatMessage:y,sendVideoControl:N,reconnectAttempts:p}}function D3(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(a=>({...a,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const a=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(a))},100);setTimeout(()=>{clearInterval(a),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API  "})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API   ")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API   "})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var m1=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(m1||{}),cl=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(cl||{});function O3({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s,onTimeUpdate:a}){const[i,l]=d.useState(null),[c,u]=d.useState(!1),h=d.useRef(null),f=d.useRef(!1),m=d.useRef(null),p=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:T=>{console.log("YouTube Player Ready - verifying functionality"),h.current=T.target,l(T.target);const S=()=>{try{const k=typeof T.target.getPlayerState=="function",_=typeof T.target.getCurrentTime=="function",C=T.target.getPlayerState();k&&_&&C!==void 0?(console.log(" Player functionality verified, setting ready"),u(!0)):(console.log(" Player not fully ready, retrying in 200ms..."),setTimeout(S,200))}catch(k){console.log(" Player verification failed, retrying in 200ms...",k),setTimeout(S,200)}};S()},onStateChange:T=>{const S=T.data,k=T.target.getCurrentTime(),_=Math.round(k*100)/100;let C=null,I=!1;switch(m.current&&(clearInterval(m.current),m.current=null),S){case window.YT.PlayerState.PLAYING:C=cl.PLAY,I=!0,m.current=setInterval(()=>{T.target.getPlayerState()===window.YT.PlayerState.PLAYING?a==null||a(T.target.getCurrentTime()):(clearInterval(m.current),m.current=null)},500);break;case window.YT.PlayerState.PAUSED:C=cl.PAUSE,I=!1;break;case window.YT.PlayerState.ENDED:C=cl.PAUSE,I=!1;break;default:return}console.log(" YouTube Player State Change:",{state:S,rawTime:k,currentTime:_,isPlaying:I,isHost:n,isHostControl:f.current}),console.log(" Updating local UI state only"),r==null||r(I,_,C)},onError:T=>{console.error("YouTube Player Error:",T.data);let S="YouTube   .";switch(T.data){case 2:S="  ID.";break;case 5:S="HTML5   .";break;case 100:S="   .";break;case 101:case 150:S="   .";break}s==null||s(S)}}})}catch(T){console.error("YouTube Player  :",T),s==null||s("YouTube    .")}},[e,t,n,r,s,a]);d.useEffect(()=>{e&&(h.current&&h.current.getVideoUrl()!==e&&(console.log(" videoId    "),h.current.destroy(),h.current=null,l(null),u(!1),m.current&&(clearInterval(m.current),m.current=null)),!h.current&&window.YT&&window.YT.Player&&p())},[e,p]);const w=d.useCallback(()=>{var T,S,k,_;if(console.log(" YouTube play() called:",{playerExists:!!h.current,isReady:c,playerState:(S=(T=h.current)==null?void 0:T.getPlayerState)==null?void 0:S.call(T),currentTime:(_=(k=h.current)==null?void 0:k.getCurrentTime)==null?void 0:_.call(k)}),h.current&&c){try{f.current=!0;const C=h.current.playVideo();console.log(" playVideo() result:",C),setTimeout(()=>{var D,Y;const I=(Y=(D=h.current)==null?void 0:D.getPlayerState)==null?void 0:Y.call(D);console.log(" Player state after play():",I)},500)}catch(C){console.error(" playVideo() error:",C)}setTimeout(()=>{f.current=!1},100)}else console.error(" Cannot play: player not ready:",{playerExists:!!h.current,isReady:c})},[c]),x=d.useCallback(()=>{var T,S,k,_;if(console.log(" YouTube pause() called:",{playerExists:!!h.current,isReady:c,playerState:(S=(T=h.current)==null?void 0:T.getPlayerState)==null?void 0:S.call(T),currentTime:(_=(k=h.current)==null?void 0:k.getCurrentTime)==null?void 0:_.call(k)}),h.current&&c){try{f.current=!0;const C=h.current.pauseVideo();console.log(" pauseVideo() result:",C),setTimeout(()=>{var D,Y;const I=(Y=(D=h.current)==null?void 0:D.getPlayerState)==null?void 0:Y.call(D);console.log(" Player state after pause():",I)},500)}catch(C){console.error(" pauseVideo() error:",C)}setTimeout(()=>{f.current=!1},100)}else console.error(" Cannot pause: player not ready:",{playerExists:!!h.current,isReady:c})},[c]),b=d.useCallback(T=>{h.current&&c&&(f.current=!0,h.current.seekTo(T,!0),setTimeout(()=>{f.current=!1},100))},[c]),g=d.useCallback(()=>{var S,k,_,C;let T=0;try{if(h.current&&c){const I=h.current.getCurrentTime();T=Math.round(I*100)/100,console.log(" getCurrentTime called:",{rawTime:I,preciseTime:T,isReady:c,playerExists:!!h.current,playerState:(k=(S=h.current)==null?void 0:S.getPlayerState)==null?void 0:k.call(S)}),(T>1e4||T<0||isNaN(T))&&console.warn(" ABNORMAL TIME FROM YOUTUBE PLAYER:",{rawTime:I,preciseTime:T,playerState:(C=(_=h.current)==null?void 0:_.getPlayerState)==null?void 0:C.call(_)})}else console.log(" getCurrentTime called but player not ready")}catch(I){console.error(" getCurrentTime error:",I)}return T},[c]),v=d.useCallback(()=>h.current&&c?Math.floor(h.current.getDuration()):0,[c]),y=d.useCallback(()=>{var T;return{target:h.current,data:((T=h.current)==null?void 0:T.getPlayerState())??m1.UNSTARTED}},[c]),N=d.useCallback(T=>{h.current&&c&&h.current.setVolume(T)},[c]),E=d.useCallback(()=>h.current&&c?h.current.getVolume():0,[c]),R=d.useCallback(()=>{h.current&&(h.current.destroy(),h.current=null,l(null),u(!1)),m.current&&(clearInterval(m.current),m.current=null)},[]),P=d.useCallback((T,S=0)=>(console.log("[syncVideo] Called:",{isReady:c,retryCount:S,hasPlayer:!!h.current}),h.current==null?(console.error("  ."),!1):(f.current=!0,h.current.seekTo(T.currentTime,!0),h.current.pauseVideo(),T.action==="PLAY"||T.isPlaying===!0?(h.current.setVolume(0),h.current.playVideo(),console.log("    ()"),setTimeout(()=>{h.current&&(h.current.setVolume(80),console.log("  "))},100)):T.action==="PAUSE"&&(h.current.pauseVideo(),console.log("  ")),setTimeout(()=>{f.current=!1},100),!0)),[c]);return d.useEffect(()=>{if(h.current&&c){console.log(" Starting player status monitoring");const T=setInterval(()=>{var S,k,_,C,I,D,Y,B,M,j,A,L;try{const te=!!h.current,$=typeof((S=h.current)==null?void 0:S.getPlayerState)=="function",ee=typeof((k=h.current)==null?void 0:k.getCurrentTime)=="function",re=(C=(_=h.current)==null?void 0:_.getPlayerState)==null?void 0:C.call(_),ce={isReady:c,playerExists:te,canGetState:$,canGetTime:ee,state:re,currentTime:Math.floor(((D=(I=h.current)==null?void 0:I.getCurrentTime)==null?void 0:D.call(I))||0),duration:Math.floor(((B=(Y=h.current)==null?void 0:Y.getDuration)==null?void 0:B.call(Y))||0),volume:(j=(M=h.current)==null?void 0:M.getVolume)==null?void 0:j.call(M),playbackRate:(L=(A=h.current)==null?void 0:A.getPlaybackRate)==null?void 0:L.call(A),wouldSyncPass:c&&te&&ee&&re!==void 0&&re!==null};console.log(" Player Status:",ce)}catch(te){console.error(" Error checking player status:",te)}},5e3);return()=>{console.log(" Stopping player status monitoring"),clearInterval(T)}}},[c]),d.useEffect(()=>()=>{R(),m.current&&(clearInterval(m.current),m.current=null)},[R]),{player:i,isReady:c,play:w,pause:x,seekTo:b,getCurrentTime:g,getDuration:v,getPlayerState:y,setVolume:N,getVolume:E,destroy:R,syncVideo:P}}var p1=["PageUp","PageDown"],g1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ao="Slider",[cf,L3,M3]=_h(Ao),[x1,F5]=Ln(Ao,[M3]),[$3,Lc]=x1(Ao),y1=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:w,...x}=e,b=d.useRef(new Set),g=d.useRef(0),y=i==="horizontal"?z3:F3,[N=[],E]=bs({prop:h,defaultProp:u,onChange:_=>{var I;(I=[...b.current][g.current])==null||I.focus(),f(_)}}),R=d.useRef(N);function P(_){const C=H3(N,_);k(_,C)}function T(_){k(_,g.current)}function S(){const _=R.current[g.current];N[g.current]!==_&&m(N)}function k(_,C,{commit:I}={commit:!1}){const D=X3(a),Y=q3(Math.round((_-r)/a)*a+r,D),B=Ia(Y,[r,s]);E((M=[])=>{const j=W3(M,B,C);if(G3(j,c*a)){g.current=j.indexOf(B);const A=String(j)!==String(M);return A&&I&&m(j),A?j:M}else return M})}return o.jsx($3,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:g,thumbs:b.current,values:N,orientation:i,form:w,children:o.jsx(cf.Provider,{scope:e.__scopeSlider,children:o.jsx(cf.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:Se(x.onPointerDown,()=>{l||(R.current=N)}),min:r,max:s,inverted:p,onSlideStart:l?void 0:P,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:S,onHomeKeyDown:()=>!l&&k(r,0,{commit:!0}),onEndKeyDown:()=>!l&&k(s,N.length-1,{commit:!0}),onStepKeyDown:({event:_,direction:C})=>{if(!l){const Y=p1.includes(_.key)||_.shiftKey&&g1.includes(_.key)?10:1,B=g.current,M=N[B],j=a*Y*C;k(M+j,B,{commit:!0})}}})})})})});y1.displayName=Ao;var[w1,b1]=x1(Ao,{startEdge:"left",endEdge:"right",size:"width",direction:1}),z3=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,m]=d.useState(null),p=Pe(t,y=>m(y)),w=d.useRef(void 0),x=Xa(s),b=x==="ltr",g=b&&!a||!b&&a;function v(y){const N=w.current||f.getBoundingClientRect(),E=[0,N.width],P=xm(E,g?[n,r]:[r,n]);return w.current=N,P(y-N.left)}return o.jsx(w1,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(S1,{dir:x,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const N=v(y.clientX);i==null||i(N)},onSlideMove:y=>{const N=v(y.clientX);l==null||l(N)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const E=v1[g?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:E?-1:1})}})})}),F3=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=Pe(t,h),m=d.useRef(void 0),p=!s;function w(x){const b=m.current||h.current.getBoundingClientRect(),g=[0,b.height],y=xm(g,p?[r,n]:[n,r]);return m.current=b,y(x-b.top)}return o.jsx(w1,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(S1,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=w(x.clientY);a==null||a(b)},onSlideMove:x=>{const b=w(x.clientY);i==null||i(b)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=v1[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),S1=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=Lc(Ao,n);return o.jsx(Ne.span,{...u,ref:t,onKeyDown:Se(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):p1.concat(g1).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Se(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():r(f)}),onPointerMove:Se(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Se(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),a(f))})})}),N1="SliderTrack",j1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Lc(N1,n);return o.jsx(Ne.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});j1.displayName=N1;var uf="SliderRange",C1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Lc(uf,n),a=b1(uf,n),i=d.useRef(null),l=Pe(t,i),c=s.values.length,u=s.values.map(m=>T1(m,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(Ne.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:f+"%"}})});C1.displayName=uf;var df="SliderThumb",k1=d.forwardRef((e,t)=>{const n=L3(e.__scopeSlider),[r,s]=d.useState(null),a=Pe(t,l=>s(l)),i=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(U3,{...e,ref:a,index:i})}),U3=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,i=Lc(df,n),l=b1(df,n),[c,u]=d.useState(null),h=Pe(t,v=>u(v)),f=c?i.form||!!c.closest("form"):!0,m=zh(c),p=i.values[r],w=p===void 0?0:T1(p,i.min,i.max),x=V3(r,i.values.length),b=m==null?void 0:m[l.size],g=b?K3(b,w,l.direction):0;return d.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(cf.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Ne.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:h,style:p===void 0?{display:"none"}:e.style,onFocus:Se(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),f&&o.jsx(E1,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},r)]})});k1.displayName=df;var B3="RadioBubbleInput",E1=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),a=Pe(s,r),i=Bh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(Ne.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});E1.displayName=B3;function W3(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function T1(e,t,n){const a=100/(n-t)*(e-t);return Ia(a,[0,100])}function V3(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function H3(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function K3(e,t,n){const r=e/2,a=xm([0,50],[0,r]);return(r-a(t)*n)*n}function Y3(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function G3(e,t){if(t>0){const n=Y3(e);return Math.min(...n)>=t}return!0}function xm(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function X3(e){return(String(e).split(".")[1]||"").length}function q3(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Q3=y1,J3=j1,Z3=C1,e5=k1;function qg({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...a}){const i=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(Q3,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:Te("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[o.jsx(J3,{"data-slot":"slider-track",className:Te("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(Z3,{"data-slot":"slider-range",className:Te("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(l,c)=>o.jsx(e5,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function t5({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:a,onSeek:i,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:h=!1,onPermissionDenied:f}){const[m,p]=d.useState([80]),[w,x]=d.useState(!1),[b,g]=d.useState(!1),[v,y]=d.useState(!1),[N,E]=d.useState(0),R=d.useRef();d.useEffect(()=>{if(e.isReady){const M=e.getVolume();p([M]),x(M===0)}},[e.isReady]),d.useEffect(()=>(b&&(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{g(!1)},3e3)),()=>{R.current&&clearTimeout(R.current)}),[b,m]);const P=()=>{if(b){x(!w);const M=w?m[0]:0;e.setVolume(M),l(M)}else g(!0)},T=M=>{p(M);const j=M[0];x(j===0),e.setVolume(j),l(j)},S=()=>{y(!0),E(r)},k=M=>{v&&E(M[0])},_=()=>{v&&t&&(i(N),y(!1))},C=()=>{if(t){const M=Math.max(0,r-10);i(M)}else f==null||f()},I=()=>{if(t){const M=Math.min(s,r+10);i(M)}else f==null||f()},D=()=>{t?a():f==null||f()},Y=()=>w||m[0]===0?o.jsx(LC,{className:"w-5 h-5"}):m[0]<50?o.jsx(DC,{className:"w-5 h-5"}):o.jsx(OC,{className:"w-5 h-5"}),B=M=>{const j=Math.floor(M/3600),A=Math.floor(M%3600/60),L=M%60;return j>0?`${j}:${A.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`:`${A}:${L.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(qg,{value:[v?N:r],onValueChange:k,onPointerDown:S,onPointerUp:_,max:s,step:1,disabled:h||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:B(v?N:r)}),o.jsx("span",{children:B(s)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:C,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(PC,{className:"w-5 h-5"})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{console.log("    !",{isHost:t,disabled:h||!t}),D()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"":"":"  ",children:n?o.jsx(I0,{className:"w-5 h-5"}):o.jsx(Et,{className:"w-5 h-5"})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:I,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(RC,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:P,className:"hover:bg-white/10",title:" ",children:Y()}),b&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(qg,{value:m,onValueChange:T,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[m[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(qs,{className:"w-4 h-4 mr-1"}),"  "]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(U,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"",children:o.jsx(EC,{className:"w-5 h-5"})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?" ":"",children:u?o.jsx(CC,{className:"w-5 h-5"}):o.jsx(jC,{className:"w-5 h-5"})})]})]})]})}function n5({open:e,onClose:t}){return o.jsx(Gh,{open:e,onOpenChange:t,children:o.jsxs(Xh,{className:"bg-[#1a1a1a] border-white/20 text-white",children:[o.jsxs(qh,{children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center",children:o.jsx(qs,{className:"w-8 h-8 text-yellow-400"})})}),o.jsx(Jh,{className:"text-center text-xl font-medium",children:"  "}),o.jsxs(Zh,{className:"text-center text-white/70",children:["    .",o.jsx("br",{}),", ,    ."]})]}),o.jsx(Qh,{children:o.jsx(em,{onClick:t,className:"w-full teal-gradient hover:opacity-80 text-black font-medium",children:""})})]})})}var Er=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Er||{});function r5(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function s5({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var mt,Qe,lt,nt;const[a,i]=d.useState(!1),{isLoaded:l}=D3(!0),[c,u]=d.useState(!0),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1),[b,g]=d.useState(!1),[v,y]=d.useState(null),[N,E]=d.useState(null),[R,P]=d.useState([]),[T,S]=d.useState([]),[k,_]=d.useState(!1),[C,I]=d.useState(!0),[D,Y]=d.useState(null),[B,M]=d.useState(null),[j,A]=d.useState(!1),[L,te]=d.useState(0),[$,ee]=d.useState(null),re=d.useRef(null),ce=d.useRef(!1),Ee=d.useRef(null),Z=L>0?L:N!=null&&N.duration?parseInt(N.duration):0,[ae,he]=d.useState(!1),[ge,ie]=d.useState(0),we=B?r5(B):null;d.useEffect(()=>{console.log(" YouTube URL/ID :",{youtubeUrl:B,youtubeVideoId:we,extractedFrom:B})},[B,we]);const{isConnected:be,connectionStatus:Be,connect:ht,disconnect:W,sendChatMessage:O,sendVideoControl:q,reconnectAttempts:X}=I3({roomId:e,userId:n,onChatMessage:d.useCallback(K=>{S(pe=>[...pe,K])},[]),onParticipantsUpdate:d.useCallback(K=>{console.log(" Participants updated:",K);const pe=(K.participantDtoList??[]).map(Ge=>({userId:Ge.id,userName:Ge.username,userAvatar:Ge.profile,isHost:Ge.isOwner,isOnline:Ge.isOnline??!0,joinedAt:Ge.joinedAt??""}));P(pe);const Oe=pe.find(Ge=>Ge.userId===n),se=(Oe==null?void 0:Oe.isHost)||!1;console.log(" Host status check:",{currentUserId:n,currentUserParticipant:Oe,newIsHost:se,allParticipants:pe}),_(se)},[n]),onVideoSync:d.useCallback(K=>{console.log(" Video sync received:",{action:K.videoControlAction,currentTime:K.currentTime,isPlaying:K.isPlaying,timestamp:K.timestamp,timestampAge:Date.now()-K.timestamp,isHost:k});const pe=K.timestamp===0||Date.now()-K.timestamp<1e4;pe&&V&&V.syncVideo?(console.log(" Executing video sync"),V.syncVideo({action:K.videoControlAction,currentTime:K.currentTime,isPlaying:K.isPlaying}),console.log(" Video sync successful")):console.log(" Video sync ignored:",{isValidTimestamp:pe,hasPlayerController:!!V}),he(K.isPlaying),ie(K.currentTime)},[k]),onRoomSync:d.useCallback(K=>{var Nr;console.log(" Room sync received:",K);const pe={id:K.id,title:K.title,contentDto:K.content,ownerId:"",ownerName:"",createdAt:"",headCount:K.participantsInfoDto.participantsCount||K.participantsInfoDto.participantCount,contentTitle:K.content.title,contentId:K.content.id};y(pe),E(K.content);const se=(K.participantsInfoDto.participantDtoList||[]).map(ct=>({userId:ct.id,userName:ct.username,userAvatar:ct.profile,isHost:ct.isOwner,isOnline:ct.isOnline??!0,joinedAt:ct.joinedAt??""}));P(se),S(K.chatMessages??[]);const Ge=se.find(ct=>ct.userId===n),pt=(Ge==null?void 0:Ge.isHost)||!1;if(console.log(" Host status check (room sync):",{currentUserId:n,currentUserParticipant:Ge,newIsHost:pt,allParticipants:se}),_(pt),(Nr=K.content)!=null&&Nr.youtubeUrl?(console.log(" Setting YouTube URL from content.youtubeUrl:",K.content.youtubeUrl),M(K.content.youtubeUrl)):(console.warn(" No content.youtubeUrl provided"),M(null)),K.playTime!==void 0&&K.isPlaying!==void 0){console.log(" Storing initial sync data from roomInfo:",{playTime:K.playTime,isPlaying:K.isPlaying});const ct={videoControlAction:K.isPlaying?Er.PLAY:Er.PAUSE,currentTime:K.playTime,isPlaying:K.isPlaying,timestamp:Date.now()};ee(ct)}else K.videoSyncDto?(console.log(" Fallback: Storing initial videoSyncDto:",K.videoSyncDto),ee(K.videoSyncDto)):ee(null);I(!1)},[n]),onError:d.useCallback(K=>{Y(K)},[])}),F=d.useCallback((K,pe,Oe)=>{const se=typeof pe=="number"?Math.round(pe*100)/100:0;console.log(" Video state changed:",{isPlaying:K,currentTime:se,action:Oe,isHost:k,isConnected:be,rawCurrentTime:pe}),he(K),ie(se)},[k,be]),V=O3({videoId:we||"",containerId:"youtube-player-container",isHost:k,onStateChange:F,onError:d.useCallback(K=>{console.error("YouTube Player Error:",K),Y(K)},[]),onTimeUpdate:d.useCallback(K=>{ie(Math.round(K*100)/100)},[])}),oe=!!(we&&l);d.useEffect(()=>{const K=async()=>{var Oe;if(ce.current){console.log(" loadInitialData   ,   ");return}ce.current=!0,console.log(" loadInitialData  :",{roomId:e,userId:n}),I(!0),Y(null);try{const se=await Ga.joinWatchRoom(e);console.log(" Room info loaded:",se);const Ge={id:se.id,title:se.title,contentDto:se.content,ownerId:"",ownerName:"",createdAt:"",headCount:se.participantsInfoDto.participantsCount||se.participantsInfoDto.participantCount,contentTitle:se.content.title,contentId:se.content.id};if(y(Ge),E(se.content),console.log(" Initial host status set to false (will be updated via WebSocket)"),_(!1),he(!1),ie(0),S([]),(Oe=se.content)!=null&&Oe.youtubeUrl?(console.log(" Initial: Setting YouTube URL from content.youtubeUrl:",se.content.youtubeUrl),M(se.content.youtubeUrl)):(console.warn(" Initial: No content.youtubeUrl provided"),M(null)),se.playTime!==void 0&&se.isPlaying!==void 0){console.log(" Initial: Storing initial sync data from roomInfo:",{playTime:se.playTime,isPlaying:se.isPlaying});const pt={videoControlAction:se.isPlaying?Er.PLAY:Er.PAUSE,currentTime:se.playTime,isPlaying:se.isPlaying,timestamp:Date.now()};ee(pt)}else se.videoSyncDto?(console.log(" Initial: Fallback: Storing initial videoSyncDto:",se.videoSyncDto),ee(se.videoSyncDto)):ee(null);console.log(" loadInitialData "),r&&ht()}catch(se){console.error("Failed to load room data:",se),Y(se instanceof Error?se.message:"     .")}finally{I(!1),ce.current=!1}},pe=setTimeout(()=>{K()},0);return()=>{clearTimeout(pe)}},[e,n,r]),d.useEffect(()=>{if(V!=null&&V.isReady&&V.syncVideo&&$){console.log(" Applying initial video sync now that player is ready:",$);const K={action:$.videoControlAction,currentTime:$.currentTime,isPlaying:$.isPlaying};V.syncVideo(K),he($.isPlaying),ie($.currentTime),ee(null)}},[V,$]),d.useEffect(()=>{var K;(K=re.current)==null||K.scrollIntoView({behavior:"smooth"})},[T]),d.useEffect(()=>{if(V!=null&&V.isReady&&L===0)try{const K=V.getDuration();console.log(" YouTube  :",K,""),K>0&&te(Math.floor(K))}catch(K){console.error("    :",K)}},[V==null?void 0:V.isReady,L,V]),d.useEffect(()=>{var K;console.log(" Host Status Debug:",{isHost:k,userId:n,participants:R.map(pe=>({userId:pe.userId,userName:pe.userName,isHost:pe.isHost})),canUsePlayer:oe,isConnected:be,currentUserIsHost:((K=R.find(pe=>pe.userId===n))==null?void 0:K.isHost)||!1})},[k,n,R,oe,be]);const de=()=>{if(!k||!oe||!be){console.log(" Cannot control video:",{isHost:k,canUsePlayer:oe,isConnected:be}),k||A(!0);return}const K=ae?Er.PAUSE:Er.PLAY,pe=(V==null?void 0:V.getCurrentTime())||0;console.log(" Host sending video control:",{action:K,currentTime:pe,isPlaying:ae}),q({videoControlAction:K,currentTime:pe})},ye=()=>{g(!0)},ke=()=>{g(!1),W(),t()},me=K=>{var pe;if(console.log(" Seek requested:",{isHost:k,seconds:K,isConnected:be,canUsePlayer:oe}),!k){console.log(" Not host, cannot seek video"),A(!0);return}if(!oe){console.log(" Player not ready, cannot seek video");return}try{const Oe=((pe=V==null?void 0:V.getDuration)==null?void 0:pe.call(V))||Z;let se=K;Oe&&K>Oe&&(se=Oe,console.warn(" SEEK    ,  :",{requested:K,adjusted:se,maxDuration:Oe})),se<0&&(se=0),console.log(" SEEK -   :",{originalSeconds:K,validSeekTime:se,maxDuration:Oe}),q({videoControlAction:Er.SEEK,currentTime:se})}catch(Oe){console.error(" SEEK   :",Oe)}},ue=K=>{V.setVolume(K),console.log(`Volume changed to: ${K}%`)},Le=()=>{i(!a),u(!!a)},yt=()=>{!m.trim()||!be||(O(m),console.log("Sending message:",m),p(""))},it=K=>new Date(K).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return C?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!r&&!be?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:((mt=v==null?void 0:v.contentDto)==null?void 0:mt.title)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(zt,{className:"w-4 h-4"}),o.jsxs("span",{children:[(v==null?void 0:v.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Od,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(U,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs(U,{onClick:ht,className:"teal-gradient hover:opacity-80 text-black",children:[Be==="connecting"?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(zt,{className:"w-4 h-4 mr-2"})," "]})]})]})}):D?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:D}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(U,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx(U,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):v?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!a&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(U,{variant:"ghost",onClick:ye,className:"hover:bg-white/10",children:[o.jsx(jo,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:v.title}),k&&o.jsxs(mn,{variant:"secondary",className:"text-xs",children:[o.jsx(qs,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:N?N.title:(Qe=v.contentDto)==null?void 0:Qe.title}),N&&N.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:N.contentType})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(zt,{className:"w-4 h-4"}),o.jsxs("span",{children:[R.filter(K=>K.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[be?o.jsx($C,{className:"w-4 h-4 text-green-400"}):o.jsx(MC,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:be?"text-green-400":"text-yellow-400",children:be?"":Be==="connecting"?" ":" "}),X>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",X,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(U,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(Od,{className:"w-5 h-5"}),c?o.jsx(Rr,{className:"w-4 h-4 ml-1"}):o.jsx(da,{className:"w-4 h-4 ml-1"})]})})]}),!be&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:Be==="connecting"?"   ...":Be==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{ref:Ee,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API  ..."})]})}),l&&!we&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[N&&N.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:N.thumbnailUrl,alt:N.title,className:"w-full h-full object-cover",onError:K=>{const pe=K.target;pe.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Et,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60 mb-2",children:N?N.title:"   ..."}),B?o.jsxs("p",{className:"text-white/40 text-sm",children:["YouTube  ID   ",o.jsx("br",{}),"URL: ",B]}):o.jsx("p",{className:"text-white/40 text-sm",children:" YouTube URL  "})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:oe?"block":"none",position:"relative",zIndex:1,pointerEvents:"auto"}}),!oe&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((nt=(lt=v==null?void 0:v.contentDto)==null?void 0:lt.title)==null?void 0:nt.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:`absolute inset-0 bg-black/30 flex items-center justify-center transition-opacity duration-300 ${ae&&!w?"opacity-0":"opacity-100"}`,style:{zIndex:10,pointerEvents:ae&&!w?"none":"auto"},children:[o.jsx(U,{size:"lg",onClick:()=>{console.log("    !",{isHost:k,disabled:!k}),de()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:!k,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${k?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,style:{position:"relative",zIndex:20,pointerEvents:k?"auto":"none"},children:ae?o.jsx(I0,{className:"w-10 h-10 fill-current"}):o.jsx(Et,{className:"w-10 h-10 fill-current ml-1"})}),!k&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(qs,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 bg-black/50 backdrop-blur-sm
                        transition-opacity duration-300 z-50
                        ${ae&&!w&&!a?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}
                        ${a?"hidden":""} `,children:o.jsx(t5,{playerController:V,isHost:k,isPlaying:ae,currentTime:ge,totalDuration:Z,onPlayPause:de,onSeek:me,onVolumeChange:ue,onFullscreenToggle:Le,isFullscreen:a,disabled:!be||!oe,onPermissionDenied:()=>A(!0)})}),a&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>f(!h),className:"p-1 hover:bg-white/10",children:o.jsx(zt,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[R.filter(K=>K.isOnline).length,"  "]})]}),h&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${R.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:R.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):R.map(K=>{var pe;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(st,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{K.userId!==n&&s&&s(K.userId)},children:[o.jsx(ot,{src:K.userAvatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:((pe=K.userName)==null?void 0:pe.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${K.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{K.userId!==n&&s&&s(K.userId)},children:K.userName}),K.isHost&&o.jsxs(mn,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(qs,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${K.isOnline?"bg-green-400":"bg-gray-400"}`})]},K.userId+K.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[C&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),T.map(K=>{var pe,Oe;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(st,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(ot,{src:(pe=R.find(se=>se.userId===K.senderId))==null?void 0:pe.userAvatar}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-xs",children:K.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:K.senderName}),((Oe=R.find(se=>se.userId===K.senderId))==null?void 0:Oe.isHost)&&o.jsx(qs,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:it(K.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:K.content})]})]})},K.id)}),o.jsx("div",{ref:re})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Ve,{placeholder:be?" ...":"  ...",value:m,onChange:K=>p(K.target.value),onKeyPress:K=>K.key==="Enter"&&yt(),disabled:!be,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx(U,{onClick:yt,disabled:!m.trim()||!be,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(vh,{className:"w-4 h-4"})})]})})]})})]}),o.jsx(n5,{open:j,onClose:()=>A(!1)}),o.jsx(Gh,{open:b,onOpenChange:g,children:o.jsxs(Xh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(qh,{children:[o.jsx(Jh,{className:"text-white",children:" "}),o.jsx(Zh,{className:"text-white/70",children:k?"   .  ?":" ?"})]}),o.jsxs(Qh,{children:[o.jsx(Hw,{onClick:()=>g(!1),className:"border-white/20 hover:bg-white/5 text-white",children:""}),o.jsx(em,{onClick:ke,className:"bg-red-600 hover:bg-red-700 text-white",children:""})]})]})})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function o5({onJoinRoom:e,onCreateRoom:t,currentUserId:n}){const[r,s]=d.useState(""),[a,i]=d.useState("participants"),[l,c]=d.useState([]),[u,h]=d.useState(!0),[f,m]=d.useState(null),[p,w]=d.useState(!1),[x,b]=d.useState(null),g=async(E=!0)=>{try{E?h(!0):w(!0),m(null);const R=await Ga.getWatchRooms({query:r,sortBy:a==="participants"?"participantCount":"createdAt"});c(R)}catch(R){console.error("   :",R),m(R instanceof Error?R.message:"     .")}finally{h(!1),w(!1)}};d.useEffect(()=>{const E=setTimeout(()=>{g(!1)},300);return()=>clearTimeout(E)},[r,a]),d.useEffect(()=>{g(!0)},[]);const v=l.filter(E=>E.headCount>=10),y=l,N=async E=>{if(!x){b(E.id);try{await(e==null?void 0:e(E))}finally{b(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(U,{onClick:()=>g(!1),disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[p?o.jsx(tn,{className:"w-4 h-4 animate-spin"}):o.jsx(ps,{className:"w-4 h-4"}),""]}),o.jsxs(U,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ve,{placeholder:" , ,  ...",value:r,onChange:E=>s(E.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Vh,{value:a,onValueChange:E=>i(E),children:[o.jsx(Kh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Hh,{placeholder:""})}),o.jsxs(Yh,{children:[o.jsx(Vn,{value:"participants",children:"  "}),o.jsx(Vn,{value:"latest",children:""}),o.jsx(Vn,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",y.length,"  "]}),o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4] border border-[#4ecdc4]/30",children:[o.jsx(zt,{className:"w-3 h-3 mr-1 inline"}),""]})]})]}),f&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:f}),o.jsx(U,{onClick:()=>g(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!u&&!f&&o.jsxs(o.Fragment,{children:[!r&&v.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(xh,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(E=>{var R,P,T;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(R=E.contentDto)!=null&&R.thumbnailUrl?o.jsx("img",{src:E.contentDto.thumbnailUrl,alt:E.contentDto.title,className:"w-full h-full object-cover",onError:S=>{var k;S.currentTarget.style.display="none",(k=S.currentTarget.nextElementSibling)==null||k.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(P=E.contentDto)!=null&&P.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",E.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(U,{size:"sm",onClick:S=>{S.stopPropagation(),N(E)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===E.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(T=E.contentDto)==null?void 0:T.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[E.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ps,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[E.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",E.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},E.id)})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(E=>{var R,P,T;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(R=E.contentDto)!=null&&R.thumbnailUrl?o.jsx("img",{src:E.contentDto.thumbnailUrl,alt:E.contentDto.title,className:"w-full h-full object-cover",onError:S=>{var k;S.currentTarget.style.display="none",(k=S.currentTarget.nextElementSibling)==null||k.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(P=E.contentDto)!=null&&P.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",E.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(U,{size:"sm",onClick:S=>{S.stopPropagation(),N(E)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===E.id?o.jsx(tn,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(T=E.contentDto)==null?void 0:T.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[E.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ps,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[E.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",E.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},E.id)})})]}),y.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(zt,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:r?"  .":n?"   .":"      ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[r&&o.jsx(U,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"  "}),n?o.jsxs(U,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"  "]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/40 text-sm mb-2",children:"   "}),o.jsx(U,{variant:"outline",onClick:()=>window.location.reload(),className:"border-[#4ecdc4]/30 text-[#4ecdc4] hover:bg-[#4ecdc4]/10",children:""})]})]})]})]})]})})}var Mc="Switch",[a5,U5]=Ln(Mc),[i5,l5]=a5(Mc),P1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,p]=d.useState(null),w=Pe(t,y=>p(y)),x=d.useRef(!1),b=m?h||!!m.closest("form"):!0,[g,v]=bs({prop:s,defaultProp:a??!1,onChange:u,caller:Mc});return o.jsxs(i5,{scope:n,checked:g,disabled:l,children:[o.jsx(Ne.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":I1(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:Se(e.onClick,y=>{v(N=>!N),b&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),b&&o.jsx(A1,{control:m,bubbles:!x.current,name:r,value:c,checked:g,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});P1.displayName=Mc;var R1="SwitchThumb",_1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=l5(R1,n);return o.jsx(Ne.span,{"data-state":I1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});_1.displayName=R1;var c5="SwitchBubbleInput",A1=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=d.useRef(null),l=Pe(i,a),c=Bh(n),u=zh(t);return d.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(h,n),h.dispatchEvent(w)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});A1.displayName=c5;function I1(e){return e?"checked":"unchecked"}var u5=P1,d5=_1;function f5({className:e,...t}){return o.jsx(u5,{"data-slot":"switch",className:Te("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(d5,{"data-slot":"switch-thumb",className:Te("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Qg({isOpen:e,onClose:t,onCreateWatchParty:n,content:r}){const[s,a]=d.useState(!0),[i,l]=d.useState("");d.useEffect(()=>{r&&e&&l(`${r.title} `)},[r,e]);const c=()=>{const u={isPublic:s,roomName:i||`${r==null?void 0:r.title} `};n(u)};return r?o.jsx(vc,{open:e,onOpenChange:t,children:o.jsxs(xc,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(yc,{children:o.jsxs(wc,{className:"flex items-center space-x-2",children:[o.jsx(zt,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:" "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover",onError:u=>{const h=u.target;h.style.display="none",h.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:r.title}),o.jsx("p",{className:"text-sm text-white/60",children:r.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:r.description})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(zt,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(Ve,{id:"roomName",value:i,onChange:u=>l(u.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[s?o.jsx(Ol,{className:"w-4 h-4 text-green-400"}):o.jsx(Ll,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Dt,{htmlFor:"isPublic",className:"text-sm",children:s?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:s?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(f5,{id:"isPublic",checked:s,onCheckedChange:a,disabled:!0})})]})}),o.jsxs(U,{onClick:c,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!i.trim(),children:[o.jsx(zt,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})]})}):null}function Jg({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:a}){const[i,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(""),[b,g]=d.useState(!0),[v,y]=d.useState([]),[N,E]=d.useState(!1);d.useEffect(()=>{e&&R()},[e]);const R=async()=>{try{E(!0);const I=await r();y(I)}catch(I){console.error("Error loading playlists:",I)}finally{E(!1)}},P=v.filter(I=>I.title.toLowerCase().includes(i.toLowerCase())||I.description.toLowerCase().includes(i.toLowerCase())),T=I=>{u(D=>D.includes(I)?D.filter(Y=>Y!==I):[...D,I])},S=async()=>{if(n)try{const I=c.map(D=>a(D,[n.id]));await Promise.all(I),alert(`"${n.title}"() ${c.length}  .`),u([]),l(""),t()}catch(I){console.error("   :",I),alert("     .")}},k=async()=>{if(!(!m.trim()||!n))try{const I=await s({name:m,description:w,isPublic:b});await a(I.id,[n.id]),alert(`  "${m}"()  "${n.title}"() .`),p(""),x(""),g(!0),f(!1),t()}catch(I){console.error("Error creating playlist:",I),alert("    .")}},_=()=>{u([]),l(""),f(!1),p(""),x(""),g(!0)},C=()=>{_(),t()};return n?o.jsx(vc,{open:e,onOpenChange:C,children:o.jsxs(xc,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(yc,{children:o.jsx(wc,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(st,{className:"h-12 w-12 rounded-lg",children:[o.jsx(ot,{src:n.thumbnail,className:"object-cover"}),o.jsx(at,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"":n.type==="tv"?"TV":"","  ",n.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ve,{placeholder:" ",value:m,onChange:I=>p(I.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Ve,{placeholder:" ()",value:w,onChange:I=>x(I.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[b?o.jsx(Ol,{className:"w-4 h-4 text-green-400"}):o.jsx(Ll,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:b?"":""})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>g(!b),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(U,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx(U,{onClick:k,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Ve,{placeholder:" ...",value:i,onChange:I=>l(I.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(U,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:N?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):P.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:i?"  ":" "}):P.map(I=>o.jsxs("div",{onClick:()=>T(I.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(I.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(st,{className:"h-10 w-10 rounded-lg",children:[o.jsx(ot,{src:I.thumbnail,className:"object-cover"}),o.jsx(at,{children:I.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:I.title}),I.isPublic?o.jsx(Ol,{className:"w-3 h-3 text-green-400"}):o.jsx(Ll,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[I.contentCount," "]})]}),c.includes(I.id)&&o.jsx(ro,{className:"w-5 h-5 text-[#4ecdc4]"})]},I.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(U,{variant:"outline",onClick:C,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs(U,{onClick:S,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function Zg({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState(""),[m,p]=d.useState("select"),[w,x]=d.useState(!1),[b,g]=d.useState(null),[v,y]=d.useState([]),[N,E]=d.useState(!1),[R,P]=d.useState(!1),[T,S]=d.useState(),[k,_]=d.useState(!1),C=async(j=!1)=>{try{j?_(!0):E(!0),g(null);const A=await fs.getContents({type:i==="all"?void 0:i.toUpperCase(),query:s||void 0,cursor:j?T:void 0,size:20});y(j?L=>[...L,...A.data]:A.data),P(A.hasNext),S(A.nextCursor)}catch(A){console.error("  :",A),g(A instanceof Error?A.message:"    .")}finally{E(!1),_(!1)}};d.useEffect(()=>{e&&C(!1)},[e]),d.useEffect(()=>{if(!e)return;const j=setTimeout(()=>{C(!1)},300);return()=>clearTimeout(j)},[s,i,e]);const I=()=>{R&&!N&&!k&&C(!0)},D=j=>{u(j),f(`${j.title} `),p("create"),g(null)},Y=async()=>{if(!c||!h.trim()){g("  .");return}x(!0),g(null);try{const j={contentId:c.id,ownerId:r,title:h.trim()},A=await Ga.createWatchRoom(j),L=`room-content-${A.id}`;localStorage.setItem(L,JSON.stringify({contentId:c.id,contentData:c,savedAt:Date.now()})),n(A),B()}catch(j){console.error("  :",j),g(j instanceof Error?j.message:"    .")}finally{x(!1)}},B=()=>{a(""),l("all"),u(null),f(""),p("select"),x(!1),g(null),y([]),E(!1),P(!1),S(void 0),_(!1),t()},M=j=>{switch(j){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:m,selectedContent:c,loading:N}),o.jsx(vc,{open:e,onOpenChange:B,children:o.jsxs(xc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(yc,{children:o.jsx(wc,{className:"text-xl",children:m==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),m==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ve,{placeholder:" ...",value:s,onChange:j=>a(j.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(Vh,{value:i,onValueChange:l,children:[o.jsx(Kh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Hh,{placeholder:""})}),o.jsxs(Yh,{children:[o.jsx(Vn,{value:"all",children:""}),o.jsx(Vn,{value:"movie",children:""}),o.jsx(Vn,{value:"tv",children:"TV/"}),o.jsx(Vn,{value:"sports",children:""})]})]})]}),N&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(tn,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),b&&!N&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:b}),o.jsx(U,{onClick:()=>C(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!N&&!b&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[v.map(j=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>D(j),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:j.thumbnail||j.thumbnailUrl,alt:j.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{const L=A.target;L.style.display="none";const te=L.parentElement;if(te&&!te.querySelector(".image-fallback")){const $=document.createElement("div");$.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",$.textContent=j.title.charAt(0).toUpperCase(),te.appendChild($)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(U,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:w,children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:j.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:j.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[j.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:`w-3 h-3 ${j.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-xs",children:j.avgRating.toFixed(2)})]}),o.jsx(mn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:M(j.contentType)})]})]})]},j.id)),R&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx(U,{onClick:I,disabled:k||w,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:k?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!N&&!b&&v.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx(U,{variant:"outline",onClick:()=>{a(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail||c.thumbnailUrl,alt:c.title,className:"w-full h-full object-cover",onError:j=>{const A=j.target;A.style.display="none";const L=A.parentElement;if(L&&!L.querySelector(".image-fallback")){const te=document.createElement("div");te.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",te.textContent=c.title.charAt(0).toUpperCase(),L.appendChild(te)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[c.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xr,{className:`w-4 h-4 ${c.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:c.avgRating.toFixed(2)})]}),o.jsx(mn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:M(c.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:" "}),o.jsx(Ve,{id:"room-title",placeholder:"  ...",value:h,onChange:j=>f(j.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[h.length,"/50"]})]}),b&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:b})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(U,{variant:"outline",onClick:()=>{p("select"),u(null),f(""),g(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:w,children:""}),o.jsx(U,{onClick:Y,disabled:!c||!h.trim()||w,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:w?o.jsxs(o.Fragment,{children:[o.jsx(tn,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var Lu="rovingFocusGroup.onEntryFocus",h5={bubbles:!1,cancelable:!0},li="RovingFocusGroup",[ff,D1,m5]=_h(li),[p5,O1]=Ln(li,[m5]),[g5,v5]=p5(li),L1=d.forwardRef((e,t)=>o.jsx(ff.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ff.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(x5,{...e,ref:t})})}));L1.displayName=li;var x5=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),p=Pe(t,m),w=Xa(a),[x,b]=bs({prop:i,defaultProp:l??null,onChange:c,caller:li}),[g,v]=d.useState(!1),y=It(u),N=D1(n),E=d.useRef(!1),[R,P]=d.useState(0);return d.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Lu,y),()=>T.removeEventListener(Lu,y)},[y]),o.jsx(g5,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(T=>b(T),[b]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>P(T=>T+1),[]),onFocusableItemRemove:d.useCallback(()=>P(T=>T-1),[]),children:o.jsx(Ne.div,{tabIndex:g||R===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Se(e.onMouseDown,()=>{E.current=!0}),onFocus:Se(e.onFocus,T=>{const S=!E.current;if(T.target===T.currentTarget&&S&&!g){const k=new CustomEvent(Lu,h5);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const _=N().filter(B=>B.focusable),C=_.find(B=>B.active),I=_.find(B=>B.id===x),Y=[C,I,..._].filter(Boolean).map(B=>B.ref.current);z1(Y,h)}}E.current=!1}),onBlur:Se(e.onBlur,()=>v(!1))})})}),M1="RovingFocusGroupItem",$1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Hr(),u=a||c,h=v5(M1,n),f=h.currentTabStopId===u,m=D1(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:x}=h;return d.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),o.jsx(ff.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Ne.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Se(e.onMouseDown,b=>{r?h.onItemFocus(u):b.preventDefault()}),onFocus:Se(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:Se(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=b5(b,h.orientation,h.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=m().filter(N=>N.focusable).map(N=>N.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const N=y.indexOf(b.currentTarget);y=h.loop?S5(y,N+1):y.slice(N+1)}setTimeout(()=>z1(y))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});$1.displayName=M1;var y5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function b5(e,t,n){const r=w5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return y5[r]}function z1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function S5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var N5=L1,j5=$1,$c="Tabs",[C5,B5]=Ln($c,[O1]),F1=O1(),[k5,ym]=C5($c),U1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Xa(l),[f,m]=bs({prop:r,onChange:s,defaultProp:a??"",caller:$c});return o.jsx(k5,{scope:n,baseId:Hr(),value:f,onValueChange:m,orientation:i,dir:h,activationMode:c,children:o.jsx(Ne.div,{dir:h,"data-orientation":i,...u,ref:t})})});U1.displayName=$c;var B1="TabsList",W1=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=ym(B1,n),i=F1(n);return o.jsx(N5,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(Ne.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});W1.displayName=B1;var V1="TabsTrigger",H1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=ym(V1,n),l=F1(n),c=G1(i.baseId,r),u=X1(i.baseId,r),h=r===i.value;return o.jsx(j5,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Ne.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Se(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Se(e.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!s&&f&&i.onValueChange(r)})})})});H1.displayName=V1;var K1="TabsContent",Y1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=ym(K1,n),c=G1(l.baseId,r),u=X1(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(wr,{present:s||h,children:({present:m})=>o.jsx(Ne.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});Y1.displayName=K1;function G1(e,t){return`${e}-trigger-${t}`}function X1(e,t){return`${e}-content-${t}`}var E5=U1,T5=W1,P5=H1,R5=Y1;function _5({className:e,...t}){return o.jsx(E5,{"data-slot":"tabs",className:Te("flex flex-col gap-2",e),...t})}function A5({className:e,...t}){return o.jsx(T5,{"data-slot":"tabs-list",className:Te("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Mu({className:e,...t}){return o.jsx(P5,{"data-slot":"tabs-trigger",className:Te("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function $u({className:e,...t}){return o.jsx(R5,{"data-slot":"tabs-content",className:Te("flex-1 outline-none",e),...t})}function I5({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s}){const[a,i]=d.useState(null),[l,c]=d.useState([]),[u,h]=d.useState([]),[f,m]=d.useState([]),[p,w]=d.useState(!1),[x,b]=d.useState(!0),[g,v]=d.useState(null),[y,N]=d.useState(!1),E=e===t,R=async()=>{try{console.log("   :",e);const C=await r(`http://localhost:8080/api/users/${e}`);if(console.log("   :",{status:C.status,statusText:C.statusText,headers:Object.fromEntries(C.headers.entries())}),!C.ok){const D=await C.text();throw console.error("   :",{status:C.status,statusText:C.statusText,errorText:D}),new Error(`   . (${C.status})`)}const I=await C.json();console.log("   :",I),i(I)}catch(C){console.error("   :",C),v(C instanceof Error?C.message:"    .")}},P=async()=>{try{const C=await r(`http://localhost:8080/api/follows/${e}/followers`);if(!C.ok)throw new Error("   .");const I=await C.json();c(I)}catch(C){console.error("   :",C)}},T=async()=>{try{const C=await r(`http://localhost:8080/api/follows/${e}/following`);if(!C.ok)throw new Error("   .");const I=await C.json();h(I)}catch(C){console.error("   :",C)}},S=async()=>{try{const C=await r(`http://localhost:8080/api/users/${e}/playlists`);if(!C.ok)throw new Error("  .");const I=await C.json();m(I)}catch(C){console.error("  :",C),m([])}},k=async()=>{if(!(!t||E))try{const C=await r(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!C.ok)throw new Error("   .");const I=await C.json();w(I)}catch(C){console.error("   :",C),w(!1)}},_=async()=>{if(!(!t||E)){N(!0);try{if(p){if(!(await r(`http://localhost:8080/api/follows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");w(!1),c(I=>I.filter(D=>D.id!==t))}else{const C=new FormData;if(C.append("followerId",t),C.append("followingId",e),!(await r(`http://localhost:8080/api/follows/${e}`,{method:"POST"})).ok)throw new Error(" .");w(!0),a&&c(D=>[...D,{id:t,name:"",email:"",profileImage:""}])}}catch(C){console.error("  :",C),alert(C instanceof Error?C.message:"    .")}finally{N(!1)}}};return d.useEffect(()=>{e&&(async()=>{b(!0),v(null),await Promise.allSettled([R(),P(),T(),t?k():Promise.resolve(),S()]),b(!1)})()},[e,t]),x?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):g?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:g}),o.jsx(U,{onClick:n,variant:"outline",children:""})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs(U,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(jo,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(st,{className:"h-32 w-32",children:[o.jsx(ot,{src:a.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:l.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:u.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:f.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!E&&o.jsx(U,{onClick:_,disabled:y,className:`${p?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:y?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):p?o.jsxs(o.Fragment,{children:[o.jsx(D0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(yh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(_5,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(A5,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(Mu,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Fp,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Mu,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(zt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Mu,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs($u,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(C=>{var I;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:C.name||C.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:C.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((I=C.contents)==null?void 0:I.length)||C.itemCount||0," "]})]})]},C.id)})}),f.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Fp,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs($u,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(C=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{C.id&&s&&s(C.id)},children:[o.jsxs(st,{className:"h-12 w-12",children:[o.jsx(ot,{src:C.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:C.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:C.name}),o.jsx("p",{className:"text-white/60 text-sm",children:C.email})]})]},C.id))}),l.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(zt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs($u,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(C=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{C.id&&s&&s(C.id)},children:[o.jsxs(st,{className:"h-12 w-12",children:[o.jsx(ot,{src:C.profileImage}),o.jsx(at,{className:"bg-[#4ecdc4] text-black",children:C.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:C.name}),o.jsx("p",{className:"text-white/60 text-sm",children:C.email})]})]},C.id))}),u.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Gr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx(U,{onClick:n,variant:"outline",children:""})]})})}function D5(){const[e,t]=d.useState(!1),[n,r]=d.useState(null),s=yr(),[a]=cC(),i=s.pathname,l=window.location.pathname==="/oauth/callback",c=a.get("id"),u=i.startsWith("/playlist")&&!!c,[h,f]=d.useState(()=>{if(u)return console.log("   : playlist-detail ( )"),"playlist-detail";const z=localStorage.getItem("currentPage")||"home";return console.log("   :",z),z}),m=z=>{try{if(!z||typeof z!="string")return console.error("  :",z),null;const H=z.split(".");if(H.length!==3)return console.error(" JWT :",z),null;const G=JSON.parse(atob(H[1])),J=G.userId||G.sub||G.id||null;return J||console.error("  ID   :",G),J}catch(H){return console.error("JWT   :",H,"Token:",z),null}},p=z=>{try{const H=JSON.parse(atob(z.split(".")[1])),G=Date.now()/1e3,J=H.exp,je=5,Xe=J<G+je;return console.log("  :",{currentTime:G,expTime:J,bufferTime:je,isExpired:Xe,timeUntilExpiry:J-G,payload:{...H,userId:H.userId||H.sub||H.id}}),Xe}catch(H){return console.error("   :",H),!0}},w=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),f("home")},x=(z,H=300)=>{try{const G=JSON.parse(atob(z.split(".")[1])),J=Date.now()/1e3,je=G.iat;return je&&J-je<H}catch(G){return console.error("    :",G),!1}},b=d.useRef(null),g=async()=>b.current?(console.log("    .   ."),b.current):(b.current=(async()=>{try{console.log("  ");const z=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",credentials:"include"});if(!z.ok)return console.log(`  : ${z.status} ${z.statusText}`),z.status===401?console.log("Refresh token ."):z.status===500&&console.log("    "),null;const H=await z.text();if(!H||H.trim()==="")return console.log("    "),null;const G=H.replace(/"/g,"");return console.log("  "),G}catch(z){return console.error("Token refresh :",z),null}finally{b.current=null}})(),b.current),v=async(z,H={})=>{let G=localStorage.getItem("accessToken");const J=G?m(G):null;if(console.log("authenticatedFetch :",{url:z,accessToken:G?" ":" ",userIdFromToken:J,currentUserId:n}),!G)throw console.error("  .  ."),w(),new Error("  .");if(p(G)&&!x(G)){console.log("   .");const cn=await g();if(cn){localStorage.setItem("accessToken",cn),G=cn;const Io=m(cn);Io&&r(Io)}else throw w(),new Error(" .  .")}else p(G)&&x(G)&&console.log("    .");const $n={"Content-Type":"application/json",...["http://localhost:8080/api/auth/login","http://localhost:8080/api/auth/refresh","http://localhost:8080/api/auth/change-password","http://localhost:8080/api/auth/temp-password","http://localhost:8080/api/users"].some(cn=>z.startsWith(cn))?{}:{Authorization:`Bearer ${G}`},...H.headers||{}},ci=await fetch(z,{...H,headers:$n,credentials:"include"});if(ci.status===401){console.log("401  ,   ");const cn=await g();if(cn){localStorage.setItem("accessToken",cn),G=cn;const Io=m(cn);Io&&r(Io),console.log("  ,  ");const oS={...$n,Authorization:`Bearer ${cn}`};return fetch(z,{...H,headers:oS,credentials:"include"})}else throw console.log("  ,  "),w(),new Error(" .  .")}if(ci.status===403)throw console.log(" ."),new Error("    .");if(ci.status===404)throw new Error("    .");return ci},y=async z=>{try{await v(`http://localhost:8080/api/notifications/${z}`,{method:"DELETE"})}catch(H){throw console.error("  :",H),H}},N=async()=>{try{await v("http://localhost:8080/api/notifications",{method:"DELETE"})}catch(z){throw console.error("   :",z),z}},E=async()=>{try{const z=await v("http://localhost:8080/api/dmRooms/");if(!z.ok)throw new Error("DM    ");return await z.json()}catch(z){throw console.error("DM    :",z),z}},R=async z=>{try{const H=await v(`http://localhost:8080/api/dmRooms/userRoom?userB=${z}`);if(!H.ok)throw new Error("DM  / ");return await H.json()}catch(H){throw console.error("DM  / :",H),H}},P=async(z,H)=>{try{const G=new URLSearchParams;H!=null&&H.cursor&&G.append("cursor",H.cursor),H!=null&&H.size&&G.append("size",H.size.toString());const J=await v(`http://localhost:8080/api/dmRooms/${z}/dms?${G}`);if(!J.ok)throw new Error("DM    ");return await J.json()}catch(G){throw console.error("DM    :",G),G}},T=async(z,H="all")=>{try{let G,J;if(H==="subscribed")G="http://localhost:8080/api/playlists/subscribed";else if(z&&z.trim()!==""){const Xe=new URLSearchParams;Xe.append("keyword",z.trim()),G=`http://localhost:8080/api/playlists/search?${Xe}`}else G="http://localhost:8080/api/playlists";if(console.log(" API :",G),J=await v(G),console.log("  :",J.status,J.statusText),!J.ok){let Xe="   ";try{const dt=await J.text();console.error("  :",dt),Xe=`${J.status} ${J.statusText}: ${dt}`}catch(dt){console.error("   :",dt)}throw new Error(Xe)}const je=await J.json();return console.log("  :",{url:G,status:J.status,dataType:Array.isArray(je)?` (: ${je.length})`:typeof je,data:Array.isArray(je)&&je.length>0?je.slice(0,2):je,headers:Object.fromEntries(J.headers.entries())}),Array.isArray(je)&&z&&z.trim()!==""?je.filter(dt=>dt.userId===n?!0:dt.isPublic===!0):je}catch(G){throw console.error("    :",G),G}},S=async z=>{try{const H=`http://localhost:8080/api/playlists/${z}`,G=u;console.log("   API :",H,{isSharedAccess:G,isSharedPlaylistPage:u});let J;if(G?(console.log("      "),J=await fetch(H)):J=await v(H),console.log("  :",J.status,J.statusText),!J.ok){let Xe="  ";if(G&&J.status===401)throw console.log("    "),new Error(" .   .");try{const dt=await J.text();console.error("  :",dt),Xe=`${J.status} ${J.statusText}: ${dt}`}catch(dt){console.error("   :",dt)}throw new Error(Xe)}const je=await J.json();return console.log("   :",{url:H,status:J.status,data:je}),je}catch(H){throw console.error("   :",H),H}},k=async z=>{var H,G;try{if(!z.name||z.name.trim()==="")throw new Error("  .");if(!n)throw new Error(" .");const J={name:z.name.trim(),description:z.description||"",isPublic:z.isPublic??!0};console.log("   :",J);const je=await v("http://localhost:8080/api/playlists",{method:"POST",body:JSON.stringify(J)});if(console.log("    :",je.status,je.statusText),!je.ok){let dt="  ";try{const $n=await je.json();console.error("   :",$n),dt=$n.message||dt}catch($n){console.error("Error parsing error response:",$n)}throw new Error(dt)}const Xe=await je.json();return console.log("   :",{createdPlaylist:Xe,createdBy:(H=Xe.user)==null?void 0:H.id,createdByName:(G=Xe.user)==null?void 0:G.name,currentUserId:n}),Xe}catch(J){throw console.error("  :",J),J}},_=async z=>{try{if(!n)throw new Error(" .");console.log("   :",z),await $l.deletePlaylist(z),console.log("   :",z)}catch(H){throw console.error("   :",H),H}},C=async(z,H)=>{try{if(!H||H.length===0)throw new Error("  .");const G={contentIds:H},J=await v(`http://localhost:8080/api/playlists/${z}/contents`,{method:"POST",body:JSON.stringify(G)});if(!J.ok){let dt="   ";try{dt=(await J.json()).message||dt}catch($n){console.error("Error parsing error response:",$n)}throw new Error(dt)}let je=null;const Xe=await J.text();return Xe&&(je=JSON.parse(Xe)),console.log("   :",je),je}catch(G){throw console.error("   :",G),G}},I=async(z,H)=>{try{if(!H||H.length===0)throw new Error("  .");const G={contentIds:H},J=await v(`http://localhost:8080/api/playlists/${z}/contents`,{method:"DELETE",body:JSON.stringify(G)});if(!J.ok){let je="   ";try{je=(await J.json()).message||je}catch(Xe){console.error("Error parsing error response:",Xe)}throw new Error(je)}console.log("   ")}catch(G){throw console.error("   :",G),G}},D=async z=>{try{if(!n)throw new Error(" ");console.log("   :",{userId:n,playlistId:z});const H={userId:n,playlistId:z};console.log("   :",H);const G=await v("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(console.log("   :",G.status,G.statusText),!G.ok){let J="  ";try{J=(await G.json()).message||J}catch(je){console.error("Error parsing error response:",je)}throw new Error(J)}console.log("  ")}catch(H){throw console.error("  :",H),H}},Y=async z=>{try{console.log("    :",{subscriptionId:z});const H=await v(`http://localhost:8080/api/subscriptions/${z}`,{method:"DELETE"});if(console.log("    :",H.status,H.statusText),!H.ok){let G="   ";try{G=(await H.json()).message||G}catch(J){console.error("Error parsing error response:",J)}throw new Error(G)}console.log("   ")}catch(H){throw console.error("   :",H),H}},[B,M]=d.useState(()=>u?a.get("id"):null),[j,A]=d.useState(null),[L,te]=d.useState(null),[$,ee]=d.useState(!1),[re,ce]=d.useState(!1),[Ee,Z]=d.useState(null),[ae,he]=d.useState(!1),[ge,ie]=d.useState(!1),[we,be]=d.useState(null),[Be,ht]=d.useState(0),[W,O]=d.useState(!1),[q,X]=d.useState(null),[F,V]=d.useState(!1),[oe,de]=d.useState(null),[ye,ke]=d.useState(!1),[me,ue]=d.useState(null),[Le,yt]=d.useState(!1),it=u,mt=()=>{const z=new URL(window.location.href);if(z.pathname==="/oauth/callback"){const G=z.searchParams.get("access_token");G?(lt(G),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}},Qe=()=>{const H=new URLSearchParams(window.location.search).get("playlist");H&&(console.log("    :",H),f("playlist-detail"),M(H),localStorage.setItem("currentPage","playlist-detail"),window.history.replaceState({},document.title,"/"),console.log("     "))};d.useEffect(()=>{(async()=>{mt(),Qe();const H=localStorage.getItem("accessToken");if(H){if(p(H)){console.log("  ,      "),w();return}const G=m(H);G?(r(G),t(!0)):(console.log("  ID  "),localStorage.removeItem("accessToken"),w())}})()},[]),d.useEffect(()=>{if(!e)return;const H=setInterval(async()=>{const G=localStorage.getItem("accessToken");if(G&&p(G)){console.log("  ,  ");const J=await g();if(J){localStorage.setItem("accessToken",J);const je=m(J);je&&r(je),console.log("  ")}else console.log("  ,  "),w()}},3e4);return()=>clearInterval(H)},[e]);const lt=z=>{localStorage.setItem("accessToken",z);const H=m(z);H?(r(H),t(!0)):(localStorage.removeItem("accessToken"),t(!1)),t(!0)},nt=z=>{if(console.log("  :",z),z==="create-room"){ke(!0);return}f(z),localStorage.setItem("currentPage",z);const H={page:z,selectedPlaylistId:B,selectedContentDetail:j,selectedUserId:L,currentWatchRoomId:me};window.history.pushState(H,"",window.location.pathname),console.log("   :",H),z!=="playlist-detail"&&M(null),z!=="watch-party"&&ue(null),z!=="content-detail"&&A(null),z!=="user-profile"&&te(null)};d.useEffect(()=>{localStorage.setItem("currentPage",h)},[h]),d.useEffect(()=>{const z=G=>{if(console.log(" popstate  :",G.state),G.state){console.log("    :",G.state);const J=G.state.page||"home";["watch-party","content-detail","user-profile"].includes(J)?J==="watch-party"&&!G.state.currentWatchRoomId?(console.log("    ID    "),f("live"),localStorage.setItem("currentPage","live")):J==="content-detail"&&!G.state.selectedContentDetail?(console.log("       "),f("home"),localStorage.setItem("currentPage","home")):J==="user-profile"&&!G.state.selectedUserId?(console.log("     ID   "),f("home"),localStorage.setItem("currentPage","home")):(f(J),localStorage.setItem("currentPage",J)):(f(J),localStorage.setItem("currentPage",J)),M(G.state.selectedPlaylistId||null),A(G.state.selectedContentDetail||null),te(G.state.selectedUserId||null),ue(G.state.currentWatchRoomId||null)}else{const J=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",J),["watch-party","content-detail","user-profile"].includes(J)?(console.log("       "),f("home"),localStorage.setItem("currentPage","home")):f(J),M(null),A(null),te(null),ue(null)}};return(()=>{const G=["watch-party","content-detail","user-profile"];let J=h;u?J="playlist-detail":G.includes(h)&&(h==="watch-party"&&!me||h==="content-detail"&&!j||h==="user-profile"&&!L)&&(J="home");const je={page:J,selectedPlaylistId:u?a.get("id"):B,selectedContentDetail:j,selectedUserId:L,currentWatchRoomId:me};J!==h&&(f(J),localStorage.setItem("currentPage",J),console.log("     :",h,"->",J)),window.history.replaceState(je,"",window.location.pathname),console.log("    :",je)})(),window.addEventListener("popstate",z),()=>{window.removeEventListener("popstate",z)}},[]),d.useLayoutEffect(()=>{if(!e&&u){const z=a.get("id");if(z){console.log("      playlist-detail "),M(z),console.log(" setSelectedPlaylistId   (id):",z),console.log(" setSelectedPlaylistId  selectedPlaylistId:",B),f("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const H={page:"playlist-detail",selectedPlaylistId:z,selectedContentDetail:j,selectedUserId:L,currentWatchRoomId:me};window.history.replaceState(H,"",window.location.pathname),console.log("     :",H)}}},[e,u,a]);const K=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),f("home")},pe=()=>{ee(!$)},Oe=async()=>{const z=prompt("    :");if(!(z!=null&&z.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.trim())){alert("   .");return}try{const G=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:z.trim()})});if(!G.ok){let J="   .";try{J=(await G.json()).message||J}catch(je){console.error("Error parsing error response:",je)}throw new Error(J)}alert(`${z}   .
       .`)}catch(G){console.error("   :",G),alert(G instanceof Error?G.message:"     .")}},se=z=>{M(z),f("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const H={page:"playlist-detail",selectedPlaylistId:z,selectedContentDetail:j,selectedUserId:L,currentWatchRoomId:me};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},Ge=()=>{M(null),f("playlist"),localStorage.setItem("currentPage","playlist");const z={page:"playlist",selectedPlaylistId:null,selectedContentDetail:j,selectedUserId:L,currentWatchRoomId:me};window.history.pushState(z,"",window.location.pathname),console.log("    :",z)},pt=z=>{A(z),f("content-detail"),localStorage.setItem("currentPage","content-detail");const H={page:"content-detail",selectedPlaylistId:B,selectedContentDetail:z,selectedUserId:L,currentWatchRoomId:me};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},Nr=()=>{let z="home";j&&(z={movie:"movies",tv:"tv",sports:"sports"}[j.type]||"home"),A(null),f(z),localStorage.setItem("currentPage",z);const H={page:z,selectedPlaylistId:B,selectedContentDetail:null,selectedUserId:L,currentWatchRoomId:me};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},ct=z=>{const H={...z,year:z.year||2024,rating:z.rating||4};de(H),V(!0)},Wt=()=>{V(!1),de(null)},Pt=z=>{X(z),O(!0)},xe=async z=>{if(!q)return;const H=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",z),console.log("Room code:",H);try{if(console.log("  :",{config:z,selectedContent:q}),!n){alert(" .");return}const G={contentId:q.id,ownerId:n,title:z.roomName},J=await Ga.createWatchRoom(G);console.log("  :",J),ue(J.id),yt(!0),f("watch-party"),localStorage.setItem("currentPage","watch-party"),console.log("  :",{roomId:J.id})}catch(G){console.error("  :",G),alert("  .  .")}O(!1),X(null)},ve=z=>{ue(z.id),yt(!1),f("watch-party"),localStorage.setItem("currentPage","watch-party");const H={page:"watch-party",selectedPlaylistId:B,selectedContentDetail:j,selectedUserId:L,currentWatchRoomId:z.id};window.history.pushState(H,"",window.location.pathname),console.log("    :",H)},Ce=z=>{ue(z.id),yt(!0),ke(!1),f("watch-party"),localStorage.setItem("currentPage","watch-party");const H={page:"watch-party",selectedPlaylistId:B,selectedContentDetail:j,selectedUserId:L,currentWatchRoomId:z.id};window.history.pushState(H,"",window.location.pathname),console.log("    :",H)},$e=()=>{ue(null),yt(!1),f("live"),localStorage.setItem("currentPage","live");const z={page:"live",selectedPlaylistId:B,selectedContentDetail:j,selectedUserId:L,currentWatchRoomId:null};window.history.pushState(z,"",window.location.pathname),console.log("    :",z)},ze=()=>{ke(!0)},Fe=()=>{ke(!1)},Ue=()=>{Z(null),ce(!0)},Je=()=>{ce(!1),Z(null)},ut=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},ln=z=>{te(z),f("user-profile"),localStorage.setItem("currentPage","user-profile");const H={page:"user-profile",selectedPlaylistId:B,selectedContentDetail:j,selectedUserId:z,currentWatchRoomId:me};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},q1=()=>{n&&ln(n)},Q1=()=>{te(null),f("home"),localStorage.setItem("currentPage","home");const z={page:"home",selectedPlaylistId:B,selectedContentDetail:j,selectedUserId:null,currentWatchRoomId:me};window.history.pushState(z,"",window.location.pathname),console.log("     :",z)},J1=()=>{ge?(ie(!1),be(null),he(!0)):he(!ae)},Z1=()=>{he(!1)},wm=()=>{he(!1),ie(!1),be(null)},eS=z=>{be(z),he(!1),ie(!0)},tS=()=>{ie(!1),be(null)},nS=()=>{ie(!1),be(null),he(!0)},rS=()=>{(ae||ge)&&wm()},sS=()=>{console.log("App.tsx - handleDMReceived "),console.log(" DM   - DM    "),ht(z=>{const H=z+1;return console.log(`dmRefreshTrigger : ${z} -> ${H}`),H})};if(console.log(" isLoggedIn:",e),console.log(" pathname:",i),console.log(" searchParams:",a.toString()),console.log(" isSharedPlaylistPage:",u),!e&&!l&&!u)return console.log("   :",{isLoggedIn:e,accessToken:localStorage.getItem("accessToken"),userId:n}),o.jsx("div",{children:o.jsx(kE,{onLogin:lt,onToggleAuth:pe,onForgotPassword:Oe,isRegister:$})});const bm=()=>{switch(console.log("  :",h),h){case"curation":return o.jsx(IE,{onContentPlay:Pt,onContentDetail:pt,onAddToPlaylist:ct,userId:n||void 0});case"movies":return o.jsx(ju,{category:"movies",onContentPlay:Pt,onContentDetail:pt,onAddToPlaylist:ct});case"tv":return o.jsx(ju,{category:"tv",onContentPlay:Pt,onContentDetail:pt,onAddToPlaylist:ct});case"sports":return o.jsx(ju,{category:"sports",onContentPlay:Pt,onContentDetail:pt,onAddToPlaylist:ct});case"playlist":return o.jsx(Zp,{onPlaylistOpen:se,getPlaylists:T,createPlaylist:k,subscribePlaylist:D,unsubscribePlaylist:Y,deletePlaylist:_,currentUserId:n||void 0,onUserProfileOpen:ln});case"playlist-detail":return console.log(" renderCurrentPage - playlist-detail , selectedPlaylistId:",B),console.log(" renderCurrentPage - playlist-detail  ",{selectedPlaylistId:B,isSharedPlaylistPage:u}),u&&!B?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"  ..."}):B?o.jsx(oT,{playlistId:B,onBack:Ge,onContentPlay:Pt,getPlaylistById:S,addPlaylistContents:C,deletePlaylistContents:I,deletePlaylist:_,currentUserId:n||void 0,isSharedAccess:it}):o.jsx(Zp,{onPlaylistOpen:se,getPlaylists:T,createPlaylist:k});case"content-detail":return j?o.jsx(gR,{content:j,onBack:Nr,onPlay:Pt,currentUser:n?{id:n,name:"",avatar:void 0}:void 0}):it?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:nt,onPlaylistOpen:se,onContentPlay:Pt,onJoinRoom:ve});case"watch-party":return me&&n?o.jsx(s5,{roomId:me,userId:n,onBack:$e,shouldConnect:Le,onUserProfileOpen:ln}):it?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:nt,onPlaylistOpen:se,onContentPlay:Pt,onJoinRoom:ve});case"user-profile":return L?o.jsx(I5,{userId:L,currentUserId:n,onBack:Q1,authenticatedFetch:v,onUserProfileOpen:ln},L):it?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:nt,onPlaylistOpen:se,onContentPlay:Pt,onJoinRoom:ve});case"live":return o.jsx(o5,{onJoinRoom:ve,onCreateRoom:ze,currentUserId:n});default:return it?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:nt,onPlaylistOpen:se,onContentPlay:Pt,onJoinRoom:ve})}};return h==="watch-party"||h==="content-detail"||h==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[bm(),o.jsx(Qg,{isOpen:W,onClose:()=>O(!1),onCreateWatchParty:xe,content:q}),o.jsx(Jg,{isOpen:F,onClose:Wt,content:oe,getPlaylists:T,createPlaylist:k,addPlaylistContents:C}),o.jsx(Zg,{isOpen:ye,onClose:Fe,onCreateRoom:Ce,userId:n||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(vE,{currentPage:h,onPageChange:nt,onProfileClick:Ue,onMyProfileClick:q1,onCloseDM:wm,onLogout:K,authenticatedFetch:v,userId:n,refreshUserProfile:ut,deleteNotification:y,deleteAllNotifications:N,refreshAccessToken:g,isSharedAccess:it,onDMReceived:sS}),o.jsx("main",{className:"flex-1",onClick:rS,children:bm()}),o.jsx(xE,{}),o.jsx(vR,{isOpen:re,onClose:Je,userId:n,targetUserId:Ee,authenticatedFetch:v,onUserProfileOpen:ln,refreshUserProfile:ut,onPlaylistOpen:se}),!it&&o.jsxs(o.Fragment,{children:[o.jsx(zR,{isOpen:ae,onClose:Z1,onOpenChat:eS,authenticatedFetch:v,currentUserId:n,getDmRooms:E,getOrCreateDmRoom:R,refreshTrigger:Be}),o.jsx(A3,{isOpen:ge,onClose:tS,onBack:nS,user:we,currentUserId:n,getDmMessages:P,refreshTrigger:Be})]}),o.jsx(Qg,{isOpen:W,onClose:()=>O(!1),onCreateWatchParty:xe,content:q}),o.jsx(Jg,{isOpen:F,onClose:Wt,content:oe,getPlaylists:T,createPlaylist:k,addPlaylistContents:C}),o.jsx(Zg,{isOpen:ye,onClose:Fe,onCreateRoom:Ce,userId:n||""}),!it&&o.jsx(U,{size:"lg",onClick:J1,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${ae||ge?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(Od,{className:"w-6 h-6"})}),o.jsx(dk,{richColors:!0,position:"top-center"})]})}zu.createRoot(document.getElementById("root")).render(o.jsx(ne.StrictMode,{children:o.jsx(sC,{children:o.jsx(D5,{})})}));
