var oS=Object.defineProperty;var aS=(e,t,n)=>t in e?oS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mt=(e,t,n)=>aS(e,typeof t!="symbol"?t+"":t,n);function iS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var lS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qg={exports:{}},Xl={},Qg={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),cS=Symbol.for("react.portal"),uS=Symbol.for("react.fragment"),dS=Symbol.for("react.strict_mode"),fS=Symbol.for("react.profiler"),hS=Symbol.for("react.provider"),mS=Symbol.for("react.context"),pS=Symbol.for("react.forward_ref"),gS=Symbol.for("react.suspense"),vS=Symbol.for("react.memo"),xS=Symbol.for("react.lazy"),ym=Symbol.iterator;function yS(e){return e===null||typeof e!="object"?null:(e=ym&&e[ym]||e["@@iterator"],typeof e=="function"?e:null)}var Jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zg=Object.assign,ev={};function yo(e,t,n){this.props=e,this.context=t,this.refs=ev,this.updater=n||Jg}yo.prototype.isReactComponent={};yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tv(){}tv.prototype=yo.prototype;function hf(e,t,n){this.props=e,this.context=t,this.refs=ev,this.updater=n||Jg}var mf=hf.prototype=new tv;mf.constructor=hf;Zg(mf,yo.prototype);mf.isPureReactComponent=!0;var wm=Array.isArray,nv=Object.prototype.hasOwnProperty,pf={current:null},rv={key:!0,ref:!0,__self:!0,__source:!0};function sv(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)nv.call(t,r)&&!rv.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:za,type:e,key:a,ref:i,props:s,_owner:pf.current}}function wS(e,t){return{$$typeof:za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gf(e){return typeof e=="object"&&e!==null&&e.$$typeof===za}function bS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bm=/\/+/g;function $c(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bS(""+e.key):t.toString(36)}function Hi(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case za:case cS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+$c(i,0):r,wm(s)?(n="",e!=null&&(n=e.replace(bm,"$&/")+"/"),Hi(s,t,n,"",function(u){return u})):s!=null&&(gf(s)&&(s=wS(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(bm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",wm(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+$c(a,l);i+=Hi(a,t,n,c,s)}else if(c=yS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+$c(a,l++),i+=Hi(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ci(e,t,n){if(e==null)return e;var r=[],s=0;return Hi(e,r,"","",function(a){return t.call(n,a,s++)}),r}function SS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},Ki={transition:null},NS={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:pf};function ov(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:ci,forEach:function(e,t,n){ci(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ci(e,function(){t++}),t},toArray:function(e){return ci(e,function(t){return t})||[]},only:function(e){if(!gf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=yo;_e.Fragment=uS;_e.Profiler=fS;_e.PureComponent=hf;_e.StrictMode=dS;_e.Suspense=gS;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;_e.act=ov;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zg({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=pf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nv.call(t,c)&&!rv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:za,type:e.type,key:s,ref:a,props:r,_owner:i}};_e.createContext=function(e){return e={$$typeof:mS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hS,_context:e},e.Consumer=e};_e.createElement=sv;_e.createFactory=function(e){var t=sv.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:pS,render:e}};_e.isValidElement=gf;_e.lazy=function(e){return{$$typeof:xS,_payload:{_status:-1,_result:e},_init:SS}};_e.memo=function(e,t){return{$$typeof:vS,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Ki.transition;Ki.transition={};try{e()}finally{Ki.transition=t}};_e.unstable_act=ov;_e.useCallback=function(e,t){return zt.current.useCallback(e,t)};_e.useContext=function(e){return zt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return zt.current.useEffect(e,t)};_e.useId=function(){return zt.current.useId()};_e.useImperativeHandle=function(e,t,n){return zt.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return zt.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return zt.current.useReducer(e,t,n)};_e.useRef=function(e){return zt.current.useRef(e)};_e.useState=function(e){return zt.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return zt.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return zt.current.useTransition()};_e.version="18.3.1";Qg.exports=_e;var d=Qg.exports;const te=ff(d),av=iS({__proto__:null,default:te},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=d,CS=Symbol.for("react.element"),kS=Symbol.for("react.fragment"),ES=Object.prototype.hasOwnProperty,TS=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RS={key:!0,ref:!0,__self:!0,__source:!0};function iv(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)ES.call(t,r)&&!RS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:CS,type:e,key:a,ref:i,props:s,_owner:TS.current}}Xl.Fragment=kS;Xl.jsx=iv;Xl.jsxs=iv;qg.exports=Xl;var o=qg.exports,Mu={},lv={exports:{}},sn={},cv={exports:{}},uv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,A){var z=j.length;j.push(A);e:for(;0<z;){var ne=z-1>>>1,M=j[ne];if(0<s(M,A))j[ne]=A,j[z]=M,z=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var A=j[0],z=j.pop();if(z!==A){j[0]=z;e:for(var ne=0,M=j.length,ee=M>>>1;ne<ee;){var se=2*(ne+1)-1,ue=j[se],Te=se+1,J=j[Te];if(0>s(ue,z))Te<M&&0>s(J,ue)?(j[ne]=J,j[Te]=z,ne=Te):(j[ne]=ue,j[se]=z,ne=se);else if(Te<M&&0>s(J,z))j[ne]=J,j[Te]=z,ne=Te;else break e}}return A}function s(j,A){var z=j.sortIndex-A.sortIndex;return z!==0?z:j.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,h=null,m=3,p=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=j)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function S(j){if(x=!1,y(j),!w)if(n(c)!==null)w=!0,U(k);else{var A=n(u);A!==null&&L(S,A.startTime-j)}}function k(j,A){w=!1,x&&(x=!1,g(N),N=-1),p=!0;var z=m;try{for(y(A),h=n(c);h!==null&&(!(h.expirationTime>A)||j&&!_());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,m=h.priorityLevel;var M=ne(h.expirationTime<=A);A=e.unstable_now(),typeof M=="function"?h.callback=M:h===n(c)&&r(c),y(A)}else r(c);h=n(c)}if(h!==null)var ee=!0;else{var se=n(u);se!==null&&L(S,se.startTime-A),ee=!1}return ee}finally{h=null,m=z,p=!1}}var P=!1,R=null,N=-1,C=5,T=-1;function _(){return!(e.unstable_now()-T<C)}function E(){if(R!==null){var j=e.unstable_now();T=j;var A=!0;try{A=R(!0,j)}finally{A?I():(P=!1,R=null)}}else P=!1}var I;if(typeof v=="function")I=function(){v(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,K=D.port2;D.port1.onmessage=E,I=function(){K.postMessage(null)}}else I=function(){b(E,0)};function U(j){R=j,P||(P=!0,I())}function L(j,A){N=b(function(){j(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,U(k))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var z=m;m=A;try{return j()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,A){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var z=m;m=j;try{return A()}finally{m=z}},e.unstable_scheduleCallback=function(j,A,z){var ne=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ne+z:ne):z=ne,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=z+M,j={id:f++,callback:A,priorityLevel:j,startTime:z,expirationTime:M,sortIndex:-1},z>ne?(j.sortIndex=z,t(u,j),n(c)===null&&j===n(u)&&(x?(g(N),N=-1):x=!0,L(S,z-ne))):(j.sortIndex=M,t(c,j),w||p||(w=!0,U(k))),j},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(j){var A=m;return function(){var z=m;m=A;try{return j.apply(this,arguments)}finally{m=z}}}})(uv);cv.exports=uv;var PS=cv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=d,rn=PS;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dv=new Set,ma={};function ks(e,t){io(e,t),io(e+"Capture",t)}function io(e,t){for(ma[e]=t,e=0;e<t.length;e++)dv.add(t[e])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=Object.prototype.hasOwnProperty,AS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sm={},Nm={};function IS(e){return $u.call(Nm,e)?!0:$u.call(Sm,e)?!1:AS.test(e)?Nm[e]=!0:(Sm[e]=!0,!1)}function DS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OS(e,t,n,r){if(t===null||typeof t>"u"||DS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var vf=/[\-:]([a-z])/g;function xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vf,xf);Tt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vf,xf);Tt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vf,xf);Tt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function yf(e,t,n,r){var s=Tt.hasOwnProperty(t)?Tt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OS(t,n,s,r)&&(n=null),r||s===null?IS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vr=_S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ui=Symbol.for("react.element"),$s=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),zu=Symbol.for("react.profiler"),fv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),Uu=Symbol.for("react.suspense_list"),Sf=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),mv=Symbol.for("react.offscreen"),jm=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=jm&&e[jm]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,zc;function Xo(e){if(zc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zc=t&&t[1]||""}return`
`+zc+e}var Fc=!1;function Uc(e,t){if(!e||Fc)return"";Fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Fc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xo(e):""}function LS(e){switch(e.tag){case 5:return Xo(e.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return e=Uc(e.type,!1),e;case 11:return e=Uc(e.type.render,!1),e;case 1:return e=Uc(e.type,!0),e;default:return""}}function Bu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case $s:return"Portal";case zu:return"Profiler";case wf:return"StrictMode";case Fu:return"Suspense";case Uu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hv:return(e.displayName||"Context")+".Consumer";case fv:return(e._context.displayName||"Context")+".Provider";case bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sf:return t=e.displayName||null,t!==null?t:Bu(e.type)||"Memo";case Rr:t=e._payload,e=e._init;try{return Bu(e(t))}catch{}}return null}function MS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bu(t);case 8:return t===wf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $S(e){var t=pv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function di(e){e._valueTracker||(e._valueTracker=$S(e))}function gv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wu(e,t){var n=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vv(e,t){t=t.checked,t!=null&&yf(e,"checked",t,!1)}function Vu(e,t){vv(e,t);var n=Gr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hu(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function km(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hu(e,t,n){(t!=="number"||cl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qo=Array.isArray;function Qs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ku(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Em(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(qo(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gr(n)}}function xv(e,t){var n=Gr(t.value),r=Gr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fi,wv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zS=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){zS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),na[t]=na[e]})});function bv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||na.hasOwnProperty(e)&&na[e]?(""+t).trim():t+"px"}function Sv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var FS=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gu(e,t){if(t){if(FS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=null;function Nf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qu=null,Js=null,Zs=null;function Rm(e){if(e=Ba(e)){if(typeof Qu!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=ec(t),Qu(e.stateNode,e.type,t))}}function Nv(e){Js?Zs?Zs.push(e):Zs=[e]:Js=e}function jv(){if(Js){var e=Js,t=Zs;if(Zs=Js=null,Rm(e),t)for(e=0;e<t.length;e++)Rm(t[e])}}function Cv(e,t){return e(t)}function kv(){}var Bc=!1;function Ev(e,t,n){if(Bc)return e(t,n);Bc=!0;try{return Cv(e,t,n)}finally{Bc=!1,(Js!==null||Zs!==null)&&(kv(),jv())}}function ga(e,t){var n=e.stateNode;if(n===null)return null;var r=ec(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var Ju=!1;if(cr)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Ju=!1}function US(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ra=!1,ul=null,dl=!1,Zu=null,BS={onError:function(e){ra=!0,ul=e}};function WS(e,t,n,r,s,a,i,l,c){ra=!1,ul=null,US.apply(BS,arguments)}function VS(e,t,n,r,s,a,i,l,c){if(WS.apply(this,arguments),ra){if(ra){var u=ul;ra=!1,ul=null}else throw Error(Q(198));dl||(dl=!0,Zu=u)}}function Es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pm(e){if(Es(e)!==e)throw Error(Q(188))}function HS(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Pm(s),e;if(a===r)return Pm(s),t;a=a.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function Rv(e){return e=HS(e),e!==null?Pv(e):null}function Pv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pv(e);if(t!==null)return t;e=e.sibling}return null}var _v=rn.unstable_scheduleCallback,_m=rn.unstable_cancelCallback,KS=rn.unstable_shouldYield,YS=rn.unstable_requestPaint,ft=rn.unstable_now,GS=rn.unstable_getCurrentPriorityLevel,jf=rn.unstable_ImmediatePriority,Av=rn.unstable_UserBlockingPriority,fl=rn.unstable_NormalPriority,XS=rn.unstable_LowPriority,Iv=rn.unstable_IdlePriority,ql=null,Wn=null;function qS(e){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:ZS,QS=Math.log,JS=Math.LN2;function ZS(e){return e>>>=0,e===0?32:31-(QS(e)/JS|0)|0}var hi=64,mi=4194304;function Qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Qo(l):(a&=i,a!==0&&(r=Qo(a)))}else i=n&~s,i!==0?r=Qo(i):a!==0&&(r=Qo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kn(t),s=1<<n,r|=e[n],t&=~s;return r}function eN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-kn(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=eN(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ed(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dv(){var e=hi;return hi<<=1,!(hi&4194240)&&(hi=64),e}function Wc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kn(t),e[t]=n}function nN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-kn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Cf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var $e=0;function Ov(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lv,kf,Mv,$v,zv,td=!1,pi=[],$r=null,zr=null,Fr=null,va=new Map,xa=new Map,Ar=[],rN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function Lo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ba(t),t!==null&&kf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sN(e,t,n,r,s){switch(t){case"focusin":return $r=Lo($r,e,t,n,r,s),!0;case"dragenter":return zr=Lo(zr,e,t,n,r,s),!0;case"mouseover":return Fr=Lo(Fr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return va.set(a,Lo(va.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xa.set(a,Lo(xa.get(a)||null,e,t,n,r,s)),!0}return!1}function Fv(e){var t=cs(e.target);if(t!==null){var n=Es(t);if(n!==null){if(t=n.tag,t===13){if(t=Tv(n),t!==null){e.blockedOn=t,zv(e.priority,function(){Mv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qu=r,n.target.dispatchEvent(r),qu=null}else return t=Ba(n),t!==null&&kf(t),e.blockedOn=n,!1;t.shift()}return!0}function Im(e,t,n){Yi(e)&&n.delete(t)}function oN(){td=!1,$r!==null&&Yi($r)&&($r=null),zr!==null&&Yi(zr)&&(zr=null),Fr!==null&&Yi(Fr)&&(Fr=null),va.forEach(Im),xa.forEach(Im)}function Mo(e,t){e.blockedOn===t&&(e.blockedOn=null,td||(td=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,oN)))}function ya(e){function t(s){return Mo(s,e)}if(0<pi.length){Mo(pi[0],e);for(var n=1;n<pi.length;n++){var r=pi[n];r.blockedOn===e&&(r.blockedOn=null)}}for($r!==null&&Mo($r,e),zr!==null&&Mo(zr,e),Fr!==null&&Mo(Fr,e),va.forEach(t),xa.forEach(t),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Fv(n),n.blockedOn===null&&Ar.shift()}var eo=vr.ReactCurrentBatchConfig,ml=!0;function aN(e,t,n,r){var s=$e,a=eo.transition;eo.transition=null;try{$e=1,Ef(e,t,n,r)}finally{$e=s,eo.transition=a}}function iN(e,t,n,r){var s=$e,a=eo.transition;eo.transition=null;try{$e=4,Ef(e,t,n,r)}finally{$e=s,eo.transition=a}}function Ef(e,t,n,r){if(ml){var s=nd(e,t,n,r);if(s===null)Zc(e,t,r,pl,n),Am(e,r);else if(sN(s,e,t,n,r))r.stopPropagation();else if(Am(e,r),t&4&&-1<rN.indexOf(e)){for(;s!==null;){var a=Ba(s);if(a!==null&&Lv(a),a=nd(e,t,n,r),a===null&&Zc(e,t,r,pl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Zc(e,t,r,null,n)}}var pl=null;function nd(e,t,n,r){if(pl=null,e=Nf(r),e=cs(e),e!==null)if(t=Es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function Uv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GS()){case jf:return 1;case Av:return 4;case fl:case XS:return 16;case Iv:return 536870912;default:return 16}default:return 16}}var Lr=null,Tf=null,Gi=null;function Bv(){if(Gi)return Gi;var e,t=Tf,n=t.length,r,s="value"in Lr?Lr.value:Lr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Gi=s.slice(e,1<r?1-r:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function Dm(){return!1}function on(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gi:Dm,this.isPropagationStopped=Dm,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rf=on(wo),Ua=ot({},wo,{view:0,detail:0}),lN=on(Ua),Vc,Hc,$o,Ql=ot({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$o&&($o&&e.type==="mousemove"?(Vc=e.screenX-$o.screenX,Hc=e.screenY-$o.screenY):Hc=Vc=0,$o=e),Vc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),Om=on(Ql),cN=ot({},Ql,{dataTransfer:0}),uN=on(cN),dN=ot({},Ua,{relatedTarget:0}),Kc=on(dN),fN=ot({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),hN=on(fN),mN=ot({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pN=on(mN),gN=ot({},wo,{data:0}),Lm=on(gN),vN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yN[e])?!!t[e]:!1}function Pf(){return wN}var bN=ot({},Ua,{key:function(e){if(e.key){var t=vN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SN=on(bN),NN=ot({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mm=on(NN),jN=ot({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),CN=on(jN),kN=ot({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),EN=on(kN),TN=ot({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RN=on(TN),PN=[9,13,27,32],_f=cr&&"CompositionEvent"in window,sa=null;cr&&"documentMode"in document&&(sa=document.documentMode);var _N=cr&&"TextEvent"in window&&!sa,Wv=cr&&(!_f||sa&&8<sa&&11>=sa),$m=" ",zm=!1;function Vv(e,t){switch(e){case"keyup":return PN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function AN(e,t){switch(e){case"compositionend":return Hv(t);case"keypress":return t.which!==32?null:(zm=!0,$m);case"textInput":return e=t.data,e===$m&&zm?null:e;default:return null}}function IN(e,t){if(Fs)return e==="compositionend"||!_f&&Vv(e,t)?(e=Bv(),Gi=Tf=Lr=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wv&&t.locale!=="ko"?null:t.data;default:return null}}var DN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DN[e.type]:t==="textarea"}function Kv(e,t,n,r){Nv(r),t=gl(t,"onChange"),0<t.length&&(n=new Rf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oa=null,wa=null;function ON(e){rx(e,0)}function Jl(e){var t=Ws(e);if(gv(t))return e}function LN(e,t){if(e==="change")return t}var Yv=!1;if(cr){var Yc;if(cr){var Gc="oninput"in document;if(!Gc){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),Gc=typeof Um.oninput=="function"}Yc=Gc}else Yc=!1;Yv=Yc&&(!document.documentMode||9<document.documentMode)}function Bm(){oa&&(oa.detachEvent("onpropertychange",Gv),wa=oa=null)}function Gv(e){if(e.propertyName==="value"&&Jl(wa)){var t=[];Kv(t,wa,e,Nf(e)),Ev(ON,t)}}function MN(e,t,n){e==="focusin"?(Bm(),oa=t,wa=n,oa.attachEvent("onpropertychange",Gv)):e==="focusout"&&Bm()}function $N(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(wa)}function zN(e,t){if(e==="click")return Jl(t)}function FN(e,t){if(e==="input"||e==="change")return Jl(t)}function UN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:UN;function ba(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$u.call(t,s)||!Tn(e[s],t[s]))return!1}return!0}function Wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vm(e,t){var n=Wm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wm(n)}}function Xv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qv(){for(var e=window,t=cl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cl(e.document)}return t}function Af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BN(e){var t=qv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xv(n.ownerDocument.documentElement,n)){if(r!==null&&Af(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Vm(n,a);var i=Vm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WN=cr&&"documentMode"in document&&11>=document.documentMode,Us=null,rd=null,aa=null,sd=!1;function Hm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sd||Us==null||Us!==cl(r)||(r=Us,"selectionStart"in r&&Af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&ba(aa,r)||(aa=r,r=gl(rd,"onSelect"),0<r.length&&(t=new Rf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Us)))}function vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bs={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},Xc={},Qv={};cr&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Zl(e){if(Xc[e])return Xc[e];if(!Bs[e])return e;var t=Bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qv)return Xc[e]=t[n];return e}var Jv=Zl("animationend"),Zv=Zl("animationiteration"),ex=Zl("animationstart"),tx=Zl("transitionend"),nx=new Map,Km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(e,t){nx.set(e,t),ks(t,[e])}for(var qc=0;qc<Km.length;qc++){var Qc=Km[qc],VN=Qc.toLowerCase(),HN=Qc[0].toUpperCase()+Qc.slice(1);es(VN,"on"+HN)}es(Jv,"onAnimationEnd");es(Zv,"onAnimationIteration");es(ex,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(tx,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Ym(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,VS(r,t,void 0,e),e.currentTarget=null}function rx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Ym(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Ym(s,l,u),a=c}}}if(dl)throw e=Zu,dl=!1,Zu=null,e}function Ge(e,t){var n=t[cd];n===void 0&&(n=t[cd]=new Set);var r=e+"__bubble";n.has(r)||(sx(t,e,2,!1),n.add(r))}function Jc(e,t,n){var r=0;t&&(r|=4),sx(n,e,r,t)}var xi="_reactListening"+Math.random().toString(36).slice(2);function Sa(e){if(!e[xi]){e[xi]=!0,dv.forEach(function(n){n!=="selectionchange"&&(KN.has(n)||Jc(n,!1,e),Jc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xi]||(t[xi]=!0,Jc("selectionchange",!1,t))}}function sx(e,t,n,r){switch(Uv(t)){case 1:var s=aN;break;case 4:s=iN;break;default:s=Ef}n=s.bind(null,t,n,e),s=void 0,!Ju||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zc(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=cs(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}Ev(function(){var u=a,f=Nf(n),h=[];e:{var m=nx.get(e);if(m!==void 0){var p=Rf,w=e;switch(e){case"keypress":if(Xi(n)===0)break e;case"keydown":case"keyup":p=SN;break;case"focusin":w="focus",p=Kc;break;case"focusout":w="blur",p=Kc;break;case"beforeblur":case"afterblur":p=Kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CN;break;case Jv:case Zv:case ex:p=hN;break;case tx:p=EN;break;case"scroll":p=lN;break;case"wheel":p=RN;break;case"copy":case"cut":case"paste":p=pN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Mm}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,y;v!==null;){y=v;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,g!==null&&(S=ga(v,g),S!=null&&x.push(Na(v,S,y)))),b)break;v=v.return}0<x.length&&(m=new p(m,w,null,n,f),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==qu&&(w=n.relatedTarget||n.fromElement)&&(cs(w)||w[ur]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?cs(w):null,w!==null&&(b=Es(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(x=Om,S="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Mm,S="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?m:Ws(p),y=w==null?m:Ws(w),m=new x(S,v+"leave",p,n,f),m.target=b,m.relatedTarget=y,S=null,cs(f)===u&&(x=new x(g,v+"enter",w,n,f),x.target=y,x.relatedTarget=b,S=x),b=S,p&&w)t:{for(x=p,g=w,v=0,y=x;y;y=Ds(y))v++;for(y=0,S=g;S;S=Ds(S))y++;for(;0<v-y;)x=Ds(x),v--;for(;0<y-v;)g=Ds(g),y--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ds(x),g=Ds(g)}x=null}else x=null;p!==null&&Gm(h,m,p,x,!1),w!==null&&b!==null&&Gm(h,b,w,x,!0)}}e:{if(m=u?Ws(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var k=LN;else if(Fm(m))if(Yv)k=FN;else{k=$N;var P=MN}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=zN);if(k&&(k=k(e,u))){Kv(h,k,n,f);break e}P&&P(e,m,u),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Hu(m,"number",m.value)}switch(P=u?Ws(u):window,e){case"focusin":(Fm(P)||P.contentEditable==="true")&&(Us=P,rd=u,aa=null);break;case"focusout":aa=rd=Us=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Hm(h,n,f);break;case"selectionchange":if(WN)break;case"keydown":case"keyup":Hm(h,n,f)}var R;if(_f)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fs?Vv(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Wv&&n.locale!=="ko"&&(Fs||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fs&&(R=Bv()):(Lr=f,Tf="value"in Lr?Lr.value:Lr.textContent,Fs=!0)),P=gl(u,N),0<P.length&&(N=new Lm(N,e,null,n,f),h.push({event:N,listeners:P}),R?N.data=R:(R=Hv(n),R!==null&&(N.data=R)))),(R=_N?AN(e,n):IN(e,n))&&(u=gl(u,"onBeforeInput"),0<u.length&&(f=new Lm("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=R))}rx(h,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ga(e,n),a!=null&&r.unshift(Na(e,a,s)),a=ga(e,t),a!=null&&r.push(Na(e,a,s))),e=e.return}return r}function Ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gm(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ga(n,a),c!=null&&i.unshift(Na(n,c,l))):s||(c=ga(n,a),c!=null&&i.push(Na(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var YN=/\r\n?/g,GN=/\u0000|\uFFFD/g;function Xm(e){return(typeof e=="string"?e:""+e).replace(YN,`
`).replace(GN,"")}function yi(e,t,n){if(t=Xm(t),Xm(e)!==t&&n)throw Error(Q(425))}function vl(){}var od=null,ad=null;function id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,XN=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,qN=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(QN)}:ld;function QN(e){setTimeout(function(){throw e})}function eu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ya(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ya(t)}function Ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bo=Math.random().toString(36).slice(2),zn="__reactFiber$"+bo,ja="__reactProps$"+bo,ur="__reactContainer$"+bo,cd="__reactEvents$"+bo,JN="__reactListeners$"+bo,ZN="__reactHandles$"+bo;function cs(e){var t=e[zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ur]||n[zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qm(e);e!==null;){if(n=e[zn])return n;e=Qm(e)}return t}e=n,n=e.parentNode}return null}function Ba(e){return e=e[zn]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function ec(e){return e[ja]||null}var ud=[],Vs=-1;function ts(e){return{current:e}}function Xe(e){0>Vs||(e.current=ud[Vs],ud[Vs]=null,Vs--)}function He(e,t){Vs++,ud[Vs]=e.current,e.current=t}var Xr={},Dt=ts(Xr),Kt=ts(!1),gs=Xr;function lo(e,t){var n=e.type.contextTypes;if(!n)return Xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(e){return e=e.childContextTypes,e!=null}function xl(){Xe(Kt),Xe(Dt)}function Jm(e,t,n){if(Dt.current!==Xr)throw Error(Q(168));He(Dt,t),He(Kt,n)}function ox(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Q(108,MS(e)||"Unknown",s));return ot({},n,r)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,gs=Dt.current,He(Dt,e),He(Kt,Kt.current),!0}function Zm(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=ox(e,t,gs),r.__reactInternalMemoizedMergedChildContext=e,Xe(Kt),Xe(Dt),He(Dt,e)):Xe(Kt),He(Kt,n)}var rr=null,tc=!1,tu=!1;function ax(e){rr===null?rr=[e]:rr.push(e)}function ej(e){tc=!0,ax(e)}function ns(){if(!tu&&rr!==null){tu=!0;var e=0,t=$e;try{var n=rr;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rr=null,tc=!1}catch(s){throw rr!==null&&(rr=rr.slice(e+1)),_v(jf,ns),s}finally{$e=t,tu=!1}}return null}var Hs=[],Ks=0,wl=null,bl=0,ln=[],cn=0,vs=null,sr=1,or="";function as(e,t){Hs[Ks++]=bl,Hs[Ks++]=wl,wl=e,bl=t}function ix(e,t,n){ln[cn++]=sr,ln[cn++]=or,ln[cn++]=vs,vs=e;var r=sr;e=or;var s=32-kn(r)-1;r&=~(1<<s),n+=1;var a=32-kn(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,sr=1<<32-kn(t)+s|n<<s|r,or=a+e}else sr=1<<a|n<<s|r,or=e}function If(e){e.return!==null&&(as(e,1),ix(e,1,0))}function Df(e){for(;e===wl;)wl=Hs[--Ks],Hs[Ks]=null,bl=Hs[--Ks],Hs[Ks]=null;for(;e===vs;)vs=ln[--cn],ln[cn]=null,or=ln[--cn],ln[cn]=null,sr=ln[--cn],ln[cn]=null}var tn=null,Jt=null,tt=!1,Cn=null;function lx(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ep(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,Jt=Ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,Jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vs!==null?{id:sr,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tn=e,Jt=null,!0):!1;default:return!1}}function dd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fd(e){if(tt){var t=Jt;if(t){var n=t;if(!ep(e,t)){if(dd(e))throw Error(Q(418));t=Ur(n.nextSibling);var r=tn;t&&ep(e,t)?lx(r,n):(e.flags=e.flags&-4097|2,tt=!1,tn=e)}}else{if(dd(e))throw Error(Q(418));e.flags=e.flags&-4097|2,tt=!1,tn=e}}}function tp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function wi(e){if(e!==tn)return!1;if(!tt)return tp(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!id(e.type,e.memoizedProps)),t&&(t=Jt)){if(dd(e))throw cx(),Error(Q(418));for(;t;)lx(e,t),t=Ur(t.nextSibling)}if(tp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jt=Ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jt=null}}else Jt=tn?Ur(e.stateNode.nextSibling):null;return!0}function cx(){for(var e=Jt;e;)e=Ur(e.nextSibling)}function co(){Jt=tn=null,tt=!1}function Of(e){Cn===null?Cn=[e]:Cn.push(e)}var tj=vr.ReactCurrentBatchConfig;function zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function np(e){var t=e._init;return t(e._payload)}function ux(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Hr(g,v),g.index=0,g.sibling=null,g}function a(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,y,S){return v===null||v.tag!==6?(v=lu(y,g.mode,S),v.return=g,v):(v=s(v,y),v.return=g,v)}function c(g,v,y,S){var k=y.type;return k===zs?f(g,v,y.props.children,S,y.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Rr&&np(k)===v.type)?(S=s(v,y.props),S.ref=zo(g,v,y),S.return=g,S):(S=nl(y.type,y.key,y.props,null,g.mode,S),S.ref=zo(g,v,y),S.return=g,S)}function u(g,v,y,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=cu(y,g.mode,S),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function f(g,v,y,S,k){return v===null||v.tag!==7?(v=ps(y,g.mode,S,k),v.return=g,v):(v=s(v,y),v.return=g,v)}function h(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=lu(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ui:return y=nl(v.type,v.key,v.props,null,g.mode,y),y.ref=zo(g,null,v),y.return=g,y;case $s:return v=cu(v,g.mode,y),v.return=g,v;case Rr:var S=v._init;return h(g,S(v._payload),y)}if(qo(v)||Do(v))return v=ps(v,g.mode,y,null),v.return=g,v;bi(g,v)}return null}function m(g,v,y,S){var k=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:l(g,v,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:return y.key===k?c(g,v,y,S):null;case $s:return y.key===k?u(g,v,y,S):null;case Rr:return k=y._init,m(g,v,k(y._payload),S)}if(qo(y)||Do(y))return k!==null?null:f(g,v,y,S,null);bi(g,y)}return null}function p(g,v,y,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(y)||null,l(v,g,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ui:return g=g.get(S.key===null?y:S.key)||null,c(v,g,S,k);case $s:return g=g.get(S.key===null?y:S.key)||null,u(v,g,S,k);case Rr:var P=S._init;return p(g,v,y,P(S._payload),k)}if(qo(S)||Do(S))return g=g.get(y)||null,f(v,g,S,k,null);bi(v,S)}return null}function w(g,v,y,S){for(var k=null,P=null,R=v,N=v=0,C=null;R!==null&&N<y.length;N++){R.index>N?(C=R,R=null):C=R.sibling;var T=m(g,R,y[N],S);if(T===null){R===null&&(R=C);break}e&&R&&T.alternate===null&&t(g,R),v=a(T,v,N),P===null?k=T:P.sibling=T,P=T,R=C}if(N===y.length)return n(g,R),tt&&as(g,N),k;if(R===null){for(;N<y.length;N++)R=h(g,y[N],S),R!==null&&(v=a(R,v,N),P===null?k=R:P.sibling=R,P=R);return tt&&as(g,N),k}for(R=r(g,R);N<y.length;N++)C=p(R,g,N,y[N],S),C!==null&&(e&&C.alternate!==null&&R.delete(C.key===null?N:C.key),v=a(C,v,N),P===null?k=C:P.sibling=C,P=C);return e&&R.forEach(function(_){return t(g,_)}),tt&&as(g,N),k}function x(g,v,y,S){var k=Do(y);if(typeof k!="function")throw Error(Q(150));if(y=k.call(y),y==null)throw Error(Q(151));for(var P=k=null,R=v,N=v=0,C=null,T=y.next();R!==null&&!T.done;N++,T=y.next()){R.index>N?(C=R,R=null):C=R.sibling;var _=m(g,R,T.value,S);if(_===null){R===null&&(R=C);break}e&&R&&_.alternate===null&&t(g,R),v=a(_,v,N),P===null?k=_:P.sibling=_,P=_,R=C}if(T.done)return n(g,R),tt&&as(g,N),k;if(R===null){for(;!T.done;N++,T=y.next())T=h(g,T.value,S),T!==null&&(v=a(T,v,N),P===null?k=T:P.sibling=T,P=T);return tt&&as(g,N),k}for(R=r(g,R);!T.done;N++,T=y.next())T=p(R,g,N,T.value,S),T!==null&&(e&&T.alternate!==null&&R.delete(T.key===null?N:T.key),v=a(T,v,N),P===null?k=T:P.sibling=T,P=T);return e&&R.forEach(function(E){return t(g,E)}),tt&&as(g,N),k}function b(g,v,y,S){if(typeof y=="object"&&y!==null&&y.type===zs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:e:{for(var k=y.key,P=v;P!==null;){if(P.key===k){if(k=y.type,k===zs){if(P.tag===7){n(g,P.sibling),v=s(P,y.props.children),v.return=g,g=v;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Rr&&np(k)===P.type){n(g,P.sibling),v=s(P,y.props),v.ref=zo(g,P,y),v.return=g,g=v;break e}n(g,P);break}else t(g,P);P=P.sibling}y.type===zs?(v=ps(y.props.children,g.mode,S,y.key),v.return=g,g=v):(S=nl(y.type,y.key,y.props,null,g.mode,S),S.ref=zo(g,v,y),S.return=g,g=S)}return i(g);case $s:e:{for(P=y.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=cu(y,g.mode,S),v.return=g,g=v}return i(g);case Rr:return P=y._init,b(g,v,P(y._payload),S)}if(qo(y))return w(g,v,y,S);if(Do(y))return x(g,v,y,S);bi(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,y),v.return=g,g=v):(n(g,v),v=lu(y,g.mode,S),v.return=g,g=v),i(g)):n(g,v)}return b}var uo=ux(!0),dx=ux(!1),Sl=ts(null),Nl=null,Ys=null,Lf=null;function Mf(){Lf=Ys=Nl=null}function $f(e){var t=Sl.current;Xe(Sl),e._currentValue=t}function hd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function to(e,t){Nl=e,Lf=Ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function fn(e){var t=e._currentValue;if(Lf!==e)if(e={context:e,memoizedValue:t,next:null},Ys===null){if(Nl===null)throw Error(Q(308));Ys=e,Nl.dependencies={lanes:0,firstContext:e}}else Ys=Ys.next=e;return t}var us=null;function zf(e){us===null?us=[e]:us.push(e)}function fx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,zf(t)):(n.next=s.next,s.next=n),t.interleaved=n,dr(e,r)}function dr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,dr(e,n)}return s=r.interleaved,s===null?(t.next=t,zf(r)):(t.next=s.next,s.next=t),r.interleaved=t,dr(e,n)}function qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cf(e,n)}}function rp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,r){var s=e.updateQueue;Pr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,f=u=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=ot({},h,m);break e;case 2:Pr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=h):f=f.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ys|=i,e.lanes=i,e.memoizedState=h}}function sp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Wa={},Vn=ts(Wa),Ca=ts(Wa),ka=ts(Wa);function ds(e){if(e===Wa)throw Error(Q(174));return e}function Uf(e,t){switch(He(ka,t),He(Ca,e),He(Vn,Wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yu(t,e)}Xe(Vn),He(Vn,t)}function fo(){Xe(Vn),Xe(Ca),Xe(ka)}function mx(e){ds(ka.current);var t=ds(Vn.current),n=Yu(t,e.type);t!==n&&(He(Ca,e),He(Vn,n))}function Bf(e){Ca.current===e&&(Xe(Vn),Xe(Ca))}var rt=ts(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nu=[];function Wf(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var Qi=vr.ReactCurrentDispatcher,ru=vr.ReactCurrentBatchConfig,xs=0,st=null,xt=null,St=null,kl=!1,ia=!1,Ea=0,nj=0;function Rt(){throw Error(Q(321))}function Vf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}function Hf(e,t,n,r,s,a){if(xs=a,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qi.current=e===null||e.memoizedState===null?aj:ij,e=n(r,s),ia){a=0;do{if(ia=!1,Ea=0,25<=a)throw Error(Q(301));a+=1,St=xt=null,t.updateQueue=null,Qi.current=lj,e=n(r,s)}while(ia)}if(Qi.current=El,t=xt!==null&&xt.next!==null,xs=0,St=xt=st=null,kl=!1,t)throw Error(Q(300));return e}function Kf(){var e=Ea!==0;return Ea=0,e}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?st.memoizedState=St=e:St=St.next=e,St}function hn(){if(xt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=St===null?st.memoizedState:St.next;if(t!==null)St=t,xt=e;else{if(e===null)throw Error(Q(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},St===null?st.memoizedState=St=e:St=St.next=e}return St}function Ta(e,t){return typeof t=="function"?t(e):t}function su(e){var t=hn(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=xt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var f=u.lane;if((xs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,st.lanes|=f,ys|=f}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,Tn(r,t.memoizedState)||(Vt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,st.lanes|=a,ys|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ou(e){var t=hn(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Tn(a,t.memoizedState)||(Vt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function px(){}function gx(e,t){var n=st,r=hn(),s=t(),a=!Tn(r.memoizedState,s);if(a&&(r.memoizedState=s,Vt=!0),r=r.queue,Yf(yx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Ra(9,xx.bind(null,n,r,s,t),void 0,null),Nt===null)throw Error(Q(349));xs&30||vx(n,t,s)}return s}function vx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xx(e,t,n,r){t.value=n,t.getSnapshot=r,wx(t)&&bx(e)}function yx(e,t,n){return n(function(){wx(t)&&bx(e)})}function wx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tn(e,n)}catch{return!0}}function bx(e){var t=dr(e,1);t!==null&&En(t,e,1,-1)}function op(e){var t=$n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=oj.bind(null,st,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sx(){return hn().memoizedState}function Ji(e,t,n,r){var s=$n();st.flags|=e,s.memoizedState=Ra(1|t,n,void 0,r===void 0?null:r)}function nc(e,t,n,r){var s=hn();r=r===void 0?null:r;var a=void 0;if(xt!==null){var i=xt.memoizedState;if(a=i.destroy,r!==null&&Vf(r,i.deps)){s.memoizedState=Ra(t,n,a,r);return}}st.flags|=e,s.memoizedState=Ra(1|t,n,a,r)}function ap(e,t){return Ji(8390656,8,e,t)}function Yf(e,t){return nc(2048,8,e,t)}function Nx(e,t){return nc(4,2,e,t)}function jx(e,t){return nc(4,4,e,t)}function Cx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kx(e,t,n){return n=n!=null?n.concat([e]):null,nc(4,4,Cx.bind(null,t,e),n)}function Gf(){}function Ex(e,t){var n=hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Tx(e,t){var n=hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rx(e,t,n){return xs&21?(Tn(n,t)||(n=Dv(),st.lanes|=n,ys|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=n)}function rj(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=ru.transition;ru.transition={};try{e(!1),t()}finally{$e=n,ru.transition=r}}function Px(){return hn().memoizedState}function sj(e,t,n){var r=Vr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_x(e))Ax(t,n);else if(n=fx(e,t,n,r),n!==null){var s=$t();En(n,e,r,s),Ix(n,t,r)}}function oj(e,t,n){var r=Vr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_x(e))Ax(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,Tn(l,i)){var c=t.interleaved;c===null?(s.next=s,zf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=fx(e,t,s,r),n!==null&&(s=$t(),En(n,e,r,s),Ix(n,t,r))}}function _x(e){var t=e.alternate;return e===st||t!==null&&t===st}function Ax(e,t){ia=kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ix(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cf(e,n)}}var El={readContext:fn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},aj={readContext:fn,useCallback:function(e,t){return $n().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:ap,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ji(4194308,4,Cx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var n=$n();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$n();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sj.bind(null,st,e),[r.memoizedState,e]},useRef:function(e){var t=$n();return e={current:e},t.memoizedState=e},useState:op,useDebugValue:Gf,useDeferredValue:function(e){return $n().memoizedState=e},useTransition:function(){var e=op(!1),t=e[0];return e=rj.bind(null,e[1]),$n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=st,s=$n();if(tt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),Nt===null)throw Error(Q(349));xs&30||vx(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,ap(yx.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,xx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=$n(),t=Nt.identifierPrefix;if(tt){var n=or,r=sr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ij={readContext:fn,useCallback:Ex,useContext:fn,useEffect:Yf,useImperativeHandle:kx,useInsertionEffect:Nx,useLayoutEffect:jx,useMemo:Tx,useReducer:su,useRef:Sx,useState:function(){return su(Ta)},useDebugValue:Gf,useDeferredValue:function(e){var t=hn();return Rx(t,xt.memoizedState,e)},useTransition:function(){var e=su(Ta)[0],t=hn().memoizedState;return[e,t]},useMutableSource:px,useSyncExternalStore:gx,useId:Px,unstable_isNewReconciler:!1},lj={readContext:fn,useCallback:Ex,useContext:fn,useEffect:Yf,useImperativeHandle:kx,useInsertionEffect:Nx,useLayoutEffect:jx,useMemo:Tx,useReducer:ou,useRef:Sx,useState:function(){return ou(Ta)},useDebugValue:Gf,useDeferredValue:function(e){var t=hn();return xt===null?t.memoizedState=e:Rx(t,xt.memoizedState,e)},useTransition:function(){var e=ou(Ta)[0],t=hn().memoizedState;return[e,t]},useMutableSource:px,useSyncExternalStore:gx,useId:Px,unstable_isNewReconciler:!1};function Nn(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function md(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rc={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$t(),s=Vr(e),a=ar(r,s);a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(En(t,e,s,r),qi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$t(),s=Vr(e),a=ar(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(En(t,e,s,r),qi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$t(),r=Vr(e),s=ar(n,r);s.tag=2,t!=null&&(s.callback=t),t=Br(e,s,r),t!==null&&(En(t,e,r,n),qi(t,e,r))}};function ip(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ba(n,r)||!ba(s,a):!0}function Dx(e,t,n){var r=!1,s=Xr,a=t.contextType;return typeof a=="object"&&a!==null?a=fn(a):(s=Yt(t)?gs:Dt.current,r=t.contextTypes,a=(r=r!=null)?lo(e,s):Xr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function lp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rc.enqueueReplaceState(t,t.state,null)}function pd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ff(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=fn(a):(a=Yt(t)?gs:Dt.current,s.context=lo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(md(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&rc.enqueueReplaceState(s,s.state,null),jl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var n="",r=t;do n+=LS(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function au(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cj=typeof WeakMap=="function"?WeakMap:Map;function Ox(e,t,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,kd=r),gd(e,t)},n}function Lx(e,t,n){n=ar(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){gd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){gd(e,t),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function cp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Nj.bind(null,e,t,n),t.then(e,e))}function up(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ar(-1,1),t.tag=2,Br(n,t,1))),n.lanes|=1),e)}var uj=vr.ReactCurrentOwner,Vt=!1;function Lt(e,t,n,r){t.child=e===null?dx(t,null,n,r):uo(t,e.child,n,r)}function fp(e,t,n,r,s){n=n.render;var a=t.ref;return to(t,s),r=Hf(e,t,n,r,a,s),n=Kf(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fr(e,t,s)):(tt&&n&&If(t),t.flags|=1,Lt(e,t,r,s),t.child)}function hp(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!nh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Mx(e,t,a,r,s)):(e=nl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ba,n(i,r)&&e.ref===t.ref)return fr(e,t,s)}return t.flags|=1,e=Hr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Mx(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ba(a,r)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,fr(e,t,s)}return vd(e,t,n,r,s)}function $x(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Xs,Xt),Xt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(Xs,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,He(Xs,Xt),Xt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,He(Xs,Xt),Xt|=r;return Lt(e,t,s,n),t.child}function zx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vd(e,t,n,r,s){var a=Yt(n)?gs:Dt.current;return a=lo(t,a),to(t,s),n=Hf(e,t,n,r,a,s),r=Kf(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fr(e,t,s)):(tt&&r&&If(t),t.flags|=1,Lt(e,t,n,s),t.child)}function mp(e,t,n,r,s){if(Yt(n)){var a=!0;yl(t)}else a=!1;if(to(t,s),t.stateNode===null)Zi(e,t),Dx(t,n,r),pd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Yt(n)?gs:Dt.current,u=lo(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&lp(t,i,r,u),Pr=!1;var m=t.memoizedState;i.state=m,jl(t,r,i,s),c=t.memoizedState,l!==r||m!==c||Kt.current||Pr?(typeof f=="function"&&(md(t,n,f,r),c=t.memoizedState),(l=Pr||ip(t,n,l,r,m,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,hx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nn(t.type,l),i.props=u,h=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=Yt(n)?gs:Dt.current,c=lo(t,c));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||m!==c)&&lp(t,i,r,c),Pr=!1,m=t.memoizedState,i.state=m,jl(t,r,i,s);var w=t.memoizedState;l!==h||m!==w||Kt.current||Pr?(typeof p=="function"&&(md(t,n,p,r),w=t.memoizedState),(u=Pr||ip(t,n,u,r,m,w,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return xd(e,t,n,r,a,s)}function xd(e,t,n,r,s,a){zx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Zm(t,n,!1),fr(e,t,a);r=t.stateNode,uj.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=uo(t,e.child,null,a),t.child=uo(t,null,l,a)):Lt(e,t,l,a),t.memoizedState=r.state,s&&Zm(t,n,!0),t.child}function Fx(e){var t=e.stateNode;t.pendingContext?Jm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jm(e,t.context,!1),Uf(e,t.containerInfo)}function pp(e,t,n,r,s){return co(),Of(s),t.flags|=256,Lt(e,t,n,r),t.child}var yd={dehydrated:null,treeContext:null,retryLane:0};function wd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ux(e,t,n){var r=t.pendingProps,s=rt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),He(rt,s&1),e===null)return fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ac(i,r,0,null),e=ps(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=wd(n),t.memoizedState=yd,e):Xf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dj(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Hr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Hr(l,a):(a=ps(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?wd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=yd,r}return a=e.child,e=a.sibling,r=Hr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xf(e,t){return t=ac({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Si(e,t,n,r){return r!==null&&Of(r),uo(t,e.child,null,n),e=Xf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dj(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=au(Error(Q(422))),Si(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=ac({mode:"visible",children:r.children},s,0,null),a=ps(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&uo(t,e.child,null,i),t.child.memoizedState=wd(i),t.memoizedState=yd,a);if(!(t.mode&1))return Si(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Q(419)),r=au(a,r,void 0),Si(e,t,i,r)}if(l=(i&e.childLanes)!==0,Vt||l){if(r=Nt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,dr(e,s),En(r,e,s,-1))}return th(),r=au(Error(Q(421))),Si(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jj.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Jt=Ur(s.nextSibling),tn=t,tt=!0,Cn=null,e!==null&&(ln[cn++]=sr,ln[cn++]=or,ln[cn++]=vs,sr=e.id,or=e.overflow,vs=t),t=Xf(t,r.children),t.flags|=4096,t)}function gp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hd(e.return,t,n)}function iu(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Bx(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Lt(e,t,r.children,n),r=rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gp(e,n,t);else if(e.tag===19)gp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(rt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),iu(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}iu(t,!0,n,null,a);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ys|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=Hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fj(e,t,n){switch(t.tag){case 3:Fx(t),co();break;case 5:mx(t);break;case 1:Yt(t.type)&&yl(t);break;case 4:Uf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;He(Sl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(He(rt,rt.current&1),t.flags|=128,null):n&t.child.childLanes?Ux(e,t,n):(He(rt,rt.current&1),e=fr(e,t,n),e!==null?e.sibling:null);He(rt,rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(rt,rt.current),r)break;return null;case 22:case 23:return t.lanes=0,$x(e,t,n)}return fr(e,t,n)}var Wx,bd,Vx,Hx;Wx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bd=function(){};Vx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ds(Vn.current);var a=null;switch(n){case"input":s=Wu(e,s),r=Wu(e,r),a=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),a=[];break;case"textarea":s=Ku(e,s),r=Ku(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vl)}Gu(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ma.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ma.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Hx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fo(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hj(e,t,n){var r=t.pendingProps;switch(Df(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Yt(t.type)&&xl(),Pt(t),null;case 3:return r=t.stateNode,fo(),Xe(Kt),Xe(Dt),Wf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cn!==null&&(Rd(Cn),Cn=null))),bd(e,t),Pt(t),null;case 5:Bf(t);var s=ds(ka.current);if(n=t.type,e!==null&&t.stateNode!=null)Vx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return Pt(t),null}if(e=ds(Vn.current),wi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[zn]=t,r[ja]=a,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<Jo.length;s++)Ge(Jo[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Cm(r,a),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ge("invalid",r);break;case"textarea":Em(r,a),Ge("invalid",r)}Gu(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&yi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&yi(r.textContent,l,e),s=["children",""+l]):ma.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ge("scroll",r)}switch(n){case"input":di(r),km(r,a,!0);break;case"textarea":di(r),Tm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[zn]=t,e[ja]=r,Wx(e,t,!1,!1),t.stateNode=e;e:{switch(i=Xu(n,r),n){case"dialog":Ge("cancel",e),Ge("close",e),s=r;break;case"iframe":case"object":case"embed":Ge("load",e),s=r;break;case"video":case"audio":for(s=0;s<Jo.length;s++)Ge(Jo[s],e);s=r;break;case"source":Ge("error",e),s=r;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),s=r;break;case"details":Ge("toggle",e),s=r;break;case"input":Cm(e,r),s=Wu(e,r),Ge("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),Ge("invalid",e);break;case"textarea":Em(e,r),s=Ku(e,r),Ge("invalid",e);break;default:s=r}Gu(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Sv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wv(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pa(e,c):typeof c=="number"&&pa(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ma.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ge("scroll",e):c!=null&&yf(e,a,c,i))}switch(n){case"input":di(e),km(e,r,!1);break;case"textarea":di(e),Tm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Qs(e,!!r.multiple,a,!1):r.defaultValue!=null&&Qs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)Hx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=ds(ka.current),ds(Vn.current),wi(t)){if(r=t.stateNode,n=t.memoizedProps,r[zn]=t,(a=r.nodeValue!==n)&&(e=tn,e!==null))switch(e.tag){case 3:yi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=t,t.stateNode=r}return Pt(t),null;case 13:if(Xe(rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&Jt!==null&&t.mode&1&&!(t.flags&128))cx(),co(),t.flags|=98560,a=!1;else if(a=wi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[zn]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),a=!1}else Cn!==null&&(Rd(Cn),Cn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?yt===0&&(yt=3):th())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return fo(),bd(e,t),e===null&&Sa(t.stateNode.containerInfo),Pt(t),null;case 10:return $f(t.type._context),Pt(t),null;case 17:return Yt(t.type)&&xl(),Pt(t),null;case 19:if(Xe(rt),a=t.memoizedState,a===null)return Pt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Fo(a,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Cl(e),i!==null){for(t.flags|=128,Fo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(rt,rt.current&1|2),t.child}e=e.sibling}a.tail!==null&&ft()>mo&&(t.flags|=128,r=!0,Fo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!tt)return Pt(t),null}else 2*ft()-a.renderingStartTime>mo&&n!==1073741824&&(t.flags|=128,r=!0,Fo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ft(),t.sibling=null,n=rt.current,He(rt,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return eh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xt&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function mj(e,t){switch(Df(t),t.tag){case 1:return Yt(t.type)&&xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),Xe(Kt),Xe(Dt),Wf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bf(t),null;case 13:if(Xe(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(rt),null;case 4:return fo(),null;case 10:return $f(t.type._context),null;case 22:case 23:return eh(),null;case 24:return null;default:return null}}var Ni=!1,_t=!1,pj=typeof WeakSet=="function"?WeakSet:Set,le=null;function Gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(e,t,r)}else n.current=null}function Sd(e,t,n){try{n()}catch(r){it(e,t,r)}}var vp=!1;function gj(e,t){if(od=ml,e=qv(),Af(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=i+s),h!==a||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=i),m===a&&++f===r&&(c=i),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},ml=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Nn(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(S){it(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return w=vp,vp=!1,w}function la(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Sd(t,n,a)}s=s.next}while(s!==r)}}function sc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Kx(e){var t=e.alternate;t!==null&&(e.alternate=null,Kx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[ja],delete t[cd],delete t[JN],delete t[ZN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yx(e){return e.tag===5||e.tag===3||e.tag===4}function xp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vl));else if(r!==4&&(e=e.child,e!==null))for(jd(e,t,n),e=e.sibling;e!==null;)jd(e,t,n),e=e.sibling}function Cd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cd(e,t,n),e=e.sibling;e!==null;)Cd(e,t,n),e=e.sibling}var Ct=null,jn=!1;function Cr(e,t,n){for(n=n.child;n!==null;)Gx(e,t,n),n=n.sibling}function Gx(e,t,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(ql,n)}catch{}switch(n.tag){case 5:_t||Gs(n,t);case 6:var r=Ct,s=jn;Ct=null,Cr(e,t,n),Ct=r,jn=s,Ct!==null&&(jn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(jn?(e=Ct,n=n.stateNode,e.nodeType===8?eu(e.parentNode,n):e.nodeType===1&&eu(e,n),ya(e)):eu(Ct,n.stateNode));break;case 4:r=Ct,s=jn,Ct=n.stateNode.containerInfo,jn=!0,Cr(e,t,n),Ct=r,jn=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Sd(n,t,i),s=s.next}while(s!==r)}Cr(e,t,n);break;case 1:if(!_t&&(Gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){it(n,t,l)}Cr(e,t,n);break;case 21:Cr(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Cr(e,t,n),_t=r):Cr(e,t,n);break;default:Cr(e,t,n)}}function yp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pj),t.forEach(function(r){var s=Cj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,jn=!1;break e;case 3:Ct=l.stateNode.containerInfo,jn=!0;break e;case 4:Ct=l.stateNode.containerInfo,jn=!0;break e}l=l.return}if(Ct===null)throw Error(Q(160));Gx(a,i,s),Ct=null,jn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){it(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xx(t,e),t=t.sibling}function Xx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xn(t,e),Mn(e),r&4){try{la(3,e,e.return),sc(3,e)}catch(x){it(e,e.return,x)}try{la(5,e,e.return)}catch(x){it(e,e.return,x)}}break;case 1:xn(t,e),Mn(e),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(xn(t,e),Mn(e),r&512&&n!==null&&Gs(n,n.return),e.flags&32){var s=e.stateNode;try{pa(s,"")}catch(x){it(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&vv(s,a),Xu(l,i);var u=Xu(l,a);for(i=0;i<c.length;i+=2){var f=c[i],h=c[i+1];f==="style"?Sv(s,h):f==="dangerouslySetInnerHTML"?wv(s,h):f==="children"?pa(s,h):yf(s,f,h,u)}switch(l){case"input":Vu(s,a);break;case"textarea":xv(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Qs(s,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?Qs(s,!!a.multiple,a.defaultValue,!0):Qs(s,!!a.multiple,a.multiple?[]:"",!1))}s[ja]=a}catch(x){it(e,e.return,x)}}break;case 6:if(xn(t,e),Mn(e),r&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){it(e,e.return,x)}}break;case 3:if(xn(t,e),Mn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(x){it(e,e.return,x)}break;case 4:xn(t,e),Mn(e);break;case 13:xn(t,e),Mn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Jf=ft())),r&4&&yp(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(u=_t)||f,xn(t,e),_t=u):xn(t,e),Mn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(le=e,f=e.child;f!==null;){for(h=le=f;le!==null;){switch(m=le,p=m.child,m.tag){case 0:case 11:case 14:case 15:la(4,m,m.return);break;case 1:Gs(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){it(r,n,x)}}break;case 5:Gs(m,m.return);break;case 22:if(m.memoizedState!==null){bp(h);continue}}p!==null?(p.return=m,le=p):bp(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bv("display",i))}catch(x){it(e,e.return,x)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){it(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xn(t,e),Mn(e),r&4&&yp(e);break;case 21:break;default:xn(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yx(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pa(s,""),r.flags&=-33);var a=xp(e);Cd(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=xp(e);jd(e,l,i);break;default:throw Error(Q(161))}}catch(c){it(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vj(e,t,n){le=e,qx(e)}function qx(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var s=le,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ni;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||_t;l=Ni;var u=_t;if(Ni=i,(_t=c)&&!u)for(le=s;le!==null;)i=le,c=i.child,i.tag===22&&i.memoizedState!==null?Sp(s):c!==null?(c.return=i,le=c):Sp(s);for(;a!==null;)le=a,qx(a),a=a.sibling;le=s,Ni=l,_t=u}wp(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,le=a):wp(e)}}function wp(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||sc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Nn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&sp(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sp(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&ya(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}_t||t.flags&512&&Nd(t)}catch(m){it(t,t.return,m)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function bp(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Sp(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sc(4,t)}catch(c){it(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){it(t,s,c)}}var a=t.return;try{Nd(t)}catch(c){it(t,a,c)}break;case 5:var i=t.return;try{Nd(t)}catch(c){it(t,i,c)}}}catch(c){it(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var xj=Math.ceil,Tl=vr.ReactCurrentDispatcher,qf=vr.ReactCurrentOwner,dn=vr.ReactCurrentBatchConfig,De=0,Nt=null,pt=null,kt=0,Xt=0,Xs=ts(0),yt=0,Pa=null,ys=0,oc=0,Qf=0,ca=null,Wt=null,Jf=0,mo=1/0,nr=null,Rl=!1,kd=null,Wr=null,ji=!1,Mr=null,Pl=0,ua=0,Ed=null,el=-1,tl=0;function $t(){return De&6?ft():el!==-1?el:el=ft()}function Vr(e){return e.mode&1?De&2&&kt!==0?kt&-kt:tj.transition!==null?(tl===0&&(tl=Dv()),tl):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Uv(e.type)),e):1}function En(e,t,n,r){if(50<ua)throw ua=0,Ed=null,Error(Q(185));Fa(e,n,r),(!(De&2)||e!==Nt)&&(e===Nt&&(!(De&2)&&(oc|=n),yt===4&&Ir(e,kt)),Gt(e,r),n===1&&De===0&&!(t.mode&1)&&(mo=ft()+500,tc&&ns()))}function Gt(e,t){var n=e.callbackNode;tN(e,t);var r=hl(e,e===Nt?kt:0);if(r===0)n!==null&&_m(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_m(n),t===1)e.tag===0?ej(Np.bind(null,e)):ax(Np.bind(null,e)),qN(function(){!(De&6)&&ns()}),n=null;else{switch(Ov(r)){case 1:n=jf;break;case 4:n=Av;break;case 16:n=fl;break;case 536870912:n=Iv;break;default:n=fl}n=s0(n,Qx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qx(e,t){if(el=-1,tl=0,De&6)throw Error(Q(327));var n=e.callbackNode;if(no()&&e.callbackNode!==n)return null;var r=hl(e,e===Nt?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_l(e,r);else{t=r;var s=De;De|=2;var a=Zx();(Nt!==e||kt!==t)&&(nr=null,mo=ft()+500,ms(e,t));do try{bj();break}catch(l){Jx(e,l)}while(!0);Mf(),Tl.current=a,De=s,pt!==null?t=0:(Nt=null,kt=0,t=yt)}if(t!==0){if(t===2&&(s=ed(e),s!==0&&(r=s,t=Td(e,s))),t===1)throw n=Pa,ms(e,0),Ir(e,r),Gt(e,ft()),n;if(t===6)Ir(e,r);else{if(s=e.current.alternate,!(r&30)&&!yj(s)&&(t=_l(e,r),t===2&&(a=ed(e),a!==0&&(r=a,t=Td(e,a))),t===1))throw n=Pa,ms(e,0),Ir(e,r),Gt(e,ft()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:is(e,Wt,nr);break;case 3:if(Ir(e,r),(r&130023424)===r&&(t=Jf+500-ft(),10<t)){if(hl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){$t(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ld(is.bind(null,e,Wt,nr),t);break}is(e,Wt,nr);break;case 4:if(Ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-kn(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xj(r/1960))-r,10<r){e.timeoutHandle=ld(is.bind(null,e,Wt,nr),r);break}is(e,Wt,nr);break;case 5:is(e,Wt,nr);break;default:throw Error(Q(329))}}}return Gt(e,ft()),e.callbackNode===n?Qx.bind(null,e):null}function Td(e,t){var n=ca;return e.current.memoizedState.isDehydrated&&(ms(e,t).flags|=256),e=_l(e,t),e!==2&&(t=Wt,Wt=n,t!==null&&Rd(t)),e}function Rd(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function yj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Tn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~Qf,t&=~oc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kn(t),r=1<<n;e[n]=-1,t&=~r}}function Np(e){if(De&6)throw Error(Q(327));no();var t=hl(e,0);if(!(t&1))return Gt(e,ft()),null;var n=_l(e,t);if(e.tag!==0&&n===2){var r=ed(e);r!==0&&(t=r,n=Td(e,r))}if(n===1)throw n=Pa,ms(e,0),Ir(e,t),Gt(e,ft()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,is(e,Wt,nr),Gt(e,ft()),null}function Zf(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(mo=ft()+500,tc&&ns())}}function ws(e){Mr!==null&&Mr.tag===0&&!(De&6)&&no();var t=De;De|=1;var n=dn.transition,r=$e;try{if(dn.transition=null,$e=1,e)return e()}finally{$e=r,dn.transition=n,De=t,!(De&6)&&ns()}}function eh(){Xt=Xs.current,Xe(Xs)}function ms(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XN(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Df(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:fo(),Xe(Kt),Xe(Dt),Wf();break;case 5:Bf(r);break;case 4:fo();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:$f(r.type._context);break;case 22:case 23:eh()}n=n.return}if(Nt=e,pt=e=Hr(e.current,null),kt=Xt=t,yt=0,Pa=null,Qf=oc=ys=0,Wt=ca=null,us!==null){for(t=0;t<us.length;t++)if(n=us[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}us=null}return e}function Jx(e,t){do{var n=pt;try{if(Mf(),Qi.current=El,kl){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kl=!1}if(xs=0,St=xt=st=null,ia=!1,Ea=0,qf.current=null,n===null||n.return===null){yt=1,Pa=t,pt=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=up(i);if(p!==null){p.flags&=-257,dp(p,i,l,a,t),p.mode&1&&cp(a,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){cp(a,u,t),th();break e}c=Error(Q(426))}}else if(tt&&l.mode&1){var b=up(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dp(b,i,l,a,t),Of(ho(c,l));break e}}a=c=ho(c,l),yt!==4&&(yt=2),ca===null?ca=[a]:ca.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Ox(a,c,t);rp(a,g);break e;case 1:l=c;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wr===null||!Wr.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=Lx(a,l,t);rp(a,S);break e}}a=a.return}while(a!==null)}t0(n)}catch(k){t=k,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function Zx(){var e=Tl.current;return Tl.current=El,e===null?El:e}function th(){(yt===0||yt===3||yt===2)&&(yt=4),Nt===null||!(ys&268435455)&&!(oc&268435455)||Ir(Nt,kt)}function _l(e,t){var n=De;De|=2;var r=Zx();(Nt!==e||kt!==t)&&(nr=null,ms(e,t));do try{wj();break}catch(s){Jx(e,s)}while(!0);if(Mf(),De=n,Tl.current=r,pt!==null)throw Error(Q(261));return Nt=null,kt=0,yt}function wj(){for(;pt!==null;)e0(pt)}function bj(){for(;pt!==null&&!KS();)e0(pt)}function e0(e){var t=r0(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?t0(e):pt=t,qf.current=null}function t0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mj(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,pt=null;return}}else if(n=hj(n,t,Xt),n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);yt===0&&(yt=5)}function is(e,t,n){var r=$e,s=dn.transition;try{dn.transition=null,$e=1,Sj(e,t,n,r)}finally{dn.transition=s,$e=r}return null}function Sj(e,t,n,r){do no();while(Mr!==null);if(De&6)throw Error(Q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(nN(e,a),e===Nt&&(pt=Nt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ji||(ji=!0,s0(fl,function(){return no(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=dn.transition,dn.transition=null;var i=$e;$e=1;var l=De;De|=4,qf.current=null,gj(e,n),Xx(n,e),BN(ad),ml=!!od,ad=od=null,e.current=n,vj(n),YS(),De=l,$e=i,dn.transition=a}else e.current=n;if(ji&&(ji=!1,Mr=e,Pl=s),a=e.pendingLanes,a===0&&(Wr=null),qS(n.stateNode),Gt(e,ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rl)throw Rl=!1,e=kd,kd=null,e;return Pl&1&&e.tag!==0&&no(),a=e.pendingLanes,a&1?e===Ed?ua++:(ua=0,Ed=e):ua=0,ns(),null}function no(){if(Mr!==null){var e=Ov(Pl),t=dn.transition,n=$e;try{if(dn.transition=null,$e=16>e?16:e,Mr===null)var r=!1;else{if(e=Mr,Mr=null,Pl=0,De&6)throw Error(Q(331));var s=De;for(De|=4,le=e.current;le!==null;){var a=le,i=a.child;if(le.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(le=u;le!==null;){var f=le;switch(f.tag){case 0:case 11:case 15:la(8,f,a)}var h=f.child;if(h!==null)h.return=f,le=h;else for(;le!==null;){f=le;var m=f.sibling,p=f.return;if(Kx(f),f===u){le=null;break}if(m!==null){m.return=p,le=m;break}le=p}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}le=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,le=i;else e:for(;le!==null;){if(a=le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:la(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,le=g;break e}le=a.return}}var v=e.current;for(le=v;le!==null;){i=le;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,le=y;else e:for(i=v;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sc(9,l)}}catch(k){it(l,l.return,k)}if(l===i){le=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,le=S;break e}le=l.return}}if(De=s,ns(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(ql,e)}catch{}r=!0}return r}finally{$e=n,dn.transition=t}}return!1}function jp(e,t,n){t=ho(n,t),t=Ox(e,t,1),e=Br(e,t,1),t=$t(),e!==null&&(Fa(e,1,t),Gt(e,t))}function it(e,t,n){if(e.tag===3)jp(e,e,n);else for(;t!==null;){if(t.tag===3){jp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){e=ho(n,e),e=Lx(t,e,1),t=Br(t,e,1),e=$t(),t!==null&&(Fa(t,1,e),Gt(t,e));break}}t=t.return}}function Nj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(kt&n)===n&&(yt===4||yt===3&&(kt&130023424)===kt&&500>ft()-Jf?ms(e,0):Qf|=n),Gt(e,t)}function n0(e,t){t===0&&(e.mode&1?(t=mi,mi<<=1,!(mi&130023424)&&(mi=4194304)):t=1);var n=$t();e=dr(e,t),e!==null&&(Fa(e,t,n),Gt(e,n))}function jj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),n0(e,n)}function Cj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),n0(e,n)}var r0;r0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kt.current)Vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vt=!1,fj(e,t,n);Vt=!!(e.flags&131072)}else Vt=!1,tt&&t.flags&1048576&&ix(t,bl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zi(e,t),e=t.pendingProps;var s=lo(t,Dt.current);to(t,n),s=Hf(null,t,r,e,s,n);var a=Kf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(r)?(a=!0,yl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ff(t),s.updater=rc,t.stateNode=s,s._reactInternals=t,pd(t,r,e,n),t=xd(null,t,r,!0,a,n)):(t.tag=0,tt&&a&&If(t),Lt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ej(r),e=Nn(r,e),s){case 0:t=vd(null,t,r,e,n);break e;case 1:t=mp(null,t,r,e,n);break e;case 11:t=fp(null,t,r,e,n);break e;case 14:t=hp(null,t,r,Nn(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nn(r,s),vd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nn(r,s),mp(e,t,r,s,n);case 3:e:{if(Fx(t),e===null)throw Error(Q(387));r=t.pendingProps,a=t.memoizedState,s=a.element,hx(e,t),jl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ho(Error(Q(423)),t),t=pp(e,t,r,n,s);break e}else if(r!==s){s=ho(Error(Q(424)),t),t=pp(e,t,r,n,s);break e}else for(Jt=Ur(t.stateNode.containerInfo.firstChild),tn=t,tt=!0,Cn=null,n=dx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===s){t=fr(e,t,n);break e}Lt(e,t,r,n)}t=t.child}return t;case 5:return mx(t),e===null&&fd(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,id(r,s)?i=null:a!==null&&id(r,a)&&(t.flags|=32),zx(e,t),Lt(e,t,i,n),t.child;case 6:return e===null&&fd(t),null;case 13:return Ux(e,t,n);case 4:return Uf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uo(t,null,r,n):Lt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nn(r,s),fp(e,t,r,s,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,He(Sl,r._currentValue),r._currentValue=i,a!==null)if(Tn(a.value,i)){if(a.children===s.children&&!Kt.current){t=fr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ar(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),hd(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Q(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),hd(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Lt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,to(t,n),s=fn(s),r=r(s),t.flags|=1,Lt(e,t,r,n),t.child;case 14:return r=t.type,s=Nn(r,t.pendingProps),s=Nn(r.type,s),hp(e,t,r,s,n);case 15:return Mx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nn(r,s),Zi(e,t),t.tag=1,Yt(r)?(e=!0,yl(t)):e=!1,to(t,n),Dx(t,r,s),pd(t,r,s,n),xd(null,t,r,!0,e,n);case 19:return Bx(e,t,n);case 22:return $x(e,t,n)}throw Error(Q(156,t.tag))};function s0(e,t){return _v(e,t)}function kj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new kj(e,t,n,r)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ej(e){if(typeof e=="function")return nh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bf)return 11;if(e===Sf)return 14}return 2}function Hr(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nl(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")nh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zs:return ps(n.children,s,a,t);case wf:i=8,s|=8;break;case zu:return e=un(12,n,t,s|2),e.elementType=zu,e.lanes=a,e;case Fu:return e=un(13,n,t,s),e.elementType=Fu,e.lanes=a,e;case Uu:return e=un(19,n,t,s),e.elementType=Uu,e.lanes=a,e;case mv:return ac(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fv:i=10;break e;case hv:i=9;break e;case bf:i=11;break e;case Sf:i=14;break e;case Rr:i=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=un(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ps(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function ac(e,t,n,r){return e=un(22,e,r,t),e.elementType=mv,e.lanes=n,e.stateNode={isHidden:!1},e}function lu(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function cu(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tj(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rh(e,t,n,r,s,a,i,l,c){return e=new Tj(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=un(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ff(a),e}function Rj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function o0(e){if(!e)return Xr;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Yt(n))return ox(e,n,t)}return t}function a0(e,t,n,r,s,a,i,l,c){return e=rh(n,r,!0,e,s,a,i,l,c),e.context=o0(null),n=e.current,r=$t(),s=Vr(n),a=ar(r,s),a.callback=t??null,Br(n,a,s),e.current.lanes=s,Fa(e,s,r),Gt(e,r),e}function ic(e,t,n,r){var s=t.current,a=$t(),i=Vr(s);return n=o0(n),t.context===null?t.context=n:t.pendingContext=n,t=ar(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Br(s,t,i),e!==null&&(En(e,s,i,a),qi(e,s,i)),i}function Al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sh(e,t){Cp(e,t),(e=e.alternate)&&Cp(e,t)}function Pj(){return null}var i0=typeof reportError=="function"?reportError:function(e){console.error(e)};function oh(e){this._internalRoot=e}lc.prototype.render=oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));ic(e,t,null,null)};lc.prototype.unmount=oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){ic(null,e,null,null)}),t[ur]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var t=$v();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ar.length&&t!==0&&t<Ar[n].priority;n++);Ar.splice(n,0,e),n===0&&Fv(e)}};function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kp(){}function _j(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Al(i);a.call(u)}}var i=a0(t,r,e,0,null,!1,!1,"",kp);return e._reactRootContainer=i,e[ur]=i.current,Sa(e.nodeType===8?e.parentNode:e),ws(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Al(c);l.call(u)}}var c=rh(e,0,!1,null,null,!1,!1,"",kp);return e._reactRootContainer=c,e[ur]=c.current,Sa(e.nodeType===8?e.parentNode:e),ws(function(){ic(t,c,n,r)}),c}function uc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Al(i);l.call(c)}}ic(t,i,e,s)}else i=_j(n,t,e,s,r);return Al(i)}Lv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qo(t.pendingLanes);n!==0&&(Cf(t,n|1),Gt(t,ft()),!(De&6)&&(mo=ft()+500,ns()))}break;case 13:ws(function(){var r=dr(e,1);if(r!==null){var s=$t();En(r,e,1,s)}}),sh(e,1)}};kf=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var n=$t();En(t,e,134217728,n)}sh(e,134217728)}};Mv=function(e){if(e.tag===13){var t=Vr(e),n=dr(e,t);if(n!==null){var r=$t();En(n,e,t,r)}sh(e,t)}};$v=function(){return $e};zv=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};Qu=function(e,t,n){switch(t){case"input":if(Vu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ec(r);if(!s)throw Error(Q(90));gv(r),Vu(r,s)}}}break;case"textarea":xv(e,n);break;case"select":t=n.value,t!=null&&Qs(e,!!n.multiple,t,!1)}};Cv=Zf;kv=ws;var Aj={usingClientEntryPoint:!1,Events:[Ba,Ws,ec,Nv,jv,Zf]},Uo={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ij={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rv(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Pj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{ql=Ci.inject(Ij),Wn=Ci}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aj;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ah(t))throw Error(Q(200));return Rj(e,t,null,n)};sn.createRoot=function(e,t){if(!ah(e))throw Error(Q(299));var n=!1,r="",s=i0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rh(e,1,!1,null,null,n,!1,r,s),e[ur]=t.current,Sa(e.nodeType===8?e.parentNode:e),new oh(t)};sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Rv(t),e=e===null?null:e.stateNode,e};sn.flushSync=function(e){return ws(e)};sn.hydrate=function(e,t,n){if(!cc(t))throw Error(Q(200));return uc(null,e,t,!0,n)};sn.hydrateRoot=function(e,t,n){if(!ah(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=i0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=a0(t,null,e,1,n??null,s,!1,a,i),e[ur]=t.current,Sa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new lc(t)};sn.render=function(e,t,n){if(!cc(t))throw Error(Q(200));return uc(null,e,t,!1,n)};sn.unmountComponentAtNode=function(e){if(!cc(e))throw Error(Q(40));return e._reactRootContainer?(ws(function(){uc(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};sn.unstable_batchedUpdates=Zf;sn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cc(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return uc(e,t,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function l0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l0)}catch(e){console.error(e)}}l0(),lv.exports=sn;var So=lv.exports;const c0=ff(So);var Ep=So;Mu.createRoot=Ep.createRoot,Mu.hydrateRoot=Ep.hydrateRoot;var ih={};Object.defineProperty(ih,"__esModule",{value:!0});ih.parse=Fj;ih.serialize=Uj;const Dj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Oj=/^[\u0021-\u003A\u003C-\u007E]*$/,Lj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Mj=/^[\u0020-\u003A\u003D-\u007E]*$/,$j=Object.prototype.toString,zj=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Fj(e,t){const n=new zj,r=e.length;if(r<2)return n;const s=(t==null?void 0:t.decode)||Bj;let a=0;do{const i=e.indexOf("=",a);if(i===-1)break;const l=e.indexOf(";",a),c=l===-1?r:l;if(i>c){a=e.lastIndexOf(";",i-1)+1;continue}const u=Tp(e,a,i),f=Rp(e,i,u),h=e.slice(u,f);if(n[h]===void 0){let m=Tp(e,i+1,c),p=Rp(e,c,m);const w=s(e.slice(m,p));n[h]=w}a=c+1}while(a<r);return n}function Tp(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Rp(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function Uj(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Dj.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=r(t);if(!Oj.test(s))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+s;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!Lj.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!Mj.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!Wj(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function Bj(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Wj(e){return $j.call(e)==="[object Date]"}var Pp="popstate";function Vj(e={}){function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return Pd("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_a(s)}return Kj(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hj(){return Math.random().toString(36).substring(2,10)}function _p(e,t){return{usr:e.state,key:e.key,idx:t}}function Pd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Va(t):t,state:n,key:t&&t.key||r||Hj()}}function _a({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Va(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Kj(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l="POP",c=null,u=f();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function f(){return(i.state||{idx:null}).idx}function h(){l="POP";let b=f(),g=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:g})}function m(b,g){l="PUSH";let v=Pd(x.location,b,g);u=f()+1;let y=_p(v,u),S=x.createHref(v);try{i.pushState(y,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}a&&c&&c({action:l,location:x.location,delta:1})}function p(b,g){l="REPLACE";let v=Pd(x.location,b,g);u=f();let y=_p(v,u),S=x.createHref(v);i.replaceState(y,"",S),a&&c&&c({action:l,location:x.location,delta:0})}function w(b){return Yj(b)}let x={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Pp,h),c=b,()=>{s.removeEventListener(Pp,h),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:p,go(b){return i.go(b)}};return x}function Yj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_a(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function u0(e,t,n="/"){return Gj(e,t,n,!1)}function Gj(e,t,n,r){let s=typeof t=="string"?Va(t):t,a=hr(s.pathname||"/",n);if(a==null)return null;let i=d0(e);Xj(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=a2(a);l=s2(i[c],u,r)}return l}function d0(e,t=[],n=[],r=""){let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(wt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=ir([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(wt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),d0(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:n2(u,a.index),routesMeta:f})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of f0(a.path))s(a,i,c)}),t}function f0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=f0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Xj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qj=/^:[\w-]+$/,Qj=3,Jj=2,Zj=1,e2=10,t2=-2,Ap=e=>e==="*";function n2(e,t){let n=e.split("/"),r=n.length;return n.some(Ap)&&(r+=t2),t&&(r+=Jj),n.filter(s=>!Ap(s)).reduce((s,a)=>s+(qj.test(a)?Qj:a===""?Zj:e2),r)}function r2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function s2(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=Il({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Il({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:ir([a,h.pathname]),pathnameBase:u2(ir([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=ir([a,h.pathnameBase]))}return i}function Il(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=o2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},m)=>{if(f==="*"){let w=l[m]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function o2(e,t=!1,n=!0){Rn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function a2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function i2(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Va(e):e;return{pathname:n?n.startsWith("/")?n:l2(n,t):t,search:d2(r),hash:f2(s)}}function l2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function uu(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function h0(e){let t=c2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function m0(e,t,n,r=!1){let s;typeof e=="string"?s=Va(e):(s={...e},wt(!s.pathname||!s.pathname.includes("?"),uu("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),uu("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),uu("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=i2(s,l),u=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var ir=e=>e.join("/").replace(/\/\/+/g,"/"),u2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function h2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var p0=["POST","PUT","PATCH","DELETE"];new Set(p0);var m2=["GET",...p0];new Set(m2);var No=d.createContext(null);No.displayName="DataRouter";var dc=d.createContext(null);dc.displayName="DataRouterState";var g0=d.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var p2=d.createContext(new Map);p2.displayName="Fetchers";var g2=d.createContext(null);g2.displayName="Await";var Jn=d.createContext(null);Jn.displayName="Navigation";var fc=d.createContext(null);fc.displayName="Location";var xr=d.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var lh=d.createContext(null);lh.displayName="RouteError";function v2(e,{relative:t}={}){wt(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Jn),{hash:s,pathname:a,search:i}=Ka(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:ir([n,a])),r.createHref({pathname:l,search:i,hash:s})}function Ha(){return d.useContext(fc)!=null}function yr(){return wt(Ha(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(fc).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x0(e){d.useContext(Jn).static||d.useLayoutEffect(e)}function y0(){let{isDataRoute:e}=d.useContext(xr);return e?P2():x2()}function x2(){wt(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(No),{basename:t,navigator:n}=d.useContext(Jn),{matches:r}=d.useContext(xr),{pathname:s}=yr(),a=JSON.stringify(h0(r)),i=d.useRef(!1);return x0(()=>{i.current=!0}),d.useCallback((c,u={})=>{if(Rn(i.current,v0),!i.current)return;if(typeof c=="number"){n.go(c);return}let f=m0(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ir([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,a,s,e])}d.createContext(null);function Ka(e,{relative:t}={}){let{matches:n}=d.useContext(xr),{pathname:r}=yr(),s=JSON.stringify(h0(n));return d.useMemo(()=>m0(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function y2(e,t,n,r){wt(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=d.useContext(Jn),{matches:a}=d.useContext(xr),i=a[a.length-1],l=i?i.params:{},c=i?i.pathname:"/",u=i?i.pathnameBase:"/",f=i&&i.route;{let g=f&&f.path||"";w0(c,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=yr(),m;m=h;let p=m.pathname||"/",w=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=u0(e,{pathname:w});return Rn(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Rn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),j2(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:ir([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:ir([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r)}function w2(){let e=R2(),t=h2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=d.createElement(d.Fragment,null,d.createElement("p",null," Hey developer "),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:a},"ErrorBoundary")," or"," ",d.createElement("code",{style:a},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,i)}var b2=d.createElement(w2,null),S2=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?d.createElement(xr.Provider,{value:this.props.routeContext},d.createElement(lh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N2({routeContext:e,match:t,children:n}){let r=d.useContext(No);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(xr.Provider,{value:e},n)}function j2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);wt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let i=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,m=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||m){i=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,m=!1,p=null,w=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||b2,i&&(l<0&&f===0?(w0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===f&&(m=!0,w=u.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,f+1)),b=()=>{let g;return h?g=p:m?g=w:u.route.Component?g=d.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,d.createElement(N2,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?d.createElement(S2,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function ch(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C2(e){let t=d.useContext(No);return wt(t,ch(e)),t}function k2(e){let t=d.useContext(dc);return wt(t,ch(e)),t}function E2(e){let t=d.useContext(xr);return wt(t,ch(e)),t}function uh(e){let t=E2(e),n=t.matches[t.matches.length-1];return wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function T2(){return uh("useRouteId")}function R2(){var r;let e=d.useContext(lh),t=k2("useRouteError"),n=uh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function P2(){let{router:e}=C2("useNavigate"),t=uh("useNavigate"),n=d.useRef(!1);return x0(()=>{n.current=!0}),d.useCallback(async(s,a={})=>{Rn(n.current,v0),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Ip={};function w0(e,t,n){!t&&!Ip[e]&&(Ip[e]=!0,Rn(!1,n))}d.memo(_2);function _2({routes:e,future:t,state:n}){return y2(e,void 0,n,t)}function A2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){wt(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof n=="string"&&(n=Va(n));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:m="default"}=n,p=d.useMemo(()=>{let w=hr(c,i);return w==null?null:{location:{pathname:w,search:u,hash:f,state:h,key:m},navigationType:r}},[i,c,u,f,h,m,r]);return Rn(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(Jn.Provider,{value:l},d.createElement(fc.Provider,{children:t,value:p}))}var rl="get",sl="application/x-www-form-urlencoded";function hc(e){return e!=null&&typeof e.tagName=="string"}function I2(e){return hc(e)&&e.tagName.toLowerCase()==="button"}function D2(e){return hc(e)&&e.tagName.toLowerCase()==="form"}function O2(e){return hc(e)&&e.tagName.toLowerCase()==="input"}function L2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function M2(e,t){return e.button===0&&(!t||t==="_self")&&!L2(e)}function _d(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function $2(e,t){let n=_d(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var ki=null;function z2(){if(ki===null)try{new FormData(document.createElement("form"),0),ki=!1}catch{ki=!0}return ki}var F2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function du(e){return e!=null&&!F2.has(e)?(Rn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):e}function U2(e,t){let n,r,s,a,i;if(D2(e)){let l=e.getAttribute("action");r=l?hr(l,t):null,n=e.getAttribute("method")||rl,s=du(e.getAttribute("enctype"))||sl,a=new FormData(e)}else if(I2(e)||O2(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?hr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||rl,s=du(e.getAttribute("formenctype"))||du(l.getAttribute("enctype"))||sl,a=new FormData(l,e),!z2()){let{name:u,type:f,value:h}=e;if(f==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,h)}}else{if(hc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,r=null,s=sl,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}function dh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function B2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function V2(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await B2(a,n);return i.links?i.links():[]}return[]}));return G2(r.flat(1).filter(W2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Dp(e,t,n,r,s,a){let i=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var f;return n[u].pathname!==c.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var h;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function H2(e,t,{includeHydrateFallback:n}={}){return K2(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function K2(e){return[...new Set(e)]}function Y2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function G2(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(Y2(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X2=new Set([100,101,204,205]);function q2(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&hr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function b0(){let e=d.useContext(No);return dh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Q2(){let e=d.useContext(dc);return dh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var fh=d.createContext(void 0);fh.displayName="FrameworkContext";function S0(){let e=d.useContext(fh);return dh(e,"You must render this element inside a <HydratedRouter> element"),e}function J2(e,t){let n=d.useContext(fh),[r,s]=d.useState(!1),[a,i]=d.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=t,m=d.useRef(null);d.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=g=>{g.forEach(v=>{i(v.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[e]),d.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{s(!0)},w=()=>{s(!1),i(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:Bo(l,p),onBlur:Bo(c,w),onMouseEnter:Bo(u,p),onMouseLeave:Bo(f,w),onTouchStart:Bo(h,p)}]:[!1,m,{}]}function Bo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Z2({page:e,...t}){let{router:n}=b0(),r=d.useMemo(()=>u0(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?d.createElement(tC,{page:e,matches:r,...t}):null}function eC(e){let{manifest:t,routeModules:n}=S0(),[r,s]=d.useState([]);return d.useEffect(()=>{let a=!1;return V2(e,t,n).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,n]),r}function tC({page:e,matches:t,...n}){let r=yr(),{manifest:s,routeModules:a}=S0(),{basename:i}=b0(),{loaderData:l,matches:c}=Q2(),u=d.useMemo(()=>Dp(e,t,c,s,r,"data"),[e,t,c,s,r]),f=d.useMemo(()=>Dp(e,t,c,s,r,"assets"),[e,t,c,s,r]),h=d.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(t.forEach(g=>{var y;let v=s.routes[g.route.id];!v||!v.hasLoader||(!u.some(S=>S.route.id===g.route.id)&&g.route.id in l&&((y=a[g.route.id])!=null&&y.shouldRevalidate)||v.hasClientLoader?x=!0:w.add(g.route.id))}),w.size===0)return[];let b=q2(e,i);return x&&w.size>0&&b.searchParams.set("_routes",t.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[i,l,r,s,u,t,e,a]),m=d.useMemo(()=>H2(f,s),[f,s]),p=eC(f);return d.createElement(d.Fragment,null,h.map(w=>d.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),m.map(w=>d.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),p.map(({key:w,link:x})=>d.createElement("link",{key:w,...x})))}function nC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var N0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N0&&(window.__reactRouterVersion="7.6.3")}catch{}function rC({basename:e,children:t,window:n}){let r=d.useRef();r.current==null&&(r.current=Vj({window:n,v5Compat:!0}));let s=r.current,[a,i]=d.useState({action:s.action,location:s.location}),l=d.useCallback(c=>{d.startTransition(()=>i(c))},[i]);return d.useLayoutEffect(()=>s.listen(l),[s,l]),d.createElement(A2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var j0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C0=d.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h,...m},p){let{basename:w}=d.useContext(Jn),x=typeof u=="string"&&j0.test(u),b,g=!1;if(typeof u=="string"&&x&&(b=u,N0))try{let C=new URL(window.location.href),T=u.startsWith("//")?new URL(C.protocol+u):new URL(u),_=hr(T.pathname,w);T.origin===C.origin&&_!=null?u=_+T.search+T.hash:g=!0}catch{Rn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=v2(u,{relative:s}),[y,S,k]=J2(r,m),P=iC(u,{replace:i,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:h});function R(C){t&&t(C),C.defaultPrevented||P(C)}let N=d.createElement("a",{...m,...k,href:b||v,onClick:g||a?t:R,ref:nC(p,S),target:c,"data-discover":!x&&n==="render"?"true":void 0});return y&&!x?d.createElement(d.Fragment,null,N,d.createElement(Z2,{page:v})):N});C0.displayName="Link";var sC=d.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:i,viewTransition:l,children:c,...u},f){let h=Ka(i,{relative:u.relative}),m=yr(),p=d.useContext(dc),{navigator:w,basename:x}=d.useContext(Jn),b=p!=null&&hC(h)&&l===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,v=m.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&x&&(y=hr(y,x)||y);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=v===g||!s&&v.startsWith(g)&&v.charAt(S)==="/",P=y!=null&&(y===g||!s&&y.startsWith(g)&&y.charAt(g.length)==="/"),R={isActive:k,isPending:P,isTransitioning:b},N=k?t:void 0,C;typeof r=="function"?C=r(R):C=[r,k?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(R):a;return d.createElement(C0,{...u,"aria-current":N,className:C,ref:f,style:T,to:i,viewTransition:l},typeof c=="function"?c(R):c)});sC.displayName="NavLink";var oC=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:i=rl,action:l,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:h,...m},p)=>{let w=dC(),x=fC(l,{relative:u}),b=i.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&j0.test(l),v=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let S=y.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||i;w(S||y.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:s,state:a,relative:u,preventScrollReset:f,viewTransition:h})};return d.createElement("form",{ref:p,method:b,action:x,onSubmit:r?c:v,...m,"data-discover":!g&&e==="render"?"true":void 0})});oC.displayName="Form";function aC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k0(e){let t=d.useContext(No);return wt(t,aC(e)),t}function iC(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=y0(),c=yr(),u=Ka(e,{relative:a});return d.useCallback(f=>{if(M2(f,t)){f.preventDefault();let h=n!==void 0?n:_a(c)===_a(u);l(e,{replace:h,state:r,preventScrollReset:s,relative:a,viewTransition:i})}},[c,l,u,n,r,t,e,s,a,i])}function lC(e){Rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=d.useRef(_d(e)),n=d.useRef(!1),r=yr(),s=d.useMemo(()=>$2(r.search,n.current?null:t.current),[r.search]),a=y0(),i=d.useCallback((l,c)=>{const u=_d(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,i]}var cC=0,uC=()=>`__${String(++cC)}__`;function dC(){let{router:e}=k0("useSubmit"),{basename:t}=d.useContext(Jn),n=T2();return d.useCallback(async(r,s={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=U2(r,t);if(s.navigate===!1){let f=s.fetcherKey||uC();await e.fetch(f,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function fC(e,{relative:t}={}){let{basename:n}=d.useContext(Jn),r=d.useContext(xr);wt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ka(e||".",{relative:t})},i=yr();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ir([n,a.pathname])),_a(a)}function hC(e,t={}){let n=d.useContext(g0);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=k0("useViewTransitionState"),s=Ka(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=hr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=hr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Il(s.pathname,i)!=null||Il(s.pathname,a)!=null}[...X2];var mC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gC=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:l,...c},u)=>d.createElement("svg",{ref:u,...mC,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${pC(e)}`,...c},[...t.map(([f,h])=>d.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var de=gC;const jo=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Op=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),hh=de("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),E0=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ro=de("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),T0=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),da=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),_r=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),vC=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Lp=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Kr=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),qs=de("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),xC=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ad=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yC=de("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),Dl=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),mr=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),mh=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),wC=de("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),fu=de("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Zt=de("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ol=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),bC=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),SC=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),NC=de("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Id=de("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),R0=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),jC=de("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),P0=de("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Ll=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),_0=de("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),CC=de("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Mp=de("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Et=de("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),en=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ts=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ph=de("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),kC=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),EC=de("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),TC=de("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),RC=de("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),PC=de("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),qr=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),$p=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ml=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),A0=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),_C=de("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),AC=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),I0=de("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),gh=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),zp=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ht=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),IC=de("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),DC=de("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),OC=de("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),LC=de("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),MC=de("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Pn=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var $C=e=>{switch(e){case"success":return UC;case"info":return WC;case"warning":return BC;case"error":return VC;default:return null}},zC=Array(12).fill(0),FC=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},zC.map((n,r)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),UC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HC=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),KC=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Dd=1,YC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Dd++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,i=r.then(async c=>{if(a=["resolve",c],te.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(XC(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:f})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Dd++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bt=new YC,GC=(e,t)=>{let n=(t==null?void 0:t.id)||Dd++;return Bt.addToast({title:e,...t,id:n}),n},XC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",qC=GC,QC=()=>Bt.toasts,JC=()=>Bt.getActiveToasts(),Wo=Object.assign(qC,{success:Bt.success,info:Bt.info,warning:Bt.warning,error:Bt.error,custom:Bt.custom,message:Bt.message,promise:Bt.promise,dismiss:Bt.dismiss,loading:Bt.loading},{getHistory:QC,getToasts:JC});function ZC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ZC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ei(e){return e.label!==void 0}var ek=3,tk="32px",nk="16px",Fp=4e3,rk=356,sk=14,ok=20,ak=200;function yn(...e){return e.filter(Boolean).join(" ")}function ik(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var lk=e=>{var t,n,r,s,a,i,l,c,u,f,h;let{invert:m,toast:p,unstyled:w,interacting:x,setHeights:b,visibleToasts:g,heights:v,index:y,toasts:S,expanded:k,removeToast:P,defaultRichColors:R,closeButton:N,style:C,cancelButtonStyle:T,actionButtonStyle:_,className:E="",descriptionClassName:I="",duration:D,position:K,gap:U,loadingIcon:L,expandByDefault:j,classNames:A,icons:z,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:M}=e,[ee,se]=te.useState(null),[ue,Te]=te.useState(null),[J,oe]=te.useState(!1),[pe,fe]=te.useState(!1),[ce,ve]=te.useState(!1),[je,We]=te.useState(!1),[G,O]=te.useState(!1),[X,re]=te.useState(0),[q,$]=te.useState(0),W=te.useRef(p.duration||D||Fp),ae=te.useRef(null),Ee=te.useRef(null),Ce=y===0,ye=y+1<=g,xe=p.type,ge=p.dismissible!==!1,Oe=p.className||"",nt=p.descriptionClassName||"",Ut=te.useMemo(()=>v.findIndex(me=>me.toastId===p.id)||0,[v,p.id]),ht=te.useMemo(()=>{var me;return(me=p.closeButton)!=null?me:N},[p.closeButton,N]),qe=te.useMemo(()=>p.duration||D||Fp,[p.duration,D]),Qe=te.useRef(0),bt=te.useRef(0),V=te.useRef(0),he=te.useRef(null),[Ae,ie]=K.split("-"),Fe=te.useMemo(()=>v.reduce((me,we,ke)=>ke>=Ut?me:me+we.height,0),[v,Ut]),jt=KC(),vn=p.invert||m,vt=xe==="loading";bt.current=te.useMemo(()=>Ut*U+Fe,[Ut,Fe]),te.useEffect(()=>{W.current=qe},[qe]),te.useEffect(()=>{oe(!0)},[]),te.useEffect(()=>{let me=Ee.current;if(me){let we=me.getBoundingClientRect().height;return $(we),b(ke=>[{toastId:p.id,height:we,position:p.position},...ke]),()=>b(ke=>ke.filter(Ue=>Ue.toastId!==p.id))}},[b,p.id]),te.useLayoutEffect(()=>{if(!J)return;let me=Ee.current,we=me.style.height;me.style.height="auto";let ke=me.getBoundingClientRect().height;me.style.height=we,$(ke),b(Ue=>Ue.find(ze=>ze.toastId===p.id)?Ue.map(ze=>ze.toastId===p.id?{...ze,height:ke}:ze):[{toastId:p.id,height:ke,position:p.position},...Ue])},[J,p.title,p.description,b,p.id]);let at=te.useCallback(()=>{fe(!0),re(bt.current),b(me=>me.filter(we=>we.toastId!==p.id)),setTimeout(()=>{P(p)},ak)},[p,P,b,bt]);te.useEffect(()=>{if(p.promise&&xe==="loading"||p.duration===1/0||p.type==="loading")return;let me;return k||x||M&&jt?(()=>{if(V.current<Qe.current){let we=new Date().getTime()-Qe.current;W.current=W.current-we}V.current=new Date().getTime()})():W.current!==1/0&&(Qe.current=new Date().getTime(),me=setTimeout(()=>{var we;(we=p.onAutoClose)==null||we.call(p,p),at()},W.current)),()=>clearTimeout(me)},[k,x,p,xe,M,jt,at]),te.useEffect(()=>{p.delete&&at()},[at,p.delete]);function Nr(){var me,we,ke;return z!=null&&z.loading?te.createElement("div",{className:yn(A==null?void 0:A.loader,(me=p==null?void 0:p.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":xe==="loading"},z.loading):L?te.createElement("div",{className:yn(A==null?void 0:A.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":xe==="loading"},L):te.createElement(FC,{className:yn(A==null?void 0:A.loader,(ke=p==null?void 0:p.classNames)==null?void 0:ke.loader),visible:xe==="loading"})}return te.createElement("li",{tabIndex:0,ref:Ee,className:yn(E,Oe,A==null?void 0:A.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[xe],(n=p==null?void 0:p.classNames)==null?void 0:n[xe]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:R,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":G,"data-removed":pe,"data-visible":ye,"data-y-position":Ae,"data-x-position":ie,"data-index":y,"data-front":Ce,"data-swiping":ce,"data-dismissible":ge,"data-type":xe,"data-invert":vn,"data-swipe-out":je,"data-swipe-direction":ue,"data-expanded":!!(k||j&&J),style:{"--index":y,"--toasts-before":y,"--z-index":S.length-y,"--offset":`${pe?X:bt.current}px`,"--initial-height":j?"auto":`${q}px`,...C,...p.style},onDragEnd:()=>{ve(!1),se(null),he.current=null},onPointerDown:me=>{vt||!ge||(ae.current=new Date,re(bt.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(ve(!0),he.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,we,ke,Ue;if(je||!ge)return;he.current=null;let ze=Number(((me=Ee.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ve=Number(((we=Ee.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Be=new Date().getTime()-((ke=ae.current)==null?void 0:ke.getTime()),Je=ee==="x"?ze:Ve,Ze=Math.abs(Je)/Be;if(Math.abs(Je)>=ok||Ze>.11){re(bt.current),(Ue=p.onDismiss)==null||Ue.call(p,p),Te(ee==="x"?ze>0?"right":"left":Ve>0?"down":"up"),at(),We(!0),O(!1);return}ve(!1),se(null)},onPointerMove:me=>{var we,ke,Ue,ze;if(!he.current||!ge||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let Ve=me.clientY-he.current.y,Be=me.clientX-he.current.x,Je=(ke=e.swipeDirections)!=null?ke:ik(K);!ee&&(Math.abs(Be)>1||Math.abs(Ve)>1)&&se(Math.abs(Be)>Math.abs(Ve)?"x":"y");let Ze={x:0,y:0};ee==="y"?(Je.includes("top")||Je.includes("bottom"))&&(Je.includes("top")&&Ve<0||Je.includes("bottom")&&Ve>0)&&(Ze.y=Ve):ee==="x"&&(Je.includes("left")||Je.includes("right"))&&(Je.includes("left")&&Be<0||Je.includes("right")&&Be>0)&&(Ze.x=Be),(Math.abs(Ze.x)>0||Math.abs(Ze.y)>0)&&O(!0),(Ue=Ee.current)==null||Ue.style.setProperty("--swipe-amount-x",`${Ze.x}px`),(ze=Ee.current)==null||ze.style.setProperty("--swipe-amount-y",`${Ze.y}px`)}},ht&&!p.jsx?te.createElement("button",{"aria-label":ne,"data-disabled":vt,"data-close-button":!0,onClick:vt||!ge?()=>{}:()=>{var me;at(),(me=p.onDismiss)==null||me.call(p,p)},className:yn(A==null?void 0:A.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=z==null?void 0:z.close)!=null?a:HC):null,p.jsx||d.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:te.createElement(te.Fragment,null,xe||p.icon||p.promise?te.createElement("div",{"data-icon":"",className:yn(A==null?void 0:A.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Nr():null,p.type!=="loading"?p.icon||(z==null?void 0:z[xe])||$C(xe):null):null,te.createElement("div",{"data-content":"",className:yn(A==null?void 0:A.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:yn(A==null?void 0:A.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?te.createElement("div",{"data-description":"",className:yn(I,nt,A==null?void 0:A.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),d.isValidElement(p.cancel)?p.cancel:p.cancel&&Ei(p.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:me=>{var we,ke;Ei(p.cancel)&&ge&&((ke=(we=p.cancel).onClick)==null||ke.call(we,me),at())},className:yn(A==null?void 0:A.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,d.isValidElement(p.action)?p.action:p.action&&Ei(p.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||_,onClick:me=>{var we,ke;Ei(p.action)&&((ke=(we=p.action).onClick)==null||ke.call(we,me),!me.defaultPrevented&&at())},className:yn(A==null?void 0:A.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function Up(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ck(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?nk:tk;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var uk=d.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:h,duration:m,style:p,visibleToasts:w=ek,toastOptions:x,dir:b=Up(),gap:g=sk,loadingIcon:v,icons:y,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:k}=e,[P,R]=te.useState([]),N=te.useMemo(()=>Array.from(new Set([r].concat(P.filter(M=>M.position).map(M=>M.position)))),[P,r]),[C,T]=te.useState([]),[_,E]=te.useState(!1),[I,D]=te.useState(!1),[K,U]=te.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=te.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=te.useRef(null),z=te.useRef(!1),ne=te.useCallback(M=>{R(ee=>{var se;return(se=ee.find(ue=>ue.id===M.id))!=null&&se.delete||Bt.dismiss(M.id),ee.filter(({id:ue})=>ue!==M.id)})},[]);return te.useEffect(()=>Bt.subscribe(M=>{if(M.dismiss){R(ee=>ee.map(se=>se.id===M.id?{...se,delete:!0}:se));return}setTimeout(()=>{c0.flushSync(()=>{R(ee=>{let se=ee.findIndex(ue=>ue.id===M.id);return se!==-1?[...ee.slice(0,se),{...ee[se],...M},...ee.slice(se+1)]:[M,...ee]})})})}),[]),te.useEffect(()=>{if(f!=="system"){U(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:ee})=>{U(ee?"dark":"light")})}catch{M.addListener(({matches:se})=>{try{U(se?"dark":"light")}catch(ue){console.error(ue)}})}},[f]),te.useEffect(()=>{P.length<=1&&E(!1)},[P]),te.useEffect(()=>{let M=ee=>{var se,ue;s.every(Te=>ee[Te]||ee.code===Te)&&(E(!0),(se=L.current)==null||se.focus()),ee.code==="Escape"&&(document.activeElement===L.current||(ue=L.current)!=null&&ue.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),te.useEffect(()=>{if(L.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,z.current=!1)}},[L.current]),te.createElement("section",{ref:t,"aria-label":`${S} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((M,ee)=>{var se;let[ue,Te]=M.split("-");return P.length?te.createElement("ol",{key:M,dir:b==="auto"?Up():b,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":ue,"data-lifted":_&&P.length>1&&!a,"data-x-position":Te,style:{"--front-toast-height":`${((se=C[0])==null?void 0:se.height)||0}px`,"--width":`${rk}px`,"--gap":`${g}px`,...p,...ck(c,u)},onBlur:J=>{z.current&&!J.currentTarget.contains(J.relatedTarget)&&(z.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||z.current||(z.current=!0,A.current=J.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{I||E(!1)},onDragEnd:()=>E(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},P.filter(J=>!J.position&&ee===0||J.position===M).map((J,oe)=>{var pe,fe;return te.createElement(lk,{key:J.id,icons:y,index:oe,toast:J,defaultRichColors:h,duration:(pe=x==null?void 0:x.duration)!=null?pe:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:w,closeButton:(fe=x==null?void 0:x.closeButton)!=null?fe:i,interacting:I,position:M,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ne,toasts:P.filter(ce=>ce.position==J.position),heights:C.filter(ce=>ce.position==J.position),setHeights:T,expandByDefault:a,gap:g,loadingIcon:v,expanded:_,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});function Bp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function D0(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Bp(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Bp(e[s],null)}}}}function Pe(...e){return d.useCallback(D0(...e),e)}function po(e){const t=dk(e),n=d.forwardRef((r,s)=>{const{children:a,...i}=r,l=d.Children.toArray(a),c=l.find(hk);if(c){const u=c.props.children,f=l.map(h=>h===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,f):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var O0=po("Slot");function dk(e){const t=d.forwardRef((n,r)=>{const{children:s,...a}=n;if(d.isValidElement(s)){const i=pk(s),l=mk(a,s.props);return s.type!==d.Fragment&&(l.ref=r?D0(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L0=Symbol("radix.slottable");function fk(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=L0,t}function hk(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L0}function mk(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function pk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function M0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=M0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=M0(e))&&(r&&(r+=" "),r+=t);return r}const Wp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Vp=$0,z0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Vp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=a==null?void 0:a[u];if(f===null)return null;const m=Wp(f)||Wp(h);return s[u][m]}),l=n&&Object.entries(n).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...a,...l}[x]):{...a,...l}[x]===b})?[...u,h,m]:u},[]);return Vp(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};function gk(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=F0(t))&&(r&&(r+=" "),r+=n);return r}function F0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=F0(e[r]))&&(n&&(n+=" "),n+=t);return n}var vh="-";function vk(e){var t=yk(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(vh);return c[0]===""&&c.length!==1&&c.shift(),U0(c,t)||xk(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function U0(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?U0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(vh);return(i=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:i.classGroupId}}var Hp=/^\[(.+)\]$/;function xk(e){if(Hp.test(e)){var t=Hp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function yk(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=bk(Object.entries(e.classGroups),n);return s.forEach(function(a){var i=a[0],l=a[1];Od(l,r,i,t)}),r}function Od(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:Kp(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(wk(s)){Od(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Od(c,Kp(t,l),n,r)})})}function Kp(e,t){var n=e;return t.split(vh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function wk(e){return e.isThemeGetter}function bk(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,a]}):e}function Sk(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,i){n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var B0="!";function Nk(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,f,h=0;h<i.length;h++){var m=i[h];if(c===0){if(m===r&&(n||i.slice(h,h+s)===t)){l.push(i.slice(u,h)),u=h+s;continue}if(m==="/"){f=h;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(B0),x=w?p.substring(1):p,b=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:b}}}function jk(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Ck(e){return{cache:Sk(e.cacheSize),splitModifiers:Nk(e),...vk(e)}}var kk=/\s+/;function Ek(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(kk).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,f=l.baseClassName,h=l.maybePostfixModifierPosition,m=r(h?f.substring(0,h):f),p=!!h;if(!m){if(!h)return{isTailwindClass:!1,originalClassName:i};if(m=r(f),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=jk(c).join(":"),x=u?w+B0:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,f=l+c;return a.has(f)?!1:(a.add(f),s(c,u).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function Tk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,i=l;function l(u){var f=t[0],h=t.slice(1),m=h.reduce(function(p,w){return w(p)},f());return r=Ck(m),s=r.cache.get,a=r.cache.set,i=c,c(u)}function c(u){var f=s(u);if(f)return f;var h=Ek(u,r);return a(u,h),h}return function(){return i(gk.apply(null,arguments))}}function Ye(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var W0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rk=/^\d+\/\d+$/,Pk=new Set(["px","full","screen"]),_k=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ak=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ik=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function wn(e){return fs(e)||Pk.has(e)||Rk.test(e)||Ld(e)}function Ld(e){return Rs(e,"length",zk)}function Dk(e){return Rs(e,"size",V0)}function Ok(e){return Rs(e,"position",V0)}function Lk(e){return Rs(e,"url",Fk)}function Ti(e){return Rs(e,"number",fs)}function fs(e){return!Number.isNaN(Number(e))}function Mk(e){return e.endsWith("%")&&fs(e.slice(0,-1))}function Vo(e){return Yp(e)||Rs(e,"number",Yp)}function Ie(e){return W0.test(e)}function Ho(){return!0}function kr(e){return _k.test(e)}function $k(e){return Rs(e,"",Uk)}function Rs(e,t,n){var r=W0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function zk(e){return Ak.test(e)}function V0(){return!1}function Fk(e){return e.startsWith("url(")}function Yp(e){return Number.isInteger(Number(e))}function Uk(e){return Ik.test(e)}function Bk(){var e=Ye("colors"),t=Ye("spacing"),n=Ye("blur"),r=Ye("brightness"),s=Ye("borderColor"),a=Ye("borderRadius"),i=Ye("borderSpacing"),l=Ye("borderWidth"),c=Ye("contrast"),u=Ye("grayscale"),f=Ye("hueRotate"),h=Ye("invert"),m=Ye("gap"),p=Ye("gradientColorStops"),w=Ye("gradientColorStopPositions"),x=Ye("inset"),b=Ye("margin"),g=Ye("opacity"),v=Ye("padding"),y=Ye("saturate"),S=Ye("scale"),k=Ye("sepia"),P=Ye("skew"),R=Ye("space"),N=Ye("translate"),C=function(){return["auto","contain","none"]},T=function(){return["auto","hidden","clip","visible","scroll"]},_=function(){return["auto",Ie,t]},E=function(){return[Ie,t]},I=function(){return["",wn]},D=function(){return["auto",fs,Ie]},K=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},U=function(){return["solid","dashed","dotted","double","none"]},L=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},j=function(){return["start","end","center","between","around","evenly","stretch"]},A=function(){return["","0",Ie]},z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ne=function(){return[fs,Ti]},M=function(){return[fs,Ie]};return{cacheSize:500,theme:{colors:[Ho],spacing:[wn],blur:["none","",kr,Ie],brightness:ne(),borderColor:[e],borderRadius:["none","","full",kr,Ie],borderSpacing:E(),borderWidth:I(),contrast:ne(),grayscale:A(),hueRotate:M(),invert:A(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[Mk,Ld],inset:_(),margin:_(),opacity:ne(),padding:E(),saturate:ne(),scale:ne(),sepia:A(),skew:M(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[kr]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(K(),[Ie])}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vo]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Vo]}],"grid-cols":[{"grid-cols":[Ho]}],"col-start-end":[{col:["auto",{span:["full",Vo]},Ie]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Ho]}],"row-start-end":[{row:["auto",{span:[Vo]},Ie]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(j())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(j(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(j(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ie,t]}],"min-w":[{"min-w":["min","max","fit",Ie,wn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[kr]},kr,Ie]}],h:[{h:[Ie,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ie,wn]}],"max-h":[{"max-h":[Ie,t,"min","max","fit"]}],"font-size":[{text:["base",kr,Ld]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ti]}],"font-family":[{font:[Ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",fs,Ti]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ie,wn]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(U(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",wn]}],"underline-offset":[{"underline-offset":["auto",Ie,wn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(K(),[Ok])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Dk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(U(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(U())}],"outline-offset":[{"outline-offset":[Ie,wn]}],"outline-w":[{outline:[wn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[wn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kr,$k]}],"shadow-color":[{shadow:[Ho]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":L()}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kr,Ie]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Vo,Ie]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wn,Ti]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Wk=Tk(Bk);function Re(...e){return Wk($0(e))}const xh=z0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function B({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?O0:"button";return o.jsx(a,{"data-slot":"button",className:Re(xh({variant:t,size:n,className:e})),...s})}function Vk(e,t){const n=d.createContext(t),r=a=>{const{children:i,...l}=a,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Dn(e,t=[]){let n=[];function r(a,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=h=>{var g;const{scope:m,children:p,...w}=h,x=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=d.useMemo(()=>w,Object.values(w));return o.jsx(x.Provider,{value:b,children:p})};u.displayName=a+"Provider";function f(h,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=d.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,f]}const s=()=>{const a=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Hk(s,...t)]}function Hk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function At(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var gt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Kk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=Kk.reduce((e,t)=>{const n=po(`Primitive.${t}`),r=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yk(e,t){e&&So.flushSync(()=>e.dispatchEvent(t))}var H0={exports:{}},K0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=d;function Gk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xk=typeof Object.is=="function"?Object.is:Gk,qk=go.useState,Qk=go.useEffect,Jk=go.useLayoutEffect,Zk=go.useDebugValue;function eE(e,t){var n=t(),r=qk({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return Jk(function(){s.value=n,s.getSnapshot=t,hu(s)&&a({inst:s})},[e,n,t]),Qk(function(){return hu(s)&&a({inst:s}),e(function(){hu(s)&&a({inst:s})})},[e]),Zk(n),n}function hu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xk(e,n)}catch{return!0}}function tE(e,t){return t()}var nE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tE:eE;K0.useSyncExternalStore=go.useSyncExternalStore!==void 0?go.useSyncExternalStore:nE;H0.exports=K0;var rE=H0.exports;function sE(){return rE.useSyncExternalStore(oE,()=>!0,()=>!1)}function oE(){return()=>{}}var yh="Avatar",[aE,O5]=Dn(yh),[iE,Y0]=aE(yh),G0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=d.useState("idle");return o.jsx(iE,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(Se.span,{...r,ref:t})})});G0.displayName=yh;var X0="AvatarImage",q0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=Y0(X0,n),l=lE(r,a),c=At(u=>{s(u),i.onImageLoadingStatusChange(u)});return gt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Se.img,{...a,ref:t,src:r}):null});q0.displayName=X0;var Q0="AvatarFallback",J0=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=Y0(Q0,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(Se.span,{...s,ref:t}):null});J0.displayName=Q0;function Gp(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function lE(e,{referrerPolicy:t,crossOrigin:n}){const r=sE(),s=d.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>Gp(a,e));return gt(()=>{l(Gp(a,e))},[a,e]),gt(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),f=c("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,n,t]),i}var cE=G0,uE=q0,dE=J0;function lt({className:e,...t}){return o.jsx(cE,{"data-slot":"avatar",className:Re("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function ct({className:e,...t}){return o.jsx(uE,{"data-slot":"avatar-image",className:Re("aspect-square size-full",e),...t})}function ut({className:e,...t}){return o.jsx(dE,{"data-slot":"avatar-fallback",className:Re("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class fE{constructor(){mt(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const hE=new fE;var Md={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,a=n.XMLHttpRequest,i=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,f=n.Promise,h=n.fetch,m=n.Response,p=n.TextDecoder,w=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(O){u.readyState="complete"},!1)),a==null&&l!=null&&(a=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(O){function X(){}return X.prototype=O,new X}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var b=h;h=function(O,X){var re=X.signal;return b(O,{headers:X.headers,credentials:X.credentials,cache:X.cache}).then(function(q){var $=q.body.getReader();return re._reader=$,re._aborted&&re._reader.cancel(),{status:q.status,statusText:q.statusText,headers:q.headers,body:{getReader:function(){return $}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(O){function X(ye,xe,ge){if(ge===1)return ye>=128>>xe&&ye<<xe<=2047;if(ge===2)return ye>=2048>>xe&&ye<<xe<=55295||ye>=57344>>xe&&ye<<xe<=65535;if(ge===3)return ye>=65536>>xe&&ye<<xe<=1114111;throw new Error}function re(ye,xe){if(ye===6*1)return xe>>6>15?3:xe>31?2:1;if(ye===6*2)return xe>15?3:2;if(ye===6*3)return 3;throw new Error}for(var q=65533,$="",W=this.bitsNeeded,ae=this.codePoint,Ee=0;Ee<O.length;Ee+=1){var Ce=O[Ee];W!==0&&(Ce<128||Ce>191||!X(ae<<6|Ce&63,W-6,re(W,ae)))&&(W=0,ae=q,$+=String.fromCharCode(ae)),W===0?(Ce>=0&&Ce<=127?(W=0,ae=Ce):Ce>=192&&Ce<=223?(W=6*1,ae=Ce&31):Ce>=224&&Ce<=239?(W=6*2,ae=Ce&15):Ce>=240&&Ce<=247?(W=6*3,ae=Ce&7):(W=0,ae=q),W!==0&&!X(ae,W,re(W,ae))&&(W=0,ae=q)):(W-=6,ae=ae<<6|Ce&63),W===0&&(ae<=65535?$+=String.fromCharCode(ae):($+=String.fromCharCode(55296+(ae-65535-1>>10)),$+=String.fromCharCode(56320+(ae-65535-1&1023))))}return this.bitsNeeded=W,this.codePoint=ae,$};var v=function(){try{return new p().decode(new w().encode("test"),{stream:!0})==="test"}catch(O){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+O)}return!1};(p==null||w==null||!v())&&(p=g);var y=function(){};function S(O){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onload=y,this.onerror=y,this.onreadystatechange=y,this._contentType="",this._xhr=O,this._sendTimeout=0,this._abort=y}S.prototype.open=function(O,X){this._abort(!0);var re=this,q=this._xhr,$=1,W=0;this._abort=function(ge){re._sendTimeout!==0&&(s(re._sendTimeout),re._sendTimeout=0),($===1||$===2||$===3)&&($=4,q.onload=y,q.onerror=y,q.onabort=y,q.onprogress=y,q.onreadystatechange=y,q.abort(),W!==0&&(s(W),W=0),ge||(re.readyState=4,re.onabort(null),re.onreadystatechange())),$=0};var ae=function(){if($===1){var ge=0,Oe="",nt=void 0;if("contentType"in q)ge=200,Oe="OK",nt=q.contentType;else try{ge=q.status,Oe=q.statusText,nt=q.getResponseHeader("Content-Type")}catch{ge=0,Oe="",nt=void 0}ge!==0&&($=2,re.readyState=2,re.status=ge,re.statusText=Oe,re._contentType=nt,re.onreadystatechange())}},Ee=function(){if(ae(),$===2||$===3){$=3;var ge="";try{ge=q.responseText}catch{}re.readyState=3,re.responseText=ge,re.onprogress()}},Ce=function(ge,Oe){if((Oe==null||Oe.preventDefault==null)&&(Oe={preventDefault:y}),Ee(),$===1||$===2||$===3){if($=4,W!==0&&(s(W),W=0),re.readyState=4,ge==="load")re.onload(Oe);else if(ge==="error")re.onerror(Oe);else if(ge==="abort")re.onabort(Oe);else throw new TypeError;re.onreadystatechange()}},ye=function(ge){q!=null&&(q.readyState===4?(!("onload"in q)||!("onerror"in q)||!("onabort"in q))&&Ce(q.responseText===""?"error":"load",ge):q.readyState===3?"onprogress"in q||Ee():q.readyState===2&&ae())},xe=function(){W=r(function(){xe()},500),q.readyState===3&&Ee()};"onload"in q&&(q.onload=function(ge){Ce("load",ge)}),"onerror"in q&&(q.onerror=function(ge){Ce("error",ge)}),"onabort"in q&&(q.onabort=function(ge){Ce("abort",ge)}),"onprogress"in q&&(q.onprogress=Ee),"onreadystatechange"in q&&(q.onreadystatechange=function(ge){ye(ge)}),("contentType"in q||!("ontimeout"in a.prototype))&&(X+=(X.indexOf("?")===-1?"?":"&")+"padding=true"),q.open(O,X,!0),"readyState"in q&&(W=r(function(){xe()},0))},S.prototype.abort=function(){this._abort(!1)},S.prototype.getResponseHeader=function(O){return this._contentType},S.prototype.setRequestHeader=function(O,X){var re=this._xhr;"setRequestHeader"in re&&re.setRequestHeader(O,X)},S.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},S.prototype.send=function(){if((!("ontimeout"in a.prototype)||!("sendAsBinary"in a.prototype)&&!("mozAnon"in a.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var O=this;O._sendTimeout=r(function(){O._sendTimeout=0,O.send()},4);return}var X=this._xhr;"withCredentials"in X&&(X.withCredentials=this.withCredentials);try{X.send(void 0)}catch(re){throw re}};function k(O){return O.replace(/[A-Z]/g,function(X){return String.fromCharCode(X.charCodeAt(0)+32)})}function P(O){for(var X=Object.create(null),re=O.split(`\r
`),q=0;q<re.length;q+=1){var $=re[q],W=$.split(": "),ae=W.shift(),Ee=W.join(": ");X[k(ae)]=Ee}this._map=X}P.prototype.get=function(O){return this._map[k(O)]},a!=null&&a.HEADERS_RECEIVED==null&&(a.HEADERS_RECEIVED=2);function R(){}R.prototype.open=function(O,X,re,q,$,W,ae){O.open("GET",$);var Ee=0;O.onprogress=function(){var ye=O.responseText,xe=ye.slice(Ee);Ee+=xe.length,re(xe)},O.onerror=function(ye){ye.preventDefault(),q(new Error("NetworkError"))},O.onload=function(){q(null)},O.onabort=function(){q(null)},O.onreadystatechange=function(){if(O.readyState===a.HEADERS_RECEIVED){var ye=O.status,xe=O.statusText,ge=O.getResponseHeader("Content-Type"),Oe=O.getAllResponseHeaders();X(ye,xe,ge,new P(Oe))}},O.withCredentials=W;for(var Ce in ae)Object.prototype.hasOwnProperty.call(ae,Ce)&&O.setRequestHeader(Ce,ae[Ce]);return O.send(),O};function N(O){this._headers=O}N.prototype.get=function(O){return this._headers.get(O)};function C(){}C.prototype.open=function(O,X,re,q,$,W,ae){var Ee=null,Ce=new x,ye=Ce.signal,xe=new p;return h($,{headers:ae,credentials:W?"include":"same-origin",signal:ye,cache:"no-store"}).then(function(ge){return Ee=ge.body.getReader(),X(ge.status,ge.statusText,ge.headers.get("Content-Type"),new N(ge.headers)),new f(function(Oe,nt){var Ut=function(){Ee.read().then(function(ht){if(ht.done)Oe(void 0);else{var qe=xe.decode(ht.value,{stream:!0});re(qe),Ut()}}).catch(function(ht){nt(ht)})};Ut()})}).catch(function(ge){if(ge.name!=="AbortError")return ge}).then(function(ge){q(ge)}),{abort:function(){Ee!=null&&Ee.cancel(),Ce.abort()}}};function T(){this._listeners=Object.create(null)}function _(O){r(function(){throw O},0)}T.prototype.dispatchEvent=function(O){O.target=this;var X=this._listeners[O.type];if(X!=null)for(var re=X.length,q=0;q<re;q+=1){var $=X[q];try{typeof $.handleEvent=="function"?$.handleEvent(O):$.call(this,O)}catch(W){_(W)}}},T.prototype.addEventListener=function(O,X){O=String(O);var re=this._listeners,q=re[O];q==null&&(q=[],re[O]=q);for(var $=!1,W=0;W<q.length;W+=1)q[W]===X&&($=!0);$||q.push(X)},T.prototype.removeEventListener=function(O,X){O=String(O);var re=this._listeners,q=re[O];if(q!=null){for(var $=[],W=0;W<q.length;W+=1)q[W]!==X&&$.push(q[W]);$.length===0?delete re[O]:re[O]=$}};function E(O){this.type=O,this.target=void 0}function I(O,X){E.call(this,O),this.data=X.data,this.lastEventId=X.lastEventId}I.prototype=Object.create(E.prototype);function D(O,X){E.call(this,O),this.status=X.status,this.statusText=X.statusText,this.headers=X.headers}D.prototype=Object.create(E.prototype);function K(O,X){E.call(this,O),this.error=X.error}K.prototype=Object.create(E.prototype);var U=-1,L=0,j=1,A=2,z=-1,ne=0,M=1,ee=2,se=3,ue=/^text\/event\-stream(;.*)?$/i,Te=1e3,J=18e6,oe=function(O,X){var re=O==null?X:parseInt(O,10);return re!==re&&(re=X),pe(re)},pe=function(O){return Math.min(Math.max(O,Te),J)},fe=function(O,X,re){try{typeof X=="function"&&X.call(O,re)}catch(q){_(q)}};function ce(O,X){T.call(this),X=X||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,We(this,O,X)}function ve(){return a!=null&&"withCredentials"in a.prototype||i==null?new a:new i}var je=h!=null&&m!=null&&"body"in m.prototype;function We(O,X,re){X=String(X);var q=!!re.withCredentials,$=re.lastEventIdQueryParameterName||"lastEventId",W=pe(1e3),ae=oe(re.heartbeatTimeout,45e3),Ee="",Ce=W,ye=!1,xe=0,ge=re.headers||{},Oe=re.Transport,nt=je&&Oe==null?void 0:new S(Oe!=null?new Oe:ve()),Ut=Oe!=null&&typeof Oe!="string"?new Oe:nt==null?new C:new R,ht=void 0,qe=0,Qe=U,bt="",V="",he="",Ae="",ie=ne,Fe=0,jt=0,vn=function(we,ke,Ue,ze){if(Qe===L)if(we===200&&Ue!=null&&ue.test(Ue)){Qe=j,ye=Date.now(),Ce=W,O.readyState=j;var Ve=new D("open",{status:we,statusText:ke,headers:ze});O.dispatchEvent(Ve),fe(O,O.onopen,Ve)}else{var Be="";we!==200?(ke&&(ke=ke.replace(/\s+/g," ")),Be="EventSource's response has a status "+we+" "+ke+" that is not 200. Aborting the connection."):Be="EventSource's response has a Content-Type specifying an unsupported type: "+(Ue==null?"-":Ue.replace(/\s+/g," "))+". Aborting the connection.",Nr();var Ve=new D("error",{status:we,statusText:ke,headers:ze});O.dispatchEvent(Ve),fe(O,O.onerror,Ve),console.error(Be)}},vt=function(we){if(Qe===j){for(var ke=-1,Ue=0;Ue<we.length;Ue+=1){var ze=we.charCodeAt(Ue);(ze===10||ze===13)&&(ke=Ue)}var Ve=(ke!==-1?Ae:"")+we.slice(0,ke+1);Ae=(ke===-1?Ae:"")+we.slice(ke+1),we!==""&&(ye=Date.now(),xe+=we.length);for(var Be=0;Be<Ve.length;Be+=1){var ze=Ve.charCodeAt(Be);if(ie===z&&ze===10)ie=ne;else if(ie===z&&(ie=ne),ze===13||ze===10){if(ie!==ne){ie===M&&(jt=Be+1);var Je=Ve.slice(Fe,jt-1),Ze=Ve.slice(jt+(jt<Be&&Ve.charCodeAt(jt)===32?1:0),Be);Je==="data"?(bt+=`
`,bt+=Ze):Je==="id"?V=Ze:Je==="event"?he=Ze:Je==="retry"?(W=oe(Ze,W),Ce=W):Je==="heartbeatTimeout"&&(ae=oe(Ze,ae),qe!==0&&(s(qe),qe=r(function(){me()},ae)))}if(ie===ne){if(bt!==""){Ee=V,he===""&&(he="message");var jr=new I(he,{data:bt.slice(1),lastEventId:V});if(O.dispatchEvent(jr),he==="open"?fe(O,O.onopen,jr):he==="message"?fe(O,O.onmessage,jr):he==="error"&&fe(O,O.onerror,jr),Qe===A)return}bt="",he=""}ie=ze===13?z:ne}else ie===ne&&(Fe=Be,ie=M),ie===M?ze===58&&(jt=Be+1,ie=ee):ie===ee&&(ie=se)}}},at=function(we){if(Qe===j||Qe===L){Qe=U,qe!==0&&(s(qe),qe=0),qe=r(function(){me()},Ce),Ce=pe(Math.min(W*16,Ce*2)),O.readyState=L;var ke=new K("error",{error:we});O.dispatchEvent(ke),fe(O,O.onerror,ke),we!=null&&console.error(we)}},Nr=function(){Qe=A,ht!=null&&(ht.abort(),ht=void 0),qe!==0&&(s(qe),qe=0),O.readyState=A},me=function(){if(qe=0,Qe!==U){if(!ye&&ht!=null)at(new Error("No activity within "+ae+" milliseconds. "+(Qe===L?"No response received.":xe+" chars received.")+" Reconnecting.")),ht!=null&&(ht.abort(),ht=void 0);else{var we=Math.max((ye||Date.now())+ae-Date.now(),1);ye=!1,qe=r(function(){me()},we)}return}ye=!1,xe=0,qe=r(function(){me()},ae),Qe=L,bt="",he="",V=Ee,Ae="",Fe=0,jt=0,ie=ne;var ke=X;if(X.slice(0,5)!=="data:"&&X.slice(0,5)!=="blob:"&&Ee!==""){var Ue=X.indexOf("?");ke=Ue===-1?X:X.slice(0,Ue+1)+X.slice(Ue+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Ze,jr){return jr===$?"":Ze}),ke+=(X.indexOf("?")===-1?"?":"&")+$+"="+encodeURIComponent(Ee)}var ze=O.withCredentials,Ve={};Ve.Accept="text/event-stream";var Be=O.headers;if(Be!=null)for(var Je in Be)Object.prototype.hasOwnProperty.call(Be,Je)&&(Ve[Je]=Be[Je]);try{ht=Ut.open(nt,vn,vt,at,ke,ze,Ve)}catch(Ze){throw Nr(),Ze}};O.url=X,O.readyState=L,O.withCredentials=q,O.headers=ge,O._close=Nr,me()}ce.prototype=Object.create(T.prototype),ce.prototype.CONNECTING=L,ce.prototype.OPEN=j,ce.prototype.CLOSED=A,ce.prototype.close=function(){this._close()},ce.CONNECTING=L,ce.OPEN=j,ce.CLOSED=A,ce.prototype.withCredentials=void 0;var G=c;a!=null&&(c==null||!("withCredentials"in c.prototype))&&(G=ce),function(O){{var X=O(t);X!==void 0&&(e.exports=X)}}(function(O){O.EventSourcePolyfill=ce,O.NativeEventSource=c,O.EventSource=G})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:lS:globalThis)})(Md,Md.exports);var Ko=Md.exports;class mE{constructor(t){mt(this,"_userId");mt(this,"apiBaseUrl");mt(this,"maxReconnectAttempts");mt(this,"eventSource",null);mt(this,"reconnectAttempts",0);mt(this,"reconnectTimeout",null);mt(this,"isManualDisconnect",!1);mt(this,"onNotification");mt(this,"onAuthRequired");mt(this,"onConnectionOpen");mt(this,"onConnectionError");mt(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===Ko.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}this.startSSEConnection(t)}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;try{console.log("SSE  :",n),this.eventSource=new Ko.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE  "),this.reconnectAttempts=0,(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.onerror=r=>{var s,a,i,l;console.error("SSE  :",{error:r,readyState:(s=this.eventSource)==null?void 0:s.readyState,url:n}),(a=this.onConnectionError)==null||a.call(this,r),((i=this.eventSource)==null?void 0:i.readyState)===Ko.EventSourcePolyfill.CLOSED?(console.log("SSE  ."),this.eventSource=null,this.handleReconnect()):((l=this.eventSource)==null?void 0:l.readyState)===Ko.EventSourcePolyfill.CONNECTING&&console.log("SSE  ...")},this.eventSource.addEventListener("dm_received",r=>{console.log(" dm_received   ( )"),this.handleMessage(r)}),this.eventSource.addEventListener("auth-error",r=>{var s;console.warn(" :",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("   "),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()})}catch(r){console.error("SSE    :",r),this.handleReconnect()}}handleMessage(t){var n;if(console.log(" SSE  :",{type:t.type,event:t.event,lastEventId:t.lastEventId,data:t.data}),!(t.data==="ping"||t.data==="heartbeat"))try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;t.type==="dm_received"&&(console.log(" DM    (  )"),r.notificationType="DM_RECEIVED"),console.log(" SSE  :",r),(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE   :",r,"Raw data:",t.data)}}async refreshTokenAndConnect(){try{console.log("     ..."),await this.refreshToken()?(console.log("  , SSE  ..."),this.connect()):(console.error("   -  "),this.handleAuthRequired())}catch(t){console.error("    :",t),this.handleAuthRequired()}}handleReconnect(){if(this.isManualDisconnect){console.log("     .");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("  ...");const n=this.getValidToken();!n||this.isTokenExpired(n)?(console.log("  .    ."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("    .  ."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch{return!0}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("   :",t),null}try{console.log("   ...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const r=(await t.text()).replace(/"/g,"");if(r&&r!=="null")return localStorage.setItem("accessToken",r),console.log("  "),r}else console.error(`  : ${t.status} ${t.statusText}`),t.status===401&&localStorage.removeItem("accessToken");return null}catch(t){return console.error("   :",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("   ..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.isTokenExpired(t)?(console.log(" :    "),await this.refreshTokenAndConnect()):(console.log(" :   "),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===Ko.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}getUserId(){return this._userId}}const pE=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0,disabled:f=!1}=e,h=d.useRef(null),[m,p]=d.useState(!1),[w,x]=d.useState(0),b=d.useRef({onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{b.current={onNotification:s,onAuthRequired:a,onConnectionOpen:i,onConnectionError:l,onTokenRefresh:c}});const g=d.useCallback(()=>{var C,T;p(!0),x(0),(T=(C=b.current).onConnectionOpen)==null||T.call(C)},[]),v=d.useCallback(C=>{var T,_;p(!1),(_=(T=b.current).onConnectionError)==null||_.call(T,C)},[]),y=d.useCallback(C=>{var T,_;(_=(T=b.current).onNotification)==null||_.call(T,C)},[]),S=d.useCallback(()=>{var C,T;p(!1),(T=(C=b.current).onAuthRequired)==null||T.call(C)},[]),k=d.useCallback(()=>{h.current&&t&&!f&&h.current.connect()},[t,f]),P=d.useCallback(()=>{h.current&&(h.current.disconnect(),p(!1),x(0))},[]),R=d.useCallback(()=>{h.current&&h.current.reconnect()},[]),N=d.useCallback(()=>{h.current&&h.current.forceReconnect()},[]);return d.useEffect(()=>{if(t&&!f){const C={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:y,onAuthRequired:S,onConnectionOpen:g,onConnectionError:v,onTokenRefresh:b.current.onTokenRefresh};h.current=new mE(C),u&&setTimeout(()=>{var E;(E=h.current)==null||E.connect()},1e3);const _=setInterval(()=>{h.current&&(p(h.current.isConnected()),x(h.current.getReconnectAttempts()))},2e3);return()=>{var E;clearInterval(_),(E=h.current)==null||E.disconnect(),h.current=null}}else h.current&&(h.current.disconnect(),h.current=null),p(!1),x(0)},[t,f,n,r,u,y,S,g,v]),d.useEffect(()=>{h.current&&t&&h.current.updateUserId(t)},[t]),{isConnected:m,reconnectAttempts:w,connect:k,disconnect:P,reconnect:R,forceReconnect:N}};function gE({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:a,authenticatedFetch:i,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:f,refreshAccessToken:h,isSharedAccess:m,onDMReceived:p}){const[w,x]=d.useState([]),[b,g]=d.useState(!1),[v,y]=d.useState(!1),[S,k]=d.useState(null);pE({userId:l,disabled:m,onNotification:j=>{if(j.notificationType==="CONNECTED")return;const A=j.notificationType;(A==="DM_RECEIVED"||A==="dm_received")&&(console.log(" DM    -   :",A),p?p():console.error(" onDMReceived  !"));const z=P(j);x(ne=>[z,...ne])},onAuthRequired:()=>{if(m){console.log("     - SSE   ");return}console.warn("SSE    -      "),h().then(j=>{j?console.log("SSE    -   "):(console.error("SSE     "),a())}).catch(j=>{console.error("SSE    :",j),a()})},onTokenRefresh:async()=>await h()});const P=j=>{const A=M=>{switch(M.toLowerCase()){case"dm_received":case"new_dm_room":return"message";case"followed":return"follow";case"playlist_subscribed":case"following_posted_playlist":return"like";default:return"notification"}},z=M=>{switch(M){case"dm_received":return"  ";case"new_dm_room":return"  ";case"followed":return"  ";case"playlist_subscribed":return" ";case"following_posted_playlist":return"   ";case"role_changed":return" ";default:return" "}},ne=M=>{const ee=new Date(M),ue=new Date().getTime()-ee.getTime(),Te=Math.floor(ue/(1e3*60)),J=Math.floor(ue/(1e3*60*60)),oe=Math.floor(ue/(1e3*60*60*24));return Te<1?" ":Te<60?`${Te} `:J<24?`${J} `:oe===1?"":`${oe} `};return{id:j.id,type:A(j.notificationType),title:z(j.notificationType),content:j.content,avatar:"",timestamp:ne(j.createdAt),isRead:!1}},R=async()=>{if(!l||m){console.log("       ID  -    ");return}try{const j=await hE.getUser(l);k(j)}catch(j){console.error("   :",j),j instanceof Error&&(j.message.includes("not found")||j.message.includes("401")||j.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a())}},N=async()=>{if(!l||m){console.log("       ID  -   ");return}try{const j=await i("http://localhost:8080/api/notifications");if(!j.ok){if(j.status===401||j.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),a();return}throw new Error(`   . (: ${j.status})`)}const A=await j.json(),z=A.data||A;if(!Array.isArray(z)){console.error("   :",A),x([]);return}const ne=z.map(M=>({...P(M),isRead:!0}));x(ne)}catch(j){console.error("   :",j),j instanceof Error&&(j.message.includes("401")||j.message.includes("403"))&&x([])}};d.useEffect(()=>{l&&(R(),N())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=R),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const C=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],T=w.filter(j=>!j.isRead).length;d.useEffect(()=>{const j=A=>{const z=A.target;!z.closest(".notification-container")&&!z.closest(".profile-container")&&(g(!1),y(!1))};return document.addEventListener("click",j),()=>document.removeEventListener("click",j)},[]);const _=j=>{switch(j){case"message":return o.jsx(R0,{className:"w-4 h-4"});case"follow":return o.jsx(gh,{className:"w-4 h-4"});case"like":return o.jsx(mr,{className:"w-4 h-4"});case"watch":return o.jsx(Et,{className:"w-4 h-4"});default:return o.jsx(Op,{className:"w-4 h-4"})}},E=async j=>{try{await u(j),x(A=>A.filter(z=>z.id!==j))}catch(A){console.error("  :",A)}},I=j=>{x(A=>A.map(z=>z.id===j?{...z,isRead:!0}:z))},D=async()=>{try{await N(),x(j=>j.map(A=>({...A,isRead:!0})))}catch(j){console.error("   :",j)}},K=j=>{s&&s(),t(j)},U=j=>{j.stopPropagation(),s&&s(),g(!b),y(!1)},L=async()=>{try{if(!(await i("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");y(!1),a()}catch(j){console.error(" :",j),y(!1),a()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>K("home"),children:""}),!m&&o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:C.map(j=>o.jsx("li",{children:o.jsx("button",{onClick:()=>K(j.id),className:`transition-colors hover:text-[#4ecdc4] ${e===j.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:j.label})},j.id))}),m&&o.jsx("div",{className:"text-white/60 text-sm",children:" "}),o.jsxs("div",{className:"flex items-center space-x-4",children:[!m&&o.jsxs("div",{className:"relative notification-container",children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:U,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Op,{className:"w-5 h-5"}),T>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:T>9?"9+":T})]}),b&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[T>0&&o.jsx(B,{variant:"ghost",size:"sm",onClick:D,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx(B,{variant:"ghost",size:"sm",onClick:async()=>{try{await f(),x([])}catch(j){console.error("   :",j)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(Ml,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${w.length>4?"max-h-96":""}`,children:w.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:w.map(j=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>I(j.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(lt,{className:"h-12 w-12",children:[o.jsx(ct,{src:j.avatar}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:j.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:_(j.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${j.isRead?"text-white/60":"font-medium"}`,children:j.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:j.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:j.content})]}),o.jsx(B,{variant:"ghost",size:"sm",onClick:async A=>{A.stopPropagation(),await E(j.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Ml,{className:"w-3 h-3"})}),!j.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},j.id))})})]})]}),m?o.jsx(B,{variant:"outline",size:"sm",onClick:()=>window.location.href="/",className:"border-[#4ecdc4] text-[#4ecdc4] hover:bg-[#4ecdc4] hover:text-black",children:""}):o.jsxs("div",{className:"relative profile-container",children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:j=>{j.stopPropagation(),y(!v),g(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs(lt,{className:"h-8 w-8",children:[o.jsx(ct,{src:(S==null?void 0:S.profileImage)||""}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:(S==null?void 0:S.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(S==null?void 0:S.name)||""})]}),v&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>{y(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(zp,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>{y(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(zp,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs(B,{variant:"ghost",size:"sm",onClick:L,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(bC,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function vE(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},n=[{name:"Github",icon:yC,href:"#github"},{name:"Twitter",icon:_C,href:"#twitter"},{name:"Instagram",icon:wC,href:"#instagram"},{name:"Email",icon:SC,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(a=>o.jsx("li",{children:o.jsx("a",{href:a.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:a.name})},a.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(mr,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const Ke=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:Re("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));Ke.displayName="Input";var xE="Label",Z0=d.forwardRef((e,t)=>o.jsx(Se.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Z0.displayName=xE;var yE=Z0;function It({className:e,...t}){return o.jsx(yE,{"data-slot":"label",className:Re("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var wE="Separator",Xp="horizontal",bE=["horizontal","vertical"],ey=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Xp,...s}=e,a=SE(r)?r:Xp,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Se.div,{"data-orientation":a,...l,...s,ref:t})});ey.displayName=wE;function SE(e){return bE.includes(e)}var NE=ey;function jE({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(NE,{"data-slot":"separator-root",decorative:n,orientation:t,className:Re("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function ty({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,a]=d.useState(null),i=c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];if(u){if(!u.type.startsWith("image/")){a("    .");return}if(u.size>5*1024*1024){a("  5MB  .");return}a(null),t(u)}},l=()=>{t(null),a(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),n&&o.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(Pn,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs(lt,{className:"h-20 w-20",children:[o.jsx(ct,{src:URL.createObjectURL(e)}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx(B,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(Pn,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Ke,{type:"file",accept:"image/*",onChange:i,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(AC,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function CE({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,a]=d.useState(!1),[i,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[f,h]=d.useState(!1),[m,p]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(""),v=P=>{P?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(P)?g(""):g(" 8 , , ,   ."):g(" .")},y=()=>{console.log("    "),window.location.href="http://localhost:8080/oauth2/authorization/kakao"},S=()=>{window.location.href="http://localhost:8080/oauth2/authorization/google"},k=async P=>{P.preventDefault(),u(null),h(!0);try{if(r){if(!i.name.trim()){u(" .");return}if(i.name.length<3||i.name.length>50){u(" 3  50  .");return}if(!i.email.trim()){u(" .");return}if(!i.password.trim()){u(" .");return}if(!/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test(i.password)){u(" 8 , , ,   .");return}if(i.password!==i.confirmPassword){u("  .");return}const N=new FormData;N.append("email",i.email),N.append("name",i.name),N.append("password",i.password),m&&N.append("profile",m);const C=await fetch("http://localhost:8080/api/users",{method:"POST",credentials:"include",body:N});if(!C.ok){let T=" .";const _=C.headers.get("content-type");if(_&&_.includes("application/json"))try{const E=await C.text();E&&(T=JSON.parse(E).message||T)}catch(E){console.error("Error parsing error response:",E)}throw new Error(T)}alert(" . ."),t()}else{const R={email:i.email,password:i.password},N=await fetch("http://localhost:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(R)});if(!N.ok){let T=" .";const _=N.headers.get("content-type");if(_&&_.includes("application/json"))try{const E=await N.text();E&&(T=JSON.parse(E).message||T)}catch(E){console.error("Error parsing error response:",E)}throw new Error(T)}const C=await N.text();if(!C||C.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const T=JSON.parse(C);e(T.accessToken,T.isTempPassword)}catch(T){throw console.error("Error parsing success response:",T),new Error("    .")}}}catch(R){u(R instanceof Error?R.message:"   .")}finally{h(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:k,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(It,{htmlFor:"name",className:"text-base",children:""}),o.jsx(Ke,{id:"name",type:"text",value:i.name,onChange:P=>l({...i,name:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"email",className:"text-base",children:""}),o.jsx(Ke,{id:"email",type:"email",value:i.email,onChange:P=>l({...i,email:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(Ke,{id:"password",type:s?"text":"password",value:i.password,onChange:P=>{const R=P.target.value;l({...i,password:R}),r&&v(R)},className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(xC,{className:"w-5 h-5"}):o.jsx(Ad,{className:"w-5 h-5"})})]}),r&&b&&o.jsx("p",{className:"text-red-500 text-sm mt-2",children:b})]}),r&&o.jsxs("div",{children:[o.jsx(It,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(Ke,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:P=>l({...i,confirmPassword:P.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(It,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs(lt,{className:"h-16 w-16",children:[o.jsx(ct,{src:m?URL.createObjectURL(m):void 0}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:i.name.charAt(0)||"U"})]}),o.jsxs(B,{type:"button",variant:"outline",onClick:()=>x(!w),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(E0,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsx(ty,{selectedImage:m,onImageSelect:p,onClose:()=>x(!1),userName:i.name})})]}),o.jsx(B,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:f,children:f?" ...":r?"":""})]}),o.jsx(jE,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(B,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:y,disabled:f,children:[" ",r?"":""]}),o.jsxs(B,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:S,disabled:f,children:["Google ",r?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:f,children:r?"":""})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:f,children:" "})]})]})]})]})}class kE{constructor(){mt(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const i=t.type.toUpperCase();n.append("contentType",i)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(n){throw console.error("   :",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const hs=new kE;class EE{constructor(){mt(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getWatchRooms(t){var n;try{const r=new URLSearchParams;t!=null&&t.query&&r.append("searchKeyword",t.query),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.limit&&r.append("size",t.limit.toString()),t!=null&&t.offset&&r.append("cursor",((n=t.offset)==null?void 0:n.toString())||"");const s=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,a=await this.authenticatedFetch(s);if(!a.ok)throw new Error(`   . Status: ${a.status}`);const i=await a.json(),l=i.data||i;return Array.isArray(l)?t!=null&&t.sortBy?this.sortWatchRooms(l,t.sortBy):l:(console.error("   :",i),[])}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async joinWatchRoom(t){var n,r;try{const s=await this.getWatchRoom(t);return{id:s.id,title:s.title,newUserId:"",playTime:0,isPlaying:!1,content:{id:((n=s.contentDto)==null?void 0:n.id)||s.contentId||"",title:((r=s.contentDto)==null?void 0:r.title)||s.contentTitle||"",titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:0}}}catch(s){throw console.error("  :",s),s}}async searchWatchRooms(t,n="participantCount"){return this.getWatchRooms({query:t,sortBy:n})}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>{var a;return s.title.toLowerCase().includes(r)||(((a=s.contentDto)==null?void 0:a.title)||s.contentTitle||"").toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r)})}}const Ya=new EE;class TE{constructor(){mt(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getPlaylistById(t){const n=`${this.baseUrl}/${t}`,r={"Content-Type":"application/json"},s=localStorage.getItem("accessToken");s&&(r.Authorization=`Bearer ${s}`);const a=await fetch(n,{headers:r});if(!a.ok)throw new Error(`   (status: ${a.status})`);return await a.json()}async getAllPublic(){const t=await fetch(this.baseUrl);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async getAllSubscribed(){const t=await this.authenticatedFetch(`${this.baseUrl}/subscribed`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}async subscribe(t,n){const s=await this.authenticatedFetch("http://localhost:8080/api/subscriptions",{method:"POST",body:JSON.stringify({userId:t,playlistId:n})});if(!s.ok)throw new Error(`  . Status: ${s.status}`);return await s.json()}async unsubscribe(t){const n=`http://localhost:8080/api/subscriptions/${t}`,r=await this.authenticatedFetch(n,{method:"DELETE"});if(!r.ok)throw new Error(`   . Status: ${r.status}`)}async getUserPlaylists(t){const n=await this.authenticatedFetch(`${this.baseUrl.replace("/playlists","")}/users/${t}/playlists`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}async getPlaylistByUser(){const t=await this.authenticatedFetch(`${this.baseUrl}/user`);if(!t.ok)throw new Error(`    . Status: ${t.status}`);return await t.json()}}const $d=new TE;function Ri({onPageChange:e,onPlaylistOpen:t,onContentPlay:n,onJoinRoom:r}){const[s,a]=d.useState([]),[i,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState(!0),[m,p]=d.useState(null),w=d.useRef(null),x=d.useRef(null),b=d.useRef(null),g=async()=>{try{const C=await Ya.getWatchRooms({limit:9});Array.isArray(C)?a(C):(console.error("Live rooms data is not an array:",C),a([]))}catch(C){console.error("Failed to fetch live rooms:",C),a([])}},v=async()=>{try{const C=await hs.getContents({size:20});l(C.data)}catch(C){console.error("Failed to fetch featured content:",C)}},y=async()=>{try{const C=await $d.getAllSubscribed();u(C.slice(0,4))}catch(C){console.error("Failed to fetch my playlists:",C),u([])}};d.useEffect(()=>{(async()=>{h(!0),await Promise.all([g(),v(),y()]),h(!1)})()},[]);const S=async C=>{if(console.log("Dashboard - handleJoinRoom :",C.id,C.title),m){console.log("Dashboard -     :",m);return}p(C.id);try{console.log("Dashboard - onJoinRoom   "),r?(await r(C),console.log("Dashboard - onJoinRoom   ")):console.error("Dashboard - onJoinRoom  ")}catch(T){console.error("Dashboard -   :",T)}finally{p(null)}},k=()=>{e&&e("playlist")},P=C=>{t&&t(C)},R=C=>{C.current&&C.current.scrollBy({left:-288,behavior:"smooth"})},N=C=>{C.current&&C.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs(B,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(en,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(A0,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs(B,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(_r,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(w),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>N(w),children:o.jsx(_r,{className:"w-6 h-6"})}),o.jsx("div",{ref:w,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(3).fill(0).map((C,T)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},T)):(Array.isArray(s)?s:[]).slice(0,9).map(C=>{var T,_,E;return o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(T=C.contentDto)!=null&&T.thumbnailUrl?o.jsx("img",{src:C.contentDto.thumbnailUrl,alt:C.contentDto.title,className:"w-full h-full object-cover",onError:I=>{var D;I.currentTarget.style.display="none",(D=I.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(_=C.contentDto)!=null&&_.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",C.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(B,{size:"sm",onClick:I=>{I.stopPropagation(),S(C)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!m,children:[m===C.id?o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(E=C.contentDto)==null?void 0:E.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[C.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kr,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[C.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",C.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},C.id)})})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(qr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(B,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(_r,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(x),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>N(x),children:o.jsx(_r,{className:"w-6 h-6"})}),o.jsx("div",{ref:x,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(6).fill(0).map((C,T)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},T)):i.slice(0,20).map(C=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:C.id,title:C.title,thumbnail:C.thumbnailUrl||C.url||"",type:C.contentType==="MOVIE"?"movie":C.contentType==="TV"?"tv":"sports",description:C.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[C.thumbnailUrl?o.jsx("img",{src:C.thumbnailUrl,alt:C.title,className:"w-full h-full object-cover",onError:T=>{var _;T.currentTarget.style.display="none",(_=T.currentTarget.nextElementSibling)==null||_.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${C.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:C.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(B,{size:"sm",onClick:T=>{T.stopPropagation(),n&&n({id:C.id,title:C.title,thumbnail:C.thumbnailUrl||C.url||"",type:C.contentType==="MOVIE"?"movie":C.contentType==="TV"?"tv":"sports",description:C.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(B,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),console.log("Add to playlist:",C.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(en,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:C.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:C.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:C.releaseDate?new Date(C.releaseDate).getFullYear():"2024"})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${C.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":C.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:C.contentType==="MOVIE"?"":C.contentType==="TV"?"TV/":""})})]})]},C.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Kr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(B,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:k,children:["",o.jsx(_r,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>R(b),children:o.jsx(da,{className:"w-6 h-6"})}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>N(b),children:o.jsx(_r,{className:"w-6 h-6"})}),o.jsx("div",{ref:b,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:f?Array(4).fill(0).map((C,T)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},T)):c.map((C,T)=>{const _=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],E=_[T%_.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>P(C.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${E} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(Ll,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:C.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(B,{size:"lg",onClick:I=>{I.stopPropagation(),P(C.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Et,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:C.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:C.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[C.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Kr,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(hh,{className:"w-3 h-3"}),o.jsx("span",{children:C.createdAt?new Date(C.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},C.id)})})]})]})]})}const RE=z0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Gn({className:e,variant:t,asChild:n=!1,...r}){const s=n?O0:"span";return o.jsx(s,{"data-slot":"badge",className:Re(RE({variant:t}),e),...r})}class PE{constructor(){mt(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const Pi=new PE,_E=e=>({id:e.id,title:e.title,thumbnail:e.thumbnailUrl||`https://via.placeholder.com/300x400/1a1a1a/ffffff?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),description:e.description,rating:e.avgRating!==void 0?e.avgRating:0,year:new Date(e.releaseDate).getFullYear()});function AE({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1);d.useEffect(()=>{b()},[]),d.useEffect(()=>{if(c.length>0&&!s){const N=c[0];a(N.id),g(N.id)}},[c,s]);const b=async()=>{try{if(!r){console.error(" ID .");return}const C=(await Pi.getUserKeywords(r)).map(T=>({id:T.keywordId,label:T.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(C)}catch(N){console.error("   :",N),u([])}},g=async N=>{try{x(!0);const T=(await Pi.getKeywordContents(N)).map(_E),_=c.find(U=>U.id===N),E=T.filter(U=>U.type==="movie"),I=T.filter(U=>U.type==="tv"),D=T.filter(U=>U.type==="sports"),K=[];E.length>0&&K.push({id:`${N}-movie`,title:`${(_==null?void 0:_.label)||""} `,items:E,category:""}),I.length>0&&K.push({id:`${N}-tv`,title:`${(_==null?void 0:_.label)||""} TV `,items:I,category:"TV"}),D.length>0&&K.push({id:`${N}-sports`,title:`${(_==null?void 0:_.label)||""} `,items:D,category:""}),l(K)}catch(C){console.error("  :",C),l([])}finally{x(!1)}},v=N=>{a(N),g(N)},y=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const N=await Pi.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),C={id:N.keywordId,label:N.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u(T=>[...T,C]),p(""),h(!1),alert(" !")}catch(N){console.error("  :",N),alert("  .")}}},S=async N=>{if(window.confirm("  ?"))try{if(await Pi.deleteKeyword(N),u(C=>C.filter(T=>T.id!==N)),s===N){const C=c.filter(T=>T.id!==N);C.length>0?(a(C[0].id),g(C[0].id)):(a(""),l([]))}alert(" .")}catch(C){console.error("  :",C),alert("  .")}},k=N=>{const C=document.getElementById(N);C&&C.scrollBy({left:-400,behavior:"smooth"})},P=N=>{const C=document.getElementById(N);C&&C.scrollBy({left:400,behavior:"smooth"})},R=N=>{n==null||n(N),console.log(`Opening playlist modal for: ${N.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx($p,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(N=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx(B,{variant:s===N.id?"default":"outline",size:"sm",onClick:()=>v(N.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===N.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===N.id?N.color:void 0,backgroundColor:s===N.id?N.color:void 0},children:N.label}),o.jsx(B,{size:"sm",variant:"ghost",onClick:C=>{C.stopPropagation(),S(N.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(Pn,{className:"w-3 h-3"})})]},N.id)),f?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Ke,{value:m,onChange:N=>p(N.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:N=>N.key==="Enter"&&y(),autoFocus:!0}),o.jsx(B,{size:"sm",onClick:y,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(ro,{className:"w-4 h-4"})}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>{h(!1),p("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(Pn,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs(B,{size:"sm",variant:"outline",onClick:()=>h(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(en,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),w&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!w&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:i.map(N=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl flex items-center gap-2",children:N.title}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(B,{size:"sm",variant:"outline",onClick:()=>k(`section-${N.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(da,{className:"w-4 h-4"})}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>P(`section-${N.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(_r,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${N.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:N.items.map((C,T)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[N.id==="trending"&&T<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(Gn,{className:`
                              ${T===0?"bg-yellow-500 text-black":""}
                              ${T===1?"bg-gray-300 text-black":""}
                              ${T===2?"bg-amber-600 text-white":""}
                            `,children:["#",T+1]})}),o.jsx("img",{src:C.thumbnail,alt:C.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:_=>{const E=_.target;E.style.display="none";const I=E.parentElement;if(I&&!I.querySelector(".image-fallback")){const D=document.createElement("div");D.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",D.textContent=C.title.charAt(0).toUpperCase(),I.appendChild(D)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs(B,{size:"sm",onClick:()=>e(C),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs(B,{size:"sm",variant:"outline",onClick:()=>t(C),className:"border-white/20 hover:bg-white/10",children:[o.jsx(Ad,{className:"w-4 h-4 mr-1"}),""]})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:C.title}),o.jsx("div",{className:"flex items-center gap-3 mb-2",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:`w-4 h-4 ${C.rating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:C.rating.toFixed(2)})]})}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:C.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs(B,{size:"sm",onClick:()=>e(C),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx(B,{size:"sm",variant:"outline",onClick:()=>t(C),className:"border-white/20 hover:bg-white/10",children:o.jsx(Ad,{className:"w-4 h-4"})}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>R(C),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(en,{className:"w-4 h-4"})})]})]})]})]},C.id))})]},N.id))}),!w&&i.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx($p,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function $l(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:a,style:i,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:i,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(mh,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:a,className:l,style:i,...c,onError:r})}function IE({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},i={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx($l,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${a[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${i[n]} font-medium text-white/80`,children:["+",s]})})]})})}function zd({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Re("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Yo=[null];function DE({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[a,i]=d.useState(""),[l,c]=d.useState(!0),[u,f]=d.useState(0),[h,m]=d.useState(!1),[p,w]=d.useState(!1),x=async y=>{y.preventDefault(),r.trim()&&(w(!0),console.log("Creating playlist:",{title:r.trim(),description:a.trim(),isPublic:l,coverImage:Yo[u]}),await new Promise(S=>setTimeout(S,1e3)),n({title:r.trim(),description:a.trim(),isPublic:l,coverImage:Yo[u]}),s(""),i(""),c(!0),f(0),m(!1),w(!1),t())},b=()=>{p||(s(""),i(""),c(!0),f(0),m(!1),t())},g=()=>{const y=Yo[u];return y===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(Ll,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})}):o.jsx("img",{src:y,alt:" ",className:"w-full h-full object-cover"})},v=(y,S)=>y===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(Ll,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:y,alt:`  ${S+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:b}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx(B,{variant:"ghost",size:"sm",onClick:b,className:"p-2 hover:bg-white/10",disabled:p,children:o.jsx(Pn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(It,{className:"text-sm mb-3 block",children:" "}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[g(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs(B,{type:"button",variant:"ghost",onClick:()=>m(!h),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(mh,{className:"w-4 h-4 mr-2"}),Yo[u]===null?" ":" "]})})]}),h&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:Yo.map((y,S)=>o.jsxs("button",{type:"button",onClick:()=>{f(S),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===S?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[v(y,S),u===S&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(ro,{className:"w-3 h-3 text-[#4ecdc4]"})})]},S))})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(Ke,{id:"title",value:r,onChange:y=>s(y.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50"]})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"description",className:"text-sm",children:""}),o.jsx(zd,{id:"description",value:a,onChange:y=>i(y.target.value),placeholder:"   ...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[a.length,"/200"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(It,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(Dl,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(ro,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(Ol,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(ro,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(B,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:b,disabled:p,children:""}),o.jsx(B,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||p,children:p?" ...":" "})]})]})]})]}):null}function qp({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:a,onUserProfileOpen:i}){const[l,c]=d.useState(""),[u,f]=d.useState([]),[h,m]=d.useState(!1),[p,w]=d.useState(!0),[x,b]=d.useState(null),[g,v]=d.useState("all"),y=D=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D);d.useEffect(()=>{S()},[]),d.useEffect(()=>{const D=setTimeout(()=>{S(l.trim()||void 0,g)},300);return()=>clearTimeout(D)},[l,g]);const S=async(D,K="all")=>{try{w(!0),b(null),console.log("   :",{searchKeyword:D,currentViewType:K});const U=await t(D,K);console.log("   :",U),f(U)}catch(U){console.error("Error loading playlists:",U),b("   .")}finally{w(!1)}},k=u,P=D=>{console.log(`Starting playlist with ID: ${D}`)},R=()=>{m(!0)},N=D=>{e&&e(D)},C=async D=>{try{await n({name:D.title,description:D.description,isPublic:D.isPublic}),console.log("     "),await S(l.trim()||void 0,g)}catch(K){console.error("Error creating playlist:",K),b("   .")}},T=D=>!D.subscriptions||!a?!1:D.subscriptions.some(K=>K.userId===a),_=D=>!D.subscriptions||!a?null:D.subscriptions.find(K=>K.userId===a),E=async D=>{if(console.log("    :",{playlistId:D,currentUserId:a}),!r||!s||!a){console.error("    ID :",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:a});return}const K=u.find(L=>L.id===D);if(!K){console.error("   :",D);return}const U=T(K);console.log("  :",{isSubscribed:U,subscriptions:K.subscriptions});try{if(U){const L=_(K);if(!L){console.error("    ");return}if(console.log("   - subscription  :",L),!L.subscriptionId){console.error("subscription.subscriptionId undefined:",L);return}console.log("  :",L.subscriptionId),await s(L.subscriptionId)}else console.log(" :",D),await r(D);await S(l.trim()||void 0,g)}catch(L){console.error("   :",L)}},I=D=>D.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(Ll,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:D.name.charAt(0)})]})}):o.jsx($l,{src:D.thumbnail,alt:D.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs(B,{onClick:R,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(en,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Ke,{placeholder:" ...",value:l,onChange:D=>c(D.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx(B,{variant:g==="all"?"default":"outline",onClick:()=>v("all"),className:g==="all"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:" "}),a&&o.jsxs(B,{variant:g==="subscribed"?"default":"outline",onClick:()=>v("subscribed"),className:g==="subscribed"?"teal-gradient hover:opacity-80 text-black":"border-white/20 hover:bg-white/5 text-white/80",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"})," "]})]})]}),(console.log(" Playlist  :",{loading:p,error:x,playlistsLength:u.length,filteredLength:k.length}),p?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx(B,{onClick:()=>S(l.trim()||void 0,g),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):k.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":g==="subscribed"?"   ":" "}),!l&&g==="all"&&o.jsx(B,{onClick:R,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map(D=>{var K,U;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>N(D.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[I(D),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(B,{size:"lg",onClick:L=>{L.stopPropagation(),P(D.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(Et,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:D.isPublic?"":""})}),D.userId&&D.userId!==a&&y(D.userId)&&r&&s&&o.jsx(B,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${T(D)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:L=>{L.stopPropagation(),E(D.id)},children:o.jsx(mr,{className:`w-4 h-4 ${T(D)?"fill-current":""}`})}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:L=>L.stopPropagation(),children:o.jsx(P0,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:D.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:D.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(IE,{items:D.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[D.contentCount||((K=D.playlistContents)==null?void 0:K.length)||0," "]})]}),D.userId&&D.userId!==a&&y(D.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${a?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:L=>{L.stopPropagation(),a?i==null||i(D.userId):alert("  .   .")},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:D.username?D.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:D.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Kr,{className:"w-3 h-3"}),o.jsx("span",{children:D.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(hh,{className:"w-3 h-3"}),o.jsx("span",{children:D.createdAt?new Date(D.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"mt-2 flex justify-between items-center text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:""}),o.jsxs("span",{children:[((U=D.subscriptions)==null?void 0:U.length)??0," "]})]}),o.jsxs("button",{onClick:L=>{L.stopPropagation();const j=`${window.location.origin}/playlist?id=${D.id}`;navigator.clipboard.writeText(j).then(()=>alert("  !")).catch(()=>alert("  ."))},className:"flex items-center gap-1 px-3 py-1 rounded-full bg-white/10 hover:bg-[#4ecdc4]/80 hover:text-black text-white text-xs font-semibold transition",title:"",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12v.01M12 4v.01M12 20v.01M20 12v.01M7.75 7.75l.01.01M16.25 7.75l.01.01M7.75 16.25l.01.01M16.25 16.25l.01.01"})}),""]})]})]})]},D.id)})}))]}),o.jsx(DE,{isOpen:h,onClose:()=>m(!1),onCreatePlaylist:C})]})}function be(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var OE=av[" useId ".trim().toString()]||(()=>{}),LE=0;function Yr(e){const[t,n]=d.useState(OE());return gt(()=>{n(r=>r??String(LE++))},[e]),e||(t?`radix-${t}`:"")}var ME=av[" useInsertionEffect ".trim().toString()]||gt;function bs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=$E({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const f=d.useRef(e!==void 0);d.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=d.useCallback(f=>{var h;if(l){const m=zE(f)?f(e):f;m!==e&&((h=i.current)==null||h.call(i,m))}else a(f)},[l,e,a,i]);return[c,u]}function $E({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),a=d.useRef(t);return ME(()=>{a.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function zE(e){return typeof e=="function"}function FE(e,t=globalThis==null?void 0:globalThis.document){const n=At(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var UE="DismissableLayer",Fd="dismissableLayer.update",BE="dismissableLayer.pointerDownOutside",WE="dismissableLayer.focusOutside",Qp,ny=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wh=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(ny),[f,h]=d.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),w=Pe(t,R=>h(R)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(b),v=f?x.indexOf(f):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=g,k=KE(R=>{const N=R.target,C=[...u.branches].some(T=>T.contains(N));!S||C||(s==null||s(R),i==null||i(R),R.defaultPrevented||l==null||l())},m),P=YE(R=>{const N=R.target;[...u.branches].some(T=>T.contains(N))||(a==null||a(R),i==null||i(R),R.defaultPrevented||l==null||l())},m);return FE(R=>{v===u.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},m),d.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Qp=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Jp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Qp)}},[f,m,n,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Jp())},[f,u]),d.useEffect(()=>{const R=()=>p({});return document.addEventListener(Fd,R),()=>document.removeEventListener(Fd,R)},[]),o.jsx(Se.div,{...c,ref:w,style:{pointerEvents:y?S?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,P.onFocusCapture),onBlurCapture:be(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,k.onPointerDownCapture)})});wh.displayName=UE;var VE="DismissableLayerBranch",HE=d.forwardRef((e,t)=>{const n=d.useContext(ny),r=d.useRef(null),s=Pe(t,r);return d.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Se.div,{...e,ref:s})});HE.displayName=VE;function KE(e,t=globalThis==null?void 0:globalThis.document){const n=At(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){ry(BE,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function YE(e,t=globalThis==null?void 0:globalThis.document){const n=At(e),r=d.useRef(!1);return d.useEffect(()=>{const s=a=>{a.target&&!r.current&&ry(WE,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jp(){const e=new CustomEvent(Fd);document.dispatchEvent(e)}function ry(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Yk(s,a):s.dispatchEvent(a)}var mu="focusScope.autoFocusOnMount",pu="focusScope.autoFocusOnUnmount",Zp={bubbles:!1,cancelable:!0},GE="FocusScope",bh=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=d.useState(null),u=At(s),f=At(a),h=d.useRef(null),m=Pe(t,x=>c(x)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(y){if(p.paused||!l)return;const S=y.target;l.contains(S)?h.current=S:Er(h.current,{select:!0})},b=function(y){if(p.paused||!l)return;const S=y.relatedTarget;S!==null&&(l.contains(S)||Er(h.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const k of y)k.removedNodes.length>0&&Er(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[r,l,p.paused]),d.useEffect(()=>{if(l){tg.add(p);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(mu,Zp);l.addEventListener(mu,u),l.dispatchEvent(g),g.defaultPrevented||(XE(e4(sy(l)),{select:!0}),document.activeElement===x&&Er(l))}return()=>{l.removeEventListener(mu,u),setTimeout(()=>{const g=new CustomEvent(pu,Zp);l.addEventListener(pu,f),l.dispatchEvent(g),g.defaultPrevented||Er(x??document.body,{select:!0}),l.removeEventListener(pu,f),tg.remove(p)},0)}}},[l,u,f,p]);const w=d.useCallback(x=>{if(!n&&!r||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(b&&g){const v=x.currentTarget,[y,S]=qE(v);y&&S?!x.shiftKey&&g===S?(x.preventDefault(),n&&Er(y,{select:!0})):x.shiftKey&&g===y&&(x.preventDefault(),n&&Er(S,{select:!0})):g===v&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(Se.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});bh.displayName=GE;function XE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Er(r,{select:t}),document.activeElement!==n)return}function qE(e){const t=sy(e),n=eg(t,e),r=eg(t.reverse(),e);return[n,r]}function sy(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eg(e,t){for(const n of e)if(!QE(n,{upTo:t}))return n}function QE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JE(e){return e instanceof HTMLInputElement&&"select"in e}function Er(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JE(e)&&t&&e.select()}}var tg=ZE();function ZE(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ng(e,t),e.unshift(t)},remove(t){var n;e=ng(e,t),(n=e[0])==null||n.resume()}}}function ng(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function e4(e){return e.filter(t=>t.tagName!=="A")}var t4="Portal",Sh=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=d.useState(!1);gt(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?c0.createPortal(o.jsx(Se.div,{...r,ref:t}),i):null});Sh.displayName=t4;function n4(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var wr=e=>{const{present:t,children:n}=e,r=r4(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),a=Pe(r.ref,s4(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:a}):null};wr.displayName="Presence";function r4(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=n4(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=_i(r.current);a.current=l==="mounted"?u:"none"},[l]),gt(()=>{const u=r.current,f=s.current;if(f!==e){const m=a.current,p=_i(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),gt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=p=>{const x=_i(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(a.current=_i(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _i(e){return(e==null?void 0:e.animationName)||"none"}function s4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gu=0;function oy(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rg()),document.body.insertAdjacentElement("beforeend",e[1]??rg()),gu++,()=>{gu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gu--}},[])}function rg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fn=function(){return Fn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Fn.apply(this,arguments)};function ay(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function o4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ol="right-scroll-bar-position",al="width-before-scroll-bar",a4="with-scroll-bars-hidden",i4="--removed-body-scroll-bar-size";function vu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function l4(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var c4=typeof window<"u"?d.useLayoutEffect:d.useEffect,sg=new WeakMap;function u4(e,t){var n=l4(null,function(r){return e.forEach(function(s){return vu(s,r)})});return c4(function(){var r=sg.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||vu(l,null)}),a.forEach(function(l){s.has(l)||vu(l,i)})}sg.set(n,e)},[e]),n}function d4(e){return e}function f4(e,t){t===void 0&&(t=d4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var f=i;i=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return s}function h4(e){e===void 0&&(e={});var t=f4(null);return t.options=Fn({async:!0,ssr:!1},e),t}var iy=function(e){var t=e.sideCar,n=ay(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Fn({},n))};iy.isSideCarExport=!0;function m4(e,t){return e.useMedium(t),iy}var ly=h4(),xu=function(){},mc=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:xu,onWheelCapture:xu,onTouchMoveCapture:xu}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,x=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,y=e.gapMode,S=ay(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,P=u4([n,t]),R=Fn(Fn({},S),s);return d.createElement(d.Fragment,null,f&&d.createElement(k,{sideCar:ly,removeScrollBar:u,shards:h,noRelative:p,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:y}),i?d.cloneElement(d.Children.only(l),Fn(Fn({},R),{ref:P})):d.createElement(v,Fn({},R,{className:c,ref:P}),l))});mc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mc.classNames={fullWidth:al,zeroRight:ol};var p4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=p4();return t&&e.setAttribute("nonce",t),e}function v4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function x4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var y4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=g4())&&(v4(t,n),x4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w4=function(){var e=y4();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cy=function(){var e=w4(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},b4={left:0,top:0,right:0,gap:0},yu=function(e){return parseInt(e||"",10)||0},S4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[yu(n),yu(r),yu(s)]},N4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return b4;var t=S4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},j4=cy(),so="data-scroll-locked",C4=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(a4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(so,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ol,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(al,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ol," .").concat(ol,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(al," .").concat(al,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(so,`] {
    `).concat(i4,": ").concat(l,`px;
  }
`)},og=function(){var e=parseInt(document.body.getAttribute(so)||"0",10);return isFinite(e)?e:0},k4=function(){d.useEffect(function(){return document.body.setAttribute(so,(og()+1).toString()),function(){var e=og()-1;e<=0?document.body.removeAttribute(so):document.body.setAttribute(so,e.toString())}},[])},E4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;k4();var a=d.useMemo(function(){return N4(s)},[s]);return d.createElement(j4,{styles:C4(a,!t,s,n?"":"!important")})},Ud=!1;if(typeof window<"u")try{var Ai=Object.defineProperty({},"passive",{get:function(){return Ud=!0,!0}});window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Ud=!1}var Os=Ud?{passive:!1}:!1,T4=function(e){return e.tagName==="TEXTAREA"},uy=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!T4(e)&&n[t]==="visible")},R4=function(e){return uy(e,"overflowY")},P4=function(e){return uy(e,"overflowX")},ag=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=dy(e,r);if(s){var a=fy(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},A4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},dy=function(e,t){return e==="v"?R4(t):P4(t)},fy=function(e,t){return e==="v"?_4(t):A4(t)},I4=function(e,t){return e==="h"&&t==="rtl"?-1:1},D4=function(e,t,n,r,s){var a=I4(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,f=i>0,h=0,m=0;do{if(!l)break;var p=fy(e,l),w=p[0],x=p[1],b=p[2],g=x-b-a*w;(w||g)&&dy(e,l)&&(h+=g,m+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(u=!0),u},Ii=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ig=function(e){return[e.deltaX,e.deltaY]},lg=function(e){return e&&"current"in e?e.current:e},O4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},L4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},M4=0,Ls=[];function $4(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(M4++)[0],a=d.useState(cy)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=o4([e.lockRef.current],(e.shards||[]).map(lg),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var g=Ii(x),v=n.current,y="deltaX"in x?x.deltaX:v[0]-g[0],S="deltaY"in x?x.deltaY:v[1]-g[1],k,P=x.target,R=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in x&&R==="h"&&P.type==="range")return!1;var N=ag(R,P);if(!N)return!0;if(N?k=R:(k=R==="v"?"h":"v",N=ag(R,P)),!N)return!1;if(!r.current&&"changedTouches"in x&&(y||S)&&(r.current=k),!k)return!0;var C=r.current||k;return D4(C,b,x,C==="h"?y:S)},[]),c=d.useCallback(function(x){var b=x;if(!(!Ls.length||Ls[Ls.length-1]!==a)){var g="deltaY"in b?ig(b):Ii(b),v=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&O4(k.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(lg).filter(Boolean).filter(function(k){return k.contains(b.target)}),S=y.length>0?l(b,y[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(x,b,g,v){var y={name:x,delta:b,target:g,should:v,shadowParent:z4(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),f=d.useCallback(function(x){n.current=Ii(x),r.current=void 0},[]),h=d.useCallback(function(x){u(x.type,ig(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,Ii(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return Ls.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Os),document.addEventListener("touchmove",c,Os),document.addEventListener("touchstart",f,Os),function(){Ls=Ls.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Os),document.removeEventListener("touchmove",c,Os),document.removeEventListener("touchstart",f,Os)}},[]);var p=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(a,{styles:L4(s)}):null,p?d.createElement(E4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function z4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const F4=m4(ly,$4);var Nh=d.forwardRef(function(e,t){return d.createElement(mc,Fn({},e,{ref:t,sideCar:F4}))});Nh.classNames=mc.classNames;var U4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ms=new WeakMap,Di=new WeakMap,Oi={},wu=0,hy=function(e){return e&&(e.host||hy(e.parentNode))},B4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hy(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},W4=function(e,t,n,r){var s=B4(t,Array.isArray(e)?e:[e]);Oi[n]||(Oi[n]=new WeakMap);var a=Oi[n],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(r),w=p!==null&&p!=="false",x=(Ms.get(m)||0)+1,b=(a.get(m)||0)+1;Ms.set(m,x),a.set(m,b),i.push(m),x===1&&w&&Di.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return f(t),l.clear(),wu++,function(){i.forEach(function(h){var m=Ms.get(h)-1,p=a.get(h)-1;Ms.set(h,m),a.set(h,p),m||(Di.has(h)||h.removeAttribute(r),Di.delete(h)),p||h.removeAttribute(n)}),wu--,wu||(Ms=new WeakMap,Ms=new WeakMap,Di=new WeakMap,Oi={})}},my=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=U4(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),W4(r,s,n,"aria-hidden")):function(){return null}},pc="Dialog",[py,gy]=Dn(pc),[V4,On]=py(pc),vy=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,f]=bs({prop:r,defaultProp:s??!1,onChange:a,caller:pc});return o.jsx(V4,{scope:t,triggerRef:l,contentRef:c,contentId:Yr(),titleId:Yr(),descriptionId:Yr(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:i,children:n})};vy.displayName=pc;var xy="DialogTrigger",yy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=On(xy,n),a=Pe(t,s.triggerRef);return o.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kh(s.open),...r,ref:a,onClick:be(e.onClick,s.onOpenToggle)})});yy.displayName=xy;var jh="DialogPortal",[H4,wy]=py(jh,{forceMount:void 0}),by=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=On(jh,t);return o.jsx(H4,{scope:t,forceMount:n,children:d.Children.map(r,i=>o.jsx(wr,{present:n||a.open,children:o.jsx(Sh,{asChild:!0,container:s,children:i})}))})};by.displayName=jh;var zl="DialogOverlay",Sy=d.forwardRef((e,t)=>{const n=wy(zl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=On(zl,e.__scopeDialog);return a.modal?o.jsx(wr,{present:r||a.open,children:o.jsx(Y4,{...s,ref:t})}):null});Sy.displayName=zl;var K4=po("DialogOverlay.RemoveScroll"),Y4=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=On(zl,n);return o.jsx(Nh,{as:K4,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Se.div,{"data-state":kh(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",Ny=d.forwardRef((e,t)=>{const n=wy(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=On(Ss,e.__scopeDialog);return o.jsx(wr,{present:r||a.open,children:a.modal?o.jsx(G4,{...s,ref:t}):o.jsx(X4,{...s,ref:t})})});Ny.displayName=Ss;var G4=d.forwardRef((e,t)=>{const n=On(Ss,e.__scopeDialog),r=d.useRef(null),s=Pe(t,n.contentRef,r);return d.useEffect(()=>{const a=r.current;if(a)return my(a)},[]),o.jsx(jy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:be(e.onFocusOutside,a=>a.preventDefault())})}),X4=d.forwardRef((e,t)=>{const n=On(Ss,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(jy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),jy=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=On(Ss,n),c=d.useRef(null),u=Pe(t,c);return oy(),o.jsxs(o.Fragment,{children:[o.jsx(bh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(wh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kh(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Q4,{titleId:l.titleId}),o.jsx(Z4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ch="DialogTitle",Cy=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=On(Ch,n);return o.jsx(Se.h2,{id:s.titleId,...r,ref:t})});Cy.displayName=Ch;var ky="DialogDescription",Ey=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=On(ky,n);return o.jsx(Se.p,{id:s.descriptionId,...r,ref:t})});Ey.displayName=ky;var Ty="DialogClose",Ry=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=On(Ty,n);return o.jsx(Se.button,{type:"button",...r,ref:t,onClick:be(e.onClick,()=>s.onOpenChange(!1))})});Ry.displayName=Ty;function kh(e){return e?"open":"closed"}var Py="DialogTitleWarning",[q4,_y]=Vk(Py,{contentName:Ss,titleName:Ch,docsSlug:"dialog"}),Q4=({titleId:e})=>{const t=_y(Py),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},J4="DialogDescriptionWarning",Z4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_y(J4).contentName}}.`;return d.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Ay=vy,eT=yy,Iy=by,Dy=Sy,Oy=Ny,Ly=Cy,tT=Ey,Eh=Ry;function gc({...e}){return o.jsx(Ay,{"data-slot":"dialog",...e})}function nT({...e}){return o.jsx(Iy,{"data-slot":"dialog-portal",...e})}function rT({className:e,...t}){return o.jsx(Dy,{"data-slot":"dialog-overlay",className:Re("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function vc({className:e,children:t,...n}){return o.jsxs(nT,{"data-slot":"dialog-portal",children:[o.jsx(rT,{}),o.jsxs(Oy,{"data-slot":"dialog-content",className:Re("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(Eh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(Pn,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function xc({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Re("flex flex-col gap-2 text-center sm:text-left",e),...t})}function yc({className:e,...t}){return o.jsx(Ly,{"data-slot":"dialog-title",className:Re("text-lg leading-none font-semibold",e),...t})}function sT({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:a,currentUserId:i,isSharedAccess:l}){var je,We;const[c,u]=d.useState(null),[f,h]=d.useState([]),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(!0),[v,y]=d.useState(null),[S,k]=d.useState(!1),[P,R]=d.useState([]),[N,C]=d.useState([]),[T,_]=d.useState(""),[E,I]=d.useState(!1),[D,K]=d.useState(!1),[U,L]=d.useState([]),j=d.useCallback(async()=>{var G,O,X;try{g(!0),y(null),console.log("    :",e);const re=localStorage.getItem("accessToken");let q=null;if(re)try{const W=re.split(".");if(W.length===3){const ae=JSON.parse(atob(W[1]));q=ae.userId||ae.sub||ae.id||null}}catch(W){console.error("JWT   :",W)}const $=await r(e);if(console.log("   :",$),!$){console.error("   "),y("   .");return}if(u($),h($.playlistContents||[]),q&&$.subscriptions){const W=$.subscriptions.find(ae=>ae.userId===q);p(!!W),x((W==null?void 0:W.subscriptionId)||null)}console.log("    :",{playlist:$,contents:$.playlistContents||[],isSubscribed:!!q&&((G=$.subscriptions)==null?void 0:G.some(W=>W.userId===q)),subscriptionId:(X=(O=$.subscriptions)==null?void 0:O.find(W=>W.userId===q))==null?void 0:X.subscriptionId})}catch(re){console.error("    :",re),y("   .")}finally{g(!1)}},[e,r]),A=d.useCallback(async()=>{try{console.log("   :",{searchQuery:T}),I(!0);const G=await hs.getContents({size:20,query:T||void 0});console.log("   :",G),R(G.data||[]),console.log("   :",G.data||[])}catch(G){console.error("   :",G)}finally{I(!1)}},[T]);if(d.useEffect(()=>{j()},[j]),d.useEffect(()=>{let G;return S&&(G=setTimeout(()=>{A()},300)),()=>{G&&clearTimeout(G)}},[T,S,A]),b)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(v||!c)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:v||"   "}),o.jsx(B,{onClick:t,variant:"outline",children:""})]})});const z=async()=>{if(!i){alert(" .");return}try{if(m&&w)await $d.unsubscribe(w),p(!1),x(null),console.log("   :",w);else{const G=await $d.subscribe(i,e);p(!0),x(G.subscriptionId),console.log("  :",G)}await j()}catch(G){console.error("    :",G),alert("   .")}},ne=G=>{if(i!==c.userId){alert("     .");return}console.log(`Removing content ${G} from playlist ${e}`),h(O=>O.filter(X=>X.id!==G))},M=G=>{n?n({id:G.id,title:G.title,thumbnail:G.thumbnail,type:G.type,duration:G.duration,description:G.description}):alert(`"${G.title}"  .`)},ee=()=>{console.log(`Playing playlist: ${c.name}`),alert(`"${c.name}"   .`)},se=()=>{if(i!==c.userId){alert("     .");return}k(!0),A()},ue=G=>{C(O=>O.includes(G)?O.filter(X=>X!==G):[...O,G])},Te=async()=>{if(N.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,N),await s(e,N),await j(),k(!1),C([]),_(""),alert(`${N.length}   .`)}catch(G){console.error("  :",G),alert("  .")}},J=()=>{console.log("    :",!D),K(!D),L([])},oe=G=>{L(O=>O.includes(G)?O.filter(X=>X!==G):[...O,G])},pe=()=>{U.length===f.length?L([]):L(f.map(G=>G.id))},fe=async()=>{if(i!==c.userId){alert("     .");return}if(U.length===0){alert("  .");return}if(confirm(` ${U.length}   ?`))try{await a(e,U),await j(),L([]),K(!1),alert(`${U.length}  .`)}catch(O){console.error("  :",O),alert("  .")}},ce=async()=>{try{const G=`${window.location.origin}/?playlist=${e}`;navigator.clipboard?(await navigator.clipboard.writeText(G),alert("    !")):prompt("   :",G),console.log("    :",G)}catch(G){console.error("   :",G),alert("   .")}},ve=()=>c.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:c.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:""})]})}):o.jsx($l,{src:c.coverImage,alt:c.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs(B,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(jo,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:ve()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(Gn,{variant:"secondary",className:"bg-white/10 text-white",children:""}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:c.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:c.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(lt,{className:"h-6 w-6",children:[o.jsx(ct,{src:(je=c.user)==null?void 0:je.profileImage}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black text-xs",children:((We=c.username)==null?void 0:We.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:c.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[f.length," "]}),o.jsx("span",{children:""}),o.jsx("span",{children:c.totalDuration||"0"}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(hh,{className:"w-4 h-4"}),o.jsx("span",{children:c.createdAt?new Date(c.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs(B,{size:"lg",onClick:ee,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(Et,{className:"w-6 h-6 mr-2 fill-current"}),""]}),i?o.jsx(o.Fragment,{children:i===c.userId?o.jsxs(o.Fragment,{children:[o.jsxs(B,{size:"lg",variant:"outline",onClick:se,className:"border-white/20 hover:bg-white/10",children:[o.jsx(en,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs(B,{size:"lg",variant:"outline",onClick:J,className:`border-white/20 hover:bg-white/10 ${D?"bg-white/10":""}`,children:[o.jsx(Pn,{className:"w-5 h-5 mr-2"}),D?" ":" "]})]}):null}):o.jsxs(B,{size:"lg",variant:"outline",onClick:()=>alert(l?"  .     !":"    ."),className:"border-white/20 hover:bg-white/10",children:[o.jsx(en,{className:"w-5 h-5 mr-2"})," "]}),D&&o.jsxs(o.Fragment,{children:[o.jsx(B,{size:"lg",variant:"outline",onClick:pe,className:"border-white/20 hover:bg-white/10",children:U.length===f.length?" ":" "}),U.length>0&&o.jsxs(B,{size:"lg",variant:"destructive",onClick:fe,className:"bg-red-600 hover:bg-red-700",children:["  (",U.length,")"]})]}),i&&o.jsx(B,{variant:"ghost",size:"lg",onClick:z,className:`p-3 hover:bg-white/10 ${m?"text-[#4ecdc4]":"text-white/60"}`,title:m?" ":"",children:o.jsx(mr,{className:`w-6 h-6 ${m?"fill-current":""}`})}),o.jsx(B,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",onClick:ce,children:o.jsx(EC,{className:"w-6 h-6"})}),o.jsx(B,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(P0,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:""}),o.jsx("div",{className:"col-span-2",children:""}),o.jsx("div",{className:"col-span-2",children:" "}),o.jsx("div",{className:"col-span-1",children:o.jsx(Kr,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:f.map((G,O)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:D,contentId:G.id}),D)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>oe(G.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${U.includes(G.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:U.includes(G.id)&&o.jsx(en,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:O+1}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>M(G),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(Et,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx($l,{src:G.thumbnail,alt:G.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:G.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[G.year,"  ",G.type==="movie"?"":G.type==="tv"?"":""]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:G.genre&&Array.isArray(G.genre)?G.genre.slice(0,2).join(", "):G.genre||" "})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(G.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:G.duration})}),o.jsx("div",{className:"col-span-1",children:i===c.userId&&o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>ne(G.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(Pn,{className:"w-4 h-4"})})})})]})},G.id))}),f.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),i===c.userId&&o.jsx(B,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:se,children:" "})]})]})}),o.jsx(gc,{open:S,onOpenChange:k,children:o.jsxs(vc,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(xc,{children:o.jsx(yc,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Ke,{placeholder:" ...",value:T,onChange:G=>_(G.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),N.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[N.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:E?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!P||P.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(P||[]).map(G=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${N.includes(G.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>ue(G.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:G.thumbnail||"/placeholder-content.jpg",alt:G.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:G.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:G.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(Gn,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:G.contentType}),G.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:G.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:N.includes(G.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(en,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},G.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx(B,{variant:"outline",onClick:()=>{k(!1),C([]),_("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx(B,{onClick:Te,disabled:N.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:N.length>0?`${N.length} `:""})]})]})})]})}function Aa(e,[t,n]){return Math.min(n,Math.max(t,e))}function Th(e){const t=e+"CollectionProvider",[n,r]=Dn(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:g}=x,v=te.useRef(null),y=te.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:y,collectionRef:v,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=po(l),u=te.forwardRef((x,b)=>{const{scope:g,children:v}=x,y=a(l,g),S=Pe(b,y.collectionRef);return o.jsx(c,{ref:S,children:v})});u.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=po(f),p=te.forwardRef((x,b)=>{const{scope:g,children:v,...y}=x,S=te.useRef(null),k=Pe(b,S),P=a(f,g);return te.useEffect(()=>(P.itemMap.set(S,{ref:S,...y}),()=>void P.itemMap.delete(S))),o.jsx(m,{[h]:"",ref:k,children:v})});p.displayName=f;function w(x){const b=a(e+"CollectionConsumer",x);return te.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((P,R)=>y.indexOf(P.ref.current)-y.indexOf(R.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var oT=d.createContext(void 0);function Ga(e){const t=d.useContext(oT);return e||t||"ltr"}const aT=["top","right","bottom","left"],Qr=Math.min,Qt=Math.max,Fl=Math.round,Li=Math.floor,Hn=e=>({x:e,y:e}),iT={left:"right",right:"left",bottom:"top",top:"bottom"},lT={start:"end",end:"start"};function Bd(e,t,n){return Qt(e,Qr(t,n))}function pr(e,t){return typeof e=="function"?e(t):e}function gr(e){return e.split("-")[0]}function Co(e){return e.split("-")[1]}function Rh(e){return e==="x"?"y":"x"}function Ph(e){return e==="y"?"height":"width"}const cT=new Set(["top","bottom"]);function Un(e){return cT.has(gr(e))?"y":"x"}function _h(e){return Rh(Un(e))}function uT(e,t,n){n===void 0&&(n=!1);const r=Co(e),s=_h(e),a=Ph(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Ul(i)),[i,Ul(i)]}function dT(e){const t=Ul(e);return[Wd(e),t,Wd(t)]}function Wd(e){return e.replace(/start|end/g,t=>lT[t])}const cg=["left","right"],ug=["right","left"],fT=["top","bottom"],hT=["bottom","top"];function mT(e,t,n){switch(e){case"top":case"bottom":return n?t?ug:cg:t?cg:ug;case"left":case"right":return t?fT:hT;default:return[]}}function pT(e,t,n,r){const s=Co(e);let a=mT(gr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Wd)))),a}function Ul(e){return e.replace(/left|right|bottom|top/g,t=>iT[t])}function gT(e){return{top:0,right:0,bottom:0,left:0,...e}}function My(e){return typeof e!="number"?gT(e):{top:e,right:e,bottom:e,left:e}}function Bl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function dg(e,t,n){let{reference:r,floating:s}=e;const a=Un(t),i=_h(t),l=Ph(i),c=gr(t),u=a==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:r.y-s.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Co(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const vT=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=dg(u,r,c),m=r,p={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:g}=l[x],{x:v,y,data:S,reset:k}=await g({x:f,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});f=v??f,h=y??h,p={...p,[b]:{...p[b],...S}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:f,y:h}=dg(u,m,c)),x=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function Ia(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=pr(t,e),w=My(p),b=l[m?h==="floating"?"reference":"floating":h],g=Bl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),v=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},k=Bl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(g.top-k.top+w.top)/S.y,bottom:(k.bottom-g.bottom+w.bottom)/S.y,left:(g.left-k.left+w.left)/S.x,right:(k.right-g.right+w.right)/S.x}}const xT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=pr(e,t)||{};if(u==null)return{};const h=My(f),m={x:n,y:r},p=_h(s),w=Ph(p),x=await i.getDimensions(u),b=p==="y",g=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",S=a.reference[w]+a.reference[p]-m[p]-a.floating[w],k=m[p]-a.reference[p],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let R=P?P[y]:0;(!R||!await(i.isElement==null?void 0:i.isElement(P)))&&(R=l.floating[y]||a.floating[w]);const N=S/2-k/2,C=R/2-x[w]/2-1,T=Qr(h[g],C),_=Qr(h[v],C),E=T,I=R-x[w]-_,D=R/2-x[w]/2+N,K=Bd(E,D,I),U=!c.arrow&&Co(s)!=null&&D!==K&&a.reference[w]/2-(D<E?T:_)-x[w]/2<0,L=U?D<E?D-E:D-I:0;return{[p]:m[p]+L,data:{[p]:K,centerOffset:D-K-L,...U&&{alignmentOffset:L}},reset:U}}}),yT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=pr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=gr(s),v=Un(l),y=gr(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=m||(y||!x?[Ul(l)]:dT(l)),P=w!=="none";!m&&P&&k.push(...pT(l,x,w,S));const R=[l,...k],N=await Ia(t,b),C=[];let T=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&C.push(N[g]),h){const D=uT(s,i,S);C.push(N[D[0]],N[D[1]])}if(T=[...T,{placement:s,overflows:C}],!C.every(D=>D<=0)){var _,E;const D=(((_=a.flip)==null?void 0:_.index)||0)+1,K=R[D];if(K&&(!(h==="alignment"?v!==Un(K):!1)||T.every(j=>j.overflows[0]>0&&Un(j.placement)===v)))return{data:{index:D,overflows:T},reset:{placement:K}};let U=(E=T.filter(L=>L.overflows[0]<=0).sort((L,j)=>L.overflows[1]-j.overflows[1])[0])==null?void 0:E.placement;if(!U)switch(p){case"bestFit":{var I;const L=(I=T.filter(j=>{if(P){const A=Un(j.placement);return A===v||A==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(A=>A>0).reduce((A,z)=>A+z,0)]).sort((j,A)=>j[1]-A[1])[0])==null?void 0:I[0];L&&(U=L);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function fg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hg(e){return aT.some(t=>e[t]>=0)}const wT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=pr(e,t);switch(r){case"referenceHidden":{const a=await Ia(t,{...s,elementContext:"reference"}),i=fg(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:hg(i)}}}case"escaped":{const a=await Ia(t,{...s,altBoundary:!0}),i=fg(a,n.floating);return{data:{escapedOffsets:i,escaped:hg(i)}}}default:return{}}}}},$y=new Set(["left","top"]);async function bT(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=gr(n),l=Co(n),c=Un(n)==="y",u=$y.has(i)?-1:1,f=a&&c?-1:1,h=pr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*f,y:m*u}:{x:m*u,y:p*f}}const ST=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await bT(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},NT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...c}=pr(e,t),u={x:n,y:r},f=await Ia(t,c),h=Un(gr(s)),m=Rh(h);let p=u[m],w=u[h];if(a){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",v=p+f[b],y=p-f[g];p=Bd(v,p,y)}if(i){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=w+f[b],y=w-f[g];w=Bd(v,w,y)}const x=l.fn({...t,[m]:p,[h]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[h]:i}}}}}},jT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pr(e,t),f={x:n,y:r},h=Un(s),m=Rh(h);let p=f[m],w=f[h];const x=pr(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const y=m==="y"?"height":"width",S=a.reference[m]-a.floating[y]+b.mainAxis,k=a.reference[m]+a.reference[y]-b.mainAxis;p<S?p=S:p>k&&(p=k)}if(u){var g,v;const y=m==="y"?"width":"height",S=$y.has(gr(s)),k=a.reference[h]-a.floating[y]+(S&&((g=i.offset)==null?void 0:g[h])||0)+(S?0:b.crossAxis),P=a.reference[h]+a.reference[y]+(S?0:((v=i.offset)==null?void 0:v[h])||0)-(S?b.crossAxis:0);w<k?w=k:w>P&&(w=P)}return{[m]:p,[h]:w}}}},CT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=pr(e,t),f=await Ia(t,u),h=gr(s),m=Co(s),p=Un(s)==="y",{width:w,height:x}=a.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,b=m==="end"?"top":"bottom");const v=x-f.top-f.bottom,y=w-f.left-f.right,S=Qr(x-f[b],v),k=Qr(w-f[g],y),P=!t.middlewareData.shift;let R=S,N=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=v),P&&!m){const T=Qt(f.left,0),_=Qt(f.right,0),E=Qt(f.top,0),I=Qt(f.bottom,0);p?N=w-2*(T!==0||_!==0?T+_:Qt(f.left,f.right)):R=x-2*(E!==0||I!==0?E+I:Qt(f.top,f.bottom))}await c({...t,availableWidth:N,availableHeight:R});const C=await i.getDimensions(l.floating);return w!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function wc(){return typeof window<"u"}function ko(e){return zy(e)?(e.nodeName||"").toLowerCase():"#document"}function nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zn(e){var t;return(t=(zy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zy(e){return wc()?e instanceof Node||e instanceof nn(e).Node:!1}function _n(e){return wc()?e instanceof Element||e instanceof nn(e).Element:!1}function Xn(e){return wc()?e instanceof HTMLElement||e instanceof nn(e).HTMLElement:!1}function mg(e){return!wc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nn(e).ShadowRoot}const kT=new Set(["inline","contents"]);function Xa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=An(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!kT.has(s)}const ET=new Set(["table","td","th"]);function TT(e){return ET.has(ko(e))}const RT=[":popover-open",":modal"];function bc(e){return RT.some(t=>{try{return e.matches(t)}catch{return!1}})}const PT=["transform","translate","scale","rotate","perspective"],_T=["transform","translate","scale","rotate","perspective","filter"],AT=["paint","layout","strict","content"];function Ah(e){const t=Ih(),n=_n(e)?An(e):e;return PT.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||_T.some(r=>(n.willChange||"").includes(r))||AT.some(r=>(n.contain||"").includes(r))}function IT(e){let t=Jr(e);for(;Xn(t)&&!vo(t);){if(Ah(t))return t;if(bc(t))return null;t=Jr(t)}return null}function Ih(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DT=new Set(["html","body","#document"]);function vo(e){return DT.has(ko(e))}function An(e){return nn(e).getComputedStyle(e)}function Sc(e){return _n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jr(e){if(ko(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mg(e)&&e.host||Zn(e);return mg(t)?t.host:t}function Fy(e){const t=Jr(e);return vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xn(t)&&Xa(t)?t:Fy(t)}function Da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Fy(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=nn(s);if(a){const l=Vd(i);return t.concat(i,i.visualViewport||[],Xa(s)?s:[],l&&n?Da(l):[])}return t.concat(s,Da(s,[],n))}function Vd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Uy(e){const t=An(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Xn(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Fl(n)!==a||Fl(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Dh(e){return _n(e)?e:e.contextElement}function oo(e){const t=Dh(e);if(!Xn(t))return Hn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Uy(t);let i=(a?Fl(n.width):n.width)/r,l=(a?Fl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const OT=Hn(0);function By(e){const t=nn(e);return!Ih()||!t.visualViewport?OT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==nn(e)?!1:t}function Ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Dh(e);let i=Hn(1);t&&(r?_n(r)&&(i=oo(r)):i=oo(e));const l=LT(a,n,r)?By(a):Hn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(a){const m=nn(a),p=r&&_n(r)?nn(r):r;let w=m,x=Vd(w);for(;x&&r&&p!==w;){const b=oo(x),g=x.getBoundingClientRect(),v=An(x),y=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,S=g.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,h*=b.y,c+=y,u+=S,w=nn(x),x=Vd(w)}}return Bl({width:f,height:h,x:c,y:u})}function Oh(e,t){const n=Sc(e).scrollLeft;return t?t.left+n:Ns(Zn(e)).left+n}function Wy(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Oh(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function MT(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=Zn(r),l=t?bc(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Hn(1);const f=Hn(0),h=Xn(r);if((h||!h&&!a)&&((ko(r)!=="body"||Xa(i))&&(c=Sc(r)),Xn(r))){const p=Ns(r);u=oo(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const m=i&&!h&&!a?Wy(i,c,!0):Hn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-c.scrollTop*u.y+f.y+m.y}}function $T(e){return Array.from(e.getClientRects())}function zT(e){const t=Zn(e),n=Sc(e),r=e.ownerDocument.body,s=Qt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Qt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Oh(e);const l=-n.scrollTop;return An(r).direction==="rtl"&&(i+=Qt(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function FT(e,t){const n=nn(e),r=Zn(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Ih();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const UT=new Set(["absolute","fixed"]);function BT(e,t){const n=Ns(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Xn(e)?oo(e):Hn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function pg(e,t,n){let r;if(t==="viewport")r=FT(e,n);else if(t==="document")r=zT(Zn(e));else if(_n(t))r=BT(t,n);else{const s=By(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Bl(r)}function Vy(e,t){const n=Jr(e);return n===t||!_n(n)||vo(n)?!1:An(n).position==="fixed"||Vy(n,t)}function WT(e,t){const n=t.get(e);if(n)return n;let r=Da(e,[],!1).filter(l=>_n(l)&&ko(l)!=="body"),s=null;const a=An(e).position==="fixed";let i=a?Jr(e):e;for(;_n(i)&&!vo(i);){const l=An(i),c=Ah(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&UT.has(s.position)||Xa(i)&&!c&&Vy(e,i))?r=r.filter(f=>f!==i):s=l,i=Jr(i)}return t.set(e,r),r}function VT(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?bc(t)?[]:WT(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,f)=>{const h=pg(t,f,s);return u.top=Qt(h.top,u.top),u.right=Qr(h.right,u.right),u.bottom=Qr(h.bottom,u.bottom),u.left=Qt(h.left,u.left),u},pg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HT(e){const{width:t,height:n}=Uy(e);return{width:t,height:n}}function KT(e,t,n){const r=Xn(t),s=Zn(t),a=n==="fixed",i=Ns(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Hn(0);function u(){c.x=Oh(s)}if(r||!r&&!a)if((ko(t)!=="body"||Xa(s))&&(l=Sc(t)),r){const p=Ns(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!r&&s&&u();const f=s&&!r&&!a?Wy(s,l):Hn(0),h=i.left+l.scrollLeft-c.x-f.x,m=i.top+l.scrollTop-c.y-f.y;return{x:h,y:m,width:i.width,height:i.height}}function bu(e){return An(e).position==="static"}function gg(e,t){if(!Xn(e)||An(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zn(e)===n&&(n=n.ownerDocument.body),n}function Hy(e,t){const n=nn(e);if(bc(e))return n;if(!Xn(e)){let s=Jr(e);for(;s&&!vo(s);){if(_n(s)&&!bu(s))return s;s=Jr(s)}return n}let r=gg(e,t);for(;r&&TT(r)&&bu(r);)r=gg(r,t);return r&&vo(r)&&bu(r)&&!Ah(r)?n:r||IT(e)||n}const YT=async function(e){const t=this.getOffsetParent||Hy,n=this.getDimensions,r=await n(e.floating);return{reference:KT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GT(e){return An(e).direction==="rtl"}const XT={convertOffsetParentRelativeRectToViewportRelativeRect:MT,getDocumentElement:Zn,getClippingRect:VT,getOffsetParent:Hy,getElementRects:YT,getClientRects:$T,getDimensions:HT,getScale:oo,isElement:_n,isRTL:GT};function Ky(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qT(e,t){let n=null,r;const s=Zn(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=u;if(l||t(),!m||!p)return;const w=Li(h),x=Li(s.clientWidth-(f+m)),b=Li(s.clientHeight-(h+p)),g=Li(f),y={rootMargin:-w+"px "+-x+"px "+-b+"px "+-g+"px",threshold:Qt(0,Qr(1,c))||1};let S=!0;function k(P){const R=P[0].intersectionRatio;if(R!==c){if(!S)return i();R?i(!1,R):r=setTimeout(()=>{i(!1,1e-7)},1e3)}R===1&&!Ky(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(k,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(e)}return i(!0),a}function QT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Dh(e),f=s||a?[...u?Da(u):[],...Da(t)]:[];f.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const h=u&&l?qT(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,x=c?Ns(e):null;c&&b();function b(){const g=Ns(e);x&&!Ky(x,g)&&n(),x=g,w=requestAnimationFrame(b)}return n(),()=>{var g;f.forEach(v=>{s&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const JT=ST,ZT=NT,eR=yT,tR=CT,nR=wT,vg=xT,rR=jT,sR=(e,t,n)=>{const r=new Map,s={platform:XT,...n},a={...s.platform,_c:r};return vT(e,t,{...s,platform:a})};var oR=typeof document<"u",aR=function(){},il=oR?d.useLayoutEffect:aR;function Wl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Wl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Wl(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Yy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xg(e,t){const n=Yy(e);return Math.round(t*n)/n}function Su(e){const t=d.useRef(e);return il(()=>{t.current=e}),t}function iR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,h]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=d.useState(r);Wl(m,r)||p(r);const[w,x]=d.useState(null),[b,g]=d.useState(null),v=d.useCallback(j=>{j!==P.current&&(P.current=j,x(j))},[]),y=d.useCallback(j=>{j!==R.current&&(R.current=j,g(j))},[]),S=a||w,k=i||b,P=d.useRef(null),R=d.useRef(null),N=d.useRef(f),C=c!=null,T=Su(c),_=Su(s),E=Su(u),I=d.useCallback(()=>{if(!P.current||!R.current)return;const j={placement:t,strategy:n,middleware:m};_.current&&(j.platform=_.current),sR(P.current,R.current,j).then(A=>{const z={...A,isPositioned:E.current!==!1};D.current&&!Wl(N.current,z)&&(N.current=z,So.flushSync(()=>{h(z)}))})},[m,t,n,_,E]);il(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[u]);const D=d.useRef(!1);il(()=>(D.current=!0,()=>{D.current=!1}),[]),il(()=>{if(S&&(P.current=S),k&&(R.current=k),S&&k){if(T.current)return T.current(S,k,I);I()}},[S,k,I,T,C]);const K=d.useMemo(()=>({reference:P,floating:R,setReference:v,setFloating:y}),[v,y]),U=d.useMemo(()=>({reference:S,floating:k}),[S,k]),L=d.useMemo(()=>{const j={position:n,left:0,top:0};if(!U.floating)return j;const A=xg(U.floating,f.x),z=xg(U.floating,f.y);return l?{...j,transform:"translate("+A+"px, "+z+"px)",...Yy(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:z}},[n,l,U.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:I,refs:K,elements:U,floatingStyles:L}),[f,I,K,U,L])}const lR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?vg({element:r.current,padding:s}).fn(n):{}:r?vg({element:r,padding:s}).fn(n):{}}}},cR=(e,t)=>({...JT(e),options:[e,t]}),uR=(e,t)=>({...ZT(e),options:[e,t]}),dR=(e,t)=>({...rR(e),options:[e,t]}),fR=(e,t)=>({...eR(e),options:[e,t]}),hR=(e,t)=>({...tR(e),options:[e,t]}),mR=(e,t)=>({...nR(e),options:[e,t]}),pR=(e,t)=>({...lR(e),options:[e,t]});var gR="Arrow",Gy=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(Se.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Gy.displayName=gR;var vR=Gy;function Lh(e){const[t,n]=d.useState(void 0);return gt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Mh="Popper",[Xy,qy]=Dn(Mh),[xR,Qy]=Xy(Mh),Jy=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(xR,{scope:t,anchor:r,onAnchorChange:s,children:n})};Jy.displayName=Mh;var Zy="PopperAnchor",ew=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Qy(Zy,n),i=d.useRef(null),l=Pe(t,i);return d.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(Se.div,{...s,ref:l})});ew.displayName=Zy;var $h="PopperContent",[yR,wR]=Xy($h),tw=d.forwardRef((e,t)=>{var J,oe,pe,fe,ce,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,b=Qy($h,n),[g,v]=d.useState(null),y=Pe(t,je=>v(je)),[S,k]=d.useState(null),P=Lh(S),R=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,C=r+(a!=="center"?"-"+a:""),T=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},_=Array.isArray(u)?u:[u],E=_.length>0,I={padding:T,boundary:_.filter(SR),altBoundary:E},{refs:D,floatingStyles:K,placement:U,isPositioned:L,middlewareData:j}=iR({strategy:"fixed",placement:C,whileElementsMounted:(...je)=>QT(...je,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[cR({mainAxis:s+N,alignmentAxis:i}),c&&uR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?dR():void 0,...I}),c&&fR({...I}),hR({...I,apply:({elements:je,rects:We,availableWidth:G,availableHeight:O})=>{const{width:X,height:re}=We.reference,q=je.floating.style;q.setProperty("--radix-popper-available-width",`${G}px`),q.setProperty("--radix-popper-available-height",`${O}px`),q.setProperty("--radix-popper-anchor-width",`${X}px`),q.setProperty("--radix-popper-anchor-height",`${re}px`)}}),S&&pR({element:S,padding:l}),NR({arrowWidth:R,arrowHeight:N}),m&&mR({strategy:"referenceHidden",...I})]}),[A,z]=sw(U),ne=At(w);gt(()=>{L&&(ne==null||ne())},[L,ne]);const M=(J=j.arrow)==null?void 0:J.x,ee=(oe=j.arrow)==null?void 0:oe.y,se=((pe=j.arrow)==null?void 0:pe.centerOffset)!==0,[ue,Te]=d.useState();return gt(()=>{g&&Te(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:L?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(fe=j.transformOrigin)==null?void 0:fe.x,(ce=j.transformOrigin)==null?void 0:ce.y].join(" "),...((ve=j.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(yR,{scope:n,placedSide:A,onArrowChange:k,arrowX:M,arrowY:ee,shouldHideArrow:se,children:o.jsx(Se.div,{"data-side":A,"data-align":z,...x,ref:y,style:{...x.style,animation:L?void 0:"none"}})})})});tw.displayName=$h;var nw="PopperArrow",bR={top:"bottom",right:"left",bottom:"top",left:"right"},rw=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=wR(nw,r),i=bR[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(vR,{...s,ref:n,style:{...s.style,display:"block"}})})});rw.displayName=nw;function SR(e){return e!==null}var NR=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=sw(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?h:`${m}px`,x=`${-c}px`):u==="top"?(w=i?h:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?h:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?h:`${p}px`),{data:{x:w,y:x}}}});function sw(e){const[t,n="center"]=e.split("-");return[t,n]}var jR=Jy,CR=ew,kR=tw,ER=rw;function zh(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ow=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TR="VisuallyHidden",RR=d.forwardRef((e,t)=>o.jsx(Se.span,{...e,ref:t,style:{...ow,...e.style}}));RR.displayName=TR;var PR=[" ","Enter","ArrowUp","ArrowDown"],_R=[" ","Enter"],js="Select",[Nc,jc,AR]=Th(js),[Eo,L5]=Dn(js,[AR,qy]),Cc=qy(),[IR,rs]=Eo(js),[DR,OR]=Eo(js),aw=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:m,required:p,form:w}=e,x=Cc(t),[b,g]=d.useState(null),[v,y]=d.useState(null),[S,k]=d.useState(!1),P=Ga(u),[R,N]=bs({prop:r,defaultProp:s??!1,onChange:a,caller:js}),[C,T]=bs({prop:i,defaultProp:l,onChange:c,caller:js}),_=d.useRef(null),E=b?w||!!b.closest("form"):!0,[I,D]=d.useState(new Set),K=Array.from(I).map(U=>U.props.value).join(";");return o.jsx(jR,{...x,children:o.jsxs(IR,{required:p,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:Yr(),value:C,onValueChange:T,open:R,onOpenChange:N,dir:P,triggerPointerDownPosRef:_,disabled:m,children:[o.jsx(Nc.Provider,{scope:t,children:o.jsx(DR,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(U=>{D(L=>new Set(L).add(U))},[]),onNativeOptionRemove:d.useCallback(U=>{D(L=>{const j=new Set(L);return j.delete(U),j})},[]),children:n})}),E?o.jsxs(Tw,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:C,onChange:U=>T(U.target.value),disabled:m,form:w,children:[C===void 0?o.jsx("option",{value:""}):null,Array.from(I)]},K):null]})})};aw.displayName=js;var iw="SelectTrigger",lw=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Cc(n),i=rs(iw,n),l=i.disabled||r,c=Pe(t,i.onTriggerChange),u=jc(n),f=d.useRef("touch"),[h,m,p]=Pw(x=>{const b=u().filter(y=>!y.disabled),g=b.find(y=>y.value===i.value),v=_w(b,x,g);v!==void 0&&i.onValueChange(v.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(CR,{asChild:!0,...a,children:o.jsx(Se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Rw(i.value)?"":void 0,...s,ref:c,onClick:be(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&w(x)}),onPointerDown:be(s.onPointerDown,x=>{f.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:be(s.onKeyDown,x=>{const b=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&PR.includes(x.key)&&(w(),x.preventDefault())})})})});lw.displayName=iw;var cw="SelectValue",uw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=rs(cw,n),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,h=Pe(t,c.onValueNodeChange);return gt(()=>{u(f)},[u,f]),o.jsx(Se.span,{...l,ref:h,style:{pointerEvents:"none"},children:Rw(c.value)?o.jsx(o.Fragment,{children:i}):a})});uw.displayName=cw;var LR="SelectIcon",dw=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(Se.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});dw.displayName=LR;var MR="SelectPortal",fw=e=>o.jsx(Sh,{asChild:!0,...e});fw.displayName=MR;var Cs="SelectContent",hw=d.forwardRef((e,t)=>{const n=rs(Cs,e.__scopeSelect),[r,s]=d.useState();if(gt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?So.createPortal(o.jsx(mw,{scope:e.__scopeSelect,children:o.jsx(Nc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(pw,{...e,ref:t})});hw.displayName=Cs;var bn=10,[mw,ss]=Eo(Cs),$R="SelectContentImpl",zR=po("SelectContent.RemoveScroll"),pw=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b,...g}=e,v=rs(Cs,n),[y,S]=d.useState(null),[k,P]=d.useState(null),R=Pe(t,J=>S(J)),[N,C]=d.useState(null),[T,_]=d.useState(null),E=jc(n),[I,D]=d.useState(!1),K=d.useRef(!1);d.useEffect(()=>{if(y)return my(y)},[y]),oy();const U=d.useCallback(J=>{const[oe,...pe]=E().map(ve=>ve.ref.current),[fe]=pe.slice(-1),ce=document.activeElement;for(const ve of J)if(ve===ce||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===oe&&k&&(k.scrollTop=0),ve===fe&&k&&(k.scrollTop=k.scrollHeight),ve==null||ve.focus(),document.activeElement!==ce))return},[E,k]),L=d.useCallback(()=>U([N,y]),[U,N,y]);d.useEffect(()=>{I&&L()},[I,L]);const{onOpenChange:j,triggerPointerDownPosRef:A}=v;d.useEffect(()=>{if(y){let J={x:0,y:0};const oe=fe=>{var ce,ve;J={x:Math.abs(Math.round(fe.pageX)-(((ce=A.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ve=A.current)==null?void 0:ve.y)??0))}},pe=fe=>{J.x<=10&&J.y<=10?fe.preventDefault():y.contains(fe.target)||j(!1),document.removeEventListener("pointermove",oe),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",pe,{capture:!0})}}},[y,j,A]),d.useEffect(()=>{const J=()=>j(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[j]);const[z,ne]=Pw(J=>{const oe=E().filter(ce=>!ce.disabled),pe=oe.find(ce=>ce.ref.current===document.activeElement),fe=_w(oe,J,pe);fe&&setTimeout(()=>fe.ref.current.focus())}),M=d.useCallback((J,oe,pe)=>{const fe=!K.current&&!pe;(v.value!==void 0&&v.value===oe||fe)&&(C(J),fe&&(K.current=!0))},[v.value]),ee=d.useCallback(()=>y==null?void 0:y.focus(),[y]),se=d.useCallback((J,oe,pe)=>{const fe=!K.current&&!pe;(v.value!==void 0&&v.value===oe||fe)&&_(J)},[v.value]),ue=r==="popper"?Hd:gw,Te=ue===Hd?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return o.jsx(mw,{scope:n,content:y,viewport:k,onViewportChange:P,itemRefCallback:M,selectedItem:N,onItemLeave:ee,itemTextRefCallback:se,focusSelectedItem:L,selectedItemText:T,position:r,isPositioned:I,searchRef:z,children:o.jsx(Nh,{as:zR,allowPinchZoom:!0,children:o.jsx(bh,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:be(s,J=>{var oe;(oe=v.trigger)==null||oe.focus({preventScroll:!0}),J.preventDefault()}),children:o.jsx(wh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(ue,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...g,...Te,onPlaced:()=>D(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:be(g.onKeyDown,J=>{const oe=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!oe&&J.key.length===1&&ne(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let fe=E().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(J.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ce=J.target,ve=fe.indexOf(ce);fe=fe.slice(ve+1)}setTimeout(()=>U(fe)),J.preventDefault()}})})})})})})});pw.displayName=$R;var FR="SelectItemAlignedPosition",gw=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=rs(Cs,n),i=ss(Cs,n),[l,c]=d.useState(null),[u,f]=d.useState(null),h=Pe(t,R=>f(R)),m=jc(n),p=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=i,y=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&b&&g){const R=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),T=g.getBoundingClientRect();if(a.dir!=="rtl"){const ce=T.left-N.left,ve=C.left-ce,je=R.left-ve,We=R.width+je,G=Math.max(We,N.width),O=window.innerWidth-bn,X=Aa(ve,[bn,Math.max(bn,O-G)]);l.style.minWidth=We+"px",l.style.left=X+"px"}else{const ce=N.right-T.right,ve=window.innerWidth-C.right-ce,je=window.innerWidth-R.right-ve,We=R.width+je,G=Math.max(We,N.width),O=window.innerWidth-bn,X=Aa(ve,[bn,Math.max(bn,O-G)]);l.style.minWidth=We+"px",l.style.right=X+"px"}const _=m(),E=window.innerHeight-bn*2,I=x.scrollHeight,D=window.getComputedStyle(u),K=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),L=parseInt(D.borderBottomWidth,10),j=parseInt(D.paddingBottom,10),A=K+U+I+j+L,z=Math.min(b.offsetHeight*5,A),ne=window.getComputedStyle(x),M=parseInt(ne.paddingTop,10),ee=parseInt(ne.paddingBottom,10),se=R.top+R.height/2-bn,ue=E-se,Te=b.offsetHeight/2,J=b.offsetTop+Te,oe=K+U+J,pe=A-oe;if(oe<=se){const ce=_.length>0&&b===_[_.length-1].ref.current;l.style.bottom="0px";const ve=u.clientHeight-x.offsetTop-x.offsetHeight,je=Math.max(ue,Te+(ce?ee:0)+ve+L),We=oe+je;l.style.height=We+"px"}else{const ce=_.length>0&&b===_[0].ref.current;l.style.top="0px";const je=Math.max(se,K+x.offsetTop+(ce?M:0)+Te)+pe;l.style.height=je+"px",x.scrollTop=oe-se+x.offsetTop}l.style.margin=`${bn}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,b,g,a.dir,r]);gt(()=>y(),[y]);const[S,k]=d.useState();gt(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const P=d.useCallback(R=>{R&&w.current===!0&&(y(),v==null||v(),w.current=!1)},[y,v]);return o.jsx(BR,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(Se.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gw.displayName=FR;var UR="SelectPopperPosition",Hd=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=bn,...a}=e,i=Cc(n);return o.jsx(kR,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hd.displayName=UR;var[BR,Fh]=Eo(Cs,{}),Kd="SelectViewport",vw=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=ss(Kd,n),i=Fh(Kd,n),l=Pe(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Nc.Slot,{scope:n,children:o.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:be(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const p=Math.abs(c.current-f.scrollTop);if(p>0){const w=window.innerHeight-bn*2,x=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(x,b);if(g<w){const v=g+p,y=Math.min(w,v),S=v-y;h.style.height=y+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});vw.displayName=Kd;var xw="SelectGroup",[WR,VR]=Eo(xw),HR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Yr();return o.jsx(WR,{scope:n,id:s,children:o.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:t})})});HR.displayName=xw;var yw="SelectLabel",KR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=VR(yw,n);return o.jsx(Se.div,{id:s.id,...r,ref:t})});KR.displayName=yw;var Vl="SelectItem",[YR,ww]=Eo(Vl),bw=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=rs(Vl,n),c=ss(Vl,n),u=l.value===r,[f,h]=d.useState(a??""),[m,p]=d.useState(!1),w=Pe(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,r,s)}),x=Yr(),b=d.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(YR,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(v=>{h(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(Nc.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:o.jsx(Se.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:be(i.onFocus,()=>p(!0)),onBlur:be(i.onBlur,()=>p(!1)),onClick:be(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:be(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:be(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:be(i.onPointerMove,v=>{var y;b.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(i.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:be(i.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(_R.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});bw.displayName=Vl;var Zo="SelectItemText",Sw=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=rs(Zo,n),l=ss(Zo,n),c=ww(Zo,n),u=OR(Zo,n),[f,h]=d.useState(null),m=Pe(t,g=>h(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),p=f==null?void 0:f.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return gt(()=>(x(w),()=>b(w)),[x,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(Se.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?So.createPortal(a.children,i.valueNode):null]})});Sw.displayName=Zo;var Nw="SelectItemIndicator",jw=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ww(Nw,n).isSelected?o.jsx(Se.span,{"aria-hidden":!0,...r,ref:t}):null});jw.displayName=Nw;var Yd="SelectScrollUpButton",Cw=d.forwardRef((e,t)=>{const n=ss(Yd,e.__scopeSelect),r=Fh(Yd,e.__scopeSelect),[s,a]=d.useState(!1),i=Pe(t,r.onScrollButtonChange);return gt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Ew,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Cw.displayName=Yd;var Gd="SelectScrollDownButton",kw=d.forwardRef((e,t)=>{const n=ss(Gd,e.__scopeSelect),r=Fh(Gd,e.__scopeSelect),[s,a]=d.useState(!1),i=Pe(t,r.onScrollButtonChange);return gt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Ew,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});kw.displayName=Gd;var Ew=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=ss("SelectScrollButton",n),i=d.useRef(null),l=jc(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),gt(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(Se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:be(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:be(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:be(s.onPointerLeave,()=>{c()})})}),GR="SelectSeparator",XR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(Se.div,{"aria-hidden":!0,...r,ref:t})});XR.displayName=GR;var Xd="SelectArrow",qR=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Cc(n),a=rs(Xd,n),i=ss(Xd,n);return a.open&&i.position==="popper"?o.jsx(ER,{...s,...r,ref:t}):null});qR.displayName=Xd;var QR="SelectBubbleInput",Tw=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),a=Pe(r,s),i=zh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const h=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[i,t]),o.jsx(Se.select,{...n,style:{...ow,...n.style},ref:a,defaultValue:t})});Tw.displayName=QR;function Rw(e){return e===""||e===void 0}function Pw(e){const t=At(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function _w(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=JR(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function JR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ZR=aw,eP=lw,tP=uw,nP=dw,rP=fw,sP=hw,oP=vw,aP=bw,iP=Sw,lP=jw,cP=Cw,uP=kw;function Uh({...e}){return o.jsx(ZR,{"data-slot":"select",...e})}function Bh({...e}){return o.jsx(tP,{"data-slot":"select-value",...e})}function Wh({className:e,size:t="default",children:n,...r}){return o.jsxs(eP,{"data-slot":"select-trigger","data-size":t,className:Re("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(nP,{asChild:!0,children:o.jsx(T0,{className:"size-4 opacity-50"})})]})}function Vh({className:e,children:t,position:n="popper",...r}){return o.jsx(rP,{children:o.jsxs(sP,{"data-slot":"select-content",className:Re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(dP,{}),o.jsx(oP,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(fP,{})]})})}function Bn({className:e,children:t,...n}){return o.jsxs(aP,{"data-slot":"select-item",className:Re("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(lP,{children:o.jsx(ro,{className:"size-4"})})}),o.jsx(iP,{children:t})]})}function dP({className:e,...t}){return o.jsx(cP,{"data-slot":"select-scroll-up-button",className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(vC,{className:"size-4"})})}function fP({className:e,...t}){return o.jsx(uP,{"data-slot":"select-scroll-down-button",className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(T0,{className:"size-4"})})}const hP=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function Nu({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,a]=d.useState(""),[i,l]=d.useState("latest"),[c,u]=d.useState([]),[f,h]=d.useState(!0),[m,p]=d.useState(null),[w,x]=d.useState(!1),[b,g]=d.useState(),[v,y]=d.useState(!1),S=hP(e),k=E=>{switch(E){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},P=async(E=!1)=>{try{E?y(!0):h(!0),p(null);const I=await hs.getContents({type:k(e),query:s||void 0,sortBy:i==="latest"||i==="rating"?"RELEASE_AT":i==="title"?"TITLE":"RELEASE_AT",direction:i==="title"?"ASC":"DESC",cursor:E?b:void 0,size:20});u(E?D=>[...D,...I.data]:I.data),x(I.hasNext),g(I.nextCursor)}catch(I){console.error("  :",I),p(I instanceof Error?I.message:"    .")}finally{h(!1),y(!1)}};d.useEffect(()=>{P(!1)},[e]),d.useEffect(()=>{const E=setTimeout(()=>{P(!1)},300);return()=>clearTimeout(E)},[s,i]);const R=()=>{w&&!f&&!v&&P(!0)},N=E=>({id:E.id,title:E.title,thumbnail:E.thumbnailUrl||E.thumbnail||"",type:E.contentType.toLowerCase(),duration:E.duration||"120",description:E.description||"",rating:E.avgRating,reviewCount:E.reviewCount,year:E.year||new Date(E.releaseDate).getFullYear()}),C=E=>{r==null||r(N(E))},T=E=>{t(N(E))},_=E=>{n==null||n(N(E))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:S}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ke,{placeholder:`${S} ...`,value:s,onChange:E=>a(E.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Uh,{value:i,onValueChange:l,children:[o.jsx(Wh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Bh,{placeholder:""})}),o.jsxs(Vh,{children:[o.jsx(Bn,{value:"latest",children:""}),o.jsx(Bn,{value:"rating",children:"  "}),o.jsx(Bn,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:f?" ...":`${c.length} `}),o.jsx(Gn,{variant:"outline",className:hs.getTypeColor(k(e)),children:S})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(B,{onClick:()=>P(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),f&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!f&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(E=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>_(E),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[E.thumbnailUrl?o.jsx("img",{src:E.thumbnailUrl,alt:E.title,className:"w-full h-full object-cover",onError:I=>{var D;I.currentTarget.style.display="none",(D=I.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${E.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:E.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(B,{size:"sm",onClick:I=>{I.stopPropagation(),T(E)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(B,{size:"sm",variant:"outline",onClick:I=>{I.stopPropagation(),C(E)},className:"border-white/20 hover:bg-white/10",children:o.jsx(en,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:E.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:E.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:`w-4 h-4 ${E.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:E.avgRating.toFixed(2)}),E.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",E.reviewCount,")"]})]}),E.year&&o.jsx("span",{className:"text-xs text-white/60",children:E.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:E.duration}),o.jsx(Gn,{variant:"outline",className:hs.getTypeColor(E.contentType),children:hs.getTypeLabel(E.contentType)})]})]})]},E.id))}),w&&o.jsx("div",{className:"text-center",children:o.jsx(B,{onClick:R,disabled:v,variant:"outline",className:"border-white/20 hover:bg-white/5",children:v?o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!f&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(R0,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${S}  .`}),s&&o.jsxs(B,{variant:"outline",onClick:()=>a(""),className:"border-white/20 hover:bg-white/5",children:[" ",S," "]})]})]})]})})}class mP{constructor(){mt(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},a=await fetch(t,{...n,headers:s});if(a.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return a}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok){console.log("HTTP  :",n.status),console.log("HTTP   :",n.statusText);let s=`  . Status: ${n.status}`,a=null;try{a=await n.json(),console.log("  :",a),s=a.message||s}catch(i){console.log("  JSON  :",i);try{const l=await n.text();console.log("  :",l),s=l||s}catch(l){console.log("    :",l)}}throw console.log("  :",s),n.status===409||n.status===400||s.includes("")||s.includes("")||s.includes("duplicate")||s.includes("already")||s.includes("DuplicateReview")?(console.log("   "),new Error("DUPLICATE_REVIEW")):new Error(s)}return await n.json()}catch(n){throw console.error("  :",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}}const Mi=new mP,$i=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,a]=d.useState(0),i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,f)=>{if(!t||!r)return;const h=f.currentTarget.getBoundingClientRect(),m=f.clientX-h.left,p=h.width,x=m<p/2?u-.5:u;r(x)},c=(u,f)=>{if(!t)return;const h=f.currentTarget.getBoundingClientRect(),m=f.clientX-h.left,p=h.width,x=m<p/2?u-.5:u;a(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const f=s||e,h=u-.5<=f&&u>f,m=u<=f;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(qr,{className:`${i[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?p=>l(u,p):void 0,onMouseMove:t?p=>c(u,p):void 0,onMouseLeave:t?()=>a(0):void 0}),(m||h)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${h?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(qr,{className:`${i[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function pP({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,a]=d.useState(""),[i,l]=d.useState(0),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(null),[v,y]=d.useState(""),[S,k]=d.useState(0),[P,R]=d.useState(!1),[N,C]=d.useState(null),T=async()=>{h(!0);try{const A=(await Mi.getReviewsByContentId(e.id)).map(z=>({...z,contentId:e.id,createdAt:new Date().toISOString(),user:{id:z.authorId,name:z.authorName,avatar:z.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(A)}catch(j){console.error("  :",j)}finally{h(!1)}},_=c.length>0?c.reduce((j,A)=>j+A.rating,0)/c.length:0,E=async()=>{if(!(!s.trim()||i===0||!r)){p(!0),x(null);try{const j={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:i},z={...await Mi.createReview(j),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([z,...c]),a(""),l(0),Wo.success("  ")}catch(j){if(console.error("  :",j),console.log("Error type:",typeof j),console.log("Error message:",j instanceof Error?j.message:String(j)),j instanceof Error)if(j.message==="DUPLICATE_REVIEW"){const A="   .       .";x(A),alert(A),Wo.error("   ",{description:"      ."})}else if(j.message.includes("")||j.message.includes("")){const A="   .       .";x(A),alert(A),Wo.error("   ",{description:"      ."})}else{const A=j.message||"  .    .";x(A),alert(A),Wo.error("  ",{description:j.message||"   ."})}else{const A="  .    .";x(A),alert(A),Wo.error("  ",{description:"   ."})}}finally{p(!1)}}},I=j=>{g(j),y(j.comment),k(j.rating)},D=()=>{g(null),y(""),k(0)},K=async()=>{if(!(!b||!v.trim()||S===0)){R(!0);try{const j={title:v.trim().substring(0,100),comment:v.trim(),rating:S},A=await Mi.updateReview(b.id,j);u(c.map(z=>z.id===b.id?{...z,...A}:z)),D()}catch(j){console.error("  :",j)}finally{R(!1)}}},U=async j=>{C(j);try{await Mi.deleteReview(j),u(c.filter(A=>A.id!==j))}catch(A){console.error("  :",A)}finally{C(null)}};d.useEffect(()=>{e.id&&T()},[e.id]);const L=j=>{switch(j){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs(B,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(jo,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:e.thumbnail?o.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:L(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Gn,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:L(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($i,{rating:_,size:"lg"}),o.jsx("span",{className:"text-xl",children:_%1===0?_.toFixed(0):_.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs(B,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(Et,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx($i,{rating:i,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(zd,{value:s,onChange:j=>{a(j.target.value),w&&x(null)},placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),w&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:o.jsx("p",{className:"text-red-400 text-sm",children:w})}),o.jsxs(B,{onClick:E,disabled:!s.trim()||i===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(ph,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:f?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(j=>{var A,z,ne,M;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(b==null?void 0:b.id)===j.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(lt,{children:[o.jsx(ct,{src:(A=j.user)==null?void 0:A.avatar}),o.jsx(ut,{children:((z=j.authorName)==null?void 0:z[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:j.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx($i,{rating:S,editable:!0,size:"lg",onChange:k})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(zd,{value:v,onChange:ee=>y(ee.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{onClick:K,disabled:!v.trim()||S===0||P,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:P?" ...":" "}),o.jsx(B,{onClick:D,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs(lt,{children:[o.jsx(ct,{src:(ne=j.user)==null?void 0:ne.avatar}),o.jsx(ut,{children:((M=j.authorName)==null?void 0:M[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:j.authorName||" "}),o.jsx($i,{rating:j.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:j.createdAt?new Date(j.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:j.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&j.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>I(j),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(CC,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>U(j.id),disabled:N===j.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Ml,{className:"w-4 h-4 mr-1"}),N===j.id?" ...":""]})]})})]})]})},j.id)})}),!f&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function gP({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:a,refreshUserProfile:i,onPlaylistOpen:l}){const[c,u]=d.useState(""),[f,h]=d.useState("user@moplay.kr"),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(""),[v,y]=d.useState(!1),[S,k]=d.useState(null),[P,R]=d.useState(null),[N,C]=d.useState([]),[T,_]=d.useState([]),[E,I]=d.useState(!1),[D,K]=d.useState(!1),[U,L]=d.useState("profile"),[j,A]=d.useState([]),[z,ne]=d.useState(""),[M,ee]=d.useState(""),[se,ue]=d.useState(""),[Te,J]=d.useState(""),oe=r||n,pe=!!(r&&r!==n);d.useEffect(()=>{e&&(k(null),oe?(fe(),ce(),ve(),G(),pe&&je()):k("  .  ."))},[e,oe,pe]);const fe=async()=>{try{const $=await s(`http://localhost:8080/api/users/${oe}`);if(!$.ok)throw new Error("   .");const W=await $.json();R(W),u(W.name),h(W.email)}catch($){console.error("   :",$),k("   .")}},ce=async()=>{try{const $=await s(`http://localhost:8080/api/follows/${oe}/followers`);if(!$.ok)throw new Error("   .");const W=await $.json();C(W)}catch($){console.error("   :",$),C([])}},ve=async()=>{try{const $=await s(`http://localhost:8080/api/follows/${oe}/following`);if(!$.ok)throw new Error("   .");const W=await $.json();_(W)}catch($){console.error("   :",$),_([])}},je=async()=>{if(!(!n||!oe))try{const $=await s(`http://localhost:8080/api/follows/${n}/is-following/${oe}`);if(!$.ok)throw new Error("   .");const W=await $.json();I(W)}catch($){console.error("   :",$),I(!1)}},We=async()=>{if(!(!n||!oe)){K(!0);try{if(E){if(!(await s(`http://localhost:8080/api/follows/${oe}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");I(!1),C(W=>W.filter(ae=>ae.id!==n))}else{const $=new FormData;if($.append("followerId",n),$.append("followingId",oe),!(await s("http://localhost:8080/api/follows",{method:"POST",body:$})).ok)throw new Error(" .");I(!0),P&&C(ae=>[...ae,{id:n,name:"",email:"",profileImage:""}])}}catch($){console.error("  :",$),alert($ instanceof Error?$.message:"    .")}finally{K(!1)}}},G=async()=>{if(oe)try{const $=await s(`http://localhost:8080/api/users/${oe}/playlists`);if(!$.ok)throw new Error("   .");const W=await $.json(),ae=pe?W.filter(Ee=>Ee.isPublic):W;A(ae)}catch($){console.error("   :",$),A([])}},O=$=>{a&&(t(),a($))},X=$=>{$?/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/.test($)?ue(""):ue(" 8 , , ,   ."):ue("")},re=$=>{J($!==z?"  .":"")},q=async()=>{y(!0),k(null);try{if(!n){k("  .  ."),y(!1);return}if(!b.trim()){k("     ."),y(!1);return}if(z){if(se||Te){k("    ."),y(!1);return}if(!M){k("  ."),y(!1);return}if(z!==M){k("  ."),y(!1);return}}const $=new FormData,W={newName:c,currentPassword:b};z&&(W.newPassword=z),console.log("Request data:",W);const ae=new Blob([JSON.stringify(W)],{type:"application/json"});$.append("request",ae),w&&($.append("profile",w),console.log("Profile image added:",w.name)),console.log("FormData entries:");for(let[ye,xe]of $.entries())console.log(ye,xe);const Ee=await fetch(`http://localhost:8080/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:$});if(!Ee.ok){const ye=await Ee.json();throw new Error(ye.message||"  .")}const Ce=await Ee.json();R(Ce),u(Ce.name),h(Ce.email),x(null),await fe(),alert("  ."),i&&i(),g(""),t()}catch($){console.error("  :",$),k($ instanceof Error?$.message:"    .")}finally{y(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:pe?`${(P==null?void 0:P.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[pe&&o.jsx(B,{onClick:We,disabled:D,className:`${E?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:D?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):E?o.jsxs(o.Fragment,{children:[o.jsx(I0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(gh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(Pn,{className:"w-5 h-5"})})]})]}),S&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:S}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(lt,{className:"h-20 w-20 mb-4",children:[o.jsx(ct,{src:w?URL.createObjectURL(w):P==null?void 0:P.profileImage}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!pe&&o.jsx(B,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>p(!m),children:o.jsx(E0,{className:"w-4 h-4"})})]}),m&&!pe&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(ty,{selectedImage:w,onImageSelect:x,onClose:()=>p(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:N.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:T.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx(B,{variant:U==="profile"?"default":"ghost",size:"sm",onClick:()=>L("profile"),className:U==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs(B,{variant:U==="followers"?"default":"ghost",size:"sm",onClick:()=>L("followers"),className:`${U==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(B,{variant:U==="following"?"default":"ghost",size:"sm",onClick:()=>L("following"),className:`${U==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(mr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(B,{variant:U==="playlists"?"default":"ghost",size:"sm",onClick:()=>L("playlists"),className:`${U==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(fu,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[U==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(Ke,{id:"name",value:c,onChange:$=>u($.target.value),disabled:pe,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${pe?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(Ke,{id:"email",value:f,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!pe&&o.jsxs("div",{children:[o.jsxs(It,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Ke,{id:"password",type:"password",value:b,onChange:$=>g($.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"      ."}),!pe&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-4",children:[o.jsx(It,{htmlFor:"newPassword",className:"text-sm",children:"  ()"}),o.jsx(Ke,{id:"newPassword",type:"password",value:z,onChange:$=>{const W=$.target.value;ne(W),X(W)},placeholder:"   ()",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),se&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:se})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(It,{htmlFor:"confirmPassword",className:"text-sm",children:"  "}),o.jsx(Ke,{id:"confirmPassword",type:"password",value:M,onChange:$=>{const W=$.target.value;ee(W),re(W)},placeholder:"   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),Te&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:Te})]})]})]})]}),U==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[N.map($=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>$.id&&O($.id),children:[o.jsxs(lt,{className:"h-10 w-10",children:[o.jsx(ct,{src:$.profileImage}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:$.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:$.name}),o.jsx("p",{className:"text-white/60 text-sm",children:$.email})]})]},$.id)),N.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ht,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),U==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[T.map($=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>$.id&&O($.id),children:[o.jsxs(lt,{className:"h-10 w-10",children:[o.jsx(ct,{src:$.profileImage}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:$.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:$.name}),o.jsx("p",{className:"text-white/60 text-sm",children:$.email})]})]},$.id)),T.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(mr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),U==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[j.map($=>{var W;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l($.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:$.thumbnail?o.jsx("img",{src:$.thumbnail,alt:$.title||$.name,className:"w-full h-full object-cover"}):o.jsx(fu,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:$.title||$.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[$.contentCount||((W=$.playlistContents)==null?void 0:W.length)||0," ",$.isPublic?"  ":"  "]})]})]},$.id)}),j.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fu,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:pe?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(B,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:v,children:pe?"":""}),!pe&&o.jsx(B,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:q,disabled:v||!n,children:v?" ...":""})]})]})]}):null}class vP{constructor(t){mt(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t="http://localhost:8080/api/dmRooms/";console.log("  DM   :",{url:t});const n=await this.authenticatedFetch(t);if(!n.ok)throw console.error(" DM   :",n.status,n.statusText),new Error(`Failed to fetch DM rooms: ${n.status} ${n.statusText}`);const r=await n.json();return console.log(" DM   :",r),r}async getRoom(t){const n=`http://localhost:8080/api/dmRooms/${t}`;console.log(" DM   :",{dmRoomId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM   :",r.status,r.statusText),new Error(`Failed to fetch DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM   :",s),s}async getOrCreateRoom(t){const n=`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`;console.log(" DM  / :",{userBId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM  / :",r.status,r.statusText),new Error(`Failed to get or create DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM  / :",s),s}async getDmMessages(t,n){const r=new URLSearchParams;n!=null&&n.cursor&&r.append("cursor",n.cursor),n!=null&&n.size&&r.append("size",n.size.toString());const s=`http://localhost:8080/api/dmRooms/${t}/dms${r.toString()?"?"+r.toString():""}`;console.log(" DM   :",{roomId:t,pagingDto:n,url:s});const a=await this.authenticatedFetch(s);if(!a.ok)throw console.error(" DM   :",a.status,a.statusText),new Error(`Failed to fetch DM messages: ${a.status} ${a.statusText}`);const i=await a.json();return console.log(" DM   :",i),i}async getFollowing(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}var Aw="AlertDialog",[xP,M5]=Dn(Aw,[gy]),br=gy(),Iw=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Ay,{...r,...n,modal:!0})};Iw.displayName=Aw;var yP="AlertDialogTrigger",wP=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(eT,{...s,...r,ref:t})});wP.displayName=yP;var bP="AlertDialogPortal",Dw=e=>{const{__scopeAlertDialog:t,...n}=e,r=br(t);return o.jsx(Iy,{...r,...n})};Dw.displayName=bP;var SP="AlertDialogOverlay",Ow=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Dy,{...s,...r,ref:t})});Ow.displayName=SP;var ao="AlertDialogContent",[NP,jP]=xP(ao),CP=fk("AlertDialogContent"),Lw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=br(n),i=d.useRef(null),l=Pe(t,i),c=d.useRef(null);return o.jsx(q4,{contentName:ao,titleName:Mw,docsSlug:"alert-dialog",children:o.jsx(NP,{scope:n,cancelRef:c,children:o.jsxs(Oy,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:be(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(CP,{children:r}),o.jsx(EP,{contentRef:i})]})})})});Lw.displayName=ao;var Mw="AlertDialogTitle",$w=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Ly,{...s,...r,ref:t})});$w.displayName=Mw;var zw="AlertDialogDescription",Fw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(tT,{...s,...r,ref:t})});Fw.displayName=zw;var kP="AlertDialogAction",Uw=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=br(n);return o.jsx(Eh,{...s,...r,ref:t})});Uw.displayName=kP;var Bw="AlertDialogCancel",Ww=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=jP(Bw,n),a=br(n),i=Pe(t,s);return o.jsx(Eh,{...a,...r,ref:i})});Ww.displayName=Bw;var EP=({contentRef:e})=>{const t=`\`${ao}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ao}\` by passing a \`${zw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ao}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},TP=Iw,RP=Dw,PP=Ow,_P=Lw,AP=Uw,IP=Ww,DP=$w,OP=Fw;function Hh({...e}){return o.jsx(TP,{"data-slot":"alert-dialog",...e})}function LP({...e}){return o.jsx(RP,{"data-slot":"alert-dialog-portal",...e})}function MP({className:e,...t}){return o.jsx(PP,{"data-slot":"alert-dialog-overlay",className:Re("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Kh({className:e,...t}){return o.jsxs(LP,{children:[o.jsx(MP,{}),o.jsx(_P,{"data-slot":"alert-dialog-content",className:Re("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Yh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:Re("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Gh({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:Re("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Xh({className:e,...t}){return o.jsx(DP,{"data-slot":"alert-dialog-title",className:Re("text-lg font-semibold",e),...t})}function qh({className:e,...t}){return o.jsx(OP,{"data-slot":"alert-dialog-description",className:Re("text-muted-foreground text-sm",e),...t})}function Qh({className:e,...t}){return o.jsx(AP,{className:Re(xh(),e),...t})}function Vw({className:e,...t}){return o.jsx(IP,{className:Re(xh({variant:"outline"}),e),...t})}function $P({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:a,getOrCreateDmRoom:i,refreshTrigger:l}){const[c,u]=d.useState(""),[f,h]=d.useState(!1),[m,p]=d.useState([]),[w,x]=d.useState([]),[b,g]=d.useState(!1),[v,y]=d.useState(null),[S,k]=d.useState(!1),[P,R]=d.useState(null),[N,C]=d.useState(!1),T=new vP(r),_=m.filter(M=>M.name.toLowerCase().includes(c.toLowerCase())),E=w.filter(M=>M.name.toLowerCase().includes(c.toLowerCase())),I=M=>{console.log(`Opening conversation with ${M.name}`),n({id:M.userId,name:M.name,avatar:M.avatar,isOnline:M.isOnline,roomId:M.id})},D=()=>{h(!0),u("")},K=()=>{h(!1),u("")},U=async M=>{try{g(!0);const ee=await i(M.id);console.log(`Starting new conversation with ${M.name}, room: ${ee}`),n({id:M.id,name:M.name,avatar:M.avatar,isOnline:M.isOnline,roomId:ee}),h(!1),u("")}catch(ee){console.error("Error starting conversation:",ee),y("   .")}finally{g(!1)}},L=(M,ee)=>{M.stopPropagation(),R(ee),k(!0)},j=async()=>{if(P)try{if(C(!0),!(await r(`http://localhost:8080/api/dmRooms/${P}`,{method:"DELETE"})).ok)throw new Error("DM   ");await z(),k(!1),R(null)}catch(M){console.error("Error deleting DM room:",M),y("   .")}finally{C(!1)}},A=()=>{k(!1),R(null)};d.useEffect(()=>{e&&s&&(z(),ne())},[e,s]),d.useEffect(()=>{console.log("DMList - refreshTrigger  :",l),e&&s&&l!==void 0&&l>0&&(console.log("DMList - DM     - :",l),g(!0),y(null),z().then(()=>{console.log(" DM    ")}).catch(M=>{console.error(" DM    :",M)}))},[l,e,s]);const z=async()=>{try{g(!0),y(null);const ee=(await a()).map(se=>{const ue=se.senderId===s?{id:se.receiverId,name:se.receiverName,avatar:"",isOnline:!1}:{id:se.senderId,name:se.senderName,avatar:"",isOnline:!1},Te=J=>{const oe=new Date(J),fe=new Date().getTime()-oe.getTime(),ce=Math.floor(fe/(1e3*60)),ve=Math.floor(fe/(1e3*60*60)),je=Math.floor(fe/(1e3*60*60*24));return ce<1?" ":ce<60?`${ce} `:ve<24?`${ve} `:je===1?"":`${je} `};return{id:se.id,userId:(ue==null?void 0:ue.id)||"",name:(ue==null?void 0:ue.name)||"   ",avatar:(ue==null?void 0:ue.avatar)||"",lastMessage:se.lastMessage||"  ",timestamp:(se.lastMessage,Te(se.createdAt)),unreadCount:se.newMessageCount||0,isOnline:(ue==null?void 0:ue.isOnline)||!1}});p(ee)}catch(M){console.error("Error loading DM rooms:",M),y("    .")}finally{g(!1)}},ne=async()=>{if(s)try{const ee=(await T.getFollowing(s)).map(se=>({id:se.id,name:se.name||"   ",avatar:se.profileImage||"",isOnline:!1,mutualFriends:0}));x(ee)}catch(M){console.error("Error loading chat partners:",M)}};return e?o.jsxs("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[f&&o.jsx(B,{variant:"ghost",size:"sm",onClick:K,className:"p-1 hover:bg-white/10",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:f?" ":""})]}),o.jsx(B,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(Pn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Ke,{placeholder:" ...",value:c,onChange:M=>u(M.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:f?o.jsx(o.Fragment,{children:E.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:c?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:E.map(M=>o.jsxs("div",{onClick:()=>U(M),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(lt,{className:"h-14 w-14",children:[o.jsx(ct,{src:M.avatar}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),M.isOnline&&o.jsx(Lp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:M.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",M.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:M.isOnline?"":""})]},M.id))})}):o.jsxs(o.Fragment,{children:[b&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),v&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:v}),!b&&!v&&_.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:c?"  ":" "}),!b&&!v&&_.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:_.map(M=>o.jsxs("div",{onClick:()=>I(M),className:"group flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(lt,{className:"h-14 w-14",children:[o.jsx(ct,{src:M.avatar}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:M.name.charAt(0)})]}),M.isOnline&&o.jsx(Lp,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:M.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:M.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:M.lastMessage}),M.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:M.unreadCount>9?"9+":M.unreadCount})]})]}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:o.jsx(B,{variant:"ghost",size:"sm",onClick:ee=>L(ee,M.id),className:"p-2 hover:bg-red-500/20 text-white/60 hover:text-red-400",children:o.jsx(Ml,{className:"w-4 h-4"})})})]},M.id))})]})}),!f&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs(B,{onClick:D,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(Ht,{className:"w-5 h-5 mr-2"})," "]})})]}),o.jsx(Hh,{open:S,onOpenChange:k,children:o.jsxs(Kh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(Yh,{children:[o.jsx(Xh,{className:"text-white",children:" "}),o.jsx(qh,{className:"text-white/70",children:" ?     ."})]}),o.jsxs(Gh,{children:[o.jsx(Vw,{onClick:A,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:""}),o.jsx(Qh,{onClick:j,disabled:N,className:"bg-red-600 hover:bg-red-700 text-white",children:N?" ...":""})]})]})})]}):null}function zP(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Jh="ScrollArea",[Hw,$5]=Dn(Jh),[FP,pn]=Hw(Jh),Kw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,f]=d.useState(null),[h,m]=d.useState(null),[p,w]=d.useState(null),[x,b]=d.useState(null),[g,v]=d.useState(0),[y,S]=d.useState(0),[k,P]=d.useState(!1),[R,N]=d.useState(!1),C=Pe(t,_=>c(_)),T=Ga(s);return o.jsx(FP,{scope:n,type:r,dir:T,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:k,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:N,onCornerWidthChange:v,onCornerHeightChange:S,children:o.jsx(Se.div,{dir:T,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});Kw.displayName=Jh;var Yw="ScrollAreaViewport",Gw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=pn(Yw,n),l=d.useRef(null),c=Pe(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Se.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Gw.displayName=Yw;var er="ScrollAreaScrollbar",Xw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pn(er,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(UP,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(BP,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(qw,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(Zh,{...r,ref:t}):null});Xw.displayName=er;var UP=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pn(er,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(wr,{present:n||a,children:o.jsx(qw,{"data-state":a?"visible":"hidden",...r,ref:t})})}),BP=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pn(er,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Ec(()=>c("SCROLL_END"),100),[l,c]=zP("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,f=a?"scrollLeft":"scrollTop";if(u){let h=u[f];const m=()=>{const p=u[f];h!==p&&(c("SCROLL"),i()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(wr,{present:n||l!=="hidden",children:o.jsx(Zh,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),qw=d.forwardRef((e,t)=>{const n=pn(er,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=Ec(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:f)}},10);return xo(n.viewport,c),xo(n.content,c),o.jsx(wr,{present:r||a,children:o.jsx(Zh,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Zh=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=pn(er,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=tb(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,p){return GP(m,i.current,l,p)}return n==="horizontal"?o.jsx(WP,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=yg(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?o.jsx(VP,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=yg(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),WP=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=pn(er,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Pe(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Jw,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kc(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),rb(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Kl(i.paddingLeft),paddingEnd:Kl(i.paddingRight)}})}})}),VP=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=pn(er,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Pe(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Jw,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kc(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(a.viewport){const m=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),rb(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Kl(i.paddingTop),paddingEnd:Kl(i.paddingBottom)}})}})}),[HP,Qw]=Hw(er),Jw=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...m}=e,p=pn(er,n),[w,x]=d.useState(null),b=Pe(t,C=>x(C)),g=d.useRef(null),v=d.useRef(""),y=p.viewport,S=r.content-r.viewport,k=At(f),P=At(c),R=Ec(h,10);function N(C){if(g.current){const T=C.clientX-g.current.left,_=C.clientY-g.current.top;u({x:T,y:_})}}return d.useEffect(()=>{const C=T=>{const _=T.target;(w==null?void 0:w.contains(_))&&k(T,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[y,w,S,k]),d.useEffect(P,[r,P]),xo(w,R),xo(p.content,R),o.jsx(HP,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:At(a),onThumbPointerUp:At(i),onThumbPositionChange:P,onThumbPointerDown:At(l),children:o.jsx(Se.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:be(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(C))}),onPointerMove:be(e.onPointerMove,N),onPointerUp:be(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),Hl="ScrollAreaThumb",Zw=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Qw(Hl,e.__scopeScrollArea);return o.jsx(wr,{present:n||s.hasThumb,children:o.jsx(KP,{ref:t,...r})})}),KP=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=pn(Hl,n),i=Qw(Hl,n),{onThumbPositionChange:l}=i,c=Pe(t,h=>i.onThumbChange(h)),u=d.useRef(void 0),f=Ec(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(f(),!u.current){const p=XP(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,f,l]),o.jsx(Se.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,x=h.clientY-p.top;i.onThumbPointerDown({x:w,y:x})}),onPointerUp:be(e.onPointerUp,i.onThumbPointerUp)})});Zw.displayName=Hl;var em="ScrollAreaCorner",eb=d.forwardRef((e,t)=>{const n=pn(em,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(YP,{...e,ref:t}):null});eb.displayName=em;var YP=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=pn(em,n),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return xo(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),xo(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),u?o.jsx(Se.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kl(e){return e?parseInt(e,10):0}function tb(e,t){const n=e/t;return isNaN(n)?0:n}function kc(e){const t=tb(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function GP(e,t,n,r="ltr"){const s=kc(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return nb([c,u],h)(e)}function yg(e,t,n="ltr"){const r=kc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Aa(e,c);return nb([0,i],[0,l])(u)}function nb(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function rb(e,t){return e>0&&e<t}var XP=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ec(e,t){const n=At(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function xo(e,t){const n=At(t);gt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var qP=Kw,QP=Gw,JP=eb;function ZP({className:e,children:t,...n}){return o.jsxs(qP,{"data-slot":"scroll-area",className:Re("relative",e),...n,children:[o.jsx(QP,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(e_,{}),o.jsx(JP,{})]})}function e_({className:e,orientation:t="vertical",...n}){return o.jsx(Xw,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Re("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(Zw,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function t_(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=i=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),a==null||a.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const ea={LF:`
`,NULL:"\0"};class Dr{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=a=>a.replace(/^\s+|\s+$/g,"");for(const a of t.headers.reverse()){a.indexOf(":");const i=s(a[0]);let l=s(a[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=Dr.hdrValueUnEscape(l)),r[i]=l}return new Dr({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Dr.toUnit8Array(t,this._binaryBody).buffer:t+this._body+ea.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${Dr.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(ea.LF)+ea.LF+ea.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),a=new Uint8Array(r.length+n.length+s.length);return a.set(r),a.set(n,r.length),a.set(s,r.length+n.length),a}static marshall(t){return new Dr(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const wg=0,zi=10,Fi=13,n_=58;class r_{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const a=r[s];this._onByte(a)}}_collectFrame(t){if(t!==wg&&t!==Fi){if(t===zi){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Fi){if(t===zi){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Fi){if(t===zi){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===n_){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Fi){if(t===zi){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===wg){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Or;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Or||(Or={}));var Sn;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Sn||(Sn={}));var Yl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Yl||(Yl={}));var Oa;(function(e){e.Interval="interval",e.Worker="worker"})(Oa||(Oa={}));class s_{constructor(t,n=Oa.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Oa.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Mt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Mt.V1_0="1.0";Mt.V1_1="1.1";Mt.V1_2="1.2";Mt.default=new Mt([Mt.V1_2,Mt.V1_1,Mt.V1_0]);class o_{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Mt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const a=s.headers.subscription,i=this._subscriptions[a]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===Mt.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(f={})=>c.ack(u,a,f),l.nack=(f={})=>c.nack(u,a,f),i(l)},RECEIPT:s=>{const a=this._receiptWatchers[s.headers["receipt-id"]];a?(a(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new r_(n=>{const r=Dr.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==Mt.V1_1&&t.version!==Mt.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new s_(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Or.OPEN&&(this._webSocket.send(ea.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>s*2&&(this.debug(`did not receive server activity for the last ${a}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Or.CONNECTING||this._webSocket.readyState===Or.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&t_(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=new Dr({command:n,headers:r,body:s,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const f=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(f),this.debug(`chunk sent = ${f.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Or.CONNECTING||this._webSocket.readyState===Or.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:a,skipContentLengthHeader:i}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:a,skipContentLengthHeader:i})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(a){return s.unsubscribe(r.id,a)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===Mt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===Mt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class sb{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Sn.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=Mt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Yl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Oa.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Sn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Sn.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Sn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new o_(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Sn.DEACTIVATING&&this._changeState(Sn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Yl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var a;const n=t.force||!1,r=this.active;let s;if(this.state===Sn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Sn.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Or.CLOSED){const i=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState(Sn.INACTIVE),Promise.resolve();return n?(a=this._stompHandler)==null||a.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var ob={exports:{}},qd={};globalThis.crypto&&globalThis.crypto.getRandomValues?qd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:qd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var a_=qd,bg="abcdefghijklmnopqrstuvwxyz012345",To={string:function(e){for(var t=bg.length,n=a_.randomBytes(e),r=[],s=0;s<e;s++)r.push(bg.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=To,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,l),globalThis.attachEvent("on"+i,l))},detachEvent:function(i,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,l),globalThis.detachEvent("on"+i,l))},unloadAdd:function(i){if(s)return null;var l=t.string(8);return n[l]=i,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in n&&delete n[i]},triggerUnloadCallbacks:function(){for(var i in n)n[i](),delete n[i]}};var a=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)})(ob);var os=ob.exports,i_=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},tm={},l_=Object.prototype.hasOwnProperty,c_;function Sg(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function Ng(e){try{return encodeURIComponent(e)}catch{return null}}function u_(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=Sg(r[1]),a=Sg(r[2]);s===null||a===null||s in n||(n[s]=a)}return n}function d_(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(l_.call(e,s)){if(r=e[s],!r&&(r===null||r===c_||isNaN(r))&&(r=""),s=Ng(s),r=Ng(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}tm.stringify=d_;tm.parse=u_;var ab=i_,Tc=tm,f_=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ib=/[\n\r\t]/g,h_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,lb=/:\d+$/,m_=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,p_=/^[a-zA-Z]:/;function nm(e){return(e||"").toString().replace(f_,"")}var Qd=[["#","hash"],["?","query"],function(t,n){return Kn(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],jg={hash:1,query:1};function cb(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,a;if(e.protocol==="blob:")r=new qn(unescape(e.pathname),{});else if(s==="string"){r=new qn(e,{});for(a in jg)delete r[a]}else if(s==="object"){for(a in e)a in jg||(r[a]=e[a]);r.slashes===void 0&&(r.slashes=h_.test(e.href))}return r}function Kn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function ub(e,t){e=nm(e),e=e.replace(ib,""),t=t||{};var n=m_.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],a=!!n[3],i=0,l;return s?a?(l=n[2]+n[3]+n[4],i=n[2].length+n[3].length):(l=n[2]+n[4],i=n[2].length):a?(l=n[3]+n[4],i=n[3].length):l=n[4],r==="file:"?i>=2&&(l=l.slice(2)):Kn(r)?l=n[4]:r?s&&(l=l.slice(2)):i>=2&&Kn(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||Kn(r),slashesCount:i,rest:l}}function g_(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],a=!1,i=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),i++):i&&(r===0&&(a=!0),n.splice(r,1),i--);return a&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function qn(e,t,n){if(e=nm(e),e=e.replace(ib,""),!(this instanceof qn))return new qn(e,t,n);var r,s,a,i,l,c,u=Qd.slice(),f=typeof t,h=this,m=0;for(f!=="object"&&f!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Tc.parse),t=cb(t),s=ub(e||"",t),r=!s.protocol&&!s.slashes,h.slashes=s.slashes||r&&t.slashes,h.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||p_.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Kn(h.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(i=u[m],typeof i=="function"){e=i(e,h);continue}a=i[0],c=i[1],a!==a?h[c]=e:typeof a=="string"?(l=a==="@"?e.lastIndexOf(a):e.indexOf(a),~l&&(typeof i[2]=="number"?(h[c]=e.slice(0,l),e=e.slice(l+i[2])):(h[c]=e.slice(l),e=e.slice(0,l)))):(l=a.exec(e))&&(h[c]=l[1],e=e.slice(0,l.index)),h[c]=h[c]||r&&i[3]&&t[c]||"",i[4]&&(h[c]=h[c].toLowerCase())}n&&(h.query=n(h.query)),r&&t.slashes&&h.pathname.charAt(0)!=="/"&&(h.pathname!==""||t.pathname!=="")&&(h.pathname=g_(h.pathname,t.pathname)),h.pathname.charAt(0)!=="/"&&Kn(h.protocol)&&(h.pathname="/"+h.pathname),ab(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(l=h.auth.indexOf(":"),~l?(h.username=h.auth.slice(0,l),h.username=encodeURIComponent(decodeURIComponent(h.username)),h.password=h.auth.slice(l+1),h.password=encodeURIComponent(decodeURIComponent(h.password))):h.username=encodeURIComponent(decodeURIComponent(h.auth)),h.auth=h.password?h.username+":"+h.password:h.username),h.origin=h.protocol!=="file:"&&Kn(h.protocol)&&h.host?h.protocol+"//"+h.host:"null",h.href=h.toString()}function v_(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Tc.parse)(t)),r[e]=t;break;case"port":r[e]=t,ab(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,lb.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(r.username=t.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var i=0;i<Qd.length;i++){var l=Qd[i];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&Kn(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function x_(e){(!e||typeof e!="function")&&(e=Tc.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var a=s+(n.protocol&&n.slashes||Kn(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):n.protocol!=="file:"&&Kn(n.protocol)&&!r&&n.pathname!=="/"&&(a+="@"),(r[r.length-1]===":"||lb.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(a+=n.hash),a}qn.prototype={set:v_,toString:x_};qn.extractProtocol=ub;qn.location=cb;qn.trimLeft=nm;qn.qs=Tc;var db=qn,y_=db,gn={getOrigin:function(e){if(!e)return null;var t=new y_(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Jd={exports:{}};typeof Object.create=="function"?Jd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Jd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var Me=Jd.exports,Ot={};function Rc(){this._listeners={}}Rc.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};Rc.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};Rc.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var fb=Rc,w_=Me,Pc=fb;function Zr(){Pc.call(this)}w_(Zr,Pc);Zr.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Zr.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Zr.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var a=0;a<t.length;a++)t[a].apply(this,r)}};Zr.prototype.on=Zr.prototype.addListener=Pc.prototype.addEventListener;Zr.prototype.removeListener=Pc.prototype.removeEventListener;Ot.EventEmitter=Zr;var Zd={exports:{}},Cg=globalThis.WebSocket||globalThis.MozWebSocket;Cg?Zd.exports=function(t){return new Cg(t)}:Zd.exports=void 0;var b_=Zd.exports,hb=os,S_=gn,N_=Me,mb=Ot.EventEmitter,pb=b_,kg=function(){};function Sr(e,t,n){if(!Sr.enabled())throw new Error("Transport created when disabled");mb.call(this);var r=this,s=S_.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new pb(this.url,[],n),this.ws.onmessage=function(a){kg("message event",a.data),r.emit("message",a.data)},this.unloadRef=hb.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(a){kg("close event",a.code,a.reason),r.emit("close",a.code,a.reason),r._cleanup()},this.ws.onerror=function(a){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}N_(Sr,mb);Sr.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};Sr.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};Sr.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),hb.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Sr.enabled=function(){return!!pb};Sr.transportName="websocket";Sr.roundTrips=2;var j_=Sr,C_=Me,gb=Ot.EventEmitter,k_=function(){};function Ps(e,t){gb.call(this),this.sendBuffer=[],this.sender=t,this.url=e}C_(Ps,gb);Ps.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};Ps.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};Ps.prototype.sendSchedule=function(){k_("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};Ps.prototype._cleanup=function(){this.removeAllListeners()};Ps.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var E_=Ps,T_=Me,vb=Ot.EventEmitter,R_=function(){};function _c(e,t,n){vb.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}T_(_c,vb);_c.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){R_("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};_c.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var P_=_c,__=Me,A_=gn,rm=E_,I_=P_;function sm(e,t,n,r,s){var a=A_.addPath(e,t),i=this;rm.call(this,e,n),this.poll=new I_(r,a,s),this.poll.on("message",function(l){i.emit("message",l)}),this.poll.once("close",function(l,c){i.poll=null,i.emit("close",l,c),i.close()})}__(sm,rm);sm.prototype.close=function(){rm.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var xb=sm,D_=Me,O_=gn,yb=xb;function L_(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var a=O_.addPath(t,"/xhr_send"),i=new e("POST",a,n,s);return i.once("finish",function(l){if(i=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){i.close(),i=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function wb(e,t,n,r){yb.call(this,e,t,L_(r),n,r)}D_(wb,yb);var Ro=wb,M_=Me,bb=Ot.EventEmitter;function qa(e,t){bb.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var a=r===200?"network":"permanent";n.emit("close",null,a),n._cleanup()})}M_(qa,bb);qa.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};qa.prototype._cleanup=function(){this.removeAllListeners()};qa.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Ac=qa,Sb=Ot.EventEmitter,$_=Me,Nb=os,z_=gn,La=globalThis.XMLHttpRequest,ju=function(){};function Qn(e,t,n,r){var s=this;Sb.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}$_(Qn,Sb);Qn.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new La}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=z_.addQuery(t,"t="+ +new Date),this.unloadRef=Nb.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){ju("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Qn.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var a in r.headers)this.xhr.setRequestHeader(a,r.headers[a]);this.xhr.onreadystatechange=function(){if(s.xhr){var i=s.xhr,l,c;switch(ju("readyState",i.readyState),i.readyState){case 3:try{c=i.status,l=i.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=i.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),ju("finish",c,i.responseText),s.emit("finish",c,i.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};Qn.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Nb.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Qn.prototype.close=function(){this._cleanup(!0)};Qn.enabled=!!La;var Eg=["Active"].concat("Object").join("X");!Qn.enabled&&Eg in globalThis&&(La=function(){try{return new globalThis[Eg]("Microsoft.XMLHTTP")}catch{return null}},Qn.enabled=!!new La);var jb=!1;try{jb="withCredentials"in new La}catch{}Qn.supportsCORS=jb;var Cb=Qn,F_=Me,Gl=Cb;function om(e,t,n,r){Gl.call(this,e,t,n,r)}F_(om,Gl);om.enabled=Gl.enabled&&Gl.supportsCORS;var Ic=om,U_=Me,am=Cb;function im(e,t,n){am.call(this,e,t,n,{noCredentials:!0})}U_(im,am);im.enabled=am.enabled;var Qa=im,Ja={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},B_=Me,kb=Ro,W_=Ac,ef=Ic,V_=Qa,H_=Ja;function Po(e){if(!V_.enabled&&!ef.enabled)throw new Error("Transport created when disabled");kb.call(this,e,"/xhr_streaming",W_,ef)}B_(Po,kb);Po.enabled=function(e){return e.nullOrigin||H_.isOpera()?!1:ef.enabled};Po.transportName="xhr-streaming";Po.roundTrips=2;Po.needBody=!!globalThis.document;var K_=Po,Eb=Ot.EventEmitter,Y_=Me,Tb=os,G_=Ja,X_=gn,q_=function(){};function _s(e,t,n){var r=this;Eb.call(this),setTimeout(function(){r._start(e,t,n)},0)}Y_(_s,Eb);_s.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=X_.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){q_("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=Tb.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};_s.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};_s.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Tb.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};_s.prototype.close=function(){this._cleanup(!0)};_s.enabled=!!(globalThis.XDomainRequest&&G_.hasDomain());var lm=_s,Q_=Me,Rb=Ro,J_=Ac,tf=lm;function Za(e){if(!tf.enabled)throw new Error("Transport created when disabled");Rb.call(this,e,"/xhr_streaming",J_,tf)}Q_(Za,Rb);Za.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:tf.enabled&&e.sameScheme};Za.transportName="xdr-streaming";Za.roundTrips=2;var Pb=Za,_b=globalThis.EventSource,Z_=Me,Ab=Ot.EventEmitter,eA=_b,Tg=function(){};function ei(e){Ab.call(this);var t=this,n=this.es=new eA(e);n.onmessage=function(r){Tg("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){Tg("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}Z_(ei,Ab);ei.prototype.abort=function(){this._cleanup(),this._close("user")};ei.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};ei.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var tA=ei,nA=Me,Ib=Ro,rA=tA,sA=Ic,oA=_b;function _o(e){if(!_o.enabled())throw new Error("Transport created when disabled");Ib.call(this,e,"/eventsource",rA,sA)}nA(_o,Ib);_o.enabled=function(){return!!oA};_o.transportName="eventsource";_o.roundTrips=2;var Rg=_o,Cu,Pg;function Db(){return Pg||(Pg=1,Cu="1.6.1"),Cu}var Ob={exports:{}};(function(e){var t=os,n=Ja;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var a=globalThis.document.createElement("iframe"),i,l,c=function(){clearTimeout(i);try{a.onload=null}catch{}a.onerror=null},u=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},f=function(m){a&&(u(),s(m))},h=function(m,p){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(m,p)}catch{}},0)};return a.src=r,a.style.display="none",a.style.position="absolute",a.onerror=function(){f("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){f("onload timeout")},2e3)},globalThis.document.body.appendChild(a),i=setTimeout(function(){f("timeout")},15e3),l=t.unloadAdd(u),{post:h,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var a=["Active"].concat("Object").join("X"),i=new globalThis[a]("htmlfile"),l,c,u,f=function(){clearTimeout(l),u.onerror=null},h=function(){i&&(f(),t.unloadDel(c),u.parentNode.removeChild(u),u=i=null,CollectGarbage())},m=function(x){i&&(h(),s(x))},p=function(x,b){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,b)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var w=i.createElement("div");return i.body.appendChild(w),u=i.createElement("iframe"),w.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(h),{post:p,cleanup:h,loaded:f}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(Ob);var ti=Ob.exports,aA=Me,Lb=Ot.EventEmitter,iA=Db(),nf=gn,Mb=ti,$b=os,lA=To,Go=function(){};function tr(e,t,n){if(!tr.enabled())throw new Error("Transport created when disabled");Lb.call(this);var r=this;this.origin=nf.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=lA.string(8);var s=nf.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Mb.createIframe(s,function(a){r.emit("close",1006,"Unable to load an iframe ("+a+")"),r.close()}),this.onmessageCallback=this._message.bind(this),$b.attachEvent("message",this.onmessageCallback)}aA(tr,Lb);tr.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){$b.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};tr.prototype._message=function(e){if(Go("message",e.data),!nf.isOriginEqual(e.origin,this.origin)){Go("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Go("bad json",e.data);return}if(t.windowId!==this.windowId){Go("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([iA,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Go("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};tr.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};tr.prototype.send=function(e){this.postMessage("m",e)};tr.enabled=function(){return Mb.iframeEnabled};tr.transportName="iframe";tr.roundTrips=2;var zb=tr,cm={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},cA=Me,Ui=zb,uA=cm,ku=function(e){function t(n,r){Ui.call(this,e.transportName,n,r)}return cA(t,Ui),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=uA.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&Ui.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Ui.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},dA=Me,ls=ti,fA=gn,Fb=Ot.EventEmitter,hA=To,mA=function(){};function In(e){Fb.call(this);var t=this;ls.polluteGlobalNamespace(),this.id="a"+hA.string(6),e=fA.addQuery(e,"c="+decodeURIComponent(ls.WPrefix+"."+this.id)),mA("using htmlfile",In.htmlfileEnabled);var n=In.htmlfileEnabled?ls.createHtmlfile:ls.createIframe;globalThis[ls.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}dA(In,Fb);In.prototype.abort=function(){this._cleanup(),this._close("user")};In.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[ls.WPrefix][this.id]};In.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};In.htmlfileEnabled=!1;var _g=["Active"].concat("Object").join("X");if(_g in globalThis)try{In.htmlfileEnabled=!!new globalThis[_g]("htmlfile")}catch{}In.enabled=In.htmlfileEnabled||ls.iframeEnabled;var pA=In,gA=Me,rf=pA,vA=Qa,Ub=Ro;function ni(e){if(!rf.enabled)throw new Error("Transport created when disabled");Ub.call(this,e,"/htmlfile",rf,vA)}gA(ni,Ub);ni.enabled=function(e){return rf.enabled&&e.sameOrigin};ni.transportName="htmlfile";ni.roundTrips=2;var Ag=ni,xA=Me,Bb=Ro,yA=Ac,sf=Ic,Wb=Qa;function ri(e){if(!Wb.enabled&&!sf.enabled)throw new Error("Transport created when disabled");Bb.call(this,e,"/xhr",yA,sf)}xA(ri,Bb);ri.enabled=function(e){return e.nullOrigin?!1:Wb.enabled&&e.sameOrigin?!0:sf.enabled};ri.transportName="xhr-polling";ri.roundTrips=2;var Ig=ri,wA=Me,Vb=Ro,bA=Pb,SA=Ac,Dg=lm;function si(e){if(!Dg.enabled)throw new Error("Transport created when disabled");Vb.call(this,e,"/xhr",SA,Dg)}wA(si,Vb);si.enabled=bA.enabled;si.transportName="xdr-polling";si.roundTrips=2;var NA=si,fa=ti,Hb=To,jA=Ja,CA=gn,kA=Me,Kb=Ot.EventEmitter,EA=function(){};function mn(e){var t=this;Kb.call(this),fa.polluteGlobalNamespace(),this.id="a"+Hb.string(6);var n=CA.addQuery(e,"c="+encodeURIComponent(fa.WPrefix+"."+this.id));globalThis[fa.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},mn.timeout)}kA(mn,Kb);mn.prototype.abort=function(){if(globalThis[fa.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};mn.timeout=35e3;mn.scriptErrorTimeout=1e3;mn.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};mn.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};mn.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[fa.WPrefix][this.id]};mn.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},mn.scriptErrorTimeout))};mn.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+Hb.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(EA("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(jA.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var TA=mn,RA=To,Og=gn,PA=function(){},qt,ha;function _A(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function AA(){qt=globalThis.document.createElement("form"),qt.style.display="none",qt.style.position="absolute",qt.method="POST",qt.enctype="application/x-www-form-urlencoded",qt.acceptCharset="UTF-8",ha=globalThis.document.createElement("textarea"),ha.name="d",qt.appendChild(ha),globalThis.document.body.appendChild(qt)}var IA=function(e,t,n){qt||AA();var r="a"+RA.string(8);qt.target=r,qt.action=Og.addQuery(Og.addPath(e,"/jsonp_send"),"i="+r);var s=_A(r);s.id=r,s.style.display="none",qt.appendChild(s);try{ha.value=t}catch{}qt.submit();var a=function(i){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),ha.value="",n(i))};return s.onerror=function(){a()},s.onload=function(){a()},s.onreadystatechange=function(i){PA("onreadystatechange",r,s.readyState),s.readyState==="complete"&&a()},function(){a(new Error("Aborted"))}},DA=Me,Yb=xb,OA=TA,LA=IA;function As(e){if(!As.enabled())throw new Error("Transport created when disabled");Yb.call(this,e,"/jsonp",LA,OA)}DA(As,Yb);As.enabled=function(){return!!globalThis.document};As.transportName="jsonp-polling";As.roundTrips=1;As.needBody=!0;var MA=As,$A=[j_,K_,Pb,Rg,ku(Rg),Ag,ku(Ag),Ig,NA,ku(Ig),MA],Ma=Array.prototype,um=Object.prototype,zA=Function.prototype,$a=String.prototype,Eu=Ma.slice,dm=um.toString,Gb=function(e){return um.toString.call(e)==="[object Function]"},FA=function(t){return dm.call(t)==="[object Array]"},Xb=function(t){return dm.call(t)==="[object String]"},UA=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),of;UA?of=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:of=function(e,t,n,r){!r&&t in e||(e[t]=n)};var oi=function(e,t,n){for(var r in t)um.hasOwnProperty.call(t,r)&&of(e,r,t[r],n)},qb=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function BA(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function WA(e){return e>>>0}function Tu(){}oi(zA,{bind:function(t){var n=this;if(!Gb(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Eu.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(Eu.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Eu.call(arguments)))},a=Math.max(0,n.length-r.length),i=[],l=0;l<a;l++)i.push("$"+l);var c=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(Tu.prototype=n.prototype,c.prototype=new Tu,Tu.prototype=null),c}});oi(Array,{isArray:FA});var Lg=Object("a"),Qb=Lg[0]!=="a"||!(0 in Lg),VA=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,a,i){typeof i!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};oi(Ma,{forEach:function(t){var n=qb(this),r=Qb&&Xb(this)?this.split(""):n,s=arguments[1],a=-1,i=r.length>>>0;if(!Gb(t))throw new TypeError;for(;++a<i;)a in r&&t.call(s,r[a],a,n)}},!VA(Ma.forEach));var HA=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;oi(Ma,{indexOf:function(t){var n=Qb&&Xb(this)?this.split(""):qb(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=BA(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},HA);var Mg=$a.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;$a.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(dm.call(t)!=="[object RegExp]")return Mg.call(this,t,n);var s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),i=0,l,c,u,f;for(t=new RegExp(t.source,a+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",a)),n=n===void 0?-1>>>0:WA(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>i&&(s.push(r.slice(i,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(c[h]=void 0)}),c.length>1&&c.index<r.length&&Ma.push.apply(s,c.slice(1)),f=c[0].length,i=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return i===r.length?(f||!t.test(""))&&s.push(""):s.push(r.slice(i)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&($a.split=function(t,n){return t===void 0&&n===0?[]:Mg.call(this,t,n)});var KA=$a.substr,YA="".substr&&"0b".substr(-1)!=="b";oi($a,{substr:function(t,n){return KA.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},YA);var Bi=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Ru,GA=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},XA={quote:function(e){var t=JSON.stringify(e);return Bi.lastIndex=0,Bi.test(t)?(Ru||(Ru=GA(Bi)),t.replace(Bi,function(n){return Ru[n]})):t}},Pu=function(){},qA=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Pu("not in whitelist",s.transportName);return}s.enabled(n)?(Pu("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):Pu("disabled",s.transportName)}}),r}}},af={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}af[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:af.log});var QA=af;function Is(e){this.type=e}Is.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};Is.prototype.stopPropagation=function(){};Is.prototype.preventDefault=function(){};Is.CAPTURING_PHASE=1;Is.AT_TARGET=2;Is.BUBBLING_PHASE=3;var fm=Is,Jb=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},JA=Me,Zb=fm;function e1(){Zb.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}JA(e1,Zb);var ZA=e1,e3=Me,t1=fm;function n1(e){t1.call(this),this.initEvent("message",!1,!1),this.data=e}e3(n1,t1);var t3=n1,r1=Ot.EventEmitter,n3=Me;function ai(){var e=this;r1.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},ai.timeout)}n3(ai,r1);ai.prototype.close=function(){clearTimeout(this.to)};ai.timeout=2e3;var r3=ai,s1=Ot.EventEmitter,s3=Me,o3=cm;function hm(e,t){s1.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,a){var i,l;if(s===200){if(l=+new Date-r,a)try{i=JSON.parse(a)}catch{}o3.isObject(i)||(i={})}n.emit("finish",i,l),n.removeAllListeners()})}s3(hm,s1);hm.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var o1=hm,_u,$g;function a1(){if($g)return _u;$g=1;var e=Me,t=Ot.EventEmitter,n=Qa,r=o1;function s(a){var i=this;t.call(this),this.ir=new r(a,n),this.ir.once("finish",function(l,c){i.ir=null,i.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},_u=s,_u}var i1=Ot.EventEmitter,a3=Me,i3=os,l1=zb,l3=a1();function Dc(e,t){var n=this;i1.call(this);var r=function(){var s=n.ifr=new l1(l3.transportName,t,e);s.once("message",function(a){if(a){var i;try{i=JSON.parse(a)}catch{n.emit("finish"),n.close();return}var l=i[0],c=i[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():i3.attachEvent("load",r)}a3(Dc,i1);Dc.enabled=function(){return l1.enabled()};Dc.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var c3=Dc,c1=Ot.EventEmitter,u3=Me,d3=gn,zg=lm,Fg=Ic,f3=Qa,h3=r3,Ug=c3,Wi=o1;function lr(e,t){var n=this;c1.call(this),setTimeout(function(){n.doXhr(e,t)},0)}u3(lr,c1);lr._getReceiver=function(e,t,n){return n.sameOrigin?new Wi(t,f3):Fg.enabled?new Wi(t,Fg):zg.enabled&&n.sameScheme?new Wi(t,zg):Ug.enabled()?new Ug(e,t):new Wi(t,h3)};lr.prototype.doXhr=function(e,t){var n=this,r=d3.addPath(e,"/info");this.xo=lr._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},lr.timeout),this.xo.once("finish",function(s,a){n._cleanup(!0),n.emit("finish",s,a)})};lr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};lr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};lr.timeout=8e3;var m3=lr,Au,Bg;function p3(){if(Bg)return Au;Bg=1;var e=ti;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Au=t,Au}var Iu,Wg;function g3(){if(Wg)return Iu;Wg=1;var e=gn,t=os,n=p3(),r=a1(),s=ti,a=Jb,i=function(){};return Iu=function(l,c){var u={};c.forEach(function(h){h.facadeTransport&&(u[h.facadeTransport.transportName]=h.facadeTransport)}),u[r.transportName]=r;var f;l.bootstrap_iframe=function(){var h;s.currentWindowId=a.hash.slice(1);var m=function(p){if(p.source===parent&&(typeof f>"u"&&(f=p.origin),p.origin===f)){var w;try{w=JSON.parse(p.data)}catch{i("bad json",p.data);return}if(w.windowId===s.currentWindowId)switch(w.type){case"s":var x;try{x=JSON.parse(w.data)}catch{i("bad json",w.data);break}var b=x[0],g=x[1],v=x[2],y=x[3];if(b!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+b+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(v,a.href)||!e.isOriginEqual(y,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+v+", "+y+")");h=new n(new u[g](v,y));break;case"m":h._send(w.data);break;case"c":h&&h._close(),h=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},Iu}var v3=db,x3=Me,Vg=To,y3=XA,ta=gn,w3=os,b3=qA,S3=cm,N3=Ja,j3=QA,mm=fm,u1=fb,Vi=Jb,C3=ZA,Hg=t3,k3=m3,Yn=function(){},d1;function Le(e,t,n){if(!(this instanceof Le))return new Le(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");u1.call(this),this.readyState=Le.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&j3.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Vg.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Vg.numberString(1e3);var s=new v3(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a=s.protocol==="https:";if(Vi.protocol==="https:"&&!a&&!ta.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var i=t.sort();i.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<i.length-1&&c===i[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=ta.getOrigin(Vi.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Yn("using url",this.url),this._urlInfo={nullOrigin:!N3.hasDomain(),sameOrigin:ta.isOriginEqual(this.url,Vi.href),sameScheme:ta.isSchemeEqual(this.url,Vi.href)},this._ir=new k3(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}x3(Le,u1);function f1(e){return e===1e3||e>=3e3&&e<=4999}Le.prototype.close=function(e,t){if(e&&!f1(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Le.CLOSING||this.readyState===Le.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};Le.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===Le.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Le.OPEN&&this._transport.send(y3.quote(e))};Le.version=Db();Le.CONNECTING=0;Le.OPEN=1;Le.CLOSING=2;Le.CLOSED=3;Le.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=S3.extend(e,this._urlInfo);var n=d1.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,Yn(this._transports.length+" enabled transports"),this._connect()};Le.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Yn("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),w3.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=ta.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};Le.prototype._transportTimeout=function(){this.readyState===Le.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Le.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new mm("heartbeat")),Yn("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(a){Yn("message",t.transport),t.dispatchEvent(new Hg(a))});break;case"m":Yn("message",this.transport),this.dispatchEvent(new Hg(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};Le.prototype._transportClose=function(e,t){if(Yn("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!f1(e)&&e!==2e3&&this.readyState===Le.CONNECTING){this._connect();return}this._close(e,t)};Le.prototype._open=function(){Yn("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Le.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Le.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new mm("open")),Yn("connected",this.transport)):this._close(1006,"Server lost session")};Le.prototype._close=function(e,t,n){Yn("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Le.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Le.CLOSING,setTimeout((function(){this.readyState=Le.CLOSED,r&&this.dispatchEvent(new mm("error"));var s=new C3;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Le.prototype.countRTO=function(e){return e>100?4*e:300+e};var E3=function(e){return d1=b3(e),g3()(Le,e),Le},T3=$A,R3=E3(T3);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const h1=ff(R3),P3=({roomId:e,userId:t,onMessageReceived:n,onError:r})=>{const[s,a]=d.useState(!1),[i,l]=d.useState("disconnected"),c=d.useRef(null),u=d.useRef(null),f=d.useRef(null),[h,m]=d.useState(0),p=3,[w,x]=d.useState(0),b=R=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R),g=()=>localStorage.getItem("accessToken"),v=d.useCallback(()=>{var C;if(console.log(" WebSocket connect()  !"),console.log("    :",{hasClient:!!c.current,clientConnected:(C=c.current)==null?void 0:C.connected,connectionStatus:i,roomId:e,userId:t,hasToken:!!g(),timestamp:new Date().toISOString()}),c.current&&c.current.connected){console.log("   -   ");return}if(i==="connecting"){console.log("    -   ");return}if(c.current&&!c.current.connected&&i!=="disconnected"&&(console.log("    "),c.current.deactivate(),c.current=null),!e||!t){console.log("   :",{roomId:e,userId:t}),l("error");return}const R=g();if(console.log("WebSocket   - :",R?"":""),!R){console.error("   .   ."),r==null||r(" .  ."),l("error");return}if(R.length<10){console.error("    ."),r==null||r("   .  ."),l("error");return}l("connecting"),x(T=>T+1),console.log(` WebSocket   #${w+1}`,{roomId:e,userId:t,currentStatus:i,reconnectAttempt:h+1,url:"http://localhost:8080/ws"}),console.log(" SockJS   ..."),console.log("     :"),console.log("   - WebSocket   (101 Switching Protocols)"),console.log("   - SockJS   ");const N=new sb({webSocketFactory:()=>(console.log(" WebSocket Factory  - SockJS  !"),new h1("http://localhost:8080/ws")),connectHeaders:R?{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" DM WebSocket   ... :",R?{Authorization:`Bearer ${R.substring(0,10)}...`}:{token:"none"})},debug:T=>{console.log("STOMP Debug:",T)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" DM WebSocket  !",{roomId:e,userId:t}),a(!0),l("connected"),m(0);const T=g();if(!T){console.error("    .     ."),r==null||r("    .");return}console.log(" DM   :",`/topic/dm/${e}`),N.subscribe(`/topic/dm/${e}`,_=>{try{const E=JSON.parse(_.body);console.log(" DM  :",E),n(E)}catch(E){console.error(" DM   :",E)}},{Authorization:`Bearer ${T}`}),console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:T.substring(0,10)+"..."}),N.publish({destination:`/app/dmRooms/${e}/enter`,headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({})}),console.log(" DM WebSocket  ")},onDisconnect:()=>{console.log(" DM WebSocket  ",{roomId:e,userId:t}),a(!1),l("disconnected")},onStompError:T=>{console.error(" STOMP :",{message:T.headers.message,body:T.body,headers:T.headers});const _=T.headers.message||"";if(_.includes("Unauthorized")||_.includes("Authentication")||_.includes("Token")||_.includes("401")||_.includes("Forbidden")||_.includes("403")){console.error("   -   "),r==null||r(" .  ."),l("error");return}else _.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),r==null||r("   .    .")):r==null||r(` : ${_}`);l("error"),!_.includes("Unauthorized")&&!_.includes("Authentication")&&!_.includes("Token")&&!_.includes("401")&&!_.includes("Forbidden")&&!_.includes("403")?h<p&&(m(E=>E+1),u.current=setTimeout(()=>{v()},5e3*h)):console.log("      .")},onWebSocketError:T=>{console.error(" WebSocket :",T),l("error"),r==null||r("WebSocket   ."),c.current&&(c.current.deactivate(),c.current=null)}});c.current=N,N.activate()},[e,t,n,r,h,i]),y=d.useCallback(()=>{var N;const R=g();if(!R){console.error("   :   ."),r==null||r(" .  .");return}if(!((N=c.current)!=null&&N.connected)){console.error("   : WebSocket  .");return}if(!e){console.error("   : roomId .");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:R.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/enter`,headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({})})},[e,r]),S=d.useCallback(()=>{var N;const R=g();if(!R){console.error("   :   .");return}if(!((N=c.current)!=null&&N.connected)){console.error("   : WebSocket  .");return}if(!e){console.error("   : roomId .");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:R.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/exit`,headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({})})},[e]),k=d.useCallback(()=>{var R;if((R=c.current)!=null&&R.connected&&e){const N=g();N&&b(e)&&(console.log(" DM   :",{roomId:e,hasToken:!0,tokenPrefix:N.substring(0,10)+"..."}),c.current.publish({destination:`/app/dmRooms/${e}/exit`,headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify({})}))}c.current&&(c.current.deactivate(),c.current=null),u.current&&(clearTimeout(u.current),u.current=null),a(!1),l("disconnected"),m(0)},[e]),P=d.useCallback(R=>{var T;const N=g();if(!N){console.error("   :   ."),r==null||r(" .  .");return}if(!((T=c.current)!=null&&T.connected)){r==null||r("WebSocket  .");return}if(!e||!t){console.error("Cannot send message: missing roomId or userId");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}if(!b(t)){console.error("   :   senderId UUID :",{userId:t});return}const C={senderId:t,roomId:e,content:R};console.log(" DM   (with Auth):",{dmRequest:C,hasToken:!0,tokenPrefix:N.substring(0,10)+"..."}),c.current.publish({destination:`/app/dm/${e}`,headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify(C)})},[e,t,r]);return d.useEffect(()=>{console.log(" useDmWebSocket useEffect :",{roomId:e,userId:t,hasRoomId:!!e,hasUserId:!!t}),e&&t?(console.log("   -   "),v()):(console.log("   -   :",{roomId:e,userId:t}),k())},[e,t]),d.useEffect(()=>{const R=g();f.current!==R&&(console.log("    -  :",{oldToken:f.current?"existed":"none",newToken:R?"exists":"none",roomId:e,userId:t}),f.current=R,c.current&&e&&t&&(console.log("      "),k(),R?setTimeout(()=>{console.log("    "),v()},1e3):console.log("    ")))},[]),d.useEffect(()=>()=>{k()},[k]),{isConnected:s,connectionStatus:i,connect:v,disconnect:k,enterRoom:y,exitRoom:S,sendMessage:P,reconnectAttempts:h,connectionAttempts:w}};function _3({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:a,refreshTrigger:i}){const[l,c]=d.useState([]),[u,f]=d.useState(""),[h]=d.useState(!1),[m,p]=d.useState(!1),[w,x]=d.useState(null),[b,g]=d.useState(null),v=d.useRef(null),y=d.useRef(null),{isConnected:S,sendMessage:k}=P3({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:_=>{console.log(" ChatRoom  :",_);const E={id:_.id,senderId:_.senderId,senderName:_.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:_.content,timestamp:P(_.createdAt),type:"text",isOwnMessage:_.senderId===s};c(I=>I.find(K=>K.id===_.id)?(console.log("   :",_.id),I):[...I,E])},onError:_=>{console.error(" DM WebSocket :",_),_.includes("")||_.includes("")||_.includes("Authentication")?(g(_),x(null)):(x(_),g(null))}});d.useEffect(()=>{var _;(_=v.current)==null||_.scrollIntoView({behavior:"smooth"})},[l]),d.useEffect(()=>{e&&y.current&&y.current.focus()},[e]),d.useEffect(()=>{r!=null&&r.roomId&&R()},[r==null?void 0:r.roomId]),d.useEffect(()=>{e&&r&&i&&i>0&&(console.log("     :",i),R())},[i,e,r]);const P=_=>new Date(_).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),R=async()=>{if(r!=null&&r.roomId)try{p(!0),x(null);const E=(await a(r.roomId,{size:50})).data.sort((I,D)=>new Date(I.createdAt).getTime()-new Date(D.createdAt).getTime()).map(I=>({id:I.id,senderId:I.senderId,senderName:I.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:I.content,timestamp:P(I.createdAt),type:"text",isOwnMessage:I.senderId===s}));c(E)}catch(_){console.error("Error loading messages:",_),x("   .")}finally{p(!1)}},N=()=>{if(!u.trim()||!r||!S){console.warn("   :",{hasMessage:!!u.trim(),hasUser:!!r,isConnected:S,roomId:r==null?void 0:r.roomId,userId:s});return}console.log(" ChatRoom  :",{content:u.trim(),roomId:r.roomId,userId:s,isConnected:S}),k(u.trim()),f("")},C=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),N())},T=_=>_;return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(B,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(lt,{className:"h-8 w-8",children:[o.jsx(ct,{src:r.avatar}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsxs("p",{className:"text-xs text-white/60",children:[r.isOnline?"":"","  ",o.jsx("span",{className:`${S?"text-green-400":"text-red-400"}`,children:S?"":" "})]})]})]})]}),o.jsx(B,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(Pn,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(ZP,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[m&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),w&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:w}),b&&o.jsx("div",{className:"flex items-center justify-center h-32 text-orange-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-3",children:b}),o.jsx(B,{onClick:()=>{g(null)},size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:" "})]})}),!m&&!w&&!b&&l.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),l.map((_,E)=>{const I=E===0||l[E-1].timestamp!==_.timestamp||l[E-1].isOwnMessage!==_.isOwnMessage;return o.jsx("div",{className:`flex ${_.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${_.isOwnMessage?"order-2":"order-1"}`,children:[!_.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs(lt,{className:"h-6 w-6",children:[o.jsx(ct,{src:r.avatar}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:_.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${_.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:_.content})}),I&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${_.isOwnMessage?"text-right":"text-left"}`,children:T(_.timestamp)})]})},_.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(lt,{className:"h-6 w-6",children:[o.jsx(ct,{src:r.avatar}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:v})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(mh,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ke,{ref:y,value:u,onChange:_=>f(_.target.value),onKeyPress:C,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx(B,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(PC,{className:"w-4 h-4"})})]}),o.jsx(B,{onClick:N,disabled:!u.trim()||!S,size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(ph,{className:"w-4 h-4"})})]})})]})})}function A3({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:a,onError:i}){const[l,c]=d.useState(!1),[u,f]=d.useState("disconnected"),h=d.useRef(null),m=d.useRef(),[p,w]=d.useState(0),x=3,b=()=>localStorage.getItem("accessToken"),g=d.useCallback(()=>{if(h.current&&(h.current.connected||u==="connecting"))return;const k=b();console.log("WebSocket   - :",k?"":""),k||console.warn("      ()"),f("connecting"),console.log("WebSocket  :",{url:"http://localhost:8080/ws",token:k?`${k.substring(0,10)}...`:"null"});const P=new sb({webSocketFactory:()=>new h1("http://localhost:8080/ws"),connectHeaders:k?{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",k?{Authorization:`Bearer ${k.substring(0,10)}...`}:{token:"none"})},debug:R=>{console.log("STOMP Debug:",R)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),f("connected"),w(0),P.subscribe(`/topic/rooms/${e}/chat`,R=>{try{const N=JSON.parse(R.body);n==null||n(N)}catch(N){console.error("   :",N)}}),P.subscribe(`/topic/rooms/${e}/participants`,R=>{try{const N=JSON.parse(R.body);r==null||r(N),f("connected"),c(!0)}catch(N){console.error("   :",N)}}),P.subscribe(`/topic/rooms/${e}/video`,R=>{try{const N=JSON.parse(R.body);s==null||s(N)}catch(N){console.error("    :",N)}}),P.subscribe("/user/queue/sync",R=>{try{const N=JSON.parse(R.body);(!("participantsInfoDto"in N)||!N.participantsInfoDto)&&(N.participantsInfoDto={participantDtoList:[],participantCount:0}),a==null||a(N),f("connected"),c(!0)}catch(N){console.error("    :",N)}}),P.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),f("disconnected")},onStompError:R=>{var N;console.error(" STOMP :",{message:R.headers.message,body:R.body,headers:R.headers}),(N=R.headers.message)!=null&&N.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),i==null||i("    .  .")):i==null||i(` : ${R.headers.message}`),f("error"),p<x&&(w(C=>C+1),m.current=setTimeout(()=>{g()},5e3*p))},onWebSocketError:R=>{console.error(" WebSocket :",R),f("error"),i==null||i("WebSocket   ."),h.current&&(h.current.deactivate(),h.current=null)}});h.current=P,P.activate()},[e,t,n,r,s,a,i]),v=d.useCallback(()=>{h.current&&(h.current.connected&&h.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),h.current.deactivate(),h.current=null),m.current&&clearTimeout(m.current),c(!1),f("disconnected"),w(0)},[e,t]),y=d.useCallback(k=>{var R;if(!((R=h.current)!=null&&R.connected)){i==null||i("WebSocket  .");return}const P={chatRoomId:e,content:k};h.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(P)})},[e,i]),S=d.useCallback(k=>{var P;if(!((P=h.current)!=null&&P.connected)){console.error(" Cannot send video control: WebSocket not connected"),i==null||i("WebSocket  .");return}console.log(" Sending video control to backend:",{action:k.videoControlAction,currentTime:k.currentTime,destination:`/app/rooms/${e}/video-control`}),h.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(k)})},[e,i]);return d.useEffect(()=>{const k=R=>{if(l)return R.preventDefault(),R.returnValue=" ?"," ?"},P=()=>{v()};return window.addEventListener("beforeunload",k),window.addEventListener("unload",P),()=>{window.removeEventListener("beforeunload",k),window.removeEventListener("unload",P)}},[l,v]),d.useEffect(()=>()=>{v()},[v]),{isConnected:l,connectionStatus:u,connect:g,disconnect:v,sendChatMessage:y,sendVideoControl:S,reconnectAttempts:p}}function I3(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(a=>({...a,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const a=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(a))},100);setTimeout(()=>{clearInterval(a),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API  "})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API   ")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API   "})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var m1=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(m1||{}),ll=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(ll||{});function D3({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s,onTimeUpdate:a}){const[i,l]=d.useState(null),[c,u]=d.useState(!1),f=d.useRef(null),h=d.useRef(!1),m=d.useRef(null),p=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:N=>{console.log("YouTube Player Ready - verifying functionality"),f.current=N.target,l(N.target);const C=()=>{try{const T=typeof N.target.getPlayerState=="function",_=typeof N.target.getCurrentTime=="function",E=N.target.getPlayerState();T&&_&&E!==void 0?(console.log(" Player functionality verified, setting ready"),u(!0)):(console.log(" Player not fully ready, retrying in 200ms..."),setTimeout(C,200))}catch(T){console.log(" Player verification failed, retrying in 200ms...",T),setTimeout(C,200)}};C()},onStateChange:N=>{const C=N.data,T=N.target.getCurrentTime(),_=Math.round(T*100)/100;let E=null,I=!1;switch(m.current&&(clearInterval(m.current),m.current=null),C){case window.YT.PlayerState.PLAYING:E=ll.PLAY,I=!0,m.current=setInterval(()=>{N.target.getPlayerState()===window.YT.PlayerState.PLAYING?a==null||a(N.target.getCurrentTime()):(clearInterval(m.current),m.current=null)},500);break;case window.YT.PlayerState.PAUSED:E=ll.PAUSE,I=!1;break;case window.YT.PlayerState.ENDED:E=ll.PAUSE,I=!1;break;default:return}console.log(" YouTube Player State Change:",{state:C,rawTime:T,currentTime:_,isPlaying:I,isHost:n,isHostControl:h.current}),console.log(" Updating local UI state only"),r==null||r(I,_,E)},onError:N=>{console.error("YouTube Player Error:",N.data);let C="YouTube   .";switch(N.data){case 2:C="  ID.";break;case 5:C="HTML5   .";break;case 100:C="   .";break;case 101:case 150:C="   .";break}s==null||s(C)}}})}catch(N){console.error("YouTube Player  :",N),s==null||s("YouTube    .")}},[e,t,n,r,s,a]);d.useEffect(()=>{e&&(f.current&&f.current.getVideoUrl()!==e&&(console.log(" videoId    "),f.current.destroy(),f.current=null,l(null),u(!1),m.current&&(clearInterval(m.current),m.current=null)),!f.current&&window.YT&&window.YT.Player&&p())},[e,p]);const w=d.useCallback(()=>{var N,C,T,_;if(console.log(" YouTube play() called:",{playerExists:!!f.current,isReady:c,playerState:(C=(N=f.current)==null?void 0:N.getPlayerState)==null?void 0:C.call(N),currentTime:(_=(T=f.current)==null?void 0:T.getCurrentTime)==null?void 0:_.call(T)}),f.current&&c){try{h.current=!0;const E=f.current.playVideo();console.log(" playVideo() result:",E),setTimeout(()=>{var D,K;const I=(K=(D=f.current)==null?void 0:D.getPlayerState)==null?void 0:K.call(D);console.log(" Player state after play():",I)},500)}catch(E){console.error(" playVideo() error:",E)}setTimeout(()=>{h.current=!1},100)}else console.error(" Cannot play: player not ready:",{playerExists:!!f.current,isReady:c})},[c]),x=d.useCallback(()=>{var N,C,T,_;if(console.log(" YouTube pause() called:",{playerExists:!!f.current,isReady:c,playerState:(C=(N=f.current)==null?void 0:N.getPlayerState)==null?void 0:C.call(N),currentTime:(_=(T=f.current)==null?void 0:T.getCurrentTime)==null?void 0:_.call(T)}),f.current&&c){try{h.current=!0;const E=f.current.pauseVideo();console.log(" pauseVideo() result:",E),setTimeout(()=>{var D,K;const I=(K=(D=f.current)==null?void 0:D.getPlayerState)==null?void 0:K.call(D);console.log(" Player state after pause():",I)},500)}catch(E){console.error(" pauseVideo() error:",E)}setTimeout(()=>{h.current=!1},100)}else console.error(" Cannot pause: player not ready:",{playerExists:!!f.current,isReady:c})},[c]),b=d.useCallback(N=>{f.current&&c&&(h.current=!0,f.current.seekTo(N,!0),setTimeout(()=>{h.current=!1},100))},[c]),g=d.useCallback(()=>{var C,T,_,E;let N=0;try{if(f.current&&c){const I=f.current.getCurrentTime();N=Math.round(I*100)/100,console.log(" getCurrentTime called:",{rawTime:I,preciseTime:N,isReady:c,playerExists:!!f.current,playerState:(T=(C=f.current)==null?void 0:C.getPlayerState)==null?void 0:T.call(C)}),(N>1e4||N<0||isNaN(N))&&console.warn(" ABNORMAL TIME FROM YOUTUBE PLAYER:",{rawTime:I,preciseTime:N,playerState:(E=(_=f.current)==null?void 0:_.getPlayerState)==null?void 0:E.call(_)})}else console.log(" getCurrentTime called but player not ready")}catch(I){console.error(" getCurrentTime error:",I)}return N},[c]),v=d.useCallback(()=>f.current&&c?Math.floor(f.current.getDuration()):0,[c]),y=d.useCallback(()=>{var N;return{target:f.current,data:((N=f.current)==null?void 0:N.getPlayerState())??m1.UNSTARTED}},[c]),S=d.useCallback(N=>{f.current&&c&&f.current.setVolume(N)},[c]),k=d.useCallback(()=>f.current&&c?f.current.getVolume():0,[c]),P=d.useCallback(()=>{f.current&&(f.current.destroy(),f.current=null,l(null),u(!1)),m.current&&(clearInterval(m.current),m.current=null)},[]),R=d.useCallback((N,C=0)=>(console.log("[syncVideo] Called:",{isReady:c,retryCount:C,hasPlayer:!!f.current}),f.current==null?(console.error("  ."),!1):(h.current=!0,f.current.seekTo(N.currentTime,!0),f.current.pauseVideo(),N.action==="PLAY"||N.isPlaying===!0?(f.current.setVolume(0),f.current.playVideo(),console.log("    ()"),setTimeout(()=>{f.current&&(f.current.setVolume(80),console.log("  "))},100)):N.action==="PAUSE"&&(f.current.pauseVideo(),console.log("  ")),setTimeout(()=>{h.current=!1},100),!0)),[c]);return d.useEffect(()=>{if(f.current&&c){console.log(" Starting player status monitoring");const N=setInterval(()=>{var C,T,_,E,I,D,K,U,L,j,A,z;try{const ne=!!f.current,M=typeof((C=f.current)==null?void 0:C.getPlayerState)=="function",ee=typeof((T=f.current)==null?void 0:T.getCurrentTime)=="function",se=(E=(_=f.current)==null?void 0:_.getPlayerState)==null?void 0:E.call(_),ue={isReady:c,playerExists:ne,canGetState:M,canGetTime:ee,state:se,currentTime:Math.floor(((D=(I=f.current)==null?void 0:I.getCurrentTime)==null?void 0:D.call(I))||0),duration:Math.floor(((U=(K=f.current)==null?void 0:K.getDuration)==null?void 0:U.call(K))||0),volume:(j=(L=f.current)==null?void 0:L.getVolume)==null?void 0:j.call(L),playbackRate:(z=(A=f.current)==null?void 0:A.getPlaybackRate)==null?void 0:z.call(A),wouldSyncPass:c&&ne&&ee&&se!==void 0&&se!==null};console.log(" Player Status:",ue)}catch(ne){console.error(" Error checking player status:",ne)}},5e3);return()=>{console.log(" Stopping player status monitoring"),clearInterval(N)}}},[c]),d.useEffect(()=>()=>{P(),m.current&&(clearInterval(m.current),m.current=null)},[P]),{player:i,isReady:c,play:w,pause:x,seekTo:b,getCurrentTime:g,getDuration:v,getPlayerState:y,setVolume:S,getVolume:k,destroy:P,syncVideo:R}}var p1=["PageUp","PageDown"],g1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ao="Slider",[lf,O3,L3]=Th(Ao),[x1,z5]=Dn(Ao,[L3]),[M3,Oc]=x1(Ao),y1=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:w,...x}=e,b=d.useRef(new Set),g=d.useRef(0),y=i==="horizontal"?$3:z3,[S=[],k]=bs({prop:f,defaultProp:u,onChange:_=>{var I;(I=[...b.current][g.current])==null||I.focus(),h(_)}}),P=d.useRef(S);function R(_){const E=V3(S,_);T(_,E)}function N(_){T(_,g.current)}function C(){const _=P.current[g.current];S[g.current]!==_&&m(S)}function T(_,E,{commit:I}={commit:!1}){const D=G3(a),K=X3(Math.round((_-r)/a)*a+r,D),U=Aa(K,[r,s]);k((L=[])=>{const j=B3(L,U,E);if(Y3(j,c*a)){g.current=j.indexOf(U);const A=String(j)!==String(L);return A&&I&&m(j),A?j:L}else return L})}return o.jsx(M3,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:g,thumbs:b.current,values:S,orientation:i,form:w,children:o.jsx(lf.Provider,{scope:e.__scopeSlider,children:o.jsx(lf.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:be(x.onPointerDown,()=>{l||(P.current=S)}),min:r,max:s,inverted:p,onSlideStart:l?void 0:R,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&T(r,0,{commit:!0}),onEndKeyDown:()=>!l&&T(s,S.length-1,{commit:!0}),onStepKeyDown:({event:_,direction:E})=>{if(!l){const K=p1.includes(_.key)||_.shiftKey&&g1.includes(_.key)?10:1,U=g.current,L=S[U],j=a*K*E;T(L+j,U,{commit:!0})}}})})})})});y1.displayName=Ao;var[w1,b1]=x1(Ao,{startEdge:"left",endEdge:"right",size:"width",direction:1}),$3=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[h,m]=d.useState(null),p=Pe(t,y=>m(y)),w=d.useRef(void 0),x=Ga(s),b=x==="ltr",g=b&&!a||!b&&a;function v(y){const S=w.current||h.getBoundingClientRect(),k=[0,S.width],R=pm(k,g?[n,r]:[r,n]);return w.current=S,R(y-S.left)}return o.jsx(w1,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(S1,{dir:x,"data-orientation":"horizontal",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const S=v(y.clientX);i==null||i(S)},onSlideMove:y=>{const S=v(y.clientX);l==null||l(S)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const k=v1[g?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:k?-1:1})}})})}),z3=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=d.useRef(null),h=Pe(t,f),m=d.useRef(void 0),p=!s;function w(x){const b=m.current||f.current.getBoundingClientRect(),g=[0,b.height],y=pm(g,p?[r,n]:[n,r]);return m.current=b,y(x-b.top)}return o.jsx(w1,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(S1,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=w(x.clientY);a==null||a(b)},onSlideMove:x=>{const b=w(x.clientY);i==null||i(b)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=v1[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),S1=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=Oc(Ao,n);return o.jsx(Se.span,{...u,ref:t,onKeyDown:be(e.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):p1.concat(g1).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:be(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():r(h)}),onPointerMove:be(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:be(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),a(h))})})}),N1="SliderTrack",j1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Oc(N1,n);return o.jsx(Se.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});j1.displayName=N1;var cf="SliderRange",C1=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Oc(cf,n),a=b1(cf,n),i=d.useRef(null),l=Pe(t,i),c=s.values.length,u=s.values.map(m=>T1(m,s.min,s.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return o.jsx(Se.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:f+"%",[a.endEdge]:h+"%"}})});C1.displayName=cf;var uf="SliderThumb",k1=d.forwardRef((e,t)=>{const n=O3(e.__scopeSlider),[r,s]=d.useState(null),a=Pe(t,l=>s(l)),i=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(F3,{...e,ref:a,index:i})}),F3=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,i=Oc(uf,n),l=b1(uf,n),[c,u]=d.useState(null),f=Pe(t,v=>u(v)),h=c?i.form||!!c.closest("form"):!0,m=Lh(c),p=i.values[r],w=p===void 0?0:T1(p,i.min,i.max),x=W3(r,i.values.length),b=m==null?void 0:m[l.size],g=b?H3(b,w,l.direction):0;return d.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${g}px)`},children:[o.jsx(lf.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Se.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:f,style:p===void 0?{display:"none"}:e.style,onFocus:be(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),h&&o.jsx(E1,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},r)]})});k1.displayName=uf;var U3="RadioBubbleInput",E1=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),a=Pe(s,r),i=zh(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const h=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[i,t]),o.jsx(Se.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});E1.displayName=U3;function B3(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function T1(e,t,n){const a=100/(n-t)*(e-t);return Aa(a,[0,100])}function W3(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function V3(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function H3(e,t,n){const r=e/2,a=pm([0,50],[0,r]);return(r-a(t)*n)*n}function K3(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Y3(e,t){if(t>0){const n=K3(e);return Math.min(...n)>=t}return!0}function pm(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function G3(e){return(String(e).split(".")[1]||"").length}function X3(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var q3=y1,Q3=j1,J3=C1,Z3=k1;function Kg({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...a}){const i=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(q3,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:Re("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[o.jsx(Q3,{"data-slot":"slider-track",className:Re("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(J3,{"data-slot":"slider-range",className:Re("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(l,c)=>o.jsx(Z3,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function e5({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:a,onSeek:i,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:f=!1,onPermissionDenied:h}){const[m,p]=d.useState([80]),[w,x]=d.useState(!1),[b,g]=d.useState(!1),[v,y]=d.useState(!1),[S,k]=d.useState(0),P=d.useRef();d.useEffect(()=>{if(e.isReady){const L=e.getVolume();p([L]),x(L===0)}},[e.isReady]),d.useEffect(()=>(b&&(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{g(!1)},3e3)),()=>{P.current&&clearTimeout(P.current)}),[b,m]);const R=()=>{if(b){x(!w);const L=w?m[0]:0;e.setVolume(L),l(L)}else g(!0)},N=L=>{p(L);const j=L[0];x(j===0),e.setVolume(j),l(j)},C=()=>{y(!0),k(r)},T=L=>{v&&k(L[0])},_=()=>{v&&t&&(i(S),y(!1))},E=()=>{if(t){const L=Math.max(0,r-10);i(L)}else h==null||h()},I=()=>{if(t){const L=Math.min(s,r+10);i(L)}else h==null||h()},D=()=>{t?a():h==null||h()},K=()=>w||m[0]===0?o.jsx(OC,{className:"w-5 h-5"}):m[0]<50?o.jsx(IC,{className:"w-5 h-5"}):o.jsx(DC,{className:"w-5 h-5"}),U=L=>{const j=Math.floor(L/3600),A=Math.floor(L%3600/60),z=L%60;return j>0?`${j}:${A.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`:`${A}:${z.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(Kg,{value:[v?S:r],onValueChange:T,onPointerDown:C,onPointerUp:_,max:s,step:1,disabled:f||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:U(v?S:r)}),o.jsx("span",{children:U(s)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(B,{variant:"ghost",size:"sm",onClick:E,disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(TC,{className:"w-5 h-5"})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{console.log("    !",{isHost:t,disabled:f||!t}),D()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"":"":"  ",children:n?o.jsx(_0,{className:"w-5 h-5"}):o.jsx(Et,{className:"w-5 h-5"})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:I,disabled:f||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(RC,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(B,{variant:"ghost",size:"sm",onClick:R,className:"hover:bg-white/10",title:" ",children:K()}),b&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(Kg,{value:m,onValueChange:N,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[m[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(qs,{className:"w-4 h-4 mr-1"}),"  "]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(B,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"",children:o.jsx(kC,{className:"w-5 h-5"})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?" ":"",children:u?o.jsx(jC,{className:"w-5 h-5"}):o.jsx(NC,{className:"w-5 h-5"})})]})]})]})}function t5({open:e,onClose:t}){return o.jsx(Hh,{open:e,onOpenChange:t,children:o.jsxs(Kh,{className:"bg-[#1a1a1a] border-white/20 text-white",children:[o.jsxs(Yh,{children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center",children:o.jsx(qs,{className:"w-8 h-8 text-yellow-400"})})}),o.jsx(Xh,{className:"text-center text-xl font-medium",children:"  "}),o.jsxs(qh,{className:"text-center text-white/70",children:["    .",o.jsx("br",{}),", ,    ."]})]}),o.jsx(Gh,{children:o.jsx(Qh,{onClick:t,className:"w-full teal-gradient hover:opacity-80 text-black font-medium",children:""})})]})})}var Tr=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Tr||{});function n5(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function r5({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var ht,qe,Qe,bt;const[a,i]=d.useState(!1),{isLoaded:l}=I3(!0),[c,u]=d.useState(!0),[f,h]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(!1),[b,g]=d.useState(!1),[v,y]=d.useState(null),[S,k]=d.useState(null),[P,R]=d.useState([]),[N,C]=d.useState([]),[T,_]=d.useState(!1),[E,I]=d.useState(!0),[D,K]=d.useState(null),[U,L]=d.useState(null),[j,A]=d.useState(!1),[z,ne]=d.useState(0),[M,ee]=d.useState(null),se=d.useRef(null),ue=d.useRef(!1),Te=d.useRef(null),J=z>0?z:S!=null&&S.duration?parseInt(S.duration):0,[oe,pe]=d.useState(!1),[fe,ce]=d.useState(0),ve=U?n5(U):null;d.useEffect(()=>{console.log(" YouTube URL/ID :",{youtubeUrl:U,youtubeVideoId:ve,extractedFrom:U})},[U,ve]);const{isConnected:je,connectionStatus:We,connect:G,disconnect:O,sendChatMessage:X,sendVideoControl:re,reconnectAttempts:q}=A3({roomId:e,userId:n,onChatMessage:d.useCallback(V=>{C(he=>[...he,V])},[]),onParticipantsUpdate:d.useCallback(V=>{console.log(" Participants updated:",V);const he=(V.participantDtoList??[]).map(Fe=>({userId:Fe.id,userName:Fe.username,userAvatar:Fe.profile,isHost:Fe.isOwner,isOnline:Fe.isOnline??!0,joinedAt:Fe.joinedAt??""}));R(he);const Ae=he.find(Fe=>Fe.userId===n),ie=(Ae==null?void 0:Ae.isHost)||!1;console.log(" Host status check:",{currentUserId:n,currentUserParticipant:Ae,newIsHost:ie,allParticipants:he}),_(ie)},[n]),onVideoSync:d.useCallback(V=>{console.log(" Video sync received:",{action:V.videoControlAction,currentTime:V.currentTime,isPlaying:V.isPlaying,timestamp:V.timestamp,timestampAge:Date.now()-V.timestamp,isHost:T});const he=V.timestamp===0||Date.now()-V.timestamp<1e4;he&&W&&W.syncVideo?(console.log(" Executing video sync"),W.syncVideo({action:V.videoControlAction,currentTime:V.currentTime,isPlaying:V.isPlaying}),console.log(" Video sync successful")):console.log(" Video sync ignored:",{isValidTimestamp:he,hasPlayerController:!!W}),pe(V.isPlaying),ce(V.currentTime)},[T]),onRoomSync:d.useCallback(V=>{var vn;console.log(" Room sync received:",V);const he={id:V.id,title:V.title,contentDto:V.content,ownerId:"",ownerName:"",createdAt:"",headCount:V.participantsInfoDto.participantsCount||V.participantsInfoDto.participantCount,contentTitle:V.content.title,contentId:V.content.id};y(he),k(V.content);const ie=(V.participantsInfoDto.participantDtoList||[]).map(vt=>({userId:vt.id,userName:vt.username,userAvatar:vt.profile,isHost:vt.isOwner,isOnline:vt.isOnline??!0,joinedAt:vt.joinedAt??""}));R(ie),C(V.chatMessages??[]);const Fe=ie.find(vt=>vt.userId===n),jt=(Fe==null?void 0:Fe.isHost)||!1;if(console.log(" Host status check (room sync):",{currentUserId:n,currentUserParticipant:Fe,newIsHost:jt,allParticipants:ie}),_(jt),(vn=V.content)!=null&&vn.youtubeUrl?(console.log(" Setting YouTube URL from content.youtubeUrl:",V.content.youtubeUrl),L(V.content.youtubeUrl)):(console.warn(" No content.youtubeUrl provided"),L(null)),V.playTime!==void 0&&V.isPlaying!==void 0){console.log(" Storing initial sync data from roomInfo:",{playTime:V.playTime,isPlaying:V.isPlaying});const vt={videoControlAction:V.isPlaying?Tr.PLAY:Tr.PAUSE,currentTime:V.playTime,isPlaying:V.isPlaying,timestamp:Date.now()};ee(vt)}else V.videoSyncDto?(console.log(" Fallback: Storing initial videoSyncDto:",V.videoSyncDto),ee(V.videoSyncDto)):ee(null);I(!1)},[n]),onError:d.useCallback(V=>{K(V)},[])}),$=d.useCallback((V,he,Ae)=>{const ie=typeof he=="number"?Math.round(he*100)/100:0;console.log(" Video state changed:",{isPlaying:V,currentTime:ie,action:Ae,isHost:T,isConnected:je,rawCurrentTime:he}),pe(V),ce(ie)},[T,je]),W=D3({videoId:ve||"",containerId:"youtube-player-container",isHost:T,onStateChange:$,onError:d.useCallback(V=>{console.error("YouTube Player Error:",V),K(V)},[]),onTimeUpdate:d.useCallback(V=>{ce(Math.round(V*100)/100)},[])}),ae=!!(ve&&l);d.useEffect(()=>{const V=async()=>{var Ae;if(ue.current){console.log(" loadInitialData   ,   ");return}ue.current=!0,console.log(" loadInitialData  :",{roomId:e,userId:n}),I(!0),K(null);try{const ie=await Ya.joinWatchRoom(e);console.log(" Room info loaded:",ie);const Fe={id:ie.id,title:ie.title,contentDto:ie.content,ownerId:"",ownerName:"",createdAt:"",headCount:ie.participantsInfoDto.participantsCount||ie.participantsInfoDto.participantCount,contentTitle:ie.content.title,contentId:ie.content.id};if(y(Fe),k(ie.content),console.log(" Initial host status set to false (will be updated via WebSocket)"),_(!1),pe(!1),ce(0),C([]),(Ae=ie.content)!=null&&Ae.youtubeUrl?(console.log(" Initial: Setting YouTube URL from content.youtubeUrl:",ie.content.youtubeUrl),L(ie.content.youtubeUrl)):(console.warn(" Initial: No content.youtubeUrl provided"),L(null)),ie.playTime!==void 0&&ie.isPlaying!==void 0){console.log(" Initial: Storing initial sync data from roomInfo:",{playTime:ie.playTime,isPlaying:ie.isPlaying});const jt={videoControlAction:ie.isPlaying?Tr.PLAY:Tr.PAUSE,currentTime:ie.playTime,isPlaying:ie.isPlaying,timestamp:Date.now()};ee(jt)}else ie.videoSyncDto?(console.log(" Initial: Fallback: Storing initial videoSyncDto:",ie.videoSyncDto),ee(ie.videoSyncDto)):ee(null);console.log(" loadInitialData "),r&&G()}catch(ie){console.error("Failed to load room data:",ie),K(ie instanceof Error?ie.message:"     .")}finally{I(!1),ue.current=!1}},he=setTimeout(()=>{V()},0);return()=>{clearTimeout(he)}},[e,n,r]),d.useEffect(()=>{if(W!=null&&W.isReady&&W.syncVideo&&M){console.log(" Applying initial video sync now that player is ready:",M);const V={action:M.videoControlAction,currentTime:M.currentTime,isPlaying:M.isPlaying};W.syncVideo(V),pe(M.isPlaying),ce(M.currentTime),ee(null)}},[W,M]),d.useEffect(()=>{var V;(V=se.current)==null||V.scrollIntoView({behavior:"smooth"})},[N]),d.useEffect(()=>{if(W!=null&&W.isReady&&z===0)try{const V=W.getDuration();console.log(" YouTube  :",V,""),V>0&&ne(Math.floor(V))}catch(V){console.error("    :",V)}},[W==null?void 0:W.isReady,z,W]),d.useEffect(()=>{var V;console.log(" Host Status Debug:",{isHost:T,userId:n,participants:P.map(he=>({userId:he.userId,userName:he.userName,isHost:he.isHost})),canUsePlayer:ae,isConnected:je,currentUserIsHost:((V=P.find(he=>he.userId===n))==null?void 0:V.isHost)||!1})},[T,n,P,ae,je]);const Ee=()=>{if(!T||!ae||!je){console.log(" Cannot control video:",{isHost:T,canUsePlayer:ae,isConnected:je}),T||A(!0);return}const V=oe?Tr.PAUSE:Tr.PLAY,he=(W==null?void 0:W.getCurrentTime())||0;console.log(" Host sending video control:",{action:V,currentTime:he,isPlaying:oe}),re({videoControlAction:V,currentTime:he})},Ce=()=>{g(!0)},ye=()=>{g(!1),O(),t()},xe=V=>{var he;if(console.log(" Seek requested:",{isHost:T,seconds:V,isConnected:je,canUsePlayer:ae}),!T){console.log(" Not host, cannot seek video"),A(!0);return}if(!ae){console.log(" Player not ready, cannot seek video");return}try{const Ae=((he=W==null?void 0:W.getDuration)==null?void 0:he.call(W))||J;let ie=V;Ae&&V>Ae&&(ie=Ae,console.warn(" SEEK    ,  :",{requested:V,adjusted:ie,maxDuration:Ae})),ie<0&&(ie=0),console.log(" SEEK -   :",{originalSeconds:V,validSeekTime:ie,maxDuration:Ae}),re({videoControlAction:Tr.SEEK,currentTime:ie})}catch(Ae){console.error(" SEEK   :",Ae)}},ge=V=>{W.setVolume(V),console.log(`Volume changed to: ${V}%`)},Oe=()=>{i(!a),u(!!a)},nt=()=>{!m.trim()||!je||(X(m),console.log("Sending message:",m),p(""))},Ut=V=>new Date(V).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return E?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!r&&!je?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:((ht=v==null?void 0:v.contentDto)==null?void 0:ht.title)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsxs("span",{children:[(v==null?void 0:v.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Id,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(B,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs(B,{onClick:G,className:"teal-gradient hover:opacity-80 text-black",children:[We==="connecting"?o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(Ht,{className:"w-4 h-4 mr-2"})," "]})]})]})}):D?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:D}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(B,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx(B,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):v?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!a&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(B,{variant:"ghost",onClick:Ce,className:"hover:bg-white/10",children:[o.jsx(jo,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:v.title}),T&&o.jsxs(Gn,{variant:"secondary",className:"text-xs",children:[o.jsx(qs,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:S?S.title:(qe=v.contentDto)==null?void 0:qe.title}),S&&S.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:S.contentType})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsxs("span",{children:[P.filter(V=>V.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[je?o.jsx(MC,{className:"w-4 h-4 text-green-400"}):o.jsx(LC,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:je?"text-green-400":"text-yellow-400",children:je?"":We==="connecting"?" ":" "}),q>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",q,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(B,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(Id,{className:"w-5 h-5"}),c?o.jsx(_r,{className:"w-4 h-4 ml-1"}):o.jsx(da,{className:"w-4 h-4 ml-1"})]})})]}),!je&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:We==="connecting"?"   ...":We==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{ref:Te,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API  ..."})]})}),l&&!ve&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[S&&S.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:S.thumbnailUrl,alt:S.title,className:"w-full h-full object-cover",onError:V=>{const he=V.target;he.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Et,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60 mb-2",children:S?S.title:"   ..."}),U?o.jsxs("p",{className:"text-white/40 text-sm",children:["YouTube  ID   ",o.jsx("br",{}),"URL: ",U]}):o.jsx("p",{className:"text-white/40 text-sm",children:" YouTube URL  "})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:ae?"block":"none",position:"relative",zIndex:1,pointerEvents:"auto"}}),!ae&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((bt=(Qe=v==null?void 0:v.contentDto)==null?void 0:Qe.title)==null?void 0:bt.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:`absolute inset-0 bg-black/30 flex items-center justify-center transition-opacity duration-300 ${oe&&!w?"opacity-0":"opacity-100"}`,style:{zIndex:10,pointerEvents:oe&&!w?"none":"auto"},children:[o.jsx(B,{size:"lg",onClick:()=>{console.log("    !",{isHost:T,disabled:!T}),Ee()},onMouseDown:()=>console.log("     "),onMouseUp:()=>console.log("     "),disabled:!T,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${T?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,style:{position:"relative",zIndex:20,pointerEvents:T?"auto":"none"},children:oe?o.jsx(_0,{className:"w-10 h-10 fill-current"}):o.jsx(Et,{className:"w-10 h-10 fill-current ml-1"})}),!T&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(qs,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 bg-black/50 backdrop-blur-sm
                        transition-opacity duration-300 z-50
                        ${oe&&!w&&!a?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}
                        ${a?"hidden":""} `,children:o.jsx(e5,{playerController:W,isHost:T,isPlaying:oe,currentTime:fe,totalDuration:J,onPlayPause:Ee,onSeek:xe,onVolumeChange:ge,onFullscreenToggle:Oe,isFullscreen:a,disabled:!je||!ae,onPermissionDenied:()=>A(!0)})}),a&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>h(!f),className:"p-1 hover:bg-white/10",children:o.jsx(Ht,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[P.filter(V=>V.isOnline).length,"  "]})]}),f&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${P.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:P.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):P.map(V=>{var he;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(lt,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{V.userId!==n&&s&&s(V.userId)},children:[o.jsx(ct,{src:V.userAvatar}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black text-xs",children:((he=V.userName)==null?void 0:he.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${V.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{V.userId!==n&&s&&s(V.userId)},children:V.userName}),V.isHost&&o.jsxs(Gn,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(qs,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${V.isOnline?"bg-green-400":"bg-gray-400"}`})]},V.userId+V.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[E&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),N.map(V=>{var he,Ae;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(lt,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(ct,{src:(he=P.find(ie=>ie.userId===V.senderId))==null?void 0:he.userAvatar}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black text-xs",children:V.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:V.senderName}),((Ae=P.find(ie=>ie.userId===V.senderId))==null?void 0:Ae.isHost)&&o.jsx(qs,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:Ut(V.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:V.content})]})]})},V.id)}),o.jsx("div",{ref:se})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Ke,{placeholder:je?" ...":"  ...",value:m,onChange:V=>p(V.target.value),onKeyPress:V=>V.key==="Enter"&&nt(),disabled:!je,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx(B,{onClick:nt,disabled:!m.trim()||!je,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(ph,{className:"w-4 h-4"})})]})})]})})]}),o.jsx(t5,{open:j,onClose:()=>A(!1)}),o.jsx(Hh,{open:b,onOpenChange:g,children:o.jsxs(Kh,{className:"bg-[#1a1a1a] border-white/20",children:[o.jsxs(Yh,{children:[o.jsx(Xh,{className:"text-white",children:" "}),o.jsx(qh,{className:"text-white/70",children:T?"   .  ?":" ?"})]}),o.jsxs(Gh,{children:[o.jsx(Vw,{onClick:()=>g(!1),className:"border-white/20 hover:bg-white/5 text-white",children:""}),o.jsx(Qh,{onClick:ye,className:"bg-red-600 hover:bg-red-700 text-white",children:""})]})]})})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function s5({onJoinRoom:e,onCreateRoom:t,currentUserId:n}){const[r,s]=d.useState(""),[a,i]=d.useState("participants"),[l,c]=d.useState([]),[u,f]=d.useState(!0),[h,m]=d.useState(null),[p,w]=d.useState(!1),[x,b]=d.useState(null),g=async(k=!0)=>{try{k?f(!0):w(!0),m(null);const P=await Ya.getWatchRooms({query:r,sortBy:a==="participants"?"participantCount":"createdAt"});c(P)}catch(P){console.error("   :",P),m(P instanceof Error?P.message:"     .")}finally{f(!1),w(!1)}};d.useEffect(()=>{const k=setTimeout(()=>{g(!1)},300);return()=>clearTimeout(k)},[r,a]),d.useEffect(()=>{g(!0)},[]);const v=l.filter(k=>k.headCount>=10),y=l,S=async k=>{if(!x){b(k.id);try{await(e==null?void 0:e(k))}finally{b(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(B,{onClick:()=>g(!1),disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[p?o.jsx(Zt,{className:"w-4 h-4 animate-spin"}):o.jsx(Kr,{className:"w-4 h-4"}),""]}),o.jsxs(B,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(en,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ke,{placeholder:" , ,  ...",value:r,onChange:k=>s(k.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Uh,{value:a,onValueChange:k=>i(k),children:[o.jsx(Wh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Bh,{placeholder:""})}),o.jsxs(Vh,{children:[o.jsx(Bn,{value:"participants",children:"  "}),o.jsx(Bn,{value:"latest",children:""}),o.jsx(Bn,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",y.length,"  "]}),o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4] border border-[#4ecdc4]/30",children:[o.jsx(Ht,{className:"w-3 h-3 mr-1 inline"}),""]})]})]}),h&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:h}),o.jsx(B,{onClick:()=>g(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),u&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!u&&!h&&o.jsxs(o.Fragment,{children:[!r&&v.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(A0,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(k=>{var P,R,N;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(P=k.contentDto)!=null&&P.thumbnailUrl?o.jsx("img",{src:k.contentDto.thumbnailUrl,alt:k.contentDto.title,className:"w-full h-full object-cover",onError:C=>{var T;C.currentTarget.style.display="none",(T=C.currentTarget.nextElementSibling)==null||T.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(R=k.contentDto)!=null&&R.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",k.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(B,{size:"sm",onClick:C=>{C.stopPropagation(),S(k)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===k.id?o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(N=k.contentDto)==null?void 0:N.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[k.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kr,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[k.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",k.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},k.id)})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(k=>{var P,R,N;return o.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(P=k.contentDto)!=null&&P.thumbnailUrl?o.jsx("img",{src:k.contentDto.thumbnailUrl,alt:k.contentDto.title,className:"w-full h-full object-cover",onError:C=>{var T;C.currentTarget.style.display="none",(T=C.currentTarget.nextElementSibling)==null||T.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(R=k.contentDto)!=null&&R.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",k.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(B,{size:"sm",onClick:C=>{C.stopPropagation(),S(k)},className:"teal-gradient hover:opacity-80 text-black",disabled:!!x,children:[x===k.id?o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-1"}):o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(N=k.contentDto)==null?void 0:N.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[k.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kr,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[k.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",k.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},k.id)})})]}),y.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ht,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:r?"  .":n?"   .":"      ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[r&&o.jsx(B,{variant:"outline",onClick:()=>s(""),className:"border-white/20 hover:bg-white/5",children:"  "}),n?o.jsxs(B,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(en,{className:"w-4 h-4 mr-2"}),"  "]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/40 text-sm mb-2",children:"   "}),o.jsx(B,{variant:"outline",onClick:()=>window.location.reload(),className:"border-[#4ecdc4]/30 text-[#4ecdc4] hover:bg-[#4ecdc4]/10",children:""})]})]})]})]})]})})}var Lc="Switch",[o5,F5]=Dn(Lc),[a5,i5]=o5(Lc),R1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[m,p]=d.useState(null),w=Pe(t,y=>p(y)),x=d.useRef(!1),b=m?f||!!m.closest("form"):!0,[g,v]=bs({prop:s,defaultProp:a??!1,onChange:u,caller:Lc});return o.jsxs(a5,{scope:n,checked:g,disabled:l,children:[o.jsx(Se.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":I1(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:be(e.onClick,y=>{v(S=>!S),b&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),b&&o.jsx(A1,{control:m,bubbles:!x.current,name:r,value:c,checked:g,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});R1.displayName=Lc;var P1="SwitchThumb",_1=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=i5(P1,n);return o.jsx(Se.span,{"data-state":I1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});_1.displayName=P1;var l5="SwitchBubbleInput",A1=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=d.useRef(null),l=Pe(i,a),c=zh(n),u=Lh(t);return d.useEffect(()=>{const f=i.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(f,n),f.dispatchEvent(w)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});A1.displayName=l5;function I1(e){return e?"checked":"unchecked"}var c5=R1,u5=_1;function d5({className:e,...t}){return o.jsx(c5,{"data-slot":"switch",className:Re("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(u5,{"data-slot":"switch-thumb",className:Re("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Yg({isOpen:e,onClose:t,onCreateWatchParty:n,content:r}){const[s,a]=d.useState(!0),[i,l]=d.useState("");d.useEffect(()=>{r&&e&&l(`${r.title} `)},[r,e]);const c=()=>{const u={isPublic:s,roomName:i||`${r==null?void 0:r.title} `};n(u)};return r?o.jsx(gc,{open:e,onOpenChange:t,children:o.jsxs(vc,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(xc,{children:o.jsxs(yc,{className:"flex items-center space-x-2",children:[o.jsx(Ht,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:" "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover",onError:u=>{const f=u.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:r.title}),o.jsx("p",{className:"text-sm text-white/60",children:r.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:r.description})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Ht,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(It,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(Ke,{id:"roomName",value:i,onChange:u=>l(u.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[s?o.jsx(Dl,{className:"w-4 h-4 text-green-400"}):o.jsx(Ol,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"isPublic",className:"text-sm",children:s?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:s?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(d5,{id:"isPublic",checked:s,onCheckedChange:a,disabled:!0})})]})}),o.jsxs(B,{onClick:c,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!i.trim(),children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})]})}):null}function Gg({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:a}){const[i,l]=d.useState(""),[c,u]=d.useState([]),[f,h]=d.useState(!1),[m,p]=d.useState(""),[w,x]=d.useState(""),[b,g]=d.useState(!0),[v,y]=d.useState([]),[S,k]=d.useState(!1);d.useEffect(()=>{e&&P()},[e]);const P=async()=>{try{k(!0);const I=await r();y(I)}catch(I){console.error("Error loading playlists:",I)}finally{k(!1)}},R=v.filter(I=>I.title.toLowerCase().includes(i.toLowerCase())||I.description.toLowerCase().includes(i.toLowerCase())),N=I=>{u(D=>D.includes(I)?D.filter(K=>K!==I):[...D,I])},C=async()=>{if(n)try{const I=c.map(D=>a(D,[n.id]));await Promise.all(I),alert(`"${n.title}"() ${c.length}  .`),u([]),l(""),t()}catch(I){console.error("   :",I),alert("     .")}},T=async()=>{if(!(!m.trim()||!n))try{const I=await s({name:m,description:w,isPublic:b});await a(I.id,[n.id]),alert(`  "${m}"()  "${n.title}"() .`),p(""),x(""),g(!0),h(!1),t()}catch(I){console.error("Error creating playlist:",I),alert("    .")}},_=()=>{u([]),l(""),h(!1),p(""),x(""),g(!0)},E=()=>{_(),t()};return n?o.jsx(gc,{open:e,onOpenChange:E,children:o.jsxs(vc,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(xc,{children:o.jsx(yc,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs(lt,{className:"h-12 w-12 rounded-lg",children:[o.jsx(ct,{src:n.thumbnail,className:"object-cover"}),o.jsx(ut,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"":n.type==="tv"?"TV":"","  ",n.year]})]})]}),f?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ke,{placeholder:" ",value:m,onChange:I=>p(I.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Ke,{placeholder:" ()",value:w,onChange:I=>x(I.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[b?o.jsx(Dl,{className:"w-4 h-4 text-green-400"}):o.jsx(Ol,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:b?"":""})]}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>g(!b),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(B,{variant:"outline",onClick:()=>h(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx(B,{onClick:T,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Ke,{placeholder:" ...",value:i,onChange:I=>l(I.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(B,{variant:"outline",onClick:()=>h(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(en,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:S?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):R.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:i?"  ":" "}):R.map(I=>o.jsxs("div",{onClick:()=>N(I.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(I.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs(lt,{className:"h-10 w-10 rounded-lg",children:[o.jsx(ct,{src:I.thumbnail,className:"object-cover"}),o.jsx(ut,{children:I.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:I.title}),I.isPublic?o.jsx(Dl,{className:"w-3 h-3 text-green-400"}):o.jsx(Ol,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[I.contentCount," "]})]}),c.includes(I.id)&&o.jsx(ro,{className:"w-5 h-5 text-[#4ecdc4]"})]},I.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(B,{variant:"outline",onClick:E,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs(B,{onClick:C,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function Xg({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,a]=d.useState(""),[i,l]=d.useState("all"),[c,u]=d.useState(null),[f,h]=d.useState(""),[m,p]=d.useState("select"),[w,x]=d.useState(!1),[b,g]=d.useState(null),[v,y]=d.useState([]),[S,k]=d.useState(!1),[P,R]=d.useState(!1),[N,C]=d.useState(),[T,_]=d.useState(!1),E=async(j=!1)=>{try{j?_(!0):k(!0),g(null);const A=await hs.getContents({type:i==="all"?void 0:i.toUpperCase(),query:s||void 0,cursor:j?N:void 0,size:20});y(j?z=>[...z,...A.data]:A.data),R(A.hasNext),C(A.nextCursor)}catch(A){console.error("  :",A),g(A instanceof Error?A.message:"    .")}finally{k(!1),_(!1)}};d.useEffect(()=>{e&&E(!1)},[e]),d.useEffect(()=>{if(!e)return;const j=setTimeout(()=>{E(!1)},300);return()=>clearTimeout(j)},[s,i,e]);const I=()=>{P&&!S&&!T&&E(!0)},D=j=>{u(j),h(`${j.title} `),p("create"),g(null)},K=async()=>{if(!c||!f.trim()){g("  .");return}x(!0),g(null);try{const j={contentId:c.id,ownerId:r,title:f.trim()},A=await Ya.createWatchRoom(j),z=`room-content-${A.id}`;localStorage.setItem(z,JSON.stringify({contentId:c.id,contentData:c,savedAt:Date.now()})),n(A),U()}catch(j){console.error("  :",j),g(j instanceof Error?j.message:"    .")}finally{x(!1)}},U=()=>{a(""),l("all"),u(null),h(""),p("select"),x(!1),g(null),y([]),k(!1),R(!1),C(void 0),_(!1),t()},L=j=>{switch(j){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:m,selectedContent:c,loading:S}),o.jsx(gc,{open:e,onOpenChange:U,children:o.jsxs(vc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(xc,{children:o.jsx(yc,{className:"text-xl",children:m==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),m==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Ke,{placeholder:" ...",value:s,onChange:j=>a(j.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(Uh,{value:i,onValueChange:l,children:[o.jsx(Wh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(Bh,{placeholder:""})}),o.jsxs(Vh,{children:[o.jsx(Bn,{value:"all",children:""}),o.jsx(Bn,{value:"movie",children:""}),o.jsx(Bn,{value:"tv",children:"TV/"}),o.jsx(Bn,{value:"sports",children:""})]})]})]}),S&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),b&&!S&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:b}),o.jsx(B,{onClick:()=>E(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!S&&!b&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[v.map(j=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>D(j),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:j.thumbnail||j.thumbnailUrl,alt:j.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{const z=A.target;z.style.display="none";const ne=z.parentElement;if(ne&&!ne.querySelector(".image-fallback")){const M=document.createElement("div");M.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",M.textContent=j.title.charAt(0).toUpperCase(),ne.appendChild(M)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(B,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:w,children:[o.jsx(Et,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:j.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:j.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[j.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:`w-3 h-3 ${j.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-xs",children:j.avgRating.toFixed(2)})]}),o.jsx(Gn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:L(j.contentType)})]})]})]},j.id)),P&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx(B,{onClick:I,disabled:T||w,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:T?o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!S&&!b&&v.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx(B,{variant:"outline",onClick:()=>{a(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail||c.thumbnailUrl,alt:c.title,className:"w-full h-full object-cover",onError:j=>{const A=j.target;A.style.display="none";const z=A.parentElement;if(z&&!z.querySelector(".image-fallback")){const ne=document.createElement("div");ne.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",ne.textContent=c.title.charAt(0).toUpperCase(),z.appendChild(ne)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[c.avgRating!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:`w-4 h-4 ${c.avgRating>0?"fill-yellow-400 text-yellow-400":"text-white/40"}`}),o.jsx("span",{className:"text-sm",children:c.avgRating.toFixed(2)})]}),o.jsx(Gn,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:L(c.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:" "}),o.jsx(Ke,{id:"room-title",placeholder:"  ...",value:f,onChange:j=>h(j.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[f.length,"/50"]})]}),b&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:b})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(B,{variant:"outline",onClick:()=>{p("select"),u(null),h(""),g(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:w,children:""}),o.jsx(B,{onClick:K,disabled:!c||!f.trim()||w,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:w?o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var Du="rovingFocusGroup.onEntryFocus",f5={bubbles:!1,cancelable:!0},ii="RovingFocusGroup",[df,D1,h5]=Th(ii),[m5,O1]=Dn(ii,[h5]),[p5,g5]=m5(ii),L1=d.forwardRef((e,t)=>o.jsx(df.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(df.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(v5,{...e,ref:t})})}));L1.displayName=ii;var v5=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,m=d.useRef(null),p=Pe(t,m),w=Ga(a),[x,b]=bs({prop:i,defaultProp:l??null,onChange:c,caller:ii}),[g,v]=d.useState(!1),y=At(u),S=D1(n),k=d.useRef(!1),[P,R]=d.useState(0);return d.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(Du,y),()=>N.removeEventListener(Du,y)},[y]),o.jsx(p5,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(N=>b(N),[b]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>R(N=>N+1),[]),onFocusableItemRemove:d.useCallback(()=>R(N=>N-1),[]),children:o.jsx(Se.div,{tabIndex:g||P===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{k.current=!0}),onFocus:be(e.onFocus,N=>{const C=!k.current;if(N.target===N.currentTarget&&C&&!g){const T=new CustomEvent(Du,f5);if(N.currentTarget.dispatchEvent(T),!T.defaultPrevented){const _=S().filter(U=>U.focusable),E=_.find(U=>U.active),I=_.find(U=>U.id===x),K=[E,I,..._].filter(Boolean).map(U=>U.ref.current);z1(K,f)}}k.current=!1}),onBlur:be(e.onBlur,()=>v(!1))})})}),M1="RovingFocusGroupItem",$1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Yr(),u=a||c,f=g5(M1,n),h=f.currentTabStopId===u,m=D1(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:x}=f;return d.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),o.jsx(df.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Se.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:be(e.onMouseDown,b=>{r?f.onItemFocus(u):b.preventDefault()}),onFocus:be(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:be(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=w5(b,f.orientation,f.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=m().filter(S=>S.focusable).map(S=>S.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const S=y.indexOf(b.currentTarget);y=f.loop?b5(y,S+1):y.slice(S+1)}setTimeout(()=>z1(y))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:x!=null}):i})})});$1.displayName=M1;var x5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function y5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function w5(e,t,n){const r=y5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return x5[r]}function z1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function b5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var S5=L1,N5=$1,Mc="Tabs",[j5,U5]=Dn(Mc,[O1]),F1=O1(),[C5,gm]=j5(Mc),U1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Ga(l),[h,m]=bs({prop:r,onChange:s,defaultProp:a??"",caller:Mc});return o.jsx(C5,{scope:n,baseId:Yr(),value:h,onValueChange:m,orientation:i,dir:f,activationMode:c,children:o.jsx(Se.div,{dir:f,"data-orientation":i,...u,ref:t})})});U1.displayName=Mc;var B1="TabsList",W1=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=gm(B1,n),i=F1(n);return o.jsx(S5,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(Se.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});W1.displayName=B1;var V1="TabsTrigger",H1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=gm(V1,n),l=F1(n),c=G1(i.baseId,r),u=X1(i.baseId,r),f=r===i.value;return o.jsx(N5,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(Se.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:be(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:be(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:be(e.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(r)})})})});H1.displayName=V1;var K1="TabsContent",Y1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=gm(K1,n),c=G1(l.baseId,r),u=X1(l.baseId,r),f=r===l.value,h=d.useRef(f);return d.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(wr,{present:s||f,children:({present:m})=>o.jsx(Se.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});Y1.displayName=K1;function G1(e,t){return`${e}-trigger-${t}`}function X1(e,t){return`${e}-content-${t}`}var k5=U1,E5=W1,T5=H1,R5=Y1;function P5({className:e,...t}){return o.jsx(k5,{"data-slot":"tabs",className:Re("flex flex-col gap-2",e),...t})}function _5({className:e,...t}){return o.jsx(E5,{"data-slot":"tabs-list",className:Re("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Ou({className:e,...t}){return o.jsx(T5,{"data-slot":"tabs-trigger",className:Re("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Lu({className:e,...t}){return o.jsx(R5,{"data-slot":"tabs-content",className:Re("flex-1 outline-none",e),...t})}function A5({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s}){const[a,i]=d.useState(null),[l,c]=d.useState([]),[u,f]=d.useState([]),[h,m]=d.useState([]),[p,w]=d.useState(!1),[x,b]=d.useState(!0),[g,v]=d.useState(null),[y,S]=d.useState(!1),k=e===t,P=async()=>{try{console.log("   :",e);const E=await r(`http://localhost:8080/api/users/${e}`);if(console.log("   :",{status:E.status,statusText:E.statusText,headers:Object.fromEntries(E.headers.entries())}),!E.ok){const D=await E.text();throw console.error("   :",{status:E.status,statusText:E.statusText,errorText:D}),new Error(`   . (${E.status})`)}const I=await E.json();console.log("   :",I),i(I)}catch(E){console.error("   :",E),v(E instanceof Error?E.message:"    .")}},R=async()=>{try{const E=await r(`http://localhost:8080/api/follows/${e}/followers`);if(!E.ok)throw new Error("   .");const I=await E.json();c(I)}catch(E){console.error("   :",E)}},N=async()=>{try{const E=await r(`http://localhost:8080/api/follows/${e}/following`);if(!E.ok)throw new Error("   .");const I=await E.json();f(I)}catch(E){console.error("   :",E)}},C=async()=>{try{const E=await r(`http://localhost:8080/api/users/${e}/playlists`);if(!E.ok)throw new Error("  .");const I=await E.json();m(I)}catch(E){console.error("  :",E),m([])}},T=async()=>{if(!(!t||k))try{const E=await r(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!E.ok)throw new Error("   .");const I=await E.json();w(I)}catch(E){console.error("   :",E),w(!1)}},_=async()=>{if(!(!t||k)){S(!0);try{if(p){if(!(await r(`http://localhost:8080/api/follows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error(" .");w(!1),c(I=>I.filter(D=>D.id!==t))}else{const E=new FormData;if(E.append("followerId",t),E.append("followingId",e),!(await r(`http://localhost:8080/api/follows/${e}`,{method:"POST"})).ok)throw new Error(" .");w(!0),a&&c(D=>[...D,{id:t,name:"",email:"",profileImage:""}])}}catch(E){console.error("  :",E),alert(E instanceof Error?E.message:"    .")}finally{S(!1)}}};return d.useEffect(()=>{e&&(async()=>{b(!0),v(null),await Promise.allSettled([P(),R(),N(),t?T():Promise.resolve(),C()]),b(!1)})()},[e,t]),x?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):g?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:g}),o.jsx(B,{onClick:n,variant:"outline",children:""})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs(B,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(jo,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs(lt,{className:"h-32 w-32",children:[o.jsx(ct,{src:a.profileImage}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:l.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:u.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:h.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!k&&o.jsx(B,{onClick:_,disabled:y,className:`${p?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:y?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):p?o.jsxs(o.Fragment,{children:[o.jsx(I0,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(gh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(P5,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(_5,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(Ou,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(Mp,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Ou,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(Ou,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(mr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(Lu,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(E=>{var I;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:E.name||E.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:E.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((I=E.contents)==null?void 0:I.length)||E.itemCount||0," "]})]})]},E.id)})}),h.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Mp,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(Lu,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(lt,{className:"h-12 w-12",children:[o.jsx(ct,{src:E.profileImage}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),l.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ht,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(Lu,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(E=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{E.id&&s&&s(E.id)},children:[o.jsxs(lt,{className:"h-12 w-12",children:[o.jsx(ct,{src:E.profileImage}),o.jsx(ut,{className:"bg-[#4ecdc4] text-black",children:E.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:E.name}),o.jsx("p",{className:"text-white/60 text-sm",children:E.email})]})]},E.id))}),u.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(mr,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx(B,{onClick:n,variant:"outline",children:""})]})})}function I5(){const[e,t]=d.useState(!1),[n,r]=d.useState(null),s=yr(),[a]=lC(),i=s.pathname,l=window.location.pathname==="/oauth/callback",c=a.get("id"),u=i.startsWith("/playlist")&&!!c,[f,h]=d.useState(()=>{if(u)return console.log("   : playlist-detail ( )"),"playlist-detail";const F=localStorage.getItem("currentPage")||"home";return console.log("   :",F),F}),m=F=>{try{if(!F||typeof F!="string")return console.error("  :",F),null;const H=F.split(".");if(H.length!==3)return console.error(" JWT :",F),null;const Y=JSON.parse(atob(H[1])),Z=Y.userId||Y.sub||Y.id||null;return Z||console.error("  ID   :",Y),Z}catch(H){return console.error("JWT   :",H,"Token:",F),null}},p=F=>{try{const H=JSON.parse(atob(F.split(".")[1])),Y=Date.now()/1e3,Z=H.exp,Ne=5,et=Z<Y+Ne;return console.log("  :",{currentTime:Y,expTime:Z,bufferTime:Ne,isExpired:et,timeUntilExpiry:Z-Y,payload:{...H,userId:H.userId||H.sub||H.id}}),et}catch(H){return console.error("   :",H),!0}},w=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),h("home")},x=(F,H=300)=>{try{const Y=JSON.parse(atob(F.split(".")[1])),Z=Date.now()/1e3,Ne=Y.iat;return Ne&&Z-Ne<H}catch(Y){return console.error("    :",Y),!1}},b=d.useRef(null),g=async()=>b.current?(console.log("    .   ."),b.current):(b.current=(async()=>{try{console.log("  ");const F=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",credentials:"include"});if(!F.ok)return console.log(`  : ${F.status} ${F.statusText}`),F.status===401?console.log("Refresh token ."):F.status===500&&console.log("    "),null;const H=await F.text();if(!H||H.trim()==="")return console.log("    "),null;const Y=H.replace(/"/g,"");return console.log("  "),Y}catch(F){return console.error("Token refresh :",F),null}finally{b.current=null}})(),b.current),v=async(F,H={})=>{let Y=localStorage.getItem("accessToken");const Z=Y?m(Y):null;if(console.log("authenticatedFetch :",{url:F,accessToken:Y?" ":" ",userIdFromToken:Z,currentUserId:n}),!Y)throw console.error("  .  ."),w(),new Error("  .");if(p(Y)&&!x(Y)){console.log("   .");const an=await g();if(an){localStorage.setItem("accessToken",an),Y=an;const Io=m(an);Io&&r(Io)}else throw w(),new Error(" .  .")}else p(Y)&&x(Y)&&console.log("    .");const Ln={"Content-Type":"application/json",...["http://localhost:8080/api/auth/login","http://localhost:8080/api/auth/refresh","http://localhost:8080/api/auth/change-password","http://localhost:8080/api/auth/temp-password","http://localhost:8080/api/users"].some(an=>F.startsWith(an))?{}:{Authorization:`Bearer ${Y}`},...H.headers||{}},li=await fetch(F,{...H,headers:Ln,credentials:"include"});if(li.status===401){console.log("401  ,   ");const an=await g();if(an){localStorage.setItem("accessToken",an),Y=an;const Io=m(an);Io&&r(Io),console.log("  ,  ");const sS={...Ln,Authorization:`Bearer ${an}`};return fetch(F,{...H,headers:sS,credentials:"include"})}else throw console.log("  ,  "),w(),new Error(" .  .")}if(li.status===403)throw console.log(" ."),new Error("    .");if(li.status===404)throw new Error("    .");return li},y=async F=>{try{await v(`http://localhost:8080/api/notifications/${F}`,{method:"DELETE"})}catch(H){throw console.error("  :",H),H}},S=async()=>{try{await v("http://localhost:8080/api/notifications",{method:"DELETE"})}catch(F){throw console.error("   :",F),F}},k=async()=>{try{const F=await v("http://localhost:8080/api/dmRooms/");if(!F.ok)throw new Error("DM    ");return await F.json()}catch(F){throw console.error("DM    :",F),F}},P=async F=>{try{const H=await v(`http://localhost:8080/api/dmRooms/userRoom?userB=${F}`);if(!H.ok)throw new Error("DM  / ");return await H.json()}catch(H){throw console.error("DM  / :",H),H}},R=async(F,H)=>{try{const Y=new URLSearchParams;H!=null&&H.cursor&&Y.append("cursor",H.cursor),H!=null&&H.size&&Y.append("size",H.size.toString());const Z=await v(`http://localhost:8080/api/dmRooms/${F}/dms?${Y}`);if(!Z.ok)throw new Error("DM    ");return await Z.json()}catch(Y){throw console.error("DM    :",Y),Y}},N=async(F,H="all")=>{try{let Y,Z;if(H==="subscribed")Y="http://localhost:8080/api/playlists/subscribed";else if(F&&F.trim()!==""){const et=new URLSearchParams;et.append("keyword",F.trim()),Y=`http://localhost:8080/api/playlists/search?${et}`}else Y="http://localhost:8080/api/playlists";if(console.log(" API :",Y),Z=await v(Y),console.log("  :",Z.status,Z.statusText),!Z.ok){let et="   ";try{const dt=await Z.text();console.error("  :",dt),et=`${Z.status} ${Z.statusText}: ${dt}`}catch(dt){console.error("   :",dt)}throw new Error(et)}const Ne=await Z.json();return console.log("  :",{url:Y,status:Z.status,dataType:Array.isArray(Ne)?` (: ${Ne.length})`:typeof Ne,data:Array.isArray(Ne)&&Ne.length>0?Ne.slice(0,2):Ne,headers:Object.fromEntries(Z.headers.entries())}),Array.isArray(Ne)&&F&&F.trim()!==""?Ne.filter(dt=>dt.userId===n?!0:dt.isPublic===!0):Ne}catch(Y){throw console.error("    :",Y),Y}},C=async F=>{try{const H=`http://localhost:8080/api/playlists/${F}`,Y=u;console.log("   API :",H,{isSharedAccess:Y,isSharedPlaylistPage:u});let Z;if(Y?(console.log("      "),Z=await fetch(H)):Z=await v(H),console.log("  :",Z.status,Z.statusText),!Z.ok){let et="  ";if(Y&&Z.status===401)throw console.log("    "),new Error(" .   .");try{const dt=await Z.text();console.error("  :",dt),et=`${Z.status} ${Z.statusText}: ${dt}`}catch(dt){console.error("   :",dt)}throw new Error(et)}const Ne=await Z.json();return console.log("   :",{url:H,status:Z.status,data:Ne}),Ne}catch(H){throw console.error("   :",H),H}},T=async F=>{var H,Y;try{if(!F.name||F.name.trim()==="")throw new Error("  .");if(!n)throw new Error(" .");const Z={name:F.name.trim(),description:F.description||"",isPublic:F.isPublic??!0};console.log("   :",Z);const Ne=await v("http://localhost:8080/api/playlists",{method:"POST",body:JSON.stringify(Z)});if(console.log("    :",Ne.status,Ne.statusText),!Ne.ok){let dt="  ";try{const Ln=await Ne.json();console.error("   :",Ln),dt=Ln.message||dt}catch(Ln){console.error("Error parsing error response:",Ln)}throw new Error(dt)}const et=await Ne.json();return console.log("   :",{createdPlaylist:et,createdBy:(H=et.user)==null?void 0:H.id,createdByName:(Y=et.user)==null?void 0:Y.name,currentUserId:n}),et}catch(Z){throw console.error("  :",Z),Z}},_=async(F,H)=>{try{if(!H||H.length===0)throw new Error("  .");const Y={contentIds:H},Z=await v(`http://localhost:8080/api/playlists/${F}/contents`,{method:"POST",body:JSON.stringify(Y)});if(!Z.ok){let dt="   ";try{dt=(await Z.json()).message||dt}catch(Ln){console.error("Error parsing error response:",Ln)}throw new Error(dt)}let Ne=null;const et=await Z.text();return et&&(Ne=JSON.parse(et)),console.log("   :",Ne),Ne}catch(Y){throw console.error("   :",Y),Y}},E=async(F,H)=>{try{if(!H||H.length===0)throw new Error("  .");const Y={contentIds:H},Z=await v(`http://localhost:8080/api/playlists/${F}/contents`,{method:"DELETE",body:JSON.stringify(Y)});if(!Z.ok){let Ne="   ";try{Ne=(await Z.json()).message||Ne}catch(et){console.error("Error parsing error response:",et)}throw new Error(Ne)}console.log("   ")}catch(Y){throw console.error("   :",Y),Y}},I=async F=>{try{if(!n)throw new Error(" ");console.log("   :",{userId:n,playlistId:F});const H={userId:n,playlistId:F};console.log("   :",H);const Y=await v("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(console.log("   :",Y.status,Y.statusText),!Y.ok){let Z="  ";try{Z=(await Y.json()).message||Z}catch(Ne){console.error("Error parsing error response:",Ne)}throw new Error(Z)}console.log("  ")}catch(H){throw console.error("  :",H),H}},D=async F=>{try{console.log("    :",{subscriptionId:F});const H=await v(`http://localhost:8080/api/subscriptions/${F}`,{method:"DELETE"});if(console.log("    :",H.status,H.statusText),!H.ok){let Y="   ";try{Y=(await H.json()).message||Y}catch(Z){console.error("Error parsing error response:",Z)}throw new Error(Y)}console.log("   ")}catch(H){throw console.error("   :",H),H}},[K,U]=d.useState(()=>u?a.get("id"):null),[L,j]=d.useState(null),[A,z]=d.useState(null),[ne,M]=d.useState(!1),[ee,se]=d.useState(!1),[ue,Te]=d.useState(null),[J,oe]=d.useState(!1),[pe,fe]=d.useState(!1),[ce,ve]=d.useState(null),[je,We]=d.useState(0),[G,O]=d.useState(!1),[X,re]=d.useState(null),[q,$]=d.useState(!1),[W,ae]=d.useState(null),[Ee,Ce]=d.useState(!1),[ye,xe]=d.useState(null),[ge,Oe]=d.useState(!1),nt=u,Ut=()=>{const F=new URL(window.location.href);if(F.pathname==="/oauth/callback"){const Y=F.searchParams.get("access_token");Y?(qe(Y),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}},ht=()=>{const H=new URLSearchParams(window.location.search).get("playlist");H&&(console.log("    :",H),h("playlist-detail"),U(H),localStorage.setItem("currentPage","playlist-detail"),window.history.replaceState({},document.title,"/"),console.log("     "))};d.useEffect(()=>{(async()=>{Ut(),ht();const H=localStorage.getItem("accessToken");if(H){if(p(H)){console.log("  ,      "),w();return}const Y=m(H);Y?(r(Y),t(!0)):(console.log("  ID  "),localStorage.removeItem("accessToken"),w())}})()},[]),d.useEffect(()=>{if(!e)return;const H=setInterval(async()=>{const Y=localStorage.getItem("accessToken");if(Y&&p(Y)){console.log("  ,  ");const Z=await g();if(Z){localStorage.setItem("accessToken",Z);const Ne=m(Z);Ne&&r(Ne),console.log("  ")}else console.log("  ,  "),w()}},3e4);return()=>clearInterval(H)},[e]);const qe=F=>{localStorage.setItem("accessToken",F);const H=m(F);H?(r(H),t(!0)):(localStorage.removeItem("accessToken"),t(!1)),t(!0)},Qe=F=>{if(console.log("  :",F),F==="create-room"){Ce(!0);return}h(F),localStorage.setItem("currentPage",F);const H={page:F,selectedPlaylistId:K,selectedContentDetail:L,selectedUserId:A,currentWatchRoomId:ye};window.history.pushState(H,"",window.location.pathname),console.log("   :",H),F!=="playlist-detail"&&U(null),F!=="watch-party"&&xe(null),F!=="content-detail"&&j(null),F!=="user-profile"&&z(null)};d.useEffect(()=>{localStorage.setItem("currentPage",f)},[f]),d.useEffect(()=>{const F=Y=>{if(console.log(" popstate  :",Y.state),Y.state){console.log("    :",Y.state);const Z=Y.state.page||"home";["watch-party","content-detail","user-profile"].includes(Z)?Z==="watch-party"&&!Y.state.currentWatchRoomId?(console.log("    ID    "),h("live"),localStorage.setItem("currentPage","live")):Z==="content-detail"&&!Y.state.selectedContentDetail?(console.log("       "),h("home"),localStorage.setItem("currentPage","home")):Z==="user-profile"&&!Y.state.selectedUserId?(console.log("     ID   "),h("home"),localStorage.setItem("currentPage","home")):(h(Z),localStorage.setItem("currentPage",Z)):(h(Z),localStorage.setItem("currentPage",Z)),U(Y.state.selectedPlaylistId||null),j(Y.state.selectedContentDetail||null),z(Y.state.selectedUserId||null),xe(Y.state.currentWatchRoomId||null)}else{const Z=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",Z),["watch-party","content-detail","user-profile"].includes(Z)?(console.log("       "),h("home"),localStorage.setItem("currentPage","home")):h(Z),U(null),j(null),z(null),xe(null)}};return(()=>{const Y=["watch-party","content-detail","user-profile"];let Z=f;u?Z="playlist-detail":Y.includes(f)&&(f==="watch-party"&&!ye||f==="content-detail"&&!L||f==="user-profile"&&!A)&&(Z="home");const Ne={page:Z,selectedPlaylistId:u?a.get("id"):K,selectedContentDetail:L,selectedUserId:A,currentWatchRoomId:ye};Z!==f&&(h(Z),localStorage.setItem("currentPage",Z),console.log("     :",f,"->",Z)),window.history.replaceState(Ne,"",window.location.pathname),console.log("    :",Ne)})(),window.addEventListener("popstate",F),()=>{window.removeEventListener("popstate",F)}},[]),d.useLayoutEffect(()=>{if(!e&&u){const F=a.get("id");if(F){console.log("      playlist-detail "),U(F),console.log(" setSelectedPlaylistId   (id):",F),console.log(" setSelectedPlaylistId  selectedPlaylistId:",K),h("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const H={page:"playlist-detail",selectedPlaylistId:F,selectedContentDetail:L,selectedUserId:A,currentWatchRoomId:ye};window.history.replaceState(H,"",window.location.pathname),console.log("     :",H)}}},[e,u,a]);const bt=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),r(null),t(!1),h("home")},V=()=>{M(!ne)},he=async()=>{const F=prompt("    :");if(!(F!=null&&F.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F.trim())){alert("   .");return}try{const Y=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:F.trim()})});if(!Y.ok){let Z="   .";try{Z=(await Y.json()).message||Z}catch(Ne){console.error("Error parsing error response:",Ne)}throw new Error(Z)}alert(`${F}   .
       .`)}catch(Y){console.error("   :",Y),alert(Y instanceof Error?Y.message:"     .")}},Ae=F=>{U(F),h("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const H={page:"playlist-detail",selectedPlaylistId:F,selectedContentDetail:L,selectedUserId:A,currentWatchRoomId:ye};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},ie=()=>{U(null),h("playlist"),localStorage.setItem("currentPage","playlist");const F={page:"playlist",selectedPlaylistId:null,selectedContentDetail:L,selectedUserId:A,currentWatchRoomId:ye};window.history.pushState(F,"",window.location.pathname),console.log("    :",F)},Fe=F=>{j(F),h("content-detail"),localStorage.setItem("currentPage","content-detail");const H={page:"content-detail",selectedPlaylistId:K,selectedContentDetail:F,selectedUserId:A,currentWatchRoomId:ye};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},jt=()=>{let F="home";L&&(F={movie:"movies",tv:"tv",sports:"sports"}[L.type]||"home"),j(null),h(F),localStorage.setItem("currentPage",F);const H={page:F,selectedPlaylistId:K,selectedContentDetail:null,selectedUserId:A,currentWatchRoomId:ye};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},vn=F=>{const H={...F,year:F.year||2024,rating:F.rating||4};ae(H),$(!0)},vt=()=>{$(!1),ae(null)},at=F=>{re(F),O(!0)},Nr=async F=>{if(!X)return;const H=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",F),console.log("Room code:",H);try{if(console.log("  :",{config:F,selectedContent:X}),!n){alert(" .");return}const Y={contentId:X.id,ownerId:n,title:F.roomName},Z=await Ya.createWatchRoom(Y);console.log("  :",Z),xe(Z.id),Oe(!0),h("watch-party"),localStorage.setItem("currentPage","watch-party"),console.log("  :",{roomId:Z.id})}catch(Y){console.error("  :",Y),alert("  .  .")}O(!1),re(null)},me=F=>{xe(F.id),Oe(!1),h("watch-party"),localStorage.setItem("currentPage","watch-party");const H={page:"watch-party",selectedPlaylistId:K,selectedContentDetail:L,selectedUserId:A,currentWatchRoomId:F.id};window.history.pushState(H,"",window.location.pathname),console.log("    :",H)},we=F=>{xe(F.id),Oe(!0),Ce(!1),h("watch-party"),localStorage.setItem("currentPage","watch-party");const H={page:"watch-party",selectedPlaylistId:K,selectedContentDetail:L,selectedUserId:A,currentWatchRoomId:F.id};window.history.pushState(H,"",window.location.pathname),console.log("    :",H)},ke=()=>{xe(null),Oe(!1),h("live"),localStorage.setItem("currentPage","live");const F={page:"live",selectedPlaylistId:K,selectedContentDetail:L,selectedUserId:A,currentWatchRoomId:null};window.history.pushState(F,"",window.location.pathname),console.log("    :",F)},Ue=()=>{Ce(!0)},ze=()=>{Ce(!1)},Ve=()=>{Te(null),se(!0)},Be=()=>{se(!1),Te(null)},Je=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Ze=F=>{z(F),h("user-profile"),localStorage.setItem("currentPage","user-profile");const H={page:"user-profile",selectedPlaylistId:K,selectedContentDetail:L,selectedUserId:F,currentWatchRoomId:ye};window.history.pushState(H,"",window.location.pathname),console.log("     :",H)},jr=()=>{n&&Ze(n)},q1=()=>{z(null),h("home"),localStorage.setItem("currentPage","home");const F={page:"home",selectedPlaylistId:K,selectedContentDetail:L,selectedUserId:null,currentWatchRoomId:ye};window.history.pushState(F,"",window.location.pathname),console.log("     :",F)},Q1=()=>{pe?(fe(!1),ve(null),oe(!0)):oe(!J)},J1=()=>{oe(!1)},vm=()=>{oe(!1),fe(!1),ve(null)},Z1=F=>{ve(F),oe(!1),fe(!0)},eS=()=>{fe(!1),ve(null)},tS=()=>{fe(!1),ve(null),oe(!0)},nS=()=>{(J||pe)&&vm()},rS=()=>{console.log("App.tsx - handleDMReceived "),console.log(" DM   - DM    "),We(F=>{const H=F+1;return console.log(`dmRefreshTrigger : ${F} -> ${H}`),H})};if(console.log(" isLoggedIn:",e),console.log(" pathname:",i),console.log(" searchParams:",a.toString()),console.log(" isSharedPlaylistPage:",u),!e&&!l&&!u)return console.log("   :",{isLoggedIn:e,accessToken:localStorage.getItem("accessToken"),userId:n}),o.jsx("div",{children:o.jsx(CE,{onLogin:qe,onToggleAuth:V,onForgotPassword:he,isRegister:ne})});const xm=()=>{switch(console.log("  :",f),f){case"curation":return o.jsx(AE,{onContentPlay:at,onContentDetail:Fe,onAddToPlaylist:vn,userId:n||void 0});case"movies":return o.jsx(Nu,{category:"movies",onContentPlay:at,onContentDetail:Fe,onAddToPlaylist:vn});case"tv":return o.jsx(Nu,{category:"tv",onContentPlay:at,onContentDetail:Fe,onAddToPlaylist:vn});case"sports":return o.jsx(Nu,{category:"sports",onContentPlay:at,onContentDetail:Fe,onAddToPlaylist:vn});case"playlist":return o.jsx(qp,{onPlaylistOpen:Ae,getPlaylists:N,createPlaylist:T,subscribePlaylist:I,unsubscribePlaylist:D,currentUserId:n||void 0,onUserProfileOpen:Ze});case"playlist-detail":return console.log(" renderCurrentPage - playlist-detail , selectedPlaylistId:",K),console.log(" renderCurrentPage - playlist-detail  ",{selectedPlaylistId:K,isSharedPlaylistPage:u}),u&&!K?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"  ..."}):K?o.jsx(sT,{playlistId:K,onBack:ie,onContentPlay:at,getPlaylistById:C,addPlaylistContents:_,deletePlaylistContents:E,currentUserId:n||void 0,isSharedAccess:nt}):o.jsx(qp,{onPlaylistOpen:Ae,getPlaylists:N,createPlaylist:T});case"content-detail":return L?o.jsx(pP,{content:L,onBack:jt,onPlay:at,currentUser:n?{id:n,name:"",avatar:void 0}:void 0}):nt?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:Qe,onPlaylistOpen:Ae,onContentPlay:at,onJoinRoom:me});case"watch-party":return ye&&n?o.jsx(r5,{roomId:ye,userId:n,onBack:ke,shouldConnect:ge,onUserProfileOpen:Ze}):nt?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:Qe,onPlaylistOpen:Ae,onContentPlay:at,onJoinRoom:me});case"user-profile":return A?o.jsx(A5,{userId:A,currentUserId:n,onBack:q1,authenticatedFetch:v,onUserProfileOpen:Ze},A):nt?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:Qe,onPlaylistOpen:Ae,onContentPlay:at,onJoinRoom:me});case"live":return o.jsx(s5,{onJoinRoom:me,onCreateRoom:Ue,currentUserId:n});default:return nt?o.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:o.jsx("p",{children:"  .   ."})}):o.jsx(Ri,{onPageChange:Qe,onPlaylistOpen:Ae,onContentPlay:at,onJoinRoom:me})}};return f==="watch-party"||f==="content-detail"||f==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[xm(),o.jsx(Yg,{isOpen:G,onClose:()=>O(!1),onCreateWatchParty:Nr,content:X}),o.jsx(Gg,{isOpen:q,onClose:vt,content:W,getPlaylists:N,createPlaylist:T,addPlaylistContents:_}),o.jsx(Xg,{isOpen:Ee,onClose:ze,onCreateRoom:we,userId:n||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(gE,{currentPage:f,onPageChange:Qe,onProfileClick:Ve,onMyProfileClick:jr,onCloseDM:vm,onLogout:bt,authenticatedFetch:v,userId:n,refreshUserProfile:Je,deleteNotification:y,deleteAllNotifications:S,refreshAccessToken:g,isSharedAccess:nt,onDMReceived:rS}),o.jsx("main",{className:"flex-1",onClick:nS,children:xm()}),o.jsx(vE,{}),o.jsx(gP,{isOpen:ee,onClose:Be,userId:n,targetUserId:ue,authenticatedFetch:v,onUserProfileOpen:Ze,refreshUserProfile:Je,onPlaylistOpen:Ae}),!nt&&o.jsxs(o.Fragment,{children:[o.jsx($P,{isOpen:J,onClose:J1,onOpenChat:Z1,authenticatedFetch:v,currentUserId:n,getDmRooms:k,getOrCreateDmRoom:P,refreshTrigger:je}),o.jsx(_3,{isOpen:pe,onClose:eS,onBack:tS,user:ce,currentUserId:n,getDmMessages:R,refreshTrigger:je})]}),o.jsx(Yg,{isOpen:G,onClose:()=>O(!1),onCreateWatchParty:Nr,content:X}),o.jsx(Gg,{isOpen:q,onClose:vt,content:W,getPlaylists:N,createPlaylist:T,addPlaylistContents:_}),o.jsx(Xg,{isOpen:Ee,onClose:ze,onCreateRoom:we,userId:n||""}),!nt&&o.jsx(B,{size:"lg",onClick:Q1,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${J||pe?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(Id,{className:"w-6 h-6"})}),o.jsx(uk,{richColors:!0,position:"top-center"})]})}Mu.createRoot(document.getElementById("root")).render(o.jsx(te.StrictMode,{children:o.jsx(rC,{children:o.jsx(I5,{})})}));
