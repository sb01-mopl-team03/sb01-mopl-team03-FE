var ub=Object.defineProperty;var db=(e,t,n)=>t in e?ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qe=(e,t,n)=>db(e,typeof t!="symbol"?t+"":t,n);function fb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Id(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qp={exports:{}},Sl={},Qp={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=Symbol.for("react.element"),mb=Symbol.for("react.portal"),pb=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),vb=Symbol.for("react.profiler"),xb=Symbol.for("react.provider"),yb=Symbol.for("react.context"),wb=Symbol.for("react.forward_ref"),bb=Symbol.for("react.suspense"),jb=Symbol.for("react.memo"),Nb=Symbol.for("react.lazy"),Th=Symbol.iterator;function Sb(e){return e===null||typeof e!="object"?null:(e=Th&&e[Th]||e["@@iterator"],typeof e=="function"?e:null)}var Jp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zp=Object.assign,eg={};function ro(e,t,n){this.props=e,this.context=t,this.refs=eg,this.updater=n||Jp}ro.prototype.isReactComponent={};ro.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tg(){}tg.prototype=ro.prototype;function Od(e,t,n){this.props=e,this.context=t,this.refs=eg,this.updater=n||Jp}var Dd=Od.prototype=new tg;Dd.constructor=Od;Zp(Dd,ro.prototype);Dd.isPureReactComponent=!0;var _h=Array.isArray,ng=Object.prototype.hasOwnProperty,Ld={current:null},rg={key:!0,ref:!0,__self:!0,__source:!0};function sg(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)ng.call(t,r)&&!rg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ni,type:e,key:i,ref:a,props:s,_owner:Ld.current}}function kb(e,t){return{$$typeof:Ni,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Md(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ni}function Cb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rh=/\/+/g;function fc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cb(""+e.key):t.toString(36)}function ka(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ni:case mb:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+fc(a,0):r,_h(s)?(n="",e!=null&&(n=e.replace(Rh,"$&/")+"/"),ka(s,t,n,"",function(u){return u})):s!=null&&(Md(s)&&(s=kb(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Rh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",_h(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+fc(i,l);a+=ka(i,t,n,c,s)}else if(c=Sb(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+fc(i,l++),a+=ka(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Hi(e,t,n){if(e==null)return e;var r=[],s=0;return ka(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Eb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},Ca={transition:null},Tb={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:Ld};function og(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Hi,forEach:function(e,t,n){Hi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hi(e,function(){t++}),t},toArray:function(e){return Hi(e,function(t){return t})||[]},only:function(e){if(!Md(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=ro;ve.Fragment=pb;ve.Profiler=vb;ve.PureComponent=Od;ve.StrictMode=gb;ve.Suspense=bb;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tb;ve.act=og;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ld.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ng.call(t,c)&&!rg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ni,type:e.type,key:s,ref:i,props:r,_owner:a}};ve.createContext=function(e){return e={$$typeof:yb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xb,_context:e},e.Consumer=e};ve.createElement=sg;ve.createFactory=function(e){var t=sg.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:wb,render:e}};ve.isValidElement=Md;ve.lazy=function(e){return{$$typeof:Nb,_payload:{_status:-1,_result:e},_init:Eb}};ve.memo=function(e,t){return{$$typeof:jb,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Ca.transition;Ca.transition={};try{e()}finally{Ca.transition=t}};ve.unstable_act=og;ve.useCallback=function(e,t){return Tt.current.useCallback(e,t)};ve.useContext=function(e){return Tt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Tt.current.useEffect(e,t)};ve.useId=function(){return Tt.current.useId()};ve.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Tt.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};ve.useRef=function(e){return Tt.current.useRef(e)};ve.useState=function(e){return Tt.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return Tt.current.useTransition()};ve.version="18.3.1";Qp.exports=ve;var d=Qp.exports;const Vn=Id(d),ig=fb({__proto__:null,default:Vn},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b=d,Rb=Symbol.for("react.element"),Pb=Symbol.for("react.fragment"),Ab=Object.prototype.hasOwnProperty,Ib=_b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ob={key:!0,ref:!0,__self:!0,__source:!0};function ag(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Ab.call(t,r)&&!Ob.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Rb,type:e,key:i,ref:a,props:s,_owner:Ib.current}}Sl.Fragment=Pb;Sl.jsx=ag;Sl.jsxs=ag;qp.exports=Sl;var o=qp.exports,cu={},lg={exports:{}},Kt={},cg={exports:{}},ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,W){var H=P.length;P.push(W);e:for(;0<H;){var q=H-1>>>1,ee=P[q];if(0<s(ee,W))P[q]=W,P[H]=ee,H=q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var W=P[0],H=P.pop();if(H!==W){P[0]=H;e:for(var q=0,ee=P.length,ae=ee>>>1;q<ae;){var we=2*(q+1)-1,Te=P[we],_e=we+1,ne=P[_e];if(0>s(Te,H))_e<ee&&0>s(ne,Te)?(P[q]=ne,P[_e]=H,q=_e):(P[q]=Te,P[we]=H,q=we);else if(_e<ee&&0>s(ne,H))P[q]=ne,P[_e]=H,q=_e;else break e}}return W}function s(P,W){var H=P.sortIndex-W.sortIndex;return H!==0?H:P.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,y=!1,b=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=P)r(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=n(u)}}function N(P){if(x=!1,g(P),!b)if(n(c)!==null)b=!0,_(j);else{var W=n(u);W!==null&&B(N,W.startTime-P)}}function j(P,W){b=!1,x&&(x=!1,v(E),E=-1),y=!0;var H=m;try{for(g(W),f=n(c);f!==null&&(!(f.expirationTime>W)||P&&!$());){var q=f.callback;if(typeof q=="function"){f.callback=null,m=f.priorityLevel;var ee=q(f.expirationTime<=W);W=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),g(W)}else r(c);f=n(c)}if(f!==null)var ae=!0;else{var we=n(u);we!==null&&B(N,we.startTime-W),ae=!1}return ae}finally{f=null,m=H,y=!1}}var k=!1,C=null,E=-1,R=5,I=-1;function $(){return!(e.unstable_now()-I<R)}function w(){if(C!==null){var P=e.unstable_now();I=P;var W=!0;try{W=C(!0,P)}finally{W?T():(k=!1,C=null)}}else k=!1}var T;if(typeof p=="function")T=function(){p(w)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=w,T=function(){F.postMessage(null)}}else T=function(){S(w,0)};function _(P){C=P,k||(k=!0,T())}function B(P,W){E=S(function(){P(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,_(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var H=m;m=W;try{return P()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=m;m=P;try{return W()}finally{m=H}},e.unstable_scheduleCallback=function(P,W,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,P){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,P={id:h++,callback:W,priorityLevel:P,startTime:H,expirationTime:ee,sortIndex:-1},H>q?(P.sortIndex=H,t(u,P),n(c)===null&&P===n(u)&&(x?(v(E),E=-1):x=!0,B(N,H-q))):(P.sortIndex=ee,t(c,P),b||y||(b=!0,_(j))),P},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(P){var W=m;return function(){var H=m;m=W;try{return P.apply(this,arguments)}finally{m=H}}}})(ug);cg.exports=ug;var Db=cg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=d,Ht=Db;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dg=new Set,Jo={};function us(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(Jo[e]=t,e=0;e<t.length;e++)dg.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=Object.prototype.hasOwnProperty,Mb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ph={},Ah={};function $b(e){return uu.call(Ah,e)?!0:uu.call(Ph,e)?!1:Mb.test(e)?Ah[e]=!0:(Ph[e]=!0,!1)}function zb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fb(e,t,n,r){if(t===null||typeof t>"u"||zb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var $d=/[\-:]([a-z])/g;function zd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($d,zd);mt[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($d,zd);mt[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($d,zd);mt[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fd(e,t,n,r){var s=mt.hasOwnProperty(t)?mt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fb(t,n,s,r)&&(n=null),r||s===null?$b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sr=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ki=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Ud=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),fg=Symbol.for("react.provider"),hg=Symbol.for("react.context"),Bd=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),Wd=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),mg=Symbol.for("react.offscreen"),Ih=Symbol.iterator;function yo(e){return e===null||typeof e!="object"?null:(e=Ih&&e[Ih]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,hc;function Ao(e){if(hc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hc=t&&t[1]||""}return`
`+hc+e}var mc=!1;function pc(e,t){if(!e||mc)return"";mc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{mc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ao(e):""}function Ub(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=pc(e.type,!1),e;case 11:return e=pc(e.type.render,!1),e;case 1:return e=pc(e.type,!0),e;default:return""}}function mu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cs:return"Fragment";case ks:return"Portal";case du:return"Profiler";case Ud:return"StrictMode";case fu:return"Suspense";case hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hg:return(e.displayName||"Context")+".Consumer";case fg:return(e._context.displayName||"Context")+".Provider";case Bd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wd:return t=e.displayName||null,t!==null?t:mu(e.type)||"Memo";case fr:t=e._payload,e=e._init;try{return mu(e(t))}catch{}}return null}function Bb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mu(t);case 8:return t===Ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wb(e){var t=pg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){e._valueTracker||(e._valueTracker=Wb(e))}function gg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pu(e,t){var n=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Oh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vg(e,t){t=t.checked,t!=null&&Fd(e,"checked",t,!1)}function gu(e,t){vg(e,t);var n=Rr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vu(e,t.type,n):t.hasOwnProperty("defaultValue")&&vu(e,t.type,Rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vu(e,t,n){(t!=="number"||Fa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Io=Array.isArray;function Ms(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Io(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rr(n)}}function xg(e,t){var n=Rr(t.value),r=Rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yi,wg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vb=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(e){Vb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fo[t]=Fo[e]})});function bg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fo.hasOwnProperty(e)&&Fo[e]?(""+t).trim():t+"px"}function jg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hb=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wu(e,t){if(t){if(Hb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function bu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=null;function Vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nu=null,$s=null,zs=null;function $h(e){if(e=Ci(e)){if(typeof Nu!="function")throw Error(K(280));var t=e.stateNode;t&&(t=_l(t),Nu(e.stateNode,e.type,t))}}function Ng(e){$s?zs?zs.push(e):zs=[e]:$s=e}function Sg(){if($s){var e=$s,t=zs;if(zs=$s=null,$h(e),t)for(e=0;e<t.length;e++)$h(t[e])}}function kg(e,t){return e(t)}function Cg(){}var gc=!1;function Eg(e,t,n){if(gc)return e(t,n);gc=!0;try{return kg(e,t,n)}finally{gc=!1,($s!==null||zs!==null)&&(Cg(),Sg())}}function ei(e,t){var n=e.stateNode;if(n===null)return null;var r=_l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Su=!1;if(Qn)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Su=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Su=!1}function Kb(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Uo=!1,Ua=null,Ba=!1,ku=null,Gb={onError:function(e){Uo=!0,Ua=e}};function Yb(e,t,n,r,s,i,a,l,c){Uo=!1,Ua=null,Kb.apply(Gb,arguments)}function Xb(e,t,n,r,s,i,a,l,c){if(Yb.apply(this,arguments),Uo){if(Uo){var u=Ua;Uo=!1,Ua=null}else throw Error(K(198));Ba||(Ba=!0,ku=u)}}function ds(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zh(e){if(ds(e)!==e)throw Error(K(188))}function qb(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zh(s),e;if(i===r)return zh(s),t;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function _g(e){return e=qb(e),e!==null?Rg(e):null}function Rg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rg(e);if(t!==null)return t;e=e.sibling}return null}var Pg=Ht.unstable_scheduleCallback,Fh=Ht.unstable_cancelCallback,Qb=Ht.unstable_shouldYield,Jb=Ht.unstable_requestPaint,Ge=Ht.unstable_now,Zb=Ht.unstable_getCurrentPriorityLevel,Hd=Ht.unstable_ImmediatePriority,Ag=Ht.unstable_UserBlockingPriority,Wa=Ht.unstable_NormalPriority,e1=Ht.unstable_LowPriority,Ig=Ht.unstable_IdlePriority,kl=null,Pn=null;function t1(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(kl,e,void 0,(e.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:s1,n1=Math.log,r1=Math.LN2;function s1(e){return e>>>=0,e===0?32:31-(n1(e)/r1|0)|0}var Xi=64,qi=4194304;function Oo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Va(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Oo(l):(i&=a,i!==0&&(r=Oo(i)))}else a=n&~s,a!==0?r=Oo(a):i!==0&&(r=Oo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gn(t),s=1<<n,r|=e[n],t&=~s;return r}function o1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-gn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=o1(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Cu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Og(){var e=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),e}function vc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gn(t),e[t]=n}function a1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Kd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ee=0;function Dg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lg,Gd,Mg,$g,zg,Eu=!1,Qi=[],br=null,jr=null,Nr=null,ti=new Map,ni=new Map,pr=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uh(e,t){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(t.pointerId)}}function bo(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ci(t),t!==null&&Gd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function c1(e,t,n,r,s){switch(t){case"focusin":return br=bo(br,e,t,n,r,s),!0;case"dragenter":return jr=bo(jr,e,t,n,r,s),!0;case"mouseover":return Nr=bo(Nr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ti.set(i,bo(ti.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ni.set(i,bo(ni.get(i)||null,e,t,n,r,s)),!0}return!1}function Fg(e){var t=Kr(e.target);if(t!==null){var n=ds(t);if(n!==null){if(t=n.tag,t===13){if(t=Tg(n),t!==null){e.blockedOn=t,zg(e.priority,function(){Mg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ju=r,n.target.dispatchEvent(r),ju=null}else return t=Ci(n),t!==null&&Gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Bh(e,t,n){Ea(e)&&n.delete(t)}function u1(){Eu=!1,br!==null&&Ea(br)&&(br=null),jr!==null&&Ea(jr)&&(jr=null),Nr!==null&&Ea(Nr)&&(Nr=null),ti.forEach(Bh),ni.forEach(Bh)}function jo(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,u1)))}function ri(e){function t(s){return jo(s,e)}if(0<Qi.length){jo(Qi[0],e);for(var n=1;n<Qi.length;n++){var r=Qi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(br!==null&&jo(br,e),jr!==null&&jo(jr,e),Nr!==null&&jo(Nr,e),ti.forEach(t),ni.forEach(t),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)Fg(n),n.blockedOn===null&&pr.shift()}var Fs=sr.ReactCurrentBatchConfig,Ha=!0;function d1(e,t,n,r){var s=Ee,i=Fs.transition;Fs.transition=null;try{Ee=1,Yd(e,t,n,r)}finally{Ee=s,Fs.transition=i}}function f1(e,t,n,r){var s=Ee,i=Fs.transition;Fs.transition=null;try{Ee=4,Yd(e,t,n,r)}finally{Ee=s,Fs.transition=i}}function Yd(e,t,n,r){if(Ha){var s=Tu(e,t,n,r);if(s===null)Ec(e,t,r,Ka,n),Uh(e,r);else if(c1(s,e,t,n,r))r.stopPropagation();else if(Uh(e,r),t&4&&-1<l1.indexOf(e)){for(;s!==null;){var i=Ci(s);if(i!==null&&Lg(i),i=Tu(e,t,n,r),i===null&&Ec(e,t,r,Ka,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ec(e,t,r,null,n)}}var Ka=null;function Tu(e,t,n,r){if(Ka=null,e=Vd(r),e=Kr(e),e!==null)if(t=ds(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ka=e,null}function Ug(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zb()){case Hd:return 1;case Ag:return 4;case Wa:case e1:return 16;case Ig:return 536870912;default:return 16}default:return 16}}var yr=null,Xd=null,Ta=null;function Bg(){if(Ta)return Ta;var e,t=Xd,n=t.length,r,s="value"in yr?yr.value:yr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Ta=s.slice(e,1<r?1-r:void 0)}function _a(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function Wh(){return!1}function Gt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ji:Wh,this.isPropagationStopped=Wh,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),t}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=Gt(so),ki=We({},so,{view:0,detail:0}),h1=Gt(ki),xc,yc,No,Cl=We({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(xc=e.screenX-No.screenX,yc=e.screenY-No.screenY):yc=xc=0,No=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:yc}}),Vh=Gt(Cl),m1=We({},Cl,{dataTransfer:0}),p1=Gt(m1),g1=We({},ki,{relatedTarget:0}),wc=Gt(g1),v1=We({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),x1=Gt(v1),y1=We({},so,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w1=Gt(y1),b1=We({},so,{data:0}),Hh=Gt(b1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S1[e])?!!t[e]:!1}function Qd(){return k1}var C1=We({},ki,{key:function(e){if(e.key){var t=j1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(e){return e.type==="keypress"?_a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E1=Gt(C1),T1=We({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kh=Gt(T1),_1=We({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),R1=Gt(_1),P1=We({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),A1=Gt(P1),I1=We({},Cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O1=Gt(I1),D1=[9,13,27,32],Jd=Qn&&"CompositionEvent"in window,Bo=null;Qn&&"documentMode"in document&&(Bo=document.documentMode);var L1=Qn&&"TextEvent"in window&&!Bo,Wg=Qn&&(!Jd||Bo&&8<Bo&&11>=Bo),Gh=" ",Yh=!1;function Vg(e,t){switch(e){case"keyup":return D1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function M1(e,t){switch(e){case"compositionend":return Hg(t);case"keypress":return t.which!==32?null:(Yh=!0,Gh);case"textInput":return e=t.data,e===Gh&&Yh?null:e;default:return null}}function $1(e,t){if(Es)return e==="compositionend"||!Jd&&Vg(e,t)?(e=Bg(),Ta=Xd=yr=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wg&&t.locale!=="ko"?null:t.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z1[e.type]:t==="textarea"}function Kg(e,t,n,r){Ng(r),t=Ga(t,"onChange"),0<t.length&&(n=new qd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wo=null,si=null;function F1(e){rv(e,0)}function El(e){var t=Rs(e);if(gg(t))return e}function U1(e,t){if(e==="change")return t}var Gg=!1;if(Qn){var bc;if(Qn){var jc="oninput"in document;if(!jc){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),jc=typeof qh.oninput=="function"}bc=jc}else bc=!1;Gg=bc&&(!document.documentMode||9<document.documentMode)}function Qh(){Wo&&(Wo.detachEvent("onpropertychange",Yg),si=Wo=null)}function Yg(e){if(e.propertyName==="value"&&El(si)){var t=[];Kg(t,si,e,Vd(e)),Eg(F1,t)}}function B1(e,t,n){e==="focusin"?(Qh(),Wo=t,si=n,Wo.attachEvent("onpropertychange",Yg)):e==="focusout"&&Qh()}function W1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(si)}function V1(e,t){if(e==="click")return El(t)}function H1(e,t){if(e==="input"||e==="change")return El(t)}function K1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:K1;function oi(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!uu.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function Jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zh(e,t){var n=Jh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jh(n)}}function Xg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qg(){for(var e=window,t=Fa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fa(e.document)}return t}function Zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function G1(e){var t=qg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xg(n.ownerDocument.documentElement,n)){if(r!==null&&Zd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Zh(n,i);var a=Zh(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y1=Qn&&"documentMode"in document&&11>=document.documentMode,Ts=null,_u=null,Vo=null,Ru=!1;function em(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ru||Ts==null||Ts!==Fa(r)||(r=Ts,"selectionStart"in r&&Zd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vo&&oi(Vo,r)||(Vo=r,r=Ga(_u,"onSelect"),0<r.length&&(t=new qd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ts)))}function Zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _s={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Nc={},Qg={};Qn&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Tl(e){if(Nc[e])return Nc[e];if(!_s[e])return e;var t=_s[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qg)return Nc[e]=t[n];return e}var Jg=Tl("animationend"),Zg=Tl("animationiteration"),ev=Tl("animationstart"),tv=Tl("transitionend"),nv=new Map,tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){nv.set(e,t),us(t,[e])}for(var Sc=0;Sc<tm.length;Sc++){var kc=tm[Sc],X1=kc.toLowerCase(),q1=kc[0].toUpperCase()+kc.slice(1);Lr(X1,"on"+q1)}Lr(Jg,"onAnimationEnd");Lr(Zg,"onAnimationIteration");Lr(ev,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(tv,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function nm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xb(r,t,void 0,e),e.currentTarget=null}function rv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;nm(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;nm(s,l,u),i=c}}}if(Ba)throw e=ku,Ba=!1,ku=null,e}function Ae(e,t){var n=t[Du];n===void 0&&(n=t[Du]=new Set);var r=e+"__bubble";n.has(r)||(sv(t,e,2,!1),n.add(r))}function Cc(e,t,n){var r=0;t&&(r|=4),sv(n,e,r,t)}var ea="_reactListening"+Math.random().toString(36).slice(2);function ii(e){if(!e[ea]){e[ea]=!0,dg.forEach(function(n){n!=="selectionchange"&&(Q1.has(n)||Cc(n,!1,e),Cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ea]||(t[ea]=!0,Cc("selectionchange",!1,t))}}function sv(e,t,n,r){switch(Ug(t)){case 1:var s=d1;break;case 4:s=f1;break;default:s=Yd}n=s.bind(null,t,n,e),s=void 0,!Su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ec(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Kr(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Eg(function(){var u=i,h=Vd(n),f=[];e:{var m=nv.get(e);if(m!==void 0){var y=qd,b=e;switch(e){case"keypress":if(_a(n)===0)break e;case"keydown":case"keyup":y=E1;break;case"focusin":b="focus",y=wc;break;case"focusout":b="blur",y=wc;break;case"beforeblur":case"afterblur":y=wc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=p1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=R1;break;case Jg:case Zg:case ev:y=x1;break;case tv:y=A1;break;case"scroll":y=h1;break;case"wheel":y=O1;break;case"copy":case"cut":case"paste":y=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Kh}var x=(t&4)!==0,S=!x&&e==="scroll",v=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,g;p!==null;){g=p;var N=g.stateNode;if(g.tag===5&&N!==null&&(g=N,v!==null&&(N=ei(p,v),N!=null&&x.push(ai(p,N,g)))),S)break;p=p.return}0<x.length&&(m=new y(m,b,null,n,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==ju&&(b=n.relatedTarget||n.fromElement)&&(Kr(b)||b[Jn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?Kr(b):null,b!==null&&(S=ds(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(x=Vh,N="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Kh,N="onPointerLeave",v="onPointerEnter",p="pointer"),S=y==null?m:Rs(y),g=b==null?m:Rs(b),m=new x(N,p+"leave",y,n,h),m.target=S,m.relatedTarget=g,N=null,Kr(h)===u&&(x=new x(v,p+"enter",b,n,h),x.target=g,x.relatedTarget=S,N=x),S=N,y&&b)t:{for(x=y,v=b,p=0,g=x;g;g=ws(g))p++;for(g=0,N=v;N;N=ws(N))g++;for(;0<p-g;)x=ws(x),p--;for(;0<g-p;)v=ws(v),g--;for(;p--;){if(x===v||v!==null&&x===v.alternate)break t;x=ws(x),v=ws(v)}x=null}else x=null;y!==null&&rm(f,m,y,x,!1),b!==null&&S!==null&&rm(f,S,b,x,!0)}}e:{if(m=u?Rs(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var j=U1;else if(Xh(m))if(Gg)j=H1;else{j=W1;var k=B1}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=V1);if(j&&(j=j(e,u))){Kg(f,j,n,h);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&vu(m,"number",m.value)}switch(k=u?Rs(u):window,e){case"focusin":(Xh(k)||k.contentEditable==="true")&&(Ts=k,_u=u,Vo=null);break;case"focusout":Vo=_u=Ts=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,em(f,n,h);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":em(f,n,h)}var C;if(Jd)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Es?Vg(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Wg&&n.locale!=="ko"&&(Es||E!=="onCompositionStart"?E==="onCompositionEnd"&&Es&&(C=Bg()):(yr=h,Xd="value"in yr?yr.value:yr.textContent,Es=!0)),k=Ga(u,E),0<k.length&&(E=new Hh(E,e,null,n,h),f.push({event:E,listeners:k}),C?E.data=C:(C=Hg(n),C!==null&&(E.data=C)))),(C=L1?M1(e,n):$1(e,n))&&(u=Ga(u,"onBeforeInput"),0<u.length&&(h=new Hh("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=C))}rv(f,t)})}function ai(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ga(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ei(e,n),i!=null&&r.unshift(ai(e,i,s)),i=ei(e,t),i!=null&&r.push(ai(e,i,s))),e=e.return}return r}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rm(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ei(n,i),c!=null&&a.unshift(ai(n,c,l))):s||(c=ei(n,i),c!=null&&a.push(ai(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var J1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function sm(e){return(typeof e=="string"?e:""+e).replace(J1,`
`).replace(Z1,"")}function ta(e,t,n){if(t=sm(t),sm(e)!==t&&n)throw Error(K(425))}function Ya(){}var Pu=null,Au=null;function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,ej=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,tj=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(e){return om.resolve(null).then(e).catch(nj)}:Ou;function nj(e){setTimeout(function(){throw e})}function Tc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ri(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ri(t)}function Sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function im(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oo=Math.random().toString(36).slice(2),En="__reactFiber$"+oo,li="__reactProps$"+oo,Jn="__reactContainer$"+oo,Du="__reactEvents$"+oo,rj="__reactListeners$"+oo,sj="__reactHandles$"+oo;function Kr(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[En]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=im(e);e!==null;){if(n=e[En])return n;e=im(e)}return t}e=n,n=e.parentNode}return null}function Ci(e){return e=e[En]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function _l(e){return e[li]||null}var Lu=[],Ps=-1;function Mr(e){return{current:e}}function Ie(e){0>Ps||(e.current=Lu[Ps],Lu[Ps]=null,Ps--)}function Re(e,t){Ps++,Lu[Ps]=e.current,e.current=t}var Pr={},wt=Mr(Pr),Ot=Mr(!1),es=Pr;function Gs(e,t){var n=e.type.contextTypes;if(!n)return Pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(e){return e=e.childContextTypes,e!=null}function Xa(){Ie(Ot),Ie(wt)}function am(e,t,n){if(wt.current!==Pr)throw Error(K(168));Re(wt,t),Re(Ot,n)}function ov(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,Bb(e)||"Unknown",s));return We({},n,r)}function qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,es=wt.current,Re(wt,e),Re(Ot,Ot.current),!0}function lm(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=ov(e,t,es),r.__reactInternalMemoizedMergedChildContext=e,Ie(Ot),Ie(wt),Re(wt,e)):Ie(Ot),Re(Ot,n)}var Kn=null,Rl=!1,_c=!1;function iv(e){Kn===null?Kn=[e]:Kn.push(e)}function oj(e){Rl=!0,iv(e)}function $r(){if(!_c&&Kn!==null){_c=!0;var e=0,t=Ee;try{var n=Kn;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kn=null,Rl=!1}catch(s){throw Kn!==null&&(Kn=Kn.slice(e+1)),Pg(Hd,$r),s}finally{Ee=t,_c=!1}}return null}var As=[],Is=0,Qa=null,Ja=0,qt=[],Qt=0,ts=null,Gn=1,Yn="";function Wr(e,t){As[Is++]=Ja,As[Is++]=Qa,Qa=e,Ja=t}function av(e,t,n){qt[Qt++]=Gn,qt[Qt++]=Yn,qt[Qt++]=ts,ts=e;var r=Gn;e=Yn;var s=32-gn(r)-1;r&=~(1<<s),n+=1;var i=32-gn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Gn=1<<32-gn(t)+s|n<<s|r,Yn=i+e}else Gn=1<<i|n<<s|r,Yn=e}function ef(e){e.return!==null&&(Wr(e,1),av(e,1,0))}function tf(e){for(;e===Qa;)Qa=As[--Is],As[Is]=null,Ja=As[--Is],As[Is]=null;for(;e===ts;)ts=qt[--Qt],qt[Qt]=null,Yn=qt[--Qt],qt[Qt]=null,Gn=qt[--Qt],qt[Qt]=null}var Bt=null,Ut=null,Le=!1,pn=null;function lv(e,t){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=Sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ts!==null?{id:Gn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,Ut=null,!0):!1;default:return!1}}function Mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $u(e){if(Le){var t=Ut;if(t){var n=t;if(!cm(e,t)){if(Mu(e))throw Error(K(418));t=Sr(n.nextSibling);var r=Bt;t&&cm(e,t)?lv(r,n):(e.flags=e.flags&-4097|2,Le=!1,Bt=e)}}else{if(Mu(e))throw Error(K(418));e.flags=e.flags&-4097|2,Le=!1,Bt=e}}}function um(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function na(e){if(e!==Bt)return!1;if(!Le)return um(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Iu(e.type,e.memoizedProps)),t&&(t=Ut)){if(Mu(e))throw cv(),Error(K(418));for(;t;)lv(e,t),t=Sr(t.nextSibling)}if(um(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Sr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Bt?Sr(e.stateNode.nextSibling):null;return!0}function cv(){for(var e=Ut;e;)e=Sr(e.nextSibling)}function Ys(){Ut=Bt=null,Le=!1}function nf(e){pn===null?pn=[e]:pn.push(e)}var ij=sr.ReactCurrentBatchConfig;function So(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function ra(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dm(e){var t=e._init;return t(e._payload)}function uv(e){function t(v,p){if(e){var g=v.deletions;g===null?(v.deletions=[p],v.flags|=16):g.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=Tr(v,p),v.index=0,v.sibling=null,v}function i(v,p,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<p?(v.flags|=2,p):g):(v.flags|=2,p)):(v.flags|=1048576,p)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,p,g,N){return p===null||p.tag!==6?(p=Lc(g,v.mode,N),p.return=v,p):(p=s(p,g),p.return=v,p)}function c(v,p,g,N){var j=g.type;return j===Cs?h(v,p,g.props.children,N,g.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===fr&&dm(j)===p.type)?(N=s(p,g.props),N.ref=So(v,p,g),N.return=v,N):(N=La(g.type,g.key,g.props,null,v.mode,N),N.ref=So(v,p,g),N.return=v,N)}function u(v,p,g,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Mc(g,v.mode,N),p.return=v,p):(p=s(p,g.children||[]),p.return=v,p)}function h(v,p,g,N,j){return p===null||p.tag!==7?(p=Jr(g,v.mode,N,j),p.return=v,p):(p=s(p,g),p.return=v,p)}function f(v,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lc(""+p,v.mode,g),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ki:return g=La(p.type,p.key,p.props,null,v.mode,g),g.ref=So(v,null,p),g.return=v,g;case ks:return p=Mc(p,v.mode,g),p.return=v,p;case fr:var N=p._init;return f(v,N(p._payload),g)}if(Io(p)||yo(p))return p=Jr(p,v.mode,g,null),p.return=v,p;ra(v,p)}return null}function m(v,p,g,N){var j=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(v,p,""+g,N);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ki:return g.key===j?c(v,p,g,N):null;case ks:return g.key===j?u(v,p,g,N):null;case fr:return j=g._init,m(v,p,j(g._payload),N)}if(Io(g)||yo(g))return j!==null?null:h(v,p,g,N,null);ra(v,g)}return null}function y(v,p,g,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(g)||null,l(p,v,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ki:return v=v.get(N.key===null?g:N.key)||null,c(p,v,N,j);case ks:return v=v.get(N.key===null?g:N.key)||null,u(p,v,N,j);case fr:var k=N._init;return y(v,p,g,k(N._payload),j)}if(Io(N)||yo(N))return v=v.get(g)||null,h(p,v,N,j,null);ra(p,N)}return null}function b(v,p,g,N){for(var j=null,k=null,C=p,E=p=0,R=null;C!==null&&E<g.length;E++){C.index>E?(R=C,C=null):R=C.sibling;var I=m(v,C,g[E],N);if(I===null){C===null&&(C=R);break}e&&C&&I.alternate===null&&t(v,C),p=i(I,p,E),k===null?j=I:k.sibling=I,k=I,C=R}if(E===g.length)return n(v,C),Le&&Wr(v,E),j;if(C===null){for(;E<g.length;E++)C=f(v,g[E],N),C!==null&&(p=i(C,p,E),k===null?j=C:k.sibling=C,k=C);return Le&&Wr(v,E),j}for(C=r(v,C);E<g.length;E++)R=y(C,v,E,g[E],N),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?E:R.key),p=i(R,p,E),k===null?j=R:k.sibling=R,k=R);return e&&C.forEach(function($){return t(v,$)}),Le&&Wr(v,E),j}function x(v,p,g,N){var j=yo(g);if(typeof j!="function")throw Error(K(150));if(g=j.call(g),g==null)throw Error(K(151));for(var k=j=null,C=p,E=p=0,R=null,I=g.next();C!==null&&!I.done;E++,I=g.next()){C.index>E?(R=C,C=null):R=C.sibling;var $=m(v,C,I.value,N);if($===null){C===null&&(C=R);break}e&&C&&$.alternate===null&&t(v,C),p=i($,p,E),k===null?j=$:k.sibling=$,k=$,C=R}if(I.done)return n(v,C),Le&&Wr(v,E),j;if(C===null){for(;!I.done;E++,I=g.next())I=f(v,I.value,N),I!==null&&(p=i(I,p,E),k===null?j=I:k.sibling=I,k=I);return Le&&Wr(v,E),j}for(C=r(v,C);!I.done;E++,I=g.next())I=y(C,v,E,I.value,N),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?E:I.key),p=i(I,p,E),k===null?j=I:k.sibling=I,k=I);return e&&C.forEach(function(w){return t(v,w)}),Le&&Wr(v,E),j}function S(v,p,g,N){if(typeof g=="object"&&g!==null&&g.type===Cs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ki:e:{for(var j=g.key,k=p;k!==null;){if(k.key===j){if(j=g.type,j===Cs){if(k.tag===7){n(v,k.sibling),p=s(k,g.props.children),p.return=v,v=p;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===fr&&dm(j)===k.type){n(v,k.sibling),p=s(k,g.props),p.ref=So(v,k,g),p.return=v,v=p;break e}n(v,k);break}else t(v,k);k=k.sibling}g.type===Cs?(p=Jr(g.props.children,v.mode,N,g.key),p.return=v,v=p):(N=La(g.type,g.key,g.props,null,v.mode,N),N.ref=So(v,p,g),N.return=v,v=N)}return a(v);case ks:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(v,p.sibling),p=s(p,g.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=Mc(g,v.mode,N),p.return=v,v=p}return a(v);case fr:return k=g._init,S(v,p,k(g._payload),N)}if(Io(g))return b(v,p,g,N);if(yo(g))return x(v,p,g,N);ra(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(v,p.sibling),p=s(p,g),p.return=v,v=p):(n(v,p),p=Lc(g,v.mode,N),p.return=v,v=p),a(v)):n(v,p)}return S}var Xs=uv(!0),dv=uv(!1),Za=Mr(null),el=null,Os=null,rf=null;function sf(){rf=Os=el=null}function of(e){var t=Za.current;Ie(Za),e._currentValue=t}function zu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){el=e,rf=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(It=!0),e.firstContext=null)}function tn(e){var t=e._currentValue;if(rf!==e)if(e={context:e,memoizedValue:t,next:null},Os===null){if(el===null)throw Error(K(308));Os=e,el.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Gr=null;function af(e){Gr===null?Gr=[e]:Gr.push(e)}function fv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,af(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hr=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Zn(e,n)}return s=r.interleaved,s===null?(t.next=t,af(r)):(t.next=s.next,s.next=t),r.interleaved=t,Zn(e,n)}function Ra(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kd(e,n)}}function fm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tl(e,t,n,r){var s=e.updateQueue;hr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,x=l;switch(m=t,y=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(y,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,m=typeof b=="function"?b.call(y,f,m):b,m==null)break e;f=We({},f,m);break e;case 2:hr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);rs|=a,e.lanes=a,e.memoizedState=f}}function hm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Ei={},An=Mr(Ei),ci=Mr(Ei),ui=Mr(Ei);function Yr(e){if(e===Ei)throw Error(K(174));return e}function cf(e,t){switch(Re(ui,t),Re(ci,e),Re(An,Ei),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yu(t,e)}Ie(An),Re(An,t)}function qs(){Ie(An),Ie(ci),Ie(ui)}function mv(e){Yr(ui.current);var t=Yr(An.current),n=yu(t,e.type);t!==n&&(Re(ci,e),Re(An,n))}function uf(e){ci.current===e&&(Ie(An),Ie(ci))}var Ue=Mr(0);function nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rc=[];function df(){for(var e=0;e<Rc.length;e++)Rc[e]._workInProgressVersionPrimary=null;Rc.length=0}var Pa=sr.ReactCurrentDispatcher,Pc=sr.ReactCurrentBatchConfig,ns=0,Be=null,tt=null,ot=null,rl=!1,Ho=!1,di=0,aj=0;function pt(){throw Error(K(321))}function ff(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function hf(e,t,n,r,s,i){if(ns=i,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pa.current=e===null||e.memoizedState===null?dj:fj,e=n(r,s),Ho){i=0;do{if(Ho=!1,di=0,25<=i)throw Error(K(301));i+=1,ot=tt=null,t.updateQueue=null,Pa.current=hj,e=n(r,s)}while(Ho)}if(Pa.current=sl,t=tt!==null&&tt.next!==null,ns=0,ot=tt=Be=null,rl=!1,t)throw Error(K(300));return e}function mf(){var e=di!==0;return di=0,e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Be.memoizedState=ot=e:ot=ot.next=e,ot}function nn(){if(tt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=ot===null?Be.memoizedState:ot.next;if(t!==null)ot=t,tt=e;else{if(e===null)throw Error(K(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?Be.memoizedState=ot=e:ot=ot.next=e}return ot}function fi(e,t){return typeof t=="function"?t(e):t}function Ac(e){var t=nn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((ns&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Be.lanes|=h,rs|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,xn(r,t.memoizedState)||(It=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Be.lanes|=i,rs|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ic(e){var t=nn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);xn(i,t.memoizedState)||(It=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function pv(){}function gv(e,t){var n=Be,r=nn(),s=t(),i=!xn(r.memoizedState,s);if(i&&(r.memoizedState=s,It=!0),r=r.queue,pf(yv.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,hi(9,xv.bind(null,n,r,s,t),void 0,null),it===null)throw Error(K(349));ns&30||vv(n,t,s)}return s}function vv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xv(e,t,n,r){t.value=n,t.getSnapshot=r,wv(t)&&bv(e)}function yv(e,t,n){return n(function(){wv(t)&&bv(e)})}function wv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function bv(e){var t=Zn(e,1);t!==null&&vn(t,e,1,-1)}function mm(e){var t=Cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t.queue=e,e=e.dispatch=uj.bind(null,Be,e),[t.memoizedState,e]}function hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jv(){return nn().memoizedState}function Aa(e,t,n,r){var s=Cn();Be.flags|=e,s.memoizedState=hi(1|t,n,void 0,r===void 0?null:r)}function Pl(e,t,n,r){var s=nn();r=r===void 0?null:r;var i=void 0;if(tt!==null){var a=tt.memoizedState;if(i=a.destroy,r!==null&&ff(r,a.deps)){s.memoizedState=hi(t,n,i,r);return}}Be.flags|=e,s.memoizedState=hi(1|t,n,i,r)}function pm(e,t){return Aa(8390656,8,e,t)}function pf(e,t){return Pl(2048,8,e,t)}function Nv(e,t){return Pl(4,2,e,t)}function Sv(e,t){return Pl(4,4,e,t)}function kv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cv(e,t,n){return n=n!=null?n.concat([e]):null,Pl(4,4,kv.bind(null,t,e),n)}function gf(){}function Ev(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ff(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Tv(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ff(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _v(e,t,n){return ns&21?(xn(n,t)||(n=Og(),Be.lanes|=n,rs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=n)}function lj(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=Pc.transition;Pc.transition={};try{e(!1),t()}finally{Ee=n,Pc.transition=r}}function Rv(){return nn().memoizedState}function cj(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pv(e))Av(t,n);else if(n=fv(e,t,n,r),n!==null){var s=Et();vn(n,e,r,s),Iv(n,t,r)}}function uj(e,t,n){var r=Er(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pv(e))Av(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,xn(l,a)){var c=t.interleaved;c===null?(s.next=s,af(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=fv(e,t,s,r),n!==null&&(s=Et(),vn(n,e,r,s),Iv(n,t,r))}}function Pv(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Av(e,t){Ho=rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Iv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kd(e,n)}}var sl={readContext:tn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},dj={readContext:tn,useCallback:function(e,t){return Cn().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:pm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Aa(4194308,4,kv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=Cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cj.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=Cn();return e={current:e},t.memoizedState=e},useState:mm,useDebugValue:gf,useDeferredValue:function(e){return Cn().memoizedState=e},useTransition:function(){var e=mm(!1),t=e[0];return e=lj.bind(null,e[1]),Cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,s=Cn();if(Le){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),it===null)throw Error(K(349));ns&30||vv(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,pm(yv.bind(null,r,i,e),[e]),r.flags|=2048,hi(9,xv.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Cn(),t=it.identifierPrefix;if(Le){var n=Yn,r=Gn;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=di++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fj={readContext:tn,useCallback:Ev,useContext:tn,useEffect:pf,useImperativeHandle:Cv,useInsertionEffect:Nv,useLayoutEffect:Sv,useMemo:Tv,useReducer:Ac,useRef:jv,useState:function(){return Ac(fi)},useDebugValue:gf,useDeferredValue:function(e){var t=nn();return _v(t,tt.memoizedState,e)},useTransition:function(){var e=Ac(fi)[0],t=nn().memoizedState;return[e,t]},useMutableSource:pv,useSyncExternalStore:gv,useId:Rv,unstable_isNewReconciler:!1},hj={readContext:tn,useCallback:Ev,useContext:tn,useEffect:pf,useImperativeHandle:Cv,useInsertionEffect:Nv,useLayoutEffect:Sv,useMemo:Tv,useReducer:Ic,useRef:jv,useState:function(){return Ic(fi)},useDebugValue:gf,useDeferredValue:function(e){var t=nn();return tt===null?t.memoizedState=e:_v(t,tt.memoizedState,e)},useTransition:function(){var e=Ic(fi)[0],t=nn().memoizedState;return[e,t]},useMutableSource:pv,useSyncExternalStore:gv,useId:Rv,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:We({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Al={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Et(),s=Er(e),i=Xn(r,s);i.payload=t,n!=null&&(i.callback=n),t=kr(e,i,s),t!==null&&(vn(t,e,s,r),Ra(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Et(),s=Er(e),i=Xn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=kr(e,i,s),t!==null&&(vn(t,e,s,r),Ra(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Et(),r=Er(e),s=Xn(n,r);s.tag=2,t!=null&&(s.callback=t),t=kr(e,s,r),t!==null&&(vn(t,e,r,n),Ra(t,e,r))}};function gm(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!oi(n,r)||!oi(s,i):!0}function Ov(e,t,n){var r=!1,s=Pr,i=t.contextType;return typeof i=="object"&&i!==null?i=tn(i):(s=Dt(t)?es:wt.current,r=t.contextTypes,i=(r=r!=null)?Gs(e,s):Pr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Al,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function vm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Al.enqueueReplaceState(t,t.state,null)}function Uu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},lf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=tn(i):(i=Dt(t)?es:wt.current,s.context=Gs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Al.enqueueReplaceState(s,s.state,null),tl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qs(e,t){try{var n="",r=t;do n+=Ub(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Oc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mj=typeof WeakMap=="function"?WeakMap:Map;function Dv(e,t,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){il||(il=!0,Ju=r),Bu(e,t)},n}function Lv(e,t,n){n=Xn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Bu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bu(e,t),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function xm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Tj.bind(null,e,t,n),t.then(e,e))}function ym(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xn(-1,1),t.tag=2,kr(n,t,1))),n.lanes|=1),e)}var pj=sr.ReactCurrentOwner,It=!1;function kt(e,t,n,r){t.child=e===null?dv(t,null,n,r):Xs(t,e.child,n,r)}function bm(e,t,n,r,s){n=n.render;var i=t.ref;return Us(t,s),r=hf(e,t,n,r,i,s),n=mf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(Le&&n&&ef(t),t.flags|=1,kt(e,t,r,s),t.child)}function jm(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Sf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Mv(e,t,i,r,s)):(e=La(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:oi,n(a,r)&&e.ref===t.ref)return er(e,t,s)}return t.flags|=1,e=Tr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Mv(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(oi(i,r)&&e.ref===t.ref)if(It=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(It=!0);else return t.lanes=e.lanes,er(e,t,s)}return Wu(e,t,n,r,s)}function $v(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ls,$t),$t|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Ls,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Re(Ls,$t),$t|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Re(Ls,$t),$t|=r;return kt(e,t,s,n),t.child}function zv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wu(e,t,n,r,s){var i=Dt(n)?es:wt.current;return i=Gs(t,i),Us(t,s),n=hf(e,t,n,r,i,s),r=mf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(Le&&r&&ef(t),t.flags|=1,kt(e,t,n,s),t.child)}function Nm(e,t,n,r,s){if(Dt(n)){var i=!0;qa(t)}else i=!1;if(Us(t,s),t.stateNode===null)Ia(e,t),Ov(t,n,r),Uu(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=Dt(n)?es:wt.current,u=Gs(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&vm(t,a,r,u),hr=!1;var m=t.memoizedState;a.state=m,tl(t,r,a,s),c=t.memoizedState,l!==r||m!==c||Ot.current||hr?(typeof h=="function"&&(Fu(t,n,h,r),c=t.memoizedState),(l=hr||gm(t,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,hv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:hn(t.type,l),a.props=u,f=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=tn(c):(c=Dt(n)?es:wt.current,c=Gs(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&vm(t,a,r,c),hr=!1,m=t.memoizedState,a.state=m,tl(t,r,a,s);var b=t.memoizedState;l!==f||m!==b||Ot.current||hr?(typeof y=="function"&&(Fu(t,n,y,r),b=t.memoizedState),(u=hr||gm(t,n,u,r,m,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Vu(e,t,n,r,i,s)}function Vu(e,t,n,r,s,i){zv(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&lm(t,n,!1),er(e,t,i);r=t.stateNode,pj.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Xs(t,e.child,null,i),t.child=Xs(t,null,l,i)):kt(e,t,l,i),t.memoizedState=r.state,s&&lm(t,n,!0),t.child}function Fv(e){var t=e.stateNode;t.pendingContext?am(e,t.pendingContext,t.pendingContext!==t.context):t.context&&am(e,t.context,!1),cf(e,t.containerInfo)}function Sm(e,t,n,r,s){return Ys(),nf(s),t.flags|=256,kt(e,t,n,r),t.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function Ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uv(e,t,n){var r=t.pendingProps,s=Ue.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(Ue,s&1),e===null)return $u(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Dl(a,r,0,null),e=Jr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ku(n),t.memoizedState=Hu,e):vf(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return gj(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Tr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Tr(l,i):(i=Jr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Ku(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Hu,r}return i=e.child,e=i.sibling,r=Tr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vf(e,t){return t=Dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sa(e,t,n,r){return r!==null&&nf(r),Xs(t,e.child,null,n),e=vf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gj(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Oc(Error(K(422))),sa(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Dl({mode:"visible",children:r.children},s,0,null),i=Jr(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Xs(t,e.child,null,a),t.child.memoizedState=Ku(a),t.memoizedState=Hu,i);if(!(t.mode&1))return sa(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(K(419)),r=Oc(i,r,void 0),sa(e,t,a,r)}if(l=(a&e.childLanes)!==0,It||l){if(r=it,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zn(e,s),vn(r,e,s,-1))}return Nf(),r=Oc(Error(K(421))),sa(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_j.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ut=Sr(s.nextSibling),Bt=t,Le=!0,pn=null,e!==null&&(qt[Qt++]=Gn,qt[Qt++]=Yn,qt[Qt++]=ts,Gn=e.id,Yn=e.overflow,ts=t),t=vf(t,r.children),t.flags|=4096,t)}function km(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zu(e.return,t,n)}function Dc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Bv(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(kt(e,t,r.children,n),r=Ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&km(e,n,t);else if(e.tag===19)km(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re(Ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&nl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Dc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Dc(t,!0,n,null,i);break;case"together":Dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ia(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vj(e,t,n){switch(t.tag){case 3:Fv(t),Ys();break;case 5:mv(t);break;case 1:Dt(t.type)&&qa(t);break;case 4:cf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Re(Za,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Re(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?Uv(e,t,n):(Re(Ue,Ue.current&1),e=er(e,t,n),e!==null?e.sibling:null);Re(Ue,Ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Ue,Ue.current),r)break;return null;case 22:case 23:return t.lanes=0,$v(e,t,n)}return er(e,t,n)}var Wv,Gu,Vv,Hv;Wv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gu=function(){};Vv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yr(An.current);var i=null;switch(n){case"input":s=pu(e,s),r=pu(e,r),i=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),i=[];break;case"textarea":s=xu(e,s),r=xu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ya)}wu(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ae("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Hv=function(e,t,n,r){n!==r&&(t.flags|=4)};function ko(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xj(e,t,n){var r=t.pendingProps;switch(tf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Dt(t.type)&&Xa(),gt(t),null;case 3:return r=t.stateNode,qs(),Ie(Ot),Ie(wt),df(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pn!==null&&(td(pn),pn=null))),Gu(e,t),gt(t),null;case 5:uf(t);var s=Yr(ui.current);if(n=t.type,e!==null&&t.stateNode!=null)Vv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return gt(t),null}if(e=Yr(An.current),na(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[En]=t,r[li]=i,e=(t.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<Do.length;s++)Ae(Do[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Oh(r,i),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",r);break;case"textarea":Lh(r,i),Ae("invalid",r)}wu(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ta(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ta(r.textContent,l,e),s=["children",""+l]):Jo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Gi(r),Dh(r,i,!0);break;case"textarea":Gi(r),Mh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ya)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[En]=t,e[li]=r,Wv(e,t,!1,!1),t.stateNode=e;e:{switch(a=bu(n,r),n){case"dialog":Ae("cancel",e),Ae("close",e),s=r;break;case"iframe":case"object":case"embed":Ae("load",e),s=r;break;case"video":case"audio":for(s=0;s<Do.length;s++)Ae(Do[s],e);s=r;break;case"source":Ae("error",e),s=r;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),s=r;break;case"details":Ae("toggle",e),s=r;break;case"input":Oh(e,r),s=pu(e,r),Ae("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Ae("invalid",e);break;case"textarea":Lh(e,r),s=xu(e,r),Ae("invalid",e);break;default:s=r}wu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?jg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wg(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zo(e,c):typeof c=="number"&&Zo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ae("scroll",e):c!=null&&Fd(e,i,c,a))}switch(n){case"input":Gi(e),Dh(e,r,!1);break;case"textarea":Gi(e),Mh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ms(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ms(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)Hv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Yr(ui.current),Yr(An.current),na(t)){if(r=t.stateNode,n=t.memoizedProps,r[En]=t,(i=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:ta(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ta(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=t,t.stateNode=r}return gt(t),null;case 13:if(Ie(Ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Ut!==null&&t.mode&1&&!(t.flags&128))cv(),Ys(),t.flags|=98560,i=!1;else if(i=na(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[En]=t}else Ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),i=!1}else pn!==null&&(td(pn),pn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?nt===0&&(nt=3):Nf())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return qs(),Gu(e,t),e===null&&ii(t.stateNode.containerInfo),gt(t),null;case 10:return of(t.type._context),gt(t),null;case 17:return Dt(t.type)&&Xa(),gt(t),null;case 19:if(Ie(Ue),i=t.memoizedState,i===null)return gt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ko(i,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=nl(e),a!==null){for(t.flags|=128,ko(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re(Ue,Ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>Js&&(t.flags|=128,r=!0,ko(i,!1),t.lanes=4194304)}else{if(!r)if(e=nl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ko(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Le)return gt(t),null}else 2*Ge()-i.renderingStartTime>Js&&n!==1073741824&&(t.flags|=128,r=!0,ko(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=Ue.current,Re(Ue,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return jf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$t&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function yj(e,t){switch(tf(t),t.tag){case 1:return Dt(t.type)&&Xa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qs(),Ie(Ot),Ie(wt),df(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uf(t),null;case 13:if(Ie(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Ue),null;case 4:return qs(),null;case 10:return of(t.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var oa=!1,vt=!1,wj=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ds(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function Yu(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var Cm=!1;function bj(e,t){if(Pu=Ha,e=qg(),Zd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Au={focusedElem:e,selectionRange:n},Ha=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,S=b.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:hn(t.type,x),S);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(N){Ve(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return b=Cm,Cm=!1,b}function Ko(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yu(t,n,i)}s=s.next}while(s!==r)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Kv(e){var t=e.alternate;t!==null&&(e.alternate=null,Kv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[En],delete t[li],delete t[Du],delete t[rj],delete t[sj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gv(e){return e.tag===5||e.tag===3||e.tag===4}function Em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ya));else if(r!==4&&(e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function Qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qu(e,t,n),e=e.sibling;e!==null;)Qu(e,t,n),e=e.sibling}var ut=null,mn=!1;function cr(e,t,n){for(n=n.child;n!==null;)Yv(e,t,n),n=n.sibling}function Yv(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(kl,n)}catch{}switch(n.tag){case 5:vt||Ds(n,t);case 6:var r=ut,s=mn;ut=null,cr(e,t,n),ut=r,mn=s,ut!==null&&(mn?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(mn?(e=ut,n=n.stateNode,e.nodeType===8?Tc(e.parentNode,n):e.nodeType===1&&Tc(e,n),ri(e)):Tc(ut,n.stateNode));break;case 4:r=ut,s=mn,ut=n.stateNode.containerInfo,mn=!0,cr(e,t,n),ut=r,mn=s;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Yu(n,t,a),s=s.next}while(s!==r)}cr(e,t,n);break;case 1:if(!vt&&(Ds(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ve(n,t,l)}cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,cr(e,t,n),vt=r):cr(e,t,n);break;default:cr(e,t,n)}}function Tm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wj),t.forEach(function(r){var s=Rj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,mn=!1;break e;case 3:ut=l.stateNode.containerInfo,mn=!0;break e;case 4:ut=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(ut===null)throw Error(K(160));Yv(i,a,s),ut=null,mn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xv(t,e),t=t.sibling}function Xv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),kn(e),r&4){try{Ko(3,e,e.return),Il(3,e)}catch(x){Ve(e,e.return,x)}try{Ko(5,e,e.return)}catch(x){Ve(e,e.return,x)}}break;case 1:cn(t,e),kn(e),r&512&&n!==null&&Ds(n,n.return);break;case 5:if(cn(t,e),kn(e),r&512&&n!==null&&Ds(n,n.return),e.flags&32){var s=e.stateNode;try{Zo(s,"")}catch(x){Ve(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&vg(s,i),bu(l,a);var u=bu(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?jg(s,f):h==="dangerouslySetInnerHTML"?wg(s,f):h==="children"?Zo(s,f):Fd(s,h,f,u)}switch(l){case"input":gu(s,i);break;case"textarea":xg(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ms(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ms(s,!!i.multiple,i.defaultValue,!0):Ms(s,!!i.multiple,i.multiple?[]:"",!1))}s[li]=i}catch(x){Ve(e,e.return,x)}}break;case 6:if(cn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ve(e,e.return,x)}}break;case 3:if(cn(t,e),kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ri(t.containerInfo)}catch(x){Ve(e,e.return,x)}break;case 4:cn(t,e),kn(e);break;case 13:cn(t,e),kn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wf=Ge())),r&4&&Tm(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(u=vt)||h,cn(t,e),vt=u):cn(t,e),kn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(te=e,h=e.child;h!==null;){for(f=te=h;te!==null;){switch(m=te,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ko(4,m,m.return);break;case 1:Ds(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){Ve(r,n,x)}}break;case 5:Ds(m,m.return);break;case 22:if(m.memoizedState!==null){Rm(f);continue}}y!==null?(y.return=m,te=y):Rm(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bg("display",a))}catch(x){Ve(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ve(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cn(t,e),kn(e),r&4&&Tm(e);break;case 21:break;default:cn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gv(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zo(s,""),r.flags&=-33);var i=Em(e);Qu(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Em(e);qu(e,l,a);break;default:throw Error(K(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jj(e,t,n){te=e,qv(e)}function qv(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||oa;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vt;l=oa;var u=vt;if(oa=a,(vt=c)&&!u)for(te=s;te!==null;)a=te,c=a.child,a.tag===22&&a.memoizedState!==null?Pm(s):c!==null?(c.return=a,te=c):Pm(s);for(;i!==null;)te=i,qv(i),i=i.sibling;te=s,oa=l,vt=u}_m(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):_m(e)}}function _m(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vt||Il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:hn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&hm(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hm(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ri(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}vt||t.flags&512&&Xu(t)}catch(m){Ve(t,t.return,m)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function Rm(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function Pm(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(c){Ve(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ve(t,s,c)}}var i=t.return;try{Xu(t)}catch(c){Ve(t,i,c)}break;case 5:var a=t.return;try{Xu(t)}catch(c){Ve(t,a,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var Nj=Math.ceil,ol=sr.ReactCurrentDispatcher,xf=sr.ReactCurrentOwner,en=sr.ReactCurrentBatchConfig,Ne=0,it=null,Qe=null,ht=0,$t=0,Ls=Mr(0),nt=0,mi=null,rs=0,Ol=0,yf=0,Go=null,Pt=null,wf=0,Js=1/0,Hn=null,il=!1,Ju=null,Cr=null,ia=!1,wr=null,al=0,Yo=0,Zu=null,Oa=-1,Da=0;function Et(){return Ne&6?Ge():Oa!==-1?Oa:Oa=Ge()}function Er(e){return e.mode&1?Ne&2&&ht!==0?ht&-ht:ij.transition!==null?(Da===0&&(Da=Og()),Da):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Ug(e.type)),e):1}function vn(e,t,n,r){if(50<Yo)throw Yo=0,Zu=null,Error(K(185));Si(e,n,r),(!(Ne&2)||e!==it)&&(e===it&&(!(Ne&2)&&(Ol|=n),nt===4&&gr(e,ht)),Lt(e,r),n===1&&Ne===0&&!(t.mode&1)&&(Js=Ge()+500,Rl&&$r()))}function Lt(e,t){var n=e.callbackNode;i1(e,t);var r=Va(e,e===it?ht:0);if(r===0)n!==null&&Fh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Fh(n),t===1)e.tag===0?oj(Am.bind(null,e)):iv(Am.bind(null,e)),tj(function(){!(Ne&6)&&$r()}),n=null;else{switch(Dg(r)){case 1:n=Hd;break;case 4:n=Ag;break;case 16:n=Wa;break;case 536870912:n=Ig;break;default:n=Wa}n=sx(n,Qv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qv(e,t){if(Oa=-1,Da=0,Ne&6)throw Error(K(327));var n=e.callbackNode;if(Bs()&&e.callbackNode!==n)return null;var r=Va(e,e===it?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ll(e,r);else{t=r;var s=Ne;Ne|=2;var i=Zv();(it!==e||ht!==t)&&(Hn=null,Js=Ge()+500,Qr(e,t));do try{Cj();break}catch(l){Jv(e,l)}while(!0);sf(),ol.current=i,Ne=s,Qe!==null?t=0:(it=null,ht=0,t=nt)}if(t!==0){if(t===2&&(s=Cu(e),s!==0&&(r=s,t=ed(e,s))),t===1)throw n=mi,Qr(e,0),gr(e,r),Lt(e,Ge()),n;if(t===6)gr(e,r);else{if(s=e.current.alternate,!(r&30)&&!Sj(s)&&(t=ll(e,r),t===2&&(i=Cu(e),i!==0&&(r=i,t=ed(e,i))),t===1))throw n=mi,Qr(e,0),gr(e,r),Lt(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Vr(e,Pt,Hn);break;case 3:if(gr(e,r),(r&130023424)===r&&(t=wf+500-Ge(),10<t)){if(Va(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ou(Vr.bind(null,e,Pt,Hn),t);break}Vr(e,Pt,Hn);break;case 4:if(gr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-gn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nj(r/1960))-r,10<r){e.timeoutHandle=Ou(Vr.bind(null,e,Pt,Hn),r);break}Vr(e,Pt,Hn);break;case 5:Vr(e,Pt,Hn);break;default:throw Error(K(329))}}}return Lt(e,Ge()),e.callbackNode===n?Qv.bind(null,e):null}function ed(e,t){var n=Go;return e.current.memoizedState.isDehydrated&&(Qr(e,t).flags|=256),e=ll(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&td(t)),e}function td(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function Sj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t){for(t&=~yf,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gn(t),r=1<<n;e[n]=-1,t&=~r}}function Am(e){if(Ne&6)throw Error(K(327));Bs();var t=Va(e,0);if(!(t&1))return Lt(e,Ge()),null;var n=ll(e,t);if(e.tag!==0&&n===2){var r=Cu(e);r!==0&&(t=r,n=ed(e,r))}if(n===1)throw n=mi,Qr(e,0),gr(e,t),Lt(e,Ge()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vr(e,Pt,Hn),Lt(e,Ge()),null}function bf(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(Js=Ge()+500,Rl&&$r())}}function ss(e){wr!==null&&wr.tag===0&&!(Ne&6)&&Bs();var t=Ne;Ne|=1;var n=en.transition,r=Ee;try{if(en.transition=null,Ee=1,e)return e()}finally{Ee=r,en.transition=n,Ne=t,!(Ne&6)&&$r()}}function jf(){$t=Ls.current,Ie(Ls)}function Qr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ej(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(tf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xa();break;case 3:qs(),Ie(Ot),Ie(wt),df();break;case 5:uf(r);break;case 4:qs();break;case 13:Ie(Ue);break;case 19:Ie(Ue);break;case 10:of(r.type._context);break;case 22:case 23:jf()}n=n.return}if(it=e,Qe=e=Tr(e.current,null),ht=$t=t,nt=0,mi=null,yf=Ol=rs=0,Pt=Go=null,Gr!==null){for(t=0;t<Gr.length;t++)if(n=Gr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Gr=null}return e}function Jv(e,t){do{var n=Qe;try{if(sf(),Pa.current=sl,rl){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rl=!1}if(ns=0,ot=tt=Be=null,Ho=!1,di=0,xf.current=null,n===null||n.return===null){nt=1,mi=t,Qe=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=ym(a);if(y!==null){y.flags&=-257,wm(y,a,l,i,t),y.mode&1&&xm(i,u,t),t=y,c=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){xm(i,u,t),Nf();break e}c=Error(K(426))}}else if(Le&&l.mode&1){var S=ym(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),wm(S,a,l,i,t),nf(Qs(c,l));break e}}i=c=Qs(c,l),nt!==4&&(nt=2),Go===null?Go=[i]:Go.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Dv(i,c,t);fm(i,v);break e;case 1:l=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cr===null||!Cr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Lv(i,l,t);fm(i,N);break e}}i=i.return}while(i!==null)}tx(n)}catch(j){t=j,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function Zv(){var e=ol.current;return ol.current=sl,e===null?sl:e}function Nf(){(nt===0||nt===3||nt===2)&&(nt=4),it===null||!(rs&268435455)&&!(Ol&268435455)||gr(it,ht)}function ll(e,t){var n=Ne;Ne|=2;var r=Zv();(it!==e||ht!==t)&&(Hn=null,Qr(e,t));do try{kj();break}catch(s){Jv(e,s)}while(!0);if(sf(),Ne=n,ol.current=r,Qe!==null)throw Error(K(261));return it=null,ht=0,nt}function kj(){for(;Qe!==null;)ex(Qe)}function Cj(){for(;Qe!==null&&!Qb();)ex(Qe)}function ex(e){var t=rx(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?tx(e):Qe=t,xf.current=null}function tx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yj(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Qe=null;return}}else if(n=xj(n,t,$t),n!==null){Qe=n;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);nt===0&&(nt=5)}function Vr(e,t,n){var r=Ee,s=en.transition;try{en.transition=null,Ee=1,Ej(e,t,n,r)}finally{en.transition=s,Ee=r}return null}function Ej(e,t,n,r){do Bs();while(wr!==null);if(Ne&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(a1(e,i),e===it&&(Qe=it=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ia||(ia=!0,sx(Wa,function(){return Bs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=en.transition,en.transition=null;var a=Ee;Ee=1;var l=Ne;Ne|=4,xf.current=null,bj(e,n),Xv(n,e),G1(Au),Ha=!!Pu,Au=Pu=null,e.current=n,jj(n),Jb(),Ne=l,Ee=a,en.transition=i}else e.current=n;if(ia&&(ia=!1,wr=e,al=s),i=e.pendingLanes,i===0&&(Cr=null),t1(n.stateNode),Lt(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(il)throw il=!1,e=Ju,Ju=null,e;return al&1&&e.tag!==0&&Bs(),i=e.pendingLanes,i&1?e===Zu?Yo++:(Yo=0,Zu=e):Yo=0,$r(),null}function Bs(){if(wr!==null){var e=Dg(al),t=en.transition,n=Ee;try{if(en.transition=null,Ee=16>e?16:e,wr===null)var r=!1;else{if(e=wr,wr=null,al=0,Ne&6)throw Error(K(331));var s=Ne;for(Ne|=4,te=e.current;te!==null;){var i=te,a=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Ko(8,h,i)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var m=h.sibling,y=h.return;if(Kv(h),h===u){te=null;break}if(m!==null){m.return=y,te=m;break}te=y}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}te=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,te=a;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ko(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var p=e.current;for(te=p;te!==null;){a=te;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,te=g;else e:for(a=p;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Il(9,l)}}catch(j){Ve(l,l.return,j)}if(l===a){te=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,te=N;break e}te=l.return}}if(Ne=s,$r(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(kl,e)}catch{}r=!0}return r}finally{Ee=n,en.transition=t}}return!1}function Im(e,t,n){t=Qs(n,t),t=Dv(e,t,1),e=kr(e,t,1),t=Et(),e!==null&&(Si(e,1,t),Lt(e,t))}function Ve(e,t,n){if(e.tag===3)Im(e,e,n);else for(;t!==null;){if(t.tag===3){Im(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){e=Qs(n,e),e=Lv(t,e,1),t=kr(t,e,1),e=Et(),t!==null&&(Si(t,1,e),Lt(t,e));break}}t=t.return}}function Tj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(ht&n)===n&&(nt===4||nt===3&&(ht&130023424)===ht&&500>Ge()-wf?Qr(e,0):yf|=n),Lt(e,t)}function nx(e,t){t===0&&(e.mode&1?(t=qi,qi<<=1,!(qi&130023424)&&(qi=4194304)):t=1);var n=Et();e=Zn(e,t),e!==null&&(Si(e,t,n),Lt(e,n))}function _j(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nx(e,n)}function Rj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),nx(e,n)}var rx;rx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)It=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return It=!1,vj(e,t,n);It=!!(e.flags&131072)}else It=!1,Le&&t.flags&1048576&&av(t,Ja,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ia(e,t),e=t.pendingProps;var s=Gs(t,wt.current);Us(t,n),s=hf(null,t,r,e,s,n);var i=mf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(r)?(i=!0,qa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lf(t),s.updater=Al,t.stateNode=s,s._reactInternals=t,Uu(t,r,e,n),t=Vu(null,t,r,!0,i,n)):(t.tag=0,Le&&i&&ef(t),kt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ia(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Aj(r),e=hn(r,e),s){case 0:t=Wu(null,t,r,e,n);break e;case 1:t=Nm(null,t,r,e,n);break e;case 11:t=bm(null,t,r,e,n);break e;case 14:t=jm(null,t,r,hn(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Wu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Nm(e,t,r,s,n);case 3:e:{if(Fv(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,s=i.element,hv(e,t),tl(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qs(Error(K(423)),t),t=Sm(e,t,r,n,s);break e}else if(r!==s){s=Qs(Error(K(424)),t),t=Sm(e,t,r,n,s);break e}else for(Ut=Sr(t.stateNode.containerInfo.firstChild),Bt=t,Le=!0,pn=null,n=dv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===s){t=er(e,t,n);break e}kt(e,t,r,n)}t=t.child}return t;case 5:return mv(t),e===null&&$u(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Iu(r,s)?a=null:i!==null&&Iu(r,i)&&(t.flags|=32),zv(e,t),kt(e,t,a,n),t.child;case 6:return e===null&&$u(t),null;case 13:return Uv(e,t,n);case 4:return cf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xs(t,null,r,n):kt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),bm(e,t,r,s,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Re(Za,r._currentValue),r._currentValue=a,i!==null)if(xn(i.value,a)){if(i.children===s.children&&!Ot.current){t=er(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Xn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),zu(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(K(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),zu(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}kt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Us(t,n),s=tn(s),r=r(s),t.flags|=1,kt(e,t,r,n),t.child;case 14:return r=t.type,s=hn(r,t.pendingProps),s=hn(r.type,s),jm(e,t,r,s,n);case 15:return Mv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Ia(e,t),t.tag=1,Dt(r)?(e=!0,qa(t)):e=!1,Us(t,n),Ov(t,r,s),Uu(t,r,s,n),Vu(null,t,r,!0,e,n);case 19:return Bv(e,t,n);case 22:return $v(e,t,n)}throw Error(K(156,t.tag))};function sx(e,t){return Pg(e,t)}function Pj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,r){return new Pj(e,t,n,r)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aj(e){if(typeof e=="function")return Sf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bd)return 11;if(e===Wd)return 14}return 2}function Tr(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function La(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Sf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Cs:return Jr(n.children,s,i,t);case Ud:a=8,s|=8;break;case du:return e=Jt(12,n,t,s|2),e.elementType=du,e.lanes=i,e;case fu:return e=Jt(13,n,t,s),e.elementType=fu,e.lanes=i,e;case hu:return e=Jt(19,n,t,s),e.elementType=hu,e.lanes=i,e;case mg:return Dl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fg:a=10;break e;case hg:a=9;break e;case Bd:a=11;break e;case Wd:a=14;break e;case fr:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Jt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Jr(e,t,n,r){return e=Jt(7,e,r,t),e.lanes=n,e}function Dl(e,t,n,r){return e=Jt(22,e,r,t),e.elementType=mg,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function Mc(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ij(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kf(e,t,n,r,s,i,a,l,c){return e=new Ij(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Jt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(i),e}function Oj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ox(e){if(!e)return Pr;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(Dt(n))return ov(e,n,t)}return t}function ix(e,t,n,r,s,i,a,l,c){return e=kf(n,r,!0,e,s,i,a,l,c),e.context=ox(null),n=e.current,r=Et(),s=Er(n),i=Xn(r,s),i.callback=t??null,kr(n,i,s),e.current.lanes=s,Si(e,s,r),Lt(e,r),e}function Ll(e,t,n,r){var s=t.current,i=Et(),a=Er(s);return n=ox(n),t.context===null?t.context=n:t.pendingContext=n,t=Xn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kr(s,t,a),e!==null&&(vn(e,s,a,i),Ra(e,s,a)),a}function cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Om(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cf(e,t){Om(e,t),(e=e.alternate)&&Om(e,t)}function Dj(){return null}var ax=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ef(e){this._internalRoot=e}Ml.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Ll(e,t,null,null)};Ml.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){Ll(null,e,null,null)}),t[Jn]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=$g();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pr.length&&t!==0&&t<pr[n].priority;n++);pr.splice(n,0,e),n===0&&Fg(e)}};function Tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dm(){}function Lj(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=cl(a);i.call(u)}}var a=ix(t,r,e,0,null,!1,!1,"",Dm);return e._reactRootContainer=a,e[Jn]=a.current,ii(e.nodeType===8?e.parentNode:e),ss(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=cl(c);l.call(u)}}var c=kf(e,0,!1,null,null,!1,!1,"",Dm);return e._reactRootContainer=c,e[Jn]=c.current,ii(e.nodeType===8?e.parentNode:e),ss(function(){Ll(t,c,n,r)}),c}function zl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=cl(a);l.call(c)}}Ll(t,a,e,s)}else a=Lj(n,t,e,s,r);return cl(a)}Lg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oo(t.pendingLanes);n!==0&&(Kd(t,n|1),Lt(t,Ge()),!(Ne&6)&&(Js=Ge()+500,$r()))}break;case 13:ss(function(){var r=Zn(e,1);if(r!==null){var s=Et();vn(r,e,1,s)}}),Cf(e,1)}};Gd=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var n=Et();vn(t,e,134217728,n)}Cf(e,134217728)}};Mg=function(e){if(e.tag===13){var t=Er(e),n=Zn(e,t);if(n!==null){var r=Et();vn(n,e,t,r)}Cf(e,t)}};$g=function(){return Ee};zg=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};Nu=function(e,t,n){switch(t){case"input":if(gu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_l(r);if(!s)throw Error(K(90));gg(r),gu(r,s)}}}break;case"textarea":xg(e,n);break;case"select":t=n.value,t!=null&&Ms(e,!!n.multiple,t,!1)}};kg=bf;Cg=ss;var Mj={usingClientEntryPoint:!1,Events:[Ci,Rs,_l,Ng,Sg,bf]},Co={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$j={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_g(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Dj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{kl=aa.inject($j),Pn=aa}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mj;Kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(t))throw Error(K(200));return Oj(e,t,null,n)};Kt.createRoot=function(e,t){if(!Tf(e))throw Error(K(299));var n=!1,r="",s=ax;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kf(e,1,!1,null,null,n,!1,r,s),e[Jn]=t.current,ii(e.nodeType===8?e.parentNode:e),new Ef(t)};Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=_g(t),e=e===null?null:e.stateNode,e};Kt.flushSync=function(e){return ss(e)};Kt.hydrate=function(e,t,n){if(!$l(t))throw Error(K(200));return zl(null,e,t,!0,n)};Kt.hydrateRoot=function(e,t,n){if(!Tf(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=ax;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ix(t,null,e,1,n??null,s,!1,i,a),e[Jn]=t.current,ii(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ml(t)};Kt.render=function(e,t,n){if(!$l(t))throw Error(K(200));return zl(null,e,t,!1,n)};Kt.unmountComponentAtNode=function(e){if(!$l(e))throw Error(K(40));return e._reactRootContainer?(ss(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};Kt.unstable_batchedUpdates=bf;Kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return zl(e,t,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function lx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lx)}catch(e){console.error(e)}}lx(),lg.exports=Kt;var io=lg.exports;const zj=Id(io);var Lm=io;cu.createRoot=Lm.createRoot,cu.hydrateRoot=Lm.hydrateRoot;var Fj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bj=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>d.createElement("svg",{ref:u,...Fj,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Uj(e)}`,...c},[...t.map(([h,f])=>d.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var se=Bj;const ao=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Mm=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_f=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),cx=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ws=se("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ux=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Xo=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),mr=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Wj=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),$m=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Zr=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Lo=se("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Vj=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),pi=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Hj=se("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),ul=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Ar=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Rf=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Kj=se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),$c=se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Zt=se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),dl=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Gj=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Yj=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Xj=se("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),nd=se("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Pf=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),qj=se("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),dx=se("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),fl=se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),fx=se("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Qj=se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),zm=se("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),yt=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Wt=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fs=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Af=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Jj=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zj=se("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),eN=se("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),tN=se("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),nN=se("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),rN=se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),tr=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Fm=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),rd=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),If=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sN=se("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),oN=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),hx=se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Of=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Um=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ft=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),iN=se("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),aN=se("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),lN=se("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),cN=se("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),uN=se("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),yn=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Bm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mx(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Bm(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Bm(e[s],null)}}}}function ye(...e){return d.useCallback(mx(...e),e)}function Zs(e){const t=dN(e),n=d.forwardRef((r,s)=>{const{children:i,...a}=r,l=d.Children.toArray(i),c=l.find(hN);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var px=Zs("Slot");function dN(e){const t=d.forwardRef((n,r)=>{const{children:s,...i}=n;if(d.isValidElement(s)){const a=pN(s),l=mN(i,s.props);return s.type!==d.Fragment&&(l.ref=r?mx(r,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fN=Symbol("radix.slottable");function hN(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fN}function mN(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function pN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function gx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=gx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=gx(e))&&(r&&(r+=" "),r+=t);return r}const Wm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Vm=vx,xx=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Vm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=Wm(h)||Wm(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(b=>{let[x,S]=b;return Array.isArray(S)?S.includes({...i,...l}[x]):{...i,...l}[x]===S})?[...u,f,m]:u},[]);return Vm(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};function gN(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=yx(t))&&(r&&(r+=" "),r+=n);return r}function yx(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=yx(e[r]))&&(n&&(n+=" "),n+=t);return n}var Df="-";function vN(e){var t=yN(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(l){var c=l.split(Df);return c[0]===""&&c.length!==1&&c.shift(),wx(c,t)||xN(l)}function a(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function wx(e,t){var a;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?wx(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Df);return(a=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:a.classGroupId}}var Hm=/^\[(.+)\]$/;function xN(e){if(Hm.test(e)){var t=Hm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function yN(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=bN(Object.entries(e.classGroups),n);return s.forEach(function(i){var a=i[0],l=i[1];sd(l,r,a,t)}),r}function sd(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:Km(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(wN(s)){sd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(a){var l=a[0],c=a[1];sd(c,Km(t,l),n,r)})})}function Km(e,t){var n=e;return t.split(Df).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function wN(e){return e.isThemeGetter}function bN(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):a});return[r,i]}):e}function jN(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,a){n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(a){var l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set:function(a,l){n.has(a)?n.set(a,l):s(a,l)}}}var bx="!";function NN(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(a){for(var l=[],c=0,u=0,h,f=0;f<a.length;f++){var m=a[f];if(c===0){if(m===r&&(n||a.slice(f,f+s)===t)){l.push(a.slice(u,f)),u=f+s;continue}if(m==="/"){h=f;continue}}m==="["?c++:m==="]"&&c--}var y=l.length===0?a:a.substring(u),b=y.startsWith(bx),x=b?y.substring(1):y,S=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:S}}}function SN(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function kN(e){return{cache:jN(e.cacheSize),splitModifiers:NN(e),...vN(e)}}var CN=/\s+/;function EN(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(CN).map(function(a){var l=n(a),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?h.substring(0,f):h),y=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:a};if(m=r(h),!m)return{isTailwindClass:!1,originalClassName:a};y=!1}var b=SN(c).join(":"),x=u?b+bx:b;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:a,hasPostfixModifier:y}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,h=l+c;return i.has(h)?!1:(i.add(h),s(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function TN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,a=l;function l(u){var h=t[0],f=t.slice(1),m=f.reduce(function(y,b){return b(y)},h());return r=kN(m),s=r.cache.get,i=r.cache.set,a=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=EN(u,r);return i(u,f),f}return function(){return a(gN.apply(null,arguments))}}function Pe(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var jx=/^\[(?:([a-z-]+):)?(.+)\]$/i,_N=/^\d+\/\d+$/,RN=new Set(["px","full","screen"]),PN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function un(e){return Xr(e)||RN.has(e)||_N.test(e)||od(e)}function od(e){return hs(e,"length",zN)}function ON(e){return hs(e,"size",Nx)}function DN(e){return hs(e,"position",Nx)}function LN(e){return hs(e,"url",FN)}function la(e){return hs(e,"number",Xr)}function Xr(e){return!Number.isNaN(Number(e))}function MN(e){return e.endsWith("%")&&Xr(e.slice(0,-1))}function Eo(e){return Gm(e)||hs(e,"number",Gm)}function xe(e){return jx.test(e)}function To(){return!0}function ur(e){return PN.test(e)}function $N(e){return hs(e,"",UN)}function hs(e,t,n){var r=jx.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function zN(e){return AN.test(e)}function Nx(){return!1}function FN(e){return e.startsWith("url(")}function Gm(e){return Number.isInteger(Number(e))}function UN(e){return IN.test(e)}function BN(){var e=Pe("colors"),t=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),i=Pe("borderRadius"),a=Pe("borderSpacing"),l=Pe("borderWidth"),c=Pe("contrast"),u=Pe("grayscale"),h=Pe("hueRotate"),f=Pe("invert"),m=Pe("gap"),y=Pe("gradientColorStops"),b=Pe("gradientColorStopPositions"),x=Pe("inset"),S=Pe("margin"),v=Pe("opacity"),p=Pe("padding"),g=Pe("saturate"),N=Pe("scale"),j=Pe("sepia"),k=Pe("skew"),C=Pe("space"),E=Pe("translate"),R=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},$=function(){return["auto",xe,t]},w=function(){return[xe,t]},T=function(){return["",un]},O=function(){return["auto",Xr,xe]},F=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},_=function(){return["solid","dashed","dotted","double","none"]},B=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},W=function(){return["","0",xe]},H=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},q=function(){return[Xr,la]},ee=function(){return[Xr,xe]};return{cacheSize:500,theme:{colors:[To],spacing:[un],blur:["none","",ur,xe],brightness:q(),borderColor:[e],borderRadius:["none","","full",ur,xe],borderSpacing:w(),borderWidth:T(),contrast:q(),grayscale:W(),hueRotate:ee(),invert:W(),gap:w(),gradientColorStops:[e],gradientColorStopPositions:[MN,od],inset:$(),margin:$(),opacity:q(),padding:w(),saturate:q(),scale:q(),sepia:W(),skew:ee(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[ur]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(F(),[xe])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Eo]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Eo]}],"grid-cols":[{"grid-cols":[To]}],"col-start-end":[{col:["auto",{span:["full",Eo]},xe]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[To]}],"row-start-end":[{row:["auto",{span:[Eo]},xe]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",xe,t]}],"min-w":[{"min-w":["min","max","fit",xe,un]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ur]},ur,xe]}],h:[{h:[xe,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",xe,un]}],"max-h":[{"max-h":[xe,t,"min","max","fit"]}],"font-size":[{text:["base",ur,od]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",la]}],"font-family":[{font:[To]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",Xr,la]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xe,un]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(_(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",un]}],"underline-offset":[{"underline-offset":["auto",xe,un]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(F(),[DN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ON]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(_(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(_())}],"outline-offset":[{"outline-offset":[xe,un]}],"outline-w":[{outline:[un]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[un]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ur,$N]}],"shadow-color":[{shadow:[To]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ur,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Eo,xe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[un,la]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var WN=TN(BN);function Ce(...e){return WN(vx(e))}const VN=xx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function M({className:e,variant:t,size:n,asChild:r=!1,...s}){const i=r?px:"button";return o.jsx(i,{"data-slot":"button",className:Ce(VN({variant:t,size:n,className:e})),...s})}function HN(e,t){const n=d.createContext(t),r=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=d.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function zn(e,t=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];const u=f=>{var v;const{scope:m,children:y,...b}=f,x=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,S=d.useMemo(()=>b,Object.values(b));return o.jsx(x.Provider,{value:S,children:y})};u.displayName=i+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,b=d.useContext(y);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,KN(s,...t)]}function KN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function xt(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var Je=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},GN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=GN.reduce((e,t)=>{const n=Zs(`Primitive.${t}`),r=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function YN(e,t){e&&io.flushSync(()=>e.dispatchEvent(t))}var Sx={exports:{}},kx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=d;function XN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qN=typeof Object.is=="function"?Object.is:XN,QN=eo.useState,JN=eo.useEffect,ZN=eo.useLayoutEffect,eS=eo.useDebugValue;function tS(e,t){var n=t(),r=QN({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return ZN(function(){s.value=n,s.getSnapshot=t,zc(s)&&i({inst:s})},[e,n,t]),JN(function(){return zc(s)&&i({inst:s}),e(function(){zc(s)&&i({inst:s})})},[e]),eS(n),n}function zc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qN(e,n)}catch{return!0}}function nS(e,t){return t()}var rS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nS:tS;kx.useSyncExternalStore=eo.useSyncExternalStore!==void 0?eo.useSyncExternalStore:rS;Sx.exports=kx;var sS=Sx.exports;function oS(){return sS.useSyncExternalStore(iS,()=>!0,()=>!1)}function iS(){return()=>{}}var Lf="Avatar",[aS,bR]=zn(Lf),[lS,Cx]=aS(Lf),Ex=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=d.useState("idle");return o.jsx(lS,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(le.span,{...r,ref:t})})});Ex.displayName=Lf;var Tx="AvatarImage",_x=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,a=Cx(Tx,n),l=cS(r,i),c=xt(u=>{s(u),a.onImageLoadingStatusChange(u)});return Je(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(le.img,{...i,ref:t,src:r}):null});_x.displayName=Tx;var Rx="AvatarFallback",Px=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=Cx(Rx,n),[a,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(le.span,{...s,ref:t}):null});Px.displayName=Rx;function Ym(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function cS(e,{referrerPolicy:t,crossOrigin:n}){const r=oS(),s=d.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=d.useState(()=>Ym(i,e));return Je(()=>{l(Ym(i,e))},[i,e]),Je(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),h=c("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,n,t]),a}var uS=Ex,dS=_x,fS=Px;function $e({className:e,...t}){return o.jsx(uS,{"data-slot":"avatar",className:Ce("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function ze({className:e,...t}){return o.jsx(dS,{"data-slot":"avatar-image",className:Ce("aspect-square size-full",e),...t})}function Fe({className:e,...t}){return o.jsx(fS,{"data-slot":"avatar-fallback",className:Ce("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}class hS{constructor(){qe(this,"baseUrl","http://localhost:8080/api/users")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getUser(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const mS=new hS;var id={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var r=n.setTimeout,s=n.clearTimeout,i=n.XMLHttpRequest,a=n.XDomainRequest,l=n.ActiveXObject,c=n.EventSource,u=n.document,h=n.Promise,f=n.fetch,m=n.Response,y=n.TextDecoder,b=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof u<"u"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(z){u.readyState="complete"},!1)),i==null&&l!=null&&(i=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(z){function Q(){}return Q.prototype=z,new Q}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var S=f;f=function(z,Q){var J=Q.signal;return S(z,{headers:Q.headers,credentials:Q.credentials,cache:Q.cache}).then(function(Y){var ue=Y.body.getReader();return J._reader=ue,J._aborted&&J._reader.cancel(),{status:Y.status,statusText:Y.statusText,headers:Y.headers,body:{getReader:function(){return ue}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(z){function Q(re,fe,he){if(he===1)return re>=128>>fe&&re<<fe<=2047;if(he===2)return re>=2048>>fe&&re<<fe<=55295||re>=57344>>fe&&re<<fe<=65535;if(he===3)return re>=65536>>fe&&re<<fe<=1114111;throw new Error}function J(re,fe){if(re===6*1)return fe>>6>15?3:fe>31?2:1;if(re===6*2)return fe>15?3:2;if(re===6*3)return 3;throw new Error}for(var Y=65533,ue="",oe=this.bitsNeeded,U=this.codePoint,de=0;de<z.length;de+=1){var ie=z[de];oe!==0&&(ie<128||ie>191||!Q(U<<6|ie&63,oe-6,J(oe,U)))&&(oe=0,U=Y,ue+=String.fromCharCode(U)),oe===0?(ie>=0&&ie<=127?(oe=0,U=ie):ie>=192&&ie<=223?(oe=6*1,U=ie&31):ie>=224&&ie<=239?(oe=6*2,U=ie&15):ie>=240&&ie<=247?(oe=6*3,U=ie&7):(oe=0,U=Y),oe!==0&&!Q(U,oe,J(oe,U))&&(oe=0,U=Y)):(oe-=6,U=U<<6|ie&63),oe===0&&(U<=65535?ue+=String.fromCharCode(U):(ue+=String.fromCharCode(55296+(U-65535-1>>10)),ue+=String.fromCharCode(56320+(U-65535-1&1023))))}return this.bitsNeeded=oe,this.codePoint=U,ue};var p=function(){try{return new y().decode(new b().encode("test"),{stream:!0})==="test"}catch(z){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+z)}return!1};(y==null||b==null||!p())&&(y=v);var g=function(){};function N(z){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=g,this.onload=g,this.onerror=g,this.onreadystatechange=g,this._contentType="",this._xhr=z,this._sendTimeout=0,this._abort=g}N.prototype.open=function(z,Q){this._abort(!0);var J=this,Y=this._xhr,ue=1,oe=0;this._abort=function(he){J._sendTimeout!==0&&(s(J._sendTimeout),J._sendTimeout=0),(ue===1||ue===2||ue===3)&&(ue=4,Y.onload=g,Y.onerror=g,Y.onabort=g,Y.onprogress=g,Y.onreadystatechange=g,Y.abort(),oe!==0&&(s(oe),oe=0),he||(J.readyState=4,J.onabort(null),J.onreadystatechange())),ue=0};var U=function(){if(ue===1){var he=0,be="",De=void 0;if("contentType"in Y)he=200,be="OK",De=Y.contentType;else try{he=Y.status,be=Y.statusText,De=Y.getResponseHeader("Content-Type")}catch{he=0,be="",De=void 0}he!==0&&(ue=2,J.readyState=2,J.status=he,J.statusText=be,J._contentType=De,J.onreadystatechange())}},de=function(){if(U(),ue===2||ue===3){ue=3;var he="";try{he=Y.responseText}catch{}J.readyState=3,J.responseText=he,J.onprogress()}},ie=function(he,be){if((be==null||be.preventDefault==null)&&(be={preventDefault:g}),de(),ue===1||ue===2||ue===3){if(ue=4,oe!==0&&(s(oe),oe=0),J.readyState=4,he==="load")J.onload(be);else if(he==="error")J.onerror(be);else if(he==="abort")J.onabort(be);else throw new TypeError;J.onreadystatechange()}},re=function(he){Y!=null&&(Y.readyState===4?(!("onload"in Y)||!("onerror"in Y)||!("onabort"in Y))&&ie(Y.responseText===""?"error":"load",he):Y.readyState===3?"onprogress"in Y||de():Y.readyState===2&&U())},fe=function(){oe=r(function(){fe()},500),Y.readyState===3&&de()};"onload"in Y&&(Y.onload=function(he){ie("load",he)}),"onerror"in Y&&(Y.onerror=function(he){ie("error",he)}),"onabort"in Y&&(Y.onabort=function(he){ie("abort",he)}),"onprogress"in Y&&(Y.onprogress=de),"onreadystatechange"in Y&&(Y.onreadystatechange=function(he){re(he)}),("contentType"in Y||!("ontimeout"in i.prototype))&&(Q+=(Q.indexOf("?")===-1?"?":"&")+"padding=true"),Y.open(z,Q,!0),"readyState"in Y&&(oe=r(function(){fe()},0))},N.prototype.abort=function(){this._abort(!1)},N.prototype.getResponseHeader=function(z){return this._contentType},N.prototype.setRequestHeader=function(z,Q){var J=this._xhr;"setRequestHeader"in J&&J.setRequestHeader(z,Q)},N.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},N.prototype.send=function(){if((!("ontimeout"in i.prototype)||!("sendAsBinary"in i.prototype)&&!("mozAnon"in i.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var z=this;z._sendTimeout=r(function(){z._sendTimeout=0,z.send()},4);return}var Q=this._xhr;"withCredentials"in Q&&(Q.withCredentials=this.withCredentials);try{Q.send(void 0)}catch(J){throw J}};function j(z){return z.replace(/[A-Z]/g,function(Q){return String.fromCharCode(Q.charCodeAt(0)+32)})}function k(z){for(var Q=Object.create(null),J=z.split(`\r
`),Y=0;Y<J.length;Y+=1){var ue=J[Y],oe=ue.split(": "),U=oe.shift(),de=oe.join(": ");Q[j(U)]=de}this._map=Q}k.prototype.get=function(z){return this._map[j(z)]},i!=null&&i.HEADERS_RECEIVED==null&&(i.HEADERS_RECEIVED=2);function C(){}C.prototype.open=function(z,Q,J,Y,ue,oe,U){z.open("GET",ue);var de=0;z.onprogress=function(){var re=z.responseText,fe=re.slice(de);de+=fe.length,J(fe)},z.onerror=function(re){re.preventDefault(),Y(new Error("NetworkError"))},z.onload=function(){Y(null)},z.onabort=function(){Y(null)},z.onreadystatechange=function(){if(z.readyState===i.HEADERS_RECEIVED){var re=z.status,fe=z.statusText,he=z.getResponseHeader("Content-Type"),be=z.getAllResponseHeaders();Q(re,fe,he,new k(be))}},z.withCredentials=oe;for(var ie in U)Object.prototype.hasOwnProperty.call(U,ie)&&z.setRequestHeader(ie,U[ie]);return z.send(),z};function E(z){this._headers=z}E.prototype.get=function(z){return this._headers.get(z)};function R(){}R.prototype.open=function(z,Q,J,Y,ue,oe,U){var de=null,ie=new x,re=ie.signal,fe=new y;return f(ue,{headers:U,credentials:oe?"include":"same-origin",signal:re,cache:"no-store"}).then(function(he){return de=he.body.getReader(),Q(he.status,he.statusText,he.headers.get("Content-Type"),new E(he.headers)),new h(function(be,De){var Sn=function(){de.read().then(function(jt){if(jt.done)be(void 0);else{var Ye=fe.decode(jt.value,{stream:!0});J(Ye),Sn()}}).catch(function(jt){De(jt)})};Sn()})}).catch(function(he){if(he.name!=="AbortError")return he}).then(function(he){Y(he)}),{abort:function(){de!=null&&de.cancel(),ie.abort()}}};function I(){this._listeners=Object.create(null)}function $(z){r(function(){throw z},0)}I.prototype.dispatchEvent=function(z){z.target=this;var Q=this._listeners[z.type];if(Q!=null)for(var J=Q.length,Y=0;Y<J;Y+=1){var ue=Q[Y];try{typeof ue.handleEvent=="function"?ue.handleEvent(z):ue.call(this,z)}catch(oe){$(oe)}}},I.prototype.addEventListener=function(z,Q){z=String(z);var J=this._listeners,Y=J[z];Y==null&&(Y=[],J[z]=Y);for(var ue=!1,oe=0;oe<Y.length;oe+=1)Y[oe]===Q&&(ue=!0);ue||Y.push(Q)},I.prototype.removeEventListener=function(z,Q){z=String(z);var J=this._listeners,Y=J[z];if(Y!=null){for(var ue=[],oe=0;oe<Y.length;oe+=1)Y[oe]!==Q&&ue.push(Y[oe]);ue.length===0?delete J[z]:J[z]=ue}};function w(z){this.type=z,this.target=void 0}function T(z,Q){w.call(this,z),this.data=Q.data,this.lastEventId=Q.lastEventId}T.prototype=Object.create(w.prototype);function O(z,Q){w.call(this,z),this.status=Q.status,this.statusText=Q.statusText,this.headers=Q.headers}O.prototype=Object.create(w.prototype);function F(z,Q){w.call(this,z),this.error=Q.error}F.prototype=Object.create(w.prototype);var _=-1,B=0,P=1,W=2,H=-1,q=0,ee=1,ae=2,we=3,Te=/^text\/event\-stream(;.*)?$/i,_e=1e3,ne=18e6,pe=function(z,Q){var J=z==null?Q:parseInt(z,10);return J!==J&&(J=Q),je(J)},je=function(z){return Math.min(Math.max(z,_e),ne)},A=function(z,Q,J){try{typeof Q=="function"&&Q.call(z,J)}catch(Y){$(Y)}};function X(z,Q){I.call(this),Q=Q||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,He(this,z,Q)}function ce(){return i!=null&&"withCredentials"in i.prototype||a==null?new i:new a}var Oe=f!=null&&m!=null&&"body"in m.prototype;function He(z,Q,J){Q=String(Q);var Y=!!J.withCredentials,ue=J.lastEventIdQueryParameterName||"lastEventId",oe=je(1e3),U=pe(J.heartbeatTimeout,45e3),de="",ie=oe,re=!1,fe=0,he=J.headers||{},be=J.Transport,De=Oe&&be==null?void 0:new N(be!=null?new be:ce()),Sn=be!=null&&typeof be!="string"?new be:De==null?new R:new C,jt=void 0,Ye=0,Rt=_,lt="",Br="",Yt="",xs="",rt=q,vo=0,Wn=0,Bi=function(Xe,Ke,Nt,St){if(Rt===B)if(Xe===200&&Nt!=null&&Te.test(Nt)){Rt=P,re=Date.now(),ie=oe,z.readyState=P;var st=new O("open",{status:Xe,statusText:Ke,headers:St});z.dispatchEvent(st),A(z,z.onopen,st)}else{var Ze="";Xe!==200?(Ke&&(Ke=Ke.replace(/\s+/g," ")),Ze="EventSource's response has a status "+Xe+" "+Ke+" that is not 200. Aborting the connection."):Ze="EventSource's response has a Content-Type specifying an unsupported type: "+(Nt==null?"-":Nt.replace(/\s+/g," "))+". Aborting the connection.",ys();var st=new O("error",{status:Xe,statusText:Ke,headers:St});z.dispatchEvent(st),A(z,z.onerror,st),console.error(Ze)}},dc=function(Xe){if(Rt===P){for(var Ke=-1,Nt=0;Nt<Xe.length;Nt+=1){var St=Xe.charCodeAt(Nt);(St===10||St===13)&&(Ke=Nt)}var st=(Ke!==-1?xs:"")+Xe.slice(0,Ke+1);xs=(Ke===-1?xs:"")+Xe.slice(Ke+1),Xe!==""&&(re=Date.now(),fe+=Xe.length);for(var Ze=0;Ze<st.length;Ze+=1){var St=st.charCodeAt(Ze);if(rt===H&&St===10)rt=q;else if(rt===H&&(rt=q),St===13||St===10){if(rt!==q){rt===ee&&(Wn=Ze+1);var an=st.slice(vo,Wn-1),ln=st.slice(Wn+(Wn<Ze&&st.charCodeAt(Wn)===32?1:0),Ze);an==="data"?(lt+=`
`,lt+=ln):an==="id"?Br=ln:an==="event"?Yt=ln:an==="retry"?(oe=pe(ln,oe),ie=oe):an==="heartbeatTimeout"&&(U=pe(ln,U),Ye!==0&&(s(Ye),Ye=r(function(){Xt()},U)))}if(rt===q){if(lt!==""){de=Br,Yt===""&&(Yt="message");var ar=new T(Yt,{data:lt.slice(1),lastEventId:Br});if(z.dispatchEvent(ar),Yt==="open"?A(z,z.onopen,ar):Yt==="message"?A(z,z.onmessage,ar):Yt==="error"&&A(z,z.onerror,ar),Rt===W)return}lt="",Yt=""}rt=St===13?H:q}else rt===q&&(vo=Ze,rt=ee),rt===ee?St===58&&(Wn=Ze+1,rt=ae):rt===ae&&(rt=we)}}},Wi=function(Xe){if(Rt===P||Rt===B){Rt=_,Ye!==0&&(s(Ye),Ye=0),Ye=r(function(){Xt()},ie),ie=je(Math.min(oe*16,ie*2)),z.readyState=B;var Ke=new F("error",{error:Xe});z.dispatchEvent(Ke),A(z,z.onerror,Ke),Xe!=null&&console.error(Xe)}},ys=function(){Rt=W,jt!=null&&(jt.abort(),jt=void 0),Ye!==0&&(s(Ye),Ye=0),z.readyState=W},Xt=function(){if(Ye=0,Rt!==_){if(!re&&jt!=null)Wi(new Error("No activity within "+U+" milliseconds. "+(Rt===B?"No response received.":fe+" chars received.")+" Reconnecting.")),jt!=null&&(jt.abort(),jt=void 0);else{var Xe=Math.max((re||Date.now())+U-Date.now(),1);re=!1,Ye=r(function(){Xt()},Xe)}return}re=!1,fe=0,Ye=r(function(){Xt()},U),Rt=B,lt="",Yt="",Br=de,xs="",vo=0,Wn=0,rt=q;var Ke=Q;if(Q.slice(0,5)!=="data:"&&Q.slice(0,5)!=="blob:"&&de!==""){var Nt=Q.indexOf("?");Ke=Nt===-1?Q:Q.slice(0,Nt+1)+Q.slice(Nt+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(ln,ar){return ar===ue?"":ln}),Ke+=(Q.indexOf("?")===-1?"?":"&")+ue+"="+encodeURIComponent(de)}var St=z.withCredentials,st={};st.Accept="text/event-stream";var Ze=z.headers;if(Ze!=null)for(var an in Ze)Object.prototype.hasOwnProperty.call(Ze,an)&&(st[an]=Ze[an]);try{jt=Sn.open(De,Bi,dc,Wi,Ke,St,st)}catch(ln){throw ys(),ln}};z.url=Q,z.readyState=B,z.withCredentials=Y,z.headers=he,z._close=ys,Xt()}X.prototype=Object.create(I.prototype),X.prototype.CONNECTING=B,X.prototype.OPEN=P,X.prototype.CLOSED=W,X.prototype.close=function(){this._close()},X.CONNECTING=B,X.OPEN=P,X.CLOSED=W,X.prototype.withCredentials=void 0;var at=c;i!=null&&(c==null||!("withCredentials"in c.prototype))&&(at=X),function(z){{var Q=z(t);Q!==void 0&&(e.exports=Q)}}(function(z){z.EventSourcePolyfill=X,z.NativeEventSource=c,z.EventSource=at})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:hb:globalThis)})(id,id.exports);var _o=id.exports;class pS{constructor(t){qe(this,"_userId");qe(this,"apiBaseUrl");qe(this,"maxReconnectAttempts");qe(this,"eventSource",null);qe(this,"reconnectAttempts",0);qe(this,"reconnectTimeout",null);qe(this,"isManualDisconnect",!1);qe(this,"onNotification");qe(this,"onAuthRequired");qe(this,"onConnectionOpen");qe(this,"onConnectionError");qe(this,"onTokenRefresh");this._userId=t.userId,this.apiBaseUrl=t.apiBaseUrl||"http://localhost:8080",this.maxReconnectAttempts=t.maxReconnectAttempts||5,this.onNotification=t.onNotification,this.onAuthRequired=t.onAuthRequired,this.onConnectionOpen=t.onConnectionOpen,this.onConnectionError=t.onConnectionError,this.onTokenRefresh=t.onTokenRefresh}connect(){if(this.eventSource&&this.eventSource.readyState===_o.EventSourcePolyfill.OPEN){console.log("SSE    .");return}const t=this.getValidToken();if(!t){console.warn("  .  ."),this.handleAuthRequired();return}this.startSSEConnection(t)}startSSEConnection(t){this.disconnect();const n=`${this.apiBaseUrl}/api/notifications/subscribe`;try{console.log("SSE  :",n),this.eventSource=new _o.EventSourcePolyfill(n,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0,heartbeatTimeout:45e3}),this.eventSource.onopen=()=>{var r;console.log("SSE  "),this.reconnectAttempts=0,(r=this.onConnectionOpen)==null||r.call(this)},this.eventSource.onmessage=r=>{this.handleMessage(r)},this.eventSource.onerror=r=>{var s,i,a,l;console.error("SSE  :",{error:r,readyState:(s=this.eventSource)==null?void 0:s.readyState,url:n}),(i=this.onConnectionError)==null||i.call(this,r),((a=this.eventSource)==null?void 0:a.readyState)===_o.EventSourcePolyfill.CLOSED?(console.log("SSE  ."),this.eventSource=null,this.handleReconnect()):((l=this.eventSource)==null?void 0:l.readyState)===_o.EventSourcePolyfill.CONNECTING&&console.log("SSE  ...")},this.eventSource.addEventListener("auth-error",r=>{var s;console.warn(" :",r.data),(s=this.eventSource)==null||s.close(),this.handleAuthRequired()}),this.eventSource.addEventListener("token-expired",()=>{var r;console.log("   "),(r=this.eventSource)==null||r.close(),this.refreshTokenAndConnect()})}catch(r){console.error("SSE    :",r),this.handleReconnect()}}handleMessage(t){var n;if(!(t.data==="ping"||t.data==="heartbeat"))try{const r=JSON.parse(t.data);if(r.notificationType==="CONNECTED")return;console.log("SSE  :",r),(n=this.onNotification)==null||n.call(this,r)}catch(r){console.error("SSE   :",r,"Raw data:",t.data)}}async refreshTokenAndConnect(){try{console.log("     ..."),await this.refreshToken()?(console.log("  , SSE  ..."),this.connect()):(console.error("   -  "),this.handleAuthRequired())}catch(t){console.error("    :",t),this.handleAuthRequired()}}handleReconnect(){if(this.isManualDisconnect){console.log("     .");return}if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`${t}ms    (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.clearReconnectTimeout(),this.reconnectTimeout=setTimeout(async()=>{console.log("  ...");const n=this.getValidToken();!n||this.isTokenExpired(n)?(console.log("  .    ."),await this.refreshTokenAndConnect()):this.connect()},t)}else console.error("    .  ."),this.handleAuthRequired()}getValidToken(){return localStorage.getItem("accessToken")}isTokenExpired(t){try{const n=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return n.exp<r}catch{return!0}}async refreshToken(){if(this.onTokenRefresh)try{return await this.onTokenRefresh()}catch(t){return console.error("   :",t),null}try{console.log("   ...");const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const r=(await t.text()).replace(/"/g,"");if(r&&r!=="null")return localStorage.setItem("accessToken",r),console.log("  "),r}else console.error(`  : ${t.status} ${t.statusText}`),t.status===401&&localStorage.removeItem("accessToken");return null}catch(t){return console.error("   :",t),null}}handleAuthRequired(){var t;(t=this.onAuthRequired)==null||t.call(this)}clearReconnectTimeout(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}disconnect(){this.isManualDisconnect=!0,this.clearReconnectTimeout(),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}reconnect(){this.isManualDisconnect=!1,this.reconnectAttempts=0,this.connect()}forceReconnect(){console.log("   ..."),this.isManualDisconnect=!1,this.reconnectAttempts=0,this.clearReconnectTimeout(),this.disconnect(),setTimeout(async()=>{const t=this.getValidToken();!t||this.isTokenExpired(t)?(console.log(" :    "),await this.refreshTokenAndConnect()):(console.log(" :   "),this.connect())},500)}isConnected(){var t;return((t=this.eventSource)==null?void 0:t.readyState)===_o.EventSourcePolyfill.OPEN}getReconnectAttempts(){return this.reconnectAttempts}updateUserId(t){this._userId=t}getUserId(){return this._userId}}const gS=e=>{const{userId:t,apiBaseUrl:n="http://localhost:8080",maxReconnectAttempts:r=5,onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c,autoConnect:u=!0}=e,h=d.useRef(null),[f,m]=d.useState(!1),[y,b]=d.useState(0),x=d.useRef({onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c});d.useEffect(()=>{x.current={onNotification:s,onAuthRequired:i,onConnectionOpen:a,onConnectionError:l,onTokenRefresh:c}});const S=d.useCallback(()=>{var E,R;m(!0),b(0),(R=(E=x.current).onConnectionOpen)==null||R.call(E)},[]),v=d.useCallback(E=>{var R,I;m(!1),(I=(R=x.current).onConnectionError)==null||I.call(R,E)},[]),p=d.useCallback(E=>{var R,I;(I=(R=x.current).onNotification)==null||I.call(R,E)},[]),g=d.useCallback(()=>{var E,R;m(!1),(R=(E=x.current).onAuthRequired)==null||R.call(E)},[]),N=d.useCallback(()=>{h.current&&t&&h.current.connect()},[t]),j=d.useCallback(()=>{h.current&&(h.current.disconnect(),m(!1),b(0))},[]),k=d.useCallback(()=>{h.current&&h.current.reconnect()},[]),C=d.useCallback(()=>{h.current&&h.current.forceReconnect()},[]);return d.useEffect(()=>{if(t){const E={userId:t,apiBaseUrl:n,maxReconnectAttempts:r,onNotification:p,onAuthRequired:g,onConnectionOpen:S,onConnectionError:v,onTokenRefresh:x.current.onTokenRefresh};h.current=new pS(E),u&&setTimeout(()=>{var $;($=h.current)==null||$.connect()},1e3);const I=setInterval(()=>{h.current&&(m(h.current.isConnected()),b(h.current.getReconnectAttempts()))},2e3);return()=>{var $;clearInterval(I),($=h.current)==null||$.disconnect(),h.current=null}}else h.current&&(h.current.disconnect(),h.current=null),m(!1),b(0)},[t,n,r,u,p,g,S,v]),d.useEffect(()=>{h.current&&t&&h.current.updateUserId(t)},[t]),{isConnected:f,reconnectAttempts:y,connect:N,disconnect:j,reconnect:k,forceReconnect:C}};function vS({currentPage:e,onPageChange:t,onProfileClick:n,onMyProfileClick:r,onCloseDM:s,onLogout:i,authenticatedFetch:a,userId:l,refreshUserProfile:c,deleteNotification:u,deleteAllNotifications:h,refreshAccessToken:f}){const[m,y]=d.useState([]),[b,x]=d.useState(!1),[S,v]=d.useState(!1),[p,g]=d.useState(null);gS({userId:l,onNotification:_=>{if(_.notificationType==="CONNECTED")return;const B=N(_);y(P=>[B,...P])},onAuthRequired:()=>{console.warn("SSE    -      "),f().then(_=>{_?console.log("SSE    -   "):(console.error("SSE     "),i())}).catch(_=>{console.error("SSE    :",_),i()})},onTokenRefresh:async()=>await f()});const N=_=>{const B=H=>{switch(H){case"DM_RECEIVED":case"NEW_DM_ROOM":return"message";case"FOLLOWED":return"follow";case"PLAYLIST_SUBSCRIBED":case"FOLLOWING_POSTED_PLAYLIST":return"like";default:return"notification"}},P=H=>{switch(H){case"DM_RECEIVED":return"  ";case"NEW_DM_ROOM":return"  ";case"FOLLOWED":return"  ";case"PLAYLIST_SUBSCRIBED":return" ";case"FOLLOWING_POSTED_PLAYLIST":return"   ";case"ROLE_CHANGED":return" ";default:return" "}},W=H=>{const q=new Date(H),ae=new Date().getTime()-q.getTime(),we=Math.floor(ae/(1e3*60)),Te=Math.floor(ae/(1e3*60*60)),_e=Math.floor(ae/(1e3*60*60*24));return we<1?" ":we<60?`${we} `:Te<24?`${Te} `:_e===1?"":`${_e} `};return{id:_.id,type:B(_.notificationType),title:P(_.notificationType),content:_.content,avatar:"",timestamp:W(_.createdAt),isRead:!1}},j=async()=>{if(l)try{const _=await mS.getUser(l);g(_)}catch(_){console.error("   :",_),_ instanceof Error&&(_.message.includes("not found")||_.message.includes("401")||_.message.includes("403"))&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i())}},k=async()=>{if(l)try{const _=await a("http://localhost:8080/api/notifications");if(!_.ok){if(_.status===401||_.status===403){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i();return}throw new Error(`   . (: ${_.status})`)}const B=await _.json(),P=B.content||B;if(!Array.isArray(P)){console.error("   :",B),y([]);return}const W=P.map(H=>({...N(H),isRead:!0}));y(W)}catch(_){console.error("   :",_),_ instanceof Error&&(_.message.includes("401")||_.message.includes("403"))&&y([])}};d.useEffect(()=>{l&&(j(),k())},[l]),d.useEffect(()=>(c&&(window.headerRefreshUserProfile=j),()=>{window.headerRefreshUserProfile&&delete window.headerRefreshUserProfile}),[c]);const C=[{id:"home",label:""},{id:"movies",label:""},{id:"tv",label:"TV/"},{id:"sports",label:""},{id:"curation",label:""},{id:"live",label:""},{id:"playlist",label:""}],E=m.filter(_=>!_.isRead).length;d.useEffect(()=>{const _=B=>{const P=B.target;!P.closest(".notification-container")&&!P.closest(".profile-container")&&(x(!1),v(!1))};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[]);const R=_=>{switch(_){case"message":return o.jsx(Pf,{className:"w-4 h-4"});case"follow":return o.jsx(Of,{className:"w-4 h-4"});case"like":return o.jsx(Ar,{className:"w-4 h-4"});case"watch":return o.jsx(yt,{className:"w-4 h-4"});default:return o.jsx(Mm,{className:"w-4 h-4"})}},I=async _=>{try{await u(_),y(B=>B.filter(P=>P.id!==_))}catch(B){console.error("  :",B)}},$=_=>{y(B=>B.map(P=>P.id===_?{...P,isRead:!0}:P))},w=async()=>{try{await k(),y(_=>_.map(B=>({...B,isRead:!0})))}catch(_){console.error("   :",_)}},T=_=>{s&&s(),t(_)},O=_=>{_.stopPropagation(),s&&s(),x(!b),v(!1)},F=async()=>{try{if(!(await a("http://localhost:8080/api/auth/logout",{method:"POST"})).ok)throw new Error(" .");v(!1),i()}catch(_){console.error(" :",_),v(!1),i()}};return o.jsx("header",{className:"glass-effect border-b border-white/10 px-6 py-4 sticky top-0 z-50",children:o.jsxs("nav",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsx("div",{className:"gradient-text cursor-pointer text-2xl font-bold",onClick:()=>T("home"),children:""}),o.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:C.map(_=>o.jsx("li",{children:o.jsx("button",{onClick:()=>T(_.id),className:`transition-colors hover:text-[#4ecdc4] ${e===_.id?"text-[#4ecdc4] font-medium":"text-white/80"}`,children:_.label})},_.id))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative notification-container",children:[o.jsxs(M,{variant:"ghost",size:"sm",onClick:O,className:"relative p-2 hover:bg-white/10",children:[o.jsx(Mm,{className:"w-5 h-5"}),E>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:E>9?"9+":E})]}),b&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-2xl border border-white/20 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsx("h3",{className:"gradient-text font-medium",children:""}),o.jsxs("div",{className:"flex items-center space-x-2",children:[E>0&&o.jsx(M,{variant:"ghost",size:"sm",onClick:w,className:"text-xs text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent p-1",children:" "}),o.jsx(M,{variant:"ghost",size:"sm",onClick:async()=>{try{await h(),y([])}catch(_){console.error("   :",_)}},className:"text-xs text-red-400 hover:text-red-300 hover:bg-transparent p-1",children:o.jsx(rd,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:`overflow-y-auto ${m.length>4?"max-h-96":""}`,children:m.length===0?o.jsx("div",{className:"flex items-center justify-center py-8 text-white/60",children:" "}):o.jsx("div",{className:"p-2",children:m.map(_=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors relative group",onClick:()=>$(_.id),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs($e,{className:"h-12 w-12",children:[o.jsx(ze,{src:_.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:_.title.charAt(0)})]}),o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-[#4ecdc4] text-black rounded-full w-5 h-5 flex items-center justify-center",children:R(_.type)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("p",{className:`text-sm leading-tight ${_.isRead?"text-white/60":"font-medium"}`,children:_.title}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:_.timestamp})]}),o.jsx("p",{className:"text-xs text-white/60 truncate",children:_.content})]}),o.jsx(M,{variant:"ghost",size:"sm",onClick:async B=>{B.stopPropagation(),await I(_.id)},className:"absolute bottom-2 right-2 p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/20 hover:text-red-400",children:o.jsx(rd,{className:"w-3 h-3"})}),!_.isRead&&o.jsx("div",{className:"absolute top-3 right-3 bg-[#4ecdc4] rounded-full w-2 h-2"})]},_.id))})})]})]}),o.jsxs("div",{className:"relative profile-container",children:[o.jsxs(M,{variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),v(!S),x(!1)},className:"flex items-center space-x-2 p-2 hover:bg-white/10",children:[o.jsxs($e,{className:"h-8 w-8",children:[o.jsx(ze,{src:(p==null?void 0:p.profileImage)||""}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:(p==null?void 0:p.name.charAt(0))||"U"})]}),o.jsx("span",{className:"hidden md:block text-sm",children:(p==null?void 0:p.name)||""})]}),S&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 rounded-xl border border-white/20 p-2 z-50",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>{v(!1),r()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Um,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>{v(!1),n()},className:"w-full justify-start space-x-2 p-3 hover:bg-white/10",children:[o.jsx(Um,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]}),o.jsx("div",{className:"my-1 h-px bg-white/10"}),o.jsxs(M,{variant:"ghost",size:"sm",onClick:F,className:"w-full justify-start space-x-2 p-3 hover:bg-white/10 text-red-400 hover:text-red-300",children:[o.jsx(Gj,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})]})})}function xS(){const e=new Date().getFullYear(),t={:[{name:"",href:"#home"},{name:"",href:"#movies"},{name:"TV/",href:"#tv"},{name:"",href:"#sports"},{name:"",href:"#curation"},{name:"",href:"#live"}],:[{name:"",href:"#notices"},{name:"  ",href:"#faq"},{name:"",href:"#support"},{name:" ",href:"#bug-report"}],:[{name:"",href:"#terms"},{name:"",href:"#privacy"},{name:" ",href:"#copyright"},{name:" ",href:"#guidelines"}],:[{name:"",href:"#about"},{name:"",href:"#careers"},{name:"",href:"#partnership"},{name:"",href:"#advertising"}]},n=[{name:"Github",icon:Hj,href:"#github"},{name:"Twitter",icon:sN,href:"#twitter"},{name:"Instagram",icon:Kj,href:"#instagram"},{name:"Email",icon:Yj,href:"mailto:contact@mopl.kr"}];return o.jsx("footer",{className:"bg-[#0f0f0f] border-t border-white/10 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"gradient-text text-2xl font-bold mb-4",children:""}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:"  , ,       ."}),o.jsx("div",{className:"flex space-x-4",children:n.map(r=>{const s=r.icon;return o.jsx("a",{href:r.href,className:"text-white/40 hover:text-[#4ecdc4] transition-colors p-2 hover:bg-white/5 rounded-lg","aria-label":r.name,children:o.jsx(s,{className:"w-5 h-5"})},r.name)})})]}),Object.entries(t).map(([r,s])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-4 text-white",children:r}),o.jsx("ul",{className:"space-y-3",children:s.map(i=>o.jsx("li",{children:o.jsx("a",{href:i.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:i.name})},i.name))})]},r))]}),o.jsx("div",{className:"pt-8 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"text-white/40 text-sm",children:[" ",e," (MOPL). All rights reserved."]}),o.jsxs("div",{className:"flex items-center space-x-2 text-white/40 text-sm",children:[o.jsx("span",{children:"Made with"}),o.jsx(Ar,{className:"w-4 h-4 text-red-500 fill-current"}),o.jsx("span",{children:"in Korea"})]})]})})]})})}const Me=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,"data-slot":"input",className:Ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));Me.displayName="Input";var yS="Label",Ax=d.forwardRef((e,t)=>o.jsx(le.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Ax.displayName=yS;var wS=Ax;function At({className:e,...t}){return o.jsx(wS,{"data-slot":"label",className:Ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var bS="Separator",Xm="horizontal",jS=["horizontal","vertical"],Ix=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Xm,...s}=e,i=NS(r)?r:Xm,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(le.div,{"data-orientation":i,...l,...s,ref:t})});Ix.displayName=bS;function NS(e){return jS.includes(e)}var SS=Ix;function kS({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return o.jsx(SS,{"data-slot":"separator-root",decorative:n,orientation:t,className:Ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Ox({selectedImage:e,onImageSelect:t,onClose:n,userName:r}){const[s,i]=d.useState(null),a=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];if(u){if(!u.type.startsWith("image/")){i("    .");return}if(u.size>5*1024*1024){i("  5MB  .");return}i(null),t(u)}},l=()=>{t(null),i(null)};return o.jsxs("div",{className:"w-full p-4 bg-black/20 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"  "}),n&&o.jsx(M,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(yn,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:s}),e&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs($e,{className:"h-20 w-20",children:[o.jsx(ze,{src:URL.createObjectURL(e)}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:(r==null?void 0:r.charAt(0))||"U"})]}),o.jsx(M,{type:"button",variant:"destructive",size:"sm",onClick:l,className:"absolute -top-2 -right-2 p-1 h-6 w-6 rounded-full",children:o.jsx(yn,{className:"w-3 h-3"})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx(Me,{type:"file",accept:"image/*",onChange:a,className:"hidden",id:"profile-upload"}),o.jsxs("label",{htmlFor:"profile-upload",className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-white/20 rounded-lg hover:border-[#4ecdc4]/50 cursor-pointer transition-colors",children:[o.jsx(oN,{className:"w-8 h-8 text-white/40 mb-2"}),o.jsx("p",{className:"text-sm text-white/60 text-center",children:e?"   ":"  "}),o.jsx("p",{className:"text-xs text-white/40 mt-1",children:"JPG, PNG, GIF ( 5MB)"})]})]}),e&&o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-white/80",children:[" : ",e.name]}),o.jsxs("p",{className:"text-xs text-white/60",children:[": ",(e.size/1024/1024).toFixed(2),"MB"]})]})]})}function CS({onLogin:e,onToggleAuth:t,onForgotPassword:n,isRegister:r}){const[s,i]=d.useState(!1),[a,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,y]=d.useState(null),[b,x]=d.useState(!1),S=()=>{window.location.href="http://localhost:8080/api/oauth2/login/kakao"},v=()=>{window.location.href="http://localhost:8080/api/oauth2/login/google"},p=async g=>{g.preventDefault(),u(null),f(!0);try{if(r){if(!a.name.trim()){u(" .");return}if(a.name.length<3||a.name.length>50){u(" 3  50  .");return}if(!a.email.trim()){u(" .");return}if(!a.password.trim()){u(" .");return}if(a.password!==a.confirmPassword){u("  .");return}const N=new FormData;N.append("email",a.email),N.append("name",a.name),N.append("password",a.password),m&&N.append("profile",m);const j=await fetch("/api/users",{method:"POST",credentials:"include",body:N});if(!j.ok){let k=" .";const C=j.headers.get("content-type");if(C&&C.includes("application/json"))try{const E=await j.text();E&&(k=JSON.parse(E).message||k)}catch(E){console.error("Error parsing error response:",E)}throw new Error(k)}alert(" . ."),t()}else{const N={email:a.email,password:a.password},j=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(N)});if(!j.ok){let C=" .";const E=j.headers.get("content-type");if(E&&E.includes("application/json"))try{const R=await j.text();R&&(C=JSON.parse(R).message||C)}catch(R){console.error("Error parsing error response:",R)}throw new Error(C)}const k=await j.text();if(!k||k.trim()===""){console.warn("Empty response body received"),e("temp-token",!1);return}try{const C=JSON.parse(k);e(C.accessToken,C.isTempPassword)}catch(C){throw console.error("Error parsing success response:",C),new Error("    .")}}}catch(N){u(N instanceof Error?N.message:"   .")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f]",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #4ecdc4 0%, transparent 50%), 
                           radial-gradient(circle at 75% 75%, #26a69a 0%, transparent 50%)`}})}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"  , ,    "})]}),o.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-white/20",children:[o.jsx("h2",{className:"text-2xl mb-6 text-center",children:r?"":""}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-md mb-4",children:c}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[r&&o.jsxs("div",{children:[o.jsx(At,{htmlFor:"name",className:"text-base",children:""}),o.jsx(Me,{id:"name",type:"text",value:a.name,onChange:g=>l({...a,name:g.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  (3-50)",required:!0})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"email",className:"text-base",children:""}),o.jsx(Me,{id:"email",type:"email",value:a.email,onChange:g=>l({...a,email:g.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"password",className:"text-base",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(Me,{id:"password",type:s?"text":"password",value:a.password,onChange:g=>l({...a,password:g.target.value}),className:"mt-2 h-12 px-4 pr-12 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:" ",required:!0}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60",children:s?o.jsx(Vj,{className:"w-5 h-5"}):o.jsx(pi,{className:"w-5 h-5"})})]})]}),r&&o.jsxs("div",{children:[o.jsx(At,{htmlFor:"confirmPassword",className:"text-base",children:" "}),o.jsx(Me,{id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:g=>l({...a,confirmPassword:g.target.value}),className:"mt-2 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",placeholder:"  ",required:!0})]}),r&&o.jsxs("div",{children:[o.jsx(At,{className:"text-base",children:" "}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[o.jsxs($e,{className:"h-16 w-16",children:[o.jsx(ze,{src:m?URL.createObjectURL(m):void 0}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:a.name.charAt(0)||"U"})]}),o.jsxs(M,{type:"button",variant:"outline",onClick:()=>x(!b),className:"flex items-center space-x-2 border-white/20 hover:bg-white/5",children:[o.jsx(cx,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]}),b&&o.jsx("div",{className:"mt-4",children:o.jsx(Ox,{selectedImage:m,onImageSelect:y,onClose:()=>x(!1),userName:a.name})})]}),o.jsx(M,{type:"submit",className:"w-full h-12 text-base teal-gradient hover:opacity-80 text-black mt-8",disabled:h,children:h?" ...":r?"":""})]}),o.jsx(kS,{className:"my-6 bg-white/20"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(M,{variant:"outline",className:"w-full h-12 text-base bg-[#FEE500] hover:bg-[#FEE500]/80 text-black border-[#FEE500]",onClick:S,disabled:h,children:[" ",r?"":""]}),o.jsxs(M,{variant:"outline",className:"w-full h-12 text-base bg-white hover:bg-white/90 text-black border-white",onClick:v,disabled:h,children:["Google ",r?"":""]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsxs("span",{className:"text-white/60",children:[r?"  ?":" ?"," "]}),o.jsx("button",{onClick:t,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:r?"":""})]}),!r&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsxs("span",{className:"text-white/60",children:[" ?"," "]}),o.jsx("button",{onClick:n,className:"text-[#4ecdc4] hover:text-[#26a69a] transition-colors",disabled:h,children:" "})]})]})]})]})}class ES{constructor(){qe(this,"baseUrl","http://localhost:8080/api/contents")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getContents(t){try{const n=new URLSearchParams;if(t!=null&&t.query&&n.append("title",t.query),t!=null&&t.type){const a=t.type.toUpperCase();n.append("contentType",a)}t!=null&&t.sortBy&&n.append("sortBy",t.sortBy),t!=null&&t.direction&&n.append("direction",t.direction),t!=null&&t.cursor&&n.append("cursor",t.cursor),t!=null&&t.size&&n.append("size",t.size.toString());const r=`${this.baseUrl}?${n.toString()}`,s=await this.authenticatedFetch(r);if(!s.ok)throw new Error(`   . Status: ${s.status}`);return await s.json()}catch(n){throw console.error("   :",n),n}}async getContent(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getContentsByType(t,n){return this.getContents({...n,type:t})}async searchContents(t,n){return this.getContents({...n,query:t})}getTypeLabel(t){switch(t.toLowerCase()){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}}getTypeColor(t){switch(t.toLowerCase()){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}}}const qr=new ES;class TS{constructor(){qe(this,"baseUrl","http://localhost:8080/api/rooms")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getWatchRooms(t){var n;try{const r=new URLSearchParams;t!=null&&t.query&&r.append("searchKeyword",t.query),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.limit&&r.append("size",t.limit.toString()),t!=null&&t.offset&&r.append("cursor",((n=t.offset)==null?void 0:n.toString())||"");const s=`${this.baseUrl}${r.toString()?"?"+r.toString():""}`,i=await this.authenticatedFetch(s);if(!i.ok)throw new Error(`   . Status: ${i.status}`);const a=await i.json(),l=a.data||a;return Array.isArray(l)?t!=null&&t.sortBy?this.sortWatchRooms(l,t.sortBy):l:(console.error("   :",a),[])}catch(r){throw console.error("   :",r),r}}async createWatchRoom(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async getWatchRoom(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async joinWatchRoom(t){var n;try{const r=await this.getWatchRoom(t);return{id:r.id,title:r.title,newUserId:"",content:{id:r.contentId||"",title:((n=r.contentDto)==null?void 0:n.title)||r.contentTitle||"",titleNormalized:"",description:"",contentType:"MOVIE",releaseDate:"",youtubeUrl:"",thumbnailUrl:"",avgRating:0,createdAt:""},participantsInfoDto:{participantDtoList:[],participantCount:0}}}catch(r){throw console.error("  :",r),r}}async searchWatchRooms(t,n="participantCount"){return this.getWatchRooms({query:t,sortBy:n})}sortWatchRooms(t,n){return[...t].sort((r,s)=>{switch(n){case"participantCount":return s.headCount-r.headCount;case"createdAt":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"title":return r.title.localeCompare(s.title);default:return s.headCount-r.headCount}})}filterWatchRooms(t,n){if(!n.trim())return t;const r=n.toLowerCase();return t.filter(s=>{var i;return s.title.toLowerCase().includes(r)||(((i=s.contentDto)==null?void 0:i.title)||s.contentTitle||"").toLowerCase().includes(r)||s.ownerName.toLowerCase().includes(r)})}}const Fl=new TS;class _S{constructor(){qe(this,"baseUrl","http://localhost:8080/api/playlists")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getPlaylistByUser(){try{const t=await this.authenticatedFetch(this.baseUrl);if(!t.ok)throw new Error(`   . Status: ${t.status}`);return await t.json()}catch(t){throw console.error("   :",t),t}}}const RS=new _S;function ca({onPageChange:e,onPlaylistOpen:t,onContentPlay:n}){const[r,s]=d.useState([]),[i,a]=d.useState([]),[l,c]=d.useState([]),[u,h]=d.useState(!0),f=d.useRef(null),m=d.useRef(null),y=d.useRef(null),b=async()=>{try{const j=await Fl.getWatchRooms({limit:9});Array.isArray(j)?s(j):(console.error("Live rooms data is not an array:",j),s([]))}catch(j){console.error("Failed to fetch live rooms:",j),s([])}},x=async()=>{try{const j=await qr.getContents({size:20});a(j.data)}catch(j){console.error("Failed to fetch featured content:",j)}},S=async()=>{try{const j=await RS.getPlaylistByUser();c(j.slice(0,4))}catch(j){console.error("Failed to fetch my playlists:",j),c([])}};d.useEffect(()=>{(async()=>{h(!0),await Promise.all([b(),x(),S()]),h(!1)})()},[]);const v=()=>{e&&e("playlist")},p=j=>{t&&t(j)},g=j=>{j.current&&j.current.scrollBy({left:-288,behavior:"smooth"})},N=j=>{j.current&&j.current.scrollBy({left:288,behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("section",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4ecdc4]/20 to-[#26a69a]/20"}),o.jsxs("div",{className:"relative container mx-auto text-center",children:[o.jsxs("h1",{className:"text-5xl mb-4",children:[o.jsx("span",{className:"gradient-text",children:" "}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:" "})]}),o.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-2xl mx-auto",children:", TV/,      "}),o.jsxs(M,{size:"lg",className:"teal-gradient hover:opacity-80 text-black",onClick:()=>e&&e("create-room"),children:[o.jsx(Wt,{className:"w-5 h-5 mr-2"}),"  "]})]})]}),o.jsxs("div",{className:"container mx-auto px-4 space-y-12",children:[o.jsxs("section",{className:"mx-[0px] my-[42px] relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(If,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:"  "})]}),o.jsxs(M,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(mr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(M,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>g(f),children:o.jsx(Xo,{className:"w-6 h-6"})}),o.jsx(M,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>N(f),children:o.jsx(mr,{className:"w-6 h-6"})}),o.jsx("div",{ref:f,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(3).fill(0).map((j,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},k)):(Array.isArray(r)?r:[]).slice(0,9).map(j=>{var k,C,E;return o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[(k=j.contentDto)!=null&&k.thumbnailUrl?o.jsx("img",{src:j.contentDto.thumbnailUrl,alt:j.contentDto.title,className:"w-full h-full object-cover",onError:R=>{var I;R.currentTarget.style.display="none",(I=R.currentTarget.nextElementSibling)==null||I.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${(C=j.contentDto)!=null&&C.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"LIVE"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white animate-pulse",children:" LIVE"})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white",children:[" ",j.headCount]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(M,{size:"sm",onClick:R=>{R.stopPropagation(),console.log("Joining room:",j.id)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(yt,{className:"w-4 h-4 mr-1"}),""]})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:(E=j.contentDto)==null?void 0:E.title}),o.jsxs("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:[j.ownerName," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zr,{className:"w-4 h-4 text-[#4ecdc4]"}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsxs("span",{className:"text-xs text-white/60",children:[j.headCount," "]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-white/60",children:[": ",j.ownerName]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#4ecdc4]/20 text-[#4ecdc4]",children:"Live"})]})]})]},j.id)})})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(M,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",children:[" ",o.jsx(mr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(M,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>g(m),children:o.jsx(Xo,{className:"w-6 h-6"})}),o.jsx(M,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>N(m),children:o.jsx(mr,{className:"w-6 h-6"})}),o.jsx("div",{ref:m,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(6).fill(0).map((j,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl glass-effect border border-white/10 animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-[3/4] bg-white/10 rounded-t-xl mb-4"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-3/4"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},k)):i.slice(0,20).map(j=>o.jsxs("div",{className:"flex-shrink-0 w-72 bg-card rounded-xl overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>n&&n({id:j.id,title:j.title,thumbnail:j.thumbnailUrl||j.url||"",type:j.contentType==="MOVIE"?"movie":j.contentType==="TV"?"tv":"sports",duration:"120",description:j.description}),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[j.thumbnailUrl?o.jsx("img",{src:j.thumbnailUrl,alt:j.title,className:"w-full h-full object-cover",onError:k=>{var C;k.currentTarget.style.display="none",(C=k.currentTarget.nextElementSibling)==null||C.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${j.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:j.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(M,{size:"sm",onClick:k=>{k.stopPropagation(),n&&n({id:j.id,title:j.title,thumbnail:j.thumbnailUrl||j.url||"",type:j.contentType==="MOVIE"?"movie":j.contentType==="TV"?"tv":"sports",duration:"120",description:j.description})},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(yt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(M,{size:"sm",variant:"outline",onClick:k=>{k.stopPropagation(),console.log("Add to playlist:",j.id)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Wt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:j.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:j.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"4.5"}),o.jsx("span",{className:"text-xs text-white/40",children:"(123)"})]}),o.jsx("span",{className:"text-xs text-white/60",children:j.releaseDate?new Date(j.releaseDate).getFullYear():"2024"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:"120"}),o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${j.contentType==="MOVIE"?"bg-blue-500/20 text-blue-400 border border-blue-400/30":j.contentType==="TV"?"bg-purple-500/20 text-purple-400 border border-purple-400/30":"bg-green-500/20 text-green-400 border border-green-400/30"}`,children:j.contentType==="MOVIE"?"":j.contentType==="TV"?"TV/":""})]})]})]},j.id))})]}),o.jsxs("section",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Zr,{className:"w-6 h-6 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-2xl",children:" "})]}),o.jsxs(M,{variant:"ghost",className:"text-[#4ecdc4] hover:bg-white/5",onClick:v,children:["",o.jsx(mr,{className:"w-4 h-4 ml-1"})]})]}),o.jsx(M,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>g(y),children:o.jsx(Xo,{className:"w-6 h-6"})}),o.jsx(M,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full bg-black/60 hover:bg-black/80 border-white/20",onClick:()=>N(y),children:o.jsx(mr,{className:"w-6 h-6"})}),o.jsx("div",{ref:y,className:"flex overflow-x-auto scrollbar-hide gap-6 pb-4",style:{scrollSnapType:"x mandatory"},children:u?Array(4).fill(0).map((j,k)=>o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden animate-pulse",style:{scrollSnapAlign:"start"},children:[o.jsx("div",{className:"aspect-video bg-white/10"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white/10 rounded w-2/3"})]})]},k)):l.map((j,k)=>{const C=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-teal-500 to-blue-600"],E=C[k%C.length];return o.jsxs("div",{className:"flex-shrink-0 w-72 glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",style:{scrollSnapAlign:"start"},onClick:()=>p(j.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${E} flex items-center justify-center`,children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(fl,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),o.jsx("p",{className:"text-sm font-medium opacity-80",children:j.name.charAt(0)})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(M,{size:"lg",onClick:R=>{R.stopPropagation(),p(j.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(yt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:j.isPublic?"":""})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:j.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:" ."}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("span",{className:"text-xs text-white/60",children:[j.playlistContents.length," "]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Zr,{className:"w-3 h-3"}),o.jsx("span",{children:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_f,{className:"w-3 h-3"}),o.jsx("span",{children:j.createdAt?new Date(j.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},j.id)})})]})]})]})}const PS=xx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function dt({className:e,variant:t,asChild:n=!1,...r}){const s=n?px:"span";return o.jsx(s,{"data-slot":"badge",className:Ce(PS({variant:t}),e),...r})}class AS{constructor(){qe(this,"baseUrl","http://localhost:8080/api/keywords")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async createKeyword(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async deleteKeyword(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getKeywordContents(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}/contents`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getUserKeywords(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/keywords`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}}const ua=new AS,IS=e=>({id:e.id,title:e.title,thumbnail:e.thumbnailUrl||`https://via.placeholder.com/300x400/1a1a1a/ffffff?text=${encodeURIComponent(e.title)}`,type:e.contentType.toLowerCase(),duration:"2 30",description:e.description,rating:Math.floor(Math.random()*50)/10+5,year:new Date(e.releaseDate).getFullYear(),genres:["",""],displayGenres:["",""],viewerCount:Math.floor(Math.random()*1e4)+1e3,reviewCount:Math.floor(Math.random()*500)+50});function OS({onContentPlay:e,onContentDetail:t,onAddToPlaylist:n,userId:r}){const[s,i]=d.useState(""),[a,l]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[b,x]=d.useState(!1);d.useEffect(()=>{S()},[]),d.useEffect(()=>{if(c.length>0&&!s){const R=c[0];i(R.id),v(R.id)}},[c,s]);const S=async()=>{try{if(!r){console.error(" ID .");return}const I=(await ua.getUserKeywords(r)).map($=>({id:$.keywordId,label:$.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1}));u(I)}catch(R){console.error("   :",R),u([])}},v=async R=>{try{x(!0);const $=(await ua.getKeywordContents(R)).map(IS),w=c.find(B=>B.id===R),T=$.filter(B=>B.type==="movie"),O=$.filter(B=>B.type==="tv"),F=$.filter(B=>B.type==="sports"),_=[];T.length>0&&_.push({id:`${R}-movie`,title:`${(w==null?void 0:w.label)||""} `,items:T,category:""}),O.length>0&&_.push({id:`${R}-tv`,title:`${(w==null?void 0:w.label)||""} TV `,items:O,category:"TV"}),F.length>0&&_.push({id:`${R}-sports`,title:`${(w==null?void 0:w.label)||""} `,items:F,category:""}),l(_)}catch(I){console.error("  :",I),l([])}finally{x(!1)}},p=R=>{i(R),v(R)},g=async()=>{if(m.trim()){if(c.length>=10){alert("  10   .");return}try{const R=await ua.createKeyword({userId:r||"temp-user-id",keyword:m.trim()}),I={id:R.keywordId,label:R.keyword,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,isDefault:!1};u($=>[...$,I]),y(""),f(!1),alert(" !")}catch(R){console.error("  :",R),alert("  .")}}},N=async R=>{if(window.confirm("  ?"))try{if(await ua.deleteKeyword(R),u(I=>I.filter($=>$.id!==R)),s===R){const I=c.filter($=>$.id!==R);I.length>0?(i(I[0].id),v(I[0].id)):(i(""),l([]))}alert(" .")}catch(I){console.error("  :",I),alert("  .")}},j=R=>{const I=document.getElementById(R);I&&I.scrollBy({left:-400,behavior:"smooth"})},k=R=>{const I=document.getElementById(R);I&&I.scrollBy({left:400,behavior:"smooth"})},C=R=>R>=1e4?`${Math.floor(R/1e3)}K`:R.toLocaleString(),E=R=>{n==null||n(R),console.log(`Opening playlist modal for: ${R.title}`)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"w-full max-w-none",children:[o.jsxs("div",{className:"px-6 lg:px-12 py-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Fm,{className:"w-8 h-8 text-[#4ecdc4]"}),o.jsx("h1",{className:"text-3xl",children:"  "})]}),o.jsx("p",{className:"text-white/60 mb-8",children:"      "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex gap-3 items-center overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20 py-3 px-4 max-w-full",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.2) transparent"},children:[c.map(R=>o.jsxs("div",{className:"relative group flex-shrink-0",children:[o.jsx(M,{variant:s===R.id?"default":"outline",size:"sm",onClick:()=>p(R.id),className:`relative transition-all duration-300 whitespace-nowrap px-5 py-2.5 ${s===R.id?"bg-[#4ecdc4] text-black hover:bg-[#4ecdc4]/80 shadow-lg shadow-[#4ecdc4]/30":"border-white/20 hover:border-[#4ecdc4]/50 hover:bg-white/5 hover:-translate-y-0.5"}`,style:{borderColor:s===R.id?R.color:void 0,backgroundColor:s===R.id?R.color:void 0},children:R.label}),o.jsx(M,{size:"sm",variant:"ghost",onClick:I=>{I.stopPropagation(),N(R.id)},className:"absolute -top-2 -right-2 w-5 h-5 p-0 rounded-full bg-red-500 hover:bg-red-600 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:o.jsx(yn,{className:"w-3 h-3"})})]},R.id)),h?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[o.jsx(Me,{value:m,onChange:R=>y(R.target.value),placeholder:" ",className:"w-32 h-9 bg-white/5 border-white/20 focus:border-[#4ecdc4] text-sm",onKeyPress:R=>R.key==="Enter"&&g(),autoFocus:!0}),o.jsx(M,{size:"sm",onClick:g,className:"w-9 h-9 p-0 bg-green-600 hover:bg-green-700 flex-shrink-0",children:o.jsx(Ws,{className:"w-4 h-4"})}),o.jsx(M,{size:"sm",variant:"outline",onClick:()=>{f(!1),y("")},className:"w-9 h-9 p-0 border-white/20 hover:bg-white/10 flex-shrink-0",children:o.jsx(yn,{className:"w-4 h-4"})})]}):c.length<10&&o.jsxs(M,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"border-dashed border-[#4ecdc4]/50 text-[#4ecdc4] hover:bg-[#4ecdc4]/10 whitespace-nowrap flex-shrink-0 px-4 py-2.5 ml-2",children:[o.jsx(Wt,{className:"w-4 h-4 mr-2"})," "]})]})})}),o.jsxs("div",{className:"text-sm text-white/40 text-center",children:[c.length,"/10         "]})]})]}),b&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4ecdc4]"}),o.jsx("span",{className:"ml-3 text-white/60",children:"  ..."})]}),!b&&o.jsx("div",{className:"space-y-12 px-6 lg:px-12 pb-12",children:a.map(R=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl flex items-center gap-2",children:[R.title,o.jsxs(dt,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(ft,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(M,{size:"sm",variant:"outline",onClick:()=>j(`section-${R.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(Xo,{className:"w-4 h-4"})}),o.jsx(M,{size:"sm",variant:"outline",onClick:()=>k(`section-${R.id}`),className:"border-white/20 hover:bg-white/10",children:o.jsx(mr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{id:`section-${R.id}`,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:R.items.map((I,$)=>o.jsxs("div",{className:"flex-shrink-0 w-60 bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[R.id==="trending"&&$<3&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(dt,{className:`
                              ${$===0?"bg-yellow-500 text-black":""}
                              ${$===1?"bg-gray-300 text-black":""}
                              ${$===2?"bg-amber-600 text-white":""}
                            `,children:["#",$+1]})}),o.jsx("img",{src:I.thumbnail,alt:I.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:w=>{const T=w.target;T.style.display="none";const O=T.parentElement;if(O&&!O.querySelector(".image-fallback")){const F=document.createElement("div");F.className="image-fallback w-full h-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl font-bold group-hover:scale-105 transition-transform duration-300",F.textContent=I.title.charAt(0).toUpperCase(),O.appendChild(F)}}}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[o.jsxs(M,{size:"sm",onClick:()=>e(I),className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(yt,{className:"w-4 h-4 mr-1"}),""]}),t&&o.jsxs(M,{size:"sm",variant:"outline",onClick:()=>t(I),className:"border-white/20 hover:bg-white/10",children:[o.jsx(pi,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(M,{size:"sm",variant:"outline",onClick:()=>E(I),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Wt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(If,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:C(I.viewerCount)})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:I.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:I.duration}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:I.rating})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[o.jsx(Pf,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:I.reviewCount})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:I.displayGenres.slice(0,2).map(w=>o.jsx(dt,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:w},w))}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2 mb-3",children:I.description}),o.jsxs("div",{className:"flex gap-2 md:hidden",children:[o.jsxs(M,{size:"sm",onClick:()=>e(I),className:"flex-1 teal-gradient hover:opacity-80 text-black",children:[o.jsx(yt,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex gap-1",children:[t&&o.jsx(M,{size:"sm",variant:"outline",onClick:()=>t(I),className:"border-white/20 hover:bg-white/10",children:o.jsx(pi,{className:"w-4 h-4"})}),o.jsx(M,{size:"sm",variant:"outline",onClick:()=>E(I),className:"border-white/20 hover:bg-white/10",title:" ",children:o.jsx(Wt,{className:"w-4 h-4"})})]})]})]})]},I.id))})]},R.id))}),!b&&a.length===0&&o.jsxs("div",{className:"text-center py-12 px-6",children:[o.jsx(Fm,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),c.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx("p",{className:"text-white/40 text-sm",children:"  !"})]}):o.jsx("p",{className:"text-white/60 mb-4",children:"    ."})]})]})})}function hl(e){const[t,n]=d.useState(!1),r=()=>{n(!0)},{src:s,alt:i,style:a,className:l,...c}=e;return t?o.jsx("div",{className:`inline-block teal-gradient text-center align-middle ${l??""}`,style:a,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:"text-center text-black/70",children:[o.jsx(Rf,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})})}):o.jsx("img",{src:s,alt:i,className:l,style:a,...c,onError:r})}function DS({items:e=[],maxVisible:t=4,size:n="md"}){const r=e.slice(0,t),s=Math.max(0,e.length-t),i={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},a={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-2",children:[r.map((l,c)=>o.jsx("div",{className:`${i[n]} rounded-full border-2 border-background overflow-hidden bg-muted flex-shrink-0 relative z-${10-c}`,title:l.title,children:o.jsx(hl,{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover"})},l.id)),s>0&&o.jsx("div",{className:`${i[n]} rounded-full border-2 border-background bg-muted flex items-center justify-center flex-shrink-0 relative z-0`,children:o.jsxs("span",{className:`${a[n]} font-medium text-white/80`,children:["+",s]})})]})})}function ad({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:Ce("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Ro=[null];function LS({isOpen:e,onClose:t,onCreatePlaylist:n}){const[r,s]=d.useState(""),[i,a]=d.useState(""),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,m]=d.useState(!1),[y,b]=d.useState(!1),x=async g=>{g.preventDefault(),r.trim()&&(b(!0),console.log("Creating playlist:",{title:r.trim(),description:i.trim(),isPublic:l,coverImage:Ro[u]}),await new Promise(N=>setTimeout(N,1e3)),n({title:r.trim(),description:i.trim(),isPublic:l,coverImage:Ro[u]}),s(""),a(""),c(!0),h(0),m(!1),b(!1),t())},S=()=>{y||(s(""),a(""),c(!0),h(0),m(!1),t())},v=()=>{const g=Ro[u];return g===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(fl,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:" "})]})}):o.jsx("img",{src:g,alt:" ",className:"w-full h-full object-cover"})},p=(g,N)=>g===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsx(fl,{className:"w-3 h-3 text-black/80"})}):o.jsx("img",{src:g,alt:`  ${N+1}`,className:"w-full h-full object-cover"});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:S}),o.jsxs("div",{className:"relative w-full max-w-lg bg-card rounded-2xl glass-effect border border-white/20 p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:"  "}),o.jsx(M,{variant:"ghost",size:"sm",onClick:S,className:"p-2 hover:bg-white/10",disabled:y,children:o.jsx(yn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(At,{className:"text-sm mb-3 block",children:" "}),o.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden mb-3 bg-white/5 border border-white/10",children:[v(),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs(M,{type:"button",variant:"ghost",onClick:()=>m(!f),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm",children:[o.jsx(Rf,{className:"w-4 h-4 mr-2"}),Ro[u]===null?" ":" "]})})]}),f&&o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-black/20 rounded-lg border border-white/10",children:Ro.map((g,N)=>o.jsxs("button",{type:"button",onClick:()=>{h(N),m(!1)},className:`relative w-full h-16 rounded overflow-hidden transition-all duration-200 ${u===N?"ring-2 ring-[#4ecdc4] scale-105":"hover:scale-105"}`,children:[p(g,N),u===N&&o.jsx("div",{className:"absolute inset-0 bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(Ws,{className:"w-3 h-3 text-[#4ecdc4]"})})]},N))})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"title",className:"text-sm",children:"  *"}),o.jsx(Me,{id:"title",value:r,onChange:g=>s(g.target.value),placeholder:":   ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50,required:!0}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[r.length,"/50"]})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"description",className:"text-sm",children:""}),o.jsx(ad,{id:"description",value:i,onChange:g=>a(g.target.value),placeholder:"   ...",className:"mt-1 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none",rows:3,maxLength:200}),o.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[i.length,"/200"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(At,{className:"text-sm",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-[#4ecdc4] bg-[#4ecdc4]/5":"border-white/20 hover:bg-white/5"}`,onClick:()=>c(!0),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-[#4ecdc4]/20":"bg-white/10"}`,children:o.jsx(ul,{className:`w-4 h-4 ${l?"text-[#4ecdc4]":"text-white/60"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"    "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"bg-[#4ecdc4] border-[#4ecdc4]":"border-white/40"}`,children:l&&o.jsx(Ws,{className:"w-full h-full text-black p-0.5"})})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${l?"border-white/20 hover:bg-white/5":"border-[#4ecdc4] bg-[#4ecdc4]/5"}`,onClick:()=>c(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${l?"bg-white/10":"bg-[#4ecdc4]/20"}`,children:o.jsx(dl,{className:`w-4 h-4 ${l?"text-white/60":"text-[#4ecdc4]"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:""}),o.jsx("p",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l?"border-white/40":"bg-[#4ecdc4] border-[#4ecdc4]"}`,children:!l&&o.jsx(Ws,{className:"w-full h-full text-black p-0.5"})})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(M,{type:"button",variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:S,disabled:y,children:""}),o.jsx(M,{type:"submit",className:"flex-1 teal-gradient hover:opacity-80 text-black",disabled:!r.trim()||y,children:y?" ...":" "})]})]})]})]}):null}function qm({onPlaylistOpen:e,getPlaylists:t,createPlaylist:n,subscribePlaylist:r,unsubscribePlaylist:s,currentUserId:i,onUserProfileOpen:a}){const[l,c]=d.useState(""),[u,h]=d.useState([]),[f,m]=d.useState(!1),[y,b]=d.useState(!0),[x,S]=d.useState(null),v=w=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(w);d.useEffect(()=>{p()},[]),d.useEffect(()=>{const w=setTimeout(()=>{p(l.trim()||void 0)},300);return()=>clearTimeout(w)},[l]);const p=async w=>{try{b(!0),S(null),console.log("   :",{searchKeyword:w});const T=await t(w);console.log("   :",T),h(T)}catch(T){console.error("Error loading playlists:",T),S("   .")}finally{b(!1)}},g=u,N=w=>{console.log(`Starting playlist with ID: ${w}`)},j=()=>{m(!0)},k=w=>{e&&e(w)},C=async w=>{try{await n({name:w.title,description:w.description,isPublic:w.isPublic}),console.log("     "),await p(l.trim()||void 0)}catch(T){console.error("Error creating playlist:",T),S("   .")}},E=w=>!w.subscriptions||!i?!1:w.subscriptions.some(T=>T.userId===i),R=w=>!w.subscriptions||!i?null:w.subscriptions.find(T=>T.userId===i),I=async w=>{if(console.log("    :",{playlistId:w,currentUserId:i}),!r||!s||!i){console.error("    ID :",{subscribePlaylist:!!r,unsubscribePlaylist:!!s,currentUserId:i});return}const T=u.find(F=>F.id===w);if(!T){console.error("   :",w);return}const O=E(T);console.log("  :",{isSubscribed:O,subscriptions:T.subscriptions});try{if(O){const F=R(T);if(!F){console.error("    ");return}if(console.log("   - subscription  :",F),!F.subscriptionId){console.error("subscription.subscriptionId undefined:",F);return}console.log("  :",F.subscriptionId),await s(F.subscriptionId)}else console.log(" :",w),await r(w);await p()}catch(F){console.error("   :",F)}},$=w=>w.thumbnail===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx(fl,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium",children:w.name.charAt(0)})]})}):o.jsx(hl,{src:w.thumbnail,alt:w.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),o.jsx("p",{className:"text-white/60",children:"   "})]}),o.jsxs(M,{onClick:j,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Wt,{className:"w-5 h-5 mr-2"})," "]})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Me,{placeholder:" ...",value:l,onChange:w=>c(w.target.value),className:"pl-14 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold gradient-text",children:u.filter(w=>w.isPublic).length}),o.jsx("p",{className:"text-white/60 text-sm",children:" "})]})]}),(console.log(" Playlist  :",{loading:y,error:x,playlistsLength:u.length,filteredLength:g.length}),y?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-400 mb-4",children:x}),o.jsx(M,{onClick:()=>p(l.trim()||void 0),variant:"outline",className:"border-white/20 hover:bg-white/5",children:" "})]}):g.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-white/40 mb-4",children:l?"  ":" "}),!l&&o.jsx(M,{onClick:j,variant:"outline",className:"border-white/20 hover:bg-white/5",children:"  "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:g.map(w=>{var T;return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden hover:bg-white/5 transition-all duration-200 group cursor-pointer",onClick:()=>k(w.id),children:[o.jsxs("div",{className:"relative aspect-video",children:[$(w),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(M,{size:"lg",onClick:O=>{O.stopPropagation(),N(w.id)},className:"rounded-full w-16 h-16 teal-gradient hover:opacity-80 text-black",children:o.jsx(yt,{className:"w-8 h-8 fill-current"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:w.isPublic?"":""})}),w.userId&&w.userId!==i&&v(w.userId)&&r&&s&&o.jsx(M,{variant:"ghost",size:"sm",className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${E(w)?"bg-red-500/80 hover:bg-red-500 text-white":"bg-black/50 hover:bg-black/70 text-white/80 hover:text-red-400"}`,onClick:O=>{O.stopPropagation(),I(w.id)},children:o.jsx(Ar,{className:`w-4 h-4 ${E(w)?"fill-current":""}`})}),o.jsx(M,{variant:"ghost",size:"sm",className:"absolute top-3 left-3 p-2 bg-black/50 hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",onClick:O=>O.stopPropagation(),children:o.jsx(dx,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:w.name}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:w.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(DS,{items:w.contents,maxVisible:4,size:"sm"}),o.jsxs("span",{className:"text-xs text-white/60",children:[w.contentCount||((T=w.playlistContents)==null?void 0:T.length)||0," "]})]}),w.userId&&w.userId!==i&&v(w.userId)&&o.jsx("div",{className:"mb-3 pb-3 border-b border-white/10",children:o.jsxs("div",{className:`flex items-center space-x-2 transition-colors ${i?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default text-white/60"}`,onClick:O=>{O.stopPropagation(),i?a==null||a(w.userId):alert("  .   .")},children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#4ecdc4] flex items-center justify-center text-black text-xs font-medium",children:w.username?w.username.charAt(0).toUpperCase():"?"}),o.jsx("span",{className:"text-sm",children:w.username||" "})]})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Zr,{className:"w-3 h-3"}),o.jsx("span",{children:w.totalDuration||"0"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_f,{className:"w-3 h-3"}),o.jsx("span",{children:w.createdAt?new Date(w.createdAt).toLocaleDateString("ko-KR"):" "})]})]})]})]},w.id)})}))]}),o.jsx(LS,{isOpen:f,onClose:()=>m(!1),onCreatePlaylist:C})]})}function me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var MS=ig[" useId ".trim().toString()]||(()=>{}),$S=0;function _r(e){const[t,n]=d.useState(MS());return Je(()=>{n(r=>r??String($S++))},[e]),e||(t?`radix-${t}`:"")}var zS=ig[" useInsertionEffect ".trim().toString()]||Je;function os({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=FS({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const m=US(h)?h(e):h;m!==e&&((f=a.current)==null||f.call(a,m))}else i(h)},[l,e,i,a]);return[c,u]}function FS({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),i=d.useRef(t);return zS(()=>{i.current=t},[t]),d.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function US(e){return typeof e=="function"}function BS(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var WS="DismissableLayer",ld="dismissableLayer.update",VS="dismissableLayer.pointerDownOutside",HS="dismissableLayer.focusOutside",Qm,Dx=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mf=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=d.useContext(Dx),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=d.useState({}),b=ye(t,C=>f(C)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(S),p=h?x.indexOf(h):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,N=p>=v,j=YS(C=>{const E=C.target,R=[...u.branches].some(I=>I.contains(E));!N||R||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),k=XS(C=>{const E=C.target;[...u.branches].some(I=>I.contains(E))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return BS(C=>{p===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Qm=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Jm(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Qm)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Jm())},[h,u]),d.useEffect(()=>{const C=()=>y({});return document.addEventListener(ld,C),()=>document.removeEventListener(ld,C)},[]),o.jsx(le.div,{...c,ref:b,style:{pointerEvents:g?N?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,k.onFocusCapture),onBlurCapture:me(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,j.onPointerDownCapture)})});Mf.displayName=WS;var KS="DismissableLayerBranch",GS=d.forwardRef((e,t)=>{const n=d.useContext(Dx),r=d.useRef(null),s=ye(t,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(le.div,{...e,ref:s})});GS.displayName=KS;function YS(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Lx(VS,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function XS(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&Lx(HS,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jm(){const e=new CustomEvent(ld);document.dispatchEvent(e)}function Lx(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?YN(s,i):s.dispatchEvent(i)}var Fc="focusScope.autoFocusOnMount",Uc="focusScope.autoFocusOnUnmount",Zm={bubbles:!1,cancelable:!0},qS="FocusScope",$f=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=d.useState(null),u=xt(s),h=xt(i),f=d.useRef(null),m=ye(t,x=>c(x)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let x=function(g){if(y.paused||!l)return;const N=g.target;l.contains(N)?f.current=N:dr(f.current,{select:!0})},S=function(g){if(y.paused||!l)return;const N=g.relatedTarget;N!==null&&(l.contains(N)||dr(f.current,{select:!0}))},v=function(g){if(document.activeElement===document.body)for(const j of g)j.removedNodes.length>0&&dr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const p=new MutationObserver(v);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),p.disconnect()}}},[r,l,y.paused]),d.useEffect(()=>{if(l){tp.add(y);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(Fc,Zm);l.addEventListener(Fc,u),l.dispatchEvent(v),v.defaultPrevented||(QS(n2(Mx(l)),{select:!0}),document.activeElement===x&&dr(l))}return()=>{l.removeEventListener(Fc,u),setTimeout(()=>{const v=new CustomEvent(Uc,Zm);l.addEventListener(Uc,h),l.dispatchEvent(v),v.defaultPrevented||dr(x??document.body,{select:!0}),l.removeEventListener(Uc,h),tp.remove(y)},0)}}},[l,u,h,y]);const b=d.useCallback(x=>{if(!n&&!r||y.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(S&&v){const p=x.currentTarget,[g,N]=JS(p);g&&N?!x.shiftKey&&v===N?(x.preventDefault(),n&&dr(g,{select:!0})):x.shiftKey&&v===g&&(x.preventDefault(),n&&dr(N,{select:!0})):v===p&&x.preventDefault()}},[n,r,y.paused]);return o.jsx(le.div,{tabIndex:-1,...a,ref:m,onKeyDown:b})});$f.displayName=qS;function QS(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(dr(r,{select:t}),document.activeElement!==n)return}function JS(e){const t=Mx(e),n=ep(t,e),r=ep(t.reverse(),e);return[n,r]}function Mx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ep(e,t){for(const n of e)if(!ZS(n,{upTo:t}))return n}function ZS(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function e2(e){return e instanceof HTMLInputElement&&"select"in e}function dr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&e2(e)&&t&&e.select()}}var tp=t2();function t2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=np(e,t),e.unshift(t)},remove(t){var n;e=np(e,t),(n=e[0])==null||n.resume()}}}function np(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function n2(e){return e.filter(t=>t.tagName!=="A")}var r2="Portal",zf=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=d.useState(!1);Je(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?zj.createPortal(o.jsx(le.div,{...r,ref:t}),a):null});zf.displayName=r2;function s2(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var or=e=>{const{present:t,children:n}=e,r=o2(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=ye(r.ref,i2(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};or.displayName="Presence";function o2(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),i=d.useRef("none"),a=e?"mounted":"unmounted",[l,c]=s2(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=da(r.current);i.current=l==="mounted"?u:"none"},[l]),Je(()=>{const u=r.current,h=s.current;if(h!==e){const m=i.current,y=da(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Je(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=y=>{const x=da(r.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},m=y=>{y.target===t&&(i.current=da(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function da(e){return(e==null?void 0:e.animationName)||"none"}function i2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Bc=0;function $x(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rp()),document.body.insertAdjacentElement("beforeend",e[1]??rp()),Bc++,()=>{Bc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bc--}},[])}function rp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tn=function(){return Tn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tn.apply(this,arguments)};function zx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function a2(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Ma="right-scroll-bar-position",$a="width-before-scroll-bar",l2="with-scroll-bars-hidden",c2="--removed-body-scroll-bar-size";function Wc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function u2(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var d2=typeof window<"u"?d.useLayoutEffect:d.useEffect,sp=new WeakMap;function f2(e,t){var n=u2(null,function(r){return e.forEach(function(s){return Wc(s,r)})});return d2(function(){var r=sp.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||Wc(l,null)}),i.forEach(function(l){s.has(l)||Wc(l,a)})}sp.set(n,e)},[e]),n}function h2(e){return e}function m2(e,t){t===void 0&&(t=h2);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function p2(e){e===void 0&&(e={});var t=m2(null);return t.options=Tn({async:!0,ssr:!1},e),t}var Fx=function(e){var t=e.sideCar,n=zx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Tn({},n))};Fx.isSideCarExport=!0;function g2(e,t){return e.useMedium(t),Fx}var Ux=p2(),Vc=function(){},Ul=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:Vc,onWheelCapture:Vc,onTouchMoveCapture:Vc}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,y=e.noRelative,b=e.noIsolation,x=e.inert,S=e.allowPinchZoom,v=e.as,p=v===void 0?"div":v,g=e.gapMode,N=zx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,k=f2([n,t]),C=Tn(Tn({},N),s);return d.createElement(d.Fragment,null,h&&d.createElement(j,{sideCar:Ux,removeScrollBar:u,shards:f,noRelative:y,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:g}),a?d.cloneElement(d.Children.only(l),Tn(Tn({},C),{ref:k})):d.createElement(p,Tn({},C,{className:c,ref:k}),l))});Ul.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ul.classNames={fullWidth:$a,zeroRight:Ma};var v2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=v2();return t&&e.setAttribute("nonce",t),e}function y2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function w2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var b2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=x2())&&(y2(t,n),w2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},j2=function(){var e=b2();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Bx=function(){var e=j2(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},N2={left:0,top:0,right:0,gap:0},Hc=function(e){return parseInt(e||"",10)||0},S2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Hc(n),Hc(r),Hc(s)]},k2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return N2;var t=S2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},C2=Bx(),Vs="data-scroll-locked",E2=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(l2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ma,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($a,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ma," .").concat(Ma,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($a," .").concat($a,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vs,`] {
    `).concat(c2,": ").concat(l,`px;
  }
`)},op=function(){var e=parseInt(document.body.getAttribute(Vs)||"0",10);return isFinite(e)?e:0},T2=function(){d.useEffect(function(){return document.body.setAttribute(Vs,(op()+1).toString()),function(){var e=op()-1;e<=0?document.body.removeAttribute(Vs):document.body.setAttribute(Vs,e.toString())}},[])},_2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;T2();var i=d.useMemo(function(){return k2(s)},[s]);return d.createElement(C2,{styles:E2(i,!t,s,n?"":"!important")})},cd=!1;if(typeof window<"u")try{var fa=Object.defineProperty({},"passive",{get:function(){return cd=!0,!0}});window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{cd=!1}var bs=cd?{passive:!1}:!1,R2=function(e){return e.tagName==="TEXTAREA"},Wx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!R2(e)&&n[t]==="visible")},P2=function(e){return Wx(e,"overflowY")},A2=function(e){return Wx(e,"overflowX")},ip=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Vx(e,r);if(s){var i=Hx(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},I2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},O2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Vx=function(e,t){return e==="v"?P2(t):A2(t)},Hx=function(e,t){return e==="v"?I2(t):O2(t)},D2=function(e,t){return e==="h"&&t==="rtl"?-1:1},L2=function(e,t,n,r,s){var i=D2(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),u=!1,h=a>0,f=0,m=0;do{if(!l)break;var y=Hx(e,l),b=y[0],x=y[1],S=y[2],v=x-S-i*b;(b||v)&&Vx(e,l)&&(f+=v,m+=b);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},ha=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ap=function(e){return[e.deltaX,e.deltaY]},lp=function(e){return e&&"current"in e?e.current:e},M2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},z2=0,js=[];function F2(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(z2++)[0],i=d.useState(Bx)[0],a=d.useRef(e);d.useEffect(function(){a.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=a2([e.lockRef.current],(e.shards||[]).map(lp),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var v=ha(x),p=n.current,g="deltaX"in x?x.deltaX:p[0]-v[0],N="deltaY"in x?x.deltaY:p[1]-v[1],j,k=x.target,C=Math.abs(g)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&k.type==="range")return!1;var E=ip(C,k);if(!E)return!0;if(E?j=C:(j=C==="v"?"h":"v",E=ip(C,k)),!E)return!1;if(!r.current&&"changedTouches"in x&&(g||N)&&(r.current=j),!j)return!0;var R=r.current||j;return L2(R,S,x,R==="h"?g:N)},[]),c=d.useCallback(function(x){var S=x;if(!(!js.length||js[js.length-1]!==i)){var v="deltaY"in S?ap(S):ha(S),p=t.current.filter(function(j){return j.name===S.type&&(j.target===S.target||S.target===j.shadowParent)&&M2(j.delta,v)})[0];if(p&&p.should){S.cancelable&&S.preventDefault();return}if(!p){var g=(a.current.shards||[]).map(lp).filter(Boolean).filter(function(j){return j.contains(S.target)}),N=g.length>0?l(S,g[0]):!a.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),u=d.useCallback(function(x,S,v,p){var g={name:x,delta:S,target:v,should:p,shadowParent:U2(v)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(N){return N!==g})},1)},[]),h=d.useCallback(function(x){n.current=ha(x),r.current=void 0},[]),f=d.useCallback(function(x){u(x.type,ap(x),x.target,l(x,e.lockRef.current))},[]),m=d.useCallback(function(x){u(x.type,ha(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return js.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,bs),document.addEventListener("touchmove",c,bs),document.addEventListener("touchstart",h,bs),function(){js=js.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,bs),document.removeEventListener("touchmove",c,bs),document.removeEventListener("touchstart",h,bs)}},[]);var y=e.removeScrollBar,b=e.inert;return d.createElement(d.Fragment,null,b?d.createElement(i,{styles:$2(s)}):null,y?d.createElement(_2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function U2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const B2=g2(Ux,F2);var Ff=d.forwardRef(function(e,t){return d.createElement(Ul,Tn({},e,{ref:t,sideCar:B2}))});Ff.classNames=Ul.classNames;var W2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ns=new WeakMap,ma=new WeakMap,pa={},Kc=0,Kx=function(e){return e&&(e.host||Kx(e.parentNode))},V2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Kx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},H2=function(e,t,n,r){var s=V2(t,Array.isArray(e)?e:[e]);pa[n]||(pa[n]=new WeakMap);var i=pa[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(r),b=y!==null&&y!=="false",x=(Ns.get(m)||0)+1,S=(i.get(m)||0)+1;Ns.set(m,x),i.set(m,S),a.push(m),x===1&&b&&ma.set(m,!0),S===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return h(t),l.clear(),Kc++,function(){a.forEach(function(f){var m=Ns.get(f)-1,y=i.get(f)-1;Ns.set(f,m),i.set(f,y),m||(ma.has(f)||f.removeAttribute(r),ma.delete(f)),y||f.removeAttribute(n)}),Kc--,Kc||(Ns=new WeakMap,Ns=new WeakMap,ma=new WeakMap,pa={})}},Gx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=W2(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),H2(r,s,n,"aria-hidden")):function(){return null}},Bl="Dialog",[Yx,jR]=zn(Bl),[K2,Nn]=Yx(Bl),Xx=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=os({prop:r,defaultProp:s??!1,onChange:i,caller:Bl});return o.jsx(K2,{scope:t,triggerRef:l,contentRef:c,contentId:_r(),titleId:_r(),descriptionId:_r(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:a,children:n})};Xx.displayName=Bl;var qx="DialogTrigger",G2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(qx,n),i=ye(t,s.triggerRef);return o.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Wf(s.open),...r,ref:i,onClick:me(e.onClick,s.onOpenToggle)})});G2.displayName=qx;var Uf="DialogPortal",[Y2,Qx]=Yx(Uf,{forceMount:void 0}),Jx=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Nn(Uf,t);return o.jsx(Y2,{scope:t,forceMount:n,children:d.Children.map(r,a=>o.jsx(or,{present:n||i.open,children:o.jsx(zf,{asChild:!0,container:s,children:a})}))})};Jx.displayName=Uf;var ml="DialogOverlay",Zx=d.forwardRef((e,t)=>{const n=Qx(ml,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Nn(ml,e.__scopeDialog);return i.modal?o.jsx(or,{present:r||i.open,children:o.jsx(q2,{...s,ref:t})}):null});Zx.displayName=ml;var X2=Zs("DialogOverlay.RemoveScroll"),q2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(ml,n);return o.jsx(Ff,{as:X2,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(le.div,{"data-state":Wf(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),is="DialogContent",e0=d.forwardRef((e,t)=>{const n=Qx(is,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Nn(is,e.__scopeDialog);return o.jsx(or,{present:r||i.open,children:i.modal?o.jsx(Q2,{...s,ref:t}):o.jsx(J2,{...s,ref:t})})});e0.displayName=is;var Q2=d.forwardRef((e,t)=>{const n=Nn(is,e.__scopeDialog),r=d.useRef(null),s=ye(t,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return Gx(i)},[]),o.jsx(t0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault())})}),J2=d.forwardRef((e,t)=>{const n=Nn(is,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(t0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),t0=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=Nn(is,n),c=d.useRef(null),u=ye(t,c);return $x(),o.jsxs(o.Fragment,{children:[o.jsx($f,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Mf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Wf(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(ek,{titleId:l.titleId}),o.jsx(nk,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Bf="DialogTitle",n0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(Bf,n);return o.jsx(le.h2,{id:s.titleId,...r,ref:t})});n0.displayName=Bf;var r0="DialogDescription",Z2=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(r0,n);return o.jsx(le.p,{id:s.descriptionId,...r,ref:t})});Z2.displayName=r0;var s0="DialogClose",o0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(s0,n);return o.jsx(le.button,{type:"button",...r,ref:t,onClick:me(e.onClick,()=>s.onOpenChange(!1))})});o0.displayName=s0;function Wf(e){return e?"open":"closed"}var i0="DialogTitleWarning",[NR,a0]=HN(i0,{contentName:is,titleName:Bf,docsSlug:"dialog"}),ek=({titleId:e})=>{const t=a0(i0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tk="DialogDescriptionWarning",nk=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a0(tk).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},rk=Xx,sk=Jx,ok=Zx,ik=e0,ak=n0,lk=o0;function Wl({...e}){return o.jsx(rk,{"data-slot":"dialog",...e})}function ck({...e}){return o.jsx(sk,{"data-slot":"dialog-portal",...e})}function uk({className:e,...t}){return o.jsx(ok,{"data-slot":"dialog-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e),...t})}function Vl({className:e,children:t,...n}){return o.jsxs(ck,{"data-slot":"dialog-portal",children:[o.jsx(uk,{}),o.jsxs(ik,{"data-slot":"dialog-content",className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,o.jsxs(lk,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(yn,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Hl({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Ce("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Kl({className:e,...t}){return o.jsx(ak,{"data-slot":"dialog-title",className:Ce("text-lg leading-none font-semibold",e),...t})}function dk({playlistId:e,onBack:t,onContentPlay:n,getPlaylistById:r,addPlaylistContents:s,deletePlaylistContents:i}){var pe,je;const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!0),[b,x]=d.useState(null),[S,v]=d.useState(!1),[p,g]=d.useState([]),[N,j]=d.useState([]),[k,C]=d.useState(""),[E,R]=d.useState(!1),[I,$]=d.useState(!1),[w,T]=d.useState([]),O=d.useCallback(async()=>{try{y(!0),x(null),console.log("    :",e);const A=await r(e);if(console.log("   :",A),!A){console.error("   "),x("   .");return}l(A),u(A.playlistContents||[]),console.log("    :",{playlist:A,contents:A.playlistContents||[]})}catch(A){console.error("    :",A),x("   .")}finally{y(!1)}},[e,r]),F=d.useCallback(async()=>{try{console.log("   :",{searchQuery:k}),R(!0);const A=await qr.getContents({size:20,query:k||void 0});console.log("   :",A),g(A.data||[]),console.log("   :",A.data||[])}catch(A){console.error("   :",A)}finally{R(!1)}},[k]);if(d.useEffect(()=>{O()},[O]),d.useEffect(()=>{let A;return S&&(A=setTimeout(()=>{F()},300)),()=>{A&&clearTimeout(A)}},[k,S,F]),m)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-white/60 mb-4",children:"  ..."})})});if(b||!a)return o.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl mb-4 text-red-400",children:b||"   "}),o.jsx(M,{onClick:t,variant:"outline",children:""})]})});const _=A=>{console.log(`Removing content ${A} from playlist ${e}`),u(X=>X.filter(ce=>ce.id!==A))},B=A=>{n?n({id:A.id,title:A.title,thumbnail:A.thumbnail,type:A.type,duration:A.duration,description:A.description}):alert(`"${A.title}"  .`)},P=()=>{console.log(`Playing playlist: ${a.name}`),alert(`"${a.name}"   .`)},W=()=>{console.log(`Shuffling playlist: ${a.name}`),alert(`"${a.name}"   .`)},H=()=>{v(!0),F()},q=A=>{j(X=>X.includes(A)?X.filter(ce=>ce!==A):[...X,A])},ee=async()=>{if(N.length===0){alert("  .");return}try{console.log(`Adding content to playlist: ${e}`,N),await s(e,N),await O(),v(!1),j([]),C(""),alert(`${N.length}   .`)}catch(A){console.error("  :",A),alert("  .")}},ae=()=>{console.log("    :",!I),$(!I),T([])},we=A=>{T(X=>X.includes(A)?X.filter(ce=>ce!==A):[...X,A])},Te=()=>{w.length===c.length?T([]):T(c.map(A=>A.id))},_e=async()=>{if(w.length===0){alert("  .");return}if(confirm(` ${w.length}   ?`))try{await i(e,w),await O(),T([]),$(!1),alert(`${w.length}  .`)}catch(X){console.error("  :",X),alert("  .")}},ne=()=>a.coverImage===null?o.jsx("div",{className:"w-full h-full teal-gradient flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black/80",children:[o.jsx("h3",{className:"text-4xl font-bold mb-2",children:a.name.charAt(0)}),o.jsx("p",{className:"text-sm font-medium",children:""})]})}):o.jsx(hl,{src:a.coverImage,alt:a.name,className:"w-full h-full object-cover"});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#4ecdc4]/20 via-background/60 to-background"}),o.jsxs("div",{className:"relative container mx-auto px-6 pt-8 pb-12",children:[o.jsxs(M,{variant:"ghost",onClick:t,className:"mb-8 hover:bg-white/10 text-white",children:[o.jsx(ao,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start lg:items-end",children:[o.jsx("div",{className:"w-80 h-80 rounded-2xl overflow-hidden shadow-2xl flex-shrink-0",children:ne()}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(dt,{variant:"secondary",className:"bg-white/10 text-white",children:""}),o.jsx("h1",{className:"text-5xl font-bold leading-tight",children:a.name}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl",children:a.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs($e,{className:"h-6 w-6",children:[o.jsx(ze,{src:(pe=a.user)==null?void 0:pe.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:((je=a.username)==null?void 0:je.charAt(0))||"U"})]}),o.jsx("span",{className:"font-medium text-white",children:a.username||"Unknown"})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[c.length," "]}),o.jsx("span",{children:""}),o.jsx("span",{children:a.totalDuration||"0"}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_f,{className:"w-4 h-4"}),o.jsx("span",{children:a.createdAt?new Date(a.createdAt).toLocaleDateString("ko-KR"):" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[o.jsxs(M,{size:"lg",onClick:P,className:"teal-gradient hover:opacity-80 text-black px-8",children:[o.jsx(yt,{className:"w-6 h-6 mr-2 fill-current"}),""]}),o.jsxs(M,{size:"lg",variant:"outline",onClick:W,className:"border-white/20 hover:bg-white/10",children:[o.jsx(eN,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs(M,{size:"lg",variant:"outline",onClick:H,className:"border-white/20 hover:bg-white/10",children:[o.jsx(Wt,{className:"w-5 h-5 mr-2"})," "]}),o.jsxs(M,{size:"lg",variant:"outline",onClick:ae,className:`border-white/20 hover:bg-white/10 ${I?"bg-white/10":""}`,children:[o.jsx(yn,{className:"w-5 h-5 mr-2"}),I?" ":" "]}),I&&o.jsxs(o.Fragment,{children:[o.jsx(M,{size:"lg",variant:"outline",onClick:Te,className:"border-white/20 hover:bg-white/10",children:w.length===c.length?" ":" "}),w.length>0&&o.jsxs(M,{size:"lg",variant:"destructive",onClick:_e,className:"bg-red-600 hover:bg-red-700",children:["  (",w.length,")"]})]}),o.jsx(M,{variant:"ghost",size:"lg",onClick:()=>f(!h),className:`p-3 hover:bg-white/10 ${h?"text-[#4ecdc4]":"text-white/60"}`,children:o.jsx(Ar,{className:`w-6 h-6 ${h?"fill-current":""}`})}),o.jsx(M,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(Zj,{className:"w-6 h-6"})}),o.jsx(M,{variant:"ghost",size:"lg",className:"p-3 hover:bg-white/10",children:o.jsx(dx,{className:"w-6 h-6"})})]})]})]})]})]}),o.jsx("div",{className:"container mx-auto px-6 pb-12",children:o.jsxs("div",{className:"glass-effect rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm text-white/60 font-medium",children:[o.jsx("div",{className:"col-span-1",children:"#"}),o.jsx("div",{className:"col-span-5",children:""}),o.jsx("div",{className:"col-span-2",children:""}),o.jsx("div",{className:"col-span-2",children:" "}),o.jsx("div",{className:"col-span-1",children:o.jsx(Zr,{className:"w-4 h-4"})}),o.jsx("div",{className:"col-span-1"})]})}),o.jsx("div",{className:"divide-y divide-white/10",children:c.map((A,X)=>o.jsx("div",{className:"group px-6 py-4 hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[o.jsx("div",{className:"col-span-1",children:(console.log("   :",{isMultiSelectMode:I,contentId:A.id}),I)?o.jsx("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>we(A.id),children:o.jsx("div",{className:`w-5 h-5 border-2 rounded ${w.includes(A.id)?"bg-blue-500 border-blue-500":"border-white/40 hover:border-white/60"} flex items-center justify-center`,children:w.includes(A.id)&&o.jsx(Wt,{className:"w-3 h-3 text-white rotate-45"})})}):o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"group-hover:opacity-0 transition-opacity text-white/60",children:X+1}),o.jsx(M,{variant:"ghost",size:"sm",onClick:()=>B(A),className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity p-0 w-8 h-8 text-white hover:text-[#4ecdc4]",children:o.jsx(yt,{className:"w-4 h-4 fill-current"})})]})}),o.jsx("div",{className:"col-span-5",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(hl,{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-medium truncate group-hover:text-[#4ecdc4] transition-colors",children:A.title}),o.jsxs("p",{className:"text-sm text-white/60 truncate",children:[A.year,"  ",A.type==="movie"?"":A.type==="tv"?"":""]})]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:A.genre&&Array.isArray(A.genre)?A.genre.slice(0,2).join(", "):A.genre||" "})}),o.jsx("div",{className:"col-span-2",children:o.jsx("span",{className:"text-sm text-white/60",children:new Date(A.addedDate).toLocaleDateString("ko-KR")})}),o.jsx("div",{className:"col-span-1",children:o.jsx("span",{className:"text-sm text-white/60",children:A.duration})}),o.jsx("div",{className:"col-span-1",children:o.jsx("div",{className:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(M,{variant:"ghost",size:"sm",onClick:()=>_(A.id),className:"p-2 hover:bg-red-500/20 hover:text-red-400",children:o.jsx(yn,{className:"w-4 h-4"})})})})]})},A.id))}),c.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   "}),o.jsx(M,{variant:"outline",className:"border-white/20 hover:bg-white/5",onClick:H,children:" "})]})]})}),o.jsx(Wl,{open:S,onOpenChange:v,children:o.jsxs(Vl,{className:"max-w-4xl h-[80vh] bg-gray-900 border-gray-700 flex flex-col",children:[o.jsx(Hl,{children:o.jsx(Kl,{className:"text-white",children:"  "})}),o.jsxs("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Me,{placeholder:" ...",value:k,onChange:A=>C(A.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),N.length>0&&o.jsxs("div",{className:"text-sm text-blue-400 flex-shrink-0",children:[N.length,"  "]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:E?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:"  ..."})}):!p||p.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-gray-400",children:" "})}):(p||[]).map(A=>o.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${N.includes(A.id)?"bg-blue-600/20 border border-blue-500":"bg-gray-800 hover:bg-gray-700 border border-gray-600"}`,onClick:()=>q(A.id),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:A.thumbnail||"/placeholder-content.jpg",alt:A.title,className:"w-12 h-8 object-cover rounded"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white text-sm font-medium truncate",children:A.title}),o.jsx("p",{className:"text-gray-400 text-xs truncate leading-tight",children:A.description}),o.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[o.jsx(dt,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:A.contentType}),A.genre&&o.jsx("span",{className:"text-gray-500 text-xs",children:A.genre})]})]}),o.jsx("div",{className:"flex-shrink-0",children:N.includes(A.id)?o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Wt,{className:"w-3 h-3 text-white"})}):o.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"})})]},A.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 flex-shrink-0 mt-4",children:[o.jsx(M,{variant:"outline",onClick:()=>{v(!1),j([]),C("")},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:""}),o.jsx(M,{onClick:ee,disabled:N.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:N.length>0?`${N.length} `:""})]})]})})]})}function gi(e,[t,n]){return Math.min(n,Math.max(t,e))}function Vf(e){const t=e+"CollectionProvider",[n,r]=zn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:S,children:v}=x,p=Vn.useRef(null),g=Vn.useRef(new Map).current;return o.jsx(s,{scope:S,itemMap:g,collectionRef:p,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=Zs(l),u=Vn.forwardRef((x,S)=>{const{scope:v,children:p}=x,g=i(l,v),N=ye(S,g.collectionRef);return o.jsx(c,{ref:N,children:p})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=Zs(h),y=Vn.forwardRef((x,S)=>{const{scope:v,children:p,...g}=x,N=Vn.useRef(null),j=ye(S,N),k=i(h,v);return Vn.useEffect(()=>(k.itemMap.set(N,{ref:N,...g}),()=>void k.itemMap.delete(N))),o.jsx(m,{[f]:"",ref:j,children:p})});y.displayName=h;function b(x){const S=i(e+"CollectionConsumer",x);return Vn.useCallback(()=>{const p=S.collectionRef.current;if(!p)return[];const g=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((k,C)=>g.indexOf(k.ref.current)-g.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:u,ItemSlot:y},b,r]}var fk=d.createContext(void 0);function Ti(e){const t=d.useContext(fk);return e||t||"ltr"}const hk=["top","right","bottom","left"],Ir=Math.min,Ft=Math.max,pl=Math.round,ga=Math.floor,In=e=>({x:e,y:e}),mk={left:"right",right:"left",bottom:"top",top:"bottom"},pk={start:"end",end:"start"};function ud(e,t,n){return Ft(e,Ir(t,n))}function nr(e,t){return typeof e=="function"?e(t):e}function rr(e){return e.split("-")[0]}function lo(e){return e.split("-")[1]}function Hf(e){return e==="x"?"y":"x"}function Kf(e){return e==="y"?"height":"width"}const gk=new Set(["top","bottom"]);function _n(e){return gk.has(rr(e))?"y":"x"}function Gf(e){return Hf(_n(e))}function vk(e,t,n){n===void 0&&(n=!1);const r=lo(e),s=Gf(e),i=Kf(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=gl(a)),[a,gl(a)]}function xk(e){const t=gl(e);return[dd(e),t,dd(t)]}function dd(e){return e.replace(/start|end/g,t=>pk[t])}const cp=["left","right"],up=["right","left"],yk=["top","bottom"],wk=["bottom","top"];function bk(e,t,n){switch(e){case"top":case"bottom":return n?t?up:cp:t?cp:up;case"left":case"right":return t?yk:wk;default:return[]}}function jk(e,t,n,r){const s=lo(e);let i=bk(rr(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(dd)))),i}function gl(e){return e.replace(/left|right|bottom|top/g,t=>mk[t])}function Nk(e){return{top:0,right:0,bottom:0,left:0,...e}}function l0(e){return typeof e!="number"?Nk(e):{top:e,right:e,bottom:e,left:e}}function vl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function dp(e,t,n){let{reference:r,floating:s}=e;const i=_n(t),a=Gf(t),l=Kf(a),c=rr(t),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(lo(t)){case"start":y[a]-=m*(n&&u?-1:1);break;case"end":y[a]+=m*(n&&u?-1:1);break}return y}const Sk=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=dp(u,r,c),m=r,y={},b=0;for(let x=0;x<l.length;x++){const{name:S,fn:v}=l[x],{x:p,y:g,data:N,reset:j}=await v({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:u,platform:a,elements:{reference:e,floating:t}});h=p??h,f=g??f,y={...y,[S]:{...y[S],...N}},j&&b<=50&&(b++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:h,y:f}=dp(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function vi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=nr(t,e),b=l0(y),S=l[m?f==="floating"?"reference":"floating":f],v=vl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),p=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},j=vl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:g,strategy:c}):p);return{top:(v.top-j.top+b.top)/N.y,bottom:(j.bottom-v.bottom+b.bottom)/N.y,left:(v.left-j.left+b.left)/N.x,right:(j.right-v.right+b.right)/N.x}}const kk=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=nr(e,t)||{};if(u==null)return{};const f=l0(h),m={x:n,y:r},y=Gf(s),b=Kf(y),x=await a.getDimensions(u),S=y==="y",v=S?"top":"left",p=S?"bottom":"right",g=S?"clientHeight":"clientWidth",N=i.reference[b]+i.reference[y]-m[y]-i.floating[b],j=m[y]-i.reference[y],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=k?k[g]:0;(!C||!await(a.isElement==null?void 0:a.isElement(k)))&&(C=l.floating[g]||i.floating[b]);const E=N/2-j/2,R=C/2-x[b]/2-1,I=Ir(f[v],R),$=Ir(f[p],R),w=I,T=C-x[b]-$,O=C/2-x[b]/2+E,F=ud(w,O,T),_=!c.arrow&&lo(s)!=null&&O!==F&&i.reference[b]/2-(O<w?I:$)-x[b]/2<0,B=_?O<w?O-w:O-T:0;return{[y]:m[y]+B,data:{[y]:F,centerOffset:O-F-B,..._&&{alignmentOffset:B}},reset:_}}}),Ck=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...S}=nr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=rr(s),p=_n(l),g=rr(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(g||!x?[gl(l)]:xk(l)),k=b!=="none";!m&&k&&j.push(...jk(l,x,b,N));const C=[l,...j],E=await vi(t,S),R=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&R.push(E[v]),f){const O=vk(s,a,N);R.push(E[O[0]],E[O[1]])}if(I=[...I,{placement:s,overflows:R}],!R.every(O=>O<=0)){var $,w;const O=((($=i.flip)==null?void 0:$.index)||0)+1,F=C[O];if(F&&(!(f==="alignment"?p!==_n(F):!1)||I.every(P=>P.overflows[0]>0&&_n(P.placement)===p)))return{data:{index:O,overflows:I},reset:{placement:F}};let _=(w=I.filter(B=>B.overflows[0]<=0).sort((B,P)=>B.overflows[1]-P.overflows[1])[0])==null?void 0:w.placement;if(!_)switch(y){case"bestFit":{var T;const B=(T=I.filter(P=>{if(k){const W=_n(P.placement);return W===p||W==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(W=>W>0).reduce((W,H)=>W+H,0)]).sort((P,W)=>P[1]-W[1])[0])==null?void 0:T[0];B&&(_=B);break}case"initialPlacement":_=l;break}if(s!==_)return{reset:{placement:_}}}return{}}}};function fp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hp(e){return hk.some(t=>e[t]>=0)}const Ek=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=nr(e,t);switch(r){case"referenceHidden":{const i=await vi(t,{...s,elementContext:"reference"}),a=fp(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:hp(a)}}}case"escaped":{const i=await vi(t,{...s,altBoundary:!0}),a=fp(i,n.floating);return{data:{escapedOffsets:a,escaped:hp(a)}}}default:return{}}}}},c0=new Set(["left","top"]);async function Tk(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=rr(n),l=lo(n),c=_n(n)==="y",u=c0.has(a)?-1:1,h=i&&c?-1:1,f=nr(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*h,y:m*u}:{x:m*u,y:y*h}}const _k=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await Tk(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},Rk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:S=>{let{x:v,y:p}=S;return{x:v,y:p}}},...c}=nr(e,t),u={x:n,y:r},h=await vi(t,c),f=_n(rr(s)),m=Hf(f);let y=u[m],b=u[f];if(i){const S=m==="y"?"top":"left",v=m==="y"?"bottom":"right",p=y+h[S],g=y-h[v];y=ud(p,y,g)}if(a){const S=f==="y"?"top":"left",v=f==="y"?"bottom":"right",p=b+h[S],g=b-h[v];b=ud(p,b,g)}const x=l.fn({...t,[m]:y,[f]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:a}}}}}},Pk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=nr(e,t),h={x:n,y:r},f=_n(s),m=Hf(f);let y=h[m],b=h[f];const x=nr(l,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const g=m==="y"?"height":"width",N=i.reference[m]-i.floating[g]+S.mainAxis,j=i.reference[m]+i.reference[g]-S.mainAxis;y<N?y=N:y>j&&(y=j)}if(u){var v,p;const g=m==="y"?"width":"height",N=c0.has(rr(s)),j=i.reference[f]-i.floating[g]+(N&&((v=a.offset)==null?void 0:v[f])||0)+(N?0:S.crossAxis),k=i.reference[f]+i.reference[g]+(N?0:((p=a.offset)==null?void 0:p[f])||0)-(N?S.crossAxis:0);b<j?b=j:b>k&&(b=k)}return{[m]:y,[f]:b}}}},Ak=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=nr(e,t),h=await vi(t,u),f=rr(s),m=lo(s),y=_n(s)==="y",{width:b,height:x}=i.floating;let S,v;f==="top"||f==="bottom"?(S=f,v=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,S=m==="end"?"top":"bottom");const p=x-h.top-h.bottom,g=b-h.left-h.right,N=Ir(x-h[S],p),j=Ir(b-h[v],g),k=!t.middlewareData.shift;let C=N,E=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=p),k&&!m){const I=Ft(h.left,0),$=Ft(h.right,0),w=Ft(h.top,0),T=Ft(h.bottom,0);y?E=b-2*(I!==0||$!==0?I+$:Ft(h.left,h.right)):C=x-2*(w!==0||T!==0?w+T:Ft(h.top,h.bottom))}await c({...t,availableWidth:E,availableHeight:C});const R=await a.getDimensions(l.floating);return b!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function Gl(){return typeof window<"u"}function co(e){return u0(e)?(e.nodeName||"").toLowerCase():"#document"}function Vt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fn(e){var t;return(t=(u0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function u0(e){return Gl()?e instanceof Node||e instanceof Vt(e).Node:!1}function wn(e){return Gl()?e instanceof Element||e instanceof Vt(e).Element:!1}function Ln(e){return Gl()?e instanceof HTMLElement||e instanceof Vt(e).HTMLElement:!1}function mp(e){return!Gl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vt(e).ShadowRoot}const Ik=new Set(["inline","contents"]);function _i(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ik.has(s)}const Ok=new Set(["table","td","th"]);function Dk(e){return Ok.has(co(e))}const Lk=[":popover-open",":modal"];function Yl(e){return Lk.some(t=>{try{return e.matches(t)}catch{return!1}})}const Mk=["transform","translate","scale","rotate","perspective"],$k=["transform","translate","scale","rotate","perspective","filter"],zk=["paint","layout","strict","content"];function Yf(e){const t=Xf(),n=wn(e)?bn(e):e;return Mk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||$k.some(r=>(n.willChange||"").includes(r))||zk.some(r=>(n.contain||"").includes(r))}function Fk(e){let t=Or(e);for(;Ln(t)&&!to(t);){if(Yf(t))return t;if(Yl(t))return null;t=Or(t)}return null}function Xf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Uk=new Set(["html","body","#document"]);function to(e){return Uk.has(co(e))}function bn(e){return Vt(e).getComputedStyle(e)}function Xl(e){return wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Or(e){if(co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mp(e)&&e.host||Fn(e);return mp(t)?t.host:t}function d0(e){const t=Or(e);return to(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&_i(t)?t:d0(t)}function xi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=d0(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Vt(s);if(i){const l=fd(a);return t.concat(a,a.visualViewport||[],_i(s)?s:[],l&&n?xi(l):[])}return t.concat(s,xi(s,[],n))}function fd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function f0(e){const t=bn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ln(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=pl(n)!==i||pl(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function qf(e){return wn(e)?e:e.contextElement}function Hs(e){const t=qf(e);if(!Ln(t))return In(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=f0(t);let a=(i?pl(n.width):n.width)/r,l=(i?pl(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Bk=In(0);function h0(e){const t=Vt(e);return!Xf()||!t.visualViewport?Bk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vt(e)?!1:t}function as(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=qf(e);let a=In(1);t&&(r?wn(r)&&(a=Hs(r)):a=Hs(e));const l=Wk(i,n,r)?h0(i):In(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=Vt(i),y=r&&wn(r)?Vt(r):r;let b=m,x=fd(b);for(;x&&r&&y!==b;){const S=Hs(x),v=x.getBoundingClientRect(),p=bn(x),g=v.left+(x.clientLeft+parseFloat(p.paddingLeft))*S.x,N=v.top+(x.clientTop+parseFloat(p.paddingTop))*S.y;c*=S.x,u*=S.y,h*=S.x,f*=S.y,c+=g,u+=N,b=Vt(x),x=fd(b)}}return vl({width:h,height:f,x:c,y:u})}function Qf(e,t){const n=Xl(e).scrollLeft;return t?t.left+n:as(Fn(e)).left+n}function m0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Qf(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function Vk(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=Fn(r),l=t?Yl(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=In(1);const h=In(0),f=Ln(r);if((f||!f&&!i)&&((co(r)!=="body"||_i(a))&&(c=Xl(r)),Ln(r))){const y=as(r);u=Hs(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=a&&!f&&!i?m0(a,c,!0):In(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function Hk(e){return Array.from(e.getClientRects())}function Kk(e){const t=Fn(e),n=Xl(e),r=e.ownerDocument.body,s=Ft(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ft(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Qf(e);const l=-n.scrollTop;return bn(r).direction==="rtl"&&(a+=Ft(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function Gk(e,t){const n=Vt(e),r=Fn(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Xf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const Yk=new Set(["absolute","fixed"]);function Xk(e,t){const n=as(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ln(e)?Hs(e):In(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function pp(e,t,n){let r;if(t==="viewport")r=Gk(e,n);else if(t==="document")r=Kk(Fn(e));else if(wn(t))r=Xk(t,n);else{const s=h0(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return vl(r)}function p0(e,t){const n=Or(e);return n===t||!wn(n)||to(n)?!1:bn(n).position==="fixed"||p0(n,t)}function qk(e,t){const n=t.get(e);if(n)return n;let r=xi(e,[],!1).filter(l=>wn(l)&&co(l)!=="body"),s=null;const i=bn(e).position==="fixed";let a=i?Or(e):e;for(;wn(a)&&!to(a);){const l=bn(a),c=Yf(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Yk.has(s.position)||_i(a)&&!c&&p0(e,a))?r=r.filter(h=>h!==a):s=l,a=Or(a)}return t.set(e,r),r}function Qk(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Yl(t)?[]:qk(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const f=pp(t,h,s);return u.top=Ft(f.top,u.top),u.right=Ir(f.right,u.right),u.bottom=Ir(f.bottom,u.bottom),u.left=Ft(f.left,u.left),u},pp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Jk(e){const{width:t,height:n}=f0(e);return{width:t,height:n}}function Zk(e,t,n){const r=Ln(t),s=Fn(t),i=n==="fixed",a=as(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=In(0);function u(){c.x=Qf(s)}if(r||!r&&!i)if((co(t)!=="body"||_i(s))&&(l=Xl(t)),r){const y=as(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?m0(s,l):In(0),f=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Gc(e){return bn(e).position==="static"}function gp(e,t){if(!Ln(e)||bn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fn(e)===n&&(n=n.ownerDocument.body),n}function g0(e,t){const n=Vt(e);if(Yl(e))return n;if(!Ln(e)){let s=Or(e);for(;s&&!to(s);){if(wn(s)&&!Gc(s))return s;s=Or(s)}return n}let r=gp(e,t);for(;r&&Dk(r)&&Gc(r);)r=gp(r,t);return r&&to(r)&&Gc(r)&&!Yf(r)?n:r||Fk(e)||n}const eC=async function(e){const t=this.getOffsetParent||g0,n=this.getDimensions,r=await n(e.floating);return{reference:Zk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tC(e){return bn(e).direction==="rtl"}const nC={convertOffsetParentRelativeRectToViewportRelativeRect:Vk,getDocumentElement:Fn,getClippingRect:Qk,getOffsetParent:g0,getElementRects:eC,getClientRects:Hk,getDimensions:Jk,getScale:Hs,isElement:wn,isRTL:tC};function v0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rC(e,t){let n=null,r;const s=Fn(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=u;if(l||t(),!m||!y)return;const b=ga(f),x=ga(s.clientWidth-(h+m)),S=ga(s.clientHeight-(f+y)),v=ga(h),g={rootMargin:-b+"px "+-x+"px "+-S+"px "+-v+"px",threshold:Ft(0,Ir(1,c))||1};let N=!0;function j(k){const C=k[0].intersectionRatio;if(C!==c){if(!N)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!v0(u,e.getBoundingClientRect())&&a(),N=!1}try{n=new IntersectionObserver(j,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,g)}n.observe(e)}return a(!0),i}function sC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qf(e),h=s||i?[...u?xi(u):[],...xi(t)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=u&&l?rC(u,n):null;let m=-1,y=null;a&&(y=new ResizeObserver(v=>{let[p]=v;p&&p.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var g;(g=y)==null||g.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let b,x=c?as(e):null;c&&S();function S(){const v=as(e);x&&!v0(x,v)&&n(),x=v,b=requestAnimationFrame(S)}return n(),()=>{var v;h.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(v=y)==null||v.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const oC=_k,iC=Rk,aC=Ck,lC=Ak,cC=Ek,vp=kk,uC=Pk,dC=(e,t,n)=>{const r=new Map,s={platform:nC,...n},i={...s.platform,_c:r};return Sk(e,t,{...s,platform:i})};var fC=typeof document<"u",hC=function(){},za=fC?d.useLayoutEffect:hC;function xl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!xl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function x0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xp(e,t){const n=x0(e);return Math.round(t*n)/n}function Yc(e){const t=d.useRef(e);return za(()=>{t.current=e}),t}function mC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=d.useState(r);xl(m,r)||y(r);const[b,x]=d.useState(null),[S,v]=d.useState(null),p=d.useCallback(P=>{P!==k.current&&(k.current=P,x(P))},[]),g=d.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),N=i||b,j=a||S,k=d.useRef(null),C=d.useRef(null),E=d.useRef(h),R=c!=null,I=Yc(c),$=Yc(s),w=Yc(u),T=d.useCallback(()=>{if(!k.current||!C.current)return;const P={placement:t,strategy:n,middleware:m};$.current&&(P.platform=$.current),dC(k.current,C.current,P).then(W=>{const H={...W,isPositioned:w.current!==!1};O.current&&!xl(E.current,H)&&(E.current=H,io.flushSync(()=>{f(H)}))})},[m,t,n,$,w]);za(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const O=d.useRef(!1);za(()=>(O.current=!0,()=>{O.current=!1}),[]),za(()=>{if(N&&(k.current=N),j&&(C.current=j),N&&j){if(I.current)return I.current(N,j,T);T()}},[N,j,T,I,R]);const F=d.useMemo(()=>({reference:k,floating:C,setReference:p,setFloating:g}),[p,g]),_=d.useMemo(()=>({reference:N,floating:j}),[N,j]),B=d.useMemo(()=>{const P={position:n,left:0,top:0};if(!_.floating)return P;const W=xp(_.floating,h.x),H=xp(_.floating,h.y);return l?{...P,transform:"translate("+W+"px, "+H+"px)",...x0(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:H}},[n,l,_.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:T,refs:F,elements:_,floatingStyles:B}),[h,T,F,_,B])}const pC=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?vp({element:r.current,padding:s}).fn(n):{}:r?vp({element:r,padding:s}).fn(n):{}}}},gC=(e,t)=>({...oC(e),options:[e,t]}),vC=(e,t)=>({...iC(e),options:[e,t]}),xC=(e,t)=>({...uC(e),options:[e,t]}),yC=(e,t)=>({...aC(e),options:[e,t]}),wC=(e,t)=>({...lC(e),options:[e,t]}),bC=(e,t)=>({...cC(e),options:[e,t]}),jC=(e,t)=>({...pC(e),options:[e,t]});var NC="Arrow",y0=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(le.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});y0.displayName=NC;var SC=y0;function Jf(e){const[t,n]=d.useState(void 0);return Je(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Zf="Popper",[w0,b0]=zn(Zf),[kC,j0]=w0(Zf),N0=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(kC,{scope:t,anchor:r,onAnchorChange:s,children:n})};N0.displayName=Zf;var S0="PopperAnchor",k0=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=j0(S0,n),a=d.useRef(null),l=ye(t,a);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(le.div,{...s,ref:l})});k0.displayName=S0;var eh="PopperContent",[CC,EC]=w0(eh),C0=d.forwardRef((e,t)=>{var ne,pe,je,A,X,ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:b,...x}=e,S=j0(eh,n),[v,p]=d.useState(null),g=ye(t,Oe=>p(Oe)),[N,j]=d.useState(null),k=Jf(N),C=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,R=r+(i!=="center"?"-"+i:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(u)?u:[u],w=$.length>0,T={padding:I,boundary:$.filter(_C),altBoundary:w},{refs:O,floatingStyles:F,placement:_,isPositioned:B,middlewareData:P}=mC({strategy:"fixed",placement:R,whileElementsMounted:(...Oe)=>sC(...Oe,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[gC({mainAxis:s+E,alignmentAxis:a}),c&&vC({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xC():void 0,...T}),c&&yC({...T}),wC({...T,apply:({elements:Oe,rects:He,availableWidth:at,availableHeight:z})=>{const{width:Q,height:J}=He.reference,Y=Oe.floating.style;Y.setProperty("--radix-popper-available-width",`${at}px`),Y.setProperty("--radix-popper-available-height",`${z}px`),Y.setProperty("--radix-popper-anchor-width",`${Q}px`),Y.setProperty("--radix-popper-anchor-height",`${J}px`)}}),N&&jC({element:N,padding:l}),RC({arrowWidth:C,arrowHeight:E}),m&&bC({strategy:"referenceHidden",...T})]}),[W,H]=_0(_),q=xt(b);Je(()=>{B&&(q==null||q())},[B,q]);const ee=(ne=P.arrow)==null?void 0:ne.x,ae=(pe=P.arrow)==null?void 0:pe.y,we=((je=P.arrow)==null?void 0:je.centerOffset)!==0,[Te,_e]=d.useState();return Je(()=>{v&&_e(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(A=P.transformOrigin)==null?void 0:A.x,(X=P.transformOrigin)==null?void 0:X.y].join(" "),...((ce=P.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(CC,{scope:n,placedSide:W,onArrowChange:j,arrowX:ee,arrowY:ae,shouldHideArrow:we,children:o.jsx(le.div,{"data-side":W,"data-align":H,...x,ref:g,style:{...x.style,animation:B?void 0:"none"}})})})});C0.displayName=eh;var E0="PopperArrow",TC={top:"bottom",right:"left",bottom:"top",left:"right"},T0=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=EC(E0,r),a=TC[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(SC,{...s,ref:n,style:{...s.style,display:"block"}})})});T0.displayName=E0;function _C(e){return e!==null}var RC=e=>({name:"transformOrigin",options:e,fn(t){var S,v,p;const{placement:n,rects:r,middlewareData:s}=t,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,h]=_0(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,y=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let b="",x="";return u==="bottom"?(b=a?f:`${m}px`,x=`${-c}px`):u==="top"?(b=a?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,x=a?f:`${y}px`):u==="left"&&(b=`${r.floating.width+c}px`,x=a?f:`${y}px`),{data:{x:b,y:x}}}});function _0(e){const[t,n="center"]=e.split("-");return[t,n]}var PC=N0,AC=k0,IC=C0,OC=T0;function th(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var R0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),DC="VisuallyHidden",LC=d.forwardRef((e,t)=>o.jsx(le.span,{...e,ref:t,style:{...R0,...e.style}}));LC.displayName=DC;var MC=[" ","Enter","ArrowUp","ArrowDown"],$C=[" ","Enter"],ls="Select",[ql,Ql,zC]=Vf(ls),[uo,SR]=zn(ls,[zC,b0]),Jl=b0(),[FC,zr]=uo(ls),[UC,BC]=uo(ls),P0=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:y,form:b}=e,x=Jl(t),[S,v]=d.useState(null),[p,g]=d.useState(null),[N,j]=d.useState(!1),k=Ti(u),[C,E]=os({prop:r,defaultProp:s??!1,onChange:i,caller:ls}),[R,I]=os({prop:a,defaultProp:l,onChange:c,caller:ls}),$=d.useRef(null),w=S?b||!!S.closest("form"):!0,[T,O]=d.useState(new Set),F=Array.from(T).map(_=>_.props.value).join(";");return o.jsx(PC,{...x,children:o.jsxs(FC,{required:y,scope:t,trigger:S,onTriggerChange:v,valueNode:p,onValueNodeChange:g,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:_r(),value:R,onValueChange:I,open:C,onOpenChange:E,dir:k,triggerPointerDownPosRef:$,disabled:m,children:[o.jsx(ql.Provider,{scope:t,children:o.jsx(UC,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(_=>{O(B=>new Set(B).add(_))},[]),onNativeOptionRemove:d.useCallback(_=>{O(B=>{const P=new Set(B);return P.delete(_),P})},[]),children:n})}),w?o.jsxs(Z0,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:R,onChange:_=>I(_.target.value),disabled:m,form:b,children:[R===void 0?o.jsx("option",{value:""}):null,Array.from(T)]},F):null]})})};P0.displayName=ls;var A0="SelectTrigger",I0=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Jl(n),a=zr(A0,n),l=a.disabled||r,c=ye(t,a.onTriggerChange),u=Ql(n),h=d.useRef("touch"),[f,m,y]=ty(x=>{const S=u().filter(g=>!g.disabled),v=S.find(g=>g.value===a.value),p=ny(S,x,v);p!==void 0&&a.onValueChange(p.value)}),b=x=>{l||(a.onOpenChange(!0),y()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(AC,{asChild:!0,...i,children:o.jsx(le.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ey(a.value)?"":void 0,...s,ref:c,onClick:me(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&b(x)}),onPointerDown:me(s.onPointerDown,x=>{h.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:me(s.onKeyDown,x=>{const S=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(S&&x.key===" ")&&MC.includes(x.key)&&(b(),x.preventDefault())})})})});I0.displayName=A0;var O0="SelectValue",D0=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=zr(O0,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=ye(t,c.onValueNodeChange);return Je(()=>{u(h)},[u,h]),o.jsx(le.span,{...l,ref:f,style:{pointerEvents:"none"},children:ey(c.value)?o.jsx(o.Fragment,{children:a}):i})});D0.displayName=O0;var WC="SelectIcon",L0=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(le.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});L0.displayName=WC;var VC="SelectPortal",M0=e=>o.jsx(zf,{asChild:!0,...e});M0.displayName=VC;var cs="SelectContent",$0=d.forwardRef((e,t)=>{const n=zr(cs,e.__scopeSelect),[r,s]=d.useState();if(Je(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?io.createPortal(o.jsx(z0,{scope:e.__scopeSelect,children:o.jsx(ql.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(F0,{...e,ref:t})});$0.displayName=cs;var dn=10,[z0,Fr]=uo(cs),HC="SelectContentImpl",KC=Zs("SelectContent.RemoveScroll"),F0=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:S,...v}=e,p=zr(cs,n),[g,N]=d.useState(null),[j,k]=d.useState(null),C=ye(t,ne=>N(ne)),[E,R]=d.useState(null),[I,$]=d.useState(null),w=Ql(n),[T,O]=d.useState(!1),F=d.useRef(!1);d.useEffect(()=>{if(g)return Gx(g)},[g]),$x();const _=d.useCallback(ne=>{const[pe,...je]=w().map(ce=>ce.ref.current),[A]=je.slice(-1),X=document.activeElement;for(const ce of ne)if(ce===X||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===pe&&j&&(j.scrollTop=0),ce===A&&j&&(j.scrollTop=j.scrollHeight),ce==null||ce.focus(),document.activeElement!==X))return},[w,j]),B=d.useCallback(()=>_([E,g]),[_,E,g]);d.useEffect(()=>{T&&B()},[T,B]);const{onOpenChange:P,triggerPointerDownPosRef:W}=p;d.useEffect(()=>{if(g){let ne={x:0,y:0};const pe=A=>{var X,ce;ne={x:Math.abs(Math.round(A.pageX)-(((X=W.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(A.pageY)-(((ce=W.current)==null?void 0:ce.y)??0))}},je=A=>{ne.x<=10&&ne.y<=10?A.preventDefault():g.contains(A.target)||P(!1),document.removeEventListener("pointermove",pe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",je,{capture:!0})}}},[g,P,W]),d.useEffect(()=>{const ne=()=>P(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[P]);const[H,q]=ty(ne=>{const pe=w().filter(X=>!X.disabled),je=pe.find(X=>X.ref.current===document.activeElement),A=ny(pe,ne,je);A&&setTimeout(()=>A.ref.current.focus())}),ee=d.useCallback((ne,pe,je)=>{const A=!F.current&&!je;(p.value!==void 0&&p.value===pe||A)&&(R(ne),A&&(F.current=!0))},[p.value]),ae=d.useCallback(()=>g==null?void 0:g.focus(),[g]),we=d.useCallback((ne,pe,je)=>{const A=!F.current&&!je;(p.value!==void 0&&p.value===pe||A)&&$(ne)},[p.value]),Te=r==="popper"?hd:U0,_e=Te===hd?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:S}:{};return o.jsx(z0,{scope:n,content:g,viewport:j,onViewportChange:k,itemRefCallback:ee,selectedItem:E,onItemLeave:ae,itemTextRefCallback:we,focusSelectedItem:B,selectedItemText:I,position:r,isPositioned:T,searchRef:H,children:o.jsx(Ff,{as:KC,allowPinchZoom:!0,children:o.jsx($f,{asChild:!0,trapped:p.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:me(s,ne=>{var pe;(pe=p.trigger)==null||pe.focus({preventScroll:!0}),ne.preventDefault()}),children:o.jsx(Mf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:o.jsx(Te,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:ne=>ne.preventDefault(),...v,..._e,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:me(v.onKeyDown,ne=>{const pe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!pe&&ne.key.length===1&&q(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let A=w().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(A=A.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const X=ne.target,ce=A.indexOf(X);A=A.slice(ce+1)}setTimeout(()=>_(A)),ne.preventDefault()}})})})})})})});F0.displayName=HC;var GC="SelectItemAlignedPosition",U0=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=zr(cs,n),a=Fr(cs,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=ye(t,C=>h(C)),m=Ql(n),y=d.useRef(!1),b=d.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:v,focusSelectedItem:p}=a,g=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&S&&v){const C=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),I=v.getBoundingClientRect();if(i.dir!=="rtl"){const X=I.left-E.left,ce=R.left-X,Oe=C.left-ce,He=C.width+Oe,at=Math.max(He,E.width),z=window.innerWidth-dn,Q=gi(ce,[dn,Math.max(dn,z-at)]);l.style.minWidth=He+"px",l.style.left=Q+"px"}else{const X=E.right-I.right,ce=window.innerWidth-R.right-X,Oe=window.innerWidth-C.right-ce,He=C.width+Oe,at=Math.max(He,E.width),z=window.innerWidth-dn,Q=gi(ce,[dn,Math.max(dn,z-at)]);l.style.minWidth=He+"px",l.style.right=Q+"px"}const $=m(),w=window.innerHeight-dn*2,T=x.scrollHeight,O=window.getComputedStyle(u),F=parseInt(O.borderTopWidth,10),_=parseInt(O.paddingTop,10),B=parseInt(O.borderBottomWidth,10),P=parseInt(O.paddingBottom,10),W=F+_+T+P+B,H=Math.min(S.offsetHeight*5,W),q=window.getComputedStyle(x),ee=parseInt(q.paddingTop,10),ae=parseInt(q.paddingBottom,10),we=C.top+C.height/2-dn,Te=w-we,_e=S.offsetHeight/2,ne=S.offsetTop+_e,pe=F+_+ne,je=W-pe;if(pe<=we){const X=$.length>0&&S===$[$.length-1].ref.current;l.style.bottom="0px";const ce=u.clientHeight-x.offsetTop-x.offsetHeight,Oe=Math.max(Te,_e+(X?ae:0)+ce+B),He=pe+Oe;l.style.height=He+"px"}else{const X=$.length>0&&S===$[0].ref.current;l.style.top="0px";const Oe=Math.max(we,F+x.offsetTop+(X?ee:0)+_e)+je;l.style.height=Oe+"px",x.scrollTop=pe-we+x.offsetTop}l.style.margin=`${dn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=w+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,S,v,i.dir,r]);Je(()=>g(),[g]);const[N,j]=d.useState();Je(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const k=d.useCallback(C=>{C&&b.current===!0&&(g(),p==null||p(),b.current=!1)},[g,p]);return o.jsx(XC,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});U0.displayName=GC;var YC="SelectPopperPosition",hd=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=dn,...i}=e,a=Jl(n);return o.jsx(IC,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hd.displayName=YC;var[XC,nh]=uo(cs,{}),md="SelectViewport",B0=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Fr(md,n),a=nh(md,n),l=ye(t,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(ql.Slot,{scope:n,children:o.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const b=window.innerHeight-dn*2,x=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),v=Math.max(x,S);if(v<b){const p=v+y,g=Math.min(b,p),N=p-g;f.style.height=g+"px",f.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});B0.displayName=md;var W0="SelectGroup",[qC,QC]=uo(W0),JC=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=_r();return o.jsx(qC,{scope:n,id:s,children:o.jsx(le.div,{role:"group","aria-labelledby":s,...r,ref:t})})});JC.displayName=W0;var V0="SelectLabel",ZC=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=QC(V0,n);return o.jsx(le.div,{id:s.id,...r,ref:t})});ZC.displayName=V0;var yl="SelectItem",[eE,H0]=uo(yl),K0=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=zr(yl,n),c=Fr(yl,n),u=l.value===r,[h,f]=d.useState(i??""),[m,y]=d.useState(!1),b=ye(t,p=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,p,r,s)}),x=_r(),S=d.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(eE,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:d.useCallback(p=>{f(g=>g||((p==null?void 0:p.textContent)??"").trim())},[]),children:o.jsx(ql.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(le.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:b,onFocus:me(a.onFocus,()=>y(!0)),onBlur:me(a.onBlur,()=>y(!1)),onClick:me(a.onClick,()=>{S.current!=="mouse"&&v()}),onPointerUp:me(a.onPointerUp,()=>{S.current==="mouse"&&v()}),onPointerDown:me(a.onPointerDown,p=>{S.current=p.pointerType}),onPointerMove:me(a.onPointerMove,p=>{var g;S.current=p.pointerType,s?(g=c.onItemLeave)==null||g.call(c):S.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(a.onPointerLeave,p=>{var g;p.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:me(a.onKeyDown,p=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&p.key===" "||($C.includes(p.key)&&v(),p.key===" "&&p.preventDefault())})})})})});K0.displayName=yl;var Mo="SelectItemText",G0=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=zr(Mo,n),l=Fr(Mo,n),c=H0(Mo,n),u=BC(Mo,n),[h,f]=d.useState(null),m=ye(t,v=>f(v),c.onItemTextChange,v=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,v,c.value,c.disabled)}),y=h==null?void 0:h.textContent,b=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=u;return Je(()=>(x(b),()=>S(b)),[x,S,b]),o.jsxs(o.Fragment,{children:[o.jsx(le.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?io.createPortal(i.children,a.valueNode):null]})});G0.displayName=Mo;var Y0="SelectItemIndicator",X0=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return H0(Y0,n).isSelected?o.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});X0.displayName=Y0;var pd="SelectScrollUpButton",q0=d.forwardRef((e,t)=>{const n=Fr(pd,e.__scopeSelect),r=nh(pd,e.__scopeSelect),[s,i]=d.useState(!1),a=ye(t,r.onScrollButtonChange);return Je(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(J0,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});q0.displayName=pd;var gd="SelectScrollDownButton",Q0=d.forwardRef((e,t)=>{const n=Fr(gd,e.__scopeSelect),r=nh(gd,e.__scopeSelect),[s,i]=d.useState(!1),a=ye(t,r.onScrollButtonChange);return Je(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(J0,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Q0.displayName=gd;var J0=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Fr("SelectScrollButton",n),a=d.useRef(null),l=Ql(n),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Je(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(le.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:me(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:me(s.onPointerLeave,()=>{c()})})}),tE="SelectSeparator",nE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});nE.displayName=tE;var vd="SelectArrow",rE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Jl(n),i=zr(vd,n),a=Fr(vd,n);return i.open&&a.position==="popper"?o.jsx(OC,{...s,...r,ref:t}):null});rE.displayName=vd;var sE="SelectBubbleInput",Z0=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),i=ye(r,s),a=th(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(le.select,{...n,style:{...R0,...n.style},ref:i,defaultValue:t})});Z0.displayName=sE;function ey(e){return e===""||e===void 0}function ty(e){const t=xt(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ny(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=oE(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function oE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iE=P0,aE=I0,lE=D0,cE=L0,uE=M0,dE=$0,fE=B0,hE=K0,mE=G0,pE=X0,gE=q0,vE=Q0;function rh({...e}){return o.jsx(iE,{"data-slot":"select",...e})}function sh({...e}){return o.jsx(lE,{"data-slot":"select-value",...e})}function oh({className:e,size:t="default",children:n,...r}){return o.jsxs(aE,{"data-slot":"select-trigger","data-size":t,className:Ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,o.jsx(cE,{asChild:!0,children:o.jsx(ux,{className:"size-4 opacity-50"})})]})}function ih({className:e,children:t,position:n="popper",...r}){return o.jsx(uE,{children:o.jsxs(dE,{"data-slot":"select-content",className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(xE,{}),o.jsx(fE,{className:Ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(yE,{})]})})}function Rn({className:e,children:t,...n}){return o.jsxs(hE,{"data-slot":"select-item",className:Ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(pE,{children:o.jsx(Ws,{className:"size-4"})})}),o.jsx(mE,{children:t})]})}function xE({className:e,...t}){return o.jsx(gE,{"data-slot":"select-scroll-up-button",className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Wj,{className:"size-4"})})}function yE({className:e,...t}){return o.jsx(vE,{"data-slot":"select-scroll-down-button",className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ux,{className:"size-4"})})}const wE=e=>{switch(e){case"movies":return"";case"tv":return"TV/";case"sports":return"";default:return""}};function Xc({category:e,onContentPlay:t,onContentDetail:n,onAddToPlaylist:r}){const[s,i]=d.useState(""),[a,l]=d.useState("latest"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,y]=d.useState(null),[b,x]=d.useState(!1),[S,v]=d.useState(),[p,g]=d.useState(!1),N=wE(e),j=w=>{switch(w){case"movies":return"MOVIE";case"tv":return"TV";case"sports":return"SPORTS";default:return"MOVIE"}},k=async(w=!1)=>{try{w?g(!0):f(!0),y(null);const T=await qr.getContents({type:j(e),query:s||void 0,sortBy:a==="latest"||a==="rating"?"RELEASE_AT":a==="title"?"TITLE":"RELEASE_AT",direction:a==="title"?"ASC":"DESC",cursor:w?S:void 0,size:20});u(w?O=>[...O,...T.data]:T.data),x(T.hasNext),v(T.nextCursor)}catch(T){console.error("  :",T),y(T instanceof Error?T.message:"    .")}finally{f(!1),g(!1)}};d.useEffect(()=>{k(!1)},[e]),d.useEffect(()=>{const w=setTimeout(()=>{k(!1)},300);return()=>clearTimeout(w)},[s,a]);const C=()=>{b&&!h&&!p&&k(!0)},E=w=>({id:w.id,title:w.title,thumbnail:w.thumbnailUrl||w.thumbnail||"",type:w.contentType.toLowerCase(),duration:w.duration||"120",description:w.description||"",rating:w.rating,reviewCount:w.reviewCount,year:w.year||new Date(w.releaseDate).getFullYear()}),R=w=>{r==null||r(E(w))},I=w=>{t(E(w))},$=w=>{n==null||n(E(w))};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl mb-4",children:N}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(fs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Me,{placeholder:`${N} ...`,value:s,onChange:w=>i(w.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(rh,{value:a,onValueChange:l,children:[o.jsx(oh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(sh,{placeholder:""})}),o.jsxs(ih,{children:[o.jsx(Rn,{value:"latest",children:""}),o.jsx(Rn,{value:"rating",children:"  "}),o.jsx(Rn,{value:"title",children:""})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsx("span",{children:h?" ...":`${c.length} `}),o.jsx(dt,{variant:"outline",className:qr.getTypeColor(j(e)),children:N})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(M,{onClick:()=>k(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:c.map(w=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>$(w),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden group-hover:scale-105 transition-transform duration-300",children:[w.thumbnailUrl?o.jsx("img",{src:w.thumbnailUrl,alt:w.title,className:"w-full h-full object-cover",onError:T=>{var O;T.currentTarget.style.display="none",(O=T.currentTarget.nextElementSibling)==null||O.classList.remove("hidden")}}):null,o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center ${w.thumbnailUrl?"hidden":""}`,children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-2xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:w.contentType})]})}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(M,{size:"sm",onClick:T=>{T.stopPropagation(),I(w)},className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(yt,{className:"w-4 h-4 mr-1"}),""]}),o.jsx(M,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),R(w)},className:"border-white/20 hover:bg-white/10",children:o.jsx(Wt,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:w.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-2",children:w.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:w.rating}),w.reviewCount&&o.jsxs("span",{className:"text-xs text-white/40",children:["(",w.reviewCount,")"]})]}),w.year&&o.jsx("span",{className:"text-xs text-white/60",children:w.year})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-white/60",children:w.duration}),o.jsx(dt,{variant:"outline",className:qr.getTypeColor(w.contentType),children:qr.getTypeLabel(w.contentType)})]})]})]},w.id))}),b&&o.jsx("div",{className:"text-center",children:o.jsx(M,{onClick:C,disabled:p,variant:"outline",className:"border-white/20 hover:bg-white/5",children:p?o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})}),c.length===0&&!h&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pf,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":`${N}  .`}),s&&o.jsxs(M,{variant:"outline",onClick:()=>i(""),className:"border-white/20 hover:bg-white/5",children:[" ",N," "]})]})]})]})})}class bE{constructor(){qe(this,"baseUrl","http://localhost:8080/api/reviews")}async authenticatedFetch(t,n={}){const r=localStorage.getItem("accessToken");if(!r)throw new Error("  .");const s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...n.headers||{}},i=await fetch(t,{...n,headers:s});if(i.status===401)throw localStorage.removeItem("accessToken"),new Error(" .  .");return i}async getReviewsByContentId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/contents/${t}/reviews`);if(!n.ok)throw new Error(`   . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("   :",n),n}}async getReviewById(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`);if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async createReview(t){try{const n=await this.authenticatedFetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw new Error(`  . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("  :",n),n}}async updateReview(t,n){try{const r=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(n)});if(!r.ok)throw new Error(`  . Status: ${r.status}`);return await r.json()}catch(r){throw console.error("  :",r),r}}async deleteReview(t){try{const n=await this.authenticatedFetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`  . Status: ${n.status}`)}catch(n){throw console.error("  :",n),n}}async getReviewsByUserId(t){try{const n=await this.authenticatedFetch(`http://localhost:8080/api/users/${t}/reviews`);if(!n.ok)throw new Error(`    . Status: ${n.status}`);return await n.json()}catch(n){throw console.error("    :",n),n}}}const va=new bE,xa=({rating:e,editable:t=!1,size:n="md",onChange:r})=>{const[s,i]=d.useState(0),a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=(u,h)=>{if(!t||!r)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,y=f.width,x=m<y/2?u-.5:u;r(x)},c=(u,h)=>{if(!t)return;const f=h.currentTarget.getBoundingClientRect(),m=h.clientX-f.left,y=f.width,x=m<y/2?u-.5:u;i(x)};return o.jsx("div",{className:"star-rating flex items-center",children:[1,2,3,4,5].map(u=>{const h=s||e,f=u-.5<=h&&u>h,m=u<=h;return o.jsxs("div",{className:"relative inline-block",children:[o.jsx(tr,{className:`${a[n]} text-gray-600 ${t?"cursor-pointer":"cursor-default"}`,onClick:t?y=>l(u,y):void 0,onMouseMove:t?y=>c(u,y):void 0,onMouseLeave:t?()=>i(0):void 0}),(m||f)&&o.jsx("div",{className:`absolute top-0 left-0 overflow-hidden ${f?"w-1/2":"w-full"}`,style:{pointerEvents:"none"},children:o.jsx(tr,{className:`${a[n]} text-yellow-400 fill-yellow-400`})})]},u)})})};function jE({content:e,onBack:t,onPlay:n,currentUser:r}){const[s,i]=d.useState(""),[a,l]=d.useState(0),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(!1),[b,x]=d.useState(null),[S,v]=d.useState(""),[p,g]=d.useState(0),[N,j]=d.useState(!1),[k,C]=d.useState(null),E=async()=>{f(!0);try{const B=(await va.getReviewsByContentId(e.id)).map(P=>({...P,contentId:e.id,createdAt:new Date().toISOString(),user:{id:P.authorId,name:P.authorName,avatar:P.authorId===(r==null?void 0:r.id)?r.avatar:void 0}}));u(B)}catch(_){console.error("  :",_)}finally{f(!1)}},R=c.length>0?c.reduce((_,B)=>_+B.rating,0)/c.length:0,I=async()=>{if(!(!s.trim()||a===0||!r)){y(!0);try{const _={userId:r.id,contentId:e.id,title:s.trim().substring(0,100),comment:s.trim(),rating:a},P={...await va.createReview(_),contentId:e.id,createdAt:new Date().toISOString(),user:{id:r.id,name:r.name,avatar:r.avatar}};u([P,...c]),i(""),l(0)}catch(_){console.error("  :",_)}finally{y(!1)}}},$=_=>{x(_),v(_.comment),g(_.rating)},w=()=>{x(null),v(""),g(0)},T=async()=>{if(!(!b||!S.trim()||p===0)){j(!0);try{const _={title:S.trim().substring(0,100),comment:S.trim(),rating:p},B=await va.updateReview(b.id,_);u(c.map(P=>P.id===b.id?{...P,...B}:P)),w()}catch(_){console.error("  :",_)}finally{j(!1)}}},O=async _=>{C(_);try{await va.deleteReview(_),u(c.filter(B=>B.id!==_))}catch(B){console.error("  :",B)}finally{C(null)}};d.useEffect(()=>{e.id&&E()},[e.id]);const F=_=>{switch(_){case"movie":return"";case"tv":return"";case"sports":return"";default:return""}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/10",children:[o.jsxs(M,{variant:"outline",size:"sm",onClick:t,className:"border-white/20 hover:bg-white/5",children:[o.jsx(ao,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("h1",{className:"text-xl",children:" "})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] border border-white/10 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-4xl font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-sm opacity-40 mt-2",children:F(e.type)})]})})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(dt,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:F(e.type)}),o.jsx("span",{className:"text-white/60",children:e.duration||" "})]}),o.jsx("h1",{className:"text-4xl mb-4",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xa,{rating:R,size:"lg"}),o.jsx("span",{className:"text-xl",children:R%1===0?R.toFixed(0):R.toFixed(1)}),o.jsxs("span",{className:"text-white/60",children:["(",c.length," )"]})]})}),o.jsxs(M,{size:"lg",onClick:()=>n(e),className:"teal-gradient hover:opacity-80 text-black mb-6",children:[o.jsx(yt,{className:"w-5 h-5 mr-3"}),""]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg mb-3",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e.description})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-2xl",children:[" (",c.length,")"]}),r&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg mb-4",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(xa,{rating:a,editable:!0,size:"lg",onChange:l})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(ad,{value:s,onChange:_=>i(_.target.value),placeholder:"     ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs(M,{onClick:I,disabled:!s.trim()||a===0||m||!r,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Af,{className:"w-4 h-4 mr-2"}),m?" ...":" "]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-white/60",children:"  ..."})}):c.map(_=>{var B,P,W,H;return o.jsx("div",{className:"bg-card rounded-lg p-6 border border-white/10",children:(b==null?void 0:b.id)===_.id?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs($e,{children:[o.jsx(ze,{src:(B=_.user)==null?void 0:B.avatar}),o.jsx(Fe,{children:((P=_.authorName)==null?void 0:P[0])||"U"})]}),o.jsx("span",{className:"font-medium",children:_.authorName||" "}),o.jsx("span",{className:"text-white/60 text-sm",children:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:""}),o.jsx(xa,{rating:p,editable:!0,size:"lg",onChange:g})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:" "}),o.jsx(ad,{value:S,onChange:q=>v(q.target.value),placeholder:" ...",className:"min-h-24 bg-white/5 border-white/20 focus:border-[#4ecdc4] resize-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(M,{onClick:T,disabled:!S.trim()||p===0||N,className:"teal-gradient hover:opacity-80 text-black",size:"sm",children:N?" ...":" "}),o.jsx(M,{onClick:w,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/5",children:""})]})]}):o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs($e,{children:[o.jsx(ze,{src:(W=_.user)==null?void 0:W.avatar}),o.jsx(Fe,{children:((H=_.authorName)==null?void 0:H[0])||"U"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-medium",children:_.authorName||" "}),o.jsx(xa,{rating:_.rating,size:"sm"}),o.jsx("span",{className:"text-white/60 text-sm",children:_.createdAt?new Date(_.createdAt).toLocaleDateString():" "})]}),o.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:_.comment}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:r&&_.authorId===r.id&&o.jsxs(o.Fragment,{children:[o.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>$(_),className:"text-white/60 hover:text-white hover:bg-white/5",children:[o.jsx(Qj,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>O(_.id),disabled:k===_.id,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(rd,{className:"w-4 h-4 mr-1"}),k===_.id?" ...":""]})]})})]})]})},_.id)})}),!h&&c.length===0&&o.jsx("div",{className:"text-center py-12 text-white/60",children:o.jsx("p",{children:"  .    !"})})]})]})]})}function NE({isOpen:e,onClose:t,userId:n,targetUserId:r,authenticatedFetch:s,onUserProfileOpen:i,refreshUserProfile:a,onPlaylistOpen:l}){const[c,u]=d.useState(""),[h,f]=d.useState("user@moplay.kr"),[m,y]=d.useState(!1),[b,x]=d.useState(null),[S,v]=d.useState(""),[p,g]=d.useState(!1),[N,j]=d.useState(null),[k,C]=d.useState(null),[E,R]=d.useState([]),[I,$]=d.useState([]),[w,T]=d.useState(!1),[O,F]=d.useState(!1),[_,B]=d.useState("profile"),[P,W]=d.useState([]),H=r||n,q=!!(r&&r!==n);d.useEffect(()=>{e&&(j(null),H?(ee(),ae(),we(),ne(),q&&Te()):j("  .  ."))},[e,H,q]);const ee=async()=>{try{const A=await s(`http://localhost:8080/api/users/${H}`);if(!A.ok)throw new Error("   .");const X=await A.json();C(X),u(X.name),f(X.email)}catch(A){console.error("   :",A),j("   .")}},ae=async()=>{try{const A=await s(`http://localhost:8080/api/follows/${H}/followers`);if(!A.ok)throw new Error("   .");const X=await A.json();R(X)}catch(A){console.error("   :",A),R([])}},we=async()=>{try{const A=await s(`http://localhost:8080/api/follows/${H}/following`);if(!A.ok)throw new Error("   .");const X=await A.json();$(X)}catch(A){console.error("   :",A),$([])}},Te=async()=>{if(!(!n||!H))try{const A=await s(`http://localhost:8080/api/follows/${n}/is-following/${H}`);if(!A.ok)throw new Error("   .");const X=await A.json();T(X)}catch(A){console.error("   :",A),T(!1)}},_e=async()=>{if(!(!n||!H)){F(!0);try{if(w){if(!(await s("http://localhost:8080/api/follows",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({followerId:n,followingId:H})})).ok)throw new Error(" .");T(!1),R(X=>X.filter(ce=>ce.id!==n))}else{const A=new FormData;if(A.append("followerId",n),A.append("followingId",H),!(await s("http://localhost:8080/api/follows",{method:"POST",body:A})).ok)throw new Error(" .");T(!0),k&&R(ce=>[...ce,{id:n,name:"",email:"",profileImage:""}])}}catch(A){console.error("  :",A),alert(A instanceof Error?A.message:"    .")}finally{F(!1)}}},ne=async()=>{if(H)try{const A=await s(`http://localhost:8080/api/users/${H}/playlists`);if(!A.ok)throw new Error("   .");const X=await A.json();W(X)}catch(A){console.error("   :",A),W([])}},pe=A=>{i&&(t(),i(A))},je=async()=>{g(!0),j(null);try{if(!n){j("  .  ."),g(!1);return}if(!S.trim()){j("     ."),g(!1);return}const A=new FormData,X={newName:c,newPassword:S};console.log("Request data:",X);const ce=new Blob([JSON.stringify(X)],{type:"application/json"});A.append("request",ce),b&&(A.append("profile",b),console.log("Profile image added:",b.name)),console.log("FormData entries:");for(let[at,z]of A.entries())console.log(at,z);const Oe=await fetch(`http://localhost:8080/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include",body:A});if(!Oe.ok){const at=await Oe.json();throw new Error(at.message||"  .")}const He=await Oe.json();C(He),u(He.name),f(He.email),x(null),await ee(),alert("  ."),a&&a(),v(""),t()}catch(A){console.error("  :",A),j(A instanceof Error?A.message:"    .")}finally{g(!1)}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl glass-effect border border-white/20 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl gradient-text",children:q?`${(k==null?void 0:k.name)||""} `:" "}),o.jsxs("div",{className:"flex items-center space-x-2",children:[q&&o.jsx(M,{onClick:_e,disabled:O,className:`${w?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:O?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):w?o.jsxs(o.Fragment,{children:[o.jsx(hx,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Of,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsx(M,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(yn,{className:"w-5 h-5"})})]})]}),N&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:N}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs($e,{className:"h-20 w-20 mb-4",children:[o.jsx(ze,{src:b?URL.createObjectURL(b):k==null?void 0:k.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xl",children:c.charAt(0)})]}),!q&&o.jsx(M,{variant:"ghost",size:"sm",className:"absolute -bottom-2 -right-2 p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black rounded-full",onClick:()=>y(!m),children:o.jsx(cx,{className:"w-4 h-4"})})]}),m&&!q&&o.jsx("div",{className:"w-full mb-4",children:o.jsx(Ox,{selectedImage:b,onImageSelect:x,onClose:()=>y(!1),userName:c})}),o.jsxs("div",{className:"flex space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:E.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:I.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx(M,{variant:_==="profile"?"default":"ghost",size:"sm",onClick:()=>B("profile"),className:_==="profile"?"teal-gradient text-black":"hover:bg-white/10",children:""}),o.jsxs(M,{variant:_==="followers"?"default":"ghost",size:"sm",onClick:()=>B("followers"),className:`${_==="followers"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(ft,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(M,{variant:_==="following"?"default":"ghost",size:"sm",onClick:()=>B("following"),className:`${_==="following"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx(Ar,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(M,{variant:_==="playlists"?"default":"ghost",size:"sm",onClick:()=>B("playlists"),className:`${_==="playlists"?"teal-gradient text-black":"hover:bg-white/10"} flex items-center space-x-1`,children:[o.jsx($c,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[_==="profile"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(At,{htmlFor:"name",className:"text-sm",children:""}),o.jsx(Me,{id:"name",value:c,onChange:A=>u(A.target.value),disabled:q,className:`mt-1 h-12 px-4 text-base bg-white/5 border-white/20 ${q?"text-white/60":"focus:border-[#4ecdc4]"}`})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"email",className:"text-sm",children:""}),o.jsx(Me,{id:"email",value:h,disabled:!0,className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 text-white/60"})]}),!q&&o.jsxs("div",{children:[o.jsxs(At,{htmlFor:"password",className:"text-sm",children:[" ",o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsx(Me,{id:"password",type:"password",value:S,onChange:A=>v(A.target.value),placeholder:"     ",className:"mt-1 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]",required:!0}),o.jsx("p",{className:"text-xs text-white/60 mt-1",children:"     ."})]})]}),_==="followers"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[E.map(A=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>A.id&&pe(A.id),children:[o.jsxs($e,{className:"h-10 w-10",children:[o.jsx(ze,{src:A.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:A.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:A.name}),o.jsx("p",{className:"text-white/60 text-sm",children:A.email})]})]},A.id)),E.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ft,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),_==="following"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[I.map(A=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>A.id&&pe(A.id),children:[o.jsxs($e,{className:"h-10 w-10",children:[o.jsx(ze,{src:A.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:A.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:A.name}),o.jsx("p",{className:"text-white/60 text-sm",children:A.email})]})]},A.id)),I.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ar,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),_==="playlists"&&o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[P.map(A=>{var X;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{l&&(t(),l(A.id))},children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:A.thumbnail?o.jsx("img",{src:A.thumbnail,alt:A.title||A.name,className:"w-full h-full object-cover"}):o.jsx($c,{className:"w-6 h-6 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:A.title||A.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[A.contentCount||((X=A.playlistContents)==null?void 0:X.length)||0," ",A.isPublic?"  ":"  "]})]})]},A.id)}),P.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx($c,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:q?" .":"   ."})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(M,{variant:"outline",className:"flex-1 border-white/20 hover:bg-white/5",onClick:t,disabled:p,children:q?"":""}),!q&&o.jsx(M,{className:"flex-1 teal-gradient hover:opacity-80 text-black",onClick:je,disabled:p||!n,children:p?" ...":""})]})]})]}):null}class SE{constructor(t){qe(this,"authenticatedFetch");this.authenticatedFetch=t}async getAllRooms(){const t="http://localhost:8080/api/dmRooms/";console.log("  DM   :",{url:t});const n=await this.authenticatedFetch(t);if(!n.ok)throw console.error(" DM   :",n.status,n.statusText),new Error(`Failed to fetch DM rooms: ${n.status} ${n.statusText}`);const r=await n.json();return console.log(" DM   :",r),r}async getRoom(t){const n=`http://localhost:8080/api/dmRooms/${t}`;console.log(" DM   :",{dmRoomId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM   :",r.status,r.statusText),new Error(`Failed to fetch DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM   :",s),s}async getOrCreateRoom(t){const n=`http://localhost:8080/api/dmRooms/userRoom?userB=${t}`;console.log(" DM  / :",{userBId:t,url:n});const r=await this.authenticatedFetch(n);if(!r.ok)throw console.error(" DM  / :",r.status,r.statusText),new Error(`Failed to get or create DM room: ${r.status} ${r.statusText}`);const s=await r.json();return console.log(" DM  / :",s),s}async getDmMessages(t,n){const r=new URLSearchParams;n!=null&&n.cursor&&r.append("cursor",n.cursor),n!=null&&n.size&&r.append("size",n.size.toString());const s=`http://localhost:8080/api/dm/${t}${r.toString()?"?"+r.toString():""}`;console.log(" DM   :",{roomId:t,pagingDto:n,url:s});const i=await this.authenticatedFetch(s);if(!i.ok)throw console.error(" DM   :",i.status,i.statusText),new Error(`Failed to fetch DM messages: ${i.status} ${i.statusText}`);const a=await i.json();return console.log(" DM   :",a),a}async getFollowing(t){const n=await this.authenticatedFetch(`http://localhost:8080/api/follows/${t}/following`);if(!n.ok)throw new Error("Failed to fetch following list");return n.json()}}function kE({isOpen:e,onClose:t,onOpenChat:n,authenticatedFetch:r,currentUserId:s,getDmRooms:i,getOrCreateDmRoom:a}){const[l,c]=d.useState(""),[u,h]=d.useState(!1),[f,m]=d.useState([]),[y,b]=d.useState([]),[x,S]=d.useState(!1),[v,p]=d.useState(null),g=new SE(r),N=f.filter(w=>w.name.toLowerCase().includes(l.toLowerCase())),j=y.filter(w=>w.name.toLowerCase().includes(l.toLowerCase())),k=w=>{console.log(`Opening conversation with ${w.name}`),n({id:w.userId,name:w.name,avatar:w.avatar,isOnline:w.isOnline,roomId:w.id})},C=()=>{h(!0),c("")},E=()=>{h(!1),c("")},R=async w=>{try{S(!0);const T=await a(w.id);console.log(`Starting new conversation with ${w.name}, room: ${T}`),n({id:w.id,name:w.name,avatar:w.avatar,isOnline:w.isOnline,roomId:T}),h(!1),c("")}catch(T){console.error("Error starting conversation:",T),p("   .")}finally{S(!1)}};d.useEffect(()=>{e&&s&&(I(),$())},[e,s]);const I=async()=>{try{S(!0),p(null);const T=(await i()).map(O=>{const F=O.senderId===s?{id:O.receiverId,name:O.receiverName,avatar:"",isOnline:!1}:{id:O.senderId,name:O.senderName,avatar:"",isOnline:!1},_=B=>{const P=new Date(B),H=new Date().getTime()-P.getTime(),q=Math.floor(H/(1e3*60)),ee=Math.floor(H/(1e3*60*60)),ae=Math.floor(H/(1e3*60*60*24));return q<1?" ":q<60?`${q} `:ee<24?`${ee} `:ae===1?"":`${ae} `};return{id:O.id,userId:(F==null?void 0:F.id)||"",name:(F==null?void 0:F.name)||"   ",avatar:(F==null?void 0:F.avatar)||"",lastMessage:O.lastMessage||"  ",timestamp:(O.lastMessage,_(O.createdAt)),unreadCount:O.newMessageCount||0,isOnline:(F==null?void 0:F.isOnline)||!1}});m(T)}catch(w){console.error("Error loading DM rooms:",w),p("    .")}finally{S(!1)}},$=async()=>{if(s)try{const T=(await g.getFollowing(s)).map(O=>({id:O.id,name:O.name||"   ",avatar:O.profileImage||"",isOnline:!1,mutualFriends:0}));b(T)}catch(w){console.error("Error loading chat partners:",w)}};return e?o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-bottom-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.85)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[u&&o.jsx(M,{variant:"ghost",size:"sm",onClick:E,className:"p-1 hover:bg-white/10",children:o.jsx(ao,{className:"w-4 h-4"})}),o.jsx("h3",{className:"text-lg gradient-text",children:u?" ":""})]}),o.jsx(M,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(yn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-5 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5"}),o.jsx(Me,{placeholder:" ...",value:l,onChange:w=>c(w.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:u?o.jsx(o.Fragment,{children:j.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}):o.jsx("div",{className:"space-y-1 p-2",children:j.map(w=>o.jsxs("div",{onClick:()=>R(w),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs($e,{className:"h-14 w-14",children:[o.jsx(ze,{src:w.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:w.name.charAt(0)})]}),w.isOnline&&o.jsx($m,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:w.name}),o.jsxs("p",{className:"text-sm text-white/60",children:["  ",w.mutualFriends,""]})]}),o.jsx("div",{className:"text-xs text-white/60 flex-shrink-0",children:w.isOnline?"":""})]},w.id))})}):o.jsxs(o.Fragment,{children:[x&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:"   ..."}),v&&o.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:v}),!x&&!v&&N.length===0&&o.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:l?"  ":" "}),!x&&!v&&N.length>0&&o.jsx("div",{className:"space-y-1 p-2",children:N.map(w=>o.jsxs("div",{onClick:()=>k(w),className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs($e,{className:"h-14 w-14",children:[o.jsx(ze,{src:w.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:w.name.charAt(0)})]}),w.isOnline&&o.jsx($m,{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 text-green-500 fill-current bg-background rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"truncate font-medium",children:w.name}),o.jsx("span",{className:"text-xs text-white/60 flex-shrink-0 ml-2",children:w.timestamp})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white/60 truncate flex-1 mr-2",children:w.lastMessage}),w.unreadCount>0&&o.jsx("div",{className:"bg-[#4ecdc4] text-black text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:w.unreadCount>9?"9+":w.unreadCount})]})]})]},w.id))})]})}),!u&&o.jsx("div",{className:"p-5 border-t border-white/10",children:o.jsxs(M,{onClick:C,className:"w-full h-10 teal-gradient hover:opacity-80 text-black",children:[o.jsx(ft,{className:"w-5 h-5 mr-2"})," "]})})]})}):null}function CE(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var ah="ScrollArea",[ry,kR]=zn(ah),[EE,sn]=ry(ah),sy=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[y,b]=d.useState(null),[x,S]=d.useState(null),[v,p]=d.useState(0),[g,N]=d.useState(0),[j,k]=d.useState(!1),[C,E]=d.useState(!1),R=ye(t,$=>c($)),I=Ti(s);return o.jsx(EE,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:j,onScrollbarXEnabledChange:k,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:p,onCornerHeightChange:N,children:o.jsx(le.div,{dir:I,...a,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":g+"px",...e.style}})})});sy.displayName=ah;var oy="ScrollAreaViewport",iy=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,a=sn(oy,n),l=d.useRef(null),c=ye(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(le.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});iy.displayName=oy;var Un="ScrollAreaScrollbar",ay=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=sn(Un,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(TE,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(_E,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(ly,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(lh,{...r,ref:t}):null});ay.displayName=Un;var TE=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=sn(Un,e.__scopeScrollArea),[i,a]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(or,{present:n||i,children:o.jsx(ly,{"data-state":i?"visible":"hidden",...r,ref:t})})}),_E=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=sn(Un,e.__scopeScrollArea),i=e.orientation==="horizontal",a=ec(()=>c("SCROLL_END"),100),[l,c]=CE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const y=u[h];f!==y&&(c("SCROLL"),a()),f=y};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,i,c,a]),o.jsx(or,{present:n||l!=="hidden",children:o.jsx(lh,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:me(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ly=d.forwardRef((e,t)=>{const n=sn(Un,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=d.useState(!1),l=e.orientation==="horizontal",c=ec(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:h)}},10);return no(n.viewport,c),no(n.content,c),o.jsx(or,{present:r||i,children:o.jsx(lh,{"data-state":i?"visible":"hidden",...s,ref:t})})}),lh=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=sn(Un,e.__scopeScrollArea),i=d.useRef(null),a=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=hy(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,y){return DE(m,a.current,l,y)}return n==="horizontal"?o.jsx(RE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,y=yp(m,l,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(PE,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,y=yp(m,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),RE=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=sn(Un,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=ye(t,c,i.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(uy,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zl(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),py(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bl(a.paddingLeft),paddingEnd:bl(a.paddingRight)}})}})}),PE=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=sn(Un,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=ye(t,c,i.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(uy,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zl(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),py(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bl(a.paddingTop),paddingEnd:bl(a.paddingBottom)}})}})}),[AE,cy]=ry(Un),uy=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,y=sn(Un,n),[b,x]=d.useState(null),S=ye(t,R=>x(R)),v=d.useRef(null),p=d.useRef(""),g=y.viewport,N=r.content-r.viewport,j=xt(h),k=xt(c),C=ec(f,10);function E(R){if(v.current){const I=R.clientX-v.current.left,$=R.clientY-v.current.top;u({x:I,y:$})}}return d.useEffect(()=>{const R=I=>{const $=I.target;(b==null?void 0:b.contains($))&&j(I,N)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[g,b,N,j]),d.useEffect(k,[r,k]),no(b,C),no(y.content,C),o.jsx(AE,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:xt(i),onThumbPointerUp:xt(a),onThumbPositionChange:k,onThumbPointerDown:xt(l),children:o.jsx(le.div,{...m,ref:S,style:{position:"absolute",...m.style},onPointerDown:me(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),v.current=b.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),E(R))}),onPointerMove:me(e.onPointerMove,E),onPointerUp:me(e.onPointerUp,R=>{const I=R.target;I.hasPointerCapture(R.pointerId)&&I.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=p.current,y.viewport&&(y.viewport.style.scrollBehavior=""),v.current=null})})})}),wl="ScrollAreaThumb",dy=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=cy(wl,e.__scopeScrollArea);return o.jsx(or,{present:n||s.hasThumb,children:o.jsx(IE,{ref:t,...r})})}),IE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=sn(wl,n),a=cy(wl,n),{onThumbPositionChange:l}=a,c=ye(t,f=>a.onThumbChange(f)),u=d.useRef(void 0),h=ec(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!u.current){const y=LE(f,l);u.current=y,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,l]),o.jsx(le.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:me(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),b=f.clientX-y.left,x=f.clientY-y.top;a.onThumbPointerDown({x:b,y:x})}),onPointerUp:me(e.onPointerUp,a.onThumbPointerUp)})});dy.displayName=wl;var ch="ScrollAreaCorner",fy=d.forwardRef((e,t)=>{const n=sn(ch,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(OE,{...e,ref:t}):null});fy.displayName=ch;var OE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=sn(ch,n),[i,a]=d.useState(0),[l,c]=d.useState(0),u=!!(i&&l);return no(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),no(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),u?o.jsx(le.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function bl(e){return e?parseInt(e,10):0}function hy(e,t){const n=e/t;return isNaN(n)?0:n}function Zl(e){const t=hy(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function DE(e,t,n,r="ltr"){const s=Zl(n),i=s/2,a=t||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return my([c,u],f)(e)}function yp(e,t,n="ltr"){const r=Zl(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=gi(e,c);return my([0,a],[0,l])(u)}function my(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function py(e,t){return e>0&&e<t}var LE=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function ec(e,t){const n=xt(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function no(e,t){const n=xt(t);Je(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var ME=sy,$E=iy,zE=fy;function FE({className:e,children:t,...n}){return o.jsxs(ME,{"data-slot":"scroll-area",className:Ce("relative",e),...n,children:[o.jsx($E,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(UE,{}),o.jsx(zE,{})]})}function UE({className:e,orientation:t="vertical",...n}){return o.jsx(ay,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ce("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:o.jsx(dy,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function BE(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const $o={LF:`
`,NULL:"\0"};class vr{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=i=>i.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const a=s(i[0]);let l=s(i[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=vr.hdrValueUnEscape(l)),r[a]=l}return new vr({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?vr.toUnit8Array(t,this._binaryBody).buffer:t+this._body+$o.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${vr.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join($o.LF)+$o.LF+$o.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),i=new Uint8Array(r.length+n.length+s.length);return i.set(r),i.set(n,r.length),i.set(s,r.length+n.length),i}static marshall(t){return new vr(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const wp=0,ya=10,wa=13,WE=58;class VE{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const i=r[s];this._onByte(i)}}_collectFrame(t){if(t!==wp&&t!==wa){if(t===ya){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==wa){if(t===ya){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==wa){if(t===ya){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===WE){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==wa){if(t===ya){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===wp){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var xr;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(xr||(xr={}));var fn;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(fn||(fn={}));var jl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(jl||(jl={}));var yi;(function(e){e.Interval="interval",e.Worker="worker"})(yi||(yi={}));class HE{constructor(t,n=yi.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===yi.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Ct{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Ct.V1_0="1.0";Ct.V1_1="1.1";Ct.V1_2="1.2";Ct.default=new Ct([Ct.V1_2,Ct.V1_1,Ct.V1_0]);class KE{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Ct.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const i=s.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===Ct.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(h={})=>c.ack(u,i,h),l.nack=(h={})=>c.nack(u,i,h),a(l)},RECEIPT:s=>{const i=this._receiptWatchers[s.headers["receipt-id"]];i?(i(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const t=new VE(n=>{const r=vr.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==Ct.V1_1&&t.version!==Ct.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new HE(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===xr.OPEN&&(this._webSocket.send($o.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>s*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===xr.CONNECTING||this._webSocket.readyState===xr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&BE(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=new vr({command:n,headers:r,body:s,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const h=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===xr.CONNECTING||this._webSocket.readyState===xr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:i,skipContentLengthHeader:a}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(i){return s.unsubscribe(r.id,i)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===Ct.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===Ct.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class gy{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===fn.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=Ct.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=jl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=yi.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=fn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(fn.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===fn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new KE(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===fn.DEACTIVATING&&this._changeState(fn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===jl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var i;const n=t.force||!1,r=this.active;let s;if(this.state===fn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(fn.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==xr.CLOSED){const a=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{a(u),l()}})}else return this._changeState(fn.INACTIVE),Promise.resolve();return n?(i=this._stompHandler)==null||i.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var vy={exports:{}},xd={};globalThis.crypto&&globalThis.crypto.getRandomValues?xd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:xd.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var GE=xd,bp="abcdefghijklmnopqrstuvwxyz012345",fo={string:function(e){for(var t=bp.length,n=GE.randomBytes(e),r=[],s=0;s<e;s++)r.push(bp.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=fo,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(a,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+a,l),globalThis.attachEvent("on"+a,l))},detachEvent:function(a,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(a,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+a,l),globalThis.detachEvent("on"+a,l))},unloadAdd:function(a){if(s)return null;var l=t.string(8);return n[l]=a,r&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(a){a in n&&delete n[a]},triggerUnloadCallbacks:function(){for(var a in n)n[a](),delete n[a]}};var i=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",i)})(vy);var Ur=vy.exports,YE=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},uh={},XE=Object.prototype.hasOwnProperty,qE;function jp(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function Np(e){try{return encodeURIComponent(e)}catch{return null}}function QE(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=jp(r[1]),i=jp(r[2]);s===null||i===null||s in n||(n[s]=i)}return n}function JE(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(XE.call(e,s)){if(r=e[s],!r&&(r===null||r===qE||isNaN(r))&&(r=""),s=Np(s),r=Np(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}uh.stringify=JE;uh.parse=QE;var xy=YE,tc=uh,ZE=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,yy=/[\n\r\t]/g,e4=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,wy=/:\d+$/,t4=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,n4=/^[a-zA-Z]:/;function dh(e){return(e||"").toString().replace(ZE,"")}var yd=[["#","hash"],["?","query"],function(t,n){return On(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Sp={hash:1,query:1};function by(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,i;if(e.protocol==="blob:")r=new Mn(unescape(e.pathname),{});else if(s==="string"){r=new Mn(e,{});for(i in Sp)delete r[i]}else if(s==="object"){for(i in e)i in Sp||(r[i]=e[i]);r.slashes===void 0&&(r.slashes=e4.test(e.href))}return r}function On(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function jy(e,t){e=dh(e),e=e.replace(yy,""),t=t||{};var n=t4.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],i=!!n[3],a=0,l;return s?i?(l=n[2]+n[3]+n[4],a=n[2].length+n[3].length):(l=n[2]+n[4],a=n[2].length):i?(l=n[3]+n[4],a=n[3].length):l=n[4],r==="file:"?a>=2&&(l=l.slice(2)):On(r)?l=n[4]:r?s&&(l=l.slice(2)):a>=2&&On(t.protocol)&&(l=n[4]),{protocol:r,slashes:s||On(r),slashesCount:a,rest:l}}function r4(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],i=!1,a=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),a++):a&&(r===0&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function Mn(e,t,n){if(e=dh(e),e=e.replace(yy,""),!(this instanceof Mn))return new Mn(e,t,n);var r,s,i,a,l,c,u=yd.slice(),h=typeof t,f=this,m=0;for(h!=="object"&&h!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=tc.parse),t=by(t),s=jy(e||"",t),r=!s.protocol&&!s.slashes,f.slashes=s.slashes||r&&t.slashes,f.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||n4.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!On(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(a=u[m],typeof a=="function"){e=a(e,f);continue}i=a[0],c=a[1],i!==i?f[c]=e:typeof i=="string"?(l=i==="@"?e.lastIndexOf(i):e.indexOf(i),~l&&(typeof a[2]=="number"?(f[c]=e.slice(0,l),e=e.slice(l+a[2])):(f[c]=e.slice(l),e=e.slice(0,l)))):(l=i.exec(e))&&(f[c]=l[1],e=e.slice(0,l.index)),f[c]=f[c]||r&&a[3]&&t[c]||"",a[4]&&(f[c]=f[c].toLowerCase())}n&&(f.query=n(f.query)),r&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=r4(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&On(f.protocol)&&(f.pathname="/"+f.pathname),xy(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&On(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function s4(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||tc.parse)(t)),r[e]=t;break;case"port":r[e]=t,xy(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,wy.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(r.username=t.slice(0,i),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(i+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<yd.length;a++){var l=yd[a];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&On(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function o4(e){(!e||typeof e!="function")&&(e=tc.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var i=s+(n.protocol&&n.slashes||On(n.protocol)?"//":"");return n.username?(i+=n.username,n.password&&(i+=":"+n.password),i+="@"):n.password?(i+=":"+n.password,i+="@"):n.protocol!=="file:"&&On(n.protocol)&&!r&&n.pathname!=="/"&&(i+="@"),(r[r.length-1]===":"||wy.test(n.hostname)&&!n.port)&&(r+=":"),i+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(i+=n.hash),i}Mn.prototype={set:s4,toString:o4};Mn.extractProtocol=jy;Mn.location=by;Mn.trimLeft=dh;Mn.qs=tc;var Ny=Mn,i4=Ny,on={getOrigin:function(e){if(!e)return null;var t=new i4(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},wd={exports:{}};typeof Object.create=="function"?wd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:wd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var ke=wd.exports,bt={};function nc(){this._listeners={}}nc.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};nc.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};nc.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var Sy=nc,a4=ke,rc=Sy;function Dr(){rc.call(this)}a4(Dr,rc);Dr.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Dr.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Dr.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var i=0;i<t.length;i++)t[i].apply(this,r)}};Dr.prototype.on=Dr.prototype.addListener=rc.prototype.addEventListener;Dr.prototype.removeListener=rc.prototype.removeEventListener;bt.EventEmitter=Dr;var bd={exports:{}},kp=globalThis.WebSocket||globalThis.MozWebSocket;kp?bd.exports=function(t){return new kp(t)}:bd.exports=void 0;var l4=bd.exports,ky=Ur,c4=on,u4=ke,Cy=bt.EventEmitter,Ey=l4,Cp=function(){};function ir(e,t,n){if(!ir.enabled())throw new Error("Transport created when disabled");Cy.call(this);var r=this,s=c4.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new Ey(this.url,[],n),this.ws.onmessage=function(i){Cp("message event",i.data),r.emit("message",i.data)},this.unloadRef=ky.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(i){Cp("close event",i.code,i.reason),r.emit("close",i.code,i.reason),r._cleanup()},this.ws.onerror=function(i){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}u4(ir,Cy);ir.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};ir.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};ir.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),ky.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};ir.enabled=function(){return!!Ey};ir.transportName="websocket";ir.roundTrips=2;var d4=ir,f4=ke,Ty=bt.EventEmitter,h4=function(){};function ms(e,t){Ty.call(this),this.sendBuffer=[],this.sender=t,this.url=e}f4(ms,Ty);ms.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};ms.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};ms.prototype.sendSchedule=function(){h4("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};ms.prototype._cleanup=function(){this.removeAllListeners()};ms.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var m4=ms,p4=ke,_y=bt.EventEmitter,g4=function(){};function sc(e,t,n){_y.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}p4(sc,_y);sc.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){g4("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};sc.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var v4=sc,x4=ke,y4=on,fh=m4,w4=v4;function hh(e,t,n,r,s){var i=y4.addPath(e,t),a=this;fh.call(this,e,n),this.poll=new w4(r,i,s),this.poll.on("message",function(l){a.emit("message",l)}),this.poll.once("close",function(l,c){a.poll=null,a.emit("close",l,c),a.close()})}x4(hh,fh);hh.prototype.close=function(){fh.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var Ry=hh,b4=ke,j4=on,Py=Ry;function N4(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var i=j4.addPath(t,"/xhr_send"),a=new e("POST",i,n,s);return a.once("finish",function(l){if(a=null,l!==200&&l!==204)return r(new Error("http status "+l));r()}),function(){a.close(),a=null;var l=new Error("Aborted");l.code=1e3,r(l)}}}function Ay(e,t,n,r){Py.call(this,e,t,N4(r),n,r)}b4(Ay,Py);var ho=Ay,S4=ke,Iy=bt.EventEmitter;function Ri(e,t){Iy.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var i=r===200?"network":"permanent";n.emit("close",null,i),n._cleanup()})}S4(Ri,Iy);Ri.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};Ri.prototype._cleanup=function(){this.removeAllListeners()};Ri.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var oc=Ri,Oy=bt.EventEmitter,k4=ke,Dy=Ur,C4=on,wi=globalThis.XMLHttpRequest,qc=function(){};function $n(e,t,n,r){var s=this;Oy.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}k4($n,Oy);$n.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new wi}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=C4.addQuery(t,"t="+ +new Date),this.unloadRef=Dy.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){qc("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&$n.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var i in r.headers)this.xhr.setRequestHeader(i,r.headers[i]);this.xhr.onreadystatechange=function(){if(s.xhr){var a=s.xhr,l,c;switch(qc("readyState",a.readyState),a.readyState){case 3:try{c=a.status,l=a.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&s.emit("chunk",c,l);break;case 4:c=a.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),qc("finish",c,a.responseText),s.emit("finish",c,a.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};$n.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Dy.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};$n.prototype.close=function(){this._cleanup(!0)};$n.enabled=!!wi;var Ep=["Active"].concat("Object").join("X");!$n.enabled&&Ep in globalThis&&(wi=function(){try{return new globalThis[Ep]("Microsoft.XMLHTTP")}catch{return null}},$n.enabled=!!new wi);var Ly=!1;try{Ly="withCredentials"in new wi}catch{}$n.supportsCORS=Ly;var My=$n,E4=ke,Nl=My;function mh(e,t,n,r){Nl.call(this,e,t,n,r)}E4(mh,Nl);mh.enabled=Nl.enabled&&Nl.supportsCORS;var ic=mh,T4=ke,ph=My;function gh(e,t,n){ph.call(this,e,t,n,{noCredentials:!0})}T4(gh,ph);gh.enabled=ph.enabled;var Pi=gh,Ai={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},_4=ke,$y=ho,R4=oc,jd=ic,P4=Pi,A4=Ai;function mo(e){if(!P4.enabled&&!jd.enabled)throw new Error("Transport created when disabled");$y.call(this,e,"/xhr_streaming",R4,jd)}_4(mo,$y);mo.enabled=function(e){return e.nullOrigin||A4.isOpera()?!1:jd.enabled};mo.transportName="xhr-streaming";mo.roundTrips=2;mo.needBody=!!globalThis.document;var I4=mo,zy=bt.EventEmitter,O4=ke,Fy=Ur,D4=Ai,L4=on,M4=function(){};function ps(e,t,n){var r=this;zy.call(this),setTimeout(function(){r._start(e,t,n)},0)}O4(ps,zy);ps.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=L4.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){M4("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=Fy.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};ps.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};ps.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Fy.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};ps.prototype.close=function(){this._cleanup(!0)};ps.enabled=!!(globalThis.XDomainRequest&&D4.hasDomain());var vh=ps,$4=ke,Uy=ho,z4=oc,Nd=vh;function Ii(e){if(!Nd.enabled)throw new Error("Transport created when disabled");Uy.call(this,e,"/xhr_streaming",z4,Nd)}$4(Ii,Uy);Ii.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Nd.enabled&&e.sameScheme};Ii.transportName="xdr-streaming";Ii.roundTrips=2;var By=Ii,Wy=globalThis.EventSource,F4=ke,Vy=bt.EventEmitter,U4=Wy,Tp=function(){};function Oi(e){Vy.call(this);var t=this,n=this.es=new U4(e);n.onmessage=function(r){Tp("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){Tp("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}F4(Oi,Vy);Oi.prototype.abort=function(){this._cleanup(),this._close("user")};Oi.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Oi.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var B4=Oi,W4=ke,Hy=ho,V4=B4,H4=ic,K4=Wy;function po(e){if(!po.enabled())throw new Error("Transport created when disabled");Hy.call(this,e,"/eventsource",V4,H4)}W4(po,Hy);po.enabled=function(){return!!K4};po.transportName="eventsource";po.roundTrips=2;var _p=po,Qc,Rp;function Ky(){return Rp||(Rp=1,Qc="1.6.1"),Qc}var Gy={exports:{}};(function(e){var t=Ur,n=Ai;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var i=globalThis.document.createElement("iframe"),a,l,c=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},u=function(){i&&(c(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),t.unloadDel(l))},h=function(m){i&&(u(),s(m))},f=function(m,y){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(m,y)}catch{}},0)};return i.src=r,i.style.display="none",i.style.position="absolute",i.onerror=function(){h("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(i),a=setTimeout(function(){h("timeout")},15e3),l=t.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(r,s){var i=["Active"].concat("Object").join("X"),a=new globalThis[i]("htmlfile"),l,c,u,h=function(){clearTimeout(l),u.onerror=null},f=function(){a&&(h(),t.unloadDel(c),u.parentNode.removeChild(u),u=a=null,CollectGarbage())},m=function(x){a&&(f(),s(x))},y=function(x,S){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,S)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var b=a.createElement("div");return a.body.appendChild(b),u=a.createElement("iframe"),b.appendChild(u),u.src=r,u.onerror=function(){m("onerror")},l=setTimeout(function(){m("timeout")},15e3),c=t.unloadAdd(f),{post:y,cleanup:f,loaded:h}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(Gy);var Di=Gy.exports,G4=ke,Yy=bt.EventEmitter,Y4=Ky(),Sd=on,Xy=Di,qy=Ur,X4=fo,Po=function(){};function Bn(e,t,n){if(!Bn.enabled())throw new Error("Transport created when disabled");Yy.call(this);var r=this;this.origin=Sd.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=X4.string(8);var s=Sd.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Xy.createIframe(s,function(i){r.emit("close",1006,"Unable to load an iframe ("+i+")"),r.close()}),this.onmessageCallback=this._message.bind(this),qy.attachEvent("message",this.onmessageCallback)}G4(Bn,Yy);Bn.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){qy.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};Bn.prototype._message=function(e){if(Po("message",e.data),!Sd.isOriginEqual(e.origin,this.origin)){Po("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Po("bad json",e.data);return}if(t.windowId!==this.windowId){Po("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([Y4,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Po("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};Bn.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};Bn.prototype.send=function(e){this.postMessage("m",e)};Bn.enabled=function(){return Xy.iframeEnabled};Bn.transportName="iframe";Bn.roundTrips=2;var Qy=Bn,xh={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},q4=ke,ba=Qy,Q4=xh,Jc=function(e){function t(n,r){ba.call(this,e.transportName,n,r)}return q4(t,ba),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=Q4.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&ba.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=ba.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},J4=ke,Hr=Di,Z4=on,Jy=bt.EventEmitter,eT=fo,tT=function(){};function jn(e){Jy.call(this);var t=this;Hr.polluteGlobalNamespace(),this.id="a"+eT.string(6),e=Z4.addQuery(e,"c="+decodeURIComponent(Hr.WPrefix+"."+this.id)),tT("using htmlfile",jn.htmlfileEnabled);var n=jn.htmlfileEnabled?Hr.createHtmlfile:Hr.createIframe;globalThis[Hr.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}J4(jn,Jy);jn.prototype.abort=function(){this._cleanup(),this._close("user")};jn.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Hr.WPrefix][this.id]};jn.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};jn.htmlfileEnabled=!1;var Pp=["Active"].concat("Object").join("X");if(Pp in globalThis)try{jn.htmlfileEnabled=!!new globalThis[Pp]("htmlfile")}catch{}jn.enabled=jn.htmlfileEnabled||Hr.iframeEnabled;var nT=jn,rT=ke,kd=nT,sT=Pi,Zy=ho;function Li(e){if(!kd.enabled)throw new Error("Transport created when disabled");Zy.call(this,e,"/htmlfile",kd,sT)}rT(Li,Zy);Li.enabled=function(e){return kd.enabled&&e.sameOrigin};Li.transportName="htmlfile";Li.roundTrips=2;var Ap=Li,oT=ke,ew=ho,iT=oc,Cd=ic,tw=Pi;function Mi(e){if(!tw.enabled&&!Cd.enabled)throw new Error("Transport created when disabled");ew.call(this,e,"/xhr",iT,Cd)}oT(Mi,ew);Mi.enabled=function(e){return e.nullOrigin?!1:tw.enabled&&e.sameOrigin?!0:Cd.enabled};Mi.transportName="xhr-polling";Mi.roundTrips=2;var Ip=Mi,aT=ke,nw=ho,lT=By,cT=oc,Op=vh;function $i(e){if(!Op.enabled)throw new Error("Transport created when disabled");nw.call(this,e,"/xhr",cT,Op)}aT($i,nw);$i.enabled=lT.enabled;$i.transportName="xdr-polling";$i.roundTrips=2;var uT=$i,qo=Di,rw=fo,dT=Ai,fT=on,hT=ke,sw=bt.EventEmitter,mT=function(){};function rn(e){var t=this;sw.call(this),qo.polluteGlobalNamespace(),this.id="a"+rw.string(6);var n=fT.addQuery(e,"c="+encodeURIComponent(qo.WPrefix+"."+this.id));globalThis[qo.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},rn.timeout)}hT(rn,sw);rn.prototype.abort=function(){if(globalThis[qo.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};rn.timeout=35e3;rn.scriptErrorTimeout=1e3;rn.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};rn.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};rn.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[qo.WPrefix][this.id]};rn.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},rn.scriptErrorTimeout))};rn.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+rw.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(mT("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(dT.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var pT=rn,gT=fo,Dp=on,vT=function(){},zt,Qo;function xT(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function yT(){zt=globalThis.document.createElement("form"),zt.style.display="none",zt.style.position="absolute",zt.method="POST",zt.enctype="application/x-www-form-urlencoded",zt.acceptCharset="UTF-8",Qo=globalThis.document.createElement("textarea"),Qo.name="d",zt.appendChild(Qo),globalThis.document.body.appendChild(zt)}var wT=function(e,t,n){zt||yT();var r="a"+gT.string(8);zt.target=r,zt.action=Dp.addQuery(Dp.addPath(e,"/jsonp_send"),"i="+r);var s=xT(r);s.id=r,s.style.display="none",zt.appendChild(s);try{Qo.value=t}catch{}zt.submit();var i=function(a){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),Qo.value="",n(a))};return s.onerror=function(){i()},s.onload=function(){i()},s.onreadystatechange=function(a){vT("onreadystatechange",r,s.readyState),s.readyState==="complete"&&i()},function(){i(new Error("Aborted"))}},bT=ke,ow=Ry,jT=pT,NT=wT;function gs(e){if(!gs.enabled())throw new Error("Transport created when disabled");ow.call(this,e,"/jsonp",NT,jT)}bT(gs,ow);gs.enabled=function(){return!!globalThis.document};gs.transportName="jsonp-polling";gs.roundTrips=1;gs.needBody=!0;var ST=gs,kT=[d4,I4,By,_p,Jc(_p),Ap,Jc(Ap),Ip,uT,Jc(Ip),ST],bi=Array.prototype,yh=Object.prototype,CT=Function.prototype,ji=String.prototype,Zc=bi.slice,wh=yh.toString,iw=function(e){return yh.toString.call(e)==="[object Function]"},ET=function(t){return wh.call(t)==="[object Array]"},aw=function(t){return wh.call(t)==="[object String]"},TT=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Ed;TT?Ed=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:Ed=function(e,t,n,r){!r&&t in e||(e[t]=n)};var zi=function(e,t,n){for(var r in t)yh.hasOwnProperty.call(t,r)&&Ed(e,r,t[r],n)},lw=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function _T(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function RT(e){return e>>>0}function eu(){}zi(CT,{bind:function(t){var n=this;if(!iw(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Zc.call(arguments,1),s=function(){if(this instanceof c){var u=n.apply(this,r.concat(Zc.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Zc.call(arguments)))},i=Math.max(0,n.length-r.length),a=[],l=0;l<i;l++)a.push("$"+l);var c=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(eu.prototype=n.prototype,c.prototype=new eu,eu.prototype=null),c}});zi(Array,{isArray:ET});var Lp=Object("a"),cw=Lp[0]!=="a"||!(0 in Lp),PT=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,i,a){typeof a!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};zi(bi,{forEach:function(t){var n=lw(this),r=cw&&aw(this)?this.split(""):n,s=arguments[1],i=-1,a=r.length>>>0;if(!iw(t))throw new TypeError;for(;++i<a;)i in r&&t.call(s,r[i],i,n)}},!PT(bi.forEach));var AT=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;zi(bi,{indexOf:function(t){var n=cw&&aw(this)?this.split(""):lw(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=_T(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},AT);var Mp=ji.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;ji.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(wh.call(t)!=="[object RegExp]")return Mp.call(this,t,n);var s=[],i=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,l,c,u,h;for(t=new RegExp(t.source,i+"g"),r+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",i)),n=n===void 0?-1>>>0:RT(n);(c=t.exec(r))&&(u=c.index+c[0].length,!(u>a&&(s.push(r.slice(a,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c.length>1&&c.index<r.length&&bi.push.apply(s,c.slice(1)),h=c[0].length,a=u,s.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return a===r.length?(h||!t.test(""))&&s.push(""):s.push(r.slice(a)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&(ji.split=function(t,n){return t===void 0&&n===0?[]:Mp.call(this,t,n)});var IT=ji.substr,OT="".substr&&"0b".substr(-1)!=="b";zi(ji,{substr:function(t,n){return IT.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},OT);var ja=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,tu,DT=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},LT={quote:function(e){var t=JSON.stringify(e);return ja.lastIndex=0,ja.test(t)?(tu||(tu=DT(ja)),t.replace(ja,function(n){return tu[n]})):t}},nu=function(){},MT=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){nu("not in whitelist",s.transportName);return}s.enabled(n)?(nu("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):nu("disabled",s.transportName)}}),r}}},Td={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}Td[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:Td.log});var $T=Td;function vs(e){this.type=e}vs.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};vs.prototype.stopPropagation=function(){};vs.prototype.preventDefault=function(){};vs.CAPTURING_PHASE=1;vs.AT_TARGET=2;vs.BUBBLING_PHASE=3;var bh=vs,uw=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},zT=ke,dw=bh;function fw(){dw.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}zT(fw,dw);var FT=fw,UT=ke,hw=bh;function mw(e){hw.call(this),this.initEvent("message",!1,!1),this.data=e}UT(mw,hw);var BT=mw,pw=bt.EventEmitter,WT=ke;function Fi(){var e=this;pw.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Fi.timeout)}WT(Fi,pw);Fi.prototype.close=function(){clearTimeout(this.to)};Fi.timeout=2e3;var VT=Fi,gw=bt.EventEmitter,HT=ke,KT=xh;function jh(e,t){gw.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,i){var a,l;if(s===200){if(l=+new Date-r,i)try{a=JSON.parse(i)}catch{}KT.isObject(a)||(a={})}n.emit("finish",a,l),n.removeAllListeners()})}HT(jh,gw);jh.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var vw=jh,ru,$p;function xw(){if($p)return ru;$p=1;var e=ke,t=bt.EventEmitter,n=Pi,r=vw;function s(i){var a=this;t.call(this),this.ir=new r(i,n),this.ir.once("finish",function(l,c){a.ir=null,a.emit("message",JSON.stringify([l,c]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},ru=s,ru}var yw=bt.EventEmitter,GT=ke,YT=Ur,ww=Qy,XT=xw();function ac(e,t){var n=this;yw.call(this);var r=function(){var s=n.ifr=new ww(XT.transportName,t,e);s.once("message",function(i){if(i){var a;try{a=JSON.parse(i)}catch{n.emit("finish"),n.close();return}var l=a[0],c=a[1];n.emit("finish",l,c)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():YT.attachEvent("load",r)}GT(ac,yw);ac.enabled=function(){return ww.enabled()};ac.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var qT=ac,bw=bt.EventEmitter,QT=ke,JT=on,zp=vh,Fp=ic,ZT=Pi,e_=VT,Up=qT,Na=vw;function qn(e,t){var n=this;bw.call(this),setTimeout(function(){n.doXhr(e,t)},0)}QT(qn,bw);qn._getReceiver=function(e,t,n){return n.sameOrigin?new Na(t,ZT):Fp.enabled?new Na(t,Fp):zp.enabled&&n.sameScheme?new Na(t,zp):Up.enabled()?new Up(e,t):new Na(t,e_)};qn.prototype.doXhr=function(e,t){var n=this,r=JT.addPath(e,"/info");this.xo=qn._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},qn.timeout),this.xo.once("finish",function(s,i){n._cleanup(!0),n.emit("finish",s,i)})};qn.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};qn.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};qn.timeout=8e3;var t_=qn,su,Bp;function n_(){if(Bp)return su;Bp=1;var e=Di;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},su=t,su}var ou,Wp;function r_(){if(Wp)return ou;Wp=1;var e=on,t=Ur,n=n_(),r=xw(),s=Di,i=uw,a=function(){};return ou=function(l,c){var u={};c.forEach(function(f){f.facadeTransport&&(u[f.facadeTransport.transportName]=f.facadeTransport)}),u[r.transportName]=r;var h;l.bootstrap_iframe=function(){var f;s.currentWindowId=i.hash.slice(1);var m=function(y){if(y.source===parent&&(typeof h>"u"&&(h=y.origin),y.origin===h)){var b;try{b=JSON.parse(y.data)}catch{a("bad json",y.data);return}if(b.windowId===s.currentWindowId)switch(b.type){case"s":var x;try{x=JSON.parse(b.data)}catch{a("bad json",b.data);break}var S=x[0],v=x[1],p=x[2],g=x[3];if(S!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+S+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(p,i.href)||!e.isOriginEqual(g,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+p+", "+g+")");f=new n(new u[v](p,g));break;case"m":f._send(b.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",m),s.postMessage("s")}},ou}var s_=Ny,o_=ke,Vp=fo,i_=LT,zo=on,a_=Ur,l_=MT,c_=xh,u_=Ai,d_=$T,Nh=bh,jw=Sy,Sa=uw,f_=FT,Hp=BT,h_=t_,Dn=function(){},Nw;function Se(e,t,n){if(!(this instanceof Se))return new Se(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");jw.call(this),this.readyState=Se.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&d_.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Vp.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Vp.numberString(1e3);var s=new s_(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var i=s.protocol==="https:";if(Sa.protocol==="https:"&&!i&&!zo.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(c,u){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(u<a.length-1&&c===a[u+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=zo.getOrigin(Sa.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Dn("using url",this.url),this._urlInfo={nullOrigin:!u_.hasDomain(),sameOrigin:zo.isOriginEqual(this.url,Sa.href),sameScheme:zo.isSchemeEqual(this.url,Sa.href)},this._ir=new h_(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}o_(Se,jw);function Sw(e){return e===1e3||e>=3e3&&e<=4999}Se.prototype.close=function(e,t){if(e&&!Sw(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Se.CLOSING||this.readyState===Se.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};Se.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===Se.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Se.OPEN&&this._transport.send(i_.quote(e))};Se.version=Ky();Se.CONNECTING=0;Se.OPEN=1;Se.CLOSING=2;Se.CLOSED=3;Se.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=c_.extend(e,this._urlInfo);var n=Nw.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,Dn(this._transports.length+" enabled transports"),this._connect()};Se.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Dn("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),a_.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=zo.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};Se.prototype._transportTimeout=function(){this.readyState===Se.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Se.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new Nh("heartbeat")),Dn("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(i){Dn("message",t.transport),t.dispatchEvent(new Hp(i))});break;case"m":Dn("message",this.transport),this.dispatchEvent(new Hp(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};Se.prototype._transportClose=function(e,t){if(Dn("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Sw(e)&&e!==2e3&&this.readyState===Se.CONNECTING){this._connect();return}this._close(e,t)};Se.prototype._open=function(){Dn("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Se.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Se.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new Nh("open")),Dn("connected",this.transport)):this._close(1006,"Server lost session")};Se.prototype._close=function(e,t,n){Dn("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Se.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Se.CLOSING,setTimeout((function(){this.readyState=Se.CLOSED,r&&this.dispatchEvent(new Nh("error"));var s=new f_;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Se.prototype.countRTO=function(e){return e>100?4*e:300+e};var m_=function(e){return Nw=l_(e),r_()(Se,e),Se},p_=kT,g_=m_(p_);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const kw=Id(g_),v_=({roomId:e,userId:t,onMessageReceived:n,onError:r})=>{const[s,i]=d.useState(!1),[a,l]=d.useState("disconnected"),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),[f,m]=d.useState(0),y=3,b=g=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(g),x=()=>localStorage.getItem("accessToken"),S=d.useCallback(()=>{var j;if(console.log(" WebSocket connect()  !"),console.log("    :",{hasClient:!!c.current,clientConnected:(j=c.current)==null?void 0:j.connected,connectionStatus:a,roomId:e,userId:t,hasToken:!!x(),timestamp:new Date().toISOString()}),c.current&&(c.current.connected||a==="connecting")){console.log("      -   ");return}if(!e||!t){console.log("   :",{roomId:e,userId:t});return}if(!b(e)){console.error(" WebSocket  :   UUID :",{roomId:e});return}const g=x();if(console.log("WebSocket   - :",g?"":""),!g){console.error("   .   ."),r==null||r(" .  ."),l("error");return}if(g.length<10){console.error("    ."),r==null||r("   .  ."),l("error");return}l("connecting"),console.log(" DM WebSocket  :",{roomId:e,userId:t,attempt:f+1,url:"http://localhost:8080/ws"}),console.log(" SockJS   ..."),console.log("     :"),console.log("   - WebSocket   (101 Switching Protocols)"),console.log("   - SockJS   ");const N=new gy({webSocketFactory:()=>(console.log(" WebSocket Factory  - SockJS  !"),new kw("http://localhost:8080/ws")),connectHeaders:g?{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" DM WebSocket   ... :",g?{Authorization:`Bearer ${g.substring(0,10)}...`}:{token:"none"})},debug:k=>{console.log("STOMP Debug:",k)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" DM WebSocket  !",{roomId:e,userId:t}),i(!0),l("connected"),m(0),console.log(" DM   :",`/topic/dm.room.${e}`),N.subscribe(`/topic/dm.room.${e}`,k=>{try{const C=JSON.parse(k.body);console.log(" DM  :",C),n(C)}catch(C){console.error(" DM   :",C)}}),console.log(" DM WebSocket  ")},onDisconnect:()=>{console.log(" DM WebSocket  ",{roomId:e,userId:t}),i(!1),l("disconnected")},onStompError:k=>{console.error(" STOMP :",{message:k.headers.message,body:k.body,headers:k.headers});const C=k.headers.message||"";if(C.includes("Unauthorized")||C.includes("Authentication")||C.includes("Token")||C.includes("401")||C.includes("Forbidden")||C.includes("403")){console.error("   -   "),r==null||r(" .  ."),l("error");return}else C.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),r==null||r("   .    .")):r==null||r(` : ${C}`);l("error"),!C.includes("Unauthorized")&&!C.includes("Authentication")&&!C.includes("Token")&&!C.includes("401")&&!C.includes("Forbidden")&&!C.includes("403")?f<y&&(m(E=>E+1),u.current=setTimeout(()=>{S()},5e3*f)):console.log("      .")},onWebSocketError:k=>{console.error(" WebSocket :",k),l("error"),r==null||r("WebSocket   ."),c.current&&(c.current.deactivate(),c.current=null)}});c.current=N,N.activate()},[e,t,n,r,f]),v=d.useCallback(()=>{c.current&&(c.current.deactivate(),c.current=null),u.current&&(clearTimeout(u.current),u.current=null),i(!1),l("disconnected"),m(0)},[]),p=d.useCallback(g=>{var k;const N=x();if(!N){console.error("   :   ."),r==null||r(" .  .");return}if(!((k=c.current)!=null&&k.connected)){r==null||r("WebSocket  .");return}if(!e||!t){console.error("Cannot send message: missing roomId or userId");return}if(!b(e)){console.error("   :   UUID :",{roomId:e});return}if(!b(t)){console.error("   :   senderId UUID :",{userId:t});return}const j={senderId:t,roomId:e,content:g};console.log(" DM   (with Auth):",{dmRequest:j,hasToken:!0,tokenPrefix:N.substring(0,10)+"..."}),c.current.publish({destination:"/app/dm.send",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify(j)})},[e,t,r]);return d.useEffect(()=>{console.log(" useDmWebSocket useEffect :",{roomId:e,userId:t,hasRoomId:!!e,hasUserId:!!t}),e&&t?(console.log("   -   "),S()):(console.log("   -   :",{roomId:e,userId:t}),v())},[e,t,S,v]),d.useEffect(()=>{const g=x();h.current!==g&&(console.log("    -  :",{oldToken:h.current?"existed":"none",newToken:g?"exists":"none",roomId:e,userId:t}),h.current=g,c.current&&e&&t&&(console.log("      "),v(),g?setTimeout(()=>{console.log("    "),S()},1e3):console.log("    ")))},[]),d.useEffect(()=>()=>{v()},[v]),{isConnected:s,connectionStatus:a,connect:S,disconnect:v,sendMessage:p,reconnectAttempts:f}};function x_({isOpen:e,onClose:t,onBack:n,user:r,currentUserId:s,getDmMessages:i}){const[a,l]=d.useState([]),[c,u]=d.useState(""),[h]=d.useState(!1),[f,m]=d.useState(!1),[y,b]=d.useState(null),[x,S]=d.useState(null),v=d.useRef(null),p=d.useRef(null),{isConnected:g,connectionStatus:N,connect:j,sendMessage:k}=v_({roomId:(r==null?void 0:r.roomId)||null,userId:s,onMessageReceived:w=>{console.log(" ChatRoom  :",w);const T={id:w.id,senderId:w.senderId,senderName:w.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:w.content,timestamp:C(w.createdAt),type:"text",isOwnMessage:w.senderId===s};l(O=>[...O,T])},onError:w=>{console.error(" DM WebSocket :",w),w.includes("")||w.includes("")||w.includes("Authentication")?(S(w),b(null)):(b(w),S(null))}});d.useEffect(()=>{var w;(w=v.current)==null||w.scrollIntoView({behavior:"smooth"})},[a]),d.useEffect(()=>{e&&p.current&&p.current.focus()},[e]),d.useEffect(()=>{r!=null&&r.roomId&&E()},[r==null?void 0:r.roomId]),d.useEffect(()=>{console.log(" ChatRoom  :",{isOpen:e,hasUser:!!r,roomId:r==null?void 0:r.roomId,currentUserId:s,isConnected:g,connectionStatus:N}),e&&(r!=null&&r.roomId)&&s&&(console.log(" ChatRoom  -   "),!g&&N!=="connecting"&&(console.log("    -   "),j()))},[e,r==null?void 0:r.roomId,s,g,N,j]);const C=w=>new Date(w).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),E=async()=>{if(r!=null&&r.roomId)try{m(!0),b(null);const T=(await i(r.roomId,{size:50})).data.map(O=>({id:O.id,senderId:O.senderId,senderName:O.senderId===s?"":(r==null?void 0:r.name)||"Unknown",content:O.content,timestamp:C(O.createdAt),type:"text",isOwnMessage:O.senderId===s}));l(T)}catch(w){console.error("Error loading messages:",w),b("   .")}finally{m(!1)}},R=()=>{if(!c.trim()||!r||!g){console.warn("   :",{hasMessage:!!c.trim(),hasUser:!!r,isConnected:g,roomId:r==null?void 0:r.roomId,userId:s});return}console.log(" ChatRoom  :",{content:c.trim(),roomId:r.roomId,userId:s,isConnected:g}),k(c.trim()),u("")},I=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),R())},$=w=>w;return!e||!r?null:o.jsx("div",{className:"fixed bottom-20 right-6 w-96 h-[520px] z-50 animate-in slide-in-from-right-5 fade-in duration-200",children:o.jsxs("div",{className:"rounded-2xl border border-white/20 h-full flex flex-col",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(M,{variant:"ghost",size:"sm",onClick:n,className:"p-1 hover:bg-white/10",children:o.jsx(ao,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs($e,{className:"h-8 w-8",children:[o.jsx(ze,{src:r.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-sm",children:r.name.charAt(0)})]}),r.isOnline&&o.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:r.name}),o.jsxs("p",{className:"text-xs text-white/60",children:[r.isOnline?"":"","  ",o.jsx("span",{className:`${g?"text-green-400":"text-red-400"}`,children:g?"":" "})]})]})]})]}),o.jsx(M,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-white/10",children:o.jsx(yn,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(FE,{className:"h-full",children:o.jsxs("div",{className:"p-4 space-y-4",children:[f&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ..."}),y&&o.jsx("div",{className:"flex items-center justify-center h-32 text-red-400",children:y}),x&&o.jsx("div",{className:"flex items-center justify-center h-32 text-orange-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-3",children:x}),o.jsx(M,{onClick:()=>{S(null),r!=null&&r.roomId&&s&&j()},size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:" "})]})}),!f&&!y&&!x&&a.length===0&&o.jsx("div",{className:"flex items-center justify-center h-32 text-white/60",children:"  ."}),a.map((w,T)=>{const O=T===0||a[T-1].timestamp!==w.timestamp||a[T-1].isOwnMessage!==w.isOwnMessage;return o.jsx("div",{className:`flex ${w.isOwnMessage?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${w.isOwnMessage?"order-2":"order-1"}`,children:[!w.isOwnMessage&&o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsxs($e,{className:"h-6 w-6",children:[o.jsx(ze,{src:r.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-white/60",children:w.senderName})]}),o.jsx("div",{className:`rounded-2xl px-4 py-2 break-words ${w.isOwnMessage?"bg-[#4ecdc4] text-black":"bg-white/10 text-white"}`,children:o.jsx("p",{className:"text-sm leading-relaxed",children:w.content})}),O&&o.jsx("p",{className:`text-xs text-white/40 mt-1 ${w.isOwnMessage?"text-right":"text-left"}`,children:$(w.timestamp)})]})},w.id)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs($e,{className:"h-6 w-6",children:[o.jsx(ze,{src:r.avatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:r.name.charAt(0)})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:v})]})})}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(M,{variant:"ghost",size:"sm",className:"p-2 hover:bg-white/10 flex-shrink-0",children:o.jsx(Rf,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Me,{ref:p,value:c,onChange:w=>u(w.target.value),onKeyPress:I,placeholder:" ...",className:"pr-12 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4] rounded-full"}),o.jsx(M,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-2 hover:bg-white/10",children:o.jsx(rN,{className:"w-4 h-4"})})]}),o.jsx(M,{onClick:R,disabled:!c.trim()||!g,size:"sm",className:"p-2 bg-[#4ecdc4] hover:bg-[#26a69a] text-black disabled:opacity-50 disabled:hover:bg-[#4ecdc4] rounded-full flex-shrink-0",children:o.jsx(Af,{className:"w-4 h-4"})})]})})]})})}function y_({roomId:e,userId:t,onChatMessage:n,onParticipantsUpdate:r,onVideoSync:s,onRoomSync:i,onError:a}){const[l,c]=d.useState(!1),[u,h]=d.useState("disconnected"),f=d.useRef(null),m=d.useRef(),[y,b]=d.useState(0),x=3,S=()=>localStorage.getItem("accessToken"),v=d.useCallback(()=>{if(f.current&&(f.current.connected||u==="connecting"))return;const j=S();console.log("WebSocket   - :",j?"":""),j||console.warn("      ()"),h("connecting"),console.log("WebSocket  :",{url:"http://localhost:8080/ws",token:j?`${j.substring(0,10)}...`:"null"});const k=new gy({webSocketFactory:()=>new kw("http://localhost:8080/ws"),connectHeaders:j?{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"},beforeConnect:()=>{console.log(" WebSocket   ... :",j?{Authorization:`Bearer ${j.substring(0,10)}...`}:{token:"none"})},debug:C=>{console.log("STOMP Debug:",C)},reconnectDelay:0,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{console.log(" WebSocket  !"),c(!0),h("connected"),b(0),k.subscribe(`/topic/rooms/${e}/chat`,C=>{try{const E=JSON.parse(C.body);n==null||n(E)}catch(E){console.error("   :",E)}}),k.subscribe(`/topic/rooms/${e}/participants`,C=>{try{const E=JSON.parse(C.body);r==null||r(E),h("connected"),c(!0)}catch(E){console.error("   :",E)}}),k.subscribe(`/topic/rooms/${e}/video`,C=>{try{const E=JSON.parse(C.body);s==null||s(E)}catch(E){console.error("    :",E)}}),k.subscribe("/user/queue/sync",C=>{try{const E=JSON.parse(C.body);(!("participantsInfoDto"in E)||!E.participantsInfoDto)&&(E.participantsInfoDto={participantDtoList:[],participantCount:0}),i==null||i(E),h("connected"),c(!0)}catch(E){console.error("    :",E)}}),k.publish({destination:`/app/rooms/${e}/join`,body:JSON.stringify({})})},onDisconnect:()=>{console.log(" WebSocket  "),c(!1),h("disconnected")},onStompError:C=>{var E;console.error(" STOMP :",{message:C.headers.message,body:C.body,headers:C.headers}),(E=C.headers.message)!=null&&E.includes("ExecutorSubscribableChannel")?(console.error("    - WebSocketAuthInterceptor  "),a==null||a("    .  .")):a==null||a(` : ${C.headers.message}`),h("error"),y<x&&(b(R=>R+1),m.current=setTimeout(()=>{v()},5e3*y))},onWebSocketError:C=>{console.error(" WebSocket :",C),h("error"),a==null||a("WebSocket   ."),f.current&&(f.current.deactivate(),f.current=null)}});f.current=k,k.activate()},[e,t,n,r,s,i,a]),p=d.useCallback(()=>{f.current&&(f.current.connected&&f.current.publish({destination:`/app/rooms/${e}/leave`,body:JSON.stringify({})}),f.current.deactivate(),f.current=null),m.current&&clearTimeout(m.current),c(!1),h("disconnected"),b(0)},[e,t]),g=d.useCallback(j=>{var C;if(!((C=f.current)!=null&&C.connected)){a==null||a("WebSocket  .");return}const k={chatRoomId:e,content:j};f.current.publish({destination:`/app/rooms/${e}/send`,body:JSON.stringify(k)})},[e,a]),N=d.useCallback(j=>{var k;if(!((k=f.current)!=null&&k.connected)){a==null||a("WebSocket  .");return}f.current.publish({destination:`/app/rooms/${e}/video-control`,body:JSON.stringify(j)})},[e,a]);return d.useEffect(()=>{const j=C=>{if(l)return C.preventDefault(),C.returnValue=" ?"," ?"},k=()=>{p()};return window.addEventListener("beforeunload",j),window.addEventListener("unload",k),()=>{window.removeEventListener("beforeunload",j),window.removeEventListener("unload",k)}},[l,p]),d.useEffect(()=>()=>{p()},[p]),{isConnected:l,connectionStatus:u,connect:v,disconnect:p,sendChatMessage:g,sendVideoControl:N,reconnectAttempts:y}}function w_(e=!1){const[t,n]=d.useState({isLoaded:!1,isLoading:!1,error:null}),r=d.useCallback(()=>{if(window.YT&&window.YT.Player){n({isLoaded:!0,isLoading:!1,error:null});return}if(t.isLoading)return;if(n(i=>({...i,isLoading:!0,error:null})),document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const i=setInterval(()=>{window.YT&&window.YT.Player&&(n({isLoaded:!0,isLoading:!1,error:null}),clearInterval(i))},100);setTimeout(()=>{clearInterval(i),(!window.YT||!window.YT.Player)&&n({isLoaded:!1,isLoading:!1,error:"YouTube API  "})},1e4);return}window.onYouTubeIframeAPIReady=()=>{n({isLoaded:!0,isLoading:!1,error:null})};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.onload=()=>{console.log("YouTube API   ")},s.onerror=()=>{n({isLoaded:!1,isLoading:!1,error:"YouTube API   "})},document.head.appendChild(s)},[t.isLoading]);return d.useEffect(()=>{e&&r()},[e,r]),{...t,loadYouTubeApi:r}}var Cw=(e=>(e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED",e))(Cw||{}),Ss=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Ss||{});function b_({videoId:e,containerId:t,isHost:n,onStateChange:r,onError:s}){const[i,a]=d.useState(null),[l,c]=d.useState(!1),u=d.useRef(null),h=d.useRef(!1),f=d.useCallback(()=>{if(!(!window.YT||!window.YT.Player||!e))try{new window.YT.Player(t,{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,playsinline:1,enablejsapi:1},events:{onReady:k=>{console.log("YouTube Player Ready"),c(!0),u.current=k.target,a(k.target)},onStateChange:k=>{const C=k.data,E=Math.floor(k.target.getCurrentTime());let R,I=!1;switch(C){case window.YT.PlayerState.PLAYING:R=Ss.PLAY,I=!0;break;case window.YT.PlayerState.PAUSED:R=Ss.PAUSE,I=!1;break;default:return}console.log("YouTube Player State Change:",{state:C,currentTime:E,isPlaying:I,isHost:n}),n&&!h.current&&(r==null||r(I,E,R))},onError:k=>{console.error("YouTube Player Error:",k.data);let C="YouTube   .";switch(k.data){case 2:C="  ID.";break;case 5:C="HTML5   .";break;case 100:C="   .";break;case 101:case 150:C="   .";break}s==null||s(C)}}})}catch(k){console.error("YouTube Player  :",k),s==null||s("YouTube    .")}},[e,t,n,r,s]);d.useEffect(()=>{if(!e){console.log(" No videoId provided, skipping player initialization");return}if(u.current&&(console.log(" Destroying existing player before creating new one"),u.current.destroy(),u.current=null,a(null),c(!1)),window.YT&&window.YT.Player)console.log(" Initializing YouTube player with videoId:",e),f();else{console.log(" Waiting for YouTube API to load...");const k=setInterval(()=>{window.YT&&window.YT.Player&&(clearInterval(k),console.log(" YouTube API loaded, initializing player"),f())},100);setTimeout(()=>{clearInterval(k),(!window.YT||!window.YT.Player)&&(console.error(" YouTube API  "),s==null||s("YouTube API  "))},1e4)}},[e,f]);const m=d.useCallback(()=>{u.current&&l&&(h.current=!0,u.current.playVideo(),setTimeout(()=>{h.current=!1},100))},[l]),y=d.useCallback(()=>{u.current&&l&&(h.current=!0,u.current.pauseVideo(),setTimeout(()=>{h.current=!1},100))},[l]),b=d.useCallback(k=>{u.current&&l&&(h.current=!0,u.current.seekTo(k,!0),setTimeout(()=>{h.current=!1},100))},[l]),x=d.useCallback(()=>u.current&&l?Math.floor(u.current.getCurrentTime()):0,[l]),S=d.useCallback(()=>u.current&&l?Math.floor(u.current.getDuration()):0,[l]),v=d.useCallback(()=>u.current&&l?u.current.getPlayerState():Cw.UNSTARTED,[l]),p=d.useCallback(k=>{u.current&&l&&u.current.setVolume(k)},[l]),g=d.useCallback(()=>u.current&&l?u.current.getVolume():0,[l]),N=d.useCallback(()=>{u.current&&(u.current.destroy(),u.current=null,a(null),c(!1))},[]),j=d.useCallback(k=>{if(!(!u.current||!l||n)){h.current=!0;try{switch(k.action){case Ss.PLAY:u.current.seekTo(k.currentTime,!0),u.current.playVideo();break;case Ss.PAUSE:u.current.pauseVideo();break;case Ss.SEEK:u.current.seekTo(k.currentTime,!0),k.isPlaying&&u.current.playVideo();break}}catch(C){console.error("  :",C)}setTimeout(()=>{h.current=!1},100)}},[l,n]);return d.useEffect(()=>()=>{N()},[N]),{player:i,isReady:l,play:m,pause:y,seekTo:b,getCurrentTime:x,getDuration:S,getPlayerState:v,setVolume:p,getVolume:g,destroy:N,syncVideo:j}}var Ew=["PageUp","PageDown"],Tw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_w={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},go="Slider",[_d,j_,N_]=Vf(go),[Rw,CR]=zn(go,[N_]),[S_,lc]=Rw(go),Pw=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:b,...x}=e,S=d.useRef(new Set),v=d.useRef(0),g=a==="horizontal"?k_:C_,[N=[],j]=os({prop:h,defaultProp:u,onChange:$=>{var T;(T=[...S.current][v.current])==null||T.focus(),f($)}}),k=d.useRef(N);function C($){const w=P_(N,$);I($,w)}function E($){I($,v.current)}function R(){const $=k.current[v.current];N[v.current]!==$&&m(N)}function I($,w,{commit:T}={commit:!1}){const O=D_(i),F=L_(Math.round(($-r)/i)*i+r,O),_=gi(F,[r,s]);j((B=[])=>{const P=__(B,_,w);if(O_(P,c*i)){v.current=P.indexOf(_);const W=String(P)!==String(B);return W&&T&&m(P),W?P:B}else return B})}return o.jsx(S_,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:v,thumbs:S.current,values:N,orientation:a,form:b,children:o.jsx(_d.Provider,{scope:e.__scopeSlider,children:o.jsx(_d.Slot,{scope:e.__scopeSlider,children:o.jsx(g,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:me(x.onPointerDown,()=>{l||(k.current=N)}),min:r,max:s,inverted:y,onSlideStart:l?void 0:C,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:R,onHomeKeyDown:()=>!l&&I(r,0,{commit:!0}),onEndKeyDown:()=>!l&&I(s,N.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:w})=>{if(!l){const F=Ew.includes($.key)||$.shiftKey&&Tw.includes($.key)?10:1,_=v.current,B=N[_],P=i*F*w;I(B+P,_,{commit:!0})}}})})})})});Pw.displayName=go;var[Aw,Iw]=Rw(go,{startEdge:"left",endEdge:"right",size:"width",direction:1}),k_=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,m]=d.useState(null),y=ye(t,g=>m(g)),b=d.useRef(void 0),x=Ti(s),S=x==="ltr",v=S&&!i||!S&&i;function p(g){const N=b.current||f.getBoundingClientRect(),j=[0,N.width],C=Sh(j,v?[n,r]:[r,n]);return b.current=N,C(g-N.left)}return o.jsx(Aw,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(Ow,{dir:x,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:g=>{const N=p(g.clientX);a==null||a(N)},onSlideMove:g=>{const N=p(g.clientX);l==null||l(N)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:g=>{const j=_w[v?"from-left":"from-right"].includes(g.key);u==null||u({event:g,direction:j?-1:1})}})})}),C_=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=ye(t,h),m=d.useRef(void 0),y=!s;function b(x){const S=m.current||h.current.getBoundingClientRect(),v=[0,S.height],g=Sh(v,y?[r,n]:[n,r]);return m.current=S,g(x-S.top)}return o.jsx(Aw,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:o.jsx(Ow,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const S=b(x.clientY);i==null||i(S)},onSlideMove:x=>{const S=b(x.clientY);a==null||a(S)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const v=_w[y?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:v?-1:1})}})})}),Ow=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=lc(go,n);return o.jsx(le.span,{...u,ref:t,onKeyDown:me(e.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Ew.concat(Tw).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:me(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():r(f)}),onPointerMove:me(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:me(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),Dw="SliderTrack",Lw=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=lc(Dw,n);return o.jsx(le.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});Lw.displayName=Dw;var Rd="SliderRange",Mw=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=lc(Rd,n),i=Iw(Rd,n),a=d.useRef(null),l=ye(t,a),c=s.values.length,u=s.values.map(m=>Fw(m,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(le.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});Mw.displayName=Rd;var Pd="SliderThumb",$w=d.forwardRef((e,t)=>{const n=j_(e.__scopeSlider),[r,s]=d.useState(null),i=ye(t,l=>s(l)),a=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(E_,{...e,ref:i,index:a})}),E_=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...i}=e,a=lc(Pd,n),l=Iw(Pd,n),[c,u]=d.useState(null),h=ye(t,p=>u(p)),f=c?a.form||!!c.closest("form"):!0,m=Jf(c),y=a.values[r],b=y===void 0?0:Fw(y,a.min,a.max),x=R_(r,a.values.length),S=m==null?void 0:m[l.size],v=S?A_(S,b,l.direction):0;return d.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${v}px)`},children:[o.jsx(_d.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(le.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:me(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&o.jsx(zw,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:y},r)]})});$w.displayName=Pd;var T_="RadioBubbleInput",zw=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=d.useRef(null),i=ye(s,r),a=th(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(le.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});zw.displayName=T_;function __(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,i)=>s-i)}function Fw(e,t,n){const i=100/(n-t)*(e-t);return gi(i,[0,100])}function R_(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function P_(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function A_(e,t,n){const r=e/2,i=Sh([0,50],[0,r]);return(r-i(t)*n)*n}function I_(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function O_(e,t){if(t>0){const n=I_(e);return Math.min(...n)>=t}return!0}function Sh(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function D_(e){return(String(e).split(".")[1]||"").length}function L_(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var M_=Pw,$_=Lw,z_=Mw,F_=$w;function Kp({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...i}){const a=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(M_,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:Ce("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[o.jsx($_,{"data-slot":"slider-track",className:Ce("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(z_,{"data-slot":"slider-range",className:Ce("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(l,c)=>o.jsx(F_,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function U_({playerController:e,isHost:t,isPlaying:n,currentTime:r,totalDuration:s,onPlayPause:i,onSeek:a,onVolumeChange:l,onFullscreenToggle:c,isFullscreen:u,disabled:h=!1}){const[f,m]=d.useState([80]),[y,b]=d.useState(!1),[x,S]=d.useState(!1),[v,p]=d.useState(!1),[g,N]=d.useState(0),j=d.useRef();d.useEffect(()=>{if(e.isReady){const F=e.getVolume();m([F]),b(F===0)}},[e.isReady]),d.useEffect(()=>(x&&(j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{S(!1)},3e3)),()=>{j.current&&clearTimeout(j.current)}),[x,f]);const k=()=>{if(x){b(!y);const F=y?f[0]:0;e.setVolume(F),l(F)}else S(!0)},C=F=>{m(F);const _=F[0];b(_===0),e.setVolume(_),l(_)},E=()=>{p(!0),N(r)},R=F=>{v&&N(F[0])},I=()=>{v&&t&&(a(g),p(!1))},$=()=>{if(t){const F=Math.max(0,r-10);a(F)}},w=()=>{if(t){const F=Math.min(s,r+10);a(F)}},T=()=>y||f[0]===0?o.jsx(lN,{className:"w-5 h-5"}):f[0]<50?o.jsx(iN,{className:"w-5 h-5"}):o.jsx(aN,{className:"w-5 h-5"}),O=F=>{const _=Math.floor(F/3600),B=Math.floor(F%3600/60),P=F%60;return _>0?`${_}:${B.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`:`${B}:${P.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"w-full mb-2 relative",children:[o.jsx(Kp,{value:[v?g:r],onValueChange:R,onPointerDown:E,onPointerUp:I,max:s,step:1,disabled:h||!t,className:"w-full h-2 cursor-pointer"}),!t&&o.jsx("div",{className:"absolute inset-0 cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[o.jsx("span",{children:O(v?g:r)}),o.jsx("span",{children:O(s)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(M,{variant:"ghost",size:"sm",onClick:$,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(tN,{className:"w-5 h-5"})}),o.jsx(M,{variant:"ghost",size:"sm",onClick:i,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:t?n?"":"":"  ",children:n?o.jsx(fx,{className:"w-5 h-5"}):o.jsx(yt,{className:"w-5 h-5"})}),o.jsx(M,{variant:"ghost",size:"sm",onClick:w,disabled:h||!t,className:"hover:bg-white/10 disabled:opacity-50",title:"10 ",children:o.jsx(nN,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(M,{variant:"ghost",size:"sm",onClick:k,className:"hover:bg-white/10",title:" ",children:T()}),x&&o.jsxs("div",{className:"absolute left-12 bottom-0 bg-black/70 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center",children:[o.jsx(Kp,{value:f,onValueChange:C,max:100,step:1,className:"w-20"}),o.jsxs("span",{className:"ml-2 text-xs text-white/80 min-w-[2rem]",children:[f[0],"%"]})]})]}),!t&&o.jsxs("div",{className:"flex items-center text-xs text-white/60",children:[o.jsx(Lo,{className:"w-4 h-4 mr-1"}),"  "]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(M,{variant:"ghost",size:"sm",className:"hover:bg-white/10",title:"",children:o.jsx(Jj,{className:"w-5 h-5"})}),o.jsx(M,{variant:"ghost",size:"sm",onClick:c,className:"hover:bg-white/10",title:u?" ":"",children:u?o.jsx(qj,{className:"w-5 h-5"}):o.jsx(Xj,{className:"w-5 h-5"})})]})]})]})}var Uw=(e=>(e.PLAY="PLAY",e.PAUSE="PAUSE",e.SEEK="SEEK",e))(Uw||{});function B_(e){if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}function W_({roomId:e,onBack:t,userId:n,shouldConnect:r=!1,onUserProfileOpen:s}){var J,Y,ue,oe;const[i,a]=d.useState(!1),{isLoaded:l}=w_(!0),[c,u]=d.useState(!0),[h,f]=d.useState(!1),[m,y]=d.useState(""),[b,x]=d.useState(null),[S,v]=d.useState(null),[p,g]=d.useState([]),[N,j]=d.useState([]),[k,C]=d.useState(!1),[E,R]=d.useState(!0),[I,$]=d.useState(null),[w,T]=d.useState(null),O=d.useRef(null),F=d.useRef(!1),_=S!=null&&S.duration?parseInt(S.duration):7200,[B,P]=d.useState(!1),[W,H]=d.useState(0),q=w?B_(w):null;d.useEffect(()=>{console.log(" YouTube URL/ID :",{youtubeUrl:w,youtubeVideoId:q,extractedFrom:w})},[w,q]);const{isConnected:ee,connectionStatus:ae,connect:we,disconnect:Te,sendChatMessage:_e,sendVideoControl:ne,reconnectAttempts:pe}=y_({roomId:e,userId:n,onChatMessage:d.useCallback(U=>{j(de=>[...de,U])},[]),onParticipantsUpdate:d.useCallback(U=>{console.log(" Participants updated:",U);const de=(U.participantDtoList??[]).map(fe=>({userId:fe.userId??fe.username??"",userName:fe.userName??fe.username??"",userAvatar:fe.userAvatar??fe.profile??"",isHost:fe.isHost??fe.isOwner??!1,isOnline:fe.isOnline??!0,joinedAt:fe.joinedAt??""}));g(de);const ie=de.find(fe=>fe.userId===n),re=(ie==null?void 0:ie.isHost)||!1;console.log(" Host status check:",{currentUserId:n,currentUserParticipant:ie,newIsHost:re,allParticipants:de}),C(re)},[n]),onVideoSync:d.useCallback(U=>{Date.now()-U.timestamp<5e3&&!k&&(console.log("Video sync received:",U),A&&A.syncVideo&&A.syncVideo({action:U.videoControlAction,currentTime:U.currentTime,isPlaying:U.isPlaying}),P(U.isPlaying),H(U.currentTime))},[k]),onRoomSync:d.useCallback(U=>{var be;console.log(" Room sync received:",U);const de={id:U.id,title:U.title,contentDto:U.content,ownerId:"",ownerName:"",createdAt:"",headCount:U.participantsInfoDto.participantsCount||U.participantsInfoDto.participantCount,contentTitle:U.content.title,contentId:U.content.id};x(de),v(U.content);const re=(U.participantsInfoDto.participantDtoList||[]).map(De=>({userId:De.userId??De.username??"",userName:De.userName??De.username??"",userAvatar:De.userAvatar??De.profile??"",isHost:De.isHost??De.isOwner??!1,isOnline:De.isOnline??!0,joinedAt:De.joinedAt??""}));g(re),j(U.chatMessages??[]);const fe=re.find(De=>De.userId===n),he=(fe==null?void 0:fe.isHost)||!1;console.log(" Host status check (room sync):",{currentUserId:n,currentUserParticipant:fe,newIsHost:he,allParticipants:re}),C(he),(be=U.content)!=null&&be.youtubeUrl?(console.log(" Setting YouTube URL from content.youtubeUrl:",U.content.youtubeUrl),T(U.content.youtubeUrl)):(console.warn(" No content.youtubeUrl provided"),T(null)),R(!1)},[n]),onError:d.useCallback(U=>{$(U)},[])}),je=d.useCallback((U,de,ie)=>{console.log(" Video state changed:",{isPlaying:U,currentTime:de,action:ie,isHost:k,isConnected:ee}),P(U),H(de),k&&ee&&ne({videoControlAction:ie,currentTime:de})},[k,ee,ne]),A=b_({videoId:q||"",containerId:"youtube-player-container",isHost:k,onStateChange:je,onError:d.useCallback(U=>{console.error("YouTube Player Error:",U),$(U)},[])}),X=!!(q&&l);d.useEffect(()=>{const U=async()=>{var ie;if(F.current){console.log(" loadInitialData   ,   ");return}F.current=!0,console.log(" loadInitialData  :",{roomId:e,userId:n}),R(!0),$(null);try{const re=await Fl.joinWatchRoom(e);console.log(" Room info loaded:",re);const fe={id:re.id,title:re.title,contentDto:re.content,ownerId:"",ownerName:"",createdAt:"",headCount:re.participantsInfoDto.participantsCount||re.participantsInfoDto.participantCount,contentTitle:re.content.title,contentId:re.content.id};x(fe),v(re.content),console.log(" Initial host status set to false (will be updated via WebSocket)"),C(!1),P(!1),H(0),j([]),(ie=re.content)!=null&&ie.youtubeUrl?(console.log(" Initial: Setting YouTube URL from content.youtubeUrl:",re.content.youtubeUrl),T(re.content.youtubeUrl)):(console.warn(" Initial: No content.youtubeUrl provided"),T(null)),console.log(" loadInitialData "),r&&we()}catch(re){console.error("Failed to load room data:",re),$(re instanceof Error?re.message:"     .")}finally{R(!1),F.current=!1}},de=setTimeout(()=>{U()},0);return()=>{clearTimeout(de)}},[e,n,r]),d.useEffect(()=>()=>{Te()},[Te]),d.useEffect(()=>{var U;(U=O.current)==null||U.scrollIntoView({behavior:"smooth"})},[N]);const ce=()=>{if(console.log(" Play/Pause button clicked:",{isHost:k,isPlaying:B,isConnected:ee,canUsePlayer:X}),!k){console.log(" Not host, cannot control video");return}if(!X){console.log(" Player not ready, cannot control video");return}B?(console.log(" Pausing video"),A.pause()):(console.log(" Playing video"),A.play())},Oe=U=>{if(console.log(" Seek requested:",{isHost:k,seconds:U,isConnected:ee,canUsePlayer:X}),!k){console.log(" Not host, cannot seek video");return}if(!X){console.log(" Player not ready, cannot seek video");return}console.log(" Seeking to:",U),A.seekTo(U),ne({videoControlAction:Uw.SEEK,currentTime:U})},He=U=>{A.setVolume(U),console.log(`Volume changed to: ${U}%`)},at=()=>{a(!i),u(!!i)},z=()=>{!m.trim()||!ee||(_e(m),console.log("Sending message:",m),y(""))},Q=U=>new Date(U).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return E?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):!r&&!ee?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-medium mb-2",children:((J=b==null?void 0:b.contentDto)==null?void 0:J.title)||""}),o.jsx("p",{className:"text-white/60 mb-4",children:" ?"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-white/60 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ft,{className:"w-4 h-4"}),o.jsxs("span",{children:[(b==null?void 0:b.headCount)||0,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nd,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(M,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsxs(M,{onClick:we,className:"teal-gradient hover:opacity-80 text-black",children:[ae==="connecting"?o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ft,{className:"w-4 h-4 mr-2"})," "]})]})]})}):I?o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-400 mb-4",children:""}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"  "}),o.jsx("p",{className:"text-white/60 mb-4",children:I}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(M,{onClick:t,variant:"outline",className:"border-white/20 hover:bg-white/5",children:""}),o.jsx(M,{onClick:()=>window.location.reload(),className:"teal-gradient hover:opacity-80 text-black",children:""})]})]})}):b?o.jsxs("div",{className:"h-screen bg-[#0f0f0f] flex flex-col overflow-hidden",children:[!i&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-sm border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(M,{variant:"ghost",onClick:t,className:"hover:bg-white/10",children:[o.jsx(ao,{className:"w-5 h-5 mr-2"}),""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h1",{className:"text-lg font-medium",children:b.title}),k&&o.jsxs(dt,{variant:"secondary",className:"text-xs",children:[o.jsx(Lo,{className:"w-3 h-3 mr-1"}),""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[o.jsx("span",{children:S?S.title:(Y=b.contentDto)==null?void 0:Y.title}),S&&S.contentType&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:S.contentType})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ft,{className:"w-4 h-4"}),o.jsxs("span",{children:[p.filter(U=>U.isOnline).length,"  "]})]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[ee?o.jsx(uN,{className:"w-4 h-4 text-green-400"}):o.jsx(cN,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:ee?"text-green-400":"text-yellow-400",children:ee?"":ae==="connecting"?" ":" "}),pe>0&&o.jsxs("span",{className:"text-yellow-400",children:["(  ",pe,"/3)"]})]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(M,{variant:"ghost",onClick:()=>u(!c),className:"hover:bg-white/10",children:[o.jsx(nd,{className:"w-5 h-5"}),c?o.jsx(mr,{className:"w-4 h-4 ml-1"}):o.jsx(Xo,{className:"w-4 h-4 ml-1"})]})})]}),!ee&&o.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/30 px-4 py-2 text-sm text-yellow-300 flex-shrink-0",children:o.jsx("span",{children:ae==="connecting"?"   ...":ae==="error"?"   -   ":"   "})}),o.jsxs("div",{className:"flex-1 flex min-h-0",children:[o.jsx("div",{className:"flex-1 bg-black relative",children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"YouTube API  ..."})]})}),l&&!q&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[S&&S.thumbnailUrl?o.jsx("div",{className:"w-32 h-48 mx-auto mb-4 rounded-lg overflow-hidden",children:o.jsx("img",{src:S.thumbnailUrl,alt:S.title,className:"w-full h-full object-cover",onError:U=>{const de=U.target;de.style.display="none"}})}):o.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(yt,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-white/60 mb-2",children:S?S.title:"   ..."}),w?o.jsxs("p",{className:"text-white/40 text-sm",children:["YouTube  ID   ",o.jsx("br",{}),"URL: ",w]}):o.jsx("p",{className:"text-white/40 text-sm",children:" YouTube URL  "})]})}),o.jsx("div",{id:"youtube-player-container",className:"w-full h-full",style:{display:X?"block":"none"}}),!X&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white text-4xl font-bold",children:((oe=(ue=b==null?void 0:b.contentDto)==null?void 0:ue.title)==null?void 0:oe.charAt(0).toUpperCase())||"V"}),o.jsxs("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center group",children:[o.jsx(M,{size:"lg",onClick:ce,disabled:!k,className:`rounded-full w-20 h-20 opacity-70 group-hover:opacity-100 transition-opacity ${k?"teal-gradient hover:opacity-80 text-black":"bg-gray-600 text-white cursor-not-allowed"}`,children:B?o.jsx(fx,{className:"w-10 h-10 fill-current"}):o.jsx(yt,{className:"w-10 h-10 fill-current ml-1"})}),!k&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:[o.jsx(Lo,{className:"w-4 h-4 inline mr-1"}),"    "]})]}),o.jsx(U_,{playerController:A,isHost:k,isPlaying:B,currentTime:W,totalDuration:_,onPlayPause:ce,onSeek:Oe,onVolumeChange:He,onFullscreenToggle:at,isFullscreen:i,disabled:!ee||!X}),i&&o.jsx("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded px-3 py-2 text-sm text-white/80",children:"ESC     "})]})}),o.jsx("div",{className:`bg-[#1a1a1a] border-l border-white/10 transition-all duration-300 flex-shrink-0 ${c?"w-80":"w-0 overflow-hidden"}`,children:c&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium",children:""}),o.jsx(M,{variant:"ghost",size:"sm",onClick:()=>f(!h),className:"p-1 hover:bg-white/10",children:o.jsx(ft,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[p.filter(U=>U.isOnline).length,"  "]})]}),h&&o.jsx("div",{className:"border-b border-white/10 bg-white/5 flex-shrink-0",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:""}),o.jsx("div",{className:`space-y-2 ${p.length>5?"max-h-32 overflow-y-auto scrollbar-thin":""}`,children:p.length===0?o.jsx("div",{className:"text-xs text-white/50",children:" ."}):p.map(U=>{var de;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs($e,{className:"h-6 w-6 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50 transition-all",onClick:()=>{U.userId!==n&&s&&s(U.userId)},children:[o.jsx(ze,{src:U.userAvatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:((de=U.userName)==null?void 0:de.charAt(0))||"?"})]}),o.jsx("span",{className:`text-sm flex-1 truncate ${U.userId!==n?"cursor-pointer hover:text-[#4ecdc4] transition-colors":""}`,onClick:()=>{U.userId!==n&&s&&s(U.userId)},children:U.userName}),U.isHost&&o.jsxs(dt,{variant:"secondary",className:"text-xs flex-shrink-0",children:[o.jsx(Lo,{className:"w-3 h-3 mr-1"}),""]}),o.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${U.isOnline?"bg-green-400":"bg-gray-400"}`})]},U.userId+U.userName)})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0 scrollbar-thin",children:[E&&o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"text-xs text-white/40",children:"   ..."})}),N.map(U=>{var de,ie;return o.jsx("div",{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs($e,{className:"h-6 w-6 flex-shrink-0",children:[o.jsx(ze,{src:(de=p.find(re=>re.userId===U.senderId))==null?void 0:de.userAvatar}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-xs",children:U.senderName.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-xs font-medium",children:U.senderName}),((ie=p.find(re=>re.userId===U.senderId))==null?void 0:ie.isHost)&&o.jsx(Lo,{className:"w-3 h-3 text-yellow-400"}),o.jsx("span",{className:"text-xs text-white/40",children:Q(U.createdAt)})]}),o.jsx("p",{className:"text-sm break-words",children:U.content})]})]})},U.id)}),o.jsx("div",{ref:O})]}),o.jsx("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Me,{placeholder:ee?" ...":"  ...",value:m,onChange:U=>y(U.target.value),onKeyPress:U=>U.key==="Enter"&&z(),disabled:!ee,className:"flex-1 h-10 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4] disabled:opacity-50"}),o.jsx(M,{onClick:z,disabled:!m.trim()||!ee,className:"h-10 px-3 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:o.jsx(Af,{className:"w-4 h-4"})})]})})]})})]})]}):o.jsx("div",{className:"h-screen bg-[#0f0f0f] flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-white/60",children:"   ..."})})})}function V_({onJoinRoom:e,onCreateRoom:t,onUserProfileOpen:n,currentUserId:r}){const[s,i]=d.useState(""),[a,l]=d.useState("participants"),[c,u]=d.useState([]),[h,f]=d.useState(!0),[m,y]=d.useState(null),[b,x]=d.useState(!1),[S,v]=d.useState(null),p=async(E=!0)=>{try{E?f(!0):x(!0),y(null);const R=await Fl.getWatchRooms({query:s,sortBy:a==="participants"?"participantCount":"createdAt"});u(R)}catch(R){console.error("   :",R),y(R instanceof Error?R.message:"     .")}finally{f(!1),x(!1)}};d.useEffect(()=>{const E=setTimeout(()=>{p(!1)},300);return()=>clearTimeout(E)},[s,a]),d.useEffect(()=>{p(!0)},[]);const g=E=>{switch(E){case"movie":return"";case"tv":return"TV/";case"sports":return"";default:return""}},N=E=>{switch(E){case"movie":return"bg-blue-500/20 text-blue-400 border-blue-400/30";case"tv":return"bg-purple-500/20 text-purple-400 border-purple-400/30";case"sports":return"bg-green-500/20 text-green-400 border-green-400/30";default:return"bg-gray-500/20 text-gray-400 border-gray-400/30"}},j=c.filter(E=>E.headCount>=10),k=c,C=async E=>{if(!S){v(E.id);try{await(e==null?void 0:e(E))}finally{v(null)}}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl",children:" "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(M,{onClick:()=>p(!1),disabled:b,variant:"outline",className:"border-white/20 hover:bg-white/5",children:[b?o.jsx(Zt,{className:"w-4 h-4 animate-spin"}):o.jsx(Zr,{className:"w-4 h-4"}),""]}),o.jsxs(M,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Wt,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(fs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Me,{placeholder:" , ,  ...",value:s,onChange:E=>i(E.target.value),className:"pl-14 h-12 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(rh,{value:a,onValueChange:E=>l(E),children:[o.jsx(oh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(sh,{placeholder:""})}),o.jsxs(ih,{children:[o.jsx(Rn,{value:"participants",children:"  "}),o.jsx(Rn,{value:"latest",children:""}),o.jsx(Rn,{value:"oldest",children:" "})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-white/60",children:[o.jsxs("span",{children:[" ",k.length,"  "]}),o.jsxs(dt,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:[o.jsx(ft,{className:"w-3 h-3 mr-1"}),""]})]})]}),m&&o.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:m}),o.jsx(M,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),h&&o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"   ..."})]}),!h&&!m&&o.jsxs(o.Fragment,{children:[!s&&j.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(If,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("h2",{className:"text-xl",children:" "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(E=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-[#4ecdc4]/30 hover:border-[#4ecdc4]/50 transition-all duration-300 group relative",children:[o.jsx("div",{className:"absolute top-3 left-3 z-10",children:o.jsxs(dt,{className:"bg-[#4ecdc4] text-black",children:[o.jsx(tr,{className:"w-3 h-3 mr-1"}),""]})}),o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:E.contentDto.thumbnailUrl||"https://via.placeholder.com/400x225/1a1a1a/ffffff?text=Live+Stream",alt:E.contentDto.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(M,{onClick:()=>C(E),className:"teal-gradient hover:opacity-80 text-black",disabled:!!S,children:[S===E.id?o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ft,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/70 backdrop-blur-sm rounded-lg px-2 py-1 flex items-center gap-1",children:[o.jsx(pi,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:E.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(dt,{variant:"outline",className:N("movie"),children:g("movie")}),o.jsx("span",{className:"text-xs text-white/60",children:" "})]}),o.jsx("h3",{className:"font-medium mb-2 line-clamp-1",children:E.title}),o.jsx("p",{className:"text-sm text-white/60 mb-3 line-clamp-1",children:E.contentDto.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{className:`w-6 h-6 transition-all ${r?"cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(E.ownerId):alert("  .   .")},children:[o.jsx(ze,{src:""}),o.jsx(Fe,{children:E.ownerName[0]})]}),o.jsx("span",{className:`text-sm text-white/80 transition-colors ${r?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(E.ownerId):alert("  .   .")},children:E.ownerName})]})]})]},E.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl mb-6",children:" "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:k.map(E=>o.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[o.jsx("img",{src:E.contentDto.thumbnailUrl||"/api/placeholder/400/225",alt:E.contentDto.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(M,{size:"sm",onClick:()=>C(E),className:"teal-gradient hover:opacity-80 text-black",disabled:!!S,children:[S===E.id?o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(ft,{className:"w-4 h-4 mr-2"}),""]})}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm rounded px-2 py-1 flex items-center gap-1",children:[o.jsx(pi,{className:"w-3 h-3 text-[#4ecdc4]"}),o.jsx("span",{className:"text-xs",children:E.headCount})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(dt,{variant:"outline",className:N("movie"),children:g("movie")}),E.headCount>=10&&o.jsx(dt,{variant:"outline",className:"border-[#4ecdc4]/30 text-[#4ecdc4]",children:""})]}),o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:E.title}),o.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-1",children:E.contentDto.title}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{className:`w-5 h-5 transition-all ${r?"cursor-pointer hover:ring-2 hover:ring-[#4ecdc4]/50":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(E.ownerId):alert("  .   .")},children:[o.jsx(ze,{src:""}),o.jsx(Fe,{children:E.ownerName[0]})]}),o.jsx("span",{className:`text-xs text-white/80 truncate transition-colors ${r?"cursor-pointer hover:text-[#4ecdc4]":"cursor-default opacity-60"}`,onClick:()=>{r?n==null||n(E.ownerId):alert("  .   .")},children:E.ownerName})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60",children:[o.jsx(Zr,{className:"w-3 h-3"})," "]})]})]})]},E.id))})]}),k.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ft,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60 mb-4",children:s?"  .":r?"   .":"      ."}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[s&&o.jsx(M,{variant:"outline",onClick:()=>i(""),className:"border-white/20 hover:bg-white/5",children:"  "}),r?o.jsxs(M,{onClick:t,className:"teal-gradient hover:opacity-80 text-black",children:[o.jsx(Wt,{className:"w-4 h-4 mr-2"}),"  "]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/40 text-sm mb-2",children:"   "}),o.jsx(M,{variant:"outline",onClick:()=>window.location.reload(),className:"border-[#4ecdc4]/30 text-[#4ecdc4] hover:bg-[#4ecdc4]/10",children:""})]})]})]})]})]})})}var cc="Switch",[H_,ER]=zn(cc),[K_,G_]=H_(cc),Bw=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,y]=d.useState(null),b=ye(t,g=>y(g)),x=d.useRef(!1),S=m?h||!!m.closest("form"):!0,[v,p]=os({prop:s,defaultProp:i??!1,onChange:u,caller:cc});return o.jsxs(K_,{scope:n,checked:v,disabled:l,children:[o.jsx(le.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":Kw(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:me(e.onClick,g=>{p(N=>!N),S&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),S&&o.jsx(Hw,{control:m,bubbles:!x.current,name:r,value:c,checked:v,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Bw.displayName=cc;var Ww="SwitchThumb",Vw=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=G_(Ww,n);return o.jsx(le.span,{"data-state":Kw(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});Vw.displayName=Ww;var Y_="SwitchBubbleInput",Hw=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=ye(a,i),c=th(n),u=Jf(t);return d.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const b=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(b)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Hw.displayName=Y_;function Kw(e){return e?"checked":"unchecked"}var X_=Bw,q_=Vw;function Q_({className:e,...t}){return o.jsx(X_,{"data-slot":"switch",className:Ce("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(q_,{"data-slot":"switch-thumb",className:Ce("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Gp({isOpen:e,onClose:t,onCreateWatchParty:n,onWatchAlone:r,content:s}){const[i,a]=d.useState(!1),[l,c]=d.useState("");d.useEffect(()=>{s&&e&&c(`${s.title} `)},[s,e]);const u=()=>{const h={isPublic:i,roomName:l||`${s==null?void 0:s.title} `};n(h)};return s?o.jsx(Wl,{open:e,onOpenChange:t,children:o.jsxs(Vl,{className:"max-w-sm-compact bg-[#1a1a1a] border-white/20",children:[o.jsx(Hl,{children:o.jsxs(Kl,{className:"flex items-center space-x-2",children:[o.jsx(ft,{className:"w-5 h-5 text-[#4ecdc4]"}),o.jsx("span",{children:"  "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover",onError:h=>{const f=h.target;f.style.display="none",f.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center text-[#4ecdc4]">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                      </div>
                    `}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:s.title}),o.jsx("p",{className:"text-sm text-white/60",children:s.duration}),o.jsx("p",{className:"text-xs text-white/40 line-clamp-2",children:s.description})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(M,{onClick:r,variant:"outline",className:"w-full justify-start border-white/20 hover:bg-white/5 h-auto p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(yt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"  "})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-[#4ecdc4]/30 rounded-lg bg-[#4ecdc4]/5",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4ecdc4]/20 flex items-center justify-center",children:o.jsx(ft,{className:"w-5 h-5 text-[#4ecdc4]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[#4ecdc4]",children:" "}),o.jsx("div",{className:"text-xs text-white/60",children:"   "})]})]}),o.jsxs("div",{className:"space-y-5 px-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(At,{htmlFor:"roomName",className:"text-sm",children:" "}),o.jsx(Me,{id:"roomName",value:l,onChange:h=>c(h.target.value),placeholder:"  ",className:"h-11 px-3 text-sm bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[i?o.jsx(ul,{className:"w-4 h-4 text-green-400"}):o.jsx(dl,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"isPublic",className:"text-sm",children:i?"":""}),o.jsx("p",{className:"text-xs text-white/60",children:i?"  ":"  "})]})]}),o.jsx("div",{className:"scale-105 flex-shrink-0",children:o.jsx(Q_,{id:"isPublic",checked:i,onCheckedChange:a})})]})}),o.jsxs(M,{onClick:u,className:"w-full teal-gradient hover:opacity-80 text-black h-12 text-sm",disabled:!l.trim(),children:[o.jsx(ft,{className:"w-4 h-4 mr-2"})," "]})]})]})]})]})]})}):null}function Yp({isOpen:e,onClose:t,content:n,getPlaylists:r,createPlaylist:s,addPlaylistContents:i}){const[a,l]=d.useState(""),[c,u]=d.useState([]),[h,f]=d.useState(!1),[m,y]=d.useState(""),[b,x]=d.useState(""),[S,v]=d.useState(!0),[p,g]=d.useState([]),[N,j]=d.useState(!1);d.useEffect(()=>{e&&k()},[e]);const k=async()=>{try{j(!0);const T=await r();g(T)}catch(T){console.error("Error loading playlists:",T)}finally{j(!1)}},C=p.filter(T=>T.title.toLowerCase().includes(a.toLowerCase())||T.description.toLowerCase().includes(a.toLowerCase())),E=T=>{u(O=>O.includes(T)?O.filter(F=>F!==T):[...O,T])},R=async()=>{if(n)try{const T=c.map(O=>i(O,[n.id]));await Promise.all(T),alert(`"${n.title}"() ${c.length}  .`),u([]),l(""),t()}catch(T){console.error("   :",T),alert("     .")}},I=async()=>{if(!(!m.trim()||!n))try{const T=await s({name:m,description:b,isPublic:S});await i(T.id,[n.id]),alert(`  "${m}"()  "${n.title}"() .`),y(""),x(""),v(!0),f(!1),t()}catch(T){console.error("Error creating playlist:",T),alert("    .")}},$=()=>{u([]),l(""),f(!1),y(""),x(""),v(!0)},w=()=>{$(),t()};return n?o.jsx(Wl,{open:e,onOpenChange:w,children:o.jsxs(Vl,{className:"max-w-md mx-auto",style:{backdropFilter:"blur(12px)",background:"rgba(26, 26, 26, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx(Hl,{children:o.jsx(Kl,{className:"gradient-text",children:" "})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[o.jsxs($e,{className:"h-12 w-12 rounded-lg",children:[o.jsx(ze,{src:n.thumbnail,className:"object-cover"}),o.jsx(Fe,{children:n.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:n.title}),o.jsxs("p",{className:"text-sm text-white/60",children:[n.type==="movie"?"":n.type==="tv"?"TV":"","  ",n.year]})]})]}),h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Me,{placeholder:" ",value:m,onChange:T=>y(T.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsx(Me,{placeholder:" ()",value:b,onChange:T=>x(T.target.value),className:"h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[S?o.jsx(ul,{className:"w-4 h-4 text-green-400"}):o.jsx(dl,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:S?"":""})]}),o.jsx(M,{variant:"ghost",size:"sm",onClick:()=>v(!S),className:"text-[#4ecdc4] hover:text-[#26a69a] hover:bg-transparent",children:""})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(M,{variant:"outline",onClick:()=>f(!1),className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsx(M,{onClick:I,disabled:!m.trim(),className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),o.jsx(Me,{placeholder:" ...",value:a,onChange:T=>l(T.target.value),className:"pl-10 h-12 px-4 text-base bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(M,{variant:"outline",onClick:()=>f(!0),className:"w-full border-white/20 hover:bg-white/5",children:[o.jsx(Wt,{className:"w-4 h-4 mr-2"}),"  "]}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:N?o.jsx("div",{className:"text-center py-8 text-white/60",children:"  ..."}):C.length===0?o.jsx("div",{className:"text-center py-8 text-white/60",children:a?"  ":" "}):C.map(T=>o.jsxs("div",{onClick:()=>E(T.id),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${c.includes(T.id)?"bg-[#4ecdc4]/20 border border-[#4ecdc4]/50":"hover:bg-white/5"}`,children:[o.jsxs($e,{className:"h-10 w-10 rounded-lg",children:[o.jsx(ze,{src:T.thumbnail,className:"object-cover"}),o.jsx(Fe,{children:T.title.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium truncate",children:T.title}),T.isPublic?o.jsx(ul,{className:"w-3 h-3 text-green-400"}):o.jsx(dl,{className:"w-3 h-3 text-gray-400"})]}),o.jsxs("p",{className:"text-xs text-white/60",children:[T.contentCount," "]})]}),c.includes(T.id)&&o.jsx(Ws,{className:"w-5 h-5 text-[#4ecdc4]"})]},T.id))}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(M,{variant:"outline",onClick:w,className:"flex-1 border-white/20 hover:bg-white/5",children:""}),o.jsxs(M,{onClick:R,disabled:c.length===0,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:[" (",c.length,")"]})]})]})]})]})}):null}function Xp({isOpen:e,onClose:t,onCreateRoom:n,userId:r}){const[s,i]=d.useState(""),[a,l]=d.useState("all"),[c,u]=d.useState(null),[h,f]=d.useState(""),[m,y]=d.useState("select"),[b,x]=d.useState(!1),[S,v]=d.useState(null),[p,g]=d.useState([]),[N,j]=d.useState(!1),[k,C]=d.useState(!1),[E,R]=d.useState(),[I,$]=d.useState(!1),w=async(P=!1)=>{try{P?$(!0):j(!0),v(null);const W=await qr.getContents({type:a==="all"?void 0:a.toUpperCase(),query:s||void 0,cursor:P?E:void 0,size:20});g(P?H=>[...H,...W.data]:W.data),C(W.hasNext),R(W.nextCursor)}catch(W){console.error("  :",W),v(W instanceof Error?W.message:"    .")}finally{j(!1),$(!1)}};d.useEffect(()=>{e&&w(!1)},[e]),d.useEffect(()=>{if(!e)return;const P=setTimeout(()=>{w(!1)},300);return()=>clearTimeout(P)},[s,a,e]);const T=()=>{k&&!N&&!I&&w(!0)},O=P=>{u(P),f(`${P.title} `),y("create"),v(null)},F=async()=>{if(!c||!h.trim()){v("  .");return}x(!0),v(null);try{const P={contentId:c.id,ownerId:r,title:h.trim()},W=await Fl.createWatchRoom(P),H=`room-content-${W.id}`;localStorage.setItem(H,JSON.stringify({contentId:c.id,contentData:c,savedAt:Date.now()})),n(W),_()}catch(P){console.error("  :",P),v(P instanceof Error?P.message:"    .")}finally{x(!1)}},_=()=>{i(""),l("all"),u(null),f(""),y("select"),x(!1),v(null),g([]),j(!1),C(!1),R(void 0),$(!1),t()},B=P=>{switch(P){case"MOVIE":return"";case"TV":return"TV/";case"SPORTS":return"";default:return""}};return console.log("CreateRoomModal rendered:",{isOpen:e,step:m,selectedContent:c,loading:N}),o.jsx(Wl,{open:e,onOpenChange:_,children:o.jsxs(Vl,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-white/20 z-[9999]","aria-describedby":"create-room-modal-desc",children:[o.jsx(Hl,{children:o.jsx(Kl,{className:"text-xl",children:m==="select"?"  ":"  "})}),o.jsx("div",{id:"create-room-modal-desc",className:"sr-only",children:"       ."}),m==="select"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(fs,{className:"absolute left-3 top-3 w-4 h-4 text-white/60"}),o.jsx(Me,{placeholder:" ...",value:s,onChange:P=>i(P.target.value),className:"pl-10 bg-white/5 border-white/20 focus:border-[#4ecdc4]"})]}),o.jsxs(rh,{value:a,onValueChange:l,children:[o.jsx(oh,{className:"w-40 bg-white/5 border-white/20",children:o.jsx(sh,{placeholder:""})}),o.jsxs(ih,{children:[o.jsx(Rn,{value:"all",children:""}),o.jsx(Rn,{value:"movie",children:""}),o.jsx(Rn,{value:"tv",children:"TV/"}),o.jsx(Rn,{value:"sports",children:""})]})]})]}),N&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Zt,{className:"w-8 h-8 animate-spin text-[#4ecdc4]"}),o.jsx("span",{className:"ml-2 text-white/60",children:"  ..."})]}),S&&!N&&o.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[o.jsx("p",{className:"text-red-400 mb-2",children:S}),o.jsx(M,{onClick:()=>w(!1),variant:"outline",size:"sm",className:"border-red-400/30 text-red-400 hover:bg-red-500/10",children:" "})]}),!N&&!S&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:[p.map(P=>o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10 hover:border-[#4ecdc4]/30 transition-all duration-300 group cursor-pointer",onClick:()=>O(P),children:[o.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[o.jsx("img",{src:P.thumbnail||P.thumbnailUrl,alt:P.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:W=>{const H=W.target;H.style.display="none";const q=H.parentElement;if(q&&!q.querySelector(".image-fallback")){const ee=document.createElement("div");ee.className="image-fallback w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold",ee.textContent=P.title.charAt(0).toUpperCase(),q.appendChild(ee)}}}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsxs(M,{size:"sm",className:"teal-gradient hover:opacity-80 text-black",disabled:b,children:[o.jsx(yt,{className:"w-4 h-4 mr-1"}),""]})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium mb-1 line-clamp-1 text-sm",children:P.title}),o.jsx("p",{className:"text-xs text-white/60 mb-1",children:P.duration}),o.jsxs("div",{className:"flex items-center justify-between",children:[(P.avgRating||P.rating)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs",children:P.avgRating||P.rating})]}),o.jsx(dt,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:B(P.contentType)})]})]})]},P.id)),k&&o.jsx("div",{className:"col-span-full text-center pt-4",children:o.jsx(M,{onClick:T,disabled:I||b,variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/5",children:I?o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})})]}),!N&&!S&&p.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"  ."}),o.jsx(M,{variant:"outline",onClick:()=>{i(""),l("all")},className:"border-white/20 hover:bg-white/5",children:"  "})]})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-20 rounded overflow-hidden",children:o.jsx("img",{src:c.thumbnail||c.thumbnailUrl,alt:c.title,className:"w-full h-full object-cover",onError:P=>{const W=P.target;W.style.display="none";const H=W.parentElement;if(H&&!H.querySelector(".image-fallback")){const q=document.createElement("div");q.className="image-fallback w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-bold",q.textContent=c.title.charAt(0).toUpperCase(),H.appendChild(q)}}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-white/60 mb-2",children:c.duration}),o.jsxs("div",{className:"flex items-center gap-3",children:[(c.avgRating||c.rating)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:c.avgRating||c.rating})]}),o.jsx(dt,{variant:"outline",className:"text-xs border-white/20 text-white/60",children:B(c.contentType)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"room-title",className:"text-sm font-medium text-white/80",children:" "}),o.jsx(Me,{id:"room-title",placeholder:"  ...",value:h,onChange:P=>f(P.target.value),className:"bg-white/5 border-white/20 focus:border-[#4ecdc4]",maxLength:50}),o.jsxs("p",{className:"text-xs text-white/50",children:[h.length,"/50"]})]}),S&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsx("p",{className:"text-red-400 text-sm",children:S})}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(M,{variant:"outline",onClick:()=>{y("select"),u(null),f(""),v(null)},className:"flex-1 border-white/20 hover:bg-white/5",disabled:b,children:""}),o.jsx(M,{onClick:F,disabled:!c||!h.trim()||b,className:"flex-1 teal-gradient hover:opacity-80 text-black disabled:opacity-50",children:b?o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"})," ..."]}):" "})]})]})})]})})}var iu="rovingFocusGroup.onEntryFocus",J_={bubbles:!1,cancelable:!0},Ui="RovingFocusGroup",[Ad,Gw,Z_]=Vf(Ui),[eR,Yw]=zn(Ui,[Z_]),[tR,nR]=eR(Ui),Xw=d.forwardRef((e,t)=>o.jsx(Ad.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ad.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(rR,{...e,ref:t})})}));Xw.displayName=Ui;var rR=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),y=ye(t,m),b=Ti(i),[x,S]=os({prop:a,defaultProp:l??null,onChange:c,caller:Ui}),[v,p]=d.useState(!1),g=xt(u),N=Gw(n),j=d.useRef(!1),[k,C]=d.useState(0);return d.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(iu,g),()=>E.removeEventListener(iu,g)},[g]),o.jsx(tR,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:x,onItemFocus:d.useCallback(E=>S(E),[S]),onItemShiftTab:d.useCallback(()=>p(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:d.useCallback(()=>C(E=>E-1),[]),children:o.jsx(le.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{j.current=!0}),onFocus:me(e.onFocus,E=>{const R=!j.current;if(E.target===E.currentTarget&&R&&!v){const I=new CustomEvent(iu,J_);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const $=N().filter(_=>_.focusable),w=$.find(_=>_.active),T=$.find(_=>_.id===x),F=[w,T,...$].filter(Boolean).map(_=>_.ref.current);Jw(F,h)}}j.current=!1}),onBlur:me(e.onBlur,()=>p(!1))})})}),qw="RovingFocusGroupItem",Qw=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=_r(),u=i||c,h=nR(qw,n),f=h.currentTabStopId===u,m=Gw(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:x}=h;return d.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),o.jsx(Ad.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(le.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:me(e.onMouseDown,S=>{r?h.onItemFocus(u):S.preventDefault()}),onFocus:me(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:me(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const v=iR(S,h.orientation,h.dir);if(v!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let g=m().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")g.reverse();else if(v==="prev"||v==="next"){v==="prev"&&g.reverse();const N=g.indexOf(S.currentTarget);g=h.loop?aR(g,N+1):g.slice(N+1)}setTimeout(()=>Jw(g))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});Qw.displayName=qw;var sR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iR(e,t,n){const r=oR(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sR[r]}function Jw(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function aR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var lR=Xw,cR=Qw,uc="Tabs",[uR,TR]=zn(uc,[Yw]),Zw=Yw(),[dR,kh]=uR(uc),eb=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Ti(l),[f,m]=os({prop:r,onChange:s,defaultProp:i??"",caller:uc});return o.jsx(dR,{scope:n,baseId:_r(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(le.div,{dir:h,"data-orientation":a,...u,ref:t})})});eb.displayName=uc;var tb="TabsList",nb=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=kh(tb,n),a=Zw(n);return o.jsx(lR,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});nb.displayName=tb;var rb="TabsTrigger",sb=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=kh(rb,n),l=Zw(n),c=ab(a.baseId,r),u=lb(a.baseId,r),h=r===a.value;return o.jsx(cR,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:me(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:me(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:me(e.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});sb.displayName=rb;var ob="TabsContent",ib=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=kh(ob,n),c=ab(l.baseId,r),u=lb(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(or,{present:s||h,children:({present:m})=>o.jsx(le.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});ib.displayName=ob;function ab(e,t){return`${e}-trigger-${t}`}function lb(e,t){return`${e}-content-${t}`}var fR=eb,hR=nb,mR=sb,pR=ib;function gR({className:e,...t}){return o.jsx(fR,{"data-slot":"tabs",className:Ce("flex flex-col gap-2",e),...t})}function vR({className:e,...t}){return o.jsx(hR,{"data-slot":"tabs-list",className:Ce("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function au({className:e,...t}){return o.jsx(mR,{"data-slot":"tabs-trigger",className:Ce("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function lu({className:e,...t}){return o.jsx(pR,{"data-slot":"tabs-content",className:Ce("flex-1 outline-none",e),...t})}function xR({userId:e,currentUserId:t,onBack:n,authenticatedFetch:r,onUserProfileOpen:s,getPlaylists:i}){const[a,l]=d.useState(null),[c,u]=d.useState([]),[h,f]=d.useState([]),[m,y]=d.useState([]),[b,x]=d.useState(!1),[S,v]=d.useState(!0),[p,g]=d.useState(null),[N,j]=d.useState(!1),k=e===t,C=async()=>{try{console.log("   :",e);const T=await r(`http://localhost:8080/api/users/${e}`);if(console.log("   :",{status:T.status,statusText:T.statusText,headers:Object.fromEntries(T.headers.entries())}),!T.ok){const F=await T.text();throw console.error("   :",{status:T.status,statusText:T.statusText,errorText:F}),new Error(`   . (${T.status})`)}const O=await T.json();console.log("   :",O),l(O)}catch(T){console.error("   :",T),g(T instanceof Error?T.message:"    .")}},E=async()=>{try{const T=await r(`http://localhost:8080/api/follows/${e}/followers`);if(!T.ok)throw new Error("   .");const O=await T.json();u(O)}catch(T){console.error("   :",T)}},R=async()=>{try{const T=await r(`http://localhost:8080/api/follows/${e}/following`);if(!T.ok)throw new Error("   .");const O=await T.json();f(O)}catch(T){console.error("   :",T)}},I=async()=>{try{if(i){const T=await r(`http://localhost:8080/api/playlists?userId=${e}`);if(!T.ok)throw new Error("  .");const F=(await T.json()).filter(_=>_.isPublic);y(F)}else y([])}catch(T){console.error("  :",T),y([])}},$=async()=>{if(!(!t||k))try{const T=await r(`http://localhost:8080/api/follows/${t}/is-following/${e}`);if(!T.ok)throw new Error("   .");const O=await T.json();x(O)}catch(T){console.error("   :",T),x(!1)}},w=async()=>{if(!(!t||k)){j(!0);try{if(b){if(!(await r("http://localhost:8080/api/follows",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({followerId:t,followingId:e})})).ok)throw new Error(" .");x(!1),u(O=>O.filter(F=>F.id!==t))}else{const T=new FormData;if(T.append("followerId",t),T.append("followingId",e),!(await r("http://localhost:8080/api/follows",{method:"POST",body:T})).ok)throw new Error(" .");x(!0),a&&u(F=>[...F,{id:t,name:"",email:"",profileImage:""}])}}catch(T){console.error("  :",T),alert(T instanceof Error?T.message:"    .")}finally{j(!1)}}};return d.useEffect(()=>{e&&(async()=>{v(!0),g(null),await Promise.allSettled([C(),E(),R(),t?$():Promise.resolve(),I()]),v(!1)})()},[e,t]),S?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4ecdc4] mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:"  ..."})]})}):p?o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-400 mb-4",children:p}),o.jsx(M,{onClick:n,variant:"outline",children:""})]})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("div",{className:"glass-effect border-b border-white/10 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[o.jsxs(M,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center space-x-2 hover:bg-white/10",children:[o.jsx(ao,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("h1",{className:"text-xl font-semibold gradient-text",children:""}),o.jsx("div",{className:"w-20"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"glass-effect rounded-2xl p-8 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[o.jsxs($e,{className:"h-32 w-32",children:[o.jsx(ze,{src:a.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black text-2xl",children:a.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:a.name}),o.jsx("p",{className:"text-white/60 mb-4",children:a.email}),o.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:c.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:h.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-[#4ecdc4]",children:m.length}),o.jsx("div",{className:"text-sm text-white/60",children:""})]})]}),!k&&o.jsx(M,{onClick:w,disabled:N,className:`${b?"bg-white/10 hover:bg-red-500/20 text-white border border-white/20":"teal-gradient hover:opacity-80 text-black"} flex items-center space-x-2`,children:N?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):b?o.jsxs(o.Fragment,{children:[o.jsx(hx,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Of,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]})}),o.jsxs(gR,{defaultValue:"playlists",className:"w-full",children:[o.jsxs(vR,{className:"grid w-full grid-cols-3 bg-white/5",children:[o.jsxs(au,{value:"playlists",className:"flex items-center space-x-2",children:[o.jsx(zm,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(au,{value:"followers",className:"flex items-center space-x-2",children:[o.jsx(ft,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs(au,{value:"following",className:"flex items-center space-x-2",children:[o.jsx(Ar,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]}),o.jsxs(lu,{value:"playlists",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(T=>{var O;return o.jsxs("div",{className:"glass-effect rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[o.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-[#4ecdc4] to-[#44b3a7] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-black",children:[o.jsx("div",{className:"text-lg font-bold opacity-60",children:"MOPL"}),o.jsx("div",{className:"text-xs opacity-40 mt-1",children:""})]})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:T.name||T.title}),o.jsx("p",{className:"text-white/60 text-sm mb-2",children:T.description}),o.jsxs("p",{className:"text-[#4ecdc4] text-sm",children:[((O=T.contents)==null?void 0:O.length)||T.itemCount||0," "]})]})]},T.id)})}),m.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(zm,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(lu,{value:"followers",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(T=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{T.id&&s&&s(T.id)},children:[o.jsxs($e,{className:"h-12 w-12",children:[o.jsx(ze,{src:T.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:T.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:T.name}),o.jsx("p",{className:"text-white/60 text-sm",children:T.email})]})]},T.id))}),c.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ft,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]}),o.jsxs(lu,{value:"following",className:"mt-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(T=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center space-x-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{T.id&&s&&s(T.id)},children:[o.jsxs($e,{className:"h-12 w-12",children:[o.jsx(ze,{src:T.profileImage}),o.jsx(Fe,{className:"bg-[#4ecdc4] text-black",children:T.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:T.name}),o.jsx("p",{className:"text-white/60 text-sm",children:T.email})]})]},T.id))}),h.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ar,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),o.jsx("p",{className:"text-white/60",children:" ."})]})]})]})]})]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/60 mb-4",children:"   ."}),o.jsx(M,{onClick:n,variant:"outline",children:""})]})})}function yR(){const[e,t]=d.useState(()=>{const D=localStorage.getItem("currentPage")||"home";return console.log("   :",D),D}),[n,r]=d.useState(!1),[s,i]=d.useState(null),a=D=>{try{if(!D||typeof D!="string")return console.error("  :",D),null;const L=D.split(".");if(L.length!==3)return console.error(" JWT :",D),null;const V=JSON.parse(atob(L[1])),G=V.userId||V.sub||V.id||null;return G||console.error("  ID   :",V),G}catch(L){return console.error("JWT   :",L,"Token:",D),null}},l=D=>{try{const L=JSON.parse(atob(D.split(".")[1])),V=Date.now()/1e3,G=L.exp,Z=30,ge=G<V+Z;return console.log("  :",{currentTime:V,expTime:G,bufferTime:Z,isExpired:ge,timeUntilExpiry:G-V,payload:{...L,userId:L.userId||L.sub||L.id}}),ge}catch(L){return console.error("   :",L),!0}},c=()=>{console.log("   ."),localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),r(!1),t("home")},u=(D,L=300)=>{try{const V=JSON.parse(atob(D.split(".")[1])),G=Date.now()/1e3,Z=V.iat;return Z&&G-Z<L}catch(V){return console.error("    :",V),!1}},h=d.useRef(null),f=async()=>h.current?(console.log("    .   ."),h.current):(h.current=(async()=>{try{console.log("  ");const L=await fetch("http://localhost:8080/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(console.log("  :",{status:L.status,statusText:L.statusText,headers:Object.fromEntries(L.headers.entries())}),!L.ok){console.log(`  : ${L.status} ${L.statusText}`);try{const Z=await L.text();console.log("   :",Z)}catch(Z){console.log("   :",Z)}return L.status===401?console.log("Refresh token ."):L.status===500&&console.log("    "),null}const V=await L.text();if(console.log("   :",V),!V||V.trim()==="")return console.log("    "),null;const G=V.replace(/"/g,"");return console.log("  :",G?"  ":" "),G}catch(D){return console.error("Token refresh :",D),null}finally{h.current=null}})(),h.current),m=async(D,L={})=>{var Eh;let V=localStorage.getItem("accessToken");const G=V?a(V):null;console.log("authenticatedFetch :",{url:D,accessToken:V?" ":" ",userIdFromToken:G,currentUserId:s});const Z="http://localhost:8080",et=[`${Z}/api/auth/login`,`${Z}/api/auth/refresh`,`${Z}/api/auth/change-password`,`${Z}/api/auth/temp-password`,`${Z}/api/users`].some(ct=>{if(ct.endsWith("/api/users")){const lr=D===ct&&L.method==="POST";return console.log(" /api/users  :",{url:D,authUrl:ct,method:L.method,isMatch:lr}),lr}return D.startsWith(ct)});if(console.log("    :",{url:D,method:L.method,isAuthFree:et}),et){console.log("    API :",D);const ct={"Content-Type":"application/json",...L.headers||{}};return fetch(D,{...L,headers:ct,credentials:"include"})}if(!V)throw console.error("  .  ."),c(),new Error("  .");if(l(V)&&!u(V)){console.log("   .");const ct=await f();if(ct){localStorage.setItem("accessToken",ct),V=ct;const lr=a(ct);lr&&i(lr)}else throw c(),new Error(" .  .")}else l(V)&&u(V)&&console.log("    .");const xo={...et?{}:{Authorization:`Bearer ${V}`},...L.headers||{}};console.log(" Authorization  :",{url:D,hasToken:!!V,tokenPreview:V?`${V.substring(0,20)}...`:"no token",headers:{...xo,Authorization:xo.Authorization?`Bearer ${(Eh=xo.Authorization.split(" ")[1])==null?void 0:Eh.substring(0,20)}...`:"no auth"}});const Vi=await fetch(D,{...L,headers:xo,credentials:"include"});if(Vi.status===401){console.log("401  ,   ");const ct=await f();if(ct){localStorage.setItem("accessToken",ct),V=ct;const lr=a(ct);lr&&i(lr),console.log("  ,  ");const cb={...xo,Authorization:`Bearer ${ct}`};return fetch(D,{...L,headers:cb,credentials:"include"})}else throw console.log("  ,  "),c(),new Error(" .  .")}if(Vi.status===403)throw console.log(" ."),new Error("    .");if(Vi.status===404)throw new Error("    .");return Vi},y=async D=>{try{await m(`http://localhost:8080/api/notifications/${D}`,{method:"DELETE"})}catch(L){throw console.error("  :",L),L}},b=async()=>{try{await m("http://localhost:8080/api/notifications",{method:"DELETE"})}catch(D){throw console.error("   :",D),D}},x=async()=>{try{const D=await m("http://localhost:8080/api/dmRooms/");if(!D.ok)throw new Error("DM    ");return await D.json()}catch(D){throw console.error("DM    :",D),D}},S=D=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D),v=async D=>{try{console.log(" DM  / :",{userBId:D});const L=await m(`http://localhost:8080/api/dmRooms/userRoom?userB=${D}`);if(!L.ok){const ge=await L.text();throw console.error(" DM  / :",{status:L.status,errorText:ge}),new Error(`DM  / : ${L.status} - ${ge}`)}const V=L.headers.get("Content-Type")||"";console.log("  Content-Type:",V);let G;if(V.includes("application/json")){const ge=await L.json();console.log(" JSON :",ge),G=typeof ge=="string"?ge:ge.toString()}else G=await L.text(),console.log("  :",G);console.log(" DM  / :",{roomId:G,length:G.length});const Z=G.trim();if(!S(Z))throw console.error("   UUID :",{roomId:Z,length:Z.length,contentType:V,rawResponse:G}),new Error(`  UUID : ${Z}`);return console.log("  UUID :",Z),Z}catch(L){throw console.error("DM  / :",L),L}},p=async(D,L)=>{try{const V=new URLSearchParams;L!=null&&L.cursor&&V.append("cursor",L.cursor),L!=null&&L.size&&V.append("size",L.size.toString());const G=V.toString(),Z=await m(`http://localhost:8080/api/dm/${D}${G?"?"+G:""}`);if(!Z.ok)throw new Error("DM    ");return await Z.json()}catch(V){throw console.error("DM    :",V),V}},g=async D=>{try{const L=D&&D.trim()!==""?D.trim():"",V=new URLSearchParams;V.append("keyword",L);const G=`http://localhost:8080/api/playlists/search?${V}`;console.log(" API :",G);const Z=await m(G);if(console.log("  :",Z.status,Z.statusText),!Z.ok){let et="   ";try{const Mt=await Z.text();console.error("  :",Mt),et=`${Z.status} ${Z.statusText}: ${Mt}`}catch(Mt){console.error("   :",Mt)}throw new Error(et)}const ge=await Z.json();return console.log("  :",{url:G,status:Z.status,dataType:Array.isArray(ge)?` (: ${ge.length})`:typeof ge,data:Array.isArray(ge)&&ge.length>0?ge.slice(0,2):ge,headers:Object.fromEntries(Z.headers.entries())}),ge}catch(L){throw console.error("    :",L),L}},N=async D=>{try{const L=`http://localhost:8080/api/playlists/${D}`;console.log("   API :",L);const V=await m(L);if(console.log("  :",V.status,V.statusText),!V.ok){let Z="  ";try{const ge=await V.text();console.error("  :",ge),Z=`${V.status} ${V.statusText}: ${ge}`}catch(ge){console.error("   :",ge)}throw new Error(Z)}const G=await V.json();return console.log("   :",{url:L,status:V.status,data:G}),G}catch(L){throw console.error("   :",L),L}},j=async D=>{var L,V;try{if(!D.name||D.name.trim()==="")throw new Error("  .");if(!s)throw new Error(" .");const G={name:D.name.trim(),description:D.description||"",isPublic:D.isPublic??!0};console.log("   :",G);const Z=await m("http://localhost:8080/api/playlists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("    :",Z.status,Z.statusText),!Z.ok){let et="  ";try{const Mt=await Z.json();console.error("   :",Mt),et=Mt.message||et}catch(Mt){console.error("Error parsing error response:",Mt)}throw new Error(et)}const ge=await Z.json();return console.log("   :",{createdPlaylist:ge,createdBy:(L=ge.user)==null?void 0:L.id,createdByName:(V=ge.user)==null?void 0:V.name,currentUserId:s}),ge}catch(G){throw console.error("  :",G),G}},k=async(D,L)=>{try{if(!L||L.length===0)throw new Error("  .");const V={contentIds:L},G=await m(`http://localhost:8080/api/playlists/${D}/contents`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!G.ok){let et="   ";try{et=(await G.json()).message||et}catch(Mt){console.error("Error parsing error response:",Mt)}throw new Error(et)}let Z=null;const ge=await G.text();return ge&&(Z=JSON.parse(ge)),console.log("   :",Z),Z}catch(V){throw console.error("   :",V),V}},C=async(D,L)=>{try{if(!L||L.length===0)throw new Error("  .");const V={contentIds:L},G=await m(`http://localhost:8080/api/playlists/${D}/contents`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!G.ok){let Z="   ";try{Z=(await G.json()).message||Z}catch(ge){console.error("Error parsing error response:",ge)}throw new Error(Z)}console.log("   ")}catch(V){throw console.error("   :",V),V}},E=async D=>{try{if(!s)throw new Error(" ");console.log("   :",{userId:s,playlistId:D});const L={userId:s,playlistId:D};console.log("   :",L);const V=await m("http://localhost:8080/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(console.log("   :",V.status,V.statusText),!V.ok){let G="  ";try{G=(await V.json()).message||G}catch(Z){console.error("Error parsing error response:",Z)}throw new Error(G)}console.log("  ")}catch(L){throw console.error("  :",L),L}},R=async D=>{try{console.log("    :",{subscriptionId:D});const L=await m(`http://localhost:8080/api/subscriptions/${D}`,{method:"DELETE"});if(console.log("    :",L.status,L.statusText),!L.ok){let V="   ";try{V=(await L.json()).message||V}catch(G){console.error("Error parsing error response:",G)}throw new Error(V)}console.log("   ")}catch(L){throw console.error("   :",L),L}},[I,$]=d.useState(null),[w,T]=d.useState(null),[O,F]=d.useState(null),[_,B]=d.useState(!1),[P,W]=d.useState(!1),[H,q]=d.useState(null),[ee,ae]=d.useState(!1),[we,Te]=d.useState(!1),[_e,ne]=d.useState(null),[pe,je]=d.useState(!1),[A,X]=d.useState(null),[ce,Oe]=d.useState(!1),[He,at]=d.useState(null),[z,Q]=d.useState(!1),[J,Y]=d.useState(null),[ue,oe]=d.useState(!1),U=()=>{const D=new URL(window.location.href),L=D.pathname;if(L==="/oauth/success"){const V=D.searchParams.get("access_token");V?(de(V),window.history.replaceState({},document.title,"/"),console.log("OAuth  !   .")):(alert("   .    ."),window.history.replaceState({},document.title,"/"))}if(L==="/oauth/error"){const V=D.searchParams.get("message");if(V){const G=decodeURIComponent(V);G.includes("jwt_sessions_user_id_key")?alert(`  .

   .`):G.includes("users_name_key")?alert(`     .

     .`):G.includes("duplicate key value violates unique constraint")?alert(`   .

 .`):alert(G)}else alert("OAuth       .");window.history.replaceState({},document.title,"/")}};d.useEffect(()=>{(async()=>{U();const L=localStorage.getItem("accessToken");if(L){let V=L;const G=l(L),Z=u(L);if(console.log("   :",{isExpired:G,isRecentlyIssued:Z,shouldRefresh:G&&!Z}),G&&!Z){console.log("    ");try{const et=await f();if(et)console.log("  "),V=et;else{console.log("  ,  "),c();return}}catch(et){console.error("   :",et),c();return}}else G&&Z&&console.log("     ");const ge=a(V);ge?(i(ge),r(!0),console.log("  :",{userId:ge,tokenValid:!l(V)})):(console.log("  ID  "),localStorage.removeItem("accessToken"),c())}})()},[]),d.useEffect(()=>{if(!n)return;const L=setInterval(async()=>{const V=localStorage.getItem("accessToken");if(V&&l(V)){console.log("  ,  ");const G=await f();if(G){localStorage.setItem("accessToken",G);const Z=a(G);Z&&i(Z),console.log("  ")}else console.log("  ,  "),c()}},3e4);return()=>clearInterval(L)},[n]);const de=D=>{localStorage.setItem("accessToken",D);const L=a(D);L?(i(L),r(!0),console.log(" :",{userId:L,tokenValid:!l(D)})):(console.error("  ID  ,  "),localStorage.removeItem("accessToken"),r(!1))},ie=D=>{if(console.log("  :",D),D==="create-room"){Q(!0);return}t(D),localStorage.setItem("currentPage",D);const L={page:D,selectedPlaylistId:I,selectedContentDetail:w,selectedUserId:O,currentWatchRoomId:J};window.history.pushState(L,"",window.location.pathname),console.log("   :",L),D!=="playlist-detail"&&$(null),D!=="watch-party"&&Y(null),D!=="content-detail"&&T(null),D!=="user-profile"&&F(null)};d.useEffect(()=>{localStorage.setItem("currentPage",e)},[e]),d.useEffect(()=>{const D=V=>{if(console.log(" popstate  :",V.state),V.state){console.log("    :",V.state);const G=V.state.page||"home";["watch-party","content-detail","user-profile"].includes(G)?G==="watch-party"&&!V.state.currentWatchRoomId?(console.log("    ID    "),t("live"),localStorage.setItem("currentPage","live")):G==="content-detail"&&!V.state.selectedContentDetail?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):G==="user-profile"&&!V.state.selectedUserId?(console.log("     ID   "),t("home"),localStorage.setItem("currentPage","home")):(t(G),localStorage.setItem("currentPage",G)):(t(G),localStorage.setItem("currentPage",G)),$(V.state.selectedPlaylistId||null),T(V.state.selectedContentDetail||null),F(V.state.selectedUserId||null),Y(V.state.currentWatchRoomId||null)}else{const G=localStorage.getItem("currentPage")||"home";console.log(" localStorage  :",G),["watch-party","content-detail","user-profile"].includes(G)?(console.log("       "),t("home"),localStorage.setItem("currentPage","home")):t(G),$(null),T(null),F(null),Y(null)}};return(()=>{const V=["watch-party","content-detail","user-profile"];let G=e;V.includes(e)&&(e==="watch-party"&&!J||e==="content-detail"&&!w||e==="user-profile"&&!O)&&(G="home");const Z={page:G,selectedPlaylistId:I,selectedContentDetail:w,selectedUserId:O,currentWatchRoomId:J};G!==e&&(t(G),localStorage.setItem("currentPage",G),console.log("     :",e,"->",G)),window.history.replaceState(Z,"",window.location.pathname),console.log("    :",Z)})(),window.addEventListener("popstate",D),()=>{window.removeEventListener("popstate",D)}},[]);const re=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentPage"),i(null),r(!1),t("home")},fe=()=>{B(!_)},he=async()=>{const D=prompt("    :");if(!(D!=null&&D.trim()))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D.trim())){alert("   .");return}try{const V=await fetch("http://localhost:8080/api/auth/temp-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:D.trim()})});if(!V.ok){let G="   .";try{G=(await V.json()).message||G}catch(Z){console.error("Error parsing error response:",Z)}throw new Error(G)}alert(`${D}   .
       .`)}catch(V){console.error("   :",V),alert(V instanceof Error?V.message:"     .")}},be=D=>{$(D),t("playlist-detail"),localStorage.setItem("currentPage","playlist-detail");const L={page:"playlist-detail",selectedPlaylistId:D,selectedContentDetail:w,selectedUserId:O,currentWatchRoomId:J};window.history.pushState(L,"",window.location.pathname),console.log("     :",L)},De=()=>{$(null),t("playlist"),localStorage.setItem("currentPage","playlist");const D={page:"playlist",selectedPlaylistId:null,selectedContentDetail:w,selectedUserId:O,currentWatchRoomId:J};window.history.pushState(D,"",window.location.pathname),console.log("    :",D)},Sn=D=>{T(D),t("content-detail"),localStorage.setItem("currentPage","content-detail");const L={page:"content-detail",selectedPlaylistId:I,selectedContentDetail:D,selectedUserId:O,currentWatchRoomId:J};window.history.pushState(L,"",window.location.pathname),console.log("     :",L)},jt=()=>{let D="home";w&&(D={movie:"movies",tv:"tv",sports:"sports"}[w.type]||"home"),T(null),t(D),localStorage.setItem("currentPage",D);const L={page:D,selectedPlaylistId:I,selectedContentDetail:null,selectedUserId:O,currentWatchRoomId:J};window.history.pushState(L,"",window.location.pathname),console.log("     :",L)},Ye=D=>{const L={...D,year:D.year||2024,rating:D.rating||4};at(L),Oe(!0)},Rt=()=>{Oe(!1),at(null)},lt=D=>{X(D),je(!0)},Br=()=>{je(!1),console.log(`Starting solo viewing for: ${A==null?void 0:A.title}`),alert(`"${A==null?void 0:A.title}"  .`),X(null)},Yt=D=>{if(!A)return;const L=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating watch party with config:",D),console.log("Room code:",L),alert("Watch party creation not implemented yet"),je(!1),X(null)},xs=D=>{Y(D.id),oe(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const L={page:"watch-party",selectedPlaylistId:I,selectedContentDetail:w,selectedUserId:O,currentWatchRoomId:D.id};window.history.pushState(L,"",window.location.pathname),console.log("    :",L)},rt=D=>{Y(D.id),oe(!0),Q(!1),t("watch-party"),localStorage.setItem("currentPage","watch-party");const L={page:"watch-party",selectedPlaylistId:I,selectedContentDetail:w,selectedUserId:O,currentWatchRoomId:D.id};window.history.pushState(L,"",window.location.pathname),console.log("    :",L)},vo=()=>{Y(null),oe(!1),t("live"),localStorage.setItem("currentPage","live");const D={page:"live",selectedPlaylistId:I,selectedContentDetail:w,selectedUserId:O,currentWatchRoomId:null};window.history.pushState(D,"",window.location.pathname),console.log("    :",D)},Wn=()=>{Q(!0)},Bi=()=>{Q(!1)},dc=()=>{q(null),W(!0)},Wi=()=>{W(!1),q(null)},ys=()=>{window.headerRefreshUserProfile&&window.headerRefreshUserProfile()},Xt=D=>{F(D),t("user-profile"),localStorage.setItem("currentPage","user-profile");const L={page:"user-profile",selectedPlaylistId:I,selectedContentDetail:w,selectedUserId:D,currentWatchRoomId:J};window.history.pushState(L,"",window.location.pathname),console.log("     :",L)},Xe=()=>{s&&Xt(s)},Ke=()=>{F(null),t("home"),localStorage.setItem("currentPage","home");const D={page:"home",selectedPlaylistId:I,selectedContentDetail:w,selectedUserId:null,currentWatchRoomId:J};window.history.pushState(D,"",window.location.pathname),console.log("     :",D)},Nt=()=>{we?(Te(!1),ne(null),ae(!0)):ae(!ee)},St=()=>{ae(!1)},st=()=>{ae(!1),Te(!1),ne(null)},Ze=D=>{var L;if(console.log(" handleOpenChat :",{user:D,hasRoomId:!!D.roomId,roomIdLength:(L=D.roomId)==null?void 0:L.length,currentUserId:s,timestamp:new Date().toISOString()}),!D.roomId){console.error(" roomId    :",D);return}ne(D),ae(!1),Te(!0),console.log(" ChatRoom   :",{showChatRoom:!0,currentChatUser:D})},an=()=>{Te(!1),ne(null)},ln=()=>{Te(!1),ne(null),ae(!0)},ar=()=>{(ee||we)&&st()};if(!n)return console.log("   :",{isLoggedIn:n,accessToken:localStorage.getItem("accessToken"),userId:s}),o.jsx("div",{children:o.jsx(CS,{onLogin:de,onToggleAuth:fe,onForgotPassword:he,isRegister:_})});const Ch=()=>{switch(console.log("  :",e),e){case"curation":return o.jsx(OS,{onContentPlay:lt,onContentDetail:Sn,onAddToPlaylist:Ye,userId:s||void 0});case"movies":return o.jsx(Xc,{category:"movies",onContentPlay:lt,onContentDetail:Sn,onAddToPlaylist:Ye});case"tv":return o.jsx(Xc,{category:"tv",onContentPlay:lt,onContentDetail:Sn,onAddToPlaylist:Ye});case"sports":return o.jsx(Xc,{category:"sports",onContentPlay:lt,onContentDetail:Sn,onAddToPlaylist:Ye});case"playlist":return o.jsx(qm,{onPlaylistOpen:be,getPlaylists:g,createPlaylist:j,subscribePlaylist:E,unsubscribePlaylist:R,currentUserId:s||void 0,onUserProfileOpen:Xt});case"playlist-detail":return I?o.jsx(dk,{playlistId:I,onBack:De,onContentPlay:lt,getPlaylistById:N,addPlaylistContents:k,deletePlaylistContents:C}):o.jsx(qm,{onPlaylistOpen:be,getPlaylists:g,createPlaylist:j});case"content-detail":return w?o.jsx(jE,{content:w,onBack:jt,onPlay:lt,currentUser:s?{id:s,name:"",avatar:void 0}:void 0}):o.jsx(ca,{onPageChange:ie,onPlaylistOpen:be,onContentPlay:lt});case"watch-party":return J&&s?o.jsx(W_,{roomId:J,userId:s,onBack:vo,shouldConnect:ue,onUserProfileOpen:Xt}):o.jsx(ca,{onPageChange:ie,onPlaylistOpen:be,onContentPlay:lt});case"user-profile":return O?o.jsx(xR,{userId:O,currentUserId:s,onBack:Ke,authenticatedFetch:m,onUserProfileOpen:Xt,getPlaylists:g},O):o.jsx(ca,{onPageChange:ie,onPlaylistOpen:be,onContentPlay:lt});case"live":return n?o.jsx(V_,{onJoinRoom:xs,onCreateRoom:Wn,onUserProfileOpen:Xt,currentUserId:s}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),o.jsx("p",{className:"text-white/60 mb-6",children:"   ."}),o.jsx("button",{onClick:()=>{t("home"),localStorage.setItem("currentPage","home")},className:"teal-gradient hover:opacity-80 text-black px-6 py-3 rounded-lg font-medium",children:" "})]})});default:return o.jsx(ca,{onPageChange:ie,onPlaylistOpen:be,onContentPlay:lt})}};return e==="watch-party"||e==="content-detail"||e==="user-profile"?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[Ch(),o.jsx(Gp,{isOpen:pe,onClose:()=>je(!1),onCreateWatchParty:Yt,onWatchAlone:Br,content:A}),o.jsx(Yp,{isOpen:ce,onClose:Rt,content:He,getPlaylists:g,createPlaylist:j,addPlaylistContents:k}),o.jsx(Xp,{isOpen:z,onClose:Bi,onCreateRoom:rt,userId:s||""})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(vS,{currentPage:e,onPageChange:ie,onProfileClick:dc,onMyProfileClick:Xe,onCloseDM:st,onLogout:re,authenticatedFetch:m,userId:s,refreshUserProfile:ys,deleteNotification:y,deleteAllNotifications:b,refreshAccessToken:f}),o.jsx("main",{className:"flex-1",onClick:ar,children:Ch()}),o.jsx(xS,{}),o.jsx(NE,{isOpen:P,onClose:Wi,userId:s,targetUserId:H,authenticatedFetch:m,onUserProfileOpen:Xt,refreshUserProfile:ys,onPlaylistOpen:be}),o.jsx(kE,{isOpen:ee,onClose:St,onOpenChat:Ze,authenticatedFetch:m,currentUserId:s,getDmRooms:x,getOrCreateDmRoom:v}),o.jsx(x_,{isOpen:we,onClose:an,onBack:ln,user:_e,currentUserId:s,getDmMessages:p}),o.jsx(Gp,{isOpen:pe,onClose:()=>je(!1),onCreateWatchParty:Yt,onWatchAlone:Br,content:A}),o.jsx(Yp,{isOpen:ce,onClose:Rt,content:He,getPlaylists:g,createPlaylist:j,addPlaylistContents:k}),o.jsx(Xp,{isOpen:z,onClose:Bi,onCreateRoom:rt,userId:s||""}),o.jsx(M,{size:"lg",onClick:Nt,className:`fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg z-40 transition-all duration-200 ${ee||we?"bg-[#26a69a] hover:bg-[#4ecdc4] text-white":"teal-gradient hover:opacity-80 text-black"}`,children:o.jsx(nd,{className:"w-6 h-6"})})]})}cu.createRoot(document.getElementById("root")).render(o.jsx(Vn.StrictMode,{children:o.jsx(yR,{})}));
